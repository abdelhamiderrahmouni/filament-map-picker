var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// node_modules/leaflet/dist/leaflet-src.js
var require_leaflet_src = __commonJS({
  "node_modules/leaflet/dist/leaflet-src.js"(exports, module) {
    (function(global2, factory) {
      typeof exports === "object" && typeof module !== "undefined" ? factory(exports) : typeof define === "function" && define.amd ? define(["exports"], factory) : (global2 = typeof globalThis !== "undefined" ? globalThis : global2 || self, factory(global2.leaflet = {}));
    })(exports, function(exports2) {
      "use strict";
      var version = "1.9.4";
      function extend(dest) {
        var i, j, len, src;
        for (j = 1, len = arguments.length; j < len; j++) {
          src = arguments[j];
          for (i in src) {
            dest[i] = src[i];
          }
        }
        return dest;
      }
      var create$2 = Object.create || /* @__PURE__ */ function() {
        function F() {
        }
        return function(proto) {
          F.prototype = proto;
          return new F();
        };
      }();
      function bind(fn, obj) {
        var slice = Array.prototype.slice;
        if (fn.bind) {
          return fn.bind.apply(fn, slice.call(arguments, 1));
        }
        var args = slice.call(arguments, 2);
        return function() {
          return fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);
        };
      }
      var lastId = 0;
      function stamp(obj) {
        if (!("_leaflet_id" in obj)) {
          obj["_leaflet_id"] = ++lastId;
        }
        return obj._leaflet_id;
      }
      function throttle(fn, time, context) {
        var lock, args, wrapperFn, later;
        later = function() {
          lock = false;
          if (args) {
            wrapperFn.apply(context, args);
            args = false;
          }
        };
        wrapperFn = function() {
          if (lock) {
            args = arguments;
          } else {
            fn.apply(context, arguments);
            setTimeout(later, time);
            lock = true;
          }
        };
        return wrapperFn;
      }
      function wrapNum(x, range, includeMax) {
        var max = range[1], min = range[0], d = max - min;
        return x === max && includeMax ? x : ((x - min) % d + d) % d + min;
      }
      function falseFn() {
        return false;
      }
      function formatNum(num, precision) {
        if (precision === false) {
          return num;
        }
        var pow = Math.pow(10, precision === void 0 ? 6 : precision);
        return Math.round(num * pow) / pow;
      }
      function trim(str) {
        return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, "");
      }
      function splitWords(str) {
        return trim(str).split(/\s+/);
      }
      function setOptions(obj, options) {
        if (!Object.prototype.hasOwnProperty.call(obj, "options")) {
          obj.options = obj.options ? create$2(obj.options) : {};
        }
        for (var i in options) {
          obj.options[i] = options[i];
        }
        return obj.options;
      }
      function getParamString(obj, existingUrl, uppercase) {
        var params = [];
        for (var i in obj) {
          params.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + "=" + encodeURIComponent(obj[i]));
        }
        return (!existingUrl || existingUrl.indexOf("?") === -1 ? "?" : "&") + params.join("&");
      }
      var templateRe = /\{ *([\w_ -]+) *\}/g;
      function template(str, data) {
        return str.replace(templateRe, function(str2, key) {
          var value = data[key];
          if (value === void 0) {
            throw new Error("No value provided for variable " + str2);
          } else if (typeof value === "function") {
            value = value(data);
          }
          return value;
        });
      }
      var isArray = Array.isArray || function(obj) {
        return Object.prototype.toString.call(obj) === "[object Array]";
      };
      function indexOf(array, el) {
        for (var i = 0; i < array.length; i++) {
          if (array[i] === el) {
            return i;
          }
        }
        return -1;
      }
      var emptyImageUrl = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";
      function getPrefixed(name) {
        return window["webkit" + name] || window["moz" + name] || window["ms" + name];
      }
      var lastTime = 0;
      function timeoutDefer(fn) {
        var time = +/* @__PURE__ */ new Date(), timeToCall = Math.max(0, 16 - (time - lastTime));
        lastTime = time + timeToCall;
        return window.setTimeout(fn, timeToCall);
      }
      var requestFn = window.requestAnimationFrame || getPrefixed("RequestAnimationFrame") || timeoutDefer;
      var cancelFn = window.cancelAnimationFrame || getPrefixed("CancelAnimationFrame") || getPrefixed("CancelRequestAnimationFrame") || function(id) {
        window.clearTimeout(id);
      };
      function requestAnimFrame(fn, context, immediate) {
        if (immediate && requestFn === timeoutDefer) {
          fn.call(context);
        } else {
          return requestFn.call(window, bind(fn, context));
        }
      }
      function cancelAnimFrame(id) {
        if (id) {
          cancelFn.call(window, id);
        }
      }
      var Util = {
        __proto__: null,
        extend,
        create: create$2,
        bind,
        get lastId() {
          return lastId;
        },
        stamp,
        throttle,
        wrapNum,
        falseFn,
        formatNum,
        trim,
        splitWords,
        setOptions,
        getParamString,
        template,
        isArray,
        indexOf,
        emptyImageUrl,
        requestFn,
        cancelFn,
        requestAnimFrame,
        cancelAnimFrame
      };
      function Class() {
      }
      Class.extend = function(props) {
        var NewClass = function() {
          setOptions(this);
          if (this.initialize) {
            this.initialize.apply(this, arguments);
          }
          this.callInitHooks();
        };
        var parentProto = NewClass.__super__ = this.prototype;
        var proto = create$2(parentProto);
        proto.constructor = NewClass;
        NewClass.prototype = proto;
        for (var i in this) {
          if (Object.prototype.hasOwnProperty.call(this, i) && i !== "prototype" && i !== "__super__") {
            NewClass[i] = this[i];
          }
        }
        if (props.statics) {
          extend(NewClass, props.statics);
        }
        if (props.includes) {
          checkDeprecatedMixinEvents(props.includes);
          extend.apply(null, [proto].concat(props.includes));
        }
        extend(proto, props);
        delete proto.statics;
        delete proto.includes;
        if (proto.options) {
          proto.options = parentProto.options ? create$2(parentProto.options) : {};
          extend(proto.options, props.options);
        }
        proto._initHooks = [];
        proto.callInitHooks = function() {
          if (this._initHooksCalled) {
            return;
          }
          if (parentProto.callInitHooks) {
            parentProto.callInitHooks.call(this);
          }
          this._initHooksCalled = true;
          for (var i2 = 0, len = proto._initHooks.length; i2 < len; i2++) {
            proto._initHooks[i2].call(this);
          }
        };
        return NewClass;
      };
      Class.include = function(props) {
        var parentOptions = this.prototype.options;
        extend(this.prototype, props);
        if (props.options) {
          this.prototype.options = parentOptions;
          this.mergeOptions(props.options);
        }
        return this;
      };
      Class.mergeOptions = function(options) {
        extend(this.prototype.options, options);
        return this;
      };
      Class.addInitHook = function(fn) {
        var args = Array.prototype.slice.call(arguments, 1);
        var init = typeof fn === "function" ? fn : function() {
          this[fn].apply(this, args);
        };
        this.prototype._initHooks = this.prototype._initHooks || [];
        this.prototype._initHooks.push(init);
        return this;
      };
      function checkDeprecatedMixinEvents(includes) {
        if (typeof L === "undefined" || !L || !L.Mixin) {
          return;
        }
        includes = isArray(includes) ? includes : [includes];
        for (var i = 0; i < includes.length; i++) {
          if (includes[i] === L.Mixin.Events) {
            console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", new Error().stack);
          }
        }
      }
      var Events = {
        /* @method on(type: String, fn: Function, context?: Object): this
         * Adds a listener function (`fn`) to a particular event type of the object. You can optionally specify the context of the listener (object the this keyword will point to). You can also pass several space-separated types (e.g. `'click dblclick'`).
         *
         * @alternative
         * @method on(eventMap: Object): this
         * Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`
         */
        on: function(types, fn, context) {
          if (typeof types === "object") {
            for (var type in types) {
              this._on(type, types[type], fn);
            }
          } else {
            types = splitWords(types);
            for (var i = 0, len = types.length; i < len; i++) {
              this._on(types[i], fn, context);
            }
          }
          return this;
        },
        /* @method off(type: String, fn?: Function, context?: Object): this
         * Removes a previously added listener function. If no function is specified, it will remove all the listeners of that particular event from the object. Note that if you passed a custom context to `on`, you must pass the same context to `off` in order to remove the listener.
         *
         * @alternative
         * @method off(eventMap: Object): this
         * Removes a set of type/listener pairs.
         *
         * @alternative
         * @method off: this
         * Removes all listeners to all events on the object. This includes implicitly attached events.
         */
        off: function(types, fn, context) {
          if (!arguments.length) {
            delete this._events;
          } else if (typeof types === "object") {
            for (var type in types) {
              this._off(type, types[type], fn);
            }
          } else {
            types = splitWords(types);
            var removeAll = arguments.length === 1;
            for (var i = 0, len = types.length; i < len; i++) {
              if (removeAll) {
                this._off(types[i]);
              } else {
                this._off(types[i], fn, context);
              }
            }
          }
          return this;
        },
        // attach listener (without syntactic sugar now)
        _on: function(type, fn, context, _once) {
          if (typeof fn !== "function") {
            console.warn("wrong listener type: " + typeof fn);
            return;
          }
          if (this._listens(type, fn, context) !== false) {
            return;
          }
          if (context === this) {
            context = void 0;
          }
          var newListener = { fn, ctx: context };
          if (_once) {
            newListener.once = true;
          }
          this._events = this._events || {};
          this._events[type] = this._events[type] || [];
          this._events[type].push(newListener);
        },
        _off: function(type, fn, context) {
          var listeners, i, len;
          if (!this._events) {
            return;
          }
          listeners = this._events[type];
          if (!listeners) {
            return;
          }
          if (arguments.length === 1) {
            if (this._firingCount) {
              for (i = 0, len = listeners.length; i < len; i++) {
                listeners[i].fn = falseFn;
              }
            }
            delete this._events[type];
            return;
          }
          if (typeof fn !== "function") {
            console.warn("wrong listener type: " + typeof fn);
            return;
          }
          var index2 = this._listens(type, fn, context);
          if (index2 !== false) {
            var listener = listeners[index2];
            if (this._firingCount) {
              listener.fn = falseFn;
              this._events[type] = listeners = listeners.slice();
            }
            listeners.splice(index2, 1);
          }
        },
        // @method fire(type: String, data?: Object, propagate?: Boolean): this
        // Fires an event of the specified type. You can optionally provide a data
        // object — the first argument of the listener function will contain its
        // properties. The event can optionally be propagated to event parents.
        fire: function(type, data, propagate) {
          if (!this.listens(type, propagate)) {
            return this;
          }
          var event = extend({}, data, {
            type,
            target: this,
            sourceTarget: data && data.sourceTarget || this
          });
          if (this._events) {
            var listeners = this._events[type];
            if (listeners) {
              this._firingCount = this._firingCount + 1 || 1;
              for (var i = 0, len = listeners.length; i < len; i++) {
                var l = listeners[i];
                var fn = l.fn;
                if (l.once) {
                  this.off(type, fn, l.ctx);
                }
                fn.call(l.ctx || this, event);
              }
              this._firingCount--;
            }
          }
          if (propagate) {
            this._propagateEvent(event);
          }
          return this;
        },
        // @method listens(type: String, propagate?: Boolean): Boolean
        // @method listens(type: String, fn: Function, context?: Object, propagate?: Boolean): Boolean
        // Returns `true` if a particular event type has any listeners attached to it.
        // The verification can optionally be propagated, it will return `true` if parents have the listener attached to it.
        listens: function(type, fn, context, propagate) {
          if (typeof type !== "string") {
            console.warn('"string" type argument expected');
          }
          var _fn = fn;
          if (typeof fn !== "function") {
            propagate = !!fn;
            _fn = void 0;
            context = void 0;
          }
          var listeners = this._events && this._events[type];
          if (listeners && listeners.length) {
            if (this._listens(type, _fn, context) !== false) {
              return true;
            }
          }
          if (propagate) {
            for (var id in this._eventParents) {
              if (this._eventParents[id].listens(type, fn, context, propagate)) {
                return true;
              }
            }
          }
          return false;
        },
        // returns the index (number) or false
        _listens: function(type, fn, context) {
          if (!this._events) {
            return false;
          }
          var listeners = this._events[type] || [];
          if (!fn) {
            return !!listeners.length;
          }
          if (context === this) {
            context = void 0;
          }
          for (var i = 0, len = listeners.length; i < len; i++) {
            if (listeners[i].fn === fn && listeners[i].ctx === context) {
              return i;
            }
          }
          return false;
        },
        // @method once(…): this
        // Behaves as [`on(…)`](#evented-on), except the listener will only get fired once and then removed.
        once: function(types, fn, context) {
          if (typeof types === "object") {
            for (var type in types) {
              this._on(type, types[type], fn, true);
            }
          } else {
            types = splitWords(types);
            for (var i = 0, len = types.length; i < len; i++) {
              this._on(types[i], fn, context, true);
            }
          }
          return this;
        },
        // @method addEventParent(obj: Evented): this
        // Adds an event parent - an `Evented` that will receive propagated events
        addEventParent: function(obj) {
          this._eventParents = this._eventParents || {};
          this._eventParents[stamp(obj)] = obj;
          return this;
        },
        // @method removeEventParent(obj: Evented): this
        // Removes an event parent, so it will stop receiving propagated events
        removeEventParent: function(obj) {
          if (this._eventParents) {
            delete this._eventParents[stamp(obj)];
          }
          return this;
        },
        _propagateEvent: function(e) {
          for (var id in this._eventParents) {
            this._eventParents[id].fire(e.type, extend({
              layer: e.target,
              propagatedFrom: e.target
            }, e), true);
          }
        }
      };
      Events.addEventListener = Events.on;
      Events.removeEventListener = Events.clearAllEventListeners = Events.off;
      Events.addOneTimeEventListener = Events.once;
      Events.fireEvent = Events.fire;
      Events.hasEventListeners = Events.listens;
      var Evented = Class.extend(Events);
      function Point(x, y, round) {
        this.x = round ? Math.round(x) : x;
        this.y = round ? Math.round(y) : y;
      }
      var trunc = Math.trunc || function(v) {
        return v > 0 ? Math.floor(v) : Math.ceil(v);
      };
      Point.prototype = {
        // @method clone(): Point
        // Returns a copy of the current point.
        clone: function() {
          return new Point(this.x, this.y);
        },
        // @method add(otherPoint: Point): Point
        // Returns the result of addition of the current and the given points.
        add: function(point) {
          return this.clone()._add(toPoint(point));
        },
        _add: function(point) {
          this.x += point.x;
          this.y += point.y;
          return this;
        },
        // @method subtract(otherPoint: Point): Point
        // Returns the result of subtraction of the given point from the current.
        subtract: function(point) {
          return this.clone()._subtract(toPoint(point));
        },
        _subtract: function(point) {
          this.x -= point.x;
          this.y -= point.y;
          return this;
        },
        // @method divideBy(num: Number): Point
        // Returns the result of division of the current point by the given number.
        divideBy: function(num) {
          return this.clone()._divideBy(num);
        },
        _divideBy: function(num) {
          this.x /= num;
          this.y /= num;
          return this;
        },
        // @method multiplyBy(num: Number): Point
        // Returns the result of multiplication of the current point by the given number.
        multiplyBy: function(num) {
          return this.clone()._multiplyBy(num);
        },
        _multiplyBy: function(num) {
          this.x *= num;
          this.y *= num;
          return this;
        },
        // @method scaleBy(scale: Point): Point
        // Multiply each coordinate of the current point by each coordinate of
        // `scale`. In linear algebra terms, multiply the point by the
        // [scaling matrix](https://en.wikipedia.org/wiki/Scaling_%28geometry%29#Matrix_representation)
        // defined by `scale`.
        scaleBy: function(point) {
          return new Point(this.x * point.x, this.y * point.y);
        },
        // @method unscaleBy(scale: Point): Point
        // Inverse of `scaleBy`. Divide each coordinate of the current point by
        // each coordinate of `scale`.
        unscaleBy: function(point) {
          return new Point(this.x / point.x, this.y / point.y);
        },
        // @method round(): Point
        // Returns a copy of the current point with rounded coordinates.
        round: function() {
          return this.clone()._round();
        },
        _round: function() {
          this.x = Math.round(this.x);
          this.y = Math.round(this.y);
          return this;
        },
        // @method floor(): Point
        // Returns a copy of the current point with floored coordinates (rounded down).
        floor: function() {
          return this.clone()._floor();
        },
        _floor: function() {
          this.x = Math.floor(this.x);
          this.y = Math.floor(this.y);
          return this;
        },
        // @method ceil(): Point
        // Returns a copy of the current point with ceiled coordinates (rounded up).
        ceil: function() {
          return this.clone()._ceil();
        },
        _ceil: function() {
          this.x = Math.ceil(this.x);
          this.y = Math.ceil(this.y);
          return this;
        },
        // @method trunc(): Point
        // Returns a copy of the current point with truncated coordinates (rounded towards zero).
        trunc: function() {
          return this.clone()._trunc();
        },
        _trunc: function() {
          this.x = trunc(this.x);
          this.y = trunc(this.y);
          return this;
        },
        // @method distanceTo(otherPoint: Point): Number
        // Returns the cartesian distance between the current and the given points.
        distanceTo: function(point) {
          point = toPoint(point);
          var x = point.x - this.x, y = point.y - this.y;
          return Math.sqrt(x * x + y * y);
        },
        // @method equals(otherPoint: Point): Boolean
        // Returns `true` if the given point has the same coordinates.
        equals: function(point) {
          point = toPoint(point);
          return point.x === this.x && point.y === this.y;
        },
        // @method contains(otherPoint: Point): Boolean
        // Returns `true` if both coordinates of the given point are less than the corresponding current point coordinates (in absolute values).
        contains: function(point) {
          point = toPoint(point);
          return Math.abs(point.x) <= Math.abs(this.x) && Math.abs(point.y) <= Math.abs(this.y);
        },
        // @method toString(): String
        // Returns a string representation of the point for debugging purposes.
        toString: function() {
          return "Point(" + formatNum(this.x) + ", " + formatNum(this.y) + ")";
        }
      };
      function toPoint(x, y, round) {
        if (x instanceof Point) {
          return x;
        }
        if (isArray(x)) {
          return new Point(x[0], x[1]);
        }
        if (x === void 0 || x === null) {
          return x;
        }
        if (typeof x === "object" && "x" in x && "y" in x) {
          return new Point(x.x, x.y);
        }
        return new Point(x, y, round);
      }
      function Bounds(a, b) {
        if (!a) {
          return;
        }
        var points = b ? [a, b] : a;
        for (var i = 0, len = points.length; i < len; i++) {
          this.extend(points[i]);
        }
      }
      Bounds.prototype = {
        // @method extend(point: Point): this
        // Extends the bounds to contain the given point.
        // @alternative
        // @method extend(otherBounds: Bounds): this
        // Extend the bounds to contain the given bounds
        extend: function(obj) {
          var min2, max2;
          if (!obj) {
            return this;
          }
          if (obj instanceof Point || typeof obj[0] === "number" || "x" in obj) {
            min2 = max2 = toPoint(obj);
          } else {
            obj = toBounds(obj);
            min2 = obj.min;
            max2 = obj.max;
            if (!min2 || !max2) {
              return this;
            }
          }
          if (!this.min && !this.max) {
            this.min = min2.clone();
            this.max = max2.clone();
          } else {
            this.min.x = Math.min(min2.x, this.min.x);
            this.max.x = Math.max(max2.x, this.max.x);
            this.min.y = Math.min(min2.y, this.min.y);
            this.max.y = Math.max(max2.y, this.max.y);
          }
          return this;
        },
        // @method getCenter(round?: Boolean): Point
        // Returns the center point of the bounds.
        getCenter: function(round) {
          return toPoint(
            (this.min.x + this.max.x) / 2,
            (this.min.y + this.max.y) / 2,
            round
          );
        },
        // @method getBottomLeft(): Point
        // Returns the bottom-left point of the bounds.
        getBottomLeft: function() {
          return toPoint(this.min.x, this.max.y);
        },
        // @method getTopRight(): Point
        // Returns the top-right point of the bounds.
        getTopRight: function() {
          return toPoint(this.max.x, this.min.y);
        },
        // @method getTopLeft(): Point
        // Returns the top-left point of the bounds (i.e. [`this.min`](#bounds-min)).
        getTopLeft: function() {
          return this.min;
        },
        // @method getBottomRight(): Point
        // Returns the bottom-right point of the bounds (i.e. [`this.max`](#bounds-max)).
        getBottomRight: function() {
          return this.max;
        },
        // @method getSize(): Point
        // Returns the size of the given bounds
        getSize: function() {
          return this.max.subtract(this.min);
        },
        // @method contains(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle contains the given one.
        // @alternative
        // @method contains(point: Point): Boolean
        // Returns `true` if the rectangle contains the given point.
        contains: function(obj) {
          var min, max;
          if (typeof obj[0] === "number" || obj instanceof Point) {
            obj = toPoint(obj);
          } else {
            obj = toBounds(obj);
          }
          if (obj instanceof Bounds) {
            min = obj.min;
            max = obj.max;
          } else {
            min = max = obj;
          }
          return min.x >= this.min.x && max.x <= this.max.x && min.y >= this.min.y && max.y <= this.max.y;
        },
        // @method intersects(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle intersects the given bounds. Two bounds
        // intersect if they have at least one point in common.
        intersects: function(bounds) {
          bounds = toBounds(bounds);
          var min = this.min, max = this.max, min2 = bounds.min, max2 = bounds.max, xIntersects = max2.x >= min.x && min2.x <= max.x, yIntersects = max2.y >= min.y && min2.y <= max.y;
          return xIntersects && yIntersects;
        },
        // @method overlaps(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle overlaps the given bounds. Two bounds
        // overlap if their intersection is an area.
        overlaps: function(bounds) {
          bounds = toBounds(bounds);
          var min = this.min, max = this.max, min2 = bounds.min, max2 = bounds.max, xOverlaps = max2.x > min.x && min2.x < max.x, yOverlaps = max2.y > min.y && min2.y < max.y;
          return xOverlaps && yOverlaps;
        },
        // @method isValid(): Boolean
        // Returns `true` if the bounds are properly initialized.
        isValid: function() {
          return !!(this.min && this.max);
        },
        // @method pad(bufferRatio: Number): Bounds
        // Returns bounds created by extending or retracting the current bounds by a given ratio in each direction.
        // For example, a ratio of 0.5 extends the bounds by 50% in each direction.
        // Negative values will retract the bounds.
        pad: function(bufferRatio) {
          var min = this.min, max = this.max, heightBuffer = Math.abs(min.x - max.x) * bufferRatio, widthBuffer = Math.abs(min.y - max.y) * bufferRatio;
          return toBounds(
            toPoint(min.x - heightBuffer, min.y - widthBuffer),
            toPoint(max.x + heightBuffer, max.y + widthBuffer)
          );
        },
        // @method equals(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle is equivalent to the given bounds.
        equals: function(bounds) {
          if (!bounds) {
            return false;
          }
          bounds = toBounds(bounds);
          return this.min.equals(bounds.getTopLeft()) && this.max.equals(bounds.getBottomRight());
        }
      };
      function toBounds(a, b) {
        if (!a || a instanceof Bounds) {
          return a;
        }
        return new Bounds(a, b);
      }
      function LatLngBounds(corner1, corner2) {
        if (!corner1) {
          return;
        }
        var latlngs = corner2 ? [corner1, corner2] : corner1;
        for (var i = 0, len = latlngs.length; i < len; i++) {
          this.extend(latlngs[i]);
        }
      }
      LatLngBounds.prototype = {
        // @method extend(latlng: LatLng): this
        // Extend the bounds to contain the given point
        // @alternative
        // @method extend(otherBounds: LatLngBounds): this
        // Extend the bounds to contain the given bounds
        extend: function(obj) {
          var sw = this._southWest, ne = this._northEast, sw2, ne2;
          if (obj instanceof LatLng2) {
            sw2 = obj;
            ne2 = obj;
          } else if (obj instanceof LatLngBounds) {
            sw2 = obj._southWest;
            ne2 = obj._northEast;
            if (!sw2 || !ne2) {
              return this;
            }
          } else {
            return obj ? this.extend(toLatLng(obj) || toLatLngBounds(obj)) : this;
          }
          if (!sw && !ne) {
            this._southWest = new LatLng2(sw2.lat, sw2.lng);
            this._northEast = new LatLng2(ne2.lat, ne2.lng);
          } else {
            sw.lat = Math.min(sw2.lat, sw.lat);
            sw.lng = Math.min(sw2.lng, sw.lng);
            ne.lat = Math.max(ne2.lat, ne.lat);
            ne.lng = Math.max(ne2.lng, ne.lng);
          }
          return this;
        },
        // @method pad(bufferRatio: Number): LatLngBounds
        // Returns bounds created by extending or retracting the current bounds by a given ratio in each direction.
        // For example, a ratio of 0.5 extends the bounds by 50% in each direction.
        // Negative values will retract the bounds.
        pad: function(bufferRatio) {
          var sw = this._southWest, ne = this._northEast, heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio, widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;
          return new LatLngBounds(
            new LatLng2(sw.lat - heightBuffer, sw.lng - widthBuffer),
            new LatLng2(ne.lat + heightBuffer, ne.lng + widthBuffer)
          );
        },
        // @method getCenter(): LatLng
        // Returns the center point of the bounds.
        getCenter: function() {
          return new LatLng2(
            (this._southWest.lat + this._northEast.lat) / 2,
            (this._southWest.lng + this._northEast.lng) / 2
          );
        },
        // @method getSouthWest(): LatLng
        // Returns the south-west point of the bounds.
        getSouthWest: function() {
          return this._southWest;
        },
        // @method getNorthEast(): LatLng
        // Returns the north-east point of the bounds.
        getNorthEast: function() {
          return this._northEast;
        },
        // @method getNorthWest(): LatLng
        // Returns the north-west point of the bounds.
        getNorthWest: function() {
          return new LatLng2(this.getNorth(), this.getWest());
        },
        // @method getSouthEast(): LatLng
        // Returns the south-east point of the bounds.
        getSouthEast: function() {
          return new LatLng2(this.getSouth(), this.getEast());
        },
        // @method getWest(): Number
        // Returns the west longitude of the bounds
        getWest: function() {
          return this._southWest.lng;
        },
        // @method getSouth(): Number
        // Returns the south latitude of the bounds
        getSouth: function() {
          return this._southWest.lat;
        },
        // @method getEast(): Number
        // Returns the east longitude of the bounds
        getEast: function() {
          return this._northEast.lng;
        },
        // @method getNorth(): Number
        // Returns the north latitude of the bounds
        getNorth: function() {
          return this._northEast.lat;
        },
        // @method contains(otherBounds: LatLngBounds): Boolean
        // Returns `true` if the rectangle contains the given one.
        // @alternative
        // @method contains (latlng: LatLng): Boolean
        // Returns `true` if the rectangle contains the given point.
        contains: function(obj) {
          if (typeof obj[0] === "number" || obj instanceof LatLng2 || "lat" in obj) {
            obj = toLatLng(obj);
          } else {
            obj = toLatLngBounds(obj);
          }
          var sw = this._southWest, ne = this._northEast, sw2, ne2;
          if (obj instanceof LatLngBounds) {
            sw2 = obj.getSouthWest();
            ne2 = obj.getNorthEast();
          } else {
            sw2 = ne2 = obj;
          }
          return sw2.lat >= sw.lat && ne2.lat <= ne.lat && sw2.lng >= sw.lng && ne2.lng <= ne.lng;
        },
        // @method intersects(otherBounds: LatLngBounds): Boolean
        // Returns `true` if the rectangle intersects the given bounds. Two bounds intersect if they have at least one point in common.
        intersects: function(bounds) {
          bounds = toLatLngBounds(bounds);
          var sw = this._southWest, ne = this._northEast, sw2 = bounds.getSouthWest(), ne2 = bounds.getNorthEast(), latIntersects = ne2.lat >= sw.lat && sw2.lat <= ne.lat, lngIntersects = ne2.lng >= sw.lng && sw2.lng <= ne.lng;
          return latIntersects && lngIntersects;
        },
        // @method overlaps(otherBounds: LatLngBounds): Boolean
        // Returns `true` if the rectangle overlaps the given bounds. Two bounds overlap if their intersection is an area.
        overlaps: function(bounds) {
          bounds = toLatLngBounds(bounds);
          var sw = this._southWest, ne = this._northEast, sw2 = bounds.getSouthWest(), ne2 = bounds.getNorthEast(), latOverlaps = ne2.lat > sw.lat && sw2.lat < ne.lat, lngOverlaps = ne2.lng > sw.lng && sw2.lng < ne.lng;
          return latOverlaps && lngOverlaps;
        },
        // @method toBBoxString(): String
        // Returns a string with bounding box coordinates in a 'southwest_lng,southwest_lat,northeast_lng,northeast_lat' format. Useful for sending requests to web services that return geo data.
        toBBoxString: function() {
          return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",");
        },
        // @method equals(otherBounds: LatLngBounds, maxMargin?: Number): Boolean
        // Returns `true` if the rectangle is equivalent (within a small margin of error) to the given bounds. The margin of error can be overridden by setting `maxMargin` to a small number.
        equals: function(bounds, maxMargin) {
          if (!bounds) {
            return false;
          }
          bounds = toLatLngBounds(bounds);
          return this._southWest.equals(bounds.getSouthWest(), maxMargin) && this._northEast.equals(bounds.getNorthEast(), maxMargin);
        },
        // @method isValid(): Boolean
        // Returns `true` if the bounds are properly initialized.
        isValid: function() {
          return !!(this._southWest && this._northEast);
        }
      };
      function toLatLngBounds(a, b) {
        if (a instanceof LatLngBounds) {
          return a;
        }
        return new LatLngBounds(a, b);
      }
      function LatLng2(lat, lng, alt) {
        if (isNaN(lat) || isNaN(lng)) {
          throw new Error("Invalid LatLng object: (" + lat + ", " + lng + ")");
        }
        this.lat = +lat;
        this.lng = +lng;
        if (alt !== void 0) {
          this.alt = +alt;
        }
      }
      LatLng2.prototype = {
        // @method equals(otherLatLng: LatLng, maxMargin?: Number): Boolean
        // Returns `true` if the given `LatLng` point is at the same position (within a small margin of error). The margin of error can be overridden by setting `maxMargin` to a small number.
        equals: function(obj, maxMargin) {
          if (!obj) {
            return false;
          }
          obj = toLatLng(obj);
          var margin = Math.max(
            Math.abs(this.lat - obj.lat),
            Math.abs(this.lng - obj.lng)
          );
          return margin <= (maxMargin === void 0 ? 1e-9 : maxMargin);
        },
        // @method toString(): String
        // Returns a string representation of the point (for debugging purposes).
        toString: function(precision) {
          return "LatLng(" + formatNum(this.lat, precision) + ", " + formatNum(this.lng, precision) + ")";
        },
        // @method distanceTo(otherLatLng: LatLng): Number
        // Returns the distance (in meters) to the given `LatLng` calculated using the [Spherical Law of Cosines](https://en.wikipedia.org/wiki/Spherical_law_of_cosines).
        distanceTo: function(other) {
          return Earth.distance(this, toLatLng(other));
        },
        // @method wrap(): LatLng
        // Returns a new `LatLng` object with the longitude wrapped so it's always between -180 and +180 degrees.
        wrap: function() {
          return Earth.wrapLatLng(this);
        },
        // @method toBounds(sizeInMeters: Number): LatLngBounds
        // Returns a new `LatLngBounds` object in which each boundary is `sizeInMeters/2` meters apart from the `LatLng`.
        toBounds: function(sizeInMeters) {
          var latAccuracy = 180 * sizeInMeters / 40075017, lngAccuracy = latAccuracy / Math.cos(Math.PI / 180 * this.lat);
          return toLatLngBounds(
            [this.lat - latAccuracy, this.lng - lngAccuracy],
            [this.lat + latAccuracy, this.lng + lngAccuracy]
          );
        },
        clone: function() {
          return new LatLng2(this.lat, this.lng, this.alt);
        }
      };
      function toLatLng(a, b, c) {
        if (a instanceof LatLng2) {
          return a;
        }
        if (isArray(a) && typeof a[0] !== "object") {
          if (a.length === 3) {
            return new LatLng2(a[0], a[1], a[2]);
          }
          if (a.length === 2) {
            return new LatLng2(a[0], a[1]);
          }
          return null;
        }
        if (a === void 0 || a === null) {
          return a;
        }
        if (typeof a === "object" && "lat" in a) {
          return new LatLng2(a.lat, "lng" in a ? a.lng : a.lon, a.alt);
        }
        if (b === void 0) {
          return null;
        }
        return new LatLng2(a, b, c);
      }
      var CRS = {
        // @method latLngToPoint(latlng: LatLng, zoom: Number): Point
        // Projects geographical coordinates into pixel coordinates for a given zoom.
        latLngToPoint: function(latlng, zoom2) {
          var projectedPoint = this.projection.project(latlng), scale2 = this.scale(zoom2);
          return this.transformation._transform(projectedPoint, scale2);
        },
        // @method pointToLatLng(point: Point, zoom: Number): LatLng
        // The inverse of `latLngToPoint`. Projects pixel coordinates on a given
        // zoom into geographical coordinates.
        pointToLatLng: function(point, zoom2) {
          var scale2 = this.scale(zoom2), untransformedPoint = this.transformation.untransform(point, scale2);
          return this.projection.unproject(untransformedPoint);
        },
        // @method project(latlng: LatLng): Point
        // Projects geographical coordinates into coordinates in units accepted for
        // this CRS (e.g. meters for EPSG:3857, for passing it to WMS services).
        project: function(latlng) {
          return this.projection.project(latlng);
        },
        // @method unproject(point: Point): LatLng
        // Given a projected coordinate returns the corresponding LatLng.
        // The inverse of `project`.
        unproject: function(point) {
          return this.projection.unproject(point);
        },
        // @method scale(zoom: Number): Number
        // Returns the scale used when transforming projected coordinates into
        // pixel coordinates for a particular zoom. For example, it returns
        // `256 * 2^zoom` for Mercator-based CRS.
        scale: function(zoom2) {
          return 256 * Math.pow(2, zoom2);
        },
        // @method zoom(scale: Number): Number
        // Inverse of `scale()`, returns the zoom level corresponding to a scale
        // factor of `scale`.
        zoom: function(scale2) {
          return Math.log(scale2 / 256) / Math.LN2;
        },
        // @method getProjectedBounds(zoom: Number): Bounds
        // Returns the projection's bounds scaled and transformed for the provided `zoom`.
        getProjectedBounds: function(zoom2) {
          if (this.infinite) {
            return null;
          }
          var b = this.projection.bounds, s = this.scale(zoom2), min = this.transformation.transform(b.min, s), max = this.transformation.transform(b.max, s);
          return new Bounds(min, max);
        },
        // @method distance(latlng1: LatLng, latlng2: LatLng): Number
        // Returns the distance between two geographical coordinates.
        // @property code: String
        // Standard code name of the CRS passed into WMS services (e.g. `'EPSG:3857'`)
        //
        // @property wrapLng: Number[]
        // An array of two numbers defining whether the longitude (horizontal) coordinate
        // axis wraps around a given range and how. Defaults to `[-180, 180]` in most
        // geographical CRSs. If `undefined`, the longitude axis does not wrap around.
        //
        // @property wrapLat: Number[]
        // Like `wrapLng`, but for the latitude (vertical) axis.
        // wrapLng: [min, max],
        // wrapLat: [min, max],
        // @property infinite: Boolean
        // If true, the coordinate space will be unbounded (infinite in both axes)
        infinite: false,
        // @method wrapLatLng(latlng: LatLng): LatLng
        // Returns a `LatLng` where lat and lng has been wrapped according to the
        // CRS's `wrapLat` and `wrapLng` properties, if they are outside the CRS's bounds.
        wrapLatLng: function(latlng) {
          var lng = this.wrapLng ? wrapNum(latlng.lng, this.wrapLng, true) : latlng.lng, lat = this.wrapLat ? wrapNum(latlng.lat, this.wrapLat, true) : latlng.lat, alt = latlng.alt;
          return new LatLng2(lat, lng, alt);
        },
        // @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds
        // Returns a `LatLngBounds` with the same size as the given one, ensuring
        // that its center is within the CRS's bounds.
        // Only accepts actual `L.LatLngBounds` instances, not arrays.
        wrapLatLngBounds: function(bounds) {
          var center = bounds.getCenter(), newCenter = this.wrapLatLng(center), latShift = center.lat - newCenter.lat, lngShift = center.lng - newCenter.lng;
          if (latShift === 0 && lngShift === 0) {
            return bounds;
          }
          var sw = bounds.getSouthWest(), ne = bounds.getNorthEast(), newSw = new LatLng2(sw.lat - latShift, sw.lng - lngShift), newNe = new LatLng2(ne.lat - latShift, ne.lng - lngShift);
          return new LatLngBounds(newSw, newNe);
        }
      };
      var Earth = extend({}, CRS, {
        wrapLng: [-180, 180],
        // Mean Earth Radius, as recommended for use by
        // the International Union of Geodesy and Geophysics,
        // see https://rosettacode.org/wiki/Haversine_formula
        R: 6371e3,
        // distance between two geographical points using spherical law of cosines approximation
        distance: function(latlng1, latlng2) {
          var rad = Math.PI / 180, lat1 = latlng1.lat * rad, lat2 = latlng2.lat * rad, sinDLat = Math.sin((latlng2.lat - latlng1.lat) * rad / 2), sinDLon = Math.sin((latlng2.lng - latlng1.lng) * rad / 2), a = sinDLat * sinDLat + Math.cos(lat1) * Math.cos(lat2) * sinDLon * sinDLon, c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
          return this.R * c;
        }
      });
      var earthRadius = 6378137;
      var SphericalMercator = {
        R: earthRadius,
        MAX_LATITUDE: 85.0511287798,
        project: function(latlng) {
          var d = Math.PI / 180, max = this.MAX_LATITUDE, lat = Math.max(Math.min(max, latlng.lat), -max), sin = Math.sin(lat * d);
          return new Point(
            this.R * latlng.lng * d,
            this.R * Math.log((1 + sin) / (1 - sin)) / 2
          );
        },
        unproject: function(point) {
          var d = 180 / Math.PI;
          return new LatLng2(
            (2 * Math.atan(Math.exp(point.y / this.R)) - Math.PI / 2) * d,
            point.x * d / this.R
          );
        },
        bounds: function() {
          var d = earthRadius * Math.PI;
          return new Bounds([-d, -d], [d, d]);
        }()
      };
      function Transformation(a, b, c, d) {
        if (isArray(a)) {
          this._a = a[0];
          this._b = a[1];
          this._c = a[2];
          this._d = a[3];
          return;
        }
        this._a = a;
        this._b = b;
        this._c = c;
        this._d = d;
      }
      Transformation.prototype = {
        // @method transform(point: Point, scale?: Number): Point
        // Returns a transformed point, optionally multiplied by the given scale.
        // Only accepts actual `L.Point` instances, not arrays.
        transform: function(point, scale2) {
          return this._transform(point.clone(), scale2);
        },
        // destructive transform (faster)
        _transform: function(point, scale2) {
          scale2 = scale2 || 1;
          point.x = scale2 * (this._a * point.x + this._b);
          point.y = scale2 * (this._c * point.y + this._d);
          return point;
        },
        // @method untransform(point: Point, scale?: Number): Point
        // Returns the reverse transformation of the given point, optionally divided
        // by the given scale. Only accepts actual `L.Point` instances, not arrays.
        untransform: function(point, scale2) {
          scale2 = scale2 || 1;
          return new Point(
            (point.x / scale2 - this._b) / this._a,
            (point.y / scale2 - this._d) / this._c
          );
        }
      };
      function toTransformation(a, b, c, d) {
        return new Transformation(a, b, c, d);
      }
      var EPSG3857 = extend({}, Earth, {
        code: "EPSG:3857",
        projection: SphericalMercator,
        transformation: function() {
          var scale2 = 0.5 / (Math.PI * SphericalMercator.R);
          return toTransformation(scale2, 0.5, -scale2, 0.5);
        }()
      });
      var EPSG900913 = extend({}, EPSG3857, {
        code: "EPSG:900913"
      });
      function svgCreate(name) {
        return document.createElementNS("http://www.w3.org/2000/svg", name);
      }
      function pointsToPath(rings, closed) {
        var str = "", i, j, len, len2, points, p;
        for (i = 0, len = rings.length; i < len; i++) {
          points = rings[i];
          for (j = 0, len2 = points.length; j < len2; j++) {
            p = points[j];
            str += (j ? "L" : "M") + p.x + " " + p.y;
          }
          str += closed ? Browser.svg ? "z" : "x" : "";
        }
        return str || "M0 0";
      }
      var style = document.documentElement.style;
      var ie = "ActiveXObject" in window;
      var ielt9 = ie && !document.addEventListener;
      var edge = "msLaunchUri" in navigator && !("documentMode" in document);
      var webkit = userAgentContains("webkit");
      var android = userAgentContains("android");
      var android23 = userAgentContains("android 2") || userAgentContains("android 3");
      var webkitVer = parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10);
      var androidStock = android && userAgentContains("Google") && webkitVer < 537 && !("AudioNode" in window);
      var opera = !!window.opera;
      var chrome = !edge && userAgentContains("chrome");
      var gecko = userAgentContains("gecko") && !webkit && !opera && !ie;
      var safari = !chrome && userAgentContains("safari");
      var phantom = userAgentContains("phantom");
      var opera12 = "OTransition" in style;
      var win = navigator.platform.indexOf("Win") === 0;
      var ie3d = ie && "transition" in style;
      var webkit3d = "WebKitCSSMatrix" in window && "m11" in new window.WebKitCSSMatrix() && !android23;
      var gecko3d = "MozPerspective" in style;
      var any3d = !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d) && !opera12 && !phantom;
      var mobile = typeof orientation !== "undefined" || userAgentContains("mobile");
      var mobileWebkit = mobile && webkit;
      var mobileWebkit3d = mobile && webkit3d;
      var msPointer = !window.PointerEvent && window.MSPointerEvent;
      var pointer = !!(window.PointerEvent || msPointer);
      var touchNative = "ontouchstart" in window || !!window.TouchEvent;
      var touch = !window.L_NO_TOUCH && (touchNative || pointer);
      var mobileOpera = mobile && opera;
      var mobileGecko = mobile && gecko;
      var retina = (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI) > 1;
      var passiveEvents = function() {
        var supportsPassiveOption = false;
        try {
          var opts = Object.defineProperty({}, "passive", {
            get: function() {
              supportsPassiveOption = true;
            }
          });
          window.addEventListener("testPassiveEventSupport", falseFn, opts);
          window.removeEventListener("testPassiveEventSupport", falseFn, opts);
        } catch (e) {
        }
        return supportsPassiveOption;
      }();
      var canvas$1 = function() {
        return !!document.createElement("canvas").getContext;
      }();
      var svg$1 = !!(document.createElementNS && svgCreate("svg").createSVGRect);
      var inlineSvg = !!svg$1 && function() {
        var div = document.createElement("div");
        div.innerHTML = "<svg/>";
        return (div.firstChild && div.firstChild.namespaceURI) === "http://www.w3.org/2000/svg";
      }();
      var vml = !svg$1 && function() {
        try {
          var div = document.createElement("div");
          div.innerHTML = '<v:shape adj="1"/>';
          var shape = div.firstChild;
          shape.style.behavior = "url(#default#VML)";
          return shape && typeof shape.adj === "object";
        } catch (e) {
          return false;
        }
      }();
      var mac = navigator.platform.indexOf("Mac") === 0;
      var linux = navigator.platform.indexOf("Linux") === 0;
      function userAgentContains(str) {
        return navigator.userAgent.toLowerCase().indexOf(str) >= 0;
      }
      var Browser = {
        ie,
        ielt9,
        edge,
        webkit,
        android,
        android23,
        androidStock,
        opera,
        chrome,
        gecko,
        safari,
        phantom,
        opera12,
        win,
        ie3d,
        webkit3d,
        gecko3d,
        any3d,
        mobile,
        mobileWebkit,
        mobileWebkit3d,
        msPointer,
        pointer,
        touch,
        touchNative,
        mobileOpera,
        mobileGecko,
        retina,
        passiveEvents,
        canvas: canvas$1,
        svg: svg$1,
        vml,
        inlineSvg,
        mac,
        linux
      };
      var POINTER_DOWN = Browser.msPointer ? "MSPointerDown" : "pointerdown";
      var POINTER_MOVE = Browser.msPointer ? "MSPointerMove" : "pointermove";
      var POINTER_UP = Browser.msPointer ? "MSPointerUp" : "pointerup";
      var POINTER_CANCEL = Browser.msPointer ? "MSPointerCancel" : "pointercancel";
      var pEvent = {
        touchstart: POINTER_DOWN,
        touchmove: POINTER_MOVE,
        touchend: POINTER_UP,
        touchcancel: POINTER_CANCEL
      };
      var handle = {
        touchstart: _onPointerStart,
        touchmove: _handlePointer,
        touchend: _handlePointer,
        touchcancel: _handlePointer
      };
      var _pointers = {};
      var _pointerDocListener = false;
      function addPointerListener(obj, type, handler) {
        if (type === "touchstart") {
          _addPointerDocListener();
        }
        if (!handle[type]) {
          console.warn("wrong event specified:", type);
          return falseFn;
        }
        handler = handle[type].bind(this, handler);
        obj.addEventListener(pEvent[type], handler, false);
        return handler;
      }
      function removePointerListener(obj, type, handler) {
        if (!pEvent[type]) {
          console.warn("wrong event specified:", type);
          return;
        }
        obj.removeEventListener(pEvent[type], handler, false);
      }
      function _globalPointerDown(e) {
        _pointers[e.pointerId] = e;
      }
      function _globalPointerMove(e) {
        if (_pointers[e.pointerId]) {
          _pointers[e.pointerId] = e;
        }
      }
      function _globalPointerUp(e) {
        delete _pointers[e.pointerId];
      }
      function _addPointerDocListener() {
        if (!_pointerDocListener) {
          document.addEventListener(POINTER_DOWN, _globalPointerDown, true);
          document.addEventListener(POINTER_MOVE, _globalPointerMove, true);
          document.addEventListener(POINTER_UP, _globalPointerUp, true);
          document.addEventListener(POINTER_CANCEL, _globalPointerUp, true);
          _pointerDocListener = true;
        }
      }
      function _handlePointer(handler, e) {
        if (e.pointerType === (e.MSPOINTER_TYPE_MOUSE || "mouse")) {
          return;
        }
        e.touches = [];
        for (var i in _pointers) {
          e.touches.push(_pointers[i]);
        }
        e.changedTouches = [e];
        handler(e);
      }
      function _onPointerStart(handler, e) {
        if (e.MSPOINTER_TYPE_TOUCH && e.pointerType === e.MSPOINTER_TYPE_TOUCH) {
          preventDefault(e);
        }
        _handlePointer(handler, e);
      }
      function makeDblclick(event) {
        var newEvent = {}, prop, i;
        for (i in event) {
          prop = event[i];
          newEvent[i] = prop && prop.bind ? prop.bind(event) : prop;
        }
        event = newEvent;
        newEvent.type = "dblclick";
        newEvent.detail = 2;
        newEvent.isTrusted = false;
        newEvent._simulated = true;
        return newEvent;
      }
      var delay = 200;
      function addDoubleTapListener(obj, handler) {
        obj.addEventListener("dblclick", handler);
        var last = 0, detail;
        function simDblclick(e) {
          if (e.detail !== 1) {
            detail = e.detail;
            return;
          }
          if (e.pointerType === "mouse" || e.sourceCapabilities && !e.sourceCapabilities.firesTouchEvents) {
            return;
          }
          var path = getPropagationPath(e);
          if (path.some(function(el) {
            return el instanceof HTMLLabelElement && el.attributes.for;
          }) && !path.some(function(el) {
            return el instanceof HTMLInputElement || el instanceof HTMLSelectElement;
          })) {
            return;
          }
          var now = Date.now();
          if (now - last <= delay) {
            detail++;
            if (detail === 2) {
              handler(makeDblclick(e));
            }
          } else {
            detail = 1;
          }
          last = now;
        }
        obj.addEventListener("click", simDblclick);
        return {
          dblclick: handler,
          simDblclick
        };
      }
      function removeDoubleTapListener(obj, handlers) {
        obj.removeEventListener("dblclick", handlers.dblclick);
        obj.removeEventListener("click", handlers.simDblclick);
      }
      var TRANSFORM = testProp(
        ["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]
      );
      var TRANSITION = testProp(
        ["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]
      );
      var TRANSITION_END = TRANSITION === "webkitTransition" || TRANSITION === "OTransition" ? TRANSITION + "End" : "transitionend";
      function get(id) {
        return typeof id === "string" ? document.getElementById(id) : id;
      }
      function getStyle(el, style2) {
        var value = el.style[style2] || el.currentStyle && el.currentStyle[style2];
        if ((!value || value === "auto") && document.defaultView) {
          var css = document.defaultView.getComputedStyle(el, null);
          value = css ? css[style2] : null;
        }
        return value === "auto" ? null : value;
      }
      function create$1(tagName, className, container) {
        var el = document.createElement(tagName);
        el.className = className || "";
        if (container) {
          container.appendChild(el);
        }
        return el;
      }
      function remove(el) {
        var parent = el.parentNode;
        if (parent) {
          parent.removeChild(el);
        }
      }
      function empty(el) {
        while (el.firstChild) {
          el.removeChild(el.firstChild);
        }
      }
      function toFront(el) {
        var parent = el.parentNode;
        if (parent && parent.lastChild !== el) {
          parent.appendChild(el);
        }
      }
      function toBack(el) {
        var parent = el.parentNode;
        if (parent && parent.firstChild !== el) {
          parent.insertBefore(el, parent.firstChild);
        }
      }
      function hasClass(el, name) {
        if (el.classList !== void 0) {
          return el.classList.contains(name);
        }
        var className = getClass(el);
        return className.length > 0 && new RegExp("(^|\\s)" + name + "(\\s|$)").test(className);
      }
      function addClass(el, name) {
        if (el.classList !== void 0) {
          var classes = splitWords(name);
          for (var i = 0, len = classes.length; i < len; i++) {
            el.classList.add(classes[i]);
          }
        } else if (!hasClass(el, name)) {
          var className = getClass(el);
          setClass(el, (className ? className + " " : "") + name);
        }
      }
      function removeClass(el, name) {
        if (el.classList !== void 0) {
          el.classList.remove(name);
        } else {
          setClass(el, trim((" " + getClass(el) + " ").replace(" " + name + " ", " ")));
        }
      }
      function setClass(el, name) {
        if (el.className.baseVal === void 0) {
          el.className = name;
        } else {
          el.className.baseVal = name;
        }
      }
      function getClass(el) {
        if (el.correspondingElement) {
          el = el.correspondingElement;
        }
        return el.className.baseVal === void 0 ? el.className : el.className.baseVal;
      }
      function setOpacity(el, value) {
        if ("opacity" in el.style) {
          el.style.opacity = value;
        } else if ("filter" in el.style) {
          _setOpacityIE(el, value);
        }
      }
      function _setOpacityIE(el, value) {
        var filter = false, filterName = "DXImageTransform.Microsoft.Alpha";
        try {
          filter = el.filters.item(filterName);
        } catch (e) {
          if (value === 1) {
            return;
          }
        }
        value = Math.round(value * 100);
        if (filter) {
          filter.Enabled = value !== 100;
          filter.Opacity = value;
        } else {
          el.style.filter += " progid:" + filterName + "(opacity=" + value + ")";
        }
      }
      function testProp(props) {
        var style2 = document.documentElement.style;
        for (var i = 0; i < props.length; i++) {
          if (props[i] in style2) {
            return props[i];
          }
        }
        return false;
      }
      function setTransform(el, offset, scale2) {
        var pos = offset || new Point(0, 0);
        el.style[TRANSFORM] = (Browser.ie3d ? "translate(" + pos.x + "px," + pos.y + "px)" : "translate3d(" + pos.x + "px," + pos.y + "px,0)") + (scale2 ? " scale(" + scale2 + ")" : "");
      }
      function setPosition(el, point) {
        el._leaflet_pos = point;
        if (Browser.any3d) {
          setTransform(el, point);
        } else {
          el.style.left = point.x + "px";
          el.style.top = point.y + "px";
        }
      }
      function getPosition(el) {
        return el._leaflet_pos || new Point(0, 0);
      }
      var disableTextSelection;
      var enableTextSelection;
      var _userSelect;
      if ("onselectstart" in document) {
        disableTextSelection = function() {
          on(window, "selectstart", preventDefault);
        };
        enableTextSelection = function() {
          off(window, "selectstart", preventDefault);
        };
      } else {
        var userSelectProperty = testProp(
          ["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]
        );
        disableTextSelection = function() {
          if (userSelectProperty) {
            var style2 = document.documentElement.style;
            _userSelect = style2[userSelectProperty];
            style2[userSelectProperty] = "none";
          }
        };
        enableTextSelection = function() {
          if (userSelectProperty) {
            document.documentElement.style[userSelectProperty] = _userSelect;
            _userSelect = void 0;
          }
        };
      }
      function disableImageDrag() {
        on(window, "dragstart", preventDefault);
      }
      function enableImageDrag() {
        off(window, "dragstart", preventDefault);
      }
      var _outlineElement, _outlineStyle;
      function preventOutline(element) {
        while (element.tabIndex === -1) {
          element = element.parentNode;
        }
        if (!element.style) {
          return;
        }
        restoreOutline();
        _outlineElement = element;
        _outlineStyle = element.style.outlineStyle;
        element.style.outlineStyle = "none";
        on(window, "keydown", restoreOutline);
      }
      function restoreOutline() {
        if (!_outlineElement) {
          return;
        }
        _outlineElement.style.outlineStyle = _outlineStyle;
        _outlineElement = void 0;
        _outlineStyle = void 0;
        off(window, "keydown", restoreOutline);
      }
      function getSizedParentNode(element) {
        do {
          element = element.parentNode;
        } while ((!element.offsetWidth || !element.offsetHeight) && element !== document.body);
        return element;
      }
      function getScale(element) {
        var rect = element.getBoundingClientRect();
        return {
          x: rect.width / element.offsetWidth || 1,
          y: rect.height / element.offsetHeight || 1,
          boundingClientRect: rect
        };
      }
      var DomUtil = {
        __proto__: null,
        TRANSFORM,
        TRANSITION,
        TRANSITION_END,
        get,
        getStyle,
        create: create$1,
        remove,
        empty,
        toFront,
        toBack,
        hasClass,
        addClass,
        removeClass,
        setClass,
        getClass,
        setOpacity,
        testProp,
        setTransform,
        setPosition,
        getPosition,
        get disableTextSelection() {
          return disableTextSelection;
        },
        get enableTextSelection() {
          return enableTextSelection;
        },
        disableImageDrag,
        enableImageDrag,
        preventOutline,
        restoreOutline,
        getSizedParentNode,
        getScale
      };
      function on(obj, types, fn, context) {
        if (types && typeof types === "object") {
          for (var type in types) {
            addOne(obj, type, types[type], fn);
          }
        } else {
          types = splitWords(types);
          for (var i = 0, len = types.length; i < len; i++) {
            addOne(obj, types[i], fn, context);
          }
        }
        return this;
      }
      var eventsKey = "_leaflet_events";
      function off(obj, types, fn, context) {
        if (arguments.length === 1) {
          batchRemove(obj);
          delete obj[eventsKey];
        } else if (types && typeof types === "object") {
          for (var type in types) {
            removeOne(obj, type, types[type], fn);
          }
        } else {
          types = splitWords(types);
          if (arguments.length === 2) {
            batchRemove(obj, function(type2) {
              return indexOf(types, type2) !== -1;
            });
          } else {
            for (var i = 0, len = types.length; i < len; i++) {
              removeOne(obj, types[i], fn, context);
            }
          }
        }
        return this;
      }
      function batchRemove(obj, filterFn) {
        for (var id in obj[eventsKey]) {
          var type = id.split(/\d/)[0];
          if (!filterFn || filterFn(type)) {
            removeOne(obj, type, null, null, id);
          }
        }
      }
      var mouseSubst = {
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        wheel: !("onwheel" in window) && "mousewheel"
      };
      function addOne(obj, type, fn, context) {
        var id = type + stamp(fn) + (context ? "_" + stamp(context) : "");
        if (obj[eventsKey] && obj[eventsKey][id]) {
          return this;
        }
        var handler = function(e) {
          return fn.call(context || obj, e || window.event);
        };
        var originalHandler = handler;
        if (!Browser.touchNative && Browser.pointer && type.indexOf("touch") === 0) {
          handler = addPointerListener(obj, type, handler);
        } else if (Browser.touch && type === "dblclick") {
          handler = addDoubleTapListener(obj, handler);
        } else if ("addEventListener" in obj) {
          if (type === "touchstart" || type === "touchmove" || type === "wheel" || type === "mousewheel") {
            obj.addEventListener(mouseSubst[type] || type, handler, Browser.passiveEvents ? { passive: false } : false);
          } else if (type === "mouseenter" || type === "mouseleave") {
            handler = function(e) {
              e = e || window.event;
              if (isExternalTarget(obj, e)) {
                originalHandler(e);
              }
            };
            obj.addEventListener(mouseSubst[type], handler, false);
          } else {
            obj.addEventListener(type, originalHandler, false);
          }
        } else {
          obj.attachEvent("on" + type, handler);
        }
        obj[eventsKey] = obj[eventsKey] || {};
        obj[eventsKey][id] = handler;
      }
      function removeOne(obj, type, fn, context, id) {
        id = id || type + stamp(fn) + (context ? "_" + stamp(context) : "");
        var handler = obj[eventsKey] && obj[eventsKey][id];
        if (!handler) {
          return this;
        }
        if (!Browser.touchNative && Browser.pointer && type.indexOf("touch") === 0) {
          removePointerListener(obj, type, handler);
        } else if (Browser.touch && type === "dblclick") {
          removeDoubleTapListener(obj, handler);
        } else if ("removeEventListener" in obj) {
          obj.removeEventListener(mouseSubst[type] || type, handler, false);
        } else {
          obj.detachEvent("on" + type, handler);
        }
        obj[eventsKey][id] = null;
      }
      function stopPropagation(e) {
        if (e.stopPropagation) {
          e.stopPropagation();
        } else if (e.originalEvent) {
          e.originalEvent._stopped = true;
        } else {
          e.cancelBubble = true;
        }
        return this;
      }
      function disableScrollPropagation(el) {
        addOne(el, "wheel", stopPropagation);
        return this;
      }
      function disableClickPropagation(el) {
        on(el, "mousedown touchstart dblclick contextmenu", stopPropagation);
        el["_leaflet_disable_click"] = true;
        return this;
      }
      function preventDefault(e) {
        if (e.preventDefault) {
          e.preventDefault();
        } else {
          e.returnValue = false;
        }
        return this;
      }
      function stop(e) {
        preventDefault(e);
        stopPropagation(e);
        return this;
      }
      function getPropagationPath(ev) {
        if (ev.composedPath) {
          return ev.composedPath();
        }
        var path = [];
        var el = ev.target;
        while (el) {
          path.push(el);
          el = el.parentNode;
        }
        return path;
      }
      function getMousePosition(e, container) {
        if (!container) {
          return new Point(e.clientX, e.clientY);
        }
        var scale2 = getScale(container), offset = scale2.boundingClientRect;
        return new Point(
          // offset.left/top values are in page scale (like clientX/Y),
          // whereas clientLeft/Top (border width) values are the original values (before CSS scale applies).
          (e.clientX - offset.left) / scale2.x - container.clientLeft,
          (e.clientY - offset.top) / scale2.y - container.clientTop
        );
      }
      var wheelPxFactor = Browser.linux && Browser.chrome ? window.devicePixelRatio : Browser.mac ? window.devicePixelRatio * 3 : window.devicePixelRatio > 0 ? 2 * window.devicePixelRatio : 1;
      function getWheelDelta(e) {
        return Browser.edge ? e.wheelDeltaY / 2 : (
          // Don't trust window-geometry-based delta
          e.deltaY && e.deltaMode === 0 ? -e.deltaY / wheelPxFactor : (
            // Pixels
            e.deltaY && e.deltaMode === 1 ? -e.deltaY * 20 : (
              // Lines
              e.deltaY && e.deltaMode === 2 ? -e.deltaY * 60 : (
                // Pages
                e.deltaX || e.deltaZ ? 0 : (
                  // Skip horizontal/depth wheel events
                  e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / 2 : (
                    // Legacy IE pixels
                    e.detail && Math.abs(e.detail) < 32765 ? -e.detail * 20 : (
                      // Legacy Moz lines
                      e.detail ? e.detail / -32765 * 60 : (
                        // Legacy Moz pages
                        0
                      )
                    )
                  )
                )
              )
            )
          )
        );
      }
      function isExternalTarget(el, e) {
        var related = e.relatedTarget;
        if (!related) {
          return true;
        }
        try {
          while (related && related !== el) {
            related = related.parentNode;
          }
        } catch (err) {
          return false;
        }
        return related !== el;
      }
      var DomEvent = {
        __proto__: null,
        on,
        off,
        stopPropagation,
        disableScrollPropagation,
        disableClickPropagation,
        preventDefault,
        stop,
        getPropagationPath,
        getMousePosition,
        getWheelDelta,
        isExternalTarget,
        addListener: on,
        removeListener: off
      };
      var PosAnimation = Evented.extend({
        // @method run(el: HTMLElement, newPos: Point, duration?: Number, easeLinearity?: Number)
        // Run an animation of a given element to a new position, optionally setting
        // duration in seconds (`0.25` by default) and easing linearity factor (3rd
        // argument of the [cubic bezier curve](https://cubic-bezier.com/#0,0,.5,1),
        // `0.5` by default).
        run: function(el, newPos, duration, easeLinearity) {
          this.stop();
          this._el = el;
          this._inProgress = true;
          this._duration = duration || 0.25;
          this._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);
          this._startPos = getPosition(el);
          this._offset = newPos.subtract(this._startPos);
          this._startTime = +/* @__PURE__ */ new Date();
          this.fire("start");
          this._animate();
        },
        // @method stop()
        // Stops the animation (if currently running).
        stop: function() {
          if (!this._inProgress) {
            return;
          }
          this._step(true);
          this._complete();
        },
        _animate: function() {
          this._animId = requestAnimFrame(this._animate, this);
          this._step();
        },
        _step: function(round) {
          var elapsed = +/* @__PURE__ */ new Date() - this._startTime, duration = this._duration * 1e3;
          if (elapsed < duration) {
            this._runFrame(this._easeOut(elapsed / duration), round);
          } else {
            this._runFrame(1);
            this._complete();
          }
        },
        _runFrame: function(progress, round) {
          var pos = this._startPos.add(this._offset.multiplyBy(progress));
          if (round) {
            pos._round();
          }
          setPosition(this._el, pos);
          this.fire("step");
        },
        _complete: function() {
          cancelAnimFrame(this._animId);
          this._inProgress = false;
          this.fire("end");
        },
        _easeOut: function(t) {
          return 1 - Math.pow(1 - t, this._easeOutPower);
        }
      });
      var Map2 = Evented.extend({
        options: {
          // @section Map State Options
          // @option crs: CRS = L.CRS.EPSG3857
          // The [Coordinate Reference System](#crs) to use. Don't change this if you're not
          // sure what it means.
          crs: EPSG3857,
          // @option center: LatLng = undefined
          // Initial geographic center of the map
          center: void 0,
          // @option zoom: Number = undefined
          // Initial map zoom level
          zoom: void 0,
          // @option minZoom: Number = *
          // Minimum zoom level of the map.
          // If not specified and at least one `GridLayer` or `TileLayer` is in the map,
          // the lowest of their `minZoom` options will be used instead.
          minZoom: void 0,
          // @option maxZoom: Number = *
          // Maximum zoom level of the map.
          // If not specified and at least one `GridLayer` or `TileLayer` is in the map,
          // the highest of their `maxZoom` options will be used instead.
          maxZoom: void 0,
          // @option layers: Layer[] = []
          // Array of layers that will be added to the map initially
          layers: [],
          // @option maxBounds: LatLngBounds = null
          // When this option is set, the map restricts the view to the given
          // geographical bounds, bouncing the user back if the user tries to pan
          // outside the view. To set the restriction dynamically, use
          // [`setMaxBounds`](#map-setmaxbounds) method.
          maxBounds: void 0,
          // @option renderer: Renderer = *
          // The default method for drawing vector layers on the map. `L.SVG`
          // or `L.Canvas` by default depending on browser support.
          renderer: void 0,
          // @section Animation Options
          // @option zoomAnimation: Boolean = true
          // Whether the map zoom animation is enabled. By default it's enabled
          // in all browsers that support CSS3 Transitions except Android.
          zoomAnimation: true,
          // @option zoomAnimationThreshold: Number = 4
          // Won't animate zoom if the zoom difference exceeds this value.
          zoomAnimationThreshold: 4,
          // @option fadeAnimation: Boolean = true
          // Whether the tile fade animation is enabled. By default it's enabled
          // in all browsers that support CSS3 Transitions except Android.
          fadeAnimation: true,
          // @option markerZoomAnimation: Boolean = true
          // Whether markers animate their zoom with the zoom animation, if disabled
          // they will disappear for the length of the animation. By default it's
          // enabled in all browsers that support CSS3 Transitions except Android.
          markerZoomAnimation: true,
          // @option transform3DLimit: Number = 2^23
          // Defines the maximum size of a CSS translation transform. The default
          // value should not be changed unless a web browser positions layers in
          // the wrong place after doing a large `panBy`.
          transform3DLimit: 8388608,
          // Precision limit of a 32-bit float
          // @section Interaction Options
          // @option zoomSnap: Number = 1
          // Forces the map's zoom level to always be a multiple of this, particularly
          // right after a [`fitBounds()`](#map-fitbounds) or a pinch-zoom.
          // By default, the zoom level snaps to the nearest integer; lower values
          // (e.g. `0.5` or `0.1`) allow for greater granularity. A value of `0`
          // means the zoom level will not be snapped after `fitBounds` or a pinch-zoom.
          zoomSnap: 1,
          // @option zoomDelta: Number = 1
          // Controls how much the map's zoom level will change after a
          // [`zoomIn()`](#map-zoomin), [`zoomOut()`](#map-zoomout), pressing `+`
          // or `-` on the keyboard, or using the [zoom controls](#control-zoom).
          // Values smaller than `1` (e.g. `0.5`) allow for greater granularity.
          zoomDelta: 1,
          // @option trackResize: Boolean = true
          // Whether the map automatically handles browser window resize to update itself.
          trackResize: true
        },
        initialize: function(id, options) {
          options = setOptions(this, options);
          this._handlers = [];
          this._layers = {};
          this._zoomBoundLayers = {};
          this._sizeChanged = true;
          this._initContainer(id);
          this._initLayout();
          this._onResize = bind(this._onResize, this);
          this._initEvents();
          if (options.maxBounds) {
            this.setMaxBounds(options.maxBounds);
          }
          if (options.zoom !== void 0) {
            this._zoom = this._limitZoom(options.zoom);
          }
          if (options.center && options.zoom !== void 0) {
            this.setView(toLatLng(options.center), options.zoom, { reset: true });
          }
          this.callInitHooks();
          this._zoomAnimated = TRANSITION && Browser.any3d && !Browser.mobileOpera && this.options.zoomAnimation;
          if (this._zoomAnimated) {
            this._createAnimProxy();
            on(this._proxy, TRANSITION_END, this._catchTransitionEnd, this);
          }
          this._addLayers(this.options.layers);
        },
        // @section Methods for modifying map state
        // @method setView(center: LatLng, zoom: Number, options?: Zoom/pan options): this
        // Sets the view of the map (geographical center and zoom) with the given
        // animation options.
        setView: function(center, zoom2, options) {
          zoom2 = zoom2 === void 0 ? this._zoom : this._limitZoom(zoom2);
          center = this._limitCenter(toLatLng(center), zoom2, this.options.maxBounds);
          options = options || {};
          this._stop();
          if (this._loaded && !options.reset && options !== true) {
            if (options.animate !== void 0) {
              options.zoom = extend({ animate: options.animate }, options.zoom);
              options.pan = extend({ animate: options.animate, duration: options.duration }, options.pan);
            }
            var moved = this._zoom !== zoom2 ? this._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom2, options.zoom) : this._tryAnimatedPan(center, options.pan);
            if (moved) {
              clearTimeout(this._sizeTimer);
              return this;
            }
          }
          this._resetView(center, zoom2, options.pan && options.pan.noMoveStart);
          return this;
        },
        // @method setZoom(zoom: Number, options?: Zoom/pan options): this
        // Sets the zoom of the map.
        setZoom: function(zoom2, options) {
          if (!this._loaded) {
            this._zoom = zoom2;
            return this;
          }
          return this.setView(this.getCenter(), zoom2, { zoom: options });
        },
        // @method zoomIn(delta?: Number, options?: Zoom options): this
        // Increases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).
        zoomIn: function(delta, options) {
          delta = delta || (Browser.any3d ? this.options.zoomDelta : 1);
          return this.setZoom(this._zoom + delta, options);
        },
        // @method zoomOut(delta?: Number, options?: Zoom options): this
        // Decreases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).
        zoomOut: function(delta, options) {
          delta = delta || (Browser.any3d ? this.options.zoomDelta : 1);
          return this.setZoom(this._zoom - delta, options);
        },
        // @method setZoomAround(latlng: LatLng, zoom: Number, options: Zoom options): this
        // Zooms the map while keeping a specified geographical point on the map
        // stationary (e.g. used internally for scroll zoom and double-click zoom).
        // @alternative
        // @method setZoomAround(offset: Point, zoom: Number, options: Zoom options): this
        // Zooms the map while keeping a specified pixel on the map (relative to the top-left corner) stationary.
        setZoomAround: function(latlng, zoom2, options) {
          var scale2 = this.getZoomScale(zoom2), viewHalf = this.getSize().divideBy(2), containerPoint = latlng instanceof Point ? latlng : this.latLngToContainerPoint(latlng), centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale2), newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));
          return this.setView(newCenter, zoom2, { zoom: options });
        },
        _getBoundsCenterZoom: function(bounds, options) {
          options = options || {};
          bounds = bounds.getBounds ? bounds.getBounds() : toLatLngBounds(bounds);
          var paddingTL = toPoint(options.paddingTopLeft || options.padding || [0, 0]), paddingBR = toPoint(options.paddingBottomRight || options.padding || [0, 0]), zoom2 = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR));
          zoom2 = typeof options.maxZoom === "number" ? Math.min(options.maxZoom, zoom2) : zoom2;
          if (zoom2 === Infinity) {
            return {
              center: bounds.getCenter(),
              zoom: zoom2
            };
          }
          var paddingOffset = paddingBR.subtract(paddingTL).divideBy(2), swPoint = this.project(bounds.getSouthWest(), zoom2), nePoint = this.project(bounds.getNorthEast(), zoom2), center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom2);
          return {
            center,
            zoom: zoom2
          };
        },
        // @method fitBounds(bounds: LatLngBounds, options?: fitBounds options): this
        // Sets a map view that contains the given geographical bounds with the
        // maximum zoom level possible.
        fitBounds: function(bounds, options) {
          bounds = toLatLngBounds(bounds);
          if (!bounds.isValid()) {
            throw new Error("Bounds are not valid.");
          }
          var target = this._getBoundsCenterZoom(bounds, options);
          return this.setView(target.center, target.zoom, options);
        },
        // @method fitWorld(options?: fitBounds options): this
        // Sets a map view that mostly contains the whole world with the maximum
        // zoom level possible.
        fitWorld: function(options) {
          return this.fitBounds([[-90, -180], [90, 180]], options);
        },
        // @method panTo(latlng: LatLng, options?: Pan options): this
        // Pans the map to a given center.
        panTo: function(center, options) {
          return this.setView(center, this._zoom, { pan: options });
        },
        // @method panBy(offset: Point, options?: Pan options): this
        // Pans the map by a given number of pixels (animated).
        panBy: function(offset, options) {
          offset = toPoint(offset).round();
          options = options || {};
          if (!offset.x && !offset.y) {
            return this.fire("moveend");
          }
          if (options.animate !== true && !this.getSize().contains(offset)) {
            this._resetView(this.unproject(this.project(this.getCenter()).add(offset)), this.getZoom());
            return this;
          }
          if (!this._panAnim) {
            this._panAnim = new PosAnimation();
            this._panAnim.on({
              "step": this._onPanTransitionStep,
              "end": this._onPanTransitionEnd
            }, this);
          }
          if (!options.noMoveStart) {
            this.fire("movestart");
          }
          if (options.animate !== false) {
            addClass(this._mapPane, "leaflet-pan-anim");
            var newPos = this._getMapPanePos().subtract(offset).round();
            this._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);
          } else {
            this._rawPanBy(offset);
            this.fire("move").fire("moveend");
          }
          return this;
        },
        // @method flyTo(latlng: LatLng, zoom?: Number, options?: Zoom/pan options): this
        // Sets the view of the map (geographical center and zoom) performing a smooth
        // pan-zoom animation.
        flyTo: function(targetCenter, targetZoom, options) {
          options = options || {};
          if (options.animate === false || !Browser.any3d) {
            return this.setView(targetCenter, targetZoom, options);
          }
          this._stop();
          var from = this.project(this.getCenter()), to = this.project(targetCenter), size = this.getSize(), startZoom = this._zoom;
          targetCenter = toLatLng(targetCenter);
          targetZoom = targetZoom === void 0 ? startZoom : targetZoom;
          var w0 = Math.max(size.x, size.y), w1 = w0 * this.getZoomScale(startZoom, targetZoom), u1 = to.distanceTo(from) || 1, rho = 1.42, rho2 = rho * rho;
          function r(i) {
            var s1 = i ? -1 : 1, s2 = i ? w1 : w0, t1 = w1 * w1 - w0 * w0 + s1 * rho2 * rho2 * u1 * u1, b1 = 2 * s2 * rho2 * u1, b = t1 / b1, sq = Math.sqrt(b * b + 1) - b;
            var log = sq < 1e-9 ? -18 : Math.log(sq);
            return log;
          }
          function sinh(n) {
            return (Math.exp(n) - Math.exp(-n)) / 2;
          }
          function cosh(n) {
            return (Math.exp(n) + Math.exp(-n)) / 2;
          }
          function tanh(n) {
            return sinh(n) / cosh(n);
          }
          var r0 = r(0);
          function w(s) {
            return w0 * (cosh(r0) / cosh(r0 + rho * s));
          }
          function u(s) {
            return w0 * (cosh(r0) * tanh(r0 + rho * s) - sinh(r0)) / rho2;
          }
          function easeOut(t) {
            return 1 - Math.pow(1 - t, 1.5);
          }
          var start = Date.now(), S = (r(1) - r0) / rho, duration = options.duration ? 1e3 * options.duration : 1e3 * S * 0.8;
          function frame() {
            var t = (Date.now() - start) / duration, s = easeOut(t) * S;
            if (t <= 1) {
              this._flyToFrame = requestAnimFrame(frame, this);
              this._move(
                this.unproject(from.add(to.subtract(from).multiplyBy(u(s) / u1)), startZoom),
                this.getScaleZoom(w0 / w(s), startZoom),
                { flyTo: true }
              );
            } else {
              this._move(targetCenter, targetZoom)._moveEnd(true);
            }
          }
          this._moveStart(true, options.noMoveStart);
          frame.call(this);
          return this;
        },
        // @method flyToBounds(bounds: LatLngBounds, options?: fitBounds options): this
        // Sets the view of the map with a smooth animation like [`flyTo`](#map-flyto),
        // but takes a bounds parameter like [`fitBounds`](#map-fitbounds).
        flyToBounds: function(bounds, options) {
          var target = this._getBoundsCenterZoom(bounds, options);
          return this.flyTo(target.center, target.zoom, options);
        },
        // @method setMaxBounds(bounds: LatLngBounds): this
        // Restricts the map view to the given bounds (see the [maxBounds](#map-maxbounds) option).
        setMaxBounds: function(bounds) {
          bounds = toLatLngBounds(bounds);
          if (this.listens("moveend", this._panInsideMaxBounds)) {
            this.off("moveend", this._panInsideMaxBounds);
          }
          if (!bounds.isValid()) {
            this.options.maxBounds = null;
            return this;
          }
          this.options.maxBounds = bounds;
          if (this._loaded) {
            this._panInsideMaxBounds();
          }
          return this.on("moveend", this._panInsideMaxBounds);
        },
        // @method setMinZoom(zoom: Number): this
        // Sets the lower limit for the available zoom levels (see the [minZoom](#map-minzoom) option).
        setMinZoom: function(zoom2) {
          var oldZoom = this.options.minZoom;
          this.options.minZoom = zoom2;
          if (this._loaded && oldZoom !== zoom2) {
            this.fire("zoomlevelschange");
            if (this.getZoom() < this.options.minZoom) {
              return this.setZoom(zoom2);
            }
          }
          return this;
        },
        // @method setMaxZoom(zoom: Number): this
        // Sets the upper limit for the available zoom levels (see the [maxZoom](#map-maxzoom) option).
        setMaxZoom: function(zoom2) {
          var oldZoom = this.options.maxZoom;
          this.options.maxZoom = zoom2;
          if (this._loaded && oldZoom !== zoom2) {
            this.fire("zoomlevelschange");
            if (this.getZoom() > this.options.maxZoom) {
              return this.setZoom(zoom2);
            }
          }
          return this;
        },
        // @method panInsideBounds(bounds: LatLngBounds, options?: Pan options): this
        // Pans the map to the closest view that would lie inside the given bounds (if it's not already), controlling the animation using the options specific, if any.
        panInsideBounds: function(bounds, options) {
          this._enforcingBounds = true;
          var center = this.getCenter(), newCenter = this._limitCenter(center, this._zoom, toLatLngBounds(bounds));
          if (!center.equals(newCenter)) {
            this.panTo(newCenter, options);
          }
          this._enforcingBounds = false;
          return this;
        },
        // @method panInside(latlng: LatLng, options?: padding options): this
        // Pans the map the minimum amount to make the `latlng` visible. Use
        // padding options to fit the display to more restricted bounds.
        // If `latlng` is already within the (optionally padded) display bounds,
        // the map will not be panned.
        panInside: function(latlng, options) {
          options = options || {};
          var paddingTL = toPoint(options.paddingTopLeft || options.padding || [0, 0]), paddingBR = toPoint(options.paddingBottomRight || options.padding || [0, 0]), pixelCenter = this.project(this.getCenter()), pixelPoint = this.project(latlng), pixelBounds = this.getPixelBounds(), paddedBounds = toBounds([pixelBounds.min.add(paddingTL), pixelBounds.max.subtract(paddingBR)]), paddedSize = paddedBounds.getSize();
          if (!paddedBounds.contains(pixelPoint)) {
            this._enforcingBounds = true;
            var centerOffset = pixelPoint.subtract(paddedBounds.getCenter());
            var offset = paddedBounds.extend(pixelPoint).getSize().subtract(paddedSize);
            pixelCenter.x += centerOffset.x < 0 ? -offset.x : offset.x;
            pixelCenter.y += centerOffset.y < 0 ? -offset.y : offset.y;
            this.panTo(this.unproject(pixelCenter), options);
            this._enforcingBounds = false;
          }
          return this;
        },
        // @method invalidateSize(options: Zoom/pan options): this
        // Checks if the map container size changed and updates the map if so —
        // call it after you've changed the map size dynamically, also animating
        // pan by default. If `options.pan` is `false`, panning will not occur.
        // If `options.debounceMoveend` is `true`, it will delay `moveend` event so
        // that it doesn't happen often even if the method is called many
        // times in a row.
        // @alternative
        // @method invalidateSize(animate: Boolean): this
        // Checks if the map container size changed and updates the map if so —
        // call it after you've changed the map size dynamically, also animating
        // pan by default.
        invalidateSize: function(options) {
          if (!this._loaded) {
            return this;
          }
          options = extend({
            animate: false,
            pan: true
          }, options === true ? { animate: true } : options);
          var oldSize = this.getSize();
          this._sizeChanged = true;
          this._lastCenter = null;
          var newSize = this.getSize(), oldCenter = oldSize.divideBy(2).round(), newCenter = newSize.divideBy(2).round(), offset = oldCenter.subtract(newCenter);
          if (!offset.x && !offset.y) {
            return this;
          }
          if (options.animate && options.pan) {
            this.panBy(offset);
          } else {
            if (options.pan) {
              this._rawPanBy(offset);
            }
            this.fire("move");
            if (options.debounceMoveend) {
              clearTimeout(this._sizeTimer);
              this._sizeTimer = setTimeout(bind(this.fire, this, "moveend"), 200);
            } else {
              this.fire("moveend");
            }
          }
          return this.fire("resize", {
            oldSize,
            newSize
          });
        },
        // @section Methods for modifying map state
        // @method stop(): this
        // Stops the currently running `panTo` or `flyTo` animation, if any.
        stop: function() {
          this.setZoom(this._limitZoom(this._zoom));
          if (!this.options.zoomSnap) {
            this.fire("viewreset");
          }
          return this._stop();
        },
        // @section Geolocation methods
        // @method locate(options?: Locate options): this
        // Tries to locate the user using the Geolocation API, firing a [`locationfound`](#map-locationfound)
        // event with location data on success or a [`locationerror`](#map-locationerror) event on failure,
        // and optionally sets the map view to the user's location with respect to
        // detection accuracy (or to the world view if geolocation failed).
        // Note that, if your page doesn't use HTTPS, this method will fail in
        // modern browsers ([Chrome 50 and newer](https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins))
        // See `Locate options` for more details.
        locate: function(options) {
          options = this._locateOptions = extend({
            timeout: 1e4,
            watch: false
            // setView: false
            // maxZoom: <Number>
            // maximumAge: 0
            // enableHighAccuracy: false
          }, options);
          if (!("geolocation" in navigator)) {
            this._handleGeolocationError({
              code: 0,
              message: "Geolocation not supported."
            });
            return this;
          }
          var onResponse = bind(this._handleGeolocationResponse, this), onError = bind(this._handleGeolocationError, this);
          if (options.watch) {
            this._locationWatchId = navigator.geolocation.watchPosition(onResponse, onError, options);
          } else {
            navigator.geolocation.getCurrentPosition(onResponse, onError, options);
          }
          return this;
        },
        // @method stopLocate(): this
        // Stops watching location previously initiated by `map.locate({watch: true})`
        // and aborts resetting the map view if map.locate was called with
        // `{setView: true}`.
        stopLocate: function() {
          if (navigator.geolocation && navigator.geolocation.clearWatch) {
            navigator.geolocation.clearWatch(this._locationWatchId);
          }
          if (this._locateOptions) {
            this._locateOptions.setView = false;
          }
          return this;
        },
        _handleGeolocationError: function(error) {
          if (!this._container._leaflet_id) {
            return;
          }
          var c = error.code, message = error.message || (c === 1 ? "permission denied" : c === 2 ? "position unavailable" : "timeout");
          if (this._locateOptions.setView && !this._loaded) {
            this.fitWorld();
          }
          this.fire("locationerror", {
            code: c,
            message: "Geolocation error: " + message + "."
          });
        },
        _handleGeolocationResponse: function(pos) {
          if (!this._container._leaflet_id) {
            return;
          }
          var lat = pos.coords.latitude, lng = pos.coords.longitude, latlng = new LatLng2(lat, lng), bounds = latlng.toBounds(pos.coords.accuracy * 2), options = this._locateOptions;
          if (options.setView) {
            var zoom2 = this.getBoundsZoom(bounds);
            this.setView(latlng, options.maxZoom ? Math.min(zoom2, options.maxZoom) : zoom2);
          }
          var data = {
            latlng,
            bounds,
            timestamp: pos.timestamp
          };
          for (var i in pos.coords) {
            if (typeof pos.coords[i] === "number") {
              data[i] = pos.coords[i];
            }
          }
          this.fire("locationfound", data);
        },
        // TODO Appropriate docs section?
        // @section Other Methods
        // @method addHandler(name: String, HandlerClass: Function): this
        // Adds a new `Handler` to the map, given its name and constructor function.
        addHandler: function(name, HandlerClass) {
          if (!HandlerClass) {
            return this;
          }
          var handler = this[name] = new HandlerClass(this);
          this._handlers.push(handler);
          if (this.options[name]) {
            handler.enable();
          }
          return this;
        },
        // @method remove(): this
        // Destroys the map and clears all related event listeners.
        remove: function() {
          this._initEvents(true);
          if (this.options.maxBounds) {
            this.off("moveend", this._panInsideMaxBounds);
          }
          if (this._containerId !== this._container._leaflet_id) {
            throw new Error("Map container is being reused by another instance");
          }
          try {
            delete this._container._leaflet_id;
            delete this._containerId;
          } catch (e) {
            this._container._leaflet_id = void 0;
            this._containerId = void 0;
          }
          if (this._locationWatchId !== void 0) {
            this.stopLocate();
          }
          this._stop();
          remove(this._mapPane);
          if (this._clearControlPos) {
            this._clearControlPos();
          }
          if (this._resizeRequest) {
            cancelAnimFrame(this._resizeRequest);
            this._resizeRequest = null;
          }
          this._clearHandlers();
          if (this._loaded) {
            this.fire("unload");
          }
          var i;
          for (i in this._layers) {
            this._layers[i].remove();
          }
          for (i in this._panes) {
            remove(this._panes[i]);
          }
          this._layers = [];
          this._panes = [];
          delete this._mapPane;
          delete this._renderer;
          return this;
        },
        // @section Other Methods
        // @method createPane(name: String, container?: HTMLElement): HTMLElement
        // Creates a new [map pane](#map-pane) with the given name if it doesn't exist already,
        // then returns it. The pane is created as a child of `container`, or
        // as a child of the main map pane if not set.
        createPane: function(name, container) {
          var className = "leaflet-pane" + (name ? " leaflet-" + name.replace("Pane", "") + "-pane" : ""), pane = create$1("div", className, container || this._mapPane);
          if (name) {
            this._panes[name] = pane;
          }
          return pane;
        },
        // @section Methods for Getting Map State
        // @method getCenter(): LatLng
        // Returns the geographical center of the map view
        getCenter: function() {
          this._checkIfLoaded();
          if (this._lastCenter && !this._moved()) {
            return this._lastCenter.clone();
          }
          return this.layerPointToLatLng(this._getCenterLayerPoint());
        },
        // @method getZoom(): Number
        // Returns the current zoom level of the map view
        getZoom: function() {
          return this._zoom;
        },
        // @method getBounds(): LatLngBounds
        // Returns the geographical bounds visible in the current map view
        getBounds: function() {
          var bounds = this.getPixelBounds(), sw = this.unproject(bounds.getBottomLeft()), ne = this.unproject(bounds.getTopRight());
          return new LatLngBounds(sw, ne);
        },
        // @method getMinZoom(): Number
        // Returns the minimum zoom level of the map (if set in the `minZoom` option of the map or of any layers), or `0` by default.
        getMinZoom: function() {
          return this.options.minZoom === void 0 ? this._layersMinZoom || 0 : this.options.minZoom;
        },
        // @method getMaxZoom(): Number
        // Returns the maximum zoom level of the map (if set in the `maxZoom` option of the map or of any layers).
        getMaxZoom: function() {
          return this.options.maxZoom === void 0 ? this._layersMaxZoom === void 0 ? Infinity : this._layersMaxZoom : this.options.maxZoom;
        },
        // @method getBoundsZoom(bounds: LatLngBounds, inside?: Boolean, padding?: Point): Number
        // Returns the maximum zoom level on which the given bounds fit to the map
        // view in its entirety. If `inside` (optional) is set to `true`, the method
        // instead returns the minimum zoom level on which the map view fits into
        // the given bounds in its entirety.
        getBoundsZoom: function(bounds, inside, padding) {
          bounds = toLatLngBounds(bounds);
          padding = toPoint(padding || [0, 0]);
          var zoom2 = this.getZoom() || 0, min = this.getMinZoom(), max = this.getMaxZoom(), nw = bounds.getNorthWest(), se = bounds.getSouthEast(), size = this.getSize().subtract(padding), boundsSize = toBounds(this.project(se, zoom2), this.project(nw, zoom2)).getSize(), snap = Browser.any3d ? this.options.zoomSnap : 1, scalex = size.x / boundsSize.x, scaley = size.y / boundsSize.y, scale2 = inside ? Math.max(scalex, scaley) : Math.min(scalex, scaley);
          zoom2 = this.getScaleZoom(scale2, zoom2);
          if (snap) {
            zoom2 = Math.round(zoom2 / (snap / 100)) * (snap / 100);
            zoom2 = inside ? Math.ceil(zoom2 / snap) * snap : Math.floor(zoom2 / snap) * snap;
          }
          return Math.max(min, Math.min(max, zoom2));
        },
        // @method getSize(): Point
        // Returns the current size of the map container (in pixels).
        getSize: function() {
          if (!this._size || this._sizeChanged) {
            this._size = new Point(
              this._container.clientWidth || 0,
              this._container.clientHeight || 0
            );
            this._sizeChanged = false;
          }
          return this._size.clone();
        },
        // @method getPixelBounds(): Bounds
        // Returns the bounds of the current map view in projected pixel
        // coordinates (sometimes useful in layer and overlay implementations).
        getPixelBounds: function(center, zoom2) {
          var topLeftPoint = this._getTopLeftPoint(center, zoom2);
          return new Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));
        },
        // TODO: Check semantics - isn't the pixel origin the 0,0 coord relative to
        // the map pane? "left point of the map layer" can be confusing, specially
        // since there can be negative offsets.
        // @method getPixelOrigin(): Point
        // Returns the projected pixel coordinates of the top left point of
        // the map layer (useful in custom layer and overlay implementations).
        getPixelOrigin: function() {
          this._checkIfLoaded();
          return this._pixelOrigin;
        },
        // @method getPixelWorldBounds(zoom?: Number): Bounds
        // Returns the world's bounds in pixel coordinates for zoom level `zoom`.
        // If `zoom` is omitted, the map's current zoom level is used.
        getPixelWorldBounds: function(zoom2) {
          return this.options.crs.getProjectedBounds(zoom2 === void 0 ? this.getZoom() : zoom2);
        },
        // @section Other Methods
        // @method getPane(pane: String|HTMLElement): HTMLElement
        // Returns a [map pane](#map-pane), given its name or its HTML element (its identity).
        getPane: function(pane) {
          return typeof pane === "string" ? this._panes[pane] : pane;
        },
        // @method getPanes(): Object
        // Returns a plain object containing the names of all [panes](#map-pane) as keys and
        // the panes as values.
        getPanes: function() {
          return this._panes;
        },
        // @method getContainer: HTMLElement
        // Returns the HTML element that contains the map.
        getContainer: function() {
          return this._container;
        },
        // @section Conversion Methods
        // @method getZoomScale(toZoom: Number, fromZoom: Number): Number
        // Returns the scale factor to be applied to a map transition from zoom level
        // `fromZoom` to `toZoom`. Used internally to help with zoom animations.
        getZoomScale: function(toZoom, fromZoom) {
          var crs = this.options.crs;
          fromZoom = fromZoom === void 0 ? this._zoom : fromZoom;
          return crs.scale(toZoom) / crs.scale(fromZoom);
        },
        // @method getScaleZoom(scale: Number, fromZoom: Number): Number
        // Returns the zoom level that the map would end up at, if it is at `fromZoom`
        // level and everything is scaled by a factor of `scale`. Inverse of
        // [`getZoomScale`](#map-getZoomScale).
        getScaleZoom: function(scale2, fromZoom) {
          var crs = this.options.crs;
          fromZoom = fromZoom === void 0 ? this._zoom : fromZoom;
          var zoom2 = crs.zoom(scale2 * crs.scale(fromZoom));
          return isNaN(zoom2) ? Infinity : zoom2;
        },
        // @method project(latlng: LatLng, zoom: Number): Point
        // Projects a geographical coordinate `LatLng` according to the projection
        // of the map's CRS, then scales it according to `zoom` and the CRS's
        // `Transformation`. The result is pixel coordinate relative to
        // the CRS origin.
        project: function(latlng, zoom2) {
          zoom2 = zoom2 === void 0 ? this._zoom : zoom2;
          return this.options.crs.latLngToPoint(toLatLng(latlng), zoom2);
        },
        // @method unproject(point: Point, zoom: Number): LatLng
        // Inverse of [`project`](#map-project).
        unproject: function(point, zoom2) {
          zoom2 = zoom2 === void 0 ? this._zoom : zoom2;
          return this.options.crs.pointToLatLng(toPoint(point), zoom2);
        },
        // @method layerPointToLatLng(point: Point): LatLng
        // Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),
        // returns the corresponding geographical coordinate (for the current zoom level).
        layerPointToLatLng: function(point) {
          var projectedPoint = toPoint(point).add(this.getPixelOrigin());
          return this.unproject(projectedPoint);
        },
        // @method latLngToLayerPoint(latlng: LatLng): Point
        // Given a geographical coordinate, returns the corresponding pixel coordinate
        // relative to the [origin pixel](#map-getpixelorigin).
        latLngToLayerPoint: function(latlng) {
          var projectedPoint = this.project(toLatLng(latlng))._round();
          return projectedPoint._subtract(this.getPixelOrigin());
        },
        // @method wrapLatLng(latlng: LatLng): LatLng
        // Returns a `LatLng` where `lat` and `lng` has been wrapped according to the
        // map's CRS's `wrapLat` and `wrapLng` properties, if they are outside the
        // CRS's bounds.
        // By default this means longitude is wrapped around the dateline so its
        // value is between -180 and +180 degrees.
        wrapLatLng: function(latlng) {
          return this.options.crs.wrapLatLng(toLatLng(latlng));
        },
        // @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds
        // Returns a `LatLngBounds` with the same size as the given one, ensuring that
        // its center is within the CRS's bounds.
        // By default this means the center longitude is wrapped around the dateline so its
        // value is between -180 and +180 degrees, and the majority of the bounds
        // overlaps the CRS's bounds.
        wrapLatLngBounds: function(latlng) {
          return this.options.crs.wrapLatLngBounds(toLatLngBounds(latlng));
        },
        // @method distance(latlng1: LatLng, latlng2: LatLng): Number
        // Returns the distance between two geographical coordinates according to
        // the map's CRS. By default this measures distance in meters.
        distance: function(latlng1, latlng2) {
          return this.options.crs.distance(toLatLng(latlng1), toLatLng(latlng2));
        },
        // @method containerPointToLayerPoint(point: Point): Point
        // Given a pixel coordinate relative to the map container, returns the corresponding
        // pixel coordinate relative to the [origin pixel](#map-getpixelorigin).
        containerPointToLayerPoint: function(point) {
          return toPoint(point).subtract(this._getMapPanePos());
        },
        // @method layerPointToContainerPoint(point: Point): Point
        // Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),
        // returns the corresponding pixel coordinate relative to the map container.
        layerPointToContainerPoint: function(point) {
          return toPoint(point).add(this._getMapPanePos());
        },
        // @method containerPointToLatLng(point: Point): LatLng
        // Given a pixel coordinate relative to the map container, returns
        // the corresponding geographical coordinate (for the current zoom level).
        containerPointToLatLng: function(point) {
          var layerPoint = this.containerPointToLayerPoint(toPoint(point));
          return this.layerPointToLatLng(layerPoint);
        },
        // @method latLngToContainerPoint(latlng: LatLng): Point
        // Given a geographical coordinate, returns the corresponding pixel coordinate
        // relative to the map container.
        latLngToContainerPoint: function(latlng) {
          return this.layerPointToContainerPoint(this.latLngToLayerPoint(toLatLng(latlng)));
        },
        // @method mouseEventToContainerPoint(ev: MouseEvent): Point
        // Given a MouseEvent object, returns the pixel coordinate relative to the
        // map container where the event took place.
        mouseEventToContainerPoint: function(e) {
          return getMousePosition(e, this._container);
        },
        // @method mouseEventToLayerPoint(ev: MouseEvent): Point
        // Given a MouseEvent object, returns the pixel coordinate relative to
        // the [origin pixel](#map-getpixelorigin) where the event took place.
        mouseEventToLayerPoint: function(e) {
          return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));
        },
        // @method mouseEventToLatLng(ev: MouseEvent): LatLng
        // Given a MouseEvent object, returns geographical coordinate where the
        // event took place.
        mouseEventToLatLng: function(e) {
          return this.layerPointToLatLng(this.mouseEventToLayerPoint(e));
        },
        // map initialization methods
        _initContainer: function(id) {
          var container = this._container = get(id);
          if (!container) {
            throw new Error("Map container not found.");
          } else if (container._leaflet_id) {
            throw new Error("Map container is already initialized.");
          }
          on(container, "scroll", this._onScroll, this);
          this._containerId = stamp(container);
        },
        _initLayout: function() {
          var container = this._container;
          this._fadeAnimated = this.options.fadeAnimation && Browser.any3d;
          addClass(container, "leaflet-container" + (Browser.touch ? " leaflet-touch" : "") + (Browser.retina ? " leaflet-retina" : "") + (Browser.ielt9 ? " leaflet-oldie" : "") + (Browser.safari ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
          var position = getStyle(container, "position");
          if (position !== "absolute" && position !== "relative" && position !== "fixed" && position !== "sticky") {
            container.style.position = "relative";
          }
          this._initPanes();
          if (this._initControlPos) {
            this._initControlPos();
          }
        },
        _initPanes: function() {
          var panes = this._panes = {};
          this._paneRenderers = {};
          this._mapPane = this.createPane("mapPane", this._container);
          setPosition(this._mapPane, new Point(0, 0));
          this.createPane("tilePane");
          this.createPane("overlayPane");
          this.createPane("shadowPane");
          this.createPane("markerPane");
          this.createPane("tooltipPane");
          this.createPane("popupPane");
          if (!this.options.markerZoomAnimation) {
            addClass(panes.markerPane, "leaflet-zoom-hide");
            addClass(panes.shadowPane, "leaflet-zoom-hide");
          }
        },
        // private methods that modify map state
        // @section Map state change events
        _resetView: function(center, zoom2, noMoveStart) {
          setPosition(this._mapPane, new Point(0, 0));
          var loading = !this._loaded;
          this._loaded = true;
          zoom2 = this._limitZoom(zoom2);
          this.fire("viewprereset");
          var zoomChanged = this._zoom !== zoom2;
          this._moveStart(zoomChanged, noMoveStart)._move(center, zoom2)._moveEnd(zoomChanged);
          this.fire("viewreset");
          if (loading) {
            this.fire("load");
          }
        },
        _moveStart: function(zoomChanged, noMoveStart) {
          if (zoomChanged) {
            this.fire("zoomstart");
          }
          if (!noMoveStart) {
            this.fire("movestart");
          }
          return this;
        },
        _move: function(center, zoom2, data, supressEvent) {
          if (zoom2 === void 0) {
            zoom2 = this._zoom;
          }
          var zoomChanged = this._zoom !== zoom2;
          this._zoom = zoom2;
          this._lastCenter = center;
          this._pixelOrigin = this._getNewPixelOrigin(center);
          if (!supressEvent) {
            if (zoomChanged || data && data.pinch) {
              this.fire("zoom", data);
            }
            this.fire("move", data);
          } else if (data && data.pinch) {
            this.fire("zoom", data);
          }
          return this;
        },
        _moveEnd: function(zoomChanged) {
          if (zoomChanged) {
            this.fire("zoomend");
          }
          return this.fire("moveend");
        },
        _stop: function() {
          cancelAnimFrame(this._flyToFrame);
          if (this._panAnim) {
            this._panAnim.stop();
          }
          return this;
        },
        _rawPanBy: function(offset) {
          setPosition(this._mapPane, this._getMapPanePos().subtract(offset));
        },
        _getZoomSpan: function() {
          return this.getMaxZoom() - this.getMinZoom();
        },
        _panInsideMaxBounds: function() {
          if (!this._enforcingBounds) {
            this.panInsideBounds(this.options.maxBounds);
          }
        },
        _checkIfLoaded: function() {
          if (!this._loaded) {
            throw new Error("Set map center and zoom first.");
          }
        },
        // DOM event handling
        // @section Interaction events
        _initEvents: function(remove2) {
          this._targets = {};
          this._targets[stamp(this._container)] = this;
          var onOff = remove2 ? off : on;
          onOff(this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup", this._handleDOMEvent, this);
          if (this.options.trackResize) {
            onOff(window, "resize", this._onResize, this);
          }
          if (Browser.any3d && this.options.transform3DLimit) {
            (remove2 ? this.off : this.on).call(this, "moveend", this._onMoveEnd);
          }
        },
        _onResize: function() {
          cancelAnimFrame(this._resizeRequest);
          this._resizeRequest = requestAnimFrame(
            function() {
              this.invalidateSize({ debounceMoveend: true });
            },
            this
          );
        },
        _onScroll: function() {
          this._container.scrollTop = 0;
          this._container.scrollLeft = 0;
        },
        _onMoveEnd: function() {
          var pos = this._getMapPanePos();
          if (Math.max(Math.abs(pos.x), Math.abs(pos.y)) >= this.options.transform3DLimit) {
            this._resetView(this.getCenter(), this.getZoom());
          }
        },
        _findEventTargets: function(e, type) {
          var targets = [], target, isHover = type === "mouseout" || type === "mouseover", src = e.target || e.srcElement, dragging = false;
          while (src) {
            target = this._targets[stamp(src)];
            if (target && (type === "click" || type === "preclick") && this._draggableMoved(target)) {
              dragging = true;
              break;
            }
            if (target && target.listens(type, true)) {
              if (isHover && !isExternalTarget(src, e)) {
                break;
              }
              targets.push(target);
              if (isHover) {
                break;
              }
            }
            if (src === this._container) {
              break;
            }
            src = src.parentNode;
          }
          if (!targets.length && !dragging && !isHover && this.listens(type, true)) {
            targets = [this];
          }
          return targets;
        },
        _isClickDisabled: function(el) {
          while (el && el !== this._container) {
            if (el["_leaflet_disable_click"]) {
              return true;
            }
            el = el.parentNode;
          }
        },
        _handleDOMEvent: function(e) {
          var el = e.target || e.srcElement;
          if (!this._loaded || el["_leaflet_disable_events"] || e.type === "click" && this._isClickDisabled(el)) {
            return;
          }
          var type = e.type;
          if (type === "mousedown") {
            preventOutline(el);
          }
          this._fireDOMEvent(e, type);
        },
        _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"],
        _fireDOMEvent: function(e, type, canvasTargets) {
          if (e.type === "click") {
            var synth = extend({}, e);
            synth.type = "preclick";
            this._fireDOMEvent(synth, synth.type, canvasTargets);
          }
          var targets = this._findEventTargets(e, type);
          if (canvasTargets) {
            var filtered = [];
            for (var i = 0; i < canvasTargets.length; i++) {
              if (canvasTargets[i].listens(type, true)) {
                filtered.push(canvasTargets[i]);
              }
            }
            targets = filtered.concat(targets);
          }
          if (!targets.length) {
            return;
          }
          if (type === "contextmenu") {
            preventDefault(e);
          }
          var target = targets[0];
          var data = {
            originalEvent: e
          };
          if (e.type !== "keypress" && e.type !== "keydown" && e.type !== "keyup") {
            var isMarker = target.getLatLng && (!target._radius || target._radius <= 10);
            data.containerPoint = isMarker ? this.latLngToContainerPoint(target.getLatLng()) : this.mouseEventToContainerPoint(e);
            data.layerPoint = this.containerPointToLayerPoint(data.containerPoint);
            data.latlng = isMarker ? target.getLatLng() : this.layerPointToLatLng(data.layerPoint);
          }
          for (i = 0; i < targets.length; i++) {
            targets[i].fire(type, data, true);
            if (data.originalEvent._stopped || targets[i].options.bubblingMouseEvents === false && indexOf(this._mouseEvents, type) !== -1) {
              return;
            }
          }
        },
        _draggableMoved: function(obj) {
          obj = obj.dragging && obj.dragging.enabled() ? obj : this;
          return obj.dragging && obj.dragging.moved() || this.boxZoom && this.boxZoom.moved();
        },
        _clearHandlers: function() {
          for (var i = 0, len = this._handlers.length; i < len; i++) {
            this._handlers[i].disable();
          }
        },
        // @section Other Methods
        // @method whenReady(fn: Function, context?: Object): this
        // Runs the given function `fn` when the map gets initialized with
        // a view (center and zoom) and at least one layer, or immediately
        // if it's already initialized, optionally passing a function context.
        whenReady: function(callback, context) {
          if (this._loaded) {
            callback.call(context || this, { target: this });
          } else {
            this.on("load", callback, context);
          }
          return this;
        },
        // private methods for getting map state
        _getMapPanePos: function() {
          return getPosition(this._mapPane) || new Point(0, 0);
        },
        _moved: function() {
          var pos = this._getMapPanePos();
          return pos && !pos.equals([0, 0]);
        },
        _getTopLeftPoint: function(center, zoom2) {
          var pixelOrigin = center && zoom2 !== void 0 ? this._getNewPixelOrigin(center, zoom2) : this.getPixelOrigin();
          return pixelOrigin.subtract(this._getMapPanePos());
        },
        _getNewPixelOrigin: function(center, zoom2) {
          var viewHalf = this.getSize()._divideBy(2);
          return this.project(center, zoom2)._subtract(viewHalf)._add(this._getMapPanePos())._round();
        },
        _latLngToNewLayerPoint: function(latlng, zoom2, center) {
          var topLeft = this._getNewPixelOrigin(center, zoom2);
          return this.project(latlng, zoom2)._subtract(topLeft);
        },
        _latLngBoundsToNewLayerBounds: function(latLngBounds2, zoom2, center) {
          var topLeft = this._getNewPixelOrigin(center, zoom2);
          return toBounds([
            this.project(latLngBounds2.getSouthWest(), zoom2)._subtract(topLeft),
            this.project(latLngBounds2.getNorthWest(), zoom2)._subtract(topLeft),
            this.project(latLngBounds2.getSouthEast(), zoom2)._subtract(topLeft),
            this.project(latLngBounds2.getNorthEast(), zoom2)._subtract(topLeft)
          ]);
        },
        // layer point of the current center
        _getCenterLayerPoint: function() {
          return this.containerPointToLayerPoint(this.getSize()._divideBy(2));
        },
        // offset of the specified place to the current center in pixels
        _getCenterOffset: function(latlng) {
          return this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());
        },
        // adjust center for view to get inside bounds
        _limitCenter: function(center, zoom2, bounds) {
          if (!bounds) {
            return center;
          }
          var centerPoint = this.project(center, zoom2), viewHalf = this.getSize().divideBy(2), viewBounds = new Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)), offset = this._getBoundsOffset(viewBounds, bounds, zoom2);
          if (Math.abs(offset.x) <= 1 && Math.abs(offset.y) <= 1) {
            return center;
          }
          return this.unproject(centerPoint.add(offset), zoom2);
        },
        // adjust offset for view to get inside bounds
        _limitOffset: function(offset, bounds) {
          if (!bounds) {
            return offset;
          }
          var viewBounds = this.getPixelBounds(), newBounds = new Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));
          return offset.add(this._getBoundsOffset(newBounds, bounds));
        },
        // returns offset needed for pxBounds to get inside maxBounds at a specified zoom
        _getBoundsOffset: function(pxBounds, maxBounds, zoom2) {
          var projectedMaxBounds = toBounds(
            this.project(maxBounds.getNorthEast(), zoom2),
            this.project(maxBounds.getSouthWest(), zoom2)
          ), minOffset = projectedMaxBounds.min.subtract(pxBounds.min), maxOffset = projectedMaxBounds.max.subtract(pxBounds.max), dx = this._rebound(minOffset.x, -maxOffset.x), dy = this._rebound(minOffset.y, -maxOffset.y);
          return new Point(dx, dy);
        },
        _rebound: function(left, right) {
          return left + right > 0 ? Math.round(left - right) / 2 : Math.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));
        },
        _limitZoom: function(zoom2) {
          var min = this.getMinZoom(), max = this.getMaxZoom(), snap = Browser.any3d ? this.options.zoomSnap : 1;
          if (snap) {
            zoom2 = Math.round(zoom2 / snap) * snap;
          }
          return Math.max(min, Math.min(max, zoom2));
        },
        _onPanTransitionStep: function() {
          this.fire("move");
        },
        _onPanTransitionEnd: function() {
          removeClass(this._mapPane, "leaflet-pan-anim");
          this.fire("moveend");
        },
        _tryAnimatedPan: function(center, options) {
          var offset = this._getCenterOffset(center)._trunc();
          if ((options && options.animate) !== true && !this.getSize().contains(offset)) {
            return false;
          }
          this.panBy(offset, options);
          return true;
        },
        _createAnimProxy: function() {
          var proxy = this._proxy = create$1("div", "leaflet-proxy leaflet-zoom-animated");
          this._panes.mapPane.appendChild(proxy);
          this.on("zoomanim", function(e) {
            var prop = TRANSFORM, transform = this._proxy.style[prop];
            setTransform(this._proxy, this.project(e.center, e.zoom), this.getZoomScale(e.zoom, 1));
            if (transform === this._proxy.style[prop] && this._animatingZoom) {
              this._onZoomTransitionEnd();
            }
          }, this);
          this.on("load moveend", this._animMoveEnd, this);
          this._on("unload", this._destroyAnimProxy, this);
        },
        _destroyAnimProxy: function() {
          remove(this._proxy);
          this.off("load moveend", this._animMoveEnd, this);
          delete this._proxy;
        },
        _animMoveEnd: function() {
          var c = this.getCenter(), z = this.getZoom();
          setTransform(this._proxy, this.project(c, z), this.getZoomScale(z, 1));
        },
        _catchTransitionEnd: function(e) {
          if (this._animatingZoom && e.propertyName.indexOf("transform") >= 0) {
            this._onZoomTransitionEnd();
          }
        },
        _nothingToAnimate: function() {
          return !this._container.getElementsByClassName("leaflet-zoom-animated").length;
        },
        _tryAnimatedZoom: function(center, zoom2, options) {
          if (this._animatingZoom) {
            return true;
          }
          options = options || {};
          if (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() || Math.abs(zoom2 - this._zoom) > this.options.zoomAnimationThreshold) {
            return false;
          }
          var scale2 = this.getZoomScale(zoom2), offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale2);
          if (options.animate !== true && !this.getSize().contains(offset)) {
            return false;
          }
          requestAnimFrame(function() {
            this._moveStart(true, options.noMoveStart || false)._animateZoom(center, zoom2, true);
          }, this);
          return true;
        },
        _animateZoom: function(center, zoom2, startAnim, noUpdate) {
          if (!this._mapPane) {
            return;
          }
          if (startAnim) {
            this._animatingZoom = true;
            this._animateToCenter = center;
            this._animateToZoom = zoom2;
            addClass(this._mapPane, "leaflet-zoom-anim");
          }
          this.fire("zoomanim", {
            center,
            zoom: zoom2,
            noUpdate
          });
          if (!this._tempFireZoomEvent) {
            this._tempFireZoomEvent = this._zoom !== this._animateToZoom;
          }
          this._move(this._animateToCenter, this._animateToZoom, void 0, true);
          setTimeout(bind(this._onZoomTransitionEnd, this), 250);
        },
        _onZoomTransitionEnd: function() {
          if (!this._animatingZoom) {
            return;
          }
          if (this._mapPane) {
            removeClass(this._mapPane, "leaflet-zoom-anim");
          }
          this._animatingZoom = false;
          this._move(this._animateToCenter, this._animateToZoom, void 0, true);
          if (this._tempFireZoomEvent) {
            this.fire("zoom");
          }
          delete this._tempFireZoomEvent;
          this.fire("move");
          this._moveEnd(true);
        }
      });
      function createMap(id, options) {
        return new Map2(id, options);
      }
      var Control = Class.extend({
        // @section
        // @aka Control Options
        options: {
          // @option position: String = 'topright'
          // The position of the control (one of the map corners). Possible values are `'topleft'`,
          // `'topright'`, `'bottomleft'` or `'bottomright'`
          position: "topright"
        },
        initialize: function(options) {
          setOptions(this, options);
        },
        /* @section
         * Classes extending L.Control will inherit the following methods:
         *
         * @method getPosition: string
         * Returns the position of the control.
         */
        getPosition: function() {
          return this.options.position;
        },
        // @method setPosition(position: string): this
        // Sets the position of the control.
        setPosition: function(position) {
          var map3 = this._map;
          if (map3) {
            map3.removeControl(this);
          }
          this.options.position = position;
          if (map3) {
            map3.addControl(this);
          }
          return this;
        },
        // @method getContainer: HTMLElement
        // Returns the HTMLElement that contains the control.
        getContainer: function() {
          return this._container;
        },
        // @method addTo(map: Map): this
        // Adds the control to the given map.
        addTo: function(map3) {
          this.remove();
          this._map = map3;
          var container = this._container = this.onAdd(map3), pos = this.getPosition(), corner = map3._controlCorners[pos];
          addClass(container, "leaflet-control");
          if (pos.indexOf("bottom") !== -1) {
            corner.insertBefore(container, corner.firstChild);
          } else {
            corner.appendChild(container);
          }
          this._map.on("unload", this.remove, this);
          return this;
        },
        // @method remove: this
        // Removes the control from the map it is currently active on.
        remove: function() {
          if (!this._map) {
            return this;
          }
          remove(this._container);
          if (this.onRemove) {
            this.onRemove(this._map);
          }
          this._map.off("unload", this.remove, this);
          this._map = null;
          return this;
        },
        _refocusOnMap: function(e) {
          if (this._map && e && e.screenX > 0 && e.screenY > 0) {
            this._map.getContainer().focus();
          }
        }
      });
      var control = function(options) {
        return new Control(options);
      };
      Map2.include({
        // @method addControl(control: Control): this
        // Adds the given control to the map
        addControl: function(control2) {
          control2.addTo(this);
          return this;
        },
        // @method removeControl(control: Control): this
        // Removes the given control from the map
        removeControl: function(control2) {
          control2.remove();
          return this;
        },
        _initControlPos: function() {
          var corners = this._controlCorners = {}, l = "leaflet-", container = this._controlContainer = create$1("div", l + "control-container", this._container);
          function createCorner(vSide, hSide) {
            var className = l + vSide + " " + l + hSide;
            corners[vSide + hSide] = create$1("div", className, container);
          }
          createCorner("top", "left");
          createCorner("top", "right");
          createCorner("bottom", "left");
          createCorner("bottom", "right");
        },
        _clearControlPos: function() {
          for (var i in this._controlCorners) {
            remove(this._controlCorners[i]);
          }
          remove(this._controlContainer);
          delete this._controlCorners;
          delete this._controlContainer;
        }
      });
      var Layers = Control.extend({
        // @section
        // @aka Control.Layers options
        options: {
          // @option collapsed: Boolean = true
          // If `true`, the control will be collapsed into an icon and expanded on mouse hover, touch, or keyboard activation.
          collapsed: true,
          position: "topright",
          // @option autoZIndex: Boolean = true
          // If `true`, the control will assign zIndexes in increasing order to all of its layers so that the order is preserved when switching them on/off.
          autoZIndex: true,
          // @option hideSingleBase: Boolean = false
          // If `true`, the base layers in the control will be hidden when there is only one.
          hideSingleBase: false,
          // @option sortLayers: Boolean = false
          // Whether to sort the layers. When `false`, layers will keep the order
          // in which they were added to the control.
          sortLayers: false,
          // @option sortFunction: Function = *
          // A [compare function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)
          // that will be used for sorting the layers, when `sortLayers` is `true`.
          // The function receives both the `L.Layer` instances and their names, as in
          // `sortFunction(layerA, layerB, nameA, nameB)`.
          // By default, it sorts layers alphabetically by their name.
          sortFunction: function(layerA, layerB, nameA, nameB) {
            return nameA < nameB ? -1 : nameB < nameA ? 1 : 0;
          }
        },
        initialize: function(baseLayers, overlays, options) {
          setOptions(this, options);
          this._layerControlInputs = [];
          this._layers = [];
          this._lastZIndex = 0;
          this._handlingClick = false;
          this._preventClick = false;
          for (var i in baseLayers) {
            this._addLayer(baseLayers[i], i);
          }
          for (i in overlays) {
            this._addLayer(overlays[i], i, true);
          }
        },
        onAdd: function(map3) {
          this._initLayout();
          this._update();
          this._map = map3;
          map3.on("zoomend", this._checkDisabledLayers, this);
          for (var i = 0; i < this._layers.length; i++) {
            this._layers[i].layer.on("add remove", this._onLayerChange, this);
          }
          return this._container;
        },
        addTo: function(map3) {
          Control.prototype.addTo.call(this, map3);
          return this._expandIfNotCollapsed();
        },
        onRemove: function() {
          this._map.off("zoomend", this._checkDisabledLayers, this);
          for (var i = 0; i < this._layers.length; i++) {
            this._layers[i].layer.off("add remove", this._onLayerChange, this);
          }
        },
        // @method addBaseLayer(layer: Layer, name: String): this
        // Adds a base layer (radio button entry) with the given name to the control.
        addBaseLayer: function(layer, name) {
          this._addLayer(layer, name);
          return this._map ? this._update() : this;
        },
        // @method addOverlay(layer: Layer, name: String): this
        // Adds an overlay (checkbox entry) with the given name to the control.
        addOverlay: function(layer, name) {
          this._addLayer(layer, name, true);
          return this._map ? this._update() : this;
        },
        // @method removeLayer(layer: Layer): this
        // Remove the given layer from the control.
        removeLayer: function(layer) {
          layer.off("add remove", this._onLayerChange, this);
          var obj = this._getLayer(stamp(layer));
          if (obj) {
            this._layers.splice(this._layers.indexOf(obj), 1);
          }
          return this._map ? this._update() : this;
        },
        // @method expand(): this
        // Expand the control container if collapsed.
        expand: function() {
          addClass(this._container, "leaflet-control-layers-expanded");
          this._section.style.height = null;
          var acceptableHeight = this._map.getSize().y - (this._container.offsetTop + 50);
          if (acceptableHeight < this._section.clientHeight) {
            addClass(this._section, "leaflet-control-layers-scrollbar");
            this._section.style.height = acceptableHeight + "px";
          } else {
            removeClass(this._section, "leaflet-control-layers-scrollbar");
          }
          this._checkDisabledLayers();
          return this;
        },
        // @method collapse(): this
        // Collapse the control container if expanded.
        collapse: function() {
          removeClass(this._container, "leaflet-control-layers-expanded");
          return this;
        },
        _initLayout: function() {
          var className = "leaflet-control-layers", container = this._container = create$1("div", className), collapsed = this.options.collapsed;
          container.setAttribute("aria-haspopup", true);
          disableClickPropagation(container);
          disableScrollPropagation(container);
          var section = this._section = create$1("section", className + "-list");
          if (collapsed) {
            this._map.on("click", this.collapse, this);
            on(container, {
              mouseenter: this._expandSafely,
              mouseleave: this.collapse
            }, this);
          }
          var link = this._layersLink = create$1("a", className + "-toggle", container);
          link.href = "#";
          link.title = "Layers";
          link.setAttribute("role", "button");
          on(link, {
            keydown: function(e) {
              if (e.keyCode === 13) {
                this._expandSafely();
              }
            },
            // Certain screen readers intercept the key event and instead send a click event
            click: function(e) {
              preventDefault(e);
              this._expandSafely();
            }
          }, this);
          if (!collapsed) {
            this.expand();
          }
          this._baseLayersList = create$1("div", className + "-base", section);
          this._separator = create$1("div", className + "-separator", section);
          this._overlaysList = create$1("div", className + "-overlays", section);
          container.appendChild(section);
        },
        _getLayer: function(id) {
          for (var i = 0; i < this._layers.length; i++) {
            if (this._layers[i] && stamp(this._layers[i].layer) === id) {
              return this._layers[i];
            }
          }
        },
        _addLayer: function(layer, name, overlay) {
          if (this._map) {
            layer.on("add remove", this._onLayerChange, this);
          }
          this._layers.push({
            layer,
            name,
            overlay
          });
          if (this.options.sortLayers) {
            this._layers.sort(bind(function(a, b) {
              return this.options.sortFunction(a.layer, b.layer, a.name, b.name);
            }, this));
          }
          if (this.options.autoZIndex && layer.setZIndex) {
            this._lastZIndex++;
            layer.setZIndex(this._lastZIndex);
          }
          this._expandIfNotCollapsed();
        },
        _update: function() {
          if (!this._container) {
            return this;
          }
          empty(this._baseLayersList);
          empty(this._overlaysList);
          this._layerControlInputs = [];
          var baseLayersPresent, overlaysPresent, i, obj, baseLayersCount = 0;
          for (i = 0; i < this._layers.length; i++) {
            obj = this._layers[i];
            this._addItem(obj);
            overlaysPresent = overlaysPresent || obj.overlay;
            baseLayersPresent = baseLayersPresent || !obj.overlay;
            baseLayersCount += !obj.overlay ? 1 : 0;
          }
          if (this.options.hideSingleBase) {
            baseLayersPresent = baseLayersPresent && baseLayersCount > 1;
            this._baseLayersList.style.display = baseLayersPresent ? "" : "none";
          }
          this._separator.style.display = overlaysPresent && baseLayersPresent ? "" : "none";
          return this;
        },
        _onLayerChange: function(e) {
          if (!this._handlingClick) {
            this._update();
          }
          var obj = this._getLayer(stamp(e.target));
          var type = obj.overlay ? e.type === "add" ? "overlayadd" : "overlayremove" : e.type === "add" ? "baselayerchange" : null;
          if (type) {
            this._map.fire(type, obj);
          }
        },
        // IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see https://stackoverflow.com/a/119079)
        _createRadioElement: function(name, checked) {
          var radioHtml = '<input type="radio" class="leaflet-control-layers-selector" name="' + name + '"' + (checked ? ' checked="checked"' : "") + "/>";
          var radioFragment = document.createElement("div");
          radioFragment.innerHTML = radioHtml;
          return radioFragment.firstChild;
        },
        _addItem: function(obj) {
          var label = document.createElement("label"), checked = this._map.hasLayer(obj.layer), input;
          if (obj.overlay) {
            input = document.createElement("input");
            input.type = "checkbox";
            input.className = "leaflet-control-layers-selector";
            input.defaultChecked = checked;
          } else {
            input = this._createRadioElement("leaflet-base-layers_" + stamp(this), checked);
          }
          this._layerControlInputs.push(input);
          input.layerId = stamp(obj.layer);
          on(input, "click", this._onInputClick, this);
          var name = document.createElement("span");
          name.innerHTML = " " + obj.name;
          var holder = document.createElement("span");
          label.appendChild(holder);
          holder.appendChild(input);
          holder.appendChild(name);
          var container = obj.overlay ? this._overlaysList : this._baseLayersList;
          container.appendChild(label);
          this._checkDisabledLayers();
          return label;
        },
        _onInputClick: function() {
          if (this._preventClick) {
            return;
          }
          var inputs = this._layerControlInputs, input, layer;
          var addedLayers = [], removedLayers = [];
          this._handlingClick = true;
          for (var i = inputs.length - 1; i >= 0; i--) {
            input = inputs[i];
            layer = this._getLayer(input.layerId).layer;
            if (input.checked) {
              addedLayers.push(layer);
            } else if (!input.checked) {
              removedLayers.push(layer);
            }
          }
          for (i = 0; i < removedLayers.length; i++) {
            if (this._map.hasLayer(removedLayers[i])) {
              this._map.removeLayer(removedLayers[i]);
            }
          }
          for (i = 0; i < addedLayers.length; i++) {
            if (!this._map.hasLayer(addedLayers[i])) {
              this._map.addLayer(addedLayers[i]);
            }
          }
          this._handlingClick = false;
          this._refocusOnMap();
        },
        _checkDisabledLayers: function() {
          var inputs = this._layerControlInputs, input, layer, zoom2 = this._map.getZoom();
          for (var i = inputs.length - 1; i >= 0; i--) {
            input = inputs[i];
            layer = this._getLayer(input.layerId).layer;
            input.disabled = layer.options.minZoom !== void 0 && zoom2 < layer.options.minZoom || layer.options.maxZoom !== void 0 && zoom2 > layer.options.maxZoom;
          }
        },
        _expandIfNotCollapsed: function() {
          if (this._map && !this.options.collapsed) {
            this.expand();
          }
          return this;
        },
        _expandSafely: function() {
          var section = this._section;
          this._preventClick = true;
          on(section, "click", preventDefault);
          this.expand();
          var that = this;
          setTimeout(function() {
            off(section, "click", preventDefault);
            that._preventClick = false;
          });
        }
      });
      var layers = function(baseLayers, overlays, options) {
        return new Layers(baseLayers, overlays, options);
      };
      var Zoom = Control.extend({
        // @section
        // @aka Control.Zoom options
        options: {
          position: "topleft",
          // @option zoomInText: String = '<span aria-hidden="true">+</span>'
          // The text set on the 'zoom in' button.
          zoomInText: '<span aria-hidden="true">+</span>',
          // @option zoomInTitle: String = 'Zoom in'
          // The title set on the 'zoom in' button.
          zoomInTitle: "Zoom in",
          // @option zoomOutText: String = '<span aria-hidden="true">&#x2212;</span>'
          // The text set on the 'zoom out' button.
          zoomOutText: '<span aria-hidden="true">&#x2212;</span>',
          // @option zoomOutTitle: String = 'Zoom out'
          // The title set on the 'zoom out' button.
          zoomOutTitle: "Zoom out"
        },
        onAdd: function(map3) {
          var zoomName = "leaflet-control-zoom", container = create$1("div", zoomName + " leaflet-bar"), options = this.options;
          this._zoomInButton = this._createButton(
            options.zoomInText,
            options.zoomInTitle,
            zoomName + "-in",
            container,
            this._zoomIn
          );
          this._zoomOutButton = this._createButton(
            options.zoomOutText,
            options.zoomOutTitle,
            zoomName + "-out",
            container,
            this._zoomOut
          );
          this._updateDisabled();
          map3.on("zoomend zoomlevelschange", this._updateDisabled, this);
          return container;
        },
        onRemove: function(map3) {
          map3.off("zoomend zoomlevelschange", this._updateDisabled, this);
        },
        disable: function() {
          this._disabled = true;
          this._updateDisabled();
          return this;
        },
        enable: function() {
          this._disabled = false;
          this._updateDisabled();
          return this;
        },
        _zoomIn: function(e) {
          if (!this._disabled && this._map._zoom < this._map.getMaxZoom()) {
            this._map.zoomIn(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));
          }
        },
        _zoomOut: function(e) {
          if (!this._disabled && this._map._zoom > this._map.getMinZoom()) {
            this._map.zoomOut(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));
          }
        },
        _createButton: function(html, title, className, container, fn) {
          var link = create$1("a", className, container);
          link.innerHTML = html;
          link.href = "#";
          link.title = title;
          link.setAttribute("role", "button");
          link.setAttribute("aria-label", title);
          disableClickPropagation(link);
          on(link, "click", stop);
          on(link, "click", fn, this);
          on(link, "click", this._refocusOnMap, this);
          return link;
        },
        _updateDisabled: function() {
          var map3 = this._map, className = "leaflet-disabled";
          removeClass(this._zoomInButton, className);
          removeClass(this._zoomOutButton, className);
          this._zoomInButton.setAttribute("aria-disabled", "false");
          this._zoomOutButton.setAttribute("aria-disabled", "false");
          if (this._disabled || map3._zoom === map3.getMinZoom()) {
            addClass(this._zoomOutButton, className);
            this._zoomOutButton.setAttribute("aria-disabled", "true");
          }
          if (this._disabled || map3._zoom === map3.getMaxZoom()) {
            addClass(this._zoomInButton, className);
            this._zoomInButton.setAttribute("aria-disabled", "true");
          }
        }
      });
      Map2.mergeOptions({
        zoomControl: true
      });
      Map2.addInitHook(function() {
        if (this.options.zoomControl) {
          this.zoomControl = new Zoom();
          this.addControl(this.zoomControl);
        }
      });
      var zoom = function(options) {
        return new Zoom(options);
      };
      var Scale = Control.extend({
        // @section
        // @aka Control.Scale options
        options: {
          position: "bottomleft",
          // @option maxWidth: Number = 100
          // Maximum width of the control in pixels. The width is set dynamically to show round values (e.g. 100, 200, 500).
          maxWidth: 100,
          // @option metric: Boolean = True
          // Whether to show the metric scale line (m/km).
          metric: true,
          // @option imperial: Boolean = True
          // Whether to show the imperial scale line (mi/ft).
          imperial: true
          // @option updateWhenIdle: Boolean = false
          // If `true`, the control is updated on [`moveend`](#map-moveend), otherwise it's always up-to-date (updated on [`move`](#map-move)).
        },
        onAdd: function(map3) {
          var className = "leaflet-control-scale", container = create$1("div", className), options = this.options;
          this._addScales(options, className + "-line", container);
          map3.on(options.updateWhenIdle ? "moveend" : "move", this._update, this);
          map3.whenReady(this._update, this);
          return container;
        },
        onRemove: function(map3) {
          map3.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this);
        },
        _addScales: function(options, className, container) {
          if (options.metric) {
            this._mScale = create$1("div", className, container);
          }
          if (options.imperial) {
            this._iScale = create$1("div", className, container);
          }
        },
        _update: function() {
          var map3 = this._map, y = map3.getSize().y / 2;
          var maxMeters = map3.distance(
            map3.containerPointToLatLng([0, y]),
            map3.containerPointToLatLng([this.options.maxWidth, y])
          );
          this._updateScales(maxMeters);
        },
        _updateScales: function(maxMeters) {
          if (this.options.metric && maxMeters) {
            this._updateMetric(maxMeters);
          }
          if (this.options.imperial && maxMeters) {
            this._updateImperial(maxMeters);
          }
        },
        _updateMetric: function(maxMeters) {
          var meters = this._getRoundNum(maxMeters), label = meters < 1e3 ? meters + " m" : meters / 1e3 + " km";
          this._updateScale(this._mScale, label, meters / maxMeters);
        },
        _updateImperial: function(maxMeters) {
          var maxFeet = maxMeters * 3.2808399, maxMiles, miles, feet;
          if (maxFeet > 5280) {
            maxMiles = maxFeet / 5280;
            miles = this._getRoundNum(maxMiles);
            this._updateScale(this._iScale, miles + " mi", miles / maxMiles);
          } else {
            feet = this._getRoundNum(maxFeet);
            this._updateScale(this._iScale, feet + " ft", feet / maxFeet);
          }
        },
        _updateScale: function(scale2, text, ratio) {
          scale2.style.width = Math.round(this.options.maxWidth * ratio) + "px";
          scale2.innerHTML = text;
        },
        _getRoundNum: function(num) {
          var pow10 = Math.pow(10, (Math.floor(num) + "").length - 1), d = num / pow10;
          d = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;
          return pow10 * d;
        }
      });
      var scale = function(options) {
        return new Scale(options);
      };
      var ukrainianFlag = '<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>';
      var Attribution = Control.extend({
        // @section
        // @aka Control.Attribution options
        options: {
          position: "bottomright",
          // @option prefix: String|false = 'Leaflet'
          // The HTML text shown before the attributions. Pass `false` to disable.
          prefix: '<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">' + (Browser.inlineSvg ? ukrainianFlag + " " : "") + "Leaflet</a>"
        },
        initialize: function(options) {
          setOptions(this, options);
          this._attributions = {};
        },
        onAdd: function(map3) {
          map3.attributionControl = this;
          this._container = create$1("div", "leaflet-control-attribution");
          disableClickPropagation(this._container);
          for (var i in map3._layers) {
            if (map3._layers[i].getAttribution) {
              this.addAttribution(map3._layers[i].getAttribution());
            }
          }
          this._update();
          map3.on("layeradd", this._addAttribution, this);
          return this._container;
        },
        onRemove: function(map3) {
          map3.off("layeradd", this._addAttribution, this);
        },
        _addAttribution: function(ev) {
          if (ev.layer.getAttribution) {
            this.addAttribution(ev.layer.getAttribution());
            ev.layer.once("remove", function() {
              this.removeAttribution(ev.layer.getAttribution());
            }, this);
          }
        },
        // @method setPrefix(prefix: String|false): this
        // The HTML text shown before the attributions. Pass `false` to disable.
        setPrefix: function(prefix) {
          this.options.prefix = prefix;
          this._update();
          return this;
        },
        // @method addAttribution(text: String): this
        // Adds an attribution text (e.g. `'&copy; OpenStreetMap contributors'`).
        addAttribution: function(text) {
          if (!text) {
            return this;
          }
          if (!this._attributions[text]) {
            this._attributions[text] = 0;
          }
          this._attributions[text]++;
          this._update();
          return this;
        },
        // @method removeAttribution(text: String): this
        // Removes an attribution text.
        removeAttribution: function(text) {
          if (!text) {
            return this;
          }
          if (this._attributions[text]) {
            this._attributions[text]--;
            this._update();
          }
          return this;
        },
        _update: function() {
          if (!this._map) {
            return;
          }
          var attribs = [];
          for (var i in this._attributions) {
            if (this._attributions[i]) {
              attribs.push(i);
            }
          }
          var prefixAndAttribs = [];
          if (this.options.prefix) {
            prefixAndAttribs.push(this.options.prefix);
          }
          if (attribs.length) {
            prefixAndAttribs.push(attribs.join(", "));
          }
          this._container.innerHTML = prefixAndAttribs.join(' <span aria-hidden="true">|</span> ');
        }
      });
      Map2.mergeOptions({
        attributionControl: true
      });
      Map2.addInitHook(function() {
        if (this.options.attributionControl) {
          new Attribution().addTo(this);
        }
      });
      var attribution = function(options) {
        return new Attribution(options);
      };
      Control.Layers = Layers;
      Control.Zoom = Zoom;
      Control.Scale = Scale;
      Control.Attribution = Attribution;
      control.layers = layers;
      control.zoom = zoom;
      control.scale = scale;
      control.attribution = attribution;
      var Handler = Class.extend({
        initialize: function(map3) {
          this._map = map3;
        },
        // @method enable(): this
        // Enables the handler
        enable: function() {
          if (this._enabled) {
            return this;
          }
          this._enabled = true;
          this.addHooks();
          return this;
        },
        // @method disable(): this
        // Disables the handler
        disable: function() {
          if (!this._enabled) {
            return this;
          }
          this._enabled = false;
          this.removeHooks();
          return this;
        },
        // @method enabled(): Boolean
        // Returns `true` if the handler is enabled
        enabled: function() {
          return !!this._enabled;
        }
        // @section Extension methods
        // Classes inheriting from `Handler` must implement the two following methods:
        // @method addHooks()
        // Called when the handler is enabled, should add event hooks.
        // @method removeHooks()
        // Called when the handler is disabled, should remove the event hooks added previously.
      });
      Handler.addTo = function(map3, name) {
        map3.addHandler(name, this);
        return this;
      };
      var Mixin = { Events };
      var START = Browser.touch ? "touchstart mousedown" : "mousedown";
      var Draggable = Evented.extend({
        options: {
          // @section
          // @aka Draggable options
          // @option clickTolerance: Number = 3
          // The max number of pixels a user can shift the mouse pointer during a click
          // for it to be considered a valid click (as opposed to a mouse drag).
          clickTolerance: 3
        },
        // @constructor L.Draggable(el: HTMLElement, dragHandle?: HTMLElement, preventOutline?: Boolean, options?: Draggable options)
        // Creates a `Draggable` object for moving `el` when you start dragging the `dragHandle` element (equals `el` itself by default).
        initialize: function(element, dragStartTarget, preventOutline2, options) {
          setOptions(this, options);
          this._element = element;
          this._dragStartTarget = dragStartTarget || element;
          this._preventOutline = preventOutline2;
        },
        // @method enable()
        // Enables the dragging ability
        enable: function() {
          if (this._enabled) {
            return;
          }
          on(this._dragStartTarget, START, this._onDown, this);
          this._enabled = true;
        },
        // @method disable()
        // Disables the dragging ability
        disable: function() {
          if (!this._enabled) {
            return;
          }
          if (Draggable._dragging === this) {
            this.finishDrag(true);
          }
          off(this._dragStartTarget, START, this._onDown, this);
          this._enabled = false;
          this._moved = false;
        },
        _onDown: function(e) {
          if (!this._enabled) {
            return;
          }
          this._moved = false;
          if (hasClass(this._element, "leaflet-zoom-anim")) {
            return;
          }
          if (e.touches && e.touches.length !== 1) {
            if (Draggable._dragging === this) {
              this.finishDrag();
            }
            return;
          }
          if (Draggable._dragging || e.shiftKey || e.which !== 1 && e.button !== 1 && !e.touches) {
            return;
          }
          Draggable._dragging = this;
          if (this._preventOutline) {
            preventOutline(this._element);
          }
          disableImageDrag();
          disableTextSelection();
          if (this._moving) {
            return;
          }
          this.fire("down");
          var first = e.touches ? e.touches[0] : e, sizedParent = getSizedParentNode(this._element);
          this._startPoint = new Point(first.clientX, first.clientY);
          this._startPos = getPosition(this._element);
          this._parentScale = getScale(sizedParent);
          var mouseevent = e.type === "mousedown";
          on(document, mouseevent ? "mousemove" : "touchmove", this._onMove, this);
          on(document, mouseevent ? "mouseup" : "touchend touchcancel", this._onUp, this);
        },
        _onMove: function(e) {
          if (!this._enabled) {
            return;
          }
          if (e.touches && e.touches.length > 1) {
            this._moved = true;
            return;
          }
          var first = e.touches && e.touches.length === 1 ? e.touches[0] : e, offset = new Point(first.clientX, first.clientY)._subtract(this._startPoint);
          if (!offset.x && !offset.y) {
            return;
          }
          if (Math.abs(offset.x) + Math.abs(offset.y) < this.options.clickTolerance) {
            return;
          }
          offset.x /= this._parentScale.x;
          offset.y /= this._parentScale.y;
          preventDefault(e);
          if (!this._moved) {
            this.fire("dragstart");
            this._moved = true;
            addClass(document.body, "leaflet-dragging");
            this._lastTarget = e.target || e.srcElement;
            if (window.SVGElementInstance && this._lastTarget instanceof window.SVGElementInstance) {
              this._lastTarget = this._lastTarget.correspondingUseElement;
            }
            addClass(this._lastTarget, "leaflet-drag-target");
          }
          this._newPos = this._startPos.add(offset);
          this._moving = true;
          this._lastEvent = e;
          this._updatePosition();
        },
        _updatePosition: function() {
          var e = { originalEvent: this._lastEvent };
          this.fire("predrag", e);
          setPosition(this._element, this._newPos);
          this.fire("drag", e);
        },
        _onUp: function() {
          if (!this._enabled) {
            return;
          }
          this.finishDrag();
        },
        finishDrag: function(noInertia) {
          removeClass(document.body, "leaflet-dragging");
          if (this._lastTarget) {
            removeClass(this._lastTarget, "leaflet-drag-target");
            this._lastTarget = null;
          }
          off(document, "mousemove touchmove", this._onMove, this);
          off(document, "mouseup touchend touchcancel", this._onUp, this);
          enableImageDrag();
          enableTextSelection();
          var fireDragend = this._moved && this._moving;
          this._moving = false;
          Draggable._dragging = false;
          if (fireDragend) {
            this.fire("dragend", {
              noInertia,
              distance: this._newPos.distanceTo(this._startPos)
            });
          }
        }
      });
      function clipPolygon(points, bounds, round) {
        var clippedPoints, edges = [1, 4, 2, 8], i, j, k, a, b, len, edge2, p;
        for (i = 0, len = points.length; i < len; i++) {
          points[i]._code = _getBitCode(points[i], bounds);
        }
        for (k = 0; k < 4; k++) {
          edge2 = edges[k];
          clippedPoints = [];
          for (i = 0, len = points.length, j = len - 1; i < len; j = i++) {
            a = points[i];
            b = points[j];
            if (!(a._code & edge2)) {
              if (b._code & edge2) {
                p = _getEdgeIntersection(b, a, edge2, bounds, round);
                p._code = _getBitCode(p, bounds);
                clippedPoints.push(p);
              }
              clippedPoints.push(a);
            } else if (!(b._code & edge2)) {
              p = _getEdgeIntersection(b, a, edge2, bounds, round);
              p._code = _getBitCode(p, bounds);
              clippedPoints.push(p);
            }
          }
          points = clippedPoints;
        }
        return points;
      }
      function polygonCenter(latlngs, crs) {
        var i, j, p1, p2, f, area, x, y, center;
        if (!latlngs || latlngs.length === 0) {
          throw new Error("latlngs not passed");
        }
        if (!isFlat(latlngs)) {
          console.warn("latlngs are not flat! Only the first ring will be used");
          latlngs = latlngs[0];
        }
        var centroidLatLng = toLatLng([0, 0]);
        var bounds = toLatLngBounds(latlngs);
        var areaBounds = bounds.getNorthWest().distanceTo(bounds.getSouthWest()) * bounds.getNorthEast().distanceTo(bounds.getNorthWest());
        if (areaBounds < 1700) {
          centroidLatLng = centroid(latlngs);
        }
        var len = latlngs.length;
        var points = [];
        for (i = 0; i < len; i++) {
          var latlng = toLatLng(latlngs[i]);
          points.push(crs.project(toLatLng([latlng.lat - centroidLatLng.lat, latlng.lng - centroidLatLng.lng])));
        }
        area = x = y = 0;
        for (i = 0, j = len - 1; i < len; j = i++) {
          p1 = points[i];
          p2 = points[j];
          f = p1.y * p2.x - p2.y * p1.x;
          x += (p1.x + p2.x) * f;
          y += (p1.y + p2.y) * f;
          area += f * 3;
        }
        if (area === 0) {
          center = points[0];
        } else {
          center = [x / area, y / area];
        }
        var latlngCenter = crs.unproject(toPoint(center));
        return toLatLng([latlngCenter.lat + centroidLatLng.lat, latlngCenter.lng + centroidLatLng.lng]);
      }
      function centroid(coords) {
        var latSum = 0;
        var lngSum = 0;
        var len = 0;
        for (var i = 0; i < coords.length; i++) {
          var latlng = toLatLng(coords[i]);
          latSum += latlng.lat;
          lngSum += latlng.lng;
          len++;
        }
        return toLatLng([latSum / len, lngSum / len]);
      }
      var PolyUtil = {
        __proto__: null,
        clipPolygon,
        polygonCenter,
        centroid
      };
      function simplify(points, tolerance) {
        if (!tolerance || !points.length) {
          return points.slice();
        }
        var sqTolerance = tolerance * tolerance;
        points = _reducePoints(points, sqTolerance);
        points = _simplifyDP(points, sqTolerance);
        return points;
      }
      function pointToSegmentDistance(p, p1, p2) {
        return Math.sqrt(_sqClosestPointOnSegment(p, p1, p2, true));
      }
      function closestPointOnSegment(p, p1, p2) {
        return _sqClosestPointOnSegment(p, p1, p2);
      }
      function _simplifyDP(points, sqTolerance) {
        var len = points.length, ArrayConstructor = typeof Uint8Array !== "undefined" ? Uint8Array : Array, markers = new ArrayConstructor(len);
        markers[0] = markers[len - 1] = 1;
        _simplifyDPStep(points, markers, sqTolerance, 0, len - 1);
        var i, newPoints = [];
        for (i = 0; i < len; i++) {
          if (markers[i]) {
            newPoints.push(points[i]);
          }
        }
        return newPoints;
      }
      function _simplifyDPStep(points, markers, sqTolerance, first, last) {
        var maxSqDist = 0, index2, i, sqDist;
        for (i = first + 1; i <= last - 1; i++) {
          sqDist = _sqClosestPointOnSegment(points[i], points[first], points[last], true);
          if (sqDist > maxSqDist) {
            index2 = i;
            maxSqDist = sqDist;
          }
        }
        if (maxSqDist > sqTolerance) {
          markers[index2] = 1;
          _simplifyDPStep(points, markers, sqTolerance, first, index2);
          _simplifyDPStep(points, markers, sqTolerance, index2, last);
        }
      }
      function _reducePoints(points, sqTolerance) {
        var reducedPoints = [points[0]];
        for (var i = 1, prev = 0, len = points.length; i < len; i++) {
          if (_sqDist(points[i], points[prev]) > sqTolerance) {
            reducedPoints.push(points[i]);
            prev = i;
          }
        }
        if (prev < len - 1) {
          reducedPoints.push(points[len - 1]);
        }
        return reducedPoints;
      }
      var _lastCode;
      function clipSegment(a, b, bounds, useLastCode, round) {
        var codeA = useLastCode ? _lastCode : _getBitCode(a, bounds), codeB = _getBitCode(b, bounds), codeOut, p, newCode;
        _lastCode = codeB;
        while (true) {
          if (!(codeA | codeB)) {
            return [a, b];
          }
          if (codeA & codeB) {
            return false;
          }
          codeOut = codeA || codeB;
          p = _getEdgeIntersection(a, b, codeOut, bounds, round);
          newCode = _getBitCode(p, bounds);
          if (codeOut === codeA) {
            a = p;
            codeA = newCode;
          } else {
            b = p;
            codeB = newCode;
          }
        }
      }
      function _getEdgeIntersection(a, b, code, bounds, round) {
        var dx = b.x - a.x, dy = b.y - a.y, min = bounds.min, max = bounds.max, x, y;
        if (code & 8) {
          x = a.x + dx * (max.y - a.y) / dy;
          y = max.y;
        } else if (code & 4) {
          x = a.x + dx * (min.y - a.y) / dy;
          y = min.y;
        } else if (code & 2) {
          x = max.x;
          y = a.y + dy * (max.x - a.x) / dx;
        } else if (code & 1) {
          x = min.x;
          y = a.y + dy * (min.x - a.x) / dx;
        }
        return new Point(x, y, round);
      }
      function _getBitCode(p, bounds) {
        var code = 0;
        if (p.x < bounds.min.x) {
          code |= 1;
        } else if (p.x > bounds.max.x) {
          code |= 2;
        }
        if (p.y < bounds.min.y) {
          code |= 4;
        } else if (p.y > bounds.max.y) {
          code |= 8;
        }
        return code;
      }
      function _sqDist(p1, p2) {
        var dx = p2.x - p1.x, dy = p2.y - p1.y;
        return dx * dx + dy * dy;
      }
      function _sqClosestPointOnSegment(p, p1, p2, sqDist) {
        var x = p1.x, y = p1.y, dx = p2.x - x, dy = p2.y - y, dot = dx * dx + dy * dy, t;
        if (dot > 0) {
          t = ((p.x - x) * dx + (p.y - y) * dy) / dot;
          if (t > 1) {
            x = p2.x;
            y = p2.y;
          } else if (t > 0) {
            x += dx * t;
            y += dy * t;
          }
        }
        dx = p.x - x;
        dy = p.y - y;
        return sqDist ? dx * dx + dy * dy : new Point(x, y);
      }
      function isFlat(latlngs) {
        return !isArray(latlngs[0]) || typeof latlngs[0][0] !== "object" && typeof latlngs[0][0] !== "undefined";
      }
      function _flat(latlngs) {
        console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");
        return isFlat(latlngs);
      }
      function polylineCenter(latlngs, crs) {
        var i, halfDist, segDist, dist, p1, p2, ratio, center;
        if (!latlngs || latlngs.length === 0) {
          throw new Error("latlngs not passed");
        }
        if (!isFlat(latlngs)) {
          console.warn("latlngs are not flat! Only the first ring will be used");
          latlngs = latlngs[0];
        }
        var centroidLatLng = toLatLng([0, 0]);
        var bounds = toLatLngBounds(latlngs);
        var areaBounds = bounds.getNorthWest().distanceTo(bounds.getSouthWest()) * bounds.getNorthEast().distanceTo(bounds.getNorthWest());
        if (areaBounds < 1700) {
          centroidLatLng = centroid(latlngs);
        }
        var len = latlngs.length;
        var points = [];
        for (i = 0; i < len; i++) {
          var latlng = toLatLng(latlngs[i]);
          points.push(crs.project(toLatLng([latlng.lat - centroidLatLng.lat, latlng.lng - centroidLatLng.lng])));
        }
        for (i = 0, halfDist = 0; i < len - 1; i++) {
          halfDist += points[i].distanceTo(points[i + 1]) / 2;
        }
        if (halfDist === 0) {
          center = points[0];
        } else {
          for (i = 0, dist = 0; i < len - 1; i++) {
            p1 = points[i];
            p2 = points[i + 1];
            segDist = p1.distanceTo(p2);
            dist += segDist;
            if (dist > halfDist) {
              ratio = (dist - halfDist) / segDist;
              center = [
                p2.x - ratio * (p2.x - p1.x),
                p2.y - ratio * (p2.y - p1.y)
              ];
              break;
            }
          }
        }
        var latlngCenter = crs.unproject(toPoint(center));
        return toLatLng([latlngCenter.lat + centroidLatLng.lat, latlngCenter.lng + centroidLatLng.lng]);
      }
      var LineUtil = {
        __proto__: null,
        simplify,
        pointToSegmentDistance,
        closestPointOnSegment,
        clipSegment,
        _getEdgeIntersection,
        _getBitCode,
        _sqClosestPointOnSegment,
        isFlat,
        _flat,
        polylineCenter
      };
      var LonLat = {
        project: function(latlng) {
          return new Point(latlng.lng, latlng.lat);
        },
        unproject: function(point) {
          return new LatLng2(point.y, point.x);
        },
        bounds: new Bounds([-180, -90], [180, 90])
      };
      var Mercator = {
        R: 6378137,
        R_MINOR: 6356752314245179e-9,
        bounds: new Bounds([-2003750834279e-5, -1549657073972e-5], [2003750834279e-5, 1876465623138e-5]),
        project: function(latlng) {
          var d = Math.PI / 180, r = this.R, y = latlng.lat * d, tmp = this.R_MINOR / r, e = Math.sqrt(1 - tmp * tmp), con = e * Math.sin(y);
          var ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);
          y = -r * Math.log(Math.max(ts, 1e-10));
          return new Point(latlng.lng * d * r, y);
        },
        unproject: function(point) {
          var d = 180 / Math.PI, r = this.R, tmp = this.R_MINOR / r, e = Math.sqrt(1 - tmp * tmp), ts = Math.exp(-point.y / r), phi = Math.PI / 2 - 2 * Math.atan(ts);
          for (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {
            con = e * Math.sin(phi);
            con = Math.pow((1 - con) / (1 + con), e / 2);
            dphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;
            phi += dphi;
          }
          return new LatLng2(phi * d, point.x * d / r);
        }
      };
      var index = {
        __proto__: null,
        LonLat,
        Mercator,
        SphericalMercator
      };
      var EPSG3395 = extend({}, Earth, {
        code: "EPSG:3395",
        projection: Mercator,
        transformation: function() {
          var scale2 = 0.5 / (Math.PI * Mercator.R);
          return toTransformation(scale2, 0.5, -scale2, 0.5);
        }()
      });
      var EPSG4326 = extend({}, Earth, {
        code: "EPSG:4326",
        projection: LonLat,
        transformation: toTransformation(1 / 180, 1, -1 / 180, 0.5)
      });
      var Simple = extend({}, CRS, {
        projection: LonLat,
        transformation: toTransformation(1, 0, -1, 0),
        scale: function(zoom2) {
          return Math.pow(2, zoom2);
        },
        zoom: function(scale2) {
          return Math.log(scale2) / Math.LN2;
        },
        distance: function(latlng1, latlng2) {
          var dx = latlng2.lng - latlng1.lng, dy = latlng2.lat - latlng1.lat;
          return Math.sqrt(dx * dx + dy * dy);
        },
        infinite: true
      });
      CRS.Earth = Earth;
      CRS.EPSG3395 = EPSG3395;
      CRS.EPSG3857 = EPSG3857;
      CRS.EPSG900913 = EPSG900913;
      CRS.EPSG4326 = EPSG4326;
      CRS.Simple = Simple;
      var Layer = Evented.extend({
        // Classes extending `L.Layer` will inherit the following options:
        options: {
          // @option pane: String = 'overlayPane'
          // By default the layer will be added to the map's [overlay pane](#map-overlaypane). Overriding this option will cause the layer to be placed on another pane by default.
          pane: "overlayPane",
          // @option attribution: String = null
          // String to be shown in the attribution control, e.g. "© OpenStreetMap contributors". It describes the layer data and is often a legal obligation towards copyright holders and tile providers.
          attribution: null,
          bubblingMouseEvents: true
        },
        /* @section
         * Classes extending `L.Layer` will inherit the following methods:
         *
         * @method addTo(map: Map|LayerGroup): this
         * Adds the layer to the given map or layer group.
         */
        addTo: function(map3) {
          map3.addLayer(this);
          return this;
        },
        // @method remove: this
        // Removes the layer from the map it is currently active on.
        remove: function() {
          return this.removeFrom(this._map || this._mapToAdd);
        },
        // @method removeFrom(map: Map): this
        // Removes the layer from the given map
        //
        // @alternative
        // @method removeFrom(group: LayerGroup): this
        // Removes the layer from the given `LayerGroup`
        removeFrom: function(obj) {
          if (obj) {
            obj.removeLayer(this);
          }
          return this;
        },
        // @method getPane(name? : String): HTMLElement
        // Returns the `HTMLElement` representing the named pane on the map. If `name` is omitted, returns the pane for this layer.
        getPane: function(name) {
          return this._map.getPane(name ? this.options[name] || name : this.options.pane);
        },
        addInteractiveTarget: function(targetEl) {
          this._map._targets[stamp(targetEl)] = this;
          return this;
        },
        removeInteractiveTarget: function(targetEl) {
          delete this._map._targets[stamp(targetEl)];
          return this;
        },
        // @method getAttribution: String
        // Used by the `attribution control`, returns the [attribution option](#gridlayer-attribution).
        getAttribution: function() {
          return this.options.attribution;
        },
        _layerAdd: function(e) {
          var map3 = e.target;
          if (!map3.hasLayer(this)) {
            return;
          }
          this._map = map3;
          this._zoomAnimated = map3._zoomAnimated;
          if (this.getEvents) {
            var events = this.getEvents();
            map3.on(events, this);
            this.once("remove", function() {
              map3.off(events, this);
            }, this);
          }
          this.onAdd(map3);
          this.fire("add");
          map3.fire("layeradd", { layer: this });
        }
      });
      Map2.include({
        // @method addLayer(layer: Layer): this
        // Adds the given layer to the map
        addLayer: function(layer) {
          if (!layer._layerAdd) {
            throw new Error("The provided object is not a Layer.");
          }
          var id = stamp(layer);
          if (this._layers[id]) {
            return this;
          }
          this._layers[id] = layer;
          layer._mapToAdd = this;
          if (layer.beforeAdd) {
            layer.beforeAdd(this);
          }
          this.whenReady(layer._layerAdd, layer);
          return this;
        },
        // @method removeLayer(layer: Layer): this
        // Removes the given layer from the map.
        removeLayer: function(layer) {
          var id = stamp(layer);
          if (!this._layers[id]) {
            return this;
          }
          if (this._loaded) {
            layer.onRemove(this);
          }
          delete this._layers[id];
          if (this._loaded) {
            this.fire("layerremove", { layer });
            layer.fire("remove");
          }
          layer._map = layer._mapToAdd = null;
          return this;
        },
        // @method hasLayer(layer: Layer): Boolean
        // Returns `true` if the given layer is currently added to the map
        hasLayer: function(layer) {
          return stamp(layer) in this._layers;
        },
        /* @method eachLayer(fn: Function, context?: Object): this
         * Iterates over the layers of the map, optionally specifying context of the iterator function.
         * ```
         * map.eachLayer(function(layer){
         *     layer.bindPopup('Hello');
         * });
         * ```
         */
        eachLayer: function(method, context) {
          for (var i in this._layers) {
            method.call(context, this._layers[i]);
          }
          return this;
        },
        _addLayers: function(layers2) {
          layers2 = layers2 ? isArray(layers2) ? layers2 : [layers2] : [];
          for (var i = 0, len = layers2.length; i < len; i++) {
            this.addLayer(layers2[i]);
          }
        },
        _addZoomLimit: function(layer) {
          if (!isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom)) {
            this._zoomBoundLayers[stamp(layer)] = layer;
            this._updateZoomLevels();
          }
        },
        _removeZoomLimit: function(layer) {
          var id = stamp(layer);
          if (this._zoomBoundLayers[id]) {
            delete this._zoomBoundLayers[id];
            this._updateZoomLevels();
          }
        },
        _updateZoomLevels: function() {
          var minZoom = Infinity, maxZoom = -Infinity, oldZoomSpan = this._getZoomSpan();
          for (var i in this._zoomBoundLayers) {
            var options = this._zoomBoundLayers[i].options;
            minZoom = options.minZoom === void 0 ? minZoom : Math.min(minZoom, options.minZoom);
            maxZoom = options.maxZoom === void 0 ? maxZoom : Math.max(maxZoom, options.maxZoom);
          }
          this._layersMaxZoom = maxZoom === -Infinity ? void 0 : maxZoom;
          this._layersMinZoom = minZoom === Infinity ? void 0 : minZoom;
          if (oldZoomSpan !== this._getZoomSpan()) {
            this.fire("zoomlevelschange");
          }
          if (this.options.maxZoom === void 0 && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom) {
            this.setZoom(this._layersMaxZoom);
          }
          if (this.options.minZoom === void 0 && this._layersMinZoom && this.getZoom() < this._layersMinZoom) {
            this.setZoom(this._layersMinZoom);
          }
        }
      });
      var LayerGroup = Layer.extend({
        initialize: function(layers2, options) {
          setOptions(this, options);
          this._layers = {};
          var i, len;
          if (layers2) {
            for (i = 0, len = layers2.length; i < len; i++) {
              this.addLayer(layers2[i]);
            }
          }
        },
        // @method addLayer(layer: Layer): this
        // Adds the given layer to the group.
        addLayer: function(layer) {
          var id = this.getLayerId(layer);
          this._layers[id] = layer;
          if (this._map) {
            this._map.addLayer(layer);
          }
          return this;
        },
        // @method removeLayer(layer: Layer): this
        // Removes the given layer from the group.
        // @alternative
        // @method removeLayer(id: Number): this
        // Removes the layer with the given internal ID from the group.
        removeLayer: function(layer) {
          var id = layer in this._layers ? layer : this.getLayerId(layer);
          if (this._map && this._layers[id]) {
            this._map.removeLayer(this._layers[id]);
          }
          delete this._layers[id];
          return this;
        },
        // @method hasLayer(layer: Layer): Boolean
        // Returns `true` if the given layer is currently added to the group.
        // @alternative
        // @method hasLayer(id: Number): Boolean
        // Returns `true` if the given internal ID is currently added to the group.
        hasLayer: function(layer) {
          var layerId = typeof layer === "number" ? layer : this.getLayerId(layer);
          return layerId in this._layers;
        },
        // @method clearLayers(): this
        // Removes all the layers from the group.
        clearLayers: function() {
          return this.eachLayer(this.removeLayer, this);
        },
        // @method invoke(methodName: String, …): this
        // Calls `methodName` on every layer contained in this group, passing any
        // additional parameters. Has no effect if the layers contained do not
        // implement `methodName`.
        invoke: function(methodName) {
          var args = Array.prototype.slice.call(arguments, 1), i, layer;
          for (i in this._layers) {
            layer = this._layers[i];
            if (layer[methodName]) {
              layer[methodName].apply(layer, args);
            }
          }
          return this;
        },
        onAdd: function(map3) {
          this.eachLayer(map3.addLayer, map3);
        },
        onRemove: function(map3) {
          this.eachLayer(map3.removeLayer, map3);
        },
        // @method eachLayer(fn: Function, context?: Object): this
        // Iterates over the layers of the group, optionally specifying context of the iterator function.
        // ```js
        // group.eachLayer(function (layer) {
        // 	layer.bindPopup('Hello');
        // });
        // ```
        eachLayer: function(method, context) {
          for (var i in this._layers) {
            method.call(context, this._layers[i]);
          }
          return this;
        },
        // @method getLayer(id: Number): Layer
        // Returns the layer with the given internal ID.
        getLayer: function(id) {
          return this._layers[id];
        },
        // @method getLayers(): Layer[]
        // Returns an array of all the layers added to the group.
        getLayers: function() {
          var layers2 = [];
          this.eachLayer(layers2.push, layers2);
          return layers2;
        },
        // @method setZIndex(zIndex: Number): this
        // Calls `setZIndex` on every layer contained in this group, passing the z-index.
        setZIndex: function(zIndex) {
          return this.invoke("setZIndex", zIndex);
        },
        // @method getLayerId(layer: Layer): Number
        // Returns the internal ID for a layer
        getLayerId: function(layer) {
          return stamp(layer);
        }
      });
      var layerGroup = function(layers2, options) {
        return new LayerGroup(layers2, options);
      };
      var FeatureGroup2 = LayerGroup.extend({
        addLayer: function(layer) {
          if (this.hasLayer(layer)) {
            return this;
          }
          layer.addEventParent(this);
          LayerGroup.prototype.addLayer.call(this, layer);
          return this.fire("layeradd", { layer });
        },
        removeLayer: function(layer) {
          if (!this.hasLayer(layer)) {
            return this;
          }
          if (layer in this._layers) {
            layer = this._layers[layer];
          }
          layer.removeEventParent(this);
          LayerGroup.prototype.removeLayer.call(this, layer);
          return this.fire("layerremove", { layer });
        },
        // @method setStyle(style: Path options): this
        // Sets the given path options to each layer of the group that has a `setStyle` method.
        setStyle: function(style2) {
          return this.invoke("setStyle", style2);
        },
        // @method bringToFront(): this
        // Brings the layer group to the top of all other layers
        bringToFront: function() {
          return this.invoke("bringToFront");
        },
        // @method bringToBack(): this
        // Brings the layer group to the back of all other layers
        bringToBack: function() {
          return this.invoke("bringToBack");
        },
        // @method getBounds(): LatLngBounds
        // Returns the LatLngBounds of the Feature Group (created from bounds and coordinates of its children).
        getBounds: function() {
          var bounds = new LatLngBounds();
          for (var id in this._layers) {
            var layer = this._layers[id];
            bounds.extend(layer.getBounds ? layer.getBounds() : layer.getLatLng());
          }
          return bounds;
        }
      });
      var featureGroup = function(layers2, options) {
        return new FeatureGroup2(layers2, options);
      };
      var Icon = Class.extend({
        /* @section
         * @aka Icon options
         *
         * @option iconUrl: String = null
         * **(required)** The URL to the icon image (absolute or relative to your script path).
         *
         * @option iconRetinaUrl: String = null
         * The URL to a retina sized version of the icon image (absolute or relative to your
         * script path). Used for Retina screen devices.
         *
         * @option iconSize: Point = null
         * Size of the icon image in pixels.
         *
         * @option iconAnchor: Point = null
         * The coordinates of the "tip" of the icon (relative to its top left corner). The icon
         * will be aligned so that this point is at the marker's geographical location. Centered
         * by default if size is specified, also can be set in CSS with negative margins.
         *
         * @option popupAnchor: Point = [0, 0]
         * The coordinates of the point from which popups will "open", relative to the icon anchor.
         *
         * @option tooltipAnchor: Point = [0, 0]
         * The coordinates of the point from which tooltips will "open", relative to the icon anchor.
         *
         * @option shadowUrl: String = null
         * The URL to the icon shadow image. If not specified, no shadow image will be created.
         *
         * @option shadowRetinaUrl: String = null
         *
         * @option shadowSize: Point = null
         * Size of the shadow image in pixels.
         *
         * @option shadowAnchor: Point = null
         * The coordinates of the "tip" of the shadow (relative to its top left corner) (the same
         * as iconAnchor if not specified).
         *
         * @option className: String = ''
         * A custom class name to assign to both icon and shadow images. Empty by default.
         */
        options: {
          popupAnchor: [0, 0],
          tooltipAnchor: [0, 0],
          // @option crossOrigin: Boolean|String = false
          // Whether the crossOrigin attribute will be added to the tiles.
          // If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.
          // Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.
          crossOrigin: false
        },
        initialize: function(options) {
          setOptions(this, options);
        },
        // @method createIcon(oldIcon?: HTMLElement): HTMLElement
        // Called internally when the icon has to be shown, returns a `<img>` HTML element
        // styled according to the options.
        createIcon: function(oldIcon) {
          return this._createIcon("icon", oldIcon);
        },
        // @method createShadow(oldIcon?: HTMLElement): HTMLElement
        // As `createIcon`, but for the shadow beneath it.
        createShadow: function(oldIcon) {
          return this._createIcon("shadow", oldIcon);
        },
        _createIcon: function(name, oldIcon) {
          var src = this._getIconUrl(name);
          if (!src) {
            if (name === "icon") {
              throw new Error("iconUrl not set in Icon options (see the docs).");
            }
            return null;
          }
          var img = this._createImg(src, oldIcon && oldIcon.tagName === "IMG" ? oldIcon : null);
          this._setIconStyles(img, name);
          if (this.options.crossOrigin || this.options.crossOrigin === "") {
            img.crossOrigin = this.options.crossOrigin === true ? "" : this.options.crossOrigin;
          }
          return img;
        },
        _setIconStyles: function(img, name) {
          var options = this.options;
          var sizeOption = options[name + "Size"];
          if (typeof sizeOption === "number") {
            sizeOption = [sizeOption, sizeOption];
          }
          var size = toPoint(sizeOption), anchor = toPoint(name === "shadow" && options.shadowAnchor || options.iconAnchor || size && size.divideBy(2, true));
          img.className = "leaflet-marker-" + name + " " + (options.className || "");
          if (anchor) {
            img.style.marginLeft = -anchor.x + "px";
            img.style.marginTop = -anchor.y + "px";
          }
          if (size) {
            img.style.width = size.x + "px";
            img.style.height = size.y + "px";
          }
        },
        _createImg: function(src, el) {
          el = el || document.createElement("img");
          el.src = src;
          return el;
        },
        _getIconUrl: function(name) {
          return Browser.retina && this.options[name + "RetinaUrl"] || this.options[name + "Url"];
        }
      });
      function icon(options) {
        return new Icon(options);
      }
      var IconDefault = Icon.extend({
        options: {
          iconUrl: "marker-icon.png",
          iconRetinaUrl: "marker-icon-2x.png",
          shadowUrl: "marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          tooltipAnchor: [16, -28],
          shadowSize: [41, 41]
        },
        _getIconUrl: function(name) {
          if (typeof IconDefault.imagePath !== "string") {
            IconDefault.imagePath = this._detectIconPath();
          }
          return (this.options.imagePath || IconDefault.imagePath) + Icon.prototype._getIconUrl.call(this, name);
        },
        _stripUrl: function(path) {
          var strip = function(str, re, idx) {
            var match = re.exec(str);
            return match && match[idx];
          };
          path = strip(path, /^url\((['"])?(.+)\1\)$/, 2);
          return path && strip(path, /^(.*)marker-icon\.png$/, 1);
        },
        _detectIconPath: function() {
          var el = create$1("div", "leaflet-default-icon-path", document.body);
          var path = getStyle(el, "background-image") || getStyle(el, "backgroundImage");
          document.body.removeChild(el);
          path = this._stripUrl(path);
          if (path) {
            return path;
          }
          var link = document.querySelector('link[href$="leaflet.css"]');
          if (!link) {
            return "";
          }
          return link.href.substring(0, link.href.length - "leaflet.css".length - 1);
        }
      });
      var MarkerDrag = Handler.extend({
        initialize: function(marker3) {
          this._marker = marker3;
        },
        addHooks: function() {
          var icon2 = this._marker._icon;
          if (!this._draggable) {
            this._draggable = new Draggable(icon2, icon2, true);
          }
          this._draggable.on({
            dragstart: this._onDragStart,
            predrag: this._onPreDrag,
            drag: this._onDrag,
            dragend: this._onDragEnd
          }, this).enable();
          addClass(icon2, "leaflet-marker-draggable");
        },
        removeHooks: function() {
          this._draggable.off({
            dragstart: this._onDragStart,
            predrag: this._onPreDrag,
            drag: this._onDrag,
            dragend: this._onDragEnd
          }, this).disable();
          if (this._marker._icon) {
            removeClass(this._marker._icon, "leaflet-marker-draggable");
          }
        },
        moved: function() {
          return this._draggable && this._draggable._moved;
        },
        _adjustPan: function(e) {
          var marker3 = this._marker, map3 = marker3._map, speed = this._marker.options.autoPanSpeed, padding = this._marker.options.autoPanPadding, iconPos = getPosition(marker3._icon), bounds = map3.getPixelBounds(), origin = map3.getPixelOrigin();
          var panBounds = toBounds(
            bounds.min._subtract(origin).add(padding),
            bounds.max._subtract(origin).subtract(padding)
          );
          if (!panBounds.contains(iconPos)) {
            var movement = toPoint(
              (Math.max(panBounds.max.x, iconPos.x) - panBounds.max.x) / (bounds.max.x - panBounds.max.x) - (Math.min(panBounds.min.x, iconPos.x) - panBounds.min.x) / (bounds.min.x - panBounds.min.x),
              (Math.max(panBounds.max.y, iconPos.y) - panBounds.max.y) / (bounds.max.y - panBounds.max.y) - (Math.min(panBounds.min.y, iconPos.y) - panBounds.min.y) / (bounds.min.y - panBounds.min.y)
            ).multiplyBy(speed);
            map3.panBy(movement, { animate: false });
            this._draggable._newPos._add(movement);
            this._draggable._startPos._add(movement);
            setPosition(marker3._icon, this._draggable._newPos);
            this._onDrag(e);
            this._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));
          }
        },
        _onDragStart: function() {
          this._oldLatLng = this._marker.getLatLng();
          this._marker.closePopup && this._marker.closePopup();
          this._marker.fire("movestart").fire("dragstart");
        },
        _onPreDrag: function(e) {
          if (this._marker.options.autoPan) {
            cancelAnimFrame(this._panRequest);
            this._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));
          }
        },
        _onDrag: function(e) {
          var marker3 = this._marker, shadow = marker3._shadow, iconPos = getPosition(marker3._icon), latlng = marker3._map.layerPointToLatLng(iconPos);
          if (shadow) {
            setPosition(shadow, iconPos);
          }
          marker3._latlng = latlng;
          e.latlng = latlng;
          e.oldLatLng = this._oldLatLng;
          marker3.fire("move", e).fire("drag", e);
        },
        _onDragEnd: function(e) {
          cancelAnimFrame(this._panRequest);
          delete this._oldLatLng;
          this._marker.fire("moveend").fire("dragend", e);
        }
      });
      var Marker = Layer.extend({
        // @section
        // @aka Marker options
        options: {
          // @option icon: Icon = *
          // Icon instance to use for rendering the marker.
          // See [Icon documentation](#L.Icon) for details on how to customize the marker icon.
          // If not specified, a common instance of `L.Icon.Default` is used.
          icon: new IconDefault(),
          // Option inherited from "Interactive layer" abstract class
          interactive: true,
          // @option keyboard: Boolean = true
          // Whether the marker can be tabbed to with a keyboard and clicked by pressing enter.
          keyboard: true,
          // @option title: String = ''
          // Text for the browser tooltip that appear on marker hover (no tooltip by default).
          // [Useful for accessibility](https://leafletjs.com/examples/accessibility/#markers-must-be-labelled).
          title: "",
          // @option alt: String = 'Marker'
          // Text for the `alt` attribute of the icon image.
          // [Useful for accessibility](https://leafletjs.com/examples/accessibility/#markers-must-be-labelled).
          alt: "Marker",
          // @option zIndexOffset: Number = 0
          // By default, marker images zIndex is set automatically based on its latitude. Use this option if you want to put the marker on top of all others (or below), specifying a high value like `1000` (or high negative value, respectively).
          zIndexOffset: 0,
          // @option opacity: Number = 1.0
          // The opacity of the marker.
          opacity: 1,
          // @option riseOnHover: Boolean = false
          // If `true`, the marker will get on top of others when you hover the mouse over it.
          riseOnHover: false,
          // @option riseOffset: Number = 250
          // The z-index offset used for the `riseOnHover` feature.
          riseOffset: 250,
          // @option pane: String = 'markerPane'
          // `Map pane` where the markers icon will be added.
          pane: "markerPane",
          // @option shadowPane: String = 'shadowPane'
          // `Map pane` where the markers shadow will be added.
          shadowPane: "shadowPane",
          // @option bubblingMouseEvents: Boolean = false
          // When `true`, a mouse event on this marker will trigger the same event on the map
          // (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).
          bubblingMouseEvents: false,
          // @option autoPanOnFocus: Boolean = true
          // When `true`, the map will pan whenever the marker is focused (via
          // e.g. pressing `tab` on the keyboard) to ensure the marker is
          // visible within the map's bounds
          autoPanOnFocus: true,
          // @section Draggable marker options
          // @option draggable: Boolean = false
          // Whether the marker is draggable with mouse/touch or not.
          draggable: false,
          // @option autoPan: Boolean = false
          // Whether to pan the map when dragging this marker near its edge or not.
          autoPan: false,
          // @option autoPanPadding: Point = Point(50, 50)
          // Distance (in pixels to the left/right and to the top/bottom) of the
          // map edge to start panning the map.
          autoPanPadding: [50, 50],
          // @option autoPanSpeed: Number = 10
          // Number of pixels the map should pan by.
          autoPanSpeed: 10
        },
        /* @section
         *
         * In addition to [shared layer methods](#Layer) like `addTo()` and `remove()` and [popup methods](#Popup) like bindPopup() you can also use the following methods:
         */
        initialize: function(latlng, options) {
          setOptions(this, options);
          this._latlng = toLatLng(latlng);
        },
        onAdd: function(map3) {
          this._zoomAnimated = this._zoomAnimated && map3.options.markerZoomAnimation;
          if (this._zoomAnimated) {
            map3.on("zoomanim", this._animateZoom, this);
          }
          this._initIcon();
          this.update();
        },
        onRemove: function(map3) {
          if (this.dragging && this.dragging.enabled()) {
            this.options.draggable = true;
            this.dragging.removeHooks();
          }
          delete this.dragging;
          if (this._zoomAnimated) {
            map3.off("zoomanim", this._animateZoom, this);
          }
          this._removeIcon();
          this._removeShadow();
        },
        getEvents: function() {
          return {
            zoom: this.update,
            viewreset: this.update
          };
        },
        // @method getLatLng: LatLng
        // Returns the current geographical position of the marker.
        getLatLng: function() {
          return this._latlng;
        },
        // @method setLatLng(latlng: LatLng): this
        // Changes the marker position to the given point.
        setLatLng: function(latlng) {
          var oldLatLng = this._latlng;
          this._latlng = toLatLng(latlng);
          this.update();
          return this.fire("move", { oldLatLng, latlng: this._latlng });
        },
        // @method setZIndexOffset(offset: Number): this
        // Changes the [zIndex offset](#marker-zindexoffset) of the marker.
        setZIndexOffset: function(offset) {
          this.options.zIndexOffset = offset;
          return this.update();
        },
        // @method getIcon: Icon
        // Returns the current icon used by the marker
        getIcon: function() {
          return this.options.icon;
        },
        // @method setIcon(icon: Icon): this
        // Changes the marker icon.
        setIcon: function(icon2) {
          this.options.icon = icon2;
          if (this._map) {
            this._initIcon();
            this.update();
          }
          if (this._popup) {
            this.bindPopup(this._popup, this._popup.options);
          }
          return this;
        },
        getElement: function() {
          return this._icon;
        },
        update: function() {
          if (this._icon && this._map) {
            var pos = this._map.latLngToLayerPoint(this._latlng).round();
            this._setPos(pos);
          }
          return this;
        },
        _initIcon: function() {
          var options = this.options, classToAdd = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
          var icon2 = options.icon.createIcon(this._icon), addIcon = false;
          if (icon2 !== this._icon) {
            if (this._icon) {
              this._removeIcon();
            }
            addIcon = true;
            if (options.title) {
              icon2.title = options.title;
            }
            if (icon2.tagName === "IMG") {
              icon2.alt = options.alt || "";
            }
          }
          addClass(icon2, classToAdd);
          if (options.keyboard) {
            icon2.tabIndex = "0";
            icon2.setAttribute("role", "button");
          }
          this._icon = icon2;
          if (options.riseOnHover) {
            this.on({
              mouseover: this._bringToFront,
              mouseout: this._resetZIndex
            });
          }
          if (this.options.autoPanOnFocus) {
            on(icon2, "focus", this._panOnFocus, this);
          }
          var newShadow = options.icon.createShadow(this._shadow), addShadow = false;
          if (newShadow !== this._shadow) {
            this._removeShadow();
            addShadow = true;
          }
          if (newShadow) {
            addClass(newShadow, classToAdd);
            newShadow.alt = "";
          }
          this._shadow = newShadow;
          if (options.opacity < 1) {
            this._updateOpacity();
          }
          if (addIcon) {
            this.getPane().appendChild(this._icon);
          }
          this._initInteraction();
          if (newShadow && addShadow) {
            this.getPane(options.shadowPane).appendChild(this._shadow);
          }
        },
        _removeIcon: function() {
          if (this.options.riseOnHover) {
            this.off({
              mouseover: this._bringToFront,
              mouseout: this._resetZIndex
            });
          }
          if (this.options.autoPanOnFocus) {
            off(this._icon, "focus", this._panOnFocus, this);
          }
          remove(this._icon);
          this.removeInteractiveTarget(this._icon);
          this._icon = null;
        },
        _removeShadow: function() {
          if (this._shadow) {
            remove(this._shadow);
          }
          this._shadow = null;
        },
        _setPos: function(pos) {
          if (this._icon) {
            setPosition(this._icon, pos);
          }
          if (this._shadow) {
            setPosition(this._shadow, pos);
          }
          this._zIndex = pos.y + this.options.zIndexOffset;
          this._resetZIndex();
        },
        _updateZIndex: function(offset) {
          if (this._icon) {
            this._icon.style.zIndex = this._zIndex + offset;
          }
        },
        _animateZoom: function(opt) {
          var pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();
          this._setPos(pos);
        },
        _initInteraction: function() {
          if (!this.options.interactive) {
            return;
          }
          addClass(this._icon, "leaflet-interactive");
          this.addInteractiveTarget(this._icon);
          if (MarkerDrag) {
            var draggable = this.options.draggable;
            if (this.dragging) {
              draggable = this.dragging.enabled();
              this.dragging.disable();
            }
            this.dragging = new MarkerDrag(this);
            if (draggable) {
              this.dragging.enable();
            }
          }
        },
        // @method setOpacity(opacity: Number): this
        // Changes the opacity of the marker.
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          if (this._map) {
            this._updateOpacity();
          }
          return this;
        },
        _updateOpacity: function() {
          var opacity = this.options.opacity;
          if (this._icon) {
            setOpacity(this._icon, opacity);
          }
          if (this._shadow) {
            setOpacity(this._shadow, opacity);
          }
        },
        _bringToFront: function() {
          this._updateZIndex(this.options.riseOffset);
        },
        _resetZIndex: function() {
          this._updateZIndex(0);
        },
        _panOnFocus: function() {
          var map3 = this._map;
          if (!map3) {
            return;
          }
          var iconOpts = this.options.icon.options;
          var size = iconOpts.iconSize ? toPoint(iconOpts.iconSize) : toPoint(0, 0);
          var anchor = iconOpts.iconAnchor ? toPoint(iconOpts.iconAnchor) : toPoint(0, 0);
          map3.panInside(this._latlng, {
            paddingTopLeft: anchor,
            paddingBottomRight: size.subtract(anchor)
          });
        },
        _getPopupAnchor: function() {
          return this.options.icon.options.popupAnchor;
        },
        _getTooltipAnchor: function() {
          return this.options.icon.options.tooltipAnchor;
        }
      });
      function marker2(latlng, options) {
        return new Marker(latlng, options);
      }
      var Path = Layer.extend({
        // @section
        // @aka Path options
        options: {
          // @option stroke: Boolean = true
          // Whether to draw stroke along the path. Set it to `false` to disable borders on polygons or circles.
          stroke: true,
          // @option color: String = '#3388ff'
          // Stroke color
          color: "#3388ff",
          // @option weight: Number = 3
          // Stroke width in pixels
          weight: 3,
          // @option opacity: Number = 1.0
          // Stroke opacity
          opacity: 1,
          // @option lineCap: String= 'round'
          // A string that defines [shape to be used at the end](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linecap) of the stroke.
          lineCap: "round",
          // @option lineJoin: String = 'round'
          // A string that defines [shape to be used at the corners](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linejoin) of the stroke.
          lineJoin: "round",
          // @option dashArray: String = null
          // A string that defines the stroke [dash pattern](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dasharray). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).
          dashArray: null,
          // @option dashOffset: String = null
          // A string that defines the [distance into the dash pattern to start the dash](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dashoffset). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).
          dashOffset: null,
          // @option fill: Boolean = depends
          // Whether to fill the path with color. Set it to `false` to disable filling on polygons or circles.
          fill: false,
          // @option fillColor: String = *
          // Fill color. Defaults to the value of the [`color`](#path-color) option
          fillColor: null,
          // @option fillOpacity: Number = 0.2
          // Fill opacity.
          fillOpacity: 0.2,
          // @option fillRule: String = 'evenodd'
          // A string that defines [how the inside of a shape](https://developer.mozilla.org/docs/Web/SVG/Attribute/fill-rule) is determined.
          fillRule: "evenodd",
          // className: '',
          // Option inherited from "Interactive layer" abstract class
          interactive: true,
          // @option bubblingMouseEvents: Boolean = true
          // When `true`, a mouse event on this path will trigger the same event on the map
          // (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).
          bubblingMouseEvents: true
        },
        beforeAdd: function(map3) {
          this._renderer = map3.getRenderer(this);
        },
        onAdd: function() {
          this._renderer._initPath(this);
          this._reset();
          this._renderer._addPath(this);
        },
        onRemove: function() {
          this._renderer._removePath(this);
        },
        // @method redraw(): this
        // Redraws the layer. Sometimes useful after you changed the coordinates that the path uses.
        redraw: function() {
          if (this._map) {
            this._renderer._updatePath(this);
          }
          return this;
        },
        // @method setStyle(style: Path options): this
        // Changes the appearance of a Path based on the options in the `Path options` object.
        setStyle: function(style2) {
          setOptions(this, style2);
          if (this._renderer) {
            this._renderer._updateStyle(this);
            if (this.options.stroke && style2 && Object.prototype.hasOwnProperty.call(style2, "weight")) {
              this._updateBounds();
            }
          }
          return this;
        },
        // @method bringToFront(): this
        // Brings the layer to the top of all path layers.
        bringToFront: function() {
          if (this._renderer) {
            this._renderer._bringToFront(this);
          }
          return this;
        },
        // @method bringToBack(): this
        // Brings the layer to the bottom of all path layers.
        bringToBack: function() {
          if (this._renderer) {
            this._renderer._bringToBack(this);
          }
          return this;
        },
        getElement: function() {
          return this._path;
        },
        _reset: function() {
          this._project();
          this._update();
        },
        _clickTolerance: function() {
          return (this.options.stroke ? this.options.weight / 2 : 0) + (this._renderer.options.tolerance || 0);
        }
      });
      var CircleMarker = Path.extend({
        // @section
        // @aka CircleMarker options
        options: {
          fill: true,
          // @option radius: Number = 10
          // Radius of the circle marker, in pixels
          radius: 10
        },
        initialize: function(latlng, options) {
          setOptions(this, options);
          this._latlng = toLatLng(latlng);
          this._radius = this.options.radius;
        },
        // @method setLatLng(latLng: LatLng): this
        // Sets the position of a circle marker to a new location.
        setLatLng: function(latlng) {
          var oldLatLng = this._latlng;
          this._latlng = toLatLng(latlng);
          this.redraw();
          return this.fire("move", { oldLatLng, latlng: this._latlng });
        },
        // @method getLatLng(): LatLng
        // Returns the current geographical position of the circle marker
        getLatLng: function() {
          return this._latlng;
        },
        // @method setRadius(radius: Number): this
        // Sets the radius of a circle marker. Units are in pixels.
        setRadius: function(radius) {
          this.options.radius = this._radius = radius;
          return this.redraw();
        },
        // @method getRadius(): Number
        // Returns the current radius of the circle
        getRadius: function() {
          return this._radius;
        },
        setStyle: function(options) {
          var radius = options && options.radius || this._radius;
          Path.prototype.setStyle.call(this, options);
          this.setRadius(radius);
          return this;
        },
        _project: function() {
          this._point = this._map.latLngToLayerPoint(this._latlng);
          this._updateBounds();
        },
        _updateBounds: function() {
          var r = this._radius, r2 = this._radiusY || r, w = this._clickTolerance(), p = [r + w, r2 + w];
          this._pxBounds = new Bounds(this._point.subtract(p), this._point.add(p));
        },
        _update: function() {
          if (this._map) {
            this._updatePath();
          }
        },
        _updatePath: function() {
          this._renderer._updateCircle(this);
        },
        _empty: function() {
          return this._radius && !this._renderer._bounds.intersects(this._pxBounds);
        },
        // Needed by the `Canvas` renderer for interactivity
        _containsPoint: function(p) {
          return p.distanceTo(this._point) <= this._radius + this._clickTolerance();
        }
      });
      function circleMarker2(latlng, options) {
        return new CircleMarker(latlng, options);
      }
      var Circle = CircleMarker.extend({
        initialize: function(latlng, options, legacyOptions) {
          if (typeof options === "number") {
            options = extend({}, legacyOptions, { radius: options });
          }
          setOptions(this, options);
          this._latlng = toLatLng(latlng);
          if (isNaN(this.options.radius)) {
            throw new Error("Circle radius cannot be NaN");
          }
          this._mRadius = this.options.radius;
        },
        // @method setRadius(radius: Number): this
        // Sets the radius of a circle. Units are in meters.
        setRadius: function(radius) {
          this._mRadius = radius;
          return this.redraw();
        },
        // @method getRadius(): Number
        // Returns the current radius of a circle. Units are in meters.
        getRadius: function() {
          return this._mRadius;
        },
        // @method getBounds(): LatLngBounds
        // Returns the `LatLngBounds` of the path.
        getBounds: function() {
          var half = [this._radius, this._radiusY || this._radius];
          return new LatLngBounds(
            this._map.layerPointToLatLng(this._point.subtract(half)),
            this._map.layerPointToLatLng(this._point.add(half))
          );
        },
        setStyle: Path.prototype.setStyle,
        _project: function() {
          var lng = this._latlng.lng, lat = this._latlng.lat, map3 = this._map, crs = map3.options.crs;
          if (crs.distance === Earth.distance) {
            var d = Math.PI / 180, latR = this._mRadius / Earth.R / d, top = map3.project([lat + latR, lng]), bottom = map3.project([lat - latR, lng]), p = top.add(bottom).divideBy(2), lat2 = map3.unproject(p).lat, lngR = Math.acos((Math.cos(latR * d) - Math.sin(lat * d) * Math.sin(lat2 * d)) / (Math.cos(lat * d) * Math.cos(lat2 * d))) / d;
            if (isNaN(lngR) || lngR === 0) {
              lngR = latR / Math.cos(Math.PI / 180 * lat);
            }
            this._point = p.subtract(map3.getPixelOrigin());
            this._radius = isNaN(lngR) ? 0 : p.x - map3.project([lat2, lng - lngR]).x;
            this._radiusY = p.y - top.y;
          } else {
            var latlng2 = crs.unproject(crs.project(this._latlng).subtract([this._mRadius, 0]));
            this._point = map3.latLngToLayerPoint(this._latlng);
            this._radius = this._point.x - map3.latLngToLayerPoint(latlng2).x;
          }
          this._updateBounds();
        }
      });
      function circle2(latlng, options, legacyOptions) {
        return new Circle(latlng, options, legacyOptions);
      }
      var Polyline = Path.extend({
        // @section
        // @aka Polyline options
        options: {
          // @option smoothFactor: Number = 1.0
          // How much to simplify the polyline on each zoom level. More means
          // better performance and smoother look, and less means more accurate representation.
          smoothFactor: 1,
          // @option noClip: Boolean = false
          // Disable polyline clipping.
          noClip: false
        },
        initialize: function(latlngs, options) {
          setOptions(this, options);
          this._setLatLngs(latlngs);
        },
        // @method getLatLngs(): LatLng[]
        // Returns an array of the points in the path, or nested arrays of points in case of multi-polyline.
        getLatLngs: function() {
          return this._latlngs;
        },
        // @method setLatLngs(latlngs: LatLng[]): this
        // Replaces all the points in the polyline with the given array of geographical points.
        setLatLngs: function(latlngs) {
          this._setLatLngs(latlngs);
          return this.redraw();
        },
        // @method isEmpty(): Boolean
        // Returns `true` if the Polyline has no LatLngs.
        isEmpty: function() {
          return !this._latlngs.length;
        },
        // @method closestLayerPoint(p: Point): Point
        // Returns the point closest to `p` on the Polyline.
        closestLayerPoint: function(p) {
          var minDistance = Infinity, minPoint = null, closest = _sqClosestPointOnSegment, p1, p2;
          for (var j = 0, jLen = this._parts.length; j < jLen; j++) {
            var points = this._parts[j];
            for (var i = 1, len = points.length; i < len; i++) {
              p1 = points[i - 1];
              p2 = points[i];
              var sqDist = closest(p, p1, p2, true);
              if (sqDist < minDistance) {
                minDistance = sqDist;
                minPoint = closest(p, p1, p2);
              }
            }
          }
          if (minPoint) {
            minPoint.distance = Math.sqrt(minDistance);
          }
          return minPoint;
        },
        // @method getCenter(): LatLng
        // Returns the center ([centroid](https://en.wikipedia.org/wiki/Centroid)) of the polyline.
        getCenter: function() {
          if (!this._map) {
            throw new Error("Must add layer to map before using getCenter()");
          }
          return polylineCenter(this._defaultShape(), this._map.options.crs);
        },
        // @method getBounds(): LatLngBounds
        // Returns the `LatLngBounds` of the path.
        getBounds: function() {
          return this._bounds;
        },
        // @method addLatLng(latlng: LatLng, latlngs?: LatLng[]): this
        // Adds a given point to the polyline. By default, adds to the first ring of
        // the polyline in case of a multi-polyline, but can be overridden by passing
        // a specific ring as a LatLng array (that you can earlier access with [`getLatLngs`](#polyline-getlatlngs)).
        addLatLng: function(latlng, latlngs) {
          latlngs = latlngs || this._defaultShape();
          latlng = toLatLng(latlng);
          latlngs.push(latlng);
          this._bounds.extend(latlng);
          return this.redraw();
        },
        _setLatLngs: function(latlngs) {
          this._bounds = new LatLngBounds();
          this._latlngs = this._convertLatLngs(latlngs);
        },
        _defaultShape: function() {
          return isFlat(this._latlngs) ? this._latlngs : this._latlngs[0];
        },
        // recursively convert latlngs input into actual LatLng instances; calculate bounds along the way
        _convertLatLngs: function(latlngs) {
          var result = [], flat = isFlat(latlngs);
          for (var i = 0, len = latlngs.length; i < len; i++) {
            if (flat) {
              result[i] = toLatLng(latlngs[i]);
              this._bounds.extend(result[i]);
            } else {
              result[i] = this._convertLatLngs(latlngs[i]);
            }
          }
          return result;
        },
        _project: function() {
          var pxBounds = new Bounds();
          this._rings = [];
          this._projectLatlngs(this._latlngs, this._rings, pxBounds);
          if (this._bounds.isValid() && pxBounds.isValid()) {
            this._rawPxBounds = pxBounds;
            this._updateBounds();
          }
        },
        _updateBounds: function() {
          var w = this._clickTolerance(), p = new Point(w, w);
          if (!this._rawPxBounds) {
            return;
          }
          this._pxBounds = new Bounds([
            this._rawPxBounds.min.subtract(p),
            this._rawPxBounds.max.add(p)
          ]);
        },
        // recursively turns latlngs into a set of rings with projected coordinates
        _projectLatlngs: function(latlngs, result, projectedBounds) {
          var flat = latlngs[0] instanceof LatLng2, len = latlngs.length, i, ring;
          if (flat) {
            ring = [];
            for (i = 0; i < len; i++) {
              ring[i] = this._map.latLngToLayerPoint(latlngs[i]);
              projectedBounds.extend(ring[i]);
            }
            result.push(ring);
          } else {
            for (i = 0; i < len; i++) {
              this._projectLatlngs(latlngs[i], result, projectedBounds);
            }
          }
        },
        // clip polyline by renderer bounds so that we have less to render for performance
        _clipPoints: function() {
          var bounds = this._renderer._bounds;
          this._parts = [];
          if (!this._pxBounds || !this._pxBounds.intersects(bounds)) {
            return;
          }
          if (this.options.noClip) {
            this._parts = this._rings;
            return;
          }
          var parts = this._parts, i, j, k, len, len2, segment, points;
          for (i = 0, k = 0, len = this._rings.length; i < len; i++) {
            points = this._rings[i];
            for (j = 0, len2 = points.length; j < len2 - 1; j++) {
              segment = clipSegment(points[j], points[j + 1], bounds, j, true);
              if (!segment) {
                continue;
              }
              parts[k] = parts[k] || [];
              parts[k].push(segment[0]);
              if (segment[1] !== points[j + 1] || j === len2 - 2) {
                parts[k].push(segment[1]);
                k++;
              }
            }
          }
        },
        // simplify each clipped part of the polyline for performance
        _simplifyPoints: function() {
          var parts = this._parts, tolerance = this.options.smoothFactor;
          for (var i = 0, len = parts.length; i < len; i++) {
            parts[i] = simplify(parts[i], tolerance);
          }
        },
        _update: function() {
          if (!this._map) {
            return;
          }
          this._clipPoints();
          this._simplifyPoints();
          this._updatePath();
        },
        _updatePath: function() {
          this._renderer._updatePoly(this);
        },
        // Needed by the `Canvas` renderer for interactivity
        _containsPoint: function(p, closed) {
          var i, j, k, len, len2, part, w = this._clickTolerance();
          if (!this._pxBounds || !this._pxBounds.contains(p)) {
            return false;
          }
          for (i = 0, len = this._parts.length; i < len; i++) {
            part = this._parts[i];
            for (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {
              if (!closed && j === 0) {
                continue;
              }
              if (pointToSegmentDistance(p, part[k], part[j]) <= w) {
                return true;
              }
            }
          }
          return false;
        }
      });
      function polyline(latlngs, options) {
        return new Polyline(latlngs, options);
      }
      Polyline._flat = _flat;
      var Polygon = Polyline.extend({
        options: {
          fill: true
        },
        isEmpty: function() {
          return !this._latlngs.length || !this._latlngs[0].length;
        },
        // @method getCenter(): LatLng
        // Returns the center ([centroid](http://en.wikipedia.org/wiki/Centroid)) of the Polygon.
        getCenter: function() {
          if (!this._map) {
            throw new Error("Must add layer to map before using getCenter()");
          }
          return polygonCenter(this._defaultShape(), this._map.options.crs);
        },
        _convertLatLngs: function(latlngs) {
          var result = Polyline.prototype._convertLatLngs.call(this, latlngs), len = result.length;
          if (len >= 2 && result[0] instanceof LatLng2 && result[0].equals(result[len - 1])) {
            result.pop();
          }
          return result;
        },
        _setLatLngs: function(latlngs) {
          Polyline.prototype._setLatLngs.call(this, latlngs);
          if (isFlat(this._latlngs)) {
            this._latlngs = [this._latlngs];
          }
        },
        _defaultShape: function() {
          return isFlat(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0];
        },
        _clipPoints: function() {
          var bounds = this._renderer._bounds, w = this.options.weight, p = new Point(w, w);
          bounds = new Bounds(bounds.min.subtract(p), bounds.max.add(p));
          this._parts = [];
          if (!this._pxBounds || !this._pxBounds.intersects(bounds)) {
            return;
          }
          if (this.options.noClip) {
            this._parts = this._rings;
            return;
          }
          for (var i = 0, len = this._rings.length, clipped; i < len; i++) {
            clipped = clipPolygon(this._rings[i], bounds, true);
            if (clipped.length) {
              this._parts.push(clipped);
            }
          }
        },
        _updatePath: function() {
          this._renderer._updatePoly(this, true);
        },
        // Needed by the `Canvas` renderer for interactivity
        _containsPoint: function(p) {
          var inside = false, part, p1, p2, i, j, k, len, len2;
          if (!this._pxBounds || !this._pxBounds.contains(p)) {
            return false;
          }
          for (i = 0, len = this._parts.length; i < len; i++) {
            part = this._parts[i];
            for (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {
              p1 = part[j];
              p2 = part[k];
              if (p1.y > p.y !== p2.y > p.y && p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x) {
                inside = !inside;
              }
            }
          }
          return inside || Polyline.prototype._containsPoint.call(this, p, true);
        }
      });
      function polygon(latlngs, options) {
        return new Polygon(latlngs, options);
      }
      var GeoJSON = FeatureGroup2.extend({
        /* @section
         * @aka GeoJSON options
         *
         * @option pointToLayer: Function = *
         * A `Function` defining how GeoJSON points spawn Leaflet layers. It is internally
         * called when data is added, passing the GeoJSON point feature and its `LatLng`.
         * The default is to spawn a default `Marker`:
         * ```js
         * function(geoJsonPoint, latlng) {
         * 	return L.marker(latlng);
         * }
         * ```
         *
         * @option style: Function = *
         * A `Function` defining the `Path options` for styling GeoJSON lines and polygons,
         * called internally when data is added.
         * The default value is to not override any defaults:
         * ```js
         * function (geoJsonFeature) {
         * 	return {}
         * }
         * ```
         *
         * @option onEachFeature: Function = *
         * A `Function` that will be called once for each created `Feature`, after it has
         * been created and styled. Useful for attaching events and popups to features.
         * The default is to do nothing with the newly created layers:
         * ```js
         * function (feature, layer) {}
         * ```
         *
         * @option filter: Function = *
         * A `Function` that will be used to decide whether to include a feature or not.
         * The default is to include all features:
         * ```js
         * function (geoJsonFeature) {
         * 	return true;
         * }
         * ```
         * Note: dynamically changing the `filter` option will have effect only on newly
         * added data. It will _not_ re-evaluate already included features.
         *
         * @option coordsToLatLng: Function = *
         * A `Function` that will be used for converting GeoJSON coordinates to `LatLng`s.
         * The default is the `coordsToLatLng` static method.
         *
         * @option markersInheritOptions: Boolean = false
         * Whether default Markers for "Point" type Features inherit from group options.
         */
        initialize: function(geojson, options) {
          setOptions(this, options);
          this._layers = {};
          if (geojson) {
            this.addData(geojson);
          }
        },
        // @method addData( <GeoJSON> data ): this
        // Adds a GeoJSON object to the layer.
        addData: function(geojson) {
          var features = isArray(geojson) ? geojson : geojson.features, i, len, feature;
          if (features) {
            for (i = 0, len = features.length; i < len; i++) {
              feature = features[i];
              if (feature.geometries || feature.geometry || feature.features || feature.coordinates) {
                this.addData(feature);
              }
            }
            return this;
          }
          var options = this.options;
          if (options.filter && !options.filter(geojson)) {
            return this;
          }
          var layer = geometryToLayer(geojson, options);
          if (!layer) {
            return this;
          }
          layer.feature = asFeature(geojson);
          layer.defaultOptions = layer.options;
          this.resetStyle(layer);
          if (options.onEachFeature) {
            options.onEachFeature(geojson, layer);
          }
          return this.addLayer(layer);
        },
        // @method resetStyle( <Path> layer? ): this
        // Resets the given vector layer's style to the original GeoJSON style, useful for resetting style after hover events.
        // If `layer` is omitted, the style of all features in the current layer is reset.
        resetStyle: function(layer) {
          if (layer === void 0) {
            return this.eachLayer(this.resetStyle, this);
          }
          layer.options = extend({}, layer.defaultOptions);
          this._setLayerStyle(layer, this.options.style);
          return this;
        },
        // @method setStyle( <Function> style ): this
        // Changes styles of GeoJSON vector layers with the given style function.
        setStyle: function(style2) {
          return this.eachLayer(function(layer) {
            this._setLayerStyle(layer, style2);
          }, this);
        },
        _setLayerStyle: function(layer, style2) {
          if (layer.setStyle) {
            if (typeof style2 === "function") {
              style2 = style2(layer.feature);
            }
            layer.setStyle(style2);
          }
        }
      });
      function geometryToLayer(geojson, options) {
        var geometry = geojson.type === "Feature" ? geojson.geometry : geojson, coords = geometry ? geometry.coordinates : null, layers2 = [], pointToLayer = options && options.pointToLayer, _coordsToLatLng = options && options.coordsToLatLng || coordsToLatLng, latlng, latlngs, i, len;
        if (!coords && !geometry) {
          return null;
        }
        switch (geometry.type) {
          case "Point":
            latlng = _coordsToLatLng(coords);
            return _pointToLayer(pointToLayer, geojson, latlng, options);
          case "MultiPoint":
            for (i = 0, len = coords.length; i < len; i++) {
              latlng = _coordsToLatLng(coords[i]);
              layers2.push(_pointToLayer(pointToLayer, geojson, latlng, options));
            }
            return new FeatureGroup2(layers2);
          case "LineString":
          case "MultiLineString":
            latlngs = coordsToLatLngs(coords, geometry.type === "LineString" ? 0 : 1, _coordsToLatLng);
            return new Polyline(latlngs, options);
          case "Polygon":
          case "MultiPolygon":
            latlngs = coordsToLatLngs(coords, geometry.type === "Polygon" ? 1 : 2, _coordsToLatLng);
            return new Polygon(latlngs, options);
          case "GeometryCollection":
            for (i = 0, len = geometry.geometries.length; i < len; i++) {
              var geoLayer = geometryToLayer({
                geometry: geometry.geometries[i],
                type: "Feature",
                properties: geojson.properties
              }, options);
              if (geoLayer) {
                layers2.push(geoLayer);
              }
            }
            return new FeatureGroup2(layers2);
          case "FeatureCollection":
            for (i = 0, len = geometry.features.length; i < len; i++) {
              var featureLayer = geometryToLayer(geometry.features[i], options);
              if (featureLayer) {
                layers2.push(featureLayer);
              }
            }
            return new FeatureGroup2(layers2);
          default:
            throw new Error("Invalid GeoJSON object.");
        }
      }
      function _pointToLayer(pointToLayerFn, geojson, latlng, options) {
        return pointToLayerFn ? pointToLayerFn(geojson, latlng) : new Marker(latlng, options && options.markersInheritOptions && options);
      }
      function coordsToLatLng(coords) {
        return new LatLng2(coords[1], coords[0], coords[2]);
      }
      function coordsToLatLngs(coords, levelsDeep, _coordsToLatLng) {
        var latlngs = [];
        for (var i = 0, len = coords.length, latlng; i < len; i++) {
          latlng = levelsDeep ? coordsToLatLngs(coords[i], levelsDeep - 1, _coordsToLatLng) : (_coordsToLatLng || coordsToLatLng)(coords[i]);
          latlngs.push(latlng);
        }
        return latlngs;
      }
      function latLngToCoords(latlng, precision) {
        latlng = toLatLng(latlng);
        return latlng.alt !== void 0 ? [formatNum(latlng.lng, precision), formatNum(latlng.lat, precision), formatNum(latlng.alt, precision)] : [formatNum(latlng.lng, precision), formatNum(latlng.lat, precision)];
      }
      function latLngsToCoords(latlngs, levelsDeep, closed, precision) {
        var coords = [];
        for (var i = 0, len = latlngs.length; i < len; i++) {
          coords.push(levelsDeep ? latLngsToCoords(latlngs[i], isFlat(latlngs[i]) ? 0 : levelsDeep - 1, closed, precision) : latLngToCoords(latlngs[i], precision));
        }
        if (!levelsDeep && closed && coords.length > 0) {
          coords.push(coords[0].slice());
        }
        return coords;
      }
      function getFeature(layer, newGeometry) {
        return layer.feature ? extend({}, layer.feature, { geometry: newGeometry }) : asFeature(newGeometry);
      }
      function asFeature(geojson) {
        if (geojson.type === "Feature" || geojson.type === "FeatureCollection") {
          return geojson;
        }
        return {
          type: "Feature",
          properties: {},
          geometry: geojson
        };
      }
      var PointToGeoJSON = {
        toGeoJSON: function(precision) {
          return getFeature(this, {
            type: "Point",
            coordinates: latLngToCoords(this.getLatLng(), precision)
          });
        }
      };
      Marker.include(PointToGeoJSON);
      Circle.include(PointToGeoJSON);
      CircleMarker.include(PointToGeoJSON);
      Polyline.include({
        toGeoJSON: function(precision) {
          var multi = !isFlat(this._latlngs);
          var coords = latLngsToCoords(this._latlngs, multi ? 1 : 0, false, precision);
          return getFeature(this, {
            type: (multi ? "Multi" : "") + "LineString",
            coordinates: coords
          });
        }
      });
      Polygon.include({
        toGeoJSON: function(precision) {
          var holes = !isFlat(this._latlngs), multi = holes && !isFlat(this._latlngs[0]);
          var coords = latLngsToCoords(this._latlngs, multi ? 2 : holes ? 1 : 0, true, precision);
          if (!holes) {
            coords = [coords];
          }
          return getFeature(this, {
            type: (multi ? "Multi" : "") + "Polygon",
            coordinates: coords
          });
        }
      });
      LayerGroup.include({
        toMultiPoint: function(precision) {
          var coords = [];
          this.eachLayer(function(layer) {
            coords.push(layer.toGeoJSON(precision).geometry.coordinates);
          });
          return getFeature(this, {
            type: "MultiPoint",
            coordinates: coords
          });
        },
        // @method toGeoJSON(precision?: Number|false): Object
        // Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.
        // Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the layer group (as a GeoJSON `FeatureCollection`, `GeometryCollection`, or `MultiPoint`).
        toGeoJSON: function(precision) {
          var type = this.feature && this.feature.geometry && this.feature.geometry.type;
          if (type === "MultiPoint") {
            return this.toMultiPoint(precision);
          }
          var isGeometryCollection = type === "GeometryCollection", jsons = [];
          this.eachLayer(function(layer) {
            if (layer.toGeoJSON) {
              var json = layer.toGeoJSON(precision);
              if (isGeometryCollection) {
                jsons.push(json.geometry);
              } else {
                var feature = asFeature(json);
                if (feature.type === "FeatureCollection") {
                  jsons.push.apply(jsons, feature.features);
                } else {
                  jsons.push(feature);
                }
              }
            }
          });
          if (isGeometryCollection) {
            return getFeature(this, {
              geometries: jsons,
              type: "GeometryCollection"
            });
          }
          return {
            type: "FeatureCollection",
            features: jsons
          };
        }
      });
      function geoJSON2(geojson, options) {
        return new GeoJSON(geojson, options);
      }
      var geoJson = geoJSON2;
      var ImageOverlay = Layer.extend({
        // @section
        // @aka ImageOverlay options
        options: {
          // @option opacity: Number = 1.0
          // The opacity of the image overlay.
          opacity: 1,
          // @option alt: String = ''
          // Text for the `alt` attribute of the image (useful for accessibility).
          alt: "",
          // @option interactive: Boolean = false
          // If `true`, the image overlay will emit [mouse events](#interactive-layer) when clicked or hovered.
          interactive: false,
          // @option crossOrigin: Boolean|String = false
          // Whether the crossOrigin attribute will be added to the image.
          // If a String is provided, the image will have its crossOrigin attribute set to the String provided. This is needed if you want to access image pixel data.
          // Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.
          crossOrigin: false,
          // @option errorOverlayUrl: String = ''
          // URL to the overlay image to show in place of the overlay that failed to load.
          errorOverlayUrl: "",
          // @option zIndex: Number = 1
          // The explicit [zIndex](https://developer.mozilla.org/docs/Web/CSS/CSS_Positioning/Understanding_z_index) of the overlay layer.
          zIndex: 1,
          // @option className: String = ''
          // A custom class name to assign to the image. Empty by default.
          className: ""
        },
        initialize: function(url, bounds, options) {
          this._url = url;
          this._bounds = toLatLngBounds(bounds);
          setOptions(this, options);
        },
        onAdd: function() {
          if (!this._image) {
            this._initImage();
            if (this.options.opacity < 1) {
              this._updateOpacity();
            }
          }
          if (this.options.interactive) {
            addClass(this._image, "leaflet-interactive");
            this.addInteractiveTarget(this._image);
          }
          this.getPane().appendChild(this._image);
          this._reset();
        },
        onRemove: function() {
          remove(this._image);
          if (this.options.interactive) {
            this.removeInteractiveTarget(this._image);
          }
        },
        // @method setOpacity(opacity: Number): this
        // Sets the opacity of the overlay.
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          if (this._image) {
            this._updateOpacity();
          }
          return this;
        },
        setStyle: function(styleOpts) {
          if (styleOpts.opacity) {
            this.setOpacity(styleOpts.opacity);
          }
          return this;
        },
        // @method bringToFront(): this
        // Brings the layer to the top of all overlays.
        bringToFront: function() {
          if (this._map) {
            toFront(this._image);
          }
          return this;
        },
        // @method bringToBack(): this
        // Brings the layer to the bottom of all overlays.
        bringToBack: function() {
          if (this._map) {
            toBack(this._image);
          }
          return this;
        },
        // @method setUrl(url: String): this
        // Changes the URL of the image.
        setUrl: function(url) {
          this._url = url;
          if (this._image) {
            this._image.src = url;
          }
          return this;
        },
        // @method setBounds(bounds: LatLngBounds): this
        // Update the bounds that this ImageOverlay covers
        setBounds: function(bounds) {
          this._bounds = toLatLngBounds(bounds);
          if (this._map) {
            this._reset();
          }
          return this;
        },
        getEvents: function() {
          var events = {
            zoom: this._reset,
            viewreset: this._reset
          };
          if (this._zoomAnimated) {
            events.zoomanim = this._animateZoom;
          }
          return events;
        },
        // @method setZIndex(value: Number): this
        // Changes the [zIndex](#imageoverlay-zindex) of the image overlay.
        setZIndex: function(value) {
          this.options.zIndex = value;
          this._updateZIndex();
          return this;
        },
        // @method getBounds(): LatLngBounds
        // Get the bounds that this ImageOverlay covers
        getBounds: function() {
          return this._bounds;
        },
        // @method getElement(): HTMLElement
        // Returns the instance of [`HTMLImageElement`](https://developer.mozilla.org/docs/Web/API/HTMLImageElement)
        // used by this overlay.
        getElement: function() {
          return this._image;
        },
        _initImage: function() {
          var wasElementSupplied = this._url.tagName === "IMG";
          var img = this._image = wasElementSupplied ? this._url : create$1("img");
          addClass(img, "leaflet-image-layer");
          if (this._zoomAnimated) {
            addClass(img, "leaflet-zoom-animated");
          }
          if (this.options.className) {
            addClass(img, this.options.className);
          }
          img.onselectstart = falseFn;
          img.onmousemove = falseFn;
          img.onload = bind(this.fire, this, "load");
          img.onerror = bind(this._overlayOnError, this, "error");
          if (this.options.crossOrigin || this.options.crossOrigin === "") {
            img.crossOrigin = this.options.crossOrigin === true ? "" : this.options.crossOrigin;
          }
          if (this.options.zIndex) {
            this._updateZIndex();
          }
          if (wasElementSupplied) {
            this._url = img.src;
            return;
          }
          img.src = this._url;
          img.alt = this.options.alt;
        },
        _animateZoom: function(e) {
          var scale2 = this._map.getZoomScale(e.zoom), offset = this._map._latLngBoundsToNewLayerBounds(this._bounds, e.zoom, e.center).min;
          setTransform(this._image, offset, scale2);
        },
        _reset: function() {
          var image = this._image, bounds = new Bounds(
            this._map.latLngToLayerPoint(this._bounds.getNorthWest()),
            this._map.latLngToLayerPoint(this._bounds.getSouthEast())
          ), size = bounds.getSize();
          setPosition(image, bounds.min);
          image.style.width = size.x + "px";
          image.style.height = size.y + "px";
        },
        _updateOpacity: function() {
          setOpacity(this._image, this.options.opacity);
        },
        _updateZIndex: function() {
          if (this._image && this.options.zIndex !== void 0 && this.options.zIndex !== null) {
            this._image.style.zIndex = this.options.zIndex;
          }
        },
        _overlayOnError: function() {
          this.fire("error");
          var errorUrl = this.options.errorOverlayUrl;
          if (errorUrl && this._url !== errorUrl) {
            this._url = errorUrl;
            this._image.src = errorUrl;
          }
        },
        // @method getCenter(): LatLng
        // Returns the center of the ImageOverlay.
        getCenter: function() {
          return this._bounds.getCenter();
        }
      });
      var imageOverlay = function(url, bounds, options) {
        return new ImageOverlay(url, bounds, options);
      };
      var VideoOverlay = ImageOverlay.extend({
        // @section
        // @aka VideoOverlay options
        options: {
          // @option autoplay: Boolean = true
          // Whether the video starts playing automatically when loaded.
          // On some browsers autoplay will only work with `muted: true`
          autoplay: true,
          // @option loop: Boolean = true
          // Whether the video will loop back to the beginning when played.
          loop: true,
          // @option keepAspectRatio: Boolean = true
          // Whether the video will save aspect ratio after the projection.
          // Relevant for supported browsers. See [browser compatibility](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit)
          keepAspectRatio: true,
          // @option muted: Boolean = false
          // Whether the video starts on mute when loaded.
          muted: false,
          // @option playsInline: Boolean = true
          // Mobile browsers will play the video right where it is instead of open it up in fullscreen mode.
          playsInline: true
        },
        _initImage: function() {
          var wasElementSupplied = this._url.tagName === "VIDEO";
          var vid = this._image = wasElementSupplied ? this._url : create$1("video");
          addClass(vid, "leaflet-image-layer");
          if (this._zoomAnimated) {
            addClass(vid, "leaflet-zoom-animated");
          }
          if (this.options.className) {
            addClass(vid, this.options.className);
          }
          vid.onselectstart = falseFn;
          vid.onmousemove = falseFn;
          vid.onloadeddata = bind(this.fire, this, "load");
          if (wasElementSupplied) {
            var sourceElements = vid.getElementsByTagName("source");
            var sources = [];
            for (var j = 0; j < sourceElements.length; j++) {
              sources.push(sourceElements[j].src);
            }
            this._url = sourceElements.length > 0 ? sources : [vid.src];
            return;
          }
          if (!isArray(this._url)) {
            this._url = [this._url];
          }
          if (!this.options.keepAspectRatio && Object.prototype.hasOwnProperty.call(vid.style, "objectFit")) {
            vid.style["objectFit"] = "fill";
          }
          vid.autoplay = !!this.options.autoplay;
          vid.loop = !!this.options.loop;
          vid.muted = !!this.options.muted;
          vid.playsInline = !!this.options.playsInline;
          for (var i = 0; i < this._url.length; i++) {
            var source = create$1("source");
            source.src = this._url[i];
            vid.appendChild(source);
          }
        }
        // @method getElement(): HTMLVideoElement
        // Returns the instance of [`HTMLVideoElement`](https://developer.mozilla.org/docs/Web/API/HTMLVideoElement)
        // used by this overlay.
      });
      function videoOverlay(video, bounds, options) {
        return new VideoOverlay(video, bounds, options);
      }
      var SVGOverlay = ImageOverlay.extend({
        _initImage: function() {
          var el = this._image = this._url;
          addClass(el, "leaflet-image-layer");
          if (this._zoomAnimated) {
            addClass(el, "leaflet-zoom-animated");
          }
          if (this.options.className) {
            addClass(el, this.options.className);
          }
          el.onselectstart = falseFn;
          el.onmousemove = falseFn;
        }
        // @method getElement(): SVGElement
        // Returns the instance of [`SVGElement`](https://developer.mozilla.org/docs/Web/API/SVGElement)
        // used by this overlay.
      });
      function svgOverlay(el, bounds, options) {
        return new SVGOverlay(el, bounds, options);
      }
      var DivOverlay = Layer.extend({
        // @section
        // @aka DivOverlay options
        options: {
          // @option interactive: Boolean = false
          // If true, the popup/tooltip will listen to the mouse events.
          interactive: false,
          // @option offset: Point = Point(0, 0)
          // The offset of the overlay position.
          offset: [0, 0],
          // @option className: String = ''
          // A custom CSS class name to assign to the overlay.
          className: "",
          // @option pane: String = undefined
          // `Map pane` where the overlay will be added.
          pane: void 0,
          // @option content: String|HTMLElement|Function = ''
          // Sets the HTML content of the overlay while initializing. If a function is passed the source layer will be
          // passed to the function. The function should return a `String` or `HTMLElement` to be used in the overlay.
          content: ""
        },
        initialize: function(options, source) {
          if (options && (options instanceof LatLng2 || isArray(options))) {
            this._latlng = toLatLng(options);
            setOptions(this, source);
          } else {
            setOptions(this, options);
            this._source = source;
          }
          if (this.options.content) {
            this._content = this.options.content;
          }
        },
        // @method openOn(map: Map): this
        // Adds the overlay to the map.
        // Alternative to `map.openPopup(popup)`/`.openTooltip(tooltip)`.
        openOn: function(map3) {
          map3 = arguments.length ? map3 : this._source._map;
          if (!map3.hasLayer(this)) {
            map3.addLayer(this);
          }
          return this;
        },
        // @method close(): this
        // Closes the overlay.
        // Alternative to `map.closePopup(popup)`/`.closeTooltip(tooltip)`
        // and `layer.closePopup()`/`.closeTooltip()`.
        close: function() {
          if (this._map) {
            this._map.removeLayer(this);
          }
          return this;
        },
        // @method toggle(layer?: Layer): this
        // Opens or closes the overlay bound to layer depending on its current state.
        // Argument may be omitted only for overlay bound to layer.
        // Alternative to `layer.togglePopup()`/`.toggleTooltip()`.
        toggle: function(layer) {
          if (this._map) {
            this.close();
          } else {
            if (arguments.length) {
              this._source = layer;
            } else {
              layer = this._source;
            }
            this._prepareOpen();
            this.openOn(layer._map);
          }
          return this;
        },
        onAdd: function(map3) {
          this._zoomAnimated = map3._zoomAnimated;
          if (!this._container) {
            this._initLayout();
          }
          if (map3._fadeAnimated) {
            setOpacity(this._container, 0);
          }
          clearTimeout(this._removeTimeout);
          this.getPane().appendChild(this._container);
          this.update();
          if (map3._fadeAnimated) {
            setOpacity(this._container, 1);
          }
          this.bringToFront();
          if (this.options.interactive) {
            addClass(this._container, "leaflet-interactive");
            this.addInteractiveTarget(this._container);
          }
        },
        onRemove: function(map3) {
          if (map3._fadeAnimated) {
            setOpacity(this._container, 0);
            this._removeTimeout = setTimeout(bind(remove, void 0, this._container), 200);
          } else {
            remove(this._container);
          }
          if (this.options.interactive) {
            removeClass(this._container, "leaflet-interactive");
            this.removeInteractiveTarget(this._container);
          }
        },
        // @namespace DivOverlay
        // @method getLatLng: LatLng
        // Returns the geographical point of the overlay.
        getLatLng: function() {
          return this._latlng;
        },
        // @method setLatLng(latlng: LatLng): this
        // Sets the geographical point where the overlay will open.
        setLatLng: function(latlng) {
          this._latlng = toLatLng(latlng);
          if (this._map) {
            this._updatePosition();
            this._adjustPan();
          }
          return this;
        },
        // @method getContent: String|HTMLElement
        // Returns the content of the overlay.
        getContent: function() {
          return this._content;
        },
        // @method setContent(htmlContent: String|HTMLElement|Function): this
        // Sets the HTML content of the overlay. If a function is passed the source layer will be passed to the function.
        // The function should return a `String` or `HTMLElement` to be used in the overlay.
        setContent: function(content) {
          this._content = content;
          this.update();
          return this;
        },
        // @method getElement: String|HTMLElement
        // Returns the HTML container of the overlay.
        getElement: function() {
          return this._container;
        },
        // @method update: null
        // Updates the overlay content, layout and position. Useful for updating the overlay after something inside changed, e.g. image loaded.
        update: function() {
          if (!this._map) {
            return;
          }
          this._container.style.visibility = "hidden";
          this._updateContent();
          this._updateLayout();
          this._updatePosition();
          this._container.style.visibility = "";
          this._adjustPan();
        },
        getEvents: function() {
          var events = {
            zoom: this._updatePosition,
            viewreset: this._updatePosition
          };
          if (this._zoomAnimated) {
            events.zoomanim = this._animateZoom;
          }
          return events;
        },
        // @method isOpen: Boolean
        // Returns `true` when the overlay is visible on the map.
        isOpen: function() {
          return !!this._map && this._map.hasLayer(this);
        },
        // @method bringToFront: this
        // Brings this overlay in front of other overlays (in the same map pane).
        bringToFront: function() {
          if (this._map) {
            toFront(this._container);
          }
          return this;
        },
        // @method bringToBack: this
        // Brings this overlay to the back of other overlays (in the same map pane).
        bringToBack: function() {
          if (this._map) {
            toBack(this._container);
          }
          return this;
        },
        // prepare bound overlay to open: update latlng pos / content source (for FeatureGroup)
        _prepareOpen: function(latlng) {
          var source = this._source;
          if (!source._map) {
            return false;
          }
          if (source instanceof FeatureGroup2) {
            source = null;
            var layers2 = this._source._layers;
            for (var id in layers2) {
              if (layers2[id]._map) {
                source = layers2[id];
                break;
              }
            }
            if (!source) {
              return false;
            }
            this._source = source;
          }
          if (!latlng) {
            if (source.getCenter) {
              latlng = source.getCenter();
            } else if (source.getLatLng) {
              latlng = source.getLatLng();
            } else if (source.getBounds) {
              latlng = source.getBounds().getCenter();
            } else {
              throw new Error("Unable to get source layer LatLng.");
            }
          }
          this.setLatLng(latlng);
          if (this._map) {
            this.update();
          }
          return true;
        },
        _updateContent: function() {
          if (!this._content) {
            return;
          }
          var node = this._contentNode;
          var content = typeof this._content === "function" ? this._content(this._source || this) : this._content;
          if (typeof content === "string") {
            node.innerHTML = content;
          } else {
            while (node.hasChildNodes()) {
              node.removeChild(node.firstChild);
            }
            node.appendChild(content);
          }
          this.fire("contentupdate");
        },
        _updatePosition: function() {
          if (!this._map) {
            return;
          }
          var pos = this._map.latLngToLayerPoint(this._latlng), offset = toPoint(this.options.offset), anchor = this._getAnchor();
          if (this._zoomAnimated) {
            setPosition(this._container, pos.add(anchor));
          } else {
            offset = offset.add(pos).add(anchor);
          }
          var bottom = this._containerBottom = -offset.y, left = this._containerLeft = -Math.round(this._containerWidth / 2) + offset.x;
          this._container.style.bottom = bottom + "px";
          this._container.style.left = left + "px";
        },
        _getAnchor: function() {
          return [0, 0];
        }
      });
      Map2.include({
        _initOverlay: function(OverlayClass, content, latlng, options) {
          var overlay = content;
          if (!(overlay instanceof OverlayClass)) {
            overlay = new OverlayClass(options).setContent(content);
          }
          if (latlng) {
            overlay.setLatLng(latlng);
          }
          return overlay;
        }
      });
      Layer.include({
        _initOverlay: function(OverlayClass, old, content, options) {
          var overlay = content;
          if (overlay instanceof OverlayClass) {
            setOptions(overlay, options);
            overlay._source = this;
          } else {
            overlay = old && !options ? old : new OverlayClass(options, this);
            overlay.setContent(content);
          }
          return overlay;
        }
      });
      var Popup = DivOverlay.extend({
        // @section
        // @aka Popup options
        options: {
          // @option pane: String = 'popupPane'
          // `Map pane` where the popup will be added.
          pane: "popupPane",
          // @option offset: Point = Point(0, 7)
          // The offset of the popup position.
          offset: [0, 7],
          // @option maxWidth: Number = 300
          // Max width of the popup, in pixels.
          maxWidth: 300,
          // @option minWidth: Number = 50
          // Min width of the popup, in pixels.
          minWidth: 50,
          // @option maxHeight: Number = null
          // If set, creates a scrollable container of the given height
          // inside a popup if its content exceeds it.
          // The scrollable container can be styled using the
          // `leaflet-popup-scrolled` CSS class selector.
          maxHeight: null,
          // @option autoPan: Boolean = true
          // Set it to `false` if you don't want the map to do panning animation
          // to fit the opened popup.
          autoPan: true,
          // @option autoPanPaddingTopLeft: Point = null
          // The margin between the popup and the top left corner of the map
          // view after autopanning was performed.
          autoPanPaddingTopLeft: null,
          // @option autoPanPaddingBottomRight: Point = null
          // The margin between the popup and the bottom right corner of the map
          // view after autopanning was performed.
          autoPanPaddingBottomRight: null,
          // @option autoPanPadding: Point = Point(5, 5)
          // Equivalent of setting both top left and bottom right autopan padding to the same value.
          autoPanPadding: [5, 5],
          // @option keepInView: Boolean = false
          // Set it to `true` if you want to prevent users from panning the popup
          // off of the screen while it is open.
          keepInView: false,
          // @option closeButton: Boolean = true
          // Controls the presence of a close button in the popup.
          closeButton: true,
          // @option autoClose: Boolean = true
          // Set it to `false` if you want to override the default behavior of
          // the popup closing when another popup is opened.
          autoClose: true,
          // @option closeOnEscapeKey: Boolean = true
          // Set it to `false` if you want to override the default behavior of
          // the ESC key for closing of the popup.
          closeOnEscapeKey: true,
          // @option closeOnClick: Boolean = *
          // Set it if you want to override the default behavior of the popup closing when user clicks
          // on the map. Defaults to the map's [`closePopupOnClick`](#map-closepopuponclick) option.
          // @option className: String = ''
          // A custom CSS class name to assign to the popup.
          className: ""
        },
        // @namespace Popup
        // @method openOn(map: Map): this
        // Alternative to `map.openPopup(popup)`.
        // Adds the popup to the map and closes the previous one.
        openOn: function(map3) {
          map3 = arguments.length ? map3 : this._source._map;
          if (!map3.hasLayer(this) && map3._popup && map3._popup.options.autoClose) {
            map3.removeLayer(map3._popup);
          }
          map3._popup = this;
          return DivOverlay.prototype.openOn.call(this, map3);
        },
        onAdd: function(map3) {
          DivOverlay.prototype.onAdd.call(this, map3);
          map3.fire("popupopen", { popup: this });
          if (this._source) {
            this._source.fire("popupopen", { popup: this }, true);
            if (!(this._source instanceof Path)) {
              this._source.on("preclick", stopPropagation);
            }
          }
        },
        onRemove: function(map3) {
          DivOverlay.prototype.onRemove.call(this, map3);
          map3.fire("popupclose", { popup: this });
          if (this._source) {
            this._source.fire("popupclose", { popup: this }, true);
            if (!(this._source instanceof Path)) {
              this._source.off("preclick", stopPropagation);
            }
          }
        },
        getEvents: function() {
          var events = DivOverlay.prototype.getEvents.call(this);
          if (this.options.closeOnClick !== void 0 ? this.options.closeOnClick : this._map.options.closePopupOnClick) {
            events.preclick = this.close;
          }
          if (this.options.keepInView) {
            events.moveend = this._adjustPan;
          }
          return events;
        },
        _initLayout: function() {
          var prefix = "leaflet-popup", container = this._container = create$1(
            "div",
            prefix + " " + (this.options.className || "") + " leaflet-zoom-animated"
          );
          var wrapper = this._wrapper = create$1("div", prefix + "-content-wrapper", container);
          this._contentNode = create$1("div", prefix + "-content", wrapper);
          disableClickPropagation(container);
          disableScrollPropagation(this._contentNode);
          on(container, "contextmenu", stopPropagation);
          this._tipContainer = create$1("div", prefix + "-tip-container", container);
          this._tip = create$1("div", prefix + "-tip", this._tipContainer);
          if (this.options.closeButton) {
            var closeButton = this._closeButton = create$1("a", prefix + "-close-button", container);
            closeButton.setAttribute("role", "button");
            closeButton.setAttribute("aria-label", "Close popup");
            closeButton.href = "#close";
            closeButton.innerHTML = '<span aria-hidden="true">&#215;</span>';
            on(closeButton, "click", function(ev) {
              preventDefault(ev);
              this.close();
            }, this);
          }
        },
        _updateLayout: function() {
          var container = this._contentNode, style2 = container.style;
          style2.width = "";
          style2.whiteSpace = "nowrap";
          var width = container.offsetWidth;
          width = Math.min(width, this.options.maxWidth);
          width = Math.max(width, this.options.minWidth);
          style2.width = width + 1 + "px";
          style2.whiteSpace = "";
          style2.height = "";
          var height = container.offsetHeight, maxHeight = this.options.maxHeight, scrolledClass = "leaflet-popup-scrolled";
          if (maxHeight && height > maxHeight) {
            style2.height = maxHeight + "px";
            addClass(container, scrolledClass);
          } else {
            removeClass(container, scrolledClass);
          }
          this._containerWidth = this._container.offsetWidth;
        },
        _animateZoom: function(e) {
          var pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center), anchor = this._getAnchor();
          setPosition(this._container, pos.add(anchor));
        },
        _adjustPan: function() {
          if (!this.options.autoPan) {
            return;
          }
          if (this._map._panAnim) {
            this._map._panAnim.stop();
          }
          if (this._autopanning) {
            this._autopanning = false;
            return;
          }
          var map3 = this._map, marginBottom = parseInt(getStyle(this._container, "marginBottom"), 10) || 0, containerHeight = this._container.offsetHeight + marginBottom, containerWidth = this._containerWidth, layerPos = new Point(this._containerLeft, -containerHeight - this._containerBottom);
          layerPos._add(getPosition(this._container));
          var containerPos = map3.layerPointToContainerPoint(layerPos), padding = toPoint(this.options.autoPanPadding), paddingTL = toPoint(this.options.autoPanPaddingTopLeft || padding), paddingBR = toPoint(this.options.autoPanPaddingBottomRight || padding), size = map3.getSize(), dx = 0, dy = 0;
          if (containerPos.x + containerWidth + paddingBR.x > size.x) {
            dx = containerPos.x + containerWidth - size.x + paddingBR.x;
          }
          if (containerPos.x - dx - paddingTL.x < 0) {
            dx = containerPos.x - paddingTL.x;
          }
          if (containerPos.y + containerHeight + paddingBR.y > size.y) {
            dy = containerPos.y + containerHeight - size.y + paddingBR.y;
          }
          if (containerPos.y - dy - paddingTL.y < 0) {
            dy = containerPos.y - paddingTL.y;
          }
          if (dx || dy) {
            if (this.options.keepInView) {
              this._autopanning = true;
            }
            map3.fire("autopanstart").panBy([dx, dy]);
          }
        },
        _getAnchor: function() {
          return toPoint(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]);
        }
      });
      var popup = function(options, source) {
        return new Popup(options, source);
      };
      Map2.mergeOptions({
        closePopupOnClick: true
      });
      Map2.include({
        // @method openPopup(popup: Popup): this
        // Opens the specified popup while closing the previously opened (to make sure only one is opened at one time for usability).
        // @alternative
        // @method openPopup(content: String|HTMLElement, latlng: LatLng, options?: Popup options): this
        // Creates a popup with the specified content and options and opens it in the given point on a map.
        openPopup: function(popup2, latlng, options) {
          this._initOverlay(Popup, popup2, latlng, options).openOn(this);
          return this;
        },
        // @method closePopup(popup?: Popup): this
        // Closes the popup previously opened with [openPopup](#map-openpopup) (or the given one).
        closePopup: function(popup2) {
          popup2 = arguments.length ? popup2 : this._popup;
          if (popup2) {
            popup2.close();
          }
          return this;
        }
      });
      Layer.include({
        // @method bindPopup(content: String|HTMLElement|Function|Popup, options?: Popup options): this
        // Binds a popup to the layer with the passed `content` and sets up the
        // necessary event listeners. If a `Function` is passed it will receive
        // the layer as the first argument and should return a `String` or `HTMLElement`.
        bindPopup: function(content, options) {
          this._popup = this._initOverlay(Popup, this._popup, content, options);
          if (!this._popupHandlersAdded) {
            this.on({
              click: this._openPopup,
              keypress: this._onKeyPress,
              remove: this.closePopup,
              move: this._movePopup
            });
            this._popupHandlersAdded = true;
          }
          return this;
        },
        // @method unbindPopup(): this
        // Removes the popup previously bound with `bindPopup`.
        unbindPopup: function() {
          if (this._popup) {
            this.off({
              click: this._openPopup,
              keypress: this._onKeyPress,
              remove: this.closePopup,
              move: this._movePopup
            });
            this._popupHandlersAdded = false;
            this._popup = null;
          }
          return this;
        },
        // @method openPopup(latlng?: LatLng): this
        // Opens the bound popup at the specified `latlng` or at the default popup anchor if no `latlng` is passed.
        openPopup: function(latlng) {
          if (this._popup) {
            if (!(this instanceof FeatureGroup2)) {
              this._popup._source = this;
            }
            if (this._popup._prepareOpen(latlng || this._latlng)) {
              this._popup.openOn(this._map);
            }
          }
          return this;
        },
        // @method closePopup(): this
        // Closes the popup bound to this layer if it is open.
        closePopup: function() {
          if (this._popup) {
            this._popup.close();
          }
          return this;
        },
        // @method togglePopup(): this
        // Opens or closes the popup bound to this layer depending on its current state.
        togglePopup: function() {
          if (this._popup) {
            this._popup.toggle(this);
          }
          return this;
        },
        // @method isPopupOpen(): boolean
        // Returns `true` if the popup bound to this layer is currently open.
        isPopupOpen: function() {
          return this._popup ? this._popup.isOpen() : false;
        },
        // @method setPopupContent(content: String|HTMLElement|Popup): this
        // Sets the content of the popup bound to this layer.
        setPopupContent: function(content) {
          if (this._popup) {
            this._popup.setContent(content);
          }
          return this;
        },
        // @method getPopup(): Popup
        // Returns the popup bound to this layer.
        getPopup: function() {
          return this._popup;
        },
        _openPopup: function(e) {
          if (!this._popup || !this._map) {
            return;
          }
          stop(e);
          var target = e.layer || e.target;
          if (this._popup._source === target && !(target instanceof Path)) {
            if (this._map.hasLayer(this._popup)) {
              this.closePopup();
            } else {
              this.openPopup(e.latlng);
            }
            return;
          }
          this._popup._source = target;
          this.openPopup(e.latlng);
        },
        _movePopup: function(e) {
          this._popup.setLatLng(e.latlng);
        },
        _onKeyPress: function(e) {
          if (e.originalEvent.keyCode === 13) {
            this._openPopup(e);
          }
        }
      });
      var Tooltip = DivOverlay.extend({
        // @section
        // @aka Tooltip options
        options: {
          // @option pane: String = 'tooltipPane'
          // `Map pane` where the tooltip will be added.
          pane: "tooltipPane",
          // @option offset: Point = Point(0, 0)
          // Optional offset of the tooltip position.
          offset: [0, 0],
          // @option direction: String = 'auto'
          // Direction where to open the tooltip. Possible values are: `right`, `left`,
          // `top`, `bottom`, `center`, `auto`.
          // `auto` will dynamically switch between `right` and `left` according to the tooltip
          // position on the map.
          direction: "auto",
          // @option permanent: Boolean = false
          // Whether to open the tooltip permanently or only on mouseover.
          permanent: false,
          // @option sticky: Boolean = false
          // If true, the tooltip will follow the mouse instead of being fixed at the feature center.
          sticky: false,
          // @option opacity: Number = 0.9
          // Tooltip container opacity.
          opacity: 0.9
        },
        onAdd: function(map3) {
          DivOverlay.prototype.onAdd.call(this, map3);
          this.setOpacity(this.options.opacity);
          map3.fire("tooltipopen", { tooltip: this });
          if (this._source) {
            this.addEventParent(this._source);
            this._source.fire("tooltipopen", { tooltip: this }, true);
          }
        },
        onRemove: function(map3) {
          DivOverlay.prototype.onRemove.call(this, map3);
          map3.fire("tooltipclose", { tooltip: this });
          if (this._source) {
            this.removeEventParent(this._source);
            this._source.fire("tooltipclose", { tooltip: this }, true);
          }
        },
        getEvents: function() {
          var events = DivOverlay.prototype.getEvents.call(this);
          if (!this.options.permanent) {
            events.preclick = this.close;
          }
          return events;
        },
        _initLayout: function() {
          var prefix = "leaflet-tooltip", className = prefix + " " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
          this._contentNode = this._container = create$1("div", className);
          this._container.setAttribute("role", "tooltip");
          this._container.setAttribute("id", "leaflet-tooltip-" + stamp(this));
        },
        _updateLayout: function() {
        },
        _adjustPan: function() {
        },
        _setPosition: function(pos) {
          var subX, subY, map3 = this._map, container = this._container, centerPoint = map3.latLngToContainerPoint(map3.getCenter()), tooltipPoint = map3.layerPointToContainerPoint(pos), direction = this.options.direction, tooltipWidth = container.offsetWidth, tooltipHeight = container.offsetHeight, offset = toPoint(this.options.offset), anchor = this._getAnchor();
          if (direction === "top") {
            subX = tooltipWidth / 2;
            subY = tooltipHeight;
          } else if (direction === "bottom") {
            subX = tooltipWidth / 2;
            subY = 0;
          } else if (direction === "center") {
            subX = tooltipWidth / 2;
            subY = tooltipHeight / 2;
          } else if (direction === "right") {
            subX = 0;
            subY = tooltipHeight / 2;
          } else if (direction === "left") {
            subX = tooltipWidth;
            subY = tooltipHeight / 2;
          } else if (tooltipPoint.x < centerPoint.x) {
            direction = "right";
            subX = 0;
            subY = tooltipHeight / 2;
          } else {
            direction = "left";
            subX = tooltipWidth + (offset.x + anchor.x) * 2;
            subY = tooltipHeight / 2;
          }
          pos = pos.subtract(toPoint(subX, subY, true)).add(offset).add(anchor);
          removeClass(container, "leaflet-tooltip-right");
          removeClass(container, "leaflet-tooltip-left");
          removeClass(container, "leaflet-tooltip-top");
          removeClass(container, "leaflet-tooltip-bottom");
          addClass(container, "leaflet-tooltip-" + direction);
          setPosition(container, pos);
        },
        _updatePosition: function() {
          var pos = this._map.latLngToLayerPoint(this._latlng);
          this._setPosition(pos);
        },
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          if (this._container) {
            setOpacity(this._container, opacity);
          }
        },
        _animateZoom: function(e) {
          var pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center);
          this._setPosition(pos);
        },
        _getAnchor: function() {
          return toPoint(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]);
        }
      });
      var tooltip = function(options, source) {
        return new Tooltip(options, source);
      };
      Map2.include({
        // @method openTooltip(tooltip: Tooltip): this
        // Opens the specified tooltip.
        // @alternative
        // @method openTooltip(content: String|HTMLElement, latlng: LatLng, options?: Tooltip options): this
        // Creates a tooltip with the specified content and options and open it.
        openTooltip: function(tooltip2, latlng, options) {
          this._initOverlay(Tooltip, tooltip2, latlng, options).openOn(this);
          return this;
        },
        // @method closeTooltip(tooltip: Tooltip): this
        // Closes the tooltip given as parameter.
        closeTooltip: function(tooltip2) {
          tooltip2.close();
          return this;
        }
      });
      Layer.include({
        // @method bindTooltip(content: String|HTMLElement|Function|Tooltip, options?: Tooltip options): this
        // Binds a tooltip to the layer with the passed `content` and sets up the
        // necessary event listeners. If a `Function` is passed it will receive
        // the layer as the first argument and should return a `String` or `HTMLElement`.
        bindTooltip: function(content, options) {
          if (this._tooltip && this.isTooltipOpen()) {
            this.unbindTooltip();
          }
          this._tooltip = this._initOverlay(Tooltip, this._tooltip, content, options);
          this._initTooltipInteractions();
          if (this._tooltip.options.permanent && this._map && this._map.hasLayer(this)) {
            this.openTooltip();
          }
          return this;
        },
        // @method unbindTooltip(): this
        // Removes the tooltip previously bound with `bindTooltip`.
        unbindTooltip: function() {
          if (this._tooltip) {
            this._initTooltipInteractions(true);
            this.closeTooltip();
            this._tooltip = null;
          }
          return this;
        },
        _initTooltipInteractions: function(remove2) {
          if (!remove2 && this._tooltipHandlersAdded) {
            return;
          }
          var onOff = remove2 ? "off" : "on", events = {
            remove: this.closeTooltip,
            move: this._moveTooltip
          };
          if (!this._tooltip.options.permanent) {
            events.mouseover = this._openTooltip;
            events.mouseout = this.closeTooltip;
            events.click = this._openTooltip;
            if (this._map) {
              this._addFocusListeners();
            } else {
              events.add = this._addFocusListeners;
            }
          } else {
            events.add = this._openTooltip;
          }
          if (this._tooltip.options.sticky) {
            events.mousemove = this._moveTooltip;
          }
          this[onOff](events);
          this._tooltipHandlersAdded = !remove2;
        },
        // @method openTooltip(latlng?: LatLng): this
        // Opens the bound tooltip at the specified `latlng` or at the default tooltip anchor if no `latlng` is passed.
        openTooltip: function(latlng) {
          if (this._tooltip) {
            if (!(this instanceof FeatureGroup2)) {
              this._tooltip._source = this;
            }
            if (this._tooltip._prepareOpen(latlng)) {
              this._tooltip.openOn(this._map);
              if (this.getElement) {
                this._setAriaDescribedByOnLayer(this);
              } else if (this.eachLayer) {
                this.eachLayer(this._setAriaDescribedByOnLayer, this);
              }
            }
          }
          return this;
        },
        // @method closeTooltip(): this
        // Closes the tooltip bound to this layer if it is open.
        closeTooltip: function() {
          if (this._tooltip) {
            return this._tooltip.close();
          }
        },
        // @method toggleTooltip(): this
        // Opens or closes the tooltip bound to this layer depending on its current state.
        toggleTooltip: function() {
          if (this._tooltip) {
            this._tooltip.toggle(this);
          }
          return this;
        },
        // @method isTooltipOpen(): boolean
        // Returns `true` if the tooltip bound to this layer is currently open.
        isTooltipOpen: function() {
          return this._tooltip.isOpen();
        },
        // @method setTooltipContent(content: String|HTMLElement|Tooltip): this
        // Sets the content of the tooltip bound to this layer.
        setTooltipContent: function(content) {
          if (this._tooltip) {
            this._tooltip.setContent(content);
          }
          return this;
        },
        // @method getTooltip(): Tooltip
        // Returns the tooltip bound to this layer.
        getTooltip: function() {
          return this._tooltip;
        },
        _addFocusListeners: function() {
          if (this.getElement) {
            this._addFocusListenersOnLayer(this);
          } else if (this.eachLayer) {
            this.eachLayer(this._addFocusListenersOnLayer, this);
          }
        },
        _addFocusListenersOnLayer: function(layer) {
          var el = typeof layer.getElement === "function" && layer.getElement();
          if (el) {
            on(el, "focus", function() {
              this._tooltip._source = layer;
              this.openTooltip();
            }, this);
            on(el, "blur", this.closeTooltip, this);
          }
        },
        _setAriaDescribedByOnLayer: function(layer) {
          var el = typeof layer.getElement === "function" && layer.getElement();
          if (el) {
            el.setAttribute("aria-describedby", this._tooltip._container.id);
          }
        },
        _openTooltip: function(e) {
          if (!this._tooltip || !this._map) {
            return;
          }
          if (this._map.dragging && this._map.dragging.moving() && !this._openOnceFlag) {
            this._openOnceFlag = true;
            var that = this;
            this._map.once("moveend", function() {
              that._openOnceFlag = false;
              that._openTooltip(e);
            });
            return;
          }
          this._tooltip._source = e.layer || e.target;
          this.openTooltip(this._tooltip.options.sticky ? e.latlng : void 0);
        },
        _moveTooltip: function(e) {
          var latlng = e.latlng, containerPoint, layerPoint;
          if (this._tooltip.options.sticky && e.originalEvent) {
            containerPoint = this._map.mouseEventToContainerPoint(e.originalEvent);
            layerPoint = this._map.containerPointToLayerPoint(containerPoint);
            latlng = this._map.layerPointToLatLng(layerPoint);
          }
          this._tooltip.setLatLng(latlng);
        }
      });
      var DivIcon = Icon.extend({
        options: {
          // @section
          // @aka DivIcon options
          iconSize: [12, 12],
          // also can be set through CSS
          // iconAnchor: (Point),
          // popupAnchor: (Point),
          // @option html: String|HTMLElement = ''
          // Custom HTML code to put inside the div element, empty by default. Alternatively,
          // an instance of `HTMLElement`.
          html: false,
          // @option bgPos: Point = [0, 0]
          // Optional relative position of the background, in pixels
          bgPos: null,
          className: "leaflet-div-icon"
        },
        createIcon: function(oldIcon) {
          var div = oldIcon && oldIcon.tagName === "DIV" ? oldIcon : document.createElement("div"), options = this.options;
          if (options.html instanceof Element) {
            empty(div);
            div.appendChild(options.html);
          } else {
            div.innerHTML = options.html !== false ? options.html : "";
          }
          if (options.bgPos) {
            var bgPos = toPoint(options.bgPos);
            div.style.backgroundPosition = -bgPos.x + "px " + -bgPos.y + "px";
          }
          this._setIconStyles(div, "icon");
          return div;
        },
        createShadow: function() {
          return null;
        }
      });
      function divIcon2(options) {
        return new DivIcon(options);
      }
      Icon.Default = IconDefault;
      var GridLayer = Layer.extend({
        // @section
        // @aka GridLayer options
        options: {
          // @option tileSize: Number|Point = 256
          // Width and height of tiles in the grid. Use a number if width and height are equal, or `L.point(width, height)` otherwise.
          tileSize: 256,
          // @option opacity: Number = 1.0
          // Opacity of the tiles. Can be used in the `createTile()` function.
          opacity: 1,
          // @option updateWhenIdle: Boolean = (depends)
          // Load new tiles only when panning ends.
          // `true` by default on mobile browsers, in order to avoid too many requests and keep smooth navigation.
          // `false` otherwise in order to display new tiles _during_ panning, since it is easy to pan outside the
          // [`keepBuffer`](#gridlayer-keepbuffer) option in desktop browsers.
          updateWhenIdle: Browser.mobile,
          // @option updateWhenZooming: Boolean = true
          // By default, a smooth zoom animation (during a [touch zoom](#map-touchzoom) or a [`flyTo()`](#map-flyto)) will update grid layers every integer zoom level. Setting this option to `false` will update the grid layer only when the smooth animation ends.
          updateWhenZooming: true,
          // @option updateInterval: Number = 200
          // Tiles will not update more than once every `updateInterval` milliseconds when panning.
          updateInterval: 200,
          // @option zIndex: Number = 1
          // The explicit zIndex of the tile layer.
          zIndex: 1,
          // @option bounds: LatLngBounds = undefined
          // If set, tiles will only be loaded inside the set `LatLngBounds`.
          bounds: null,
          // @option minZoom: Number = 0
          // The minimum zoom level down to which this layer will be displayed (inclusive).
          minZoom: 0,
          // @option maxZoom: Number = undefined
          // The maximum zoom level up to which this layer will be displayed (inclusive).
          maxZoom: void 0,
          // @option maxNativeZoom: Number = undefined
          // Maximum zoom number the tile source has available. If it is specified,
          // the tiles on all zoom levels higher than `maxNativeZoom` will be loaded
          // from `maxNativeZoom` level and auto-scaled.
          maxNativeZoom: void 0,
          // @option minNativeZoom: Number = undefined
          // Minimum zoom number the tile source has available. If it is specified,
          // the tiles on all zoom levels lower than `minNativeZoom` will be loaded
          // from `minNativeZoom` level and auto-scaled.
          minNativeZoom: void 0,
          // @option noWrap: Boolean = false
          // Whether the layer is wrapped around the antimeridian. If `true`, the
          // GridLayer will only be displayed once at low zoom levels. Has no
          // effect when the [map CRS](#map-crs) doesn't wrap around. Can be used
          // in combination with [`bounds`](#gridlayer-bounds) to prevent requesting
          // tiles outside the CRS limits.
          noWrap: false,
          // @option pane: String = 'tilePane'
          // `Map pane` where the grid layer will be added.
          pane: "tilePane",
          // @option className: String = ''
          // A custom class name to assign to the tile layer. Empty by default.
          className: "",
          // @option keepBuffer: Number = 2
          // When panning the map, keep this many rows and columns of tiles before unloading them.
          keepBuffer: 2
        },
        initialize: function(options) {
          setOptions(this, options);
        },
        onAdd: function() {
          this._initContainer();
          this._levels = {};
          this._tiles = {};
          this._resetView();
        },
        beforeAdd: function(map3) {
          map3._addZoomLimit(this);
        },
        onRemove: function(map3) {
          this._removeAllTiles();
          remove(this._container);
          map3._removeZoomLimit(this);
          this._container = null;
          this._tileZoom = void 0;
        },
        // @method bringToFront: this
        // Brings the tile layer to the top of all tile layers.
        bringToFront: function() {
          if (this._map) {
            toFront(this._container);
            this._setAutoZIndex(Math.max);
          }
          return this;
        },
        // @method bringToBack: this
        // Brings the tile layer to the bottom of all tile layers.
        bringToBack: function() {
          if (this._map) {
            toBack(this._container);
            this._setAutoZIndex(Math.min);
          }
          return this;
        },
        // @method getContainer: HTMLElement
        // Returns the HTML element that contains the tiles for this layer.
        getContainer: function() {
          return this._container;
        },
        // @method setOpacity(opacity: Number): this
        // Changes the [opacity](#gridlayer-opacity) of the grid layer.
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          this._updateOpacity();
          return this;
        },
        // @method setZIndex(zIndex: Number): this
        // Changes the [zIndex](#gridlayer-zindex) of the grid layer.
        setZIndex: function(zIndex) {
          this.options.zIndex = zIndex;
          this._updateZIndex();
          return this;
        },
        // @method isLoading: Boolean
        // Returns `true` if any tile in the grid layer has not finished loading.
        isLoading: function() {
          return this._loading;
        },
        // @method redraw: this
        // Causes the layer to clear all the tiles and request them again.
        redraw: function() {
          if (this._map) {
            this._removeAllTiles();
            var tileZoom = this._clampZoom(this._map.getZoom());
            if (tileZoom !== this._tileZoom) {
              this._tileZoom = tileZoom;
              this._updateLevels();
            }
            this._update();
          }
          return this;
        },
        getEvents: function() {
          var events = {
            viewprereset: this._invalidateAll,
            viewreset: this._resetView,
            zoom: this._resetView,
            moveend: this._onMoveEnd
          };
          if (!this.options.updateWhenIdle) {
            if (!this._onMove) {
              this._onMove = throttle(this._onMoveEnd, this.options.updateInterval, this);
            }
            events.move = this._onMove;
          }
          if (this._zoomAnimated) {
            events.zoomanim = this._animateZoom;
          }
          return events;
        },
        // @section Extension methods
        // Layers extending `GridLayer` shall reimplement the following method.
        // @method createTile(coords: Object, done?: Function): HTMLElement
        // Called only internally, must be overridden by classes extending `GridLayer`.
        // Returns the `HTMLElement` corresponding to the given `coords`. If the `done` callback
        // is specified, it must be called when the tile has finished loading and drawing.
        createTile: function() {
          return document.createElement("div");
        },
        // @section
        // @method getTileSize: Point
        // Normalizes the [tileSize option](#gridlayer-tilesize) into a point. Used by the `createTile()` method.
        getTileSize: function() {
          var s = this.options.tileSize;
          return s instanceof Point ? s : new Point(s, s);
        },
        _updateZIndex: function() {
          if (this._container && this.options.zIndex !== void 0 && this.options.zIndex !== null) {
            this._container.style.zIndex = this.options.zIndex;
          }
        },
        _setAutoZIndex: function(compare) {
          var layers2 = this.getPane().children, edgeZIndex = -compare(-Infinity, Infinity);
          for (var i = 0, len = layers2.length, zIndex; i < len; i++) {
            zIndex = layers2[i].style.zIndex;
            if (layers2[i] !== this._container && zIndex) {
              edgeZIndex = compare(edgeZIndex, +zIndex);
            }
          }
          if (isFinite(edgeZIndex)) {
            this.options.zIndex = edgeZIndex + compare(-1, 1);
            this._updateZIndex();
          }
        },
        _updateOpacity: function() {
          if (!this._map) {
            return;
          }
          if (Browser.ielt9) {
            return;
          }
          setOpacity(this._container, this.options.opacity);
          var now = +/* @__PURE__ */ new Date(), nextFrame = false, willPrune = false;
          for (var key in this._tiles) {
            var tile = this._tiles[key];
            if (!tile.current || !tile.loaded) {
              continue;
            }
            var fade = Math.min(1, (now - tile.loaded) / 200);
            setOpacity(tile.el, fade);
            if (fade < 1) {
              nextFrame = true;
            } else {
              if (tile.active) {
                willPrune = true;
              } else {
                this._onOpaqueTile(tile);
              }
              tile.active = true;
            }
          }
          if (willPrune && !this._noPrune) {
            this._pruneTiles();
          }
          if (nextFrame) {
            cancelAnimFrame(this._fadeFrame);
            this._fadeFrame = requestAnimFrame(this._updateOpacity, this);
          }
        },
        _onOpaqueTile: falseFn,
        _initContainer: function() {
          if (this._container) {
            return;
          }
          this._container = create$1("div", "leaflet-layer " + (this.options.className || ""));
          this._updateZIndex();
          if (this.options.opacity < 1) {
            this._updateOpacity();
          }
          this.getPane().appendChild(this._container);
        },
        _updateLevels: function() {
          var zoom2 = this._tileZoom, maxZoom = this.options.maxZoom;
          if (zoom2 === void 0) {
            return void 0;
          }
          for (var z in this._levels) {
            z = Number(z);
            if (this._levels[z].el.children.length || z === zoom2) {
              this._levels[z].el.style.zIndex = maxZoom - Math.abs(zoom2 - z);
              this._onUpdateLevel(z);
            } else {
              remove(this._levels[z].el);
              this._removeTilesAtZoom(z);
              this._onRemoveLevel(z);
              delete this._levels[z];
            }
          }
          var level = this._levels[zoom2], map3 = this._map;
          if (!level) {
            level = this._levels[zoom2] = {};
            level.el = create$1("div", "leaflet-tile-container leaflet-zoom-animated", this._container);
            level.el.style.zIndex = maxZoom;
            level.origin = map3.project(map3.unproject(map3.getPixelOrigin()), zoom2).round();
            level.zoom = zoom2;
            this._setZoomTransform(level, map3.getCenter(), map3.getZoom());
            falseFn(level.el.offsetWidth);
            this._onCreateLevel(level);
          }
          this._level = level;
          return level;
        },
        _onUpdateLevel: falseFn,
        _onRemoveLevel: falseFn,
        _onCreateLevel: falseFn,
        _pruneTiles: function() {
          if (!this._map) {
            return;
          }
          var key, tile;
          var zoom2 = this._map.getZoom();
          if (zoom2 > this.options.maxZoom || zoom2 < this.options.minZoom) {
            this._removeAllTiles();
            return;
          }
          for (key in this._tiles) {
            tile = this._tiles[key];
            tile.retain = tile.current;
          }
          for (key in this._tiles) {
            tile = this._tiles[key];
            if (tile.current && !tile.active) {
              var coords = tile.coords;
              if (!this._retainParent(coords.x, coords.y, coords.z, coords.z - 5)) {
                this._retainChildren(coords.x, coords.y, coords.z, coords.z + 2);
              }
            }
          }
          for (key in this._tiles) {
            if (!this._tiles[key].retain) {
              this._removeTile(key);
            }
          }
        },
        _removeTilesAtZoom: function(zoom2) {
          for (var key in this._tiles) {
            if (this._tiles[key].coords.z !== zoom2) {
              continue;
            }
            this._removeTile(key);
          }
        },
        _removeAllTiles: function() {
          for (var key in this._tiles) {
            this._removeTile(key);
          }
        },
        _invalidateAll: function() {
          for (var z in this._levels) {
            remove(this._levels[z].el);
            this._onRemoveLevel(Number(z));
            delete this._levels[z];
          }
          this._removeAllTiles();
          this._tileZoom = void 0;
        },
        _retainParent: function(x, y, z, minZoom) {
          var x2 = Math.floor(x / 2), y2 = Math.floor(y / 2), z2 = z - 1, coords2 = new Point(+x2, +y2);
          coords2.z = +z2;
          var key = this._tileCoordsToKey(coords2), tile = this._tiles[key];
          if (tile && tile.active) {
            tile.retain = true;
            return true;
          } else if (tile && tile.loaded) {
            tile.retain = true;
          }
          if (z2 > minZoom) {
            return this._retainParent(x2, y2, z2, minZoom);
          }
          return false;
        },
        _retainChildren: function(x, y, z, maxZoom) {
          for (var i = 2 * x; i < 2 * x + 2; i++) {
            for (var j = 2 * y; j < 2 * y + 2; j++) {
              var coords = new Point(i, j);
              coords.z = z + 1;
              var key = this._tileCoordsToKey(coords), tile = this._tiles[key];
              if (tile && tile.active) {
                tile.retain = true;
                continue;
              } else if (tile && tile.loaded) {
                tile.retain = true;
              }
              if (z + 1 < maxZoom) {
                this._retainChildren(i, j, z + 1, maxZoom);
              }
            }
          }
        },
        _resetView: function(e) {
          var animating = e && (e.pinch || e.flyTo);
          this._setView(this._map.getCenter(), this._map.getZoom(), animating, animating);
        },
        _animateZoom: function(e) {
          this._setView(e.center, e.zoom, true, e.noUpdate);
        },
        _clampZoom: function(zoom2) {
          var options = this.options;
          if (void 0 !== options.minNativeZoom && zoom2 < options.minNativeZoom) {
            return options.minNativeZoom;
          }
          if (void 0 !== options.maxNativeZoom && options.maxNativeZoom < zoom2) {
            return options.maxNativeZoom;
          }
          return zoom2;
        },
        _setView: function(center, zoom2, noPrune, noUpdate) {
          var tileZoom = Math.round(zoom2);
          if (this.options.maxZoom !== void 0 && tileZoom > this.options.maxZoom || this.options.minZoom !== void 0 && tileZoom < this.options.minZoom) {
            tileZoom = void 0;
          } else {
            tileZoom = this._clampZoom(tileZoom);
          }
          var tileZoomChanged = this.options.updateWhenZooming && tileZoom !== this._tileZoom;
          if (!noUpdate || tileZoomChanged) {
            this._tileZoom = tileZoom;
            if (this._abortLoading) {
              this._abortLoading();
            }
            this._updateLevels();
            this._resetGrid();
            if (tileZoom !== void 0) {
              this._update(center);
            }
            if (!noPrune) {
              this._pruneTiles();
            }
            this._noPrune = !!noPrune;
          }
          this._setZoomTransforms(center, zoom2);
        },
        _setZoomTransforms: function(center, zoom2) {
          for (var i in this._levels) {
            this._setZoomTransform(this._levels[i], center, zoom2);
          }
        },
        _setZoomTransform: function(level, center, zoom2) {
          var scale2 = this._map.getZoomScale(zoom2, level.zoom), translate = level.origin.multiplyBy(scale2).subtract(this._map._getNewPixelOrigin(center, zoom2)).round();
          if (Browser.any3d) {
            setTransform(level.el, translate, scale2);
          } else {
            setPosition(level.el, translate);
          }
        },
        _resetGrid: function() {
          var map3 = this._map, crs = map3.options.crs, tileSize = this._tileSize = this.getTileSize(), tileZoom = this._tileZoom;
          var bounds = this._map.getPixelWorldBounds(this._tileZoom);
          if (bounds) {
            this._globalTileRange = this._pxBoundsToTileRange(bounds);
          }
          this._wrapX = crs.wrapLng && !this.options.noWrap && [
            Math.floor(map3.project([0, crs.wrapLng[0]], tileZoom).x / tileSize.x),
            Math.ceil(map3.project([0, crs.wrapLng[1]], tileZoom).x / tileSize.y)
          ];
          this._wrapY = crs.wrapLat && !this.options.noWrap && [
            Math.floor(map3.project([crs.wrapLat[0], 0], tileZoom).y / tileSize.x),
            Math.ceil(map3.project([crs.wrapLat[1], 0], tileZoom).y / tileSize.y)
          ];
        },
        _onMoveEnd: function() {
          if (!this._map || this._map._animatingZoom) {
            return;
          }
          this._update();
        },
        _getTiledPixelBounds: function(center) {
          var map3 = this._map, mapZoom = map3._animatingZoom ? Math.max(map3._animateToZoom, map3.getZoom()) : map3.getZoom(), scale2 = map3.getZoomScale(mapZoom, this._tileZoom), pixelCenter = map3.project(center, this._tileZoom).floor(), halfSize = map3.getSize().divideBy(scale2 * 2);
          return new Bounds(pixelCenter.subtract(halfSize), pixelCenter.add(halfSize));
        },
        // Private method to load tiles in the grid's active zoom level according to map bounds
        _update: function(center) {
          var map3 = this._map;
          if (!map3) {
            return;
          }
          var zoom2 = this._clampZoom(map3.getZoom());
          if (center === void 0) {
            center = map3.getCenter();
          }
          if (this._tileZoom === void 0) {
            return;
          }
          var pixelBounds = this._getTiledPixelBounds(center), tileRange = this._pxBoundsToTileRange(pixelBounds), tileCenter = tileRange.getCenter(), queue = [], margin = this.options.keepBuffer, noPruneRange = new Bounds(
            tileRange.getBottomLeft().subtract([margin, -margin]),
            tileRange.getTopRight().add([margin, -margin])
          );
          if (!(isFinite(tileRange.min.x) && isFinite(tileRange.min.y) && isFinite(tileRange.max.x) && isFinite(tileRange.max.y))) {
            throw new Error("Attempted to load an infinite number of tiles");
          }
          for (var key in this._tiles) {
            var c = this._tiles[key].coords;
            if (c.z !== this._tileZoom || !noPruneRange.contains(new Point(c.x, c.y))) {
              this._tiles[key].current = false;
            }
          }
          if (Math.abs(zoom2 - this._tileZoom) > 1) {
            this._setView(center, zoom2);
            return;
          }
          for (var j = tileRange.min.y; j <= tileRange.max.y; j++) {
            for (var i = tileRange.min.x; i <= tileRange.max.x; i++) {
              var coords = new Point(i, j);
              coords.z = this._tileZoom;
              if (!this._isValidTile(coords)) {
                continue;
              }
              var tile = this._tiles[this._tileCoordsToKey(coords)];
              if (tile) {
                tile.current = true;
              } else {
                queue.push(coords);
              }
            }
          }
          queue.sort(function(a, b) {
            return a.distanceTo(tileCenter) - b.distanceTo(tileCenter);
          });
          if (queue.length !== 0) {
            if (!this._loading) {
              this._loading = true;
              this.fire("loading");
            }
            var fragment = document.createDocumentFragment();
            for (i = 0; i < queue.length; i++) {
              this._addTile(queue[i], fragment);
            }
            this._level.el.appendChild(fragment);
          }
        },
        _isValidTile: function(coords) {
          var crs = this._map.options.crs;
          if (!crs.infinite) {
            var bounds = this._globalTileRange;
            if (!crs.wrapLng && (coords.x < bounds.min.x || coords.x > bounds.max.x) || !crs.wrapLat && (coords.y < bounds.min.y || coords.y > bounds.max.y)) {
              return false;
            }
          }
          if (!this.options.bounds) {
            return true;
          }
          var tileBounds = this._tileCoordsToBounds(coords);
          return toLatLngBounds(this.options.bounds).overlaps(tileBounds);
        },
        _keyToBounds: function(key) {
          return this._tileCoordsToBounds(this._keyToTileCoords(key));
        },
        _tileCoordsToNwSe: function(coords) {
          var map3 = this._map, tileSize = this.getTileSize(), nwPoint = coords.scaleBy(tileSize), sePoint = nwPoint.add(tileSize), nw = map3.unproject(nwPoint, coords.z), se = map3.unproject(sePoint, coords.z);
          return [nw, se];
        },
        // converts tile coordinates to its geographical bounds
        _tileCoordsToBounds: function(coords) {
          var bp = this._tileCoordsToNwSe(coords), bounds = new LatLngBounds(bp[0], bp[1]);
          if (!this.options.noWrap) {
            bounds = this._map.wrapLatLngBounds(bounds);
          }
          return bounds;
        },
        // converts tile coordinates to key for the tile cache
        _tileCoordsToKey: function(coords) {
          return coords.x + ":" + coords.y + ":" + coords.z;
        },
        // converts tile cache key to coordinates
        _keyToTileCoords: function(key) {
          var k = key.split(":"), coords = new Point(+k[0], +k[1]);
          coords.z = +k[2];
          return coords;
        },
        _removeTile: function(key) {
          var tile = this._tiles[key];
          if (!tile) {
            return;
          }
          remove(tile.el);
          delete this._tiles[key];
          this.fire("tileunload", {
            tile: tile.el,
            coords: this._keyToTileCoords(key)
          });
        },
        _initTile: function(tile) {
          addClass(tile, "leaflet-tile");
          var tileSize = this.getTileSize();
          tile.style.width = tileSize.x + "px";
          tile.style.height = tileSize.y + "px";
          tile.onselectstart = falseFn;
          tile.onmousemove = falseFn;
          if (Browser.ielt9 && this.options.opacity < 1) {
            setOpacity(tile, this.options.opacity);
          }
        },
        _addTile: function(coords, container) {
          var tilePos = this._getTilePos(coords), key = this._tileCoordsToKey(coords);
          var tile = this.createTile(this._wrapCoords(coords), bind(this._tileReady, this, coords));
          this._initTile(tile);
          if (this.createTile.length < 2) {
            requestAnimFrame(bind(this._tileReady, this, coords, null, tile));
          }
          setPosition(tile, tilePos);
          this._tiles[key] = {
            el: tile,
            coords,
            current: true
          };
          container.appendChild(tile);
          this.fire("tileloadstart", {
            tile,
            coords
          });
        },
        _tileReady: function(coords, err, tile) {
          if (err) {
            this.fire("tileerror", {
              error: err,
              tile,
              coords
            });
          }
          var key = this._tileCoordsToKey(coords);
          tile = this._tiles[key];
          if (!tile) {
            return;
          }
          tile.loaded = +/* @__PURE__ */ new Date();
          if (this._map._fadeAnimated) {
            setOpacity(tile.el, 0);
            cancelAnimFrame(this._fadeFrame);
            this._fadeFrame = requestAnimFrame(this._updateOpacity, this);
          } else {
            tile.active = true;
            this._pruneTiles();
          }
          if (!err) {
            addClass(tile.el, "leaflet-tile-loaded");
            this.fire("tileload", {
              tile: tile.el,
              coords
            });
          }
          if (this._noTilesToLoad()) {
            this._loading = false;
            this.fire("load");
            if (Browser.ielt9 || !this._map._fadeAnimated) {
              requestAnimFrame(this._pruneTiles, this);
            } else {
              setTimeout(bind(this._pruneTiles, this), 250);
            }
          }
        },
        _getTilePos: function(coords) {
          return coords.scaleBy(this.getTileSize()).subtract(this._level.origin);
        },
        _wrapCoords: function(coords) {
          var newCoords = new Point(
            this._wrapX ? wrapNum(coords.x, this._wrapX) : coords.x,
            this._wrapY ? wrapNum(coords.y, this._wrapY) : coords.y
          );
          newCoords.z = coords.z;
          return newCoords;
        },
        _pxBoundsToTileRange: function(bounds) {
          var tileSize = this.getTileSize();
          return new Bounds(
            bounds.min.unscaleBy(tileSize).floor(),
            bounds.max.unscaleBy(tileSize).ceil().subtract([1, 1])
          );
        },
        _noTilesToLoad: function() {
          for (var key in this._tiles) {
            if (!this._tiles[key].loaded) {
              return false;
            }
          }
          return true;
        }
      });
      function gridLayer(options) {
        return new GridLayer(options);
      }
      var TileLayer = GridLayer.extend({
        // @section
        // @aka TileLayer options
        options: {
          // @option minZoom: Number = 0
          // The minimum zoom level down to which this layer will be displayed (inclusive).
          minZoom: 0,
          // @option maxZoom: Number = 18
          // The maximum zoom level up to which this layer will be displayed (inclusive).
          maxZoom: 18,
          // @option subdomains: String|String[] = 'abc'
          // Subdomains of the tile service. Can be passed in the form of one string (where each letter is a subdomain name) or an array of strings.
          subdomains: "abc",
          // @option errorTileUrl: String = ''
          // URL to the tile image to show in place of the tile that failed to load.
          errorTileUrl: "",
          // @option zoomOffset: Number = 0
          // The zoom number used in tile URLs will be offset with this value.
          zoomOffset: 0,
          // @option tms: Boolean = false
          // If `true`, inverses Y axis numbering for tiles (turn this on for [TMS](https://en.wikipedia.org/wiki/Tile_Map_Service) services).
          tms: false,
          // @option zoomReverse: Boolean = false
          // If set to true, the zoom number used in tile URLs will be reversed (`maxZoom - zoom` instead of `zoom`)
          zoomReverse: false,
          // @option detectRetina: Boolean = false
          // If `true` and user is on a retina display, it will request four tiles of half the specified size and a bigger zoom level in place of one to utilize the high resolution.
          detectRetina: false,
          // @option crossOrigin: Boolean|String = false
          // Whether the crossOrigin attribute will be added to the tiles.
          // If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.
          // Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.
          crossOrigin: false,
          // @option referrerPolicy: Boolean|String = false
          // Whether the referrerPolicy attribute will be added to the tiles.
          // If a String is provided, all tiles will have their referrerPolicy attribute set to the String provided.
          // This may be needed if your map's rendering context has a strict default but your tile provider expects a valid referrer
          // (e.g. to validate an API token).
          // Refer to [HTMLImageElement.referrerPolicy](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/referrerPolicy) for valid String values.
          referrerPolicy: false
        },
        initialize: function(url, options) {
          this._url = url;
          options = setOptions(this, options);
          if (options.detectRetina && Browser.retina && options.maxZoom > 0) {
            options.tileSize = Math.floor(options.tileSize / 2);
            if (!options.zoomReverse) {
              options.zoomOffset++;
              options.maxZoom = Math.max(options.minZoom, options.maxZoom - 1);
            } else {
              options.zoomOffset--;
              options.minZoom = Math.min(options.maxZoom, options.minZoom + 1);
            }
            options.minZoom = Math.max(0, options.minZoom);
          } else if (!options.zoomReverse) {
            options.maxZoom = Math.max(options.minZoom, options.maxZoom);
          } else {
            options.minZoom = Math.min(options.maxZoom, options.minZoom);
          }
          if (typeof options.subdomains === "string") {
            options.subdomains = options.subdomains.split("");
          }
          this.on("tileunload", this._onTileRemove);
        },
        // @method setUrl(url: String, noRedraw?: Boolean): this
        // Updates the layer's URL template and redraws it (unless `noRedraw` is set to `true`).
        // If the URL does not change, the layer will not be redrawn unless
        // the noRedraw parameter is set to false.
        setUrl: function(url, noRedraw) {
          if (this._url === url && noRedraw === void 0) {
            noRedraw = true;
          }
          this._url = url;
          if (!noRedraw) {
            this.redraw();
          }
          return this;
        },
        // @method createTile(coords: Object, done?: Function): HTMLElement
        // Called only internally, overrides GridLayer's [`createTile()`](#gridlayer-createtile)
        // to return an `<img>` HTML element with the appropriate image URL given `coords`. The `done`
        // callback is called when the tile has been loaded.
        createTile: function(coords, done) {
          var tile = document.createElement("img");
          on(tile, "load", bind(this._tileOnLoad, this, done, tile));
          on(tile, "error", bind(this._tileOnError, this, done, tile));
          if (this.options.crossOrigin || this.options.crossOrigin === "") {
            tile.crossOrigin = this.options.crossOrigin === true ? "" : this.options.crossOrigin;
          }
          if (typeof this.options.referrerPolicy === "string") {
            tile.referrerPolicy = this.options.referrerPolicy;
          }
          tile.alt = "";
          tile.src = this.getTileUrl(coords);
          return tile;
        },
        // @section Extension methods
        // @uninheritable
        // Layers extending `TileLayer` might reimplement the following method.
        // @method getTileUrl(coords: Object): String
        // Called only internally, returns the URL for a tile given its coordinates.
        // Classes extending `TileLayer` can override this function to provide custom tile URL naming schemes.
        getTileUrl: function(coords) {
          var data = {
            r: Browser.retina ? "@2x" : "",
            s: this._getSubdomain(coords),
            x: coords.x,
            y: coords.y,
            z: this._getZoomForUrl()
          };
          if (this._map && !this._map.options.crs.infinite) {
            var invertedY = this._globalTileRange.max.y - coords.y;
            if (this.options.tms) {
              data["y"] = invertedY;
            }
            data["-y"] = invertedY;
          }
          return template(this._url, extend(data, this.options));
        },
        _tileOnLoad: function(done, tile) {
          if (Browser.ielt9) {
            setTimeout(bind(done, this, null, tile), 0);
          } else {
            done(null, tile);
          }
        },
        _tileOnError: function(done, tile, e) {
          var errorUrl = this.options.errorTileUrl;
          if (errorUrl && tile.getAttribute("src") !== errorUrl) {
            tile.src = errorUrl;
          }
          done(e, tile);
        },
        _onTileRemove: function(e) {
          e.tile.onload = null;
        },
        _getZoomForUrl: function() {
          var zoom2 = this._tileZoom, maxZoom = this.options.maxZoom, zoomReverse = this.options.zoomReverse, zoomOffset = this.options.zoomOffset;
          if (zoomReverse) {
            zoom2 = maxZoom - zoom2;
          }
          return zoom2 + zoomOffset;
        },
        _getSubdomain: function(tilePoint) {
          var index2 = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;
          return this.options.subdomains[index2];
        },
        // stops loading all tiles in the background layer
        _abortLoading: function() {
          var i, tile;
          for (i in this._tiles) {
            if (this._tiles[i].coords.z !== this._tileZoom) {
              tile = this._tiles[i].el;
              tile.onload = falseFn;
              tile.onerror = falseFn;
              if (!tile.complete) {
                tile.src = emptyImageUrl;
                var coords = this._tiles[i].coords;
                remove(tile);
                delete this._tiles[i];
                this.fire("tileabort", {
                  tile,
                  coords
                });
              }
            }
          }
        },
        _removeTile: function(key) {
          var tile = this._tiles[key];
          if (!tile) {
            return;
          }
          tile.el.setAttribute("src", emptyImageUrl);
          return GridLayer.prototype._removeTile.call(this, key);
        },
        _tileReady: function(coords, err, tile) {
          if (!this._map || tile && tile.getAttribute("src") === emptyImageUrl) {
            return;
          }
          return GridLayer.prototype._tileReady.call(this, coords, err, tile);
        }
      });
      function tileLayer2(url, options) {
        return new TileLayer(url, options);
      }
      var TileLayerWMS = TileLayer.extend({
        // @section
        // @aka TileLayer.WMS options
        // If any custom options not documented here are used, they will be sent to the
        // WMS server as extra parameters in each request URL. This can be useful for
        // [non-standard vendor WMS parameters](https://docs.geoserver.org/stable/en/user/services/wms/vendor.html).
        defaultWmsParams: {
          service: "WMS",
          request: "GetMap",
          // @option layers: String = ''
          // **(required)** Comma-separated list of WMS layers to show.
          layers: "",
          // @option styles: String = ''
          // Comma-separated list of WMS styles.
          styles: "",
          // @option format: String = 'image/jpeg'
          // WMS image format (use `'image/png'` for layers with transparency).
          format: "image/jpeg",
          // @option transparent: Boolean = false
          // If `true`, the WMS service will return images with transparency.
          transparent: false,
          // @option version: String = '1.1.1'
          // Version of the WMS service to use
          version: "1.1.1"
        },
        options: {
          // @option crs: CRS = null
          // Coordinate Reference System to use for the WMS requests, defaults to
          // map CRS. Don't change this if you're not sure what it means.
          crs: null,
          // @option uppercase: Boolean = false
          // If `true`, WMS request parameter keys will be uppercase.
          uppercase: false
        },
        initialize: function(url, options) {
          this._url = url;
          var wmsParams = extend({}, this.defaultWmsParams);
          for (var i in options) {
            if (!(i in this.options)) {
              wmsParams[i] = options[i];
            }
          }
          options = setOptions(this, options);
          var realRetina = options.detectRetina && Browser.retina ? 2 : 1;
          var tileSize = this.getTileSize();
          wmsParams.width = tileSize.x * realRetina;
          wmsParams.height = tileSize.y * realRetina;
          this.wmsParams = wmsParams;
        },
        onAdd: function(map3) {
          this._crs = this.options.crs || map3.options.crs;
          this._wmsVersion = parseFloat(this.wmsParams.version);
          var projectionKey = this._wmsVersion >= 1.3 ? "crs" : "srs";
          this.wmsParams[projectionKey] = this._crs.code;
          TileLayer.prototype.onAdd.call(this, map3);
        },
        getTileUrl: function(coords) {
          var tileBounds = this._tileCoordsToNwSe(coords), crs = this._crs, bounds = toBounds(crs.project(tileBounds[0]), crs.project(tileBounds[1])), min = bounds.min, max = bounds.max, bbox = (this._wmsVersion >= 1.3 && this._crs === EPSG4326 ? [min.y, min.x, max.y, max.x] : [min.x, min.y, max.x, max.y]).join(","), url = TileLayer.prototype.getTileUrl.call(this, coords);
          return url + getParamString(this.wmsParams, url, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + bbox;
        },
        // @method setParams(params: Object, noRedraw?: Boolean): this
        // Merges an object with the new parameters and re-requests tiles on the current screen (unless `noRedraw` was set to true).
        setParams: function(params, noRedraw) {
          extend(this.wmsParams, params);
          if (!noRedraw) {
            this.redraw();
          }
          return this;
        }
      });
      function tileLayerWMS(url, options) {
        return new TileLayerWMS(url, options);
      }
      TileLayer.WMS = TileLayerWMS;
      tileLayer2.wms = tileLayerWMS;
      var Renderer = Layer.extend({
        // @section
        // @aka Renderer options
        options: {
          // @option padding: Number = 0.1
          // How much to extend the clip area around the map view (relative to its size)
          // e.g. 0.1 would be 10% of map view in each direction
          padding: 0.1
        },
        initialize: function(options) {
          setOptions(this, options);
          stamp(this);
          this._layers = this._layers || {};
        },
        onAdd: function() {
          if (!this._container) {
            this._initContainer();
            addClass(this._container, "leaflet-zoom-animated");
          }
          this.getPane().appendChild(this._container);
          this._update();
          this.on("update", this._updatePaths, this);
        },
        onRemove: function() {
          this.off("update", this._updatePaths, this);
          this._destroyContainer();
        },
        getEvents: function() {
          var events = {
            viewreset: this._reset,
            zoom: this._onZoom,
            moveend: this._update,
            zoomend: this._onZoomEnd
          };
          if (this._zoomAnimated) {
            events.zoomanim = this._onAnimZoom;
          }
          return events;
        },
        _onAnimZoom: function(ev) {
          this._updateTransform(ev.center, ev.zoom);
        },
        _onZoom: function() {
          this._updateTransform(this._map.getCenter(), this._map.getZoom());
        },
        _updateTransform: function(center, zoom2) {
          var scale2 = this._map.getZoomScale(zoom2, this._zoom), viewHalf = this._map.getSize().multiplyBy(0.5 + this.options.padding), currentCenterPoint = this._map.project(this._center, zoom2), topLeftOffset = viewHalf.multiplyBy(-scale2).add(currentCenterPoint).subtract(this._map._getNewPixelOrigin(center, zoom2));
          if (Browser.any3d) {
            setTransform(this._container, topLeftOffset, scale2);
          } else {
            setPosition(this._container, topLeftOffset);
          }
        },
        _reset: function() {
          this._update();
          this._updateTransform(this._center, this._zoom);
          for (var id in this._layers) {
            this._layers[id]._reset();
          }
        },
        _onZoomEnd: function() {
          for (var id in this._layers) {
            this._layers[id]._project();
          }
        },
        _updatePaths: function() {
          for (var id in this._layers) {
            this._layers[id]._update();
          }
        },
        _update: function() {
          var p = this.options.padding, size = this._map.getSize(), min = this._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();
          this._bounds = new Bounds(min, min.add(size.multiplyBy(1 + p * 2)).round());
          this._center = this._map.getCenter();
          this._zoom = this._map.getZoom();
        }
      });
      var Canvas = Renderer.extend({
        // @section
        // @aka Canvas options
        options: {
          // @option tolerance: Number = 0
          // How much to extend the click tolerance around a path/object on the map.
          tolerance: 0
        },
        getEvents: function() {
          var events = Renderer.prototype.getEvents.call(this);
          events.viewprereset = this._onViewPreReset;
          return events;
        },
        _onViewPreReset: function() {
          this._postponeUpdatePaths = true;
        },
        onAdd: function() {
          Renderer.prototype.onAdd.call(this);
          this._draw();
        },
        _initContainer: function() {
          var container = this._container = document.createElement("canvas");
          on(container, "mousemove", this._onMouseMove, this);
          on(container, "click dblclick mousedown mouseup contextmenu", this._onClick, this);
          on(container, "mouseout", this._handleMouseOut, this);
          container["_leaflet_disable_events"] = true;
          this._ctx = container.getContext("2d");
        },
        _destroyContainer: function() {
          cancelAnimFrame(this._redrawRequest);
          delete this._ctx;
          remove(this._container);
          off(this._container);
          delete this._container;
        },
        _updatePaths: function() {
          if (this._postponeUpdatePaths) {
            return;
          }
          var layer;
          this._redrawBounds = null;
          for (var id in this._layers) {
            layer = this._layers[id];
            layer._update();
          }
          this._redraw();
        },
        _update: function() {
          if (this._map._animatingZoom && this._bounds) {
            return;
          }
          Renderer.prototype._update.call(this);
          var b = this._bounds, container = this._container, size = b.getSize(), m = Browser.retina ? 2 : 1;
          setPosition(container, b.min);
          container.width = m * size.x;
          container.height = m * size.y;
          container.style.width = size.x + "px";
          container.style.height = size.y + "px";
          if (Browser.retina) {
            this._ctx.scale(2, 2);
          }
          this._ctx.translate(-b.min.x, -b.min.y);
          this.fire("update");
        },
        _reset: function() {
          Renderer.prototype._reset.call(this);
          if (this._postponeUpdatePaths) {
            this._postponeUpdatePaths = false;
            this._updatePaths();
          }
        },
        _initPath: function(layer) {
          this._updateDashArray(layer);
          this._layers[stamp(layer)] = layer;
          var order = layer._order = {
            layer,
            prev: this._drawLast,
            next: null
          };
          if (this._drawLast) {
            this._drawLast.next = order;
          }
          this._drawLast = order;
          this._drawFirst = this._drawFirst || this._drawLast;
        },
        _addPath: function(layer) {
          this._requestRedraw(layer);
        },
        _removePath: function(layer) {
          var order = layer._order;
          var next = order.next;
          var prev = order.prev;
          if (next) {
            next.prev = prev;
          } else {
            this._drawLast = prev;
          }
          if (prev) {
            prev.next = next;
          } else {
            this._drawFirst = next;
          }
          delete layer._order;
          delete this._layers[stamp(layer)];
          this._requestRedraw(layer);
        },
        _updatePath: function(layer) {
          this._extendRedrawBounds(layer);
          layer._project();
          layer._update();
          this._requestRedraw(layer);
        },
        _updateStyle: function(layer) {
          this._updateDashArray(layer);
          this._requestRedraw(layer);
        },
        _updateDashArray: function(layer) {
          if (typeof layer.options.dashArray === "string") {
            var parts = layer.options.dashArray.split(/[, ]+/), dashArray = [], dashValue, i;
            for (i = 0; i < parts.length; i++) {
              dashValue = Number(parts[i]);
              if (isNaN(dashValue)) {
                return;
              }
              dashArray.push(dashValue);
            }
            layer.options._dashArray = dashArray;
          } else {
            layer.options._dashArray = layer.options.dashArray;
          }
        },
        _requestRedraw: function(layer) {
          if (!this._map) {
            return;
          }
          this._extendRedrawBounds(layer);
          this._redrawRequest = this._redrawRequest || requestAnimFrame(this._redraw, this);
        },
        _extendRedrawBounds: function(layer) {
          if (layer._pxBounds) {
            var padding = (layer.options.weight || 0) + 1;
            this._redrawBounds = this._redrawBounds || new Bounds();
            this._redrawBounds.extend(layer._pxBounds.min.subtract([padding, padding]));
            this._redrawBounds.extend(layer._pxBounds.max.add([padding, padding]));
          }
        },
        _redraw: function() {
          this._redrawRequest = null;
          if (this._redrawBounds) {
            this._redrawBounds.min._floor();
            this._redrawBounds.max._ceil();
          }
          this._clear();
          this._draw();
          this._redrawBounds = null;
        },
        _clear: function() {
          var bounds = this._redrawBounds;
          if (bounds) {
            var size = bounds.getSize();
            this._ctx.clearRect(bounds.min.x, bounds.min.y, size.x, size.y);
          } else {
            this._ctx.save();
            this._ctx.setTransform(1, 0, 0, 1, 0, 0);
            this._ctx.clearRect(0, 0, this._container.width, this._container.height);
            this._ctx.restore();
          }
        },
        _draw: function() {
          var layer, bounds = this._redrawBounds;
          this._ctx.save();
          if (bounds) {
            var size = bounds.getSize();
            this._ctx.beginPath();
            this._ctx.rect(bounds.min.x, bounds.min.y, size.x, size.y);
            this._ctx.clip();
          }
          this._drawing = true;
          for (var order = this._drawFirst; order; order = order.next) {
            layer = order.layer;
            if (!bounds || layer._pxBounds && layer._pxBounds.intersects(bounds)) {
              layer._updatePath();
            }
          }
          this._drawing = false;
          this._ctx.restore();
        },
        _updatePoly: function(layer, closed) {
          if (!this._drawing) {
            return;
          }
          var i, j, len2, p, parts = layer._parts, len = parts.length, ctx = this._ctx;
          if (!len) {
            return;
          }
          ctx.beginPath();
          for (i = 0; i < len; i++) {
            for (j = 0, len2 = parts[i].length; j < len2; j++) {
              p = parts[i][j];
              ctx[j ? "lineTo" : "moveTo"](p.x, p.y);
            }
            if (closed) {
              ctx.closePath();
            }
          }
          this._fillStroke(ctx, layer);
        },
        _updateCircle: function(layer) {
          if (!this._drawing || layer._empty()) {
            return;
          }
          var p = layer._point, ctx = this._ctx, r = Math.max(Math.round(layer._radius), 1), s = (Math.max(Math.round(layer._radiusY), 1) || r) / r;
          if (s !== 1) {
            ctx.save();
            ctx.scale(1, s);
          }
          ctx.beginPath();
          ctx.arc(p.x, p.y / s, r, 0, Math.PI * 2, false);
          if (s !== 1) {
            ctx.restore();
          }
          this._fillStroke(ctx, layer);
        },
        _fillStroke: function(ctx, layer) {
          var options = layer.options;
          if (options.fill) {
            ctx.globalAlpha = options.fillOpacity;
            ctx.fillStyle = options.fillColor || options.color;
            ctx.fill(options.fillRule || "evenodd");
          }
          if (options.stroke && options.weight !== 0) {
            if (ctx.setLineDash) {
              ctx.setLineDash(layer.options && layer.options._dashArray || []);
            }
            ctx.globalAlpha = options.opacity;
            ctx.lineWidth = options.weight;
            ctx.strokeStyle = options.color;
            ctx.lineCap = options.lineCap;
            ctx.lineJoin = options.lineJoin;
            ctx.stroke();
          }
        },
        // Canvas obviously doesn't have mouse events for individual drawn objects,
        // so we emulate that by calculating what's under the mouse on mousemove/click manually
        _onClick: function(e) {
          var point = this._map.mouseEventToLayerPoint(e), layer, clickedLayer;
          for (var order = this._drawFirst; order; order = order.next) {
            layer = order.layer;
            if (layer.options.interactive && layer._containsPoint(point)) {
              if (!(e.type === "click" || e.type === "preclick") || !this._map._draggableMoved(layer)) {
                clickedLayer = layer;
              }
            }
          }
          this._fireEvent(clickedLayer ? [clickedLayer] : false, e);
        },
        _onMouseMove: function(e) {
          if (!this._map || this._map.dragging.moving() || this._map._animatingZoom) {
            return;
          }
          var point = this._map.mouseEventToLayerPoint(e);
          this._handleMouseHover(e, point);
        },
        _handleMouseOut: function(e) {
          var layer = this._hoveredLayer;
          if (layer) {
            removeClass(this._container, "leaflet-interactive");
            this._fireEvent([layer], e, "mouseout");
            this._hoveredLayer = null;
            this._mouseHoverThrottled = false;
          }
        },
        _handleMouseHover: function(e, point) {
          if (this._mouseHoverThrottled) {
            return;
          }
          var layer, candidateHoveredLayer;
          for (var order = this._drawFirst; order; order = order.next) {
            layer = order.layer;
            if (layer.options.interactive && layer._containsPoint(point)) {
              candidateHoveredLayer = layer;
            }
          }
          if (candidateHoveredLayer !== this._hoveredLayer) {
            this._handleMouseOut(e);
            if (candidateHoveredLayer) {
              addClass(this._container, "leaflet-interactive");
              this._fireEvent([candidateHoveredLayer], e, "mouseover");
              this._hoveredLayer = candidateHoveredLayer;
            }
          }
          this._fireEvent(this._hoveredLayer ? [this._hoveredLayer] : false, e);
          this._mouseHoverThrottled = true;
          setTimeout(bind(function() {
            this._mouseHoverThrottled = false;
          }, this), 32);
        },
        _fireEvent: function(layers2, e, type) {
          this._map._fireDOMEvent(e, type || e.type, layers2);
        },
        _bringToFront: function(layer) {
          var order = layer._order;
          if (!order) {
            return;
          }
          var next = order.next;
          var prev = order.prev;
          if (next) {
            next.prev = prev;
          } else {
            return;
          }
          if (prev) {
            prev.next = next;
          } else if (next) {
            this._drawFirst = next;
          }
          order.prev = this._drawLast;
          this._drawLast.next = order;
          order.next = null;
          this._drawLast = order;
          this._requestRedraw(layer);
        },
        _bringToBack: function(layer) {
          var order = layer._order;
          if (!order) {
            return;
          }
          var next = order.next;
          var prev = order.prev;
          if (prev) {
            prev.next = next;
          } else {
            return;
          }
          if (next) {
            next.prev = prev;
          } else if (prev) {
            this._drawLast = prev;
          }
          order.prev = null;
          order.next = this._drawFirst;
          this._drawFirst.prev = order;
          this._drawFirst = order;
          this._requestRedraw(layer);
        }
      });
      function canvas(options) {
        return Browser.canvas ? new Canvas(options) : null;
      }
      var vmlCreate = function() {
        try {
          document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml");
          return function(name) {
            return document.createElement("<lvml:" + name + ' class="lvml">');
          };
        } catch (e) {
        }
        return function(name) {
          return document.createElement("<" + name + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">');
        };
      }();
      var vmlMixin = {
        _initContainer: function() {
          this._container = create$1("div", "leaflet-vml-container");
        },
        _update: function() {
          if (this._map._animatingZoom) {
            return;
          }
          Renderer.prototype._update.call(this);
          this.fire("update");
        },
        _initPath: function(layer) {
          var container = layer._container = vmlCreate("shape");
          addClass(container, "leaflet-vml-shape " + (this.options.className || ""));
          container.coordsize = "1 1";
          layer._path = vmlCreate("path");
          container.appendChild(layer._path);
          this._updateStyle(layer);
          this._layers[stamp(layer)] = layer;
        },
        _addPath: function(layer) {
          var container = layer._container;
          this._container.appendChild(container);
          if (layer.options.interactive) {
            layer.addInteractiveTarget(container);
          }
        },
        _removePath: function(layer) {
          var container = layer._container;
          remove(container);
          layer.removeInteractiveTarget(container);
          delete this._layers[stamp(layer)];
        },
        _updateStyle: function(layer) {
          var stroke = layer._stroke, fill = layer._fill, options = layer.options, container = layer._container;
          container.stroked = !!options.stroke;
          container.filled = !!options.fill;
          if (options.stroke) {
            if (!stroke) {
              stroke = layer._stroke = vmlCreate("stroke");
            }
            container.appendChild(stroke);
            stroke.weight = options.weight + "px";
            stroke.color = options.color;
            stroke.opacity = options.opacity;
            if (options.dashArray) {
              stroke.dashStyle = isArray(options.dashArray) ? options.dashArray.join(" ") : options.dashArray.replace(/( *, *)/g, " ");
            } else {
              stroke.dashStyle = "";
            }
            stroke.endcap = options.lineCap.replace("butt", "flat");
            stroke.joinstyle = options.lineJoin;
          } else if (stroke) {
            container.removeChild(stroke);
            layer._stroke = null;
          }
          if (options.fill) {
            if (!fill) {
              fill = layer._fill = vmlCreate("fill");
            }
            container.appendChild(fill);
            fill.color = options.fillColor || options.color;
            fill.opacity = options.fillOpacity;
          } else if (fill) {
            container.removeChild(fill);
            layer._fill = null;
          }
        },
        _updateCircle: function(layer) {
          var p = layer._point.round(), r = Math.round(layer._radius), r2 = Math.round(layer._radiusY || r);
          this._setPath(layer, layer._empty() ? "M0 0" : "AL " + p.x + "," + p.y + " " + r + "," + r2 + " 0," + 65535 * 360);
        },
        _setPath: function(layer, path) {
          layer._path.v = path;
        },
        _bringToFront: function(layer) {
          toFront(layer._container);
        },
        _bringToBack: function(layer) {
          toBack(layer._container);
        }
      };
      var create = Browser.vml ? vmlCreate : svgCreate;
      var SVG = Renderer.extend({
        _initContainer: function() {
          this._container = create("svg");
          this._container.setAttribute("pointer-events", "none");
          this._rootGroup = create("g");
          this._container.appendChild(this._rootGroup);
        },
        _destroyContainer: function() {
          remove(this._container);
          off(this._container);
          delete this._container;
          delete this._rootGroup;
          delete this._svgSize;
        },
        _update: function() {
          if (this._map._animatingZoom && this._bounds) {
            return;
          }
          Renderer.prototype._update.call(this);
          var b = this._bounds, size = b.getSize(), container = this._container;
          if (!this._svgSize || !this._svgSize.equals(size)) {
            this._svgSize = size;
            container.setAttribute("width", size.x);
            container.setAttribute("height", size.y);
          }
          setPosition(container, b.min);
          container.setAttribute("viewBox", [b.min.x, b.min.y, size.x, size.y].join(" "));
          this.fire("update");
        },
        // methods below are called by vector layers implementations
        _initPath: function(layer) {
          var path = layer._path = create("path");
          if (layer.options.className) {
            addClass(path, layer.options.className);
          }
          if (layer.options.interactive) {
            addClass(path, "leaflet-interactive");
          }
          this._updateStyle(layer);
          this._layers[stamp(layer)] = layer;
        },
        _addPath: function(layer) {
          if (!this._rootGroup) {
            this._initContainer();
          }
          this._rootGroup.appendChild(layer._path);
          layer.addInteractiveTarget(layer._path);
        },
        _removePath: function(layer) {
          remove(layer._path);
          layer.removeInteractiveTarget(layer._path);
          delete this._layers[stamp(layer)];
        },
        _updatePath: function(layer) {
          layer._project();
          layer._update();
        },
        _updateStyle: function(layer) {
          var path = layer._path, options = layer.options;
          if (!path) {
            return;
          }
          if (options.stroke) {
            path.setAttribute("stroke", options.color);
            path.setAttribute("stroke-opacity", options.opacity);
            path.setAttribute("stroke-width", options.weight);
            path.setAttribute("stroke-linecap", options.lineCap);
            path.setAttribute("stroke-linejoin", options.lineJoin);
            if (options.dashArray) {
              path.setAttribute("stroke-dasharray", options.dashArray);
            } else {
              path.removeAttribute("stroke-dasharray");
            }
            if (options.dashOffset) {
              path.setAttribute("stroke-dashoffset", options.dashOffset);
            } else {
              path.removeAttribute("stroke-dashoffset");
            }
          } else {
            path.setAttribute("stroke", "none");
          }
          if (options.fill) {
            path.setAttribute("fill", options.fillColor || options.color);
            path.setAttribute("fill-opacity", options.fillOpacity);
            path.setAttribute("fill-rule", options.fillRule || "evenodd");
          } else {
            path.setAttribute("fill", "none");
          }
        },
        _updatePoly: function(layer, closed) {
          this._setPath(layer, pointsToPath(layer._parts, closed));
        },
        _updateCircle: function(layer) {
          var p = layer._point, r = Math.max(Math.round(layer._radius), 1), r2 = Math.max(Math.round(layer._radiusY), 1) || r, arc = "a" + r + "," + r2 + " 0 1,0 ";
          var d = layer._empty() ? "M0 0" : "M" + (p.x - r) + "," + p.y + arc + r * 2 + ",0 " + arc + -r * 2 + ",0 ";
          this._setPath(layer, d);
        },
        _setPath: function(layer, path) {
          layer._path.setAttribute("d", path);
        },
        // SVG does not have the concept of zIndex so we resort to changing the DOM order of elements
        _bringToFront: function(layer) {
          toFront(layer._path);
        },
        _bringToBack: function(layer) {
          toBack(layer._path);
        }
      });
      if (Browser.vml) {
        SVG.include(vmlMixin);
      }
      function svg(options) {
        return Browser.svg || Browser.vml ? new SVG(options) : null;
      }
      Map2.include({
        // @namespace Map; @method getRenderer(layer: Path): Renderer
        // Returns the instance of `Renderer` that should be used to render the given
        // `Path`. It will ensure that the `renderer` options of the map and paths
        // are respected, and that the renderers do exist on the map.
        getRenderer: function(layer) {
          var renderer = layer.options.renderer || this._getPaneRenderer(layer.options.pane) || this.options.renderer || this._renderer;
          if (!renderer) {
            renderer = this._renderer = this._createRenderer();
          }
          if (!this.hasLayer(renderer)) {
            this.addLayer(renderer);
          }
          return renderer;
        },
        _getPaneRenderer: function(name) {
          if (name === "overlayPane" || name === void 0) {
            return false;
          }
          var renderer = this._paneRenderers[name];
          if (renderer === void 0) {
            renderer = this._createRenderer({ pane: name });
            this._paneRenderers[name] = renderer;
          }
          return renderer;
        },
        _createRenderer: function(options) {
          return this.options.preferCanvas && canvas(options) || svg(options);
        }
      });
      var Rectangle = Polygon.extend({
        initialize: function(latLngBounds2, options) {
          Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds2), options);
        },
        // @method setBounds(latLngBounds: LatLngBounds): this
        // Redraws the rectangle with the passed bounds.
        setBounds: function(latLngBounds2) {
          return this.setLatLngs(this._boundsToLatLngs(latLngBounds2));
        },
        _boundsToLatLngs: function(latLngBounds2) {
          latLngBounds2 = toLatLngBounds(latLngBounds2);
          return [
            latLngBounds2.getSouthWest(),
            latLngBounds2.getNorthWest(),
            latLngBounds2.getNorthEast(),
            latLngBounds2.getSouthEast()
          ];
        }
      });
      function rectangle(latLngBounds2, options) {
        return new Rectangle(latLngBounds2, options);
      }
      SVG.create = create;
      SVG.pointsToPath = pointsToPath;
      GeoJSON.geometryToLayer = geometryToLayer;
      GeoJSON.coordsToLatLng = coordsToLatLng;
      GeoJSON.coordsToLatLngs = coordsToLatLngs;
      GeoJSON.latLngToCoords = latLngToCoords;
      GeoJSON.latLngsToCoords = latLngsToCoords;
      GeoJSON.getFeature = getFeature;
      GeoJSON.asFeature = asFeature;
      Map2.mergeOptions({
        // @option boxZoom: Boolean = true
        // Whether the map can be zoomed to a rectangular area specified by
        // dragging the mouse while pressing the shift key.
        boxZoom: true
      });
      var BoxZoom = Handler.extend({
        initialize: function(map3) {
          this._map = map3;
          this._container = map3._container;
          this._pane = map3._panes.overlayPane;
          this._resetStateTimeout = 0;
          map3.on("unload", this._destroy, this);
        },
        addHooks: function() {
          on(this._container, "mousedown", this._onMouseDown, this);
        },
        removeHooks: function() {
          off(this._container, "mousedown", this._onMouseDown, this);
        },
        moved: function() {
          return this._moved;
        },
        _destroy: function() {
          remove(this._pane);
          delete this._pane;
        },
        _resetState: function() {
          this._resetStateTimeout = 0;
          this._moved = false;
        },
        _clearDeferredResetState: function() {
          if (this._resetStateTimeout !== 0) {
            clearTimeout(this._resetStateTimeout);
            this._resetStateTimeout = 0;
          }
        },
        _onMouseDown: function(e) {
          if (!e.shiftKey || e.which !== 1 && e.button !== 1) {
            return false;
          }
          this._clearDeferredResetState();
          this._resetState();
          disableTextSelection();
          disableImageDrag();
          this._startPoint = this._map.mouseEventToContainerPoint(e);
          on(document, {
            contextmenu: stop,
            mousemove: this._onMouseMove,
            mouseup: this._onMouseUp,
            keydown: this._onKeyDown
          }, this);
        },
        _onMouseMove: function(e) {
          if (!this._moved) {
            this._moved = true;
            this._box = create$1("div", "leaflet-zoom-box", this._container);
            addClass(this._container, "leaflet-crosshair");
            this._map.fire("boxzoomstart");
          }
          this._point = this._map.mouseEventToContainerPoint(e);
          var bounds = new Bounds(this._point, this._startPoint), size = bounds.getSize();
          setPosition(this._box, bounds.min);
          this._box.style.width = size.x + "px";
          this._box.style.height = size.y + "px";
        },
        _finish: function() {
          if (this._moved) {
            remove(this._box);
            removeClass(this._container, "leaflet-crosshair");
          }
          enableTextSelection();
          enableImageDrag();
          off(document, {
            contextmenu: stop,
            mousemove: this._onMouseMove,
            mouseup: this._onMouseUp,
            keydown: this._onKeyDown
          }, this);
        },
        _onMouseUp: function(e) {
          if (e.which !== 1 && e.button !== 1) {
            return;
          }
          this._finish();
          if (!this._moved) {
            return;
          }
          this._clearDeferredResetState();
          this._resetStateTimeout = setTimeout(bind(this._resetState, this), 0);
          var bounds = new LatLngBounds(
            this._map.containerPointToLatLng(this._startPoint),
            this._map.containerPointToLatLng(this._point)
          );
          this._map.fitBounds(bounds).fire("boxzoomend", { boxZoomBounds: bounds });
        },
        _onKeyDown: function(e) {
          if (e.keyCode === 27) {
            this._finish();
            this._clearDeferredResetState();
            this._resetState();
          }
        }
      });
      Map2.addInitHook("addHandler", "boxZoom", BoxZoom);
      Map2.mergeOptions({
        // @option doubleClickZoom: Boolean|String = true
        // Whether the map can be zoomed in by double clicking on it and
        // zoomed out by double clicking while holding shift. If passed
        // `'center'`, double-click zoom will zoom to the center of the
        //  view regardless of where the mouse was.
        doubleClickZoom: true
      });
      var DoubleClickZoom = Handler.extend({
        addHooks: function() {
          this._map.on("dblclick", this._onDoubleClick, this);
        },
        removeHooks: function() {
          this._map.off("dblclick", this._onDoubleClick, this);
        },
        _onDoubleClick: function(e) {
          var map3 = this._map, oldZoom = map3.getZoom(), delta = map3.options.zoomDelta, zoom2 = e.originalEvent.shiftKey ? oldZoom - delta : oldZoom + delta;
          if (map3.options.doubleClickZoom === "center") {
            map3.setZoom(zoom2);
          } else {
            map3.setZoomAround(e.containerPoint, zoom2);
          }
        }
      });
      Map2.addInitHook("addHandler", "doubleClickZoom", DoubleClickZoom);
      Map2.mergeOptions({
        // @option dragging: Boolean = true
        // Whether the map is draggable with mouse/touch or not.
        dragging: true,
        // @section Panning Inertia Options
        // @option inertia: Boolean = *
        // If enabled, panning of the map will have an inertia effect where
        // the map builds momentum while dragging and continues moving in
        // the same direction for some time. Feels especially nice on touch
        // devices. Enabled by default.
        inertia: true,
        // @option inertiaDeceleration: Number = 3000
        // The rate with which the inertial movement slows down, in pixels/second².
        inertiaDeceleration: 3400,
        // px/s^2
        // @option inertiaMaxSpeed: Number = Infinity
        // Max speed of the inertial movement, in pixels/second.
        inertiaMaxSpeed: Infinity,
        // px/s
        // @option easeLinearity: Number = 0.2
        easeLinearity: 0.2,
        // TODO refactor, move to CRS
        // @option worldCopyJump: Boolean = false
        // With this option enabled, the map tracks when you pan to another "copy"
        // of the world and seamlessly jumps to the original one so that all overlays
        // like markers and vector layers are still visible.
        worldCopyJump: false,
        // @option maxBoundsViscosity: Number = 0.0
        // If `maxBounds` is set, this option will control how solid the bounds
        // are when dragging the map around. The default value of `0.0` allows the
        // user to drag outside the bounds at normal speed, higher values will
        // slow down map dragging outside bounds, and `1.0` makes the bounds fully
        // solid, preventing the user from dragging outside the bounds.
        maxBoundsViscosity: 0
      });
      var Drag = Handler.extend({
        addHooks: function() {
          if (!this._draggable) {
            var map3 = this._map;
            this._draggable = new Draggable(map3._mapPane, map3._container);
            this._draggable.on({
              dragstart: this._onDragStart,
              drag: this._onDrag,
              dragend: this._onDragEnd
            }, this);
            this._draggable.on("predrag", this._onPreDragLimit, this);
            if (map3.options.worldCopyJump) {
              this._draggable.on("predrag", this._onPreDragWrap, this);
              map3.on("zoomend", this._onZoomEnd, this);
              map3.whenReady(this._onZoomEnd, this);
            }
          }
          addClass(this._map._container, "leaflet-grab leaflet-touch-drag");
          this._draggable.enable();
          this._positions = [];
          this._times = [];
        },
        removeHooks: function() {
          removeClass(this._map._container, "leaflet-grab");
          removeClass(this._map._container, "leaflet-touch-drag");
          this._draggable.disable();
        },
        moved: function() {
          return this._draggable && this._draggable._moved;
        },
        moving: function() {
          return this._draggable && this._draggable._moving;
        },
        _onDragStart: function() {
          var map3 = this._map;
          map3._stop();
          if (this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {
            var bounds = toLatLngBounds(this._map.options.maxBounds);
            this._offsetLimit = toBounds(
              this._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(-1),
              this._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(-1).add(this._map.getSize())
            );
            this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity));
          } else {
            this._offsetLimit = null;
          }
          map3.fire("movestart").fire("dragstart");
          if (map3.options.inertia) {
            this._positions = [];
            this._times = [];
          }
        },
        _onDrag: function(e) {
          if (this._map.options.inertia) {
            var time = this._lastTime = +/* @__PURE__ */ new Date(), pos = this._lastPos = this._draggable._absPos || this._draggable._newPos;
            this._positions.push(pos);
            this._times.push(time);
            this._prunePositions(time);
          }
          this._map.fire("move", e).fire("drag", e);
        },
        _prunePositions: function(time) {
          while (this._positions.length > 1 && time - this._times[0] > 50) {
            this._positions.shift();
            this._times.shift();
          }
        },
        _onZoomEnd: function() {
          var pxCenter = this._map.getSize().divideBy(2), pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);
          this._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;
          this._worldWidth = this._map.getPixelWorldBounds().getSize().x;
        },
        _viscousLimit: function(value, threshold) {
          return value - (value - threshold) * this._viscosity;
        },
        _onPreDragLimit: function() {
          if (!this._viscosity || !this._offsetLimit) {
            return;
          }
          var offset = this._draggable._newPos.subtract(this._draggable._startPos);
          var limit = this._offsetLimit;
          if (offset.x < limit.min.x) {
            offset.x = this._viscousLimit(offset.x, limit.min.x);
          }
          if (offset.y < limit.min.y) {
            offset.y = this._viscousLimit(offset.y, limit.min.y);
          }
          if (offset.x > limit.max.x) {
            offset.x = this._viscousLimit(offset.x, limit.max.x);
          }
          if (offset.y > limit.max.y) {
            offset.y = this._viscousLimit(offset.y, limit.max.y);
          }
          this._draggable._newPos = this._draggable._startPos.add(offset);
        },
        _onPreDragWrap: function() {
          var worldWidth = this._worldWidth, halfWidth = Math.round(worldWidth / 2), dx = this._initialWorldOffset, x = this._draggable._newPos.x, newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx, newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx, newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;
          this._draggable._absPos = this._draggable._newPos.clone();
          this._draggable._newPos.x = newX;
        },
        _onDragEnd: function(e) {
          var map3 = this._map, options = map3.options, noInertia = !options.inertia || e.noInertia || this._times.length < 2;
          map3.fire("dragend", e);
          if (noInertia) {
            map3.fire("moveend");
          } else {
            this._prunePositions(+/* @__PURE__ */ new Date());
            var direction = this._lastPos.subtract(this._positions[0]), duration = (this._lastTime - this._times[0]) / 1e3, ease = options.easeLinearity, speedVector = direction.multiplyBy(ease / duration), speed = speedVector.distanceTo([0, 0]), limitedSpeed = Math.min(options.inertiaMaxSpeed, speed), limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed), decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease), offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();
            if (!offset.x && !offset.y) {
              map3.fire("moveend");
            } else {
              offset = map3._limitOffset(offset, map3.options.maxBounds);
              requestAnimFrame(function() {
                map3.panBy(offset, {
                  duration: decelerationDuration,
                  easeLinearity: ease,
                  noMoveStart: true,
                  animate: true
                });
              });
            }
          }
        }
      });
      Map2.addInitHook("addHandler", "dragging", Drag);
      Map2.mergeOptions({
        // @option keyboard: Boolean = true
        // Makes the map focusable and allows users to navigate the map with keyboard
        // arrows and `+`/`-` keys.
        keyboard: true,
        // @option keyboardPanDelta: Number = 80
        // Amount of pixels to pan when pressing an arrow key.
        keyboardPanDelta: 80
      });
      var Keyboard = Handler.extend({
        keyCodes: {
          left: [37],
          right: [39],
          down: [40],
          up: [38],
          zoomIn: [187, 107, 61, 171],
          zoomOut: [189, 109, 54, 173]
        },
        initialize: function(map3) {
          this._map = map3;
          this._setPanDelta(map3.options.keyboardPanDelta);
          this._setZoomDelta(map3.options.zoomDelta);
        },
        addHooks: function() {
          var container = this._map._container;
          if (container.tabIndex <= 0) {
            container.tabIndex = "0";
          }
          on(container, {
            focus: this._onFocus,
            blur: this._onBlur,
            mousedown: this._onMouseDown
          }, this);
          this._map.on({
            focus: this._addHooks,
            blur: this._removeHooks
          }, this);
        },
        removeHooks: function() {
          this._removeHooks();
          off(this._map._container, {
            focus: this._onFocus,
            blur: this._onBlur,
            mousedown: this._onMouseDown
          }, this);
          this._map.off({
            focus: this._addHooks,
            blur: this._removeHooks
          }, this);
        },
        _onMouseDown: function() {
          if (this._focused) {
            return;
          }
          var body = document.body, docEl = document.documentElement, top = body.scrollTop || docEl.scrollTop, left = body.scrollLeft || docEl.scrollLeft;
          this._map._container.focus();
          window.scrollTo(left, top);
        },
        _onFocus: function() {
          this._focused = true;
          this._map.fire("focus");
        },
        _onBlur: function() {
          this._focused = false;
          this._map.fire("blur");
        },
        _setPanDelta: function(panDelta) {
          var keys = this._panKeys = {}, codes = this.keyCodes, i, len;
          for (i = 0, len = codes.left.length; i < len; i++) {
            keys[codes.left[i]] = [-1 * panDelta, 0];
          }
          for (i = 0, len = codes.right.length; i < len; i++) {
            keys[codes.right[i]] = [panDelta, 0];
          }
          for (i = 0, len = codes.down.length; i < len; i++) {
            keys[codes.down[i]] = [0, panDelta];
          }
          for (i = 0, len = codes.up.length; i < len; i++) {
            keys[codes.up[i]] = [0, -1 * panDelta];
          }
        },
        _setZoomDelta: function(zoomDelta) {
          var keys = this._zoomKeys = {}, codes = this.keyCodes, i, len;
          for (i = 0, len = codes.zoomIn.length; i < len; i++) {
            keys[codes.zoomIn[i]] = zoomDelta;
          }
          for (i = 0, len = codes.zoomOut.length; i < len; i++) {
            keys[codes.zoomOut[i]] = -zoomDelta;
          }
        },
        _addHooks: function() {
          on(document, "keydown", this._onKeyDown, this);
        },
        _removeHooks: function() {
          off(document, "keydown", this._onKeyDown, this);
        },
        _onKeyDown: function(e) {
          if (e.altKey || e.ctrlKey || e.metaKey) {
            return;
          }
          var key = e.keyCode, map3 = this._map, offset;
          if (key in this._panKeys) {
            if (!map3._panAnim || !map3._panAnim._inProgress) {
              offset = this._panKeys[key];
              if (e.shiftKey) {
                offset = toPoint(offset).multiplyBy(3);
              }
              if (map3.options.maxBounds) {
                offset = map3._limitOffset(toPoint(offset), map3.options.maxBounds);
              }
              if (map3.options.worldCopyJump) {
                var newLatLng = map3.wrapLatLng(map3.unproject(map3.project(map3.getCenter()).add(offset)));
                map3.panTo(newLatLng);
              } else {
                map3.panBy(offset);
              }
            }
          } else if (key in this._zoomKeys) {
            map3.setZoom(map3.getZoom() + (e.shiftKey ? 3 : 1) * this._zoomKeys[key]);
          } else if (key === 27 && map3._popup && map3._popup.options.closeOnEscapeKey) {
            map3.closePopup();
          } else {
            return;
          }
          stop(e);
        }
      });
      Map2.addInitHook("addHandler", "keyboard", Keyboard);
      Map2.mergeOptions({
        // @section Mouse wheel options
        // @option scrollWheelZoom: Boolean|String = true
        // Whether the map can be zoomed by using the mouse wheel. If passed `'center'`,
        // it will zoom to the center of the view regardless of where the mouse was.
        scrollWheelZoom: true,
        // @option wheelDebounceTime: Number = 40
        // Limits the rate at which a wheel can fire (in milliseconds). By default
        // user can't zoom via wheel more often than once per 40 ms.
        wheelDebounceTime: 40,
        // @option wheelPxPerZoomLevel: Number = 60
        // How many scroll pixels (as reported by [L.DomEvent.getWheelDelta](#domevent-getwheeldelta))
        // mean a change of one full zoom level. Smaller values will make wheel-zooming
        // faster (and vice versa).
        wheelPxPerZoomLevel: 60
      });
      var ScrollWheelZoom = Handler.extend({
        addHooks: function() {
          on(this._map._container, "wheel", this._onWheelScroll, this);
          this._delta = 0;
        },
        removeHooks: function() {
          off(this._map._container, "wheel", this._onWheelScroll, this);
        },
        _onWheelScroll: function(e) {
          var delta = getWheelDelta(e);
          var debounce = this._map.options.wheelDebounceTime;
          this._delta += delta;
          this._lastMousePos = this._map.mouseEventToContainerPoint(e);
          if (!this._startTime) {
            this._startTime = +/* @__PURE__ */ new Date();
          }
          var left = Math.max(debounce - (+/* @__PURE__ */ new Date() - this._startTime), 0);
          clearTimeout(this._timer);
          this._timer = setTimeout(bind(this._performZoom, this), left);
          stop(e);
        },
        _performZoom: function() {
          var map3 = this._map, zoom2 = map3.getZoom(), snap = this._map.options.zoomSnap || 0;
          map3._stop();
          var d2 = this._delta / (this._map.options.wheelPxPerZoomLevel * 4), d3 = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(d2)))) / Math.LN2, d4 = snap ? Math.ceil(d3 / snap) * snap : d3, delta = map3._limitZoom(zoom2 + (this._delta > 0 ? d4 : -d4)) - zoom2;
          this._delta = 0;
          this._startTime = null;
          if (!delta) {
            return;
          }
          if (map3.options.scrollWheelZoom === "center") {
            map3.setZoom(zoom2 + delta);
          } else {
            map3.setZoomAround(this._lastMousePos, zoom2 + delta);
          }
        }
      });
      Map2.addInitHook("addHandler", "scrollWheelZoom", ScrollWheelZoom);
      var tapHoldDelay = 600;
      Map2.mergeOptions({
        // @section Touch interaction options
        // @option tapHold: Boolean
        // Enables simulation of `contextmenu` event, default is `true` for mobile Safari.
        tapHold: Browser.touchNative && Browser.safari && Browser.mobile,
        // @option tapTolerance: Number = 15
        // The max number of pixels a user can shift his finger during touch
        // for it to be considered a valid tap.
        tapTolerance: 15
      });
      var TapHold = Handler.extend({
        addHooks: function() {
          on(this._map._container, "touchstart", this._onDown, this);
        },
        removeHooks: function() {
          off(this._map._container, "touchstart", this._onDown, this);
        },
        _onDown: function(e) {
          clearTimeout(this._holdTimeout);
          if (e.touches.length !== 1) {
            return;
          }
          var first = e.touches[0];
          this._startPos = this._newPos = new Point(first.clientX, first.clientY);
          this._holdTimeout = setTimeout(bind(function() {
            this._cancel();
            if (!this._isTapValid()) {
              return;
            }
            on(document, "touchend", preventDefault);
            on(document, "touchend touchcancel", this._cancelClickPrevent);
            this._simulateEvent("contextmenu", first);
          }, this), tapHoldDelay);
          on(document, "touchend touchcancel contextmenu", this._cancel, this);
          on(document, "touchmove", this._onMove, this);
        },
        _cancelClickPrevent: function cancelClickPrevent() {
          off(document, "touchend", preventDefault);
          off(document, "touchend touchcancel", cancelClickPrevent);
        },
        _cancel: function() {
          clearTimeout(this._holdTimeout);
          off(document, "touchend touchcancel contextmenu", this._cancel, this);
          off(document, "touchmove", this._onMove, this);
        },
        _onMove: function(e) {
          var first = e.touches[0];
          this._newPos = new Point(first.clientX, first.clientY);
        },
        _isTapValid: function() {
          return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;
        },
        _simulateEvent: function(type, e) {
          var simulatedEvent = new MouseEvent(type, {
            bubbles: true,
            cancelable: true,
            view: window,
            // detail: 1,
            screenX: e.screenX,
            screenY: e.screenY,
            clientX: e.clientX,
            clientY: e.clientY
            // button: 2,
            // buttons: 2
          });
          simulatedEvent._simulated = true;
          e.target.dispatchEvent(simulatedEvent);
        }
      });
      Map2.addInitHook("addHandler", "tapHold", TapHold);
      Map2.mergeOptions({
        // @section Touch interaction options
        // @option touchZoom: Boolean|String = *
        // Whether the map can be zoomed by touch-dragging with two fingers. If
        // passed `'center'`, it will zoom to the center of the view regardless of
        // where the touch events (fingers) were. Enabled for touch-capable web
        // browsers.
        touchZoom: Browser.touch,
        // @option bounceAtZoomLimits: Boolean = true
        // Set it to false if you don't want the map to zoom beyond min/max zoom
        // and then bounce back when pinch-zooming.
        bounceAtZoomLimits: true
      });
      var TouchZoom = Handler.extend({
        addHooks: function() {
          addClass(this._map._container, "leaflet-touch-zoom");
          on(this._map._container, "touchstart", this._onTouchStart, this);
        },
        removeHooks: function() {
          removeClass(this._map._container, "leaflet-touch-zoom");
          off(this._map._container, "touchstart", this._onTouchStart, this);
        },
        _onTouchStart: function(e) {
          var map3 = this._map;
          if (!e.touches || e.touches.length !== 2 || map3._animatingZoom || this._zooming) {
            return;
          }
          var p1 = map3.mouseEventToContainerPoint(e.touches[0]), p2 = map3.mouseEventToContainerPoint(e.touches[1]);
          this._centerPoint = map3.getSize()._divideBy(2);
          this._startLatLng = map3.containerPointToLatLng(this._centerPoint);
          if (map3.options.touchZoom !== "center") {
            this._pinchStartLatLng = map3.containerPointToLatLng(p1.add(p2)._divideBy(2));
          }
          this._startDist = p1.distanceTo(p2);
          this._startZoom = map3.getZoom();
          this._moved = false;
          this._zooming = true;
          map3._stop();
          on(document, "touchmove", this._onTouchMove, this);
          on(document, "touchend touchcancel", this._onTouchEnd, this);
          preventDefault(e);
        },
        _onTouchMove: function(e) {
          if (!e.touches || e.touches.length !== 2 || !this._zooming) {
            return;
          }
          var map3 = this._map, p1 = map3.mouseEventToContainerPoint(e.touches[0]), p2 = map3.mouseEventToContainerPoint(e.touches[1]), scale2 = p1.distanceTo(p2) / this._startDist;
          this._zoom = map3.getScaleZoom(scale2, this._startZoom);
          if (!map3.options.bounceAtZoomLimits && (this._zoom < map3.getMinZoom() && scale2 < 1 || this._zoom > map3.getMaxZoom() && scale2 > 1)) {
            this._zoom = map3._limitZoom(this._zoom);
          }
          if (map3.options.touchZoom === "center") {
            this._center = this._startLatLng;
            if (scale2 === 1) {
              return;
            }
          } else {
            var delta = p1._add(p2)._divideBy(2)._subtract(this._centerPoint);
            if (scale2 === 1 && delta.x === 0 && delta.y === 0) {
              return;
            }
            this._center = map3.unproject(map3.project(this._pinchStartLatLng, this._zoom).subtract(delta), this._zoom);
          }
          if (!this._moved) {
            map3._moveStart(true, false);
            this._moved = true;
          }
          cancelAnimFrame(this._animRequest);
          var moveFn = bind(map3._move, map3, this._center, this._zoom, { pinch: true, round: false }, void 0);
          this._animRequest = requestAnimFrame(moveFn, this, true);
          preventDefault(e);
        },
        _onTouchEnd: function() {
          if (!this._moved || !this._zooming) {
            this._zooming = false;
            return;
          }
          this._zooming = false;
          cancelAnimFrame(this._animRequest);
          off(document, "touchmove", this._onTouchMove, this);
          off(document, "touchend touchcancel", this._onTouchEnd, this);
          if (this._map.options.zoomAnimation) {
            this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), true, this._map.options.zoomSnap);
          } else {
            this._map._resetView(this._center, this._map._limitZoom(this._zoom));
          }
        }
      });
      Map2.addInitHook("addHandler", "touchZoom", TouchZoom);
      Map2.BoxZoom = BoxZoom;
      Map2.DoubleClickZoom = DoubleClickZoom;
      Map2.Drag = Drag;
      Map2.Keyboard = Keyboard;
      Map2.ScrollWheelZoom = ScrollWheelZoom;
      Map2.TapHold = TapHold;
      Map2.TouchZoom = TouchZoom;
      exports2.Bounds = Bounds;
      exports2.Browser = Browser;
      exports2.CRS = CRS;
      exports2.Canvas = Canvas;
      exports2.Circle = Circle;
      exports2.CircleMarker = CircleMarker;
      exports2.Class = Class;
      exports2.Control = Control;
      exports2.DivIcon = DivIcon;
      exports2.DivOverlay = DivOverlay;
      exports2.DomEvent = DomEvent;
      exports2.DomUtil = DomUtil;
      exports2.Draggable = Draggable;
      exports2.Evented = Evented;
      exports2.FeatureGroup = FeatureGroup2;
      exports2.GeoJSON = GeoJSON;
      exports2.GridLayer = GridLayer;
      exports2.Handler = Handler;
      exports2.Icon = Icon;
      exports2.ImageOverlay = ImageOverlay;
      exports2.LatLng = LatLng2;
      exports2.LatLngBounds = LatLngBounds;
      exports2.Layer = Layer;
      exports2.LayerGroup = LayerGroup;
      exports2.LineUtil = LineUtil;
      exports2.Map = Map2;
      exports2.Marker = Marker;
      exports2.Mixin = Mixin;
      exports2.Path = Path;
      exports2.Point = Point;
      exports2.PolyUtil = PolyUtil;
      exports2.Polygon = Polygon;
      exports2.Polyline = Polyline;
      exports2.Popup = Popup;
      exports2.PosAnimation = PosAnimation;
      exports2.Projection = index;
      exports2.Rectangle = Rectangle;
      exports2.Renderer = Renderer;
      exports2.SVG = SVG;
      exports2.SVGOverlay = SVGOverlay;
      exports2.TileLayer = TileLayer;
      exports2.Tooltip = Tooltip;
      exports2.Transformation = Transformation;
      exports2.Util = Util;
      exports2.VideoOverlay = VideoOverlay;
      exports2.bind = bind;
      exports2.bounds = toBounds;
      exports2.canvas = canvas;
      exports2.circle = circle2;
      exports2.circleMarker = circleMarker2;
      exports2.control = control;
      exports2.divIcon = divIcon2;
      exports2.extend = extend;
      exports2.featureGroup = featureGroup;
      exports2.geoJSON = geoJSON2;
      exports2.geoJson = geoJson;
      exports2.gridLayer = gridLayer;
      exports2.icon = icon;
      exports2.imageOverlay = imageOverlay;
      exports2.latLng = toLatLng;
      exports2.latLngBounds = toLatLngBounds;
      exports2.layerGroup = layerGroup;
      exports2.map = createMap;
      exports2.marker = marker2;
      exports2.point = toPoint;
      exports2.polygon = polygon;
      exports2.polyline = polyline;
      exports2.popup = popup;
      exports2.rectangle = rectangle;
      exports2.setOptions = setOptions;
      exports2.stamp = stamp;
      exports2.svg = svg;
      exports2.svgOverlay = svgOverlay;
      exports2.tileLayer = tileLayer2;
      exports2.tooltip = tooltip;
      exports2.transformation = toTransformation;
      exports2.version = version;
      exports2.videoOverlay = videoOverlay;
      var oldL = window.L;
      exports2.noConflict = function() {
        window.L = oldL;
        return this;
      };
      window.L = exports2;
    });
  }
});

// resources/js/index.js
var L2 = __toESM(require_leaflet_src(), 1);

// node_modules/leaflet-fullscreen/dist/Leaflet.fullscreen.js
L.Control.Fullscreen = L.Control.extend({
  options: {
    position: "topleft",
    title: {
      "false": "View Fullscreen",
      "true": "Exit Fullscreen"
    }
  },
  onAdd: function(map3) {
    var container = L.DomUtil.create("div", "leaflet-control-fullscreen leaflet-bar leaflet-control");
    this.link = L.DomUtil.create("a", "leaflet-control-fullscreen-button leaflet-bar-part", container);
    this.link.href = "#";
    this._map = map3;
    this._map.on("fullscreenchange", this._toggleTitle, this);
    this._toggleTitle();
    L.DomEvent.on(this.link, "click", this._click, this);
    return container;
  },
  _click: function(e) {
    L.DomEvent.stopPropagation(e);
    L.DomEvent.preventDefault(e);
    this._map.toggleFullscreen(this.options);
  },
  _toggleTitle: function() {
    this.link.title = this.options.title[this._map.isFullscreen()];
  }
});
L.Map.include({
  isFullscreen: function() {
    return this._isFullscreen || false;
  },
  toggleFullscreen: function(options) {
    var container = this.getContainer();
    if (this.isFullscreen()) {
      if (options && options.pseudoFullscreen) {
        this._disablePseudoFullscreen(container);
      } else if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.mozCancelFullScreen) {
        document.mozCancelFullScreen();
      } else if (document.webkitCancelFullScreen) {
        document.webkitCancelFullScreen();
      } else if (document.msExitFullscreen) {
        document.msExitFullscreen();
      } else {
        this._disablePseudoFullscreen(container);
      }
    } else {
      if (options && options.pseudoFullscreen) {
        this._enablePseudoFullscreen(container);
      } else if (container.requestFullscreen) {
        container.requestFullscreen();
      } else if (container.mozRequestFullScreen) {
        container.mozRequestFullScreen();
      } else if (container.webkitRequestFullscreen) {
        container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
      } else if (container.msRequestFullscreen) {
        container.msRequestFullscreen();
      } else {
        this._enablePseudoFullscreen(container);
      }
    }
  },
  _enablePseudoFullscreen: function(container) {
    L.DomUtil.addClass(container, "leaflet-pseudo-fullscreen");
    this._setFullscreen(true);
    this.fire("fullscreenchange");
  },
  _disablePseudoFullscreen: function(container) {
    L.DomUtil.removeClass(container, "leaflet-pseudo-fullscreen");
    this._setFullscreen(false);
    this.fire("fullscreenchange");
  },
  _setFullscreen: function(fullscreen) {
    this._isFullscreen = fullscreen;
    var container = this.getContainer();
    if (fullscreen) {
      L.DomUtil.addClass(container, "leaflet-fullscreen-on");
    } else {
      L.DomUtil.removeClass(container, "leaflet-fullscreen-on");
    }
    this.invalidateSize();
  },
  _onFullscreenChange: function(e) {
    var fullscreenElement = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement;
    if (fullscreenElement === this.getContainer() && !this._isFullscreen) {
      this._setFullscreen(true);
      this.fire("fullscreenchange");
    } else if (fullscreenElement !== this.getContainer() && this._isFullscreen) {
      this._setFullscreen(false);
      this.fire("fullscreenchange");
    }
  }
});
L.Map.mergeOptions({
  fullscreenControl: false
});
L.Map.addInitHook(function() {
  if (this.options.fullscreenControl) {
    this.fullscreenControl = new L.Control.Fullscreen(this.options.fullscreenControl);
    this.addControl(this.fullscreenControl);
  }
  var fullscreenchange;
  if ("onfullscreenchange" in document) {
    fullscreenchange = "fullscreenchange";
  } else if ("onmozfullscreenchange" in document) {
    fullscreenchange = "mozfullscreenchange";
  } else if ("onwebkitfullscreenchange" in document) {
    fullscreenchange = "webkitfullscreenchange";
  } else if ("onmsfullscreenchange" in document) {
    fullscreenchange = "MSFullscreenChange";
  }
  if (fullscreenchange) {
    var onFullscreenChange = L.bind(this._onFullscreenChange, this);
    this.whenReady(function() {
      L.DomEvent.on(document, fullscreenchange, onFullscreenChange);
    });
    this.on("unload", function() {
      L.DomEvent.off(document, fullscreenchange, onFullscreenChange);
    });
  }
});
L.control.fullscreen = function(options) {
  return new L.Control.Fullscreen(options);
};

// node_modules/@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.js
(() => {
  var _a2, _b;
  var Wl = Object.create;
  var lr = Object.defineProperty;
  var Ql = Object.getOwnPropertyDescriptor;
  var th = Object.getOwnPropertyNames;
  var eh = Object.getPrototypeOf, ih = Object.prototype.hasOwnProperty;
  var S = (t, e) => () => (e || t((e = { exports: {} }).exports, e), e.exports);
  var rh = (t, e, i, r) => {
    if (e && typeof e == "object" || typeof e == "function")
      for (let n of th(e))
        !ih.call(t, n) && n !== i && lr(t, n, { get: () => e[n], enumerable: !(r = Ql(e, n)) || r.enumerable });
    return t;
  };
  var xt = (t, e, i) => (i = t != null ? Wl(eh(t)) : {}, rh(e || !t || !t.__esModule ? lr(i, "default", { value: t, enumerable: true }) : i, t));
  var cr = S((w_, ur) => {
    function sh() {
      this.__data__ = [], this.size = 0;
    }
    ur.exports = sh;
  });
  var he = S((C_, pr) => {
    function ah(t, e) {
      return t === e || t !== t && e !== e;
    }
    pr.exports = ah;
  });
  var ue = S((E_, fr) => {
    var oh = he();
    function lh(t, e) {
      for (var i = t.length; i--; )
        if (oh(t[i][0], e))
          return i;
      return -1;
    }
    fr.exports = lh;
  });
  var gr = S((P_, dr) => {
    var hh = ue(), uh = Array.prototype, ch = uh.splice;
    function ph(t) {
      var e = this.__data__, i = hh(e, t);
      if (i < 0)
        return false;
      var r = e.length - 1;
      return i == r ? e.pop() : ch.call(e, i, 1), --this.size, true;
    }
    dr.exports = ph;
  });
  var _r = S((S_, mr) => {
    var fh = ue();
    function dh(t) {
      var e = this.__data__, i = fh(e, t);
      return i < 0 ? void 0 : e[i][1];
    }
    mr.exports = dh;
  });
  var Lr = S((B_, yr) => {
    var gh = ue();
    function mh(t) {
      return gh(this.__data__, t) > -1;
    }
    yr.exports = mh;
  });
  var vr = S((T_, br) => {
    var _h = ue();
    function yh(t, e) {
      var i = this.__data__, r = _h(i, t);
      return r < 0 ? (++this.size, i.push([t, e])) : i[r][1] = e, this;
    }
    br.exports = yh;
  });
  var ce = S((R_, kr) => {
    var Lh = cr(), bh = gr(), vh = _r(), kh = Lr(), Mh = vr();
    function Kt(t) {
      var e = -1, i = t == null ? 0 : t.length;
      for (this.clear(); ++e < i; ) {
        var r = t[e];
        this.set(r[0], r[1]);
      }
    }
    Kt.prototype.clear = Lh;
    Kt.prototype.delete = bh;
    Kt.prototype.get = vh;
    Kt.prototype.has = kh;
    Kt.prototype.set = Mh;
    kr.exports = Kt;
  });
  var xr = S((D_, Mr) => {
    var xh = ce();
    function wh() {
      this.__data__ = new xh(), this.size = 0;
    }
    Mr.exports = wh;
  });
  var Cr = S((O_, wr) => {
    function Ch(t) {
      var e = this.__data__, i = e.delete(t);
      return this.size = e.size, i;
    }
    wr.exports = Ch;
  });
  var Pr = S((A_, Er) => {
    function Eh(t) {
      return this.__data__.get(t);
    }
    Er.exports = Eh;
  });
  var Br = S((I_, Sr) => {
    function Ph(t) {
      return this.__data__.has(t);
    }
    Sr.exports = Ph;
  });
  var oi = S((G_, Tr) => {
    var Sh = typeof global == "object" && global && global.Object === Object && global;
    Tr.exports = Sh;
  });
  var Gt = S((q_, Rr) => {
    var Bh = oi(), Th = typeof self == "object" && self && self.Object === Object && self, Rh = Bh || Th || Function("return this")();
    Rr.exports = Rh;
  });
  var Oe = S((N_, Dr) => {
    var Dh = Gt(), Oh = Dh.Symbol;
    Dr.exports = Oh;
  });
  var Gr = S((z_, Ir) => {
    var Or = Oe(), Ar = Object.prototype, Ah = Ar.hasOwnProperty, Ih = Ar.toString, pe = Or ? Or.toStringTag : void 0;
    function Gh(t) {
      var e = Ah.call(t, pe), i = t[pe];
      try {
        t[pe] = void 0;
        var r = true;
      } catch {
      }
      var n = Ih.call(t);
      return r && (e ? t[pe] = i : delete t[pe]), n;
    }
    Ir.exports = Gh;
  });
  var Nr = S((F_, qr) => {
    var qh = Object.prototype, Nh = qh.toString;
    function zh(t) {
      return Nh.call(t);
    }
    qr.exports = zh;
  });
  var Ht = S((V_, Vr) => {
    var zr = Oe(), Fh = Gr(), Vh = Nr(), Uh = "[object Null]", jh = "[object Undefined]", Fr = zr ? zr.toStringTag : void 0;
    function Kh(t) {
      return t == null ? t === void 0 ? jh : Uh : Fr && Fr in Object(t) ? Fh(t) : Vh(t);
    }
    Vr.exports = Kh;
  });
  var Bt = S((U_, Ur) => {
    function Hh(t) {
      var e = typeof t;
      return t != null && (e == "object" || e == "function");
    }
    Ur.exports = Hh;
  });
  var Ae = S((j_, jr) => {
    var Xh = Ht(), Yh = Bt(), Jh = "[object AsyncFunction]", $h = "[object Function]", Zh = "[object GeneratorFunction]", Wh = "[object Proxy]";
    function Qh(t) {
      if (!Yh(t))
        return false;
      var e = Xh(t);
      return e == $h || e == Zh || e == Jh || e == Wh;
    }
    jr.exports = Qh;
  });
  var Hr = S((K_, Kr) => {
    var tu = Gt(), eu = tu["__core-js_shared__"];
    Kr.exports = eu;
  });
  var Jr = S((H_, Yr) => {
    var li = Hr(), Xr = function() {
      var t = /[^.]+$/.exec(li && li.keys && li.keys.IE_PROTO || "");
      return t ? "Symbol(src)_1." + t : "";
    }();
    function iu(t) {
      return !!Xr && Xr in t;
    }
    Yr.exports = iu;
  });
  var Zr = S((X_, $r) => {
    var ru = Function.prototype, nu = ru.toString;
    function su(t) {
      if (t != null) {
        try {
          return nu.call(t);
        } catch {
        }
        try {
          return t + "";
        } catch {
        }
      }
      return "";
    }
    $r.exports = su;
  });
  var Qr = S((Y_, Wr) => {
    var au = Ae(), ou = Jr(), lu = Bt(), hu = Zr(), uu = /[\\^$.*+?()[\]{}|]/g, cu = /^\[object .+?Constructor\]$/, pu = Function.prototype, fu = Object.prototype, du = pu.toString, gu = fu.hasOwnProperty, mu = RegExp("^" + du.call(gu).replace(uu, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
    function _u(t) {
      if (!lu(t) || ou(t))
        return false;
      var e = au(t) ? mu : cu;
      return e.test(hu(t));
    }
    Wr.exports = _u;
  });
  var en = S((J_, tn) => {
    function yu(t, e) {
      return t?.[e];
    }
    tn.exports = yu;
  });
  var Ie = S(($_, rn) => {
    var Lu = Qr(), bu = en();
    function vu(t, e) {
      var i = bu(t, e);
      return Lu(i) ? i : void 0;
    }
    rn.exports = vu;
  });
  var hi = S((Z_, nn) => {
    var ku = Ie(), Mu = Gt(), xu = ku(Mu, "Map");
    nn.exports = xu;
  });
  var fe = S((W_, sn) => {
    var wu = Ie(), Cu = wu(Object, "create");
    sn.exports = Cu;
  });
  var ln = S((Q_, on) => {
    var an = fe();
    function Eu() {
      this.__data__ = an ? an(null) : {}, this.size = 0;
    }
    on.exports = Eu;
  });
  var un = S((ty, hn) => {
    function Pu(t) {
      var e = this.has(t) && delete this.__data__[t];
      return this.size -= e ? 1 : 0, e;
    }
    hn.exports = Pu;
  });
  var pn = S((ey, cn) => {
    var Su = fe(), Bu = "__lodash_hash_undefined__", Tu = Object.prototype, Ru = Tu.hasOwnProperty;
    function Du(t) {
      var e = this.__data__;
      if (Su) {
        var i = e[t];
        return i === Bu ? void 0 : i;
      }
      return Ru.call(e, t) ? e[t] : void 0;
    }
    cn.exports = Du;
  });
  var dn = S((iy, fn) => {
    var Ou = fe(), Au = Object.prototype, Iu = Au.hasOwnProperty;
    function Gu(t) {
      var e = this.__data__;
      return Ou ? e[t] !== void 0 : Iu.call(e, t);
    }
    fn.exports = Gu;
  });
  var mn = S((ry, gn) => {
    var qu = fe(), Nu = "__lodash_hash_undefined__";
    function zu(t, e) {
      var i = this.__data__;
      return this.size += this.has(t) ? 0 : 1, i[t] = qu && e === void 0 ? Nu : e, this;
    }
    gn.exports = zu;
  });
  var yn = S((ny, _n) => {
    var Fu = ln(), Vu = un(), Uu = pn(), ju = dn(), Ku = mn();
    function Xt(t) {
      var e = -1, i = t == null ? 0 : t.length;
      for (this.clear(); ++e < i; ) {
        var r = t[e];
        this.set(r[0], r[1]);
      }
    }
    Xt.prototype.clear = Fu;
    Xt.prototype.delete = Vu;
    Xt.prototype.get = Uu;
    Xt.prototype.has = ju;
    Xt.prototype.set = Ku;
    _n.exports = Xt;
  });
  var vn = S((sy, bn) => {
    var Ln = yn(), Hu = ce(), Xu = hi();
    function Yu() {
      this.size = 0, this.__data__ = { hash: new Ln(), map: new (Xu || Hu)(), string: new Ln() };
    }
    bn.exports = Yu;
  });
  var Mn = S((ay, kn) => {
    function Ju(t) {
      var e = typeof t;
      return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? t !== "__proto__" : t === null;
    }
    kn.exports = Ju;
  });
  var de = S((oy, xn) => {
    var $u = Mn();
    function Zu(t, e) {
      var i = t.__data__;
      return $u(e) ? i[typeof e == "string" ? "string" : "hash"] : i.map;
    }
    xn.exports = Zu;
  });
  var Cn = S((ly, wn) => {
    var Wu = de();
    function Qu(t) {
      var e = Wu(this, t).delete(t);
      return this.size -= e ? 1 : 0, e;
    }
    wn.exports = Qu;
  });
  var Pn = S((hy, En) => {
    var tc = de();
    function ec(t) {
      return tc(this, t).get(t);
    }
    En.exports = ec;
  });
  var Bn = S((uy, Sn) => {
    var ic = de();
    function rc(t) {
      return ic(this, t).has(t);
    }
    Sn.exports = rc;
  });
  var Rn = S((cy, Tn) => {
    var nc = de();
    function sc(t, e) {
      var i = nc(this, t), r = i.size;
      return i.set(t, e), this.size += i.size == r ? 0 : 1, this;
    }
    Tn.exports = sc;
  });
  var ui = S((py, Dn) => {
    var ac = vn(), oc = Cn(), lc = Pn(), hc = Bn(), uc = Rn();
    function Yt(t) {
      var e = -1, i = t == null ? 0 : t.length;
      for (this.clear(); ++e < i; ) {
        var r = t[e];
        this.set(r[0], r[1]);
      }
    }
    Yt.prototype.clear = ac;
    Yt.prototype.delete = oc;
    Yt.prototype.get = lc;
    Yt.prototype.has = hc;
    Yt.prototype.set = uc;
    Dn.exports = Yt;
  });
  var An = S((fy, On) => {
    var cc = ce(), pc = hi(), fc = ui(), dc = 200;
    function gc(t, e) {
      var i = this.__data__;
      if (i instanceof cc) {
        var r = i.__data__;
        if (!pc || r.length < dc - 1)
          return r.push([t, e]), this.size = ++i.size, this;
        i = this.__data__ = new fc(r);
      }
      return i.set(t, e), this.size = i.size, this;
    }
    On.exports = gc;
  });
  var Gn = S((dy, In) => {
    var mc = ce(), _c = xr(), yc = Cr(), Lc = Pr(), bc = Br(), vc = An();
    function Jt(t) {
      var e = this.__data__ = new mc(t);
      this.size = e.size;
    }
    Jt.prototype.clear = _c;
    Jt.prototype.delete = yc;
    Jt.prototype.get = Lc;
    Jt.prototype.has = bc;
    Jt.prototype.set = vc;
    In.exports = Jt;
  });
  var ci = S((gy, qn) => {
    var kc = Ie(), Mc = function() {
      try {
        var t = kc(Object, "defineProperty");
        return t({}, "", {}), t;
      } catch {
      }
    }();
    qn.exports = Mc;
  });
  var Ge = S((my, zn) => {
    var Nn = ci();
    function xc(t, e, i) {
      e == "__proto__" && Nn ? Nn(t, e, { configurable: true, enumerable: true, value: i, writable: true }) : t[e] = i;
    }
    zn.exports = xc;
  });
  var pi = S((_y, Fn) => {
    var wc = Ge(), Cc = he();
    function Ec(t, e, i) {
      (i !== void 0 && !Cc(t[e], i) || i === void 0 && !(e in t)) && wc(t, e, i);
    }
    Fn.exports = Ec;
  });
  var Un = S((yy, Vn) => {
    function Pc(t) {
      return function(e, i, r) {
        for (var n = -1, s = Object(e), a = r(e), o = a.length; o--; ) {
          var l = a[t ? o : ++n];
          if (i(s[l], l, s) === false)
            break;
        }
        return e;
      };
    }
    Vn.exports = Pc;
  });
  var Kn = S((Ly, jn) => {
    var Sc = Un(), Bc = Sc();
    jn.exports = Bc;
  });
  var $n = S((ge, $t) => {
    var Tc = Gt(), Jn = typeof ge == "object" && ge && !ge.nodeType && ge, Hn = Jn && typeof $t == "object" && $t && !$t.nodeType && $t, Rc = Hn && Hn.exports === Jn, Xn = Rc ? Tc.Buffer : void 0, Yn = Xn ? Xn.allocUnsafe : void 0;
    function Dc(t, e) {
      if (e)
        return t.slice();
      var i = t.length, r = Yn ? Yn(i) : new t.constructor(i);
      return t.copy(r), r;
    }
    $t.exports = Dc;
  });
  var Wn = S((by, Zn) => {
    var Oc = Gt(), Ac = Oc.Uint8Array;
    Zn.exports = Ac;
  });
  var es = S((vy, ts) => {
    var Qn = Wn();
    function Ic(t) {
      var e = new t.constructor(t.byteLength);
      return new Qn(e).set(new Qn(t)), e;
    }
    ts.exports = Ic;
  });
  var rs = S((ky, is) => {
    var Gc = es();
    function qc(t, e) {
      var i = e ? Gc(t.buffer) : t.buffer;
      return new t.constructor(i, t.byteOffset, t.length);
    }
    is.exports = qc;
  });
  var ss = S((My, ns) => {
    function Nc(t, e) {
      var i = -1, r = t.length;
      for (e || (e = Array(r)); ++i < r; )
        e[i] = t[i];
      return e;
    }
    ns.exports = Nc;
  });
  var ls = S((xy, os) => {
    var zc = Bt(), as = Object.create, Fc = /* @__PURE__ */ function() {
      function t() {
      }
      return function(e) {
        if (!zc(e))
          return {};
        if (as)
          return as(e);
        t.prototype = e;
        var i = new t();
        return t.prototype = void 0, i;
      };
    }();
    os.exports = Fc;
  });
  var us = S((wy, hs) => {
    function Vc(t, e) {
      return function(i) {
        return t(e(i));
      };
    }
    hs.exports = Vc;
  });
  var fi = S((Cy, cs) => {
    var Uc = us(), jc = Uc(Object.getPrototypeOf, Object);
    cs.exports = jc;
  });
  var di = S((Ey, ps) => {
    var Kc = Object.prototype;
    function Hc(t) {
      var e = t && t.constructor, i = typeof e == "function" && e.prototype || Kc;
      return t === i;
    }
    ps.exports = Hc;
  });
  var ds = S((Py, fs) => {
    var Xc = ls(), Yc = fi(), Jc = di();
    function $c(t) {
      return typeof t.constructor == "function" && !Jc(t) ? Xc(Yc(t)) : {};
    }
    fs.exports = $c;
  });
  var qt = S((Sy, gs) => {
    function Zc(t) {
      return t != null && typeof t == "object";
    }
    gs.exports = Zc;
  });
  var _s = S((By, ms) => {
    var Wc = Ht(), Qc = qt(), tp = "[object Arguments]";
    function ep(t) {
      return Qc(t) && Wc(t) == tp;
    }
    ms.exports = ep;
  });
  var gi = S((Ty, bs) => {
    var ys = _s(), ip = qt(), Ls = Object.prototype, rp = Ls.hasOwnProperty, np = Ls.propertyIsEnumerable, sp = ys(/* @__PURE__ */ function() {
      return arguments;
    }()) ? ys : function(t) {
      return ip(t) && rp.call(t, "callee") && !np.call(t, "callee");
    };
    bs.exports = sp;
  });
  var Zt = S((Ry, vs) => {
    var ap = Array.isArray;
    vs.exports = ap;
  });
  var mi = S((Dy, ks) => {
    var op = 9007199254740991;
    function lp(t) {
      return typeof t == "number" && t > -1 && t % 1 == 0 && t <= op;
    }
    ks.exports = lp;
  });
  var qe = S((Oy, Ms) => {
    var hp = Ae(), up = mi();
    function cp(t) {
      return t != null && up(t.length) && !hp(t);
    }
    Ms.exports = cp;
  });
  var ws = S((Ay, xs) => {
    var pp = qe(), fp = qt();
    function dp(t) {
      return fp(t) && pp(t);
    }
    xs.exports = dp;
  });
  var Es = S((Iy, Cs) => {
    function gp() {
      return false;
    }
    Cs.exports = gp;
  });
  var _i = S((me, Wt) => {
    var mp = Gt(), _p = Es(), Bs = typeof me == "object" && me && !me.nodeType && me, Ps = Bs && typeof Wt == "object" && Wt && !Wt.nodeType && Wt, yp = Ps && Ps.exports === Bs, Ss = yp ? mp.Buffer : void 0, Lp = Ss ? Ss.isBuffer : void 0, bp = Lp || _p;
    Wt.exports = bp;
  });
  var Ds = S((Gy, Rs) => {
    var vp = Ht(), kp = fi(), Mp = qt(), xp = "[object Object]", wp = Function.prototype, Cp = Object.prototype, Ts = wp.toString, Ep = Cp.hasOwnProperty, Pp = Ts.call(Object);
    function Sp(t) {
      if (!Mp(t) || vp(t) != xp)
        return false;
      var e = kp(t);
      if (e === null)
        return true;
      var i = Ep.call(e, "constructor") && e.constructor;
      return typeof i == "function" && i instanceof i && Ts.call(i) == Pp;
    }
    Rs.exports = Sp;
  });
  var As = S((qy, Os) => {
    var Bp = Ht(), Tp = mi(), Rp = qt(), Dp = "[object Arguments]", Op = "[object Array]", Ap = "[object Boolean]", Ip = "[object Date]", Gp = "[object Error]", qp = "[object Function]", Np = "[object Map]", zp = "[object Number]", Fp = "[object Object]", Vp = "[object RegExp]", Up = "[object Set]", jp = "[object String]", Kp = "[object WeakMap]", Hp = "[object ArrayBuffer]", Xp = "[object DataView]", Yp = "[object Float32Array]", Jp = "[object Float64Array]", $p = "[object Int8Array]", Zp = "[object Int16Array]", Wp = "[object Int32Array]", Qp = "[object Uint8Array]", tf = "[object Uint8ClampedArray]", ef = "[object Uint16Array]", rf = "[object Uint32Array]", Y = {};
    Y[Yp] = Y[Jp] = Y[$p] = Y[Zp] = Y[Wp] = Y[Qp] = Y[tf] = Y[ef] = Y[rf] = true;
    Y[Dp] = Y[Op] = Y[Hp] = Y[Ap] = Y[Xp] = Y[Ip] = Y[Gp] = Y[qp] = Y[Np] = Y[zp] = Y[Fp] = Y[Vp] = Y[Up] = Y[jp] = Y[Kp] = false;
    function nf(t) {
      return Rp(t) && Tp(t.length) && !!Y[Bp(t)];
    }
    Os.exports = nf;
  });
  var Gs = S((Ny, Is) => {
    function sf(t) {
      return function(e) {
        return t(e);
      };
    }
    Is.exports = sf;
  });
  var Ns = S((_e, Qt) => {
    var af = oi(), qs = typeof _e == "object" && _e && !_e.nodeType && _e, ye = qs && typeof Qt == "object" && Qt && !Qt.nodeType && Qt, of = ye && ye.exports === qs, yi = of && af.process, lf = function() {
      try {
        var t = ye && ye.require && ye.require("util").types;
        return t || yi && yi.binding && yi.binding("util");
      } catch {
      }
    }();
    Qt.exports = lf;
  });
  var Li = S((zy, Vs) => {
    var hf = As(), uf = Gs(), zs = Ns(), Fs = zs && zs.isTypedArray, cf = Fs ? uf(Fs) : hf;
    Vs.exports = cf;
  });
  var bi = S((Fy, Us) => {
    function pf(t, e) {
      if (!(e === "constructor" && typeof t[e] == "function") && e != "__proto__")
        return t[e];
    }
    Us.exports = pf;
  });
  var Ks = S((Vy, js) => {
    var ff = Ge(), df = he(), gf = Object.prototype, mf = gf.hasOwnProperty;
    function _f(t, e, i) {
      var r = t[e];
      (!(mf.call(t, e) && df(r, i)) || i === void 0 && !(e in t)) && ff(t, e, i);
    }
    js.exports = _f;
  });
  var Xs = S((Uy, Hs) => {
    var yf = Ks(), Lf = Ge();
    function bf(t, e, i, r) {
      var n = !i;
      i || (i = {});
      for (var s = -1, a = e.length; ++s < a; ) {
        var o = e[s], l = r ? r(i[o], t[o], o, i, t) : void 0;
        l === void 0 && (l = t[o]), n ? Lf(i, o, l) : yf(i, o, l);
      }
      return i;
    }
    Hs.exports = bf;
  });
  var Js = S((jy, Ys) => {
    function vf(t, e) {
      for (var i = -1, r = Array(t); ++i < t; )
        r[i] = e(i);
      return r;
    }
    Ys.exports = vf;
  });
  var vi = S((Ky, $s) => {
    var kf = 9007199254740991, Mf = /^(?:0|[1-9]\d*)$/;
    function xf(t, e) {
      var i = typeof t;
      return e = e ?? kf, !!e && (i == "number" || i != "symbol" && Mf.test(t)) && t > -1 && t % 1 == 0 && t < e;
    }
    $s.exports = xf;
  });
  var Ws = S((Hy, Zs) => {
    var wf = Js(), Cf = gi(), Ef = Zt(), Pf = _i(), Sf = vi(), Bf = Li(), Tf = Object.prototype, Rf = Tf.hasOwnProperty;
    function Df(t, e) {
      var i = Ef(t), r = !i && Cf(t), n = !i && !r && Pf(t), s = !i && !r && !n && Bf(t), a = i || r || n || s, o = a ? wf(t.length, String) : [], l = o.length;
      for (var u in t)
        (e || Rf.call(t, u)) && !(a && (u == "length" || n && (u == "offset" || u == "parent") || s && (u == "buffer" || u == "byteLength" || u == "byteOffset") || Sf(u, l))) && o.push(u);
      return o;
    }
    Zs.exports = Df;
  });
  var ta = S((Xy, Qs) => {
    function Of(t) {
      var e = [];
      if (t != null)
        for (var i in Object(t))
          e.push(i);
      return e;
    }
    Qs.exports = Of;
  });
  var ia = S((Yy, ea) => {
    var Af = Bt(), If = di(), Gf = ta(), qf = Object.prototype, Nf = qf.hasOwnProperty;
    function zf(t) {
      if (!Af(t))
        return Gf(t);
      var e = If(t), i = [];
      for (var r in t)
        r == "constructor" && (e || !Nf.call(t, r)) || i.push(r);
      return i;
    }
    ea.exports = zf;
  });
  var ki = S((Jy, ra) => {
    var Ff = Ws(), Vf = ia(), Uf = qe();
    function jf(t) {
      return Uf(t) ? Ff(t, true) : Vf(t);
    }
    ra.exports = jf;
  });
  var sa = S(($y, na) => {
    var Kf = Xs(), Hf = ki();
    function Xf(t) {
      return Kf(t, Hf(t));
    }
    na.exports = Xf;
  });
  var ca = S((Zy, ua) => {
    var aa = pi(), Yf = $n(), Jf = rs(), $f = ss(), Zf = ds(), oa = gi(), la = Zt(), Wf = ws(), Qf = _i(), td = Ae(), ed = Bt(), id = Ds(), rd = Li(), ha = bi(), nd = sa();
    function sd(t, e, i, r, n, s, a) {
      var o = ha(t, i), l = ha(e, i), u = a.get(l);
      if (u) {
        aa(t, i, u);
        return;
      }
      var f = s ? s(o, l, i + "", t, e, a) : void 0, d = f === void 0;
      if (d) {
        var P = la(l), E = !P && Qf(l), T = !P && !E && rd(l);
        f = l, P || E || T ? la(o) ? f = o : Wf(o) ? f = $f(o) : E ? (d = false, f = Yf(l, true)) : T ? (d = false, f = Jf(l, true)) : f = [] : id(l) || oa(l) ? (f = o, oa(o) ? f = nd(o) : (!ed(o) || td(o)) && (f = Zf(l))) : d = false;
      }
      d && (a.set(l, f), n(f, l, r, s, a), a.delete(l)), aa(t, i, f);
    }
    ua.exports = sd;
  });
  var da = S((Wy, fa) => {
    var ad = Gn(), od = pi(), ld = Kn(), hd = ca(), ud = Bt(), cd = ki(), pd = bi();
    function pa(t, e, i, r, n) {
      t !== e && ld(e, function(s, a) {
        if (n || (n = new ad()), ud(s))
          hd(t, e, a, i, pa, r, n);
        else {
          var o = r ? r(pd(t, a), s, a + "", t, e, n) : void 0;
          o === void 0 && (o = s), od(t, a, o);
        }
      }, cd);
    }
    fa.exports = pa;
  });
  var Mi = S((Qy, ga) => {
    function fd(t) {
      return t;
    }
    ga.exports = fd;
  });
  var _a = S((tL, ma) => {
    function dd(t, e, i) {
      switch (i.length) {
        case 0:
          return t.call(e);
        case 1:
          return t.call(e, i[0]);
        case 2:
          return t.call(e, i[0], i[1]);
        case 3:
          return t.call(e, i[0], i[1], i[2]);
      }
      return t.apply(e, i);
    }
    ma.exports = dd;
  });
  var ba = S((eL, La) => {
    var gd = _a(), ya = Math.max;
    function md(t, e, i) {
      return e = ya(e === void 0 ? t.length - 1 : e, 0), function() {
        for (var r = arguments, n = -1, s = ya(r.length - e, 0), a = Array(s); ++n < s; )
          a[n] = r[e + n];
        n = -1;
        for (var o = Array(e + 1); ++n < e; )
          o[n] = r[n];
        return o[e] = i(a), gd(t, this, o);
      };
    }
    La.exports = md;
  });
  var ka = S((iL, va) => {
    function _d(t) {
      return function() {
        return t;
      };
    }
    va.exports = _d;
  });
  var wa = S((rL, xa) => {
    var yd = ka(), Ma = ci(), Ld = Mi(), bd = Ma ? function(t, e) {
      return Ma(t, "toString", { configurable: true, enumerable: false, value: yd(e), writable: true });
    } : Ld;
    xa.exports = bd;
  });
  var Ea = S((nL, Ca) => {
    var vd = 800, kd = 16, Md = Date.now;
    function xd(t) {
      var e = 0, i = 0;
      return function() {
        var r = Md(), n = kd - (r - i);
        if (i = r, n > 0) {
          if (++e >= vd)
            return arguments[0];
        } else
          e = 0;
        return t.apply(void 0, arguments);
      };
    }
    Ca.exports = xd;
  });
  var Sa = S((sL, Pa) => {
    var wd = wa(), Cd = Ea(), Ed = Cd(wd);
    Pa.exports = Ed;
  });
  var Ta = S((aL, Ba) => {
    var Pd = Mi(), Sd = ba(), Bd = Sa();
    function Td(t, e) {
      return Bd(Sd(t, e, Pd), t + "");
    }
    Ba.exports = Td;
  });
  var Da = S((oL, Ra) => {
    var Rd = he(), Dd = qe(), Od = vi(), Ad = Bt();
    function Id(t, e, i) {
      if (!Ad(i))
        return false;
      var r = typeof e;
      return (r == "number" ? Dd(i) && Od(e, i.length) : r == "string" && e in i) ? Rd(i[e], t) : false;
    }
    Ra.exports = Id;
  });
  var Aa = S((lL, Oa) => {
    var Gd = Ta(), qd = Da();
    function Nd(t) {
      return Gd(function(e, i) {
        var r = -1, n = i.length, s = n > 1 ? i[n - 1] : void 0, a = n > 2 ? i[2] : void 0;
        for (s = t.length > 3 && typeof s == "function" ? (n--, s) : void 0, a && qd(i[0], i[1], a) && (s = n < 3 ? void 0 : s, n = 1), e = Object(e); ++r < n; ) {
          var o = i[r];
          o && t(e, o, r, s);
        }
        return e;
      });
    }
    Oa.exports = Nd;
  });
  var Ne = S((hL, Ia) => {
    var zd = da(), Fd = Aa(), Vd = Fd(function(t, e, i) {
      zd(t, e, i);
    });
    Ia.exports = Vd;
  });
  var ze = S((_b2, _o) => {
    var kg = Ht(), Mg = qt(), xg = "[object Symbol]";
    function wg(t) {
      return typeof t == "symbol" || Mg(t) && kg(t) == xg;
    }
    _o.exports = wg;
  });
  var Lo = S((yb, yo) => {
    var Cg = Zt(), Eg = ze(), Pg = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Sg = /^\w*$/;
    function Bg(t, e) {
      if (Cg(t))
        return false;
      var i = typeof t;
      return i == "number" || i == "symbol" || i == "boolean" || t == null || Eg(t) ? true : Sg.test(t) || !Pg.test(t) || e != null && t in Object(e);
    }
    yo.exports = Bg;
  });
  var ko = S((Lb, vo) => {
    var bo = ui(), Tg = "Expected a function";
    function xi(t, e) {
      if (typeof t != "function" || e != null && typeof e != "function")
        throw new TypeError(Tg);
      var i = function() {
        var r = arguments, n = e ? e.apply(this, r) : r[0], s = i.cache;
        if (s.has(n))
          return s.get(n);
        var a = t.apply(this, r);
        return i.cache = s.set(n, a) || s, a;
      };
      return i.cache = new (xi.Cache || bo)(), i;
    }
    xi.Cache = bo;
    vo.exports = xi;
  });
  var xo = S((bb, Mo) => {
    var Rg = ko(), Dg = 500;
    function Og(t) {
      var e = Rg(t, function(r) {
        return i.size === Dg && i.clear(), r;
      }), i = e.cache;
      return e;
    }
    Mo.exports = Og;
  });
  var Co = S((vb, wo) => {
    var Ag = xo(), Ig = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Gg = /\\(\\)?/g, qg = Ag(function(t) {
      var e = [];
      return t.charCodeAt(0) === 46 && e.push(""), t.replace(Ig, function(i, r, n, s) {
        e.push(n ? s.replace(Gg, "$1") : r || i);
      }), e;
    });
    wo.exports = qg;
  });
  var Po = S((kb, Eo) => {
    function Ng(t, e) {
      for (var i = -1, r = t == null ? 0 : t.length, n = Array(r); ++i < r; )
        n[i] = e(t[i], i, t);
      return n;
    }
    Eo.exports = Ng;
  });
  var Oo = S((Mb, Do) => {
    var So = Oe(), zg = Po(), Fg = Zt(), Vg = ze(), Ug = 1 / 0, Bo = So ? So.prototype : void 0, To = Bo ? Bo.toString : void 0;
    function Ro(t) {
      if (typeof t == "string")
        return t;
      if (Fg(t))
        return zg(t, Ro) + "";
      if (Vg(t))
        return To ? To.call(t) : "";
      var e = t + "";
      return e == "0" && 1 / t == -Ug ? "-0" : e;
    }
    Do.exports = Ro;
  });
  var Io = S((xb, Ao) => {
    var jg = Oo();
    function Kg(t) {
      return t == null ? "" : jg(t);
    }
    Ao.exports = Kg;
  });
  var qo = S((wb, Go) => {
    var Hg = Zt(), Xg = Lo(), Yg = Co(), Jg = Io();
    function $g(t, e) {
      return Hg(t) ? t : Xg(t, e) ? [t] : Yg(Jg(t));
    }
    Go.exports = $g;
  });
  var zo = S((Cb, No) => {
    var Zg = ze(), Wg = 1 / 0;
    function Qg(t) {
      if (typeof t == "string" || Zg(t))
        return t;
      var e = t + "";
      return e == "0" && 1 / t == -Wg ? "-0" : e;
    }
    No.exports = Qg;
  });
  var Vo = S((Eb, Fo) => {
    var tm = qo(), em = zo();
    function im(t, e) {
      e = tm(e, t);
      for (var i = 0, r = e.length; t != null && i < r; )
        t = t[em(e[i++])];
      return i && i == r ? t : void 0;
    }
    Fo.exports = im;
  });
  var Le = S((Pb, Uo) => {
    var rm = Vo();
    function nm(t, e, i) {
      var r = t == null ? void 0 : rm(t, e);
      return r === void 0 ? i : r;
    }
    Uo.exports = nm;
  });
  var Qo = S((Ti, Ri) => {
    (function(t, e) {
      typeof Ti == "object" && typeof Ri < "u" ? Ri.exports = e() : typeof define == "function" && define.amd ? define(e) : (t = t || self).RBush = e();
    })(Ti, function() {
      "use strict";
      function t(_, x, b, R, D) {
        (function O(A, q, h, c, p) {
          for (; c > h; ) {
            if (c - h > 600) {
              var y = c - h + 1, g = q - h + 1, k = Math.log(y), C = 0.5 * Math.exp(2 * k / 3), m = 0.5 * Math.sqrt(k * C * (y - C) / y) * (g - y / 2 < 0 ? -1 : 1), v = Math.max(h, Math.floor(q - g * C / y + m)), w = Math.min(c, Math.floor(q + (y - g) * C / y + m));
              O(A, q, v, w, p);
            }
            var M = A[q], B = h, I = c;
            for (e(A, h, q), p(A[c], M) > 0 && e(A, h, c); B < I; ) {
              for (e(A, B, I), B++, I--; p(A[B], M) < 0; )
                B++;
              for (; p(A[I], M) > 0; )
                I--;
            }
            p(A[h], M) === 0 ? e(A, h, I) : e(A, ++I, c), I <= q && (h = I + 1), q <= I && (c = I - 1);
          }
        })(_, x, b || 0, R || _.length - 1, D || i);
      }
      function e(_, x, b) {
        var R = _[x];
        _[x] = _[b], _[b] = R;
      }
      function i(_, x) {
        return _ < x ? -1 : _ > x ? 1 : 0;
      }
      var r = function(_) {
        _ === void 0 && (_ = 9), this._maxEntries = Math.max(4, _), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), this.clear();
      };
      function n(_, x, b) {
        if (!b)
          return x.indexOf(_);
        for (var R = 0; R < x.length; R++)
          if (b(_, x[R]))
            return R;
        return -1;
      }
      function s(_, x) {
        a(_, 0, _.children.length, x, _);
      }
      function a(_, x, b, R, D) {
        D || (D = T(null)), D.minX = 1 / 0, D.minY = 1 / 0, D.maxX = -1 / 0, D.maxY = -1 / 0;
        for (var O = x; O < b; O++) {
          var A = _.children[O];
          o(D, _.leaf ? R(A) : A);
        }
        return D;
      }
      function o(_, x) {
        return _.minX = Math.min(_.minX, x.minX), _.minY = Math.min(_.minY, x.minY), _.maxX = Math.max(_.maxX, x.maxX), _.maxY = Math.max(_.maxY, x.maxY), _;
      }
      function l(_, x) {
        return _.minX - x.minX;
      }
      function u(_, x) {
        return _.minY - x.minY;
      }
      function f(_) {
        return (_.maxX - _.minX) * (_.maxY - _.minY);
      }
      function d(_) {
        return _.maxX - _.minX + (_.maxY - _.minY);
      }
      function P(_, x) {
        return _.minX <= x.minX && _.minY <= x.minY && x.maxX <= _.maxX && x.maxY <= _.maxY;
      }
      function E(_, x) {
        return x.minX <= _.maxX && x.minY <= _.maxY && x.maxX >= _.minX && x.maxY >= _.minY;
      }
      function T(_) {
        return { children: _, height: 1, leaf: true, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };
      }
      function G(_, x, b, R, D) {
        for (var O = [x, b]; O.length; )
          if (!((b = O.pop()) - (x = O.pop()) <= R)) {
            var A = x + Math.ceil((b - x) / R / 2) * R;
            t(_, A, x, b, D), O.push(x, A, A, b);
          }
      }
      return r.prototype.all = function() {
        return this._all(this.data, []);
      }, r.prototype.search = function(_) {
        var x = this.data, b = [];
        if (!E(_, x))
          return b;
        for (var R = this.toBBox, D = []; x; ) {
          for (var O = 0; O < x.children.length; O++) {
            var A = x.children[O], q = x.leaf ? R(A) : A;
            E(_, q) && (x.leaf ? b.push(A) : P(_, q) ? this._all(A, b) : D.push(A));
          }
          x = D.pop();
        }
        return b;
      }, r.prototype.collides = function(_) {
        var x = this.data;
        if (!E(_, x))
          return false;
        for (var b = []; x; ) {
          for (var R = 0; R < x.children.length; R++) {
            var D = x.children[R], O = x.leaf ? this.toBBox(D) : D;
            if (E(_, O)) {
              if (x.leaf || P(_, O))
                return true;
              b.push(D);
            }
          }
          x = b.pop();
        }
        return false;
      }, r.prototype.load = function(_) {
        if (!_ || !_.length)
          return this;
        if (_.length < this._minEntries) {
          for (var x = 0; x < _.length; x++)
            this.insert(_[x]);
          return this;
        }
        var b = this._build(_.slice(), 0, _.length - 1, 0);
        if (this.data.children.length)
          if (this.data.height === b.height)
            this._splitRoot(this.data, b);
          else {
            if (this.data.height < b.height) {
              var R = this.data;
              this.data = b, b = R;
            }
            this._insert(b, this.data.height - b.height - 1, true);
          }
        else
          this.data = b;
        return this;
      }, r.prototype.insert = function(_) {
        return _ && this._insert(_, this.data.height - 1), this;
      }, r.prototype.clear = function() {
        return this.data = T([]), this;
      }, r.prototype.remove = function(_, x) {
        if (!_)
          return this;
        for (var b, R, D, O = this.data, A = this.toBBox(_), q = [], h = []; O || q.length; ) {
          if (O || (O = q.pop(), R = q[q.length - 1], b = h.pop(), D = true), O.leaf) {
            var c = n(_, O.children, x);
            if (c !== -1)
              return O.children.splice(c, 1), q.push(O), this._condense(q), this;
          }
          D || O.leaf || !P(O, A) ? R ? (b++, O = R.children[b], D = false) : O = null : (q.push(O), h.push(b), b = 0, R = O, O = O.children[0]);
        }
        return this;
      }, r.prototype.toBBox = function(_) {
        return _;
      }, r.prototype.compareMinX = function(_, x) {
        return _.minX - x.minX;
      }, r.prototype.compareMinY = function(_, x) {
        return _.minY - x.minY;
      }, r.prototype.toJSON = function() {
        return this.data;
      }, r.prototype.fromJSON = function(_) {
        return this.data = _, this;
      }, r.prototype._all = function(_, x) {
        for (var b = []; _; )
          _.leaf ? x.push.apply(x, _.children) : b.push.apply(b, _.children), _ = b.pop();
        return x;
      }, r.prototype._build = function(_, x, b, R) {
        var D, O = b - x + 1, A = this._maxEntries;
        if (O <= A)
          return s(D = T(_.slice(x, b + 1)), this.toBBox), D;
        R || (R = Math.ceil(Math.log(O) / Math.log(A)), A = Math.ceil(O / Math.pow(A, R - 1))), (D = T([])).leaf = false, D.height = R;
        var q = Math.ceil(O / A), h = q * Math.ceil(Math.sqrt(A));
        G(_, x, b, h, this.compareMinX);
        for (var c = x; c <= b; c += h) {
          var p = Math.min(c + h - 1, b);
          G(_, c, p, q, this.compareMinY);
          for (var y = c; y <= p; y += q) {
            var g = Math.min(y + q - 1, p);
            D.children.push(this._build(_, y, g, R - 1));
          }
        }
        return s(D, this.toBBox), D;
      }, r.prototype._chooseSubtree = function(_, x, b, R) {
        for (; R.push(x), !x.leaf && R.length - 1 !== b; ) {
          for (var D = 1 / 0, O = 1 / 0, A = void 0, q = 0; q < x.children.length; q++) {
            var h = x.children[q], c = f(h), p = (y = _, g = h, (Math.max(g.maxX, y.maxX) - Math.min(g.minX, y.minX)) * (Math.max(g.maxY, y.maxY) - Math.min(g.minY, y.minY)) - c);
            p < O ? (O = p, D = c < D ? c : D, A = h) : p === O && c < D && (D = c, A = h);
          }
          x = A || x.children[0];
        }
        var y, g;
        return x;
      }, r.prototype._insert = function(_, x, b) {
        var R = b ? _ : this.toBBox(_), D = [], O = this._chooseSubtree(R, this.data, x, D);
        for (O.children.push(_), o(O, R); x >= 0 && D[x].children.length > this._maxEntries; )
          this._split(D, x), x--;
        this._adjustParentBBoxes(R, D, x);
      }, r.prototype._split = function(_, x) {
        var b = _[x], R = b.children.length, D = this._minEntries;
        this._chooseSplitAxis(b, D, R);
        var O = this._chooseSplitIndex(b, D, R), A = T(b.children.splice(O, b.children.length - O));
        A.height = b.height, A.leaf = b.leaf, s(b, this.toBBox), s(A, this.toBBox), x ? _[x - 1].children.push(A) : this._splitRoot(b, A);
      }, r.prototype._splitRoot = function(_, x) {
        this.data = T([_, x]), this.data.height = _.height + 1, this.data.leaf = false, s(this.data, this.toBBox);
      }, r.prototype._chooseSplitIndex = function(_, x, b) {
        for (var R, D, O, A, q, h, c, p = 1 / 0, y = 1 / 0, g = x; g <= b - x; g++) {
          var k = a(_, 0, g, this.toBBox), C = a(_, g, b, this.toBBox), m = (D = k, O = C, A = void 0, q = void 0, h = void 0, c = void 0, A = Math.max(D.minX, O.minX), q = Math.max(D.minY, O.minY), h = Math.min(D.maxX, O.maxX), c = Math.min(D.maxY, O.maxY), Math.max(0, h - A) * Math.max(0, c - q)), v = f(k) + f(C);
          m < p ? (p = m, R = g, y = v < y ? v : y) : m === p && v < y && (y = v, R = g);
        }
        return R || b - x;
      }, r.prototype._chooseSplitAxis = function(_, x, b) {
        var R = _.leaf ? this.compareMinX : l, D = _.leaf ? this.compareMinY : u;
        this._allDistMargin(_, x, b, R) < this._allDistMargin(_, x, b, D) && _.children.sort(R);
      }, r.prototype._allDistMargin = function(_, x, b, R) {
        _.children.sort(R);
        for (var D = this.toBBox, O = a(_, 0, x, D), A = a(_, b - x, b, D), q = d(O) + d(A), h = x; h < b - x; h++) {
          var c = _.children[h];
          o(O, _.leaf ? D(c) : c), q += d(O);
        }
        for (var p = b - x - 1; p >= x; p--) {
          var y = _.children[p];
          o(A, _.leaf ? D(y) : y), q += d(A);
        }
        return q;
      }, r.prototype._adjustParentBBoxes = function(_, x, b) {
        for (var R = b; R >= 0; R--)
          o(x[R], _);
      }, r.prototype._condense = function(_) {
        for (var x = _.length - 1, b = void 0; x >= 0; x--)
          _[x].children.length === 0 ? x > 0 ? (b = _[x - 1].children).splice(b.indexOf(_[x]), 1) : this.clear() : s(_[x], this.toBBox);
      }, r;
    });
  });
  var Gi = S((z) => {
    "use strict";
    Object.defineProperty(z, "__esModule", { value: true });
    z.earthRadius = 63710088e-1;
    z.factors = { centimeters: z.earthRadius * 100, centimetres: z.earthRadius * 100, degrees: z.earthRadius / 111325, feet: z.earthRadius * 3.28084, inches: z.earthRadius * 39.37, kilometers: z.earthRadius / 1e3, kilometres: z.earthRadius / 1e3, meters: z.earthRadius, metres: z.earthRadius, miles: z.earthRadius / 1609.344, millimeters: z.earthRadius * 1e3, millimetres: z.earthRadius * 1e3, nauticalmiles: z.earthRadius / 1852, radians: 1, yards: z.earthRadius * 1.0936 };
    z.unitsFactors = { centimeters: 100, centimetres: 100, degrees: 1 / 111325, feet: 3.28084, inches: 39.37, kilometers: 1 / 1e3, kilometres: 1 / 1e3, meters: 1, metres: 1, miles: 1 / 1609.344, millimeters: 1e3, millimetres: 1e3, nauticalmiles: 1 / 1852, radians: 1 / z.earthRadius, yards: 1.0936133 };
    z.areaFactors = { acres: 247105e-9, centimeters: 1e4, centimetres: 1e4, feet: 10.763910417, hectares: 1e-4, inches: 1550.003100006, kilometers: 1e-6, kilometres: 1e-6, meters: 1, metres: 1, miles: 386e-9, millimeters: 1e6, millimetres: 1e6, yards: 1.195990046 };
    function Ot(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "Feature" };
      return (i.id === 0 || i.id) && (r.id = i.id), i.bbox && (r.bbox = i.bbox), r.properties = e || {}, r.geometry = t, r;
    }
    z.feature = Ot;
    function ym(t, e, i) {
      switch (i === void 0 && (i = {}), t) {
        case "Point":
          return Di(e).geometry;
        case "LineString":
          return Ai(e).geometry;
        case "Polygon":
          return Oi(e).geometry;
        case "MultiPoint":
          return el(e).geometry;
        case "MultiLineString":
          return tl(e).geometry;
        case "MultiPolygon":
          return il(e).geometry;
        default:
          throw new Error(t + " is invalid");
      }
    }
    z.geometry = ym;
    function Di(t, e, i) {
      if (i === void 0 && (i = {}), !t)
        throw new Error("coordinates is required");
      if (!Array.isArray(t))
        throw new Error("coordinates must be an Array");
      if (t.length < 2)
        throw new Error("coordinates must be at least 2 numbers long");
      if (!Ve(t[0]) || !Ve(t[1]))
        throw new Error("coordinates must contain numbers");
      var r = { type: "Point", coordinates: t };
      return Ot(r, e, i);
    }
    z.point = Di;
    function Lm(t, e, i) {
      return i === void 0 && (i = {}), Ue(t.map(function(r) {
        return Di(r, e);
      }), i);
    }
    z.points = Lm;
    function Oi(t, e, i) {
      i === void 0 && (i = {});
      for (var r = 0, n = t; r < n.length; r++) {
        var s = n[r];
        if (s.length < 4)
          throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
        for (var a = 0; a < s[s.length - 1].length; a++)
          if (s[s.length - 1][a] !== s[0][a])
            throw new Error("First and last Position are not equivalent.");
      }
      var o = { type: "Polygon", coordinates: t };
      return Ot(o, e, i);
    }
    z.polygon = Oi;
    function bm(t, e, i) {
      return i === void 0 && (i = {}), Ue(t.map(function(r) {
        return Oi(r, e);
      }), i);
    }
    z.polygons = bm;
    function Ai(t, e, i) {
      if (i === void 0 && (i = {}), t.length < 2)
        throw new Error("coordinates must be an array of two or more positions");
      var r = { type: "LineString", coordinates: t };
      return Ot(r, e, i);
    }
    z.lineString = Ai;
    function vm(t, e, i) {
      return i === void 0 && (i = {}), Ue(t.map(function(r) {
        return Ai(r, e);
      }), i);
    }
    z.lineStrings = vm;
    function Ue(t, e) {
      e === void 0 && (e = {});
      var i = { type: "FeatureCollection" };
      return e.id && (i.id = e.id), e.bbox && (i.bbox = e.bbox), i.features = t, i;
    }
    z.featureCollection = Ue;
    function tl(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "MultiLineString", coordinates: t };
      return Ot(r, e, i);
    }
    z.multiLineString = tl;
    function el(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "MultiPoint", coordinates: t };
      return Ot(r, e, i);
    }
    z.multiPoint = el;
    function il(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "MultiPolygon", coordinates: t };
      return Ot(r, e, i);
    }
    z.multiPolygon = il;
    function km(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "GeometryCollection", geometries: t };
      return Ot(r, e, i);
    }
    z.geometryCollection = km;
    function Mm(t, e) {
      if (e === void 0 && (e = 0), e && !(e >= 0))
        throw new Error("precision must be a positive number");
      var i = Math.pow(10, e || 0);
      return Math.round(t * i) / i;
    }
    z.round = Mm;
    function rl(t, e) {
      e === void 0 && (e = "kilometers");
      var i = z.factors[e];
      if (!i)
        throw new Error(e + " units is invalid");
      return t * i;
    }
    z.radiansToLength = rl;
    function Ii(t, e) {
      e === void 0 && (e = "kilometers");
      var i = z.factors[e];
      if (!i)
        throw new Error(e + " units is invalid");
      return t / i;
    }
    z.lengthToRadians = Ii;
    function xm(t, e) {
      return nl(Ii(t, e));
    }
    z.lengthToDegrees = xm;
    function wm(t) {
      var e = t % 360;
      return e < 0 && (e += 360), e;
    }
    z.bearingToAzimuth = wm;
    function nl(t) {
      var e = t % (2 * Math.PI);
      return e * 180 / Math.PI;
    }
    z.radiansToDegrees = nl;
    function Cm(t) {
      var e = t % 360;
      return e * Math.PI / 180;
    }
    z.degreesToRadians = Cm;
    function Em(t, e, i) {
      if (e === void 0 && (e = "kilometers"), i === void 0 && (i = "kilometers"), !(t >= 0))
        throw new Error("length must be a positive number");
      return rl(Ii(t, e), i);
    }
    z.convertLength = Em;
    function Pm(t, e, i) {
      if (e === void 0 && (e = "meters"), i === void 0 && (i = "kilometers"), !(t >= 0))
        throw new Error("area must be a positive number");
      var r = z.areaFactors[e];
      if (!r)
        throw new Error("invalid original units");
      var n = z.areaFactors[i];
      if (!n)
        throw new Error("invalid final units");
      return t / r * n;
    }
    z.convertArea = Pm;
    function Ve(t) {
      return !isNaN(t) && t !== null && !Array.isArray(t);
    }
    z.isNumber = Ve;
    function Sm(t) {
      return !!t && t.constructor === Object;
    }
    z.isObject = Sm;
    function Bm(t) {
      if (!t)
        throw new Error("bbox is required");
      if (!Array.isArray(t))
        throw new Error("bbox must be an Array");
      if (t.length !== 4 && t.length !== 6)
        throw new Error("bbox must be an Array of 4 or 6 numbers");
      t.forEach(function(e) {
        if (!Ve(e))
          throw new Error("bbox must only contain numbers");
      });
    }
    z.validateBBox = Bm;
    function Tm(t) {
      if (!t)
        throw new Error("id is required");
      if (["string", "number"].indexOf(typeof t) === -1)
        throw new Error("id must be a number or a string");
    }
    z.validateId = Tm;
  });
  var Ni = S((Q) => {
    "use strict";
    Object.defineProperty(Q, "__esModule", { value: true });
    var nt = Gi();
    function Ce(t, e, i) {
      if (t !== null)
        for (var r, n, s, a, o, l, u, f = 0, d = 0, P, E = t.type, T = E === "FeatureCollection", G = E === "Feature", _ = T ? t.features.length : 1, x = 0; x < _; x++) {
          u = T ? t.features[x].geometry : G ? t.geometry : t, P = u ? u.type === "GeometryCollection" : false, o = P ? u.geometries.length : 1;
          for (var b = 0; b < o; b++) {
            var R = 0, D = 0;
            if (a = P ? u.geometries[b] : u, a !== null) {
              l = a.coordinates;
              var O = a.type;
              switch (f = i && (O === "Polygon" || O === "MultiPolygon") ? 1 : 0, O) {
                case null:
                  break;
                case "Point":
                  if (e(l, d, x, R, D) === false)
                    return false;
                  d++, R++;
                  break;
                case "LineString":
                case "MultiPoint":
                  for (r = 0; r < l.length; r++) {
                    if (e(l[r], d, x, R, D) === false)
                      return false;
                    d++, O === "MultiPoint" && R++;
                  }
                  O === "LineString" && R++;
                  break;
                case "Polygon":
                case "MultiLineString":
                  for (r = 0; r < l.length; r++) {
                    for (n = 0; n < l[r].length - f; n++) {
                      if (e(l[r][n], d, x, R, D) === false)
                        return false;
                      d++;
                    }
                    O === "MultiLineString" && R++, O === "Polygon" && D++;
                  }
                  O === "Polygon" && R++;
                  break;
                case "MultiPolygon":
                  for (r = 0; r < l.length; r++) {
                    for (D = 0, n = 0; n < l[r].length; n++) {
                      for (s = 0; s < l[r][n].length - f; s++) {
                        if (e(l[r][n][s], d, x, R, D) === false)
                          return false;
                        d++;
                      }
                      D++;
                    }
                    R++;
                  }
                  break;
                case "GeometryCollection":
                  for (r = 0; r < a.geometries.length; r++)
                    if (Ce(a.geometries[r], e, i) === false)
                      return false;
                  break;
                default:
                  throw new Error("Unknown Geometry Type");
              }
            }
          }
        }
    }
    function Rm(t, e, i, r) {
      var n = i;
      return Ce(t, function(s, a, o, l, u) {
        a === 0 && i === void 0 ? n = s : n = e(n, s, a, o, l, u);
      }, r), n;
    }
    function sl(t, e) {
      var i;
      switch (t.type) {
        case "FeatureCollection":
          for (i = 0; i < t.features.length && e(t.features[i].properties, i) !== false; i++)
            ;
          break;
        case "Feature":
          e(t.properties, 0);
          break;
      }
    }
    function Dm(t, e, i) {
      var r = i;
      return sl(t, function(n, s) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s);
      }), r;
    }
    function al(t, e) {
      if (t.type === "Feature")
        e(t, 0);
      else if (t.type === "FeatureCollection")
        for (var i = 0; i < t.features.length && e(t.features[i], i) !== false; i++)
          ;
    }
    function Om(t, e, i) {
      var r = i;
      return al(t, function(n, s) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s);
      }), r;
    }
    function Am(t) {
      var e = [];
      return Ce(t, function(i) {
        e.push(i);
      }), e;
    }
    function qi(t, e) {
      var i, r, n, s, a, o, l, u, f, d, P = 0, E = t.type === "FeatureCollection", T = t.type === "Feature", G = E ? t.features.length : 1;
      for (i = 0; i < G; i++) {
        for (o = E ? t.features[i].geometry : T ? t.geometry : t, u = E ? t.features[i].properties : T ? t.properties : {}, f = E ? t.features[i].bbox : T ? t.bbox : void 0, d = E ? t.features[i].id : T ? t.id : void 0, l = o ? o.type === "GeometryCollection" : false, a = l ? o.geometries.length : 1, n = 0; n < a; n++) {
          if (s = l ? o.geometries[n] : o, s === null) {
            if (e(null, P, u, f, d) === false)
              return false;
            continue;
          }
          switch (s.type) {
            case "Point":
            case "LineString":
            case "MultiPoint":
            case "Polygon":
            case "MultiLineString":
            case "MultiPolygon": {
              if (e(s, P, u, f, d) === false)
                return false;
              break;
            }
            case "GeometryCollection": {
              for (r = 0; r < s.geometries.length; r++)
                if (e(s.geometries[r], P, u, f, d) === false)
                  return false;
              break;
            }
            default:
              throw new Error("Unknown Geometry Type");
          }
        }
        P++;
      }
    }
    function Im(t, e, i) {
      var r = i;
      return qi(t, function(n, s, a, o, l) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s, a, o, l);
      }), r;
    }
    function je(t, e) {
      qi(t, function(i, r, n, s, a) {
        var o = i === null ? null : i.type;
        switch (o) {
          case null:
          case "Point":
          case "LineString":
          case "Polygon":
            return e(nt.feature(i, n, { bbox: s, id: a }), r, 0) === false ? false : void 0;
        }
        var l;
        switch (o) {
          case "MultiPoint":
            l = "Point";
            break;
          case "MultiLineString":
            l = "LineString";
            break;
          case "MultiPolygon":
            l = "Polygon";
            break;
        }
        for (var u = 0; u < i.coordinates.length; u++) {
          var f = i.coordinates[u], d = { type: l, coordinates: f };
          if (e(nt.feature(d, n), r, u) === false)
            return false;
        }
      });
    }
    function Gm(t, e, i) {
      var r = i;
      return je(t, function(n, s, a) {
        s === 0 && a === 0 && i === void 0 ? r = n : r = e(r, n, s, a);
      }), r;
    }
    function ol(t, e) {
      je(t, function(i, r, n) {
        var s = 0;
        if (i.geometry) {
          var a = i.geometry.type;
          if (!(a === "Point" || a === "MultiPoint")) {
            var o, l = 0, u = 0, f = 0;
            if (Ce(i, function(d, P, E, T, G) {
              if (o === void 0 || r > l || T > u || G > f) {
                o = d, l = r, u = T, f = G, s = 0;
                return;
              }
              var _ = nt.lineString([o, d], i.properties);
              if (e(_, r, n, G, s) === false)
                return false;
              s++, o = d;
            }) === false)
              return false;
          }
        }
      });
    }
    function qm(t, e, i) {
      var r = i, n = false;
      return ol(t, function(s, a, o, l, u) {
        n === false && i === void 0 ? r = s : r = e(r, s, a, o, l, u), n = true;
      }), r;
    }
    function ll(t, e) {
      if (!t)
        throw new Error("geojson is required");
      je(t, function(i, r, n) {
        if (i.geometry !== null) {
          var s = i.geometry.type, a = i.geometry.coordinates;
          switch (s) {
            case "LineString":
              if (e(i, r, n, 0, 0) === false)
                return false;
              break;
            case "Polygon":
              for (var o = 0; o < a.length; o++)
                if (e(nt.lineString(a[o], i.properties), r, n, o) === false)
                  return false;
              break;
          }
        }
      });
    }
    function Nm(t, e, i) {
      var r = i;
      return ll(t, function(n, s, a, o) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s, a, o);
      }), r;
    }
    function zm(t, e) {
      if (e = e || {}, !nt.isObject(e))
        throw new Error("options is invalid");
      var i = e.featureIndex || 0, r = e.multiFeatureIndex || 0, n = e.geometryIndex || 0, s = e.segmentIndex || 0, a = e.properties, o;
      switch (t.type) {
        case "FeatureCollection":
          i < 0 && (i = t.features.length + i), a = a || t.features[i].properties, o = t.features[i].geometry;
          break;
        case "Feature":
          a = a || t.properties, o = t.geometry;
          break;
        case "Point":
        case "MultiPoint":
          return null;
        case "LineString":
        case "Polygon":
        case "MultiLineString":
        case "MultiPolygon":
          o = t;
          break;
        default:
          throw new Error("geojson is invalid");
      }
      if (o === null)
        return null;
      var l = o.coordinates;
      switch (o.type) {
        case "Point":
        case "MultiPoint":
          return null;
        case "LineString":
          return s < 0 && (s = l.length + s - 1), nt.lineString([l[s], l[s + 1]], a, e);
        case "Polygon":
          return n < 0 && (n = l.length + n), s < 0 && (s = l[n].length + s - 1), nt.lineString([l[n][s], l[n][s + 1]], a, e);
        case "MultiLineString":
          return r < 0 && (r = l.length + r), s < 0 && (s = l[r].length + s - 1), nt.lineString([l[r][s], l[r][s + 1]], a, e);
        case "MultiPolygon":
          return r < 0 && (r = l.length + r), n < 0 && (n = l[r].length + n), s < 0 && (s = l[r][n].length - s - 1), nt.lineString([l[r][n][s], l[r][n][s + 1]], a, e);
      }
      throw new Error("geojson is invalid");
    }
    function Fm(t, e) {
      if (e = e || {}, !nt.isObject(e))
        throw new Error("options is invalid");
      var i = e.featureIndex || 0, r = e.multiFeatureIndex || 0, n = e.geometryIndex || 0, s = e.coordIndex || 0, a = e.properties, o;
      switch (t.type) {
        case "FeatureCollection":
          i < 0 && (i = t.features.length + i), a = a || t.features[i].properties, o = t.features[i].geometry;
          break;
        case "Feature":
          a = a || t.properties, o = t.geometry;
          break;
        case "Point":
        case "MultiPoint":
          return null;
        case "LineString":
        case "Polygon":
        case "MultiLineString":
        case "MultiPolygon":
          o = t;
          break;
        default:
          throw new Error("geojson is invalid");
      }
      if (o === null)
        return null;
      var l = o.coordinates;
      switch (o.type) {
        case "Point":
          return nt.point(l, a, e);
        case "MultiPoint":
          return r < 0 && (r = l.length + r), nt.point(l[r], a, e);
        case "LineString":
          return s < 0 && (s = l.length + s), nt.point(l[s], a, e);
        case "Polygon":
          return n < 0 && (n = l.length + n), s < 0 && (s = l[n].length + s), nt.point(l[n][s], a, e);
        case "MultiLineString":
          return r < 0 && (r = l.length + r), s < 0 && (s = l[r].length + s), nt.point(l[r][s], a, e);
        case "MultiPolygon":
          return r < 0 && (r = l.length + r), n < 0 && (n = l[r].length + n), s < 0 && (s = l[r][n].length - s), nt.point(l[r][n][s], a, e);
      }
      throw new Error("geojson is invalid");
    }
    Q.coordAll = Am;
    Q.coordEach = Ce;
    Q.coordReduce = Rm;
    Q.featureEach = al;
    Q.featureReduce = Om;
    Q.findPoint = Fm;
    Q.findSegment = zm;
    Q.flattenEach = je;
    Q.flattenReduce = Gm;
    Q.geomEach = qi;
    Q.geomReduce = Im;
    Q.lineEach = ll;
    Q.lineReduce = Nm;
    Q.propEach = sl;
    Q.propReduce = Dm;
    Q.segmentEach = ol;
    Q.segmentReduce = qm;
  });
  var hl = S((Fi) => {
    "use strict";
    Object.defineProperty(Fi, "__esModule", { value: true });
    var Vm = Ni();
    function zi(t) {
      var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
      return Vm.coordEach(t, function(i) {
        e[0] > i[0] && (e[0] = i[0]), e[1] > i[1] && (e[1] = i[1]), e[2] < i[0] && (e[2] = i[0]), e[3] < i[1] && (e[3] = i[1]);
      }), e;
    }
    zi.default = zi;
    Fi.default = zi;
  });
  var Ui = S((Ev, Vi) => {
    var kt = Qo(), cl = Gi(), pl = Ni(), re = hl().default, Um = pl.featureEach, wv = pl.coordEach, Cv = cl.polygon, ul = cl.featureCollection;
    function fl(t) {
      var e = new kt(t);
      return e.insert = function(i) {
        if (i.type !== "Feature")
          throw new Error("invalid feature");
        return i.bbox = i.bbox ? i.bbox : re(i), kt.prototype.insert.call(this, i);
      }, e.load = function(i) {
        var r = [];
        return Array.isArray(i) ? i.forEach(function(n) {
          if (n.type !== "Feature")
            throw new Error("invalid features");
          n.bbox = n.bbox ? n.bbox : re(n), r.push(n);
        }) : Um(i, function(n) {
          if (n.type !== "Feature")
            throw new Error("invalid features");
          n.bbox = n.bbox ? n.bbox : re(n), r.push(n);
        }), kt.prototype.load.call(this, r);
      }, e.remove = function(i, r) {
        if (i.type !== "Feature")
          throw new Error("invalid feature");
        return i.bbox = i.bbox ? i.bbox : re(i), kt.prototype.remove.call(this, i, r);
      }, e.clear = function() {
        return kt.prototype.clear.call(this);
      }, e.search = function(i) {
        var r = kt.prototype.search.call(this, this.toBBox(i));
        return ul(r);
      }, e.collides = function(i) {
        return kt.prototype.collides.call(this, this.toBBox(i));
      }, e.all = function() {
        var i = kt.prototype.all.call(this);
        return ul(i);
      }, e.toJSON = function() {
        return kt.prototype.toJSON.call(this);
      }, e.fromJSON = function(i) {
        return kt.prototype.fromJSON.call(this, i);
      }, e.toBBox = function(i) {
        var r;
        if (i.bbox)
          r = i.bbox;
        else if (Array.isArray(i) && i.length === 4)
          r = i;
        else if (Array.isArray(i) && i.length === 6)
          r = [i[0], i[1], i[3], i[4]];
        else if (i.type === "Feature")
          r = re(i);
        else if (i.type === "FeatureCollection")
          r = re(i);
        else
          throw new Error("invalid geojson");
        return { minX: r[0], minY: r[1], maxX: r[2], maxY: r[3] };
      }, e;
    }
    Vi.exports = fl;
    Vi.exports.default = fl;
  });
  Array.prototype.findIndex = Array.prototype.findIndex || function(t) {
    if (this === null)
      throw new TypeError("Array.prototype.findIndex called on null or undefined");
    if (typeof t != "function")
      throw new TypeError("callback must be a function");
    for (var e = Object(this), i = e.length >>> 0, r = arguments[1], n = 0; n < i; n++)
      if (t.call(r, e[n], n, e))
        return n;
    return -1;
  };
  Array.prototype.find = Array.prototype.find || function(t) {
    if (this === null)
      throw new TypeError("Array.prototype.find called on null or undefined");
    if (typeof t != "function")
      throw new TypeError("callback must be a function");
    for (var e = Object(this), i = e.length >>> 0, r = arguments[1], n = 0; n < i; n++) {
      var s = e[n];
      if (t.call(r, s, n, e))
        return s;
    }
  };
  typeof Object.assign != "function" && (Object.assign = function(t) {
    "use strict";
    if (t == null)
      throw new TypeError("Cannot convert undefined or null to object");
    t = Object(t);
    for (var e = 1; e < arguments.length; e++) {
      var i = arguments[e];
      if (i != null)
        for (var r in i)
          Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r]);
    }
    return t;
  });
  (function(t) {
    t.forEach(function(e) {
      e.hasOwnProperty("remove") || Object.defineProperty(e, "remove", { configurable: true, enumerable: true, writable: true, value: function() {
        this.parentNode.removeChild(this);
      } });
    });
  })([Element.prototype, CharacterData.prototype, DocumentType.prototype]);
  Array.prototype.includes || Object.defineProperty(Array.prototype, "includes", { value: function(t, e) {
    if (this == null)
      throw new TypeError('"this" is null or not defined');
    var i = Object(this), r = i.length >>> 0;
    if (r === 0)
      return false;
    var n = e | 0, s = Math.max(n >= 0 ? n : r - Math.abs(n), 0);
    function a(o, l) {
      return o === l || typeof o == "number" && typeof l == "number" && isNaN(o) && isNaN(l);
    }
    for (; s < r; ) {
      if (a(i[s], t))
        return true;
      s++;
    }
    return false;
  } });
  var hr = { name: "@geoman-io/leaflet-geoman-free", version: "2.17.0", description: "A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0", keywords: ["leaflet", "geoman", "polygon management", "geometry editing", "map data", "map overlay", "polygon", "geojson", "leaflet-draw", "data-field-geojson", "ui-leaflet-draw"], files: ["dist"], main: "dist/leaflet-geoman.js", types: "dist/leaflet-geoman.d.ts", dependencies: { "@turf/boolean-contains": "^6.5.0", "@turf/kinks": "^6.5.0", "@turf/line-intersect": "^6.5.0", "@turf/line-split": "^6.5.0", lodash: "4.17.21", "polyclip-ts": "^0.16.5" }, devDependencies: { "@types/leaflet": "^1.7.9", "cross-env": "^7.0.3", cypress: "6.9.1", "cypress-wait-until": "1.7.1", esbuild: "^0.20.0", eslint: "8.56.0", "eslint-config-airbnb-base": "15.0.0", "eslint-config-prettier": "9.1.0", "eslint-plugin-cypress": "2.15.1", "eslint-plugin-import": "2.29.1", husky: "^9.0.7", leaflet: "1.9.3", "lint-staged": "^15.2.1", prettier: "3.2.4", "prosthetic-hand": "1.3.1", "ts-node": "^10.9.2" }, peerDependencies: { leaflet: "^1.2.0" }, scripts: { start: "pnpm run dev", dev: "cross-env DEV=true ts-node bundle.mjs", build: "ts-node bundle.mjs", test: "cypress run", cypress: "cypress open", prepare: "pnpm run build && husky", "eslint-check": "eslint --print-config . | eslint-config-prettier-check", eslint: 'eslint "{src,cypress,demo}/**/*.js" --fix ', prettier: 'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn', lint: "pnpm run eslint && pnpm run prettier" }, repository: { type: "git", url: "git://github.com/geoman-io/leaflet-geoman.git" }, author: { name: "Geoman.io", email: "sales@geoman.io", url: "http://geoman.io" }, license: "MIT", bugs: { url: "https://github.com/geoman-io/leaflet-geoman/issues" }, homepage: "https://geoman.io", prettier: { trailingComma: "es5", tabWidth: 2, semi: true, singleQuote: true }, "lint-staged": { "*.js": 'eslint "{src,cypress,demo}/**/*.js" --fix', "*.{js,css,md}": 'prettier --write "{src,cypress,demo}/**/*.{js,css}"' } };
  var Pi = xt(Ne());
  var Ga = { tooltips: { placeMarker: "Click to place marker", firstVertex: "Click to place first vertex", continueLine: "Click to continue drawing", finishLine: "Click any existing marker to finish", finishPoly: "Click first marker to finish", finishRect: "Click to finish", startCircle: "Click to place circle center", finishCircle: "Click to finish circle", placeCircleMarker: "Click to place circle marker", placeText: "Click to place text", selectFirstLayerFor: "Select first layer for {action}", selectSecondLayerFor: "Select second layer for {action}" }, actions: { finish: "Finish", cancel: "Cancel", removeLastVertex: "Remove Last Vertex" }, buttonTitles: { drawMarkerButton: "Draw Marker", drawPolyButton: "Draw Polygons", drawLineButton: "Draw Polyline", drawCircleButton: "Draw Circle", drawRectButton: "Draw Rectangle", editButton: "Edit Layers", dragButton: "Drag Layers", cutButton: "Cut Layers", deleteButton: "Remove Layers", drawCircleMarkerButton: "Draw Circle Marker", snappingButton: "Snap dragged marker to other layers and vertices", pinningButton: "Pin shared vertices together", rotateButton: "Rotate Layers", drawTextButton: "Draw Text", scaleButton: "Scale Layers", autoTracingButton: "Auto trace Line", snapGuidesButton: "Show SnapGuides", unionButton: "Union layers", differenceButton: "Subtract layers" }, measurements: { totalLength: "Length", segmentLength: "Segment length", area: "Area", radius: "Radius", perimeter: "Perimeter", height: "Height", width: "Width", coordinates: "Position", coordinatesMarker: "Position Marker" } };
  var qa = { tooltips: { placeMarker: "Platziere den Marker mit Klick", firstVertex: "Platziere den ersten Marker mit Klick", continueLine: "Klicke, um weiter zu zeichnen", finishLine: "Beende mit Klick auf existierenden Marker", finishPoly: "Beende mit Klick auf ersten Marker", finishRect: "Beende mit Klick", startCircle: "Platziere das Kreiszentrum mit Klick", finishCircle: "Beende den Kreis mit Klick", placeCircleMarker: "Platziere den Kreismarker mit Klick", placeText: "Platziere den Text mit Klick" }, actions: { finish: "Beenden", cancel: "Abbrechen", removeLastVertex: "Letzten Vertex l\xF6schen" }, buttonTitles: { drawMarkerButton: "Marker zeichnen", drawPolyButton: "Polygon zeichnen", drawLineButton: "Polyline zeichnen", drawCircleButton: "Kreis zeichnen", drawRectButton: "Rechteck zeichnen", editButton: "Layer editieren", dragButton: "Layer bewegen", cutButton: "Layer schneiden", deleteButton: "Layer l\xF6schen", drawCircleMarkerButton: "Kreismarker zeichnen", snappingButton: "Bewegter Layer an andere Layer oder Vertexe einhacken", pinningButton: "Vertexe an der gleichen Position verkn\xFCpfen", rotateButton: "Layer drehen", drawTextButton: "Text zeichnen", scaleButton: "Layer skalieren", autoTracingButton: "Linie automatisch nachzeichen" }, measurements: { totalLength: "L\xE4nge", segmentLength: "Segment L\xE4nge", area: "Fl\xE4che", radius: "Radius", perimeter: "Umfang", height: "H\xF6he", width: "Breite", coordinates: "Position", coordinatesMarker: "Position Marker" } };
  var Na = { tooltips: { placeMarker: "Clicca per posizionare un Marker", firstVertex: "Clicca per posizionare il primo vertice", continueLine: "Clicca per continuare a disegnare", finishLine: "Clicca qualsiasi marker esistente per terminare", finishPoly: "Clicca il primo marker per terminare", finishRect: "Clicca per terminare", startCircle: "Clicca per posizionare il punto centrale del cerchio", finishCircle: "Clicca per terminare il cerchio", placeCircleMarker: "Clicca per posizionare un Marker del cherchio" }, actions: { finish: "Termina", cancel: "Annulla", removeLastVertex: "Rimuovi l'ultimo vertice" }, buttonTitles: { drawMarkerButton: "Disegna Marker", drawPolyButton: "Disegna Poligoni", drawLineButton: "Disegna Polilinea", drawCircleButton: "Disegna Cerchio", drawRectButton: "Disegna Rettangolo", editButton: "Modifica Livelli", dragButton: "Sposta Livelli", cutButton: "Ritaglia Livelli", deleteButton: "Elimina Livelli", drawCircleMarkerButton: "Disegna Marker del Cerchio", snappingButton: "Snap ha trascinato il pennarello su altri strati e vertici", pinningButton: "Pin condiviso vertici insieme", rotateButton: "Ruota livello" } };
  var za = { tooltips: { placeMarker: "Klik untuk menempatkan marker", firstVertex: "Klik untuk menempatkan vertex pertama", continueLine: "Klik untuk meneruskan digitasi", finishLine: "Klik pada sembarang marker yang ada untuk mengakhiri", finishPoly: "Klik marker pertama untuk mengakhiri", finishRect: "Klik untuk mengakhiri", startCircle: "Klik untuk menempatkan titik pusat lingkaran", finishCircle: "Klik untuk mengakhiri lingkaran", placeCircleMarker: "Klik untuk menempatkan penanda lingkarann" }, actions: { finish: "Selesai", cancel: "Batal", removeLastVertex: "Hilangkan Vertex Terakhir" }, buttonTitles: { drawMarkerButton: "Digitasi Marker", drawPolyButton: "Digitasi Polygon", drawLineButton: "Digitasi Polyline", drawCircleButton: "Digitasi Lingkaran", drawRectButton: "Digitasi Segi Empat", editButton: "Edit Layer", dragButton: "Geser Layer", cutButton: "Potong Layer", deleteButton: "Hilangkan Layer", drawCircleMarkerButton: "Digitasi Penanda Lingkaran", snappingButton: "Jepretkan penanda yang ditarik ke lapisan dan simpul lain", pinningButton: "Sematkan simpul bersama bersama", rotateButton: "Putar lapisan" } };
  var Fa = { tooltips: { placeMarker: "Adaug\u0103 un punct", firstVertex: "Apas\u0103 aici pentru a ad\u0103uga primul Vertex", continueLine: "Apas\u0103 aici pentru a continua desenul", finishLine: "Apas\u0103 pe orice obiect pentru a finisa desenul", finishPoly: "Apas\u0103 pe primul obiect pentru a finisa", finishRect: "Apas\u0103 pentru a finisa", startCircle: "Apas\u0103 pentru a desena un cerc", finishCircle: "Apas\u0103 pentru a finisa un cerc", placeCircleMarker: "Adaug\u0103 un punct" }, actions: { finish: "Termin\u0103", cancel: "Anuleaz\u0103", removeLastVertex: "\u0218terge ultimul Vertex" }, buttonTitles: { drawMarkerButton: "Adaug\u0103 o bulin\u0103", drawPolyButton: "Deseneaz\u0103 un poligon", drawLineButton: "Deseneaz\u0103 o linie", drawCircleButton: "Deseneaz\u0103 un cerc", drawRectButton: "Deseneaz\u0103 un dreptunghi", editButton: "Editeaz\u0103 straturile", dragButton: "Mut\u0103 straturile", cutButton: "Taie straturile", deleteButton: "\u0218terge straturile", drawCircleMarkerButton: "Deseneaz\u0103 marcatorul cercului", snappingButton: "Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri", pinningButton: "Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103", rotateButton: "Roti\u021Bi stratul" } };
  var Va = { tooltips: { placeMarker: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440", firstVertex: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442", continueLine: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435", finishLine: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F", finishPoly: "\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C", finishRect: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C", startCircle: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430", finishCircle: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441", placeCircleMarker: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440" }, actions: { finish: "\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C", cancel: "\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C", removeLastVertex: "\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435" }, buttonTitles: { drawMarkerButton: "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440", drawPolyButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D", drawLineButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E", drawCircleButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433", drawRectButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A", editButton: "\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439", dragButton: "\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439", cutButton: "\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439", deleteButton: "\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439", drawCircleMarkerButton: "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440", snappingButton: "\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C", pinningButton: "\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435", rotateButton: "\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u0441\u043B\u043E\u044F" } };
  var Ua = { tooltips: { placeMarker: "Presiona para colocar un marcador", firstVertex: "Presiona para colocar el primer v\xE9rtice", continueLine: "Presiona para continuar dibujando", finishLine: "Presiona cualquier marcador existente para finalizar", finishPoly: "Presiona el primer marcador para finalizar", finishRect: "Presiona para finalizar", startCircle: "Presiona para colocar el centro del c\xEDrculo", finishCircle: "Presiona para finalizar el c\xEDrculo", placeCircleMarker: "Presiona para colocar un marcador de c\xEDrculo" }, actions: { finish: "Finalizar", cancel: "Cancelar", removeLastVertex: "Eliminar \xFAltimo v\xE9rtice" }, buttonTitles: { drawMarkerButton: "Dibujar Marcador", drawPolyButton: "Dibujar Pol\xEDgono", drawLineButton: "Dibujar L\xEDnea", drawCircleButton: "Dibujar C\xEDrculo", drawRectButton: "Dibujar Rect\xE1ngulo", editButton: "Editar Capas", dragButton: "Arrastrar Capas", cutButton: "Cortar Capas", deleteButton: "Eliminar Capas", drawCircleMarkerButton: "Dibujar Marcador de C\xEDrculo", snappingButton: "El marcador de Snap arrastrado a otras capas y v\xE9rtices", pinningButton: "Fijar juntos los v\xE9rtices compartidos", rotateButton: "Rotar capa" } };
  var ja = { tooltips: { placeMarker: "Klik om een marker te plaatsen", firstVertex: "Klik om het eerste punt te plaatsen", continueLine: "Klik om te blijven tekenen", finishLine: "Klik op een bestaand punt om te be\xEBindigen", finishPoly: "Klik op het eerst punt om te be\xEBindigen", finishRect: "Klik om te be\xEBindigen", startCircle: "Klik om het middelpunt te plaatsen", finishCircle: "Klik om de cirkel te be\xEBindigen", placeCircleMarker: "Klik om een marker te plaatsen" }, actions: { finish: "Bewaar", cancel: "Annuleer", removeLastVertex: "Verwijder laatste punt" }, buttonTitles: { drawMarkerButton: "Plaats Marker", drawPolyButton: "Teken een vlak", drawLineButton: "Teken een lijn", drawCircleButton: "Teken een cirkel", drawRectButton: "Teken een vierkant", editButton: "Bewerk", dragButton: "Verplaats", cutButton: "Knip", deleteButton: "Verwijder", drawCircleMarkerButton: "Plaats Marker", snappingButton: "Snap gesleepte marker naar andere lagen en hoekpunten", pinningButton: "Speld gedeelde hoekpunten samen", rotateButton: "Laag roteren" } };
  var Ka = { tooltips: { placeMarker: "Cliquez pour placer un marqueur", firstVertex: "Cliquez pour placer le premier sommet", continueLine: "Cliquez pour continuer \xE0 dessiner", finishLine: "Cliquez sur n'importe quel marqueur pour terminer", finishPoly: "Cliquez sur le premier marqueur pour terminer", finishRect: "Cliquez pour terminer", startCircle: "Cliquez pour placer le centre du cercle", finishCircle: "Cliquez pour finir le cercle", placeCircleMarker: "Cliquez pour placer le marqueur circulaire" }, actions: { finish: "Terminer", cancel: "Annuler", removeLastVertex: "Retirer le dernier sommet" }, buttonTitles: { drawMarkerButton: "Placer des marqueurs", drawPolyButton: "Dessiner des polygones", drawLineButton: "Dessiner des polylignes", drawCircleButton: "Dessiner un cercle", drawRectButton: "Dessiner un rectangle", editButton: "\xC9diter des calques", dragButton: "D\xE9placer des calques", cutButton: "Couper des calques", deleteButton: "Supprimer des calques", drawCircleMarkerButton: "Dessiner un marqueur circulaire", snappingButton: "Glisser le marqueur vers d'autres couches et sommets", pinningButton: "\xC9pingler ensemble les sommets partag\xE9s", rotateButton: "Tourner des calques" } };
  var Ha = { tooltips: { placeMarker: "\u5355\u51FB\u653E\u7F6E\u6807\u8BB0", firstVertex: "\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9", continueLine: "\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236", finishLine: "\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210", finishPoly: "\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210", finishRect: "\u5355\u51FB\u5B8C\u6210", startCircle: "\u5355\u51FB\u653E\u7F6E\u5706\u5FC3", finishCircle: "\u5355\u51FB\u5B8C\u6210\u5706\u5F62", placeCircleMarker: "\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0" }, actions: { finish: "\u5B8C\u6210", cancel: "\u53D6\u6D88", removeLastVertex: "\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9" }, buttonTitles: { drawMarkerButton: "\u7ED8\u5236\u6807\u8BB0", drawPolyButton: "\u7ED8\u5236\u591A\u8FB9\u5F62", drawLineButton: "\u7ED8\u5236\u7EBF\u6BB5", drawCircleButton: "\u7ED8\u5236\u5706\u5F62", drawRectButton: "\u7ED8\u5236\u957F\u65B9\u5F62", editButton: "\u7F16\u8F91\u56FE\u5C42", dragButton: "\u62D6\u62FD\u56FE\u5C42", cutButton: "\u526A\u5207\u56FE\u5C42", deleteButton: "\u5220\u9664\u56FE\u5C42", drawCircleMarkerButton: "\u753B\u5706\u5708\u6807\u8BB0", snappingButton: "\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9", pinningButton: "\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77", rotateButton: "\u65CB\u8F6C\u56FE\u5C42" } };
  var Xa = { tooltips: { placeMarker: "\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18", firstVertex: "\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE", continueLine: "\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD", finishLine: "\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210", finishPoly: "\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210", finishRect: "\u55AE\u64CA\u5B8C\u6210", startCircle: "\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3", finishCircle: "\u55AE\u64CA\u5B8C\u6210\u5713\u5F62", placeCircleMarker: "\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18" }, actions: { finish: "\u5B8C\u6210", cancel: "\u53D6\u6D88", removeLastVertex: "\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE" }, buttonTitles: { drawMarkerButton: "\u653E\u7F6E\u6A19\u8A18", drawPolyButton: "\u7E6A\u88FD\u591A\u908A\u5F62", drawLineButton: "\u7E6A\u88FD\u7DDA\u6BB5", drawCircleButton: "\u7E6A\u88FD\u5713\u5F62", drawRectButton: "\u7E6A\u88FD\u65B9\u5F62", editButton: "\u7DE8\u8F2F\u5716\u5F62", dragButton: "\u79FB\u52D5\u5716\u5F62", cutButton: "\u88C1\u5207\u5716\u5F62", deleteButton: "\u522A\u9664\u5716\u5F62", drawCircleMarkerButton: "\u756B\u5713\u5708\u6A19\u8A18", snappingButton: "\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE", pinningButton: "\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77", rotateButton: "\u65CB\u8F49\u5716\u5F62" } };
  var Ya = { tooltips: { placeMarker: "Clique para posicionar o marcador", firstVertex: "Clique para posicionar o primeiro v\xE9rtice", continueLine: "Clique para continuar desenhando", finishLine: "Clique em qualquer marcador existente para finalizar", finishPoly: "Clique no primeiro marcador para finalizar", finishRect: "Clique para finalizar", startCircle: "Clique para posicionar o centro do c\xEDrculo", finishCircle: "Clique para finalizar o c\xEDrculo", placeCircleMarker: "Clique para posicionar o marcador circular", placeText: "Clique para inserir texto" }, actions: { finish: "Finalizar", cancel: "Cancelar", removeLastVertex: "Remover \xFAltimo v\xE9rtice" }, buttonTitles: { drawMarkerButton: "Desenhar Marcador", drawPolyButton: "Desenhar Pol\xEDgonos", drawLineButton: "Desenhar Linha Poligonal", drawCircleButton: "Desenhar C\xEDrculo", drawRectButton: "Desenhar Ret\xE2ngulo", editButton: "Editar Camadas", dragButton: "Arrastar Camadas", cutButton: "Recortar Camadas", deleteButton: "Remover Camadas", drawCircleMarkerButton: "Desenhar Marcador de C\xEDrculo", snappingButton: "Ajustar marcador arrastado a outras camadas e v\xE9rtices", pinningButton: "Unir v\xE9rtices compartilhados", rotateButton: "Rotacionar Camadas", drawTextButton: "Desenhar Texto", scaleButton: "Redimensionar Camadas", autoTracingButton: "Tra\xE7ado Autom\xE1tico de Linha" }, measurements: { totalLength: "Comprimento", segmentLength: "Comprimento do Segmento", area: "\xC1rea", radius: "Raio", perimeter: "Per\xEDmetro", height: "Altura", width: "Largura", coordinates: "Posi\xE7\xE3o", coordinatesMarker: "Marcador de Posi\xE7\xE3o" } };
  var Ja = { tooltips: { placeMarker: "Clique para colocar marcador", firstVertex: "Clique para colocar primeiro v\xE9rtice", continueLine: "Clique para continuar a desenhar", finishLine: "Clique num marcador existente para terminar", finishPoly: "Clique no primeiro marcador para terminar", finishRect: "Clique para terminar", startCircle: "Clique para colocar o centro do c\xEDrculo", finishCircle: "Clique para terminar o c\xEDrculo", placeCircleMarker: "Clique para colocar marcador de c\xEDrculo", placeText: "Clique para colocar texto" }, actions: { finish: "Terminar", cancel: "Cancelar", removeLastVertex: "Remover \xDAltimo V\xE9rtice" }, buttonTitles: { drawMarkerButton: "Desenhar Marcador", drawPolyButton: "Desenhar Pol\xEDgonos", drawLineButton: "Desenhar Polilinha", drawCircleButton: "Desenhar C\xEDrculo", drawRectButton: "Desenhar Ret\xE2ngulo", editButton: "Editar Camadas", dragButton: "Arrastar Camadas", cutButton: "Cortar Camadas", deleteButton: "Remover Camadas", drawCircleMarkerButton: "Desenhar Marcador de C\xEDrculo", snappingButton: "Ajustar marcador arrastado a outras camadas e v\xE9rtices", pinningButton: "Unir v\xE9rtices partilhados", rotateButton: "Rodar Camadas", drawTextButton: "Desenhar Texto", scaleButton: "Escalar Camadas", autoTracingButton: "Tra\xE7ado Autom\xE1tico de Linha" }, measurements: { totalLength: "Comprimento", segmentLength: "Comprimento do Segmento", area: "\xC1rea", radius: "Raio", perimeter: "Per\xEDmetro", height: "Altura", width: "Largura", coordinates: "Posi\xE7\xE3o", coordinatesMarker: "Marcador de Posi\xE7\xE3o" } };
  var $a = { tooltips: { placeMarker: "Kliknij, aby umie\u015Bci\u0107 znacznik", firstVertex: "Kliknij, aby umie\u015Bci\u0107 pierwszy wierzcho\u0142ek", continueLine: "Kliknij, aby kontynuowa\u0107 rysowanie", finishLine: "Kliknij dowolny istniej\u0105cy znacznik, aby zako\u0144czy\u0107", finishPoly: "Kliknij pierwszy znacznik, aby zako\u0144czy\u0107", finishRect: "Kliknij, aby zako\u0144czy\u0107", startCircle: "Kliknij, aby umie\u015Bci\u0107 \u015Brodek okr\u0119gu", finishCircle: "Kliknij, aby zako\u0144czy\u0107 okr\u0105g", placeCircleMarker: "Kliknij, aby umie\u015Bci\u0107 znacznik okr\u0119gu", placeText: "Kliknij, aby umie\u015Bci\u0107 tekst" }, actions: { finish: "Zako\u0144cz", cancel: "Anuluj", removeLastVertex: "Usu\u0144 ostatni wierzcho\u0142ek" }, buttonTitles: { drawMarkerButton: "Rysuj znacznik", drawPolyButton: "Rysuj wielok\u0105t", drawLineButton: "Rysuj lini\u0119", drawCircleButton: "Rysuj okr\u0105g", drawRectButton: "Rysuj prostok\u0105t", editButton: "Edytuj warstwy", dragButton: "Przeci\u0105gnij warstwy", cutButton: "Wytnij warstwy", deleteButton: "Usu\u0144 warstwy", drawCircleMarkerButton: "Rysuj znacznik okr\u0105g\u0142y", snappingButton: "Przyci\u0105gnij przenoszony znacznik do innych warstw i wierzcho\u0142k\xF3w", pinningButton: "Przypnij wsp\xF3lne wierzcho\u0142ki razem", rotateButton: "Obr\xF3\u0107 warstwy", drawTextButton: "Rysuj tekst", scaleButton: "Skaluj warstwy", autoTracingButton: "Automatyczne \u015Bledzenie linii" }, measurements: { totalLength: "D\u0142ugo\u015B\u0107", segmentLength: "D\u0142ugo\u015B\u0107 odcinka", area: "Obszar", radius: "Promie\u0144", perimeter: "Obw\xF3d", height: "Wysoko\u015B\u0107", width: "Szeroko\u015B\u0107", coordinates: "Pozycja", coordinatesMarker: "Znacznik pozycji" } };
  var Za = { tooltips: { placeMarker: "Klicka f\xF6r att placera mark\xF6r", firstVertex: "Klicka f\xF6r att placera f\xF6rsta h\xF6rnet", continueLine: "Klicka f\xF6r att forts\xE4tta rita", finishLine: "Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra", finishPoly: "Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra", finishRect: "Klicka f\xF6r att slutf\xF6ra", startCircle: "Klicka f\xF6r att placera cirkelns centrum", finishCircle: "Klicka f\xF6r att slutf\xF6ra cirkeln", placeCircleMarker: "Klicka f\xF6r att placera cirkelmark\xF6r" }, actions: { finish: "Slutf\xF6r", cancel: "Avbryt", removeLastVertex: "Ta bort sista h\xF6rnet" }, buttonTitles: { drawMarkerButton: "Rita Mark\xF6r", drawPolyButton: "Rita Polygoner", drawLineButton: "Rita Linje", drawCircleButton: "Rita Cirkel", drawRectButton: "Rita Rektangel", editButton: "Redigera Lager", dragButton: "Dra Lager", cutButton: "Klipp i Lager", deleteButton: "Ta bort Lager", drawCircleMarkerButton: "Rita Cirkelmark\xF6r", snappingButton: "Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn", pinningButton: "F\xE4st delade h\xF6rn tillsammans", rotateButton: "Rotera lagret" } };
  var Wa = { tooltips: { placeMarker: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7", firstVertex: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF", continueLine: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5", finishLine: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF", finishPoly: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5", finishRect: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5", startCircle: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5", finishCircle: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF", placeCircleMarker: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7" }, actions: { finish: "\u03A4\u03AD\u03BB\u03BF\u03C2", cancel: "\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7", removeLastVertex: "\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5" }, buttonTitles: { drawMarkerButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7", drawPolyButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5", drawLineButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2", drawCircleButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5", drawRectButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5", editButton: "\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", dragButton: "\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", cutButton: "\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", deleteButton: "\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", drawCircleMarkerButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7", snappingButton: "\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2", pinningButton: "\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF", rotateButton: "\u03A0\u03B5\u03C1\u03B9\u03C3\u03C4\u03C1\u03AD\u03C8\u03C4\u03B5 \u03C4\u03BF \u03C3\u03C4\u03C1\u03CE\u03BC\u03B1" } };
  var Qa = { tooltips: { placeMarker: "Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez", firstVertex: "Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez", continueLine: "Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez", finishLine: "A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra", finishPoly: "A befejez\xE9shez kattintson az els\u0151 pontra", finishRect: "Kattintson a befejez\xE9shez", startCircle: "Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez", finishCircle: "Kattintson a k\xF6r befejez\xE9s\xE9hez", placeCircleMarker: "Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez" }, actions: { finish: "Befejez\xE9s", cancel: "M\xE9gse", removeLastVertex: "Utols\xF3 pont elt\xE1vol\xEDt\xE1sa" }, buttonTitles: { drawMarkerButton: "Jel\xF6l\u0151 rajzol\xE1sa", drawPolyButton: "Poligon rajzol\xE1sa", drawLineButton: "Vonal rajzol\xE1sa", drawCircleButton: "K\xF6r rajzol\xE1sa", drawRectButton: "N\xE9gyzet rajzol\xE1sa", editButton: "Elemek szerkeszt\xE9se", dragButton: "Elemek mozgat\xE1sa", cutButton: "Elemek v\xE1g\xE1sa", deleteButton: "Elemek t\xF6rl\xE9se", drawCircleMarkerButton: "K\xF6r jel\xF6l\u0151 rajzol\xE1sa", snappingButton: "Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz", pinningButton: "K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se", rotateButton: "F\xF3lia elforgat\xE1sa" } };
  var to = { tooltips: { placeMarker: "Tryk for at placere en mark\xF8r", firstVertex: "Tryk for at placere det f\xF8rste punkt", continueLine: "Tryk for at forts\xE6tte linjen", finishLine: "Tryk p\xE5 et eksisterende punkt for at afslutte", finishPoly: "Tryk p\xE5 det f\xF8rste punkt for at afslutte", finishRect: "Tryk for at afslutte", startCircle: "Tryk for at placere cirklens center", finishCircle: "Tryk for at afslutte cirklen", placeCircleMarker: "Tryk for at placere en cirkelmark\xF8r" }, actions: { finish: "Afslut", cancel: "Afbryd", removeLastVertex: "Fjern sidste punkt" }, buttonTitles: { drawMarkerButton: "Placer mark\xF8r", drawPolyButton: "Tegn polygon", drawLineButton: "Tegn linje", drawCircleButton: "Tegn cirkel", drawRectButton: "Tegn firkant", editButton: "Rediger", dragButton: "Tr\xE6k", cutButton: "Klip", deleteButton: "Fjern", drawCircleMarkerButton: "Tegn cirkelmark\xF8r", snappingButton: "Fastg\xF8r trukket mark\xF8r til andre elementer", pinningButton: "Sammenl\xE6g delte elementer", rotateButton: "Roter laget" } };
  var eo = { tooltips: { placeMarker: "Klikk for \xE5 plassere punkt", firstVertex: "Klikk for \xE5 plassere f\xF8rste punkt", continueLine: "Klikk for \xE5 tegne videre", finishLine: "Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re", finishPoly: "Klikk f\xF8rste punkt for \xE5 fullf\xF8re", finishRect: "Klikk for \xE5 fullf\xF8re", startCircle: "Klikk for \xE5 sette sirkel midtpunkt", finishCircle: "Klikk for \xE5 fullf\xF8re sirkel", placeCircleMarker: "Klikk for \xE5 plassere sirkel", placeText: "Klikk for \xE5 plassere tekst" }, actions: { finish: "Fullf\xF8r", cancel: "Kanseller", removeLastVertex: "Fjern forrige punkt" }, buttonTitles: { drawMarkerButton: "Tegn punkt", drawPolyButton: "Tegn flate", drawLineButton: "Tegn linje", drawCircleButton: "Tegn sirkel", drawRectButton: "Tegn rektangel", editButton: "Rediger objekter", dragButton: "Dra objekter", cutButton: "Kutt objekter", deleteButton: "Fjern objekter", drawCircleMarkerButton: "Tegn sirkel-punkt", snappingButton: "Fest dratt punkt til andre objekter og punkt", pinningButton: "Pin delte punkter sammen", rotateButton: "Rot\xE9r objekter", drawTextButton: "Tegn tekst", scaleButton: "Skal\xE9r objekter", autoTracingButton: "Automatisk sporing av linje" }, measurements: { totalLength: "Lengde", segmentLength: "Segmentlengde", area: "Omr\xE5de", radius: "Radius", perimeter: "Omriss", height: "H\xF8yde", width: "Bredde", coordinates: "Posisjon", coordinatesMarker: "Posisjonsmark\xF8r" } };
  var io = { tooltips: { placeMarker: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646", firstVertex: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633", continueLine: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645", finishLine: "\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646", finishPoly: "\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646", finishRect: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646", startCircle: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647", finishCircle: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647", placeCircleMarker: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647", placeText: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0646\u0648\u0634\u062A\u0646 \u0645\u062A\u0646" }, actions: { finish: "\u067E\u0627\u06CC\u0627\u0646", cancel: "\u0644\u0641\u0648", removeLastVertex: "\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633" }, buttonTitles: { drawMarkerButton: "\u062F\u0631\u062C \u0646\u0634\u0627\u0646", drawPolyButton: "\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC", drawLineButton: "\u0631\u0633\u0645 \u062E\u0637", drawCircleButton: "\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647", drawRectButton: "\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC", editButton: "\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", dragButton: "\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", cutButton: "\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", deleteButton: "\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", drawCircleMarkerButton: "\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647", snappingButton: "\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F", pinningButton: "\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F", rotateButton: "\u0686\u0631\u062E\u0634 \u0644\u0627\u06CC\u0647", drawTextButton: "\u0631\u0633\u0645 \u0645\u062A\u0646", scaleButton: "\u0645\u0642\u06CC\u0627\u0633\u200C\u06AF\u0630\u0627\u0631\u06CC", autoTracingButton: "\u0631\u062F\u06CC\u0627\u0628 \u062E\u0648\u062F\u06A9\u0627\u0631" }, measurements: { totalLength: "\u0637\u0648\u0644", segmentLength: "\u0637\u0648\u0644 \u0628\u062E\u0634", area: "\u0646\u0627\u062D\u06CC\u0647", radius: "\u0634\u0639\u0627\u0639", perimeter: "\u0645\u062D\u06CC\u0637", height: "\u0627\u0631\u062A\u0641\u0627\u0639", width: "\u0639\u0631\u0636", coordinates: "\u0645\u0648\u0642\u0639\u06CC\u062A", coordinatesMarker: "\u0645\u0648\u0642\u0639\u06CC\u062A \u0646\u0634\u0627\u0646" } };
  var ro = { tooltips: { placeMarker: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440", firstVertex: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043D\u0443", continueLine: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043C\u0430\u043B\u044E\u0432\u0430\u0442\u0438", finishLine: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0456\u0441\u043D\u0443\u044E\u0447\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F", finishPoly: "\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438", finishRect: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438", startCircle: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0446\u0435\u043D\u0442\u0440 \u043A\u043E\u043B\u0430", finishCircle: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043A\u043E\u043B\u043E", placeCircleMarker: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440" }, actions: { finish: "\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438", cancel: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438", removeLastVertex: "\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044E \u0432\u0435\u0440\u0448\u0438\u043D\u0443" }, buttonTitles: { drawMarkerButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440", drawPolyButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u043B\u0456\u0433\u043E\u043D", drawLineButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0438\u0432\u0443", drawCircleButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u043B\u043E", drawRectButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A", editButton: "\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438", dragButton: "\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438", cutButton: "\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438", deleteButton: "\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0448\u0430\u0440\u0438", drawCircleMarkerButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440", snappingButton: "\u041F\u0440\u0438\u0432\u2019\u044F\u0437\u0430\u0442\u0438 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043E \u0456\u043D\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043D", pinningButton: "\u0417\u0432'\u044F\u0437\u0430\u0442\u0438 \u0441\u043F\u0456\u043B\u044C\u043D\u0456 \u0432\u0435\u0440\u0448\u0438\u043D\u0438 \u0440\u0430\u0437\u043E\u043C", rotateButton: "\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0448\u0430\u0440" } };
  var no = { tooltips: { placeMarker: "\u0130\u015Faret\xE7i yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n", firstVertex: "\u0130lk tepe noktas\u0131n\u0131 yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n", continueLine: "\xC7izime devam etmek i\xE7in t\u0131klay\u0131n", finishLine: "Bitirmek i\xE7in mevcut herhangi bir i\u015Faret\xE7iyi t\u0131klay\u0131n", finishPoly: "Bitirmek i\xE7in ilk i\u015Faret\xE7iyi t\u0131klay\u0131n", finishRect: "Bitirmek i\xE7in t\u0131klay\u0131n", startCircle: "Daire merkezine yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n", finishCircle: "Daireyi bitirmek i\xE7in t\u0131klay\u0131n", placeCircleMarker: "Daire i\u015Faret\xE7isi yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n" }, actions: { finish: "Bitir", cancel: "\u0130ptal", removeLastVertex: "Son k\xF6\u015Feyi kald\u0131r" }, buttonTitles: { drawMarkerButton: "\xC7izim \u0130\u015Faret\xE7isi", drawPolyButton: "\xC7okgenler \xE7iz", drawLineButton: "\xC7oklu \xE7izgi \xE7iz", drawCircleButton: "\xC7ember \xE7iz", drawRectButton: "Dikd\xF6rtgen \xE7iz", editButton: "Katmanlar\u0131 d\xFCzenle", dragButton: "Katmanlar\u0131 s\xFCr\xFCkle", cutButton: "Katmanlar\u0131 kes", deleteButton: "Katmanlar\u0131 kald\u0131r", drawCircleMarkerButton: "Daire i\u015Faret\xE7isi \xE7iz", snappingButton: "S\xFCr\xFCklenen i\u015Faret\xE7iyi di\u011Fer katmanlara ve k\xF6\u015Felere yap\u0131\u015Ft\u0131r", pinningButton: "Payla\u015F\u0131lan k\xF6\u015Feleri birbirine sabitle", rotateButton: "Katman\u0131 d\xF6nd\xFCr" } };
  var so = { tooltips: { placeMarker: "Kliknut\xEDm vytvo\u0159\xEDte zna\u010Dku", firstVertex: "Kliknut\xEDm vytvo\u0159\xEDte prvn\xED objekt", continueLine: "Kliknut\xEDm pokra\u010Dujte v kreslen\xED", finishLine: "Kliknut\xED na libovolnou existuj\xEDc\xED zna\u010Dku pro dokon\u010Den\xED", finishPoly: "Vyberte prvn\xED bod pro dokon\u010Den\xED", finishRect: "Klikn\u011Bte pro dokon\u010Den\xED", startCircle: "Kliknut\xEDm p\u0159idejte st\u0159ed kruhu", finishCircle: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441", placeCircleMarker: "Kliknut\xEDm nastavte polom\u011Br" }, actions: { finish: "Dokon\u010Dit", cancel: "Zru\u0161it", removeLastVertex: "Zru\u0161it posledn\xED akci" }, buttonTitles: { drawMarkerButton: "P\u0159idat zna\u010Dku", drawPolyButton: "Nakreslit polygon", drawLineButton: "Nakreslit k\u0159ivku", drawCircleButton: "Nakreslit kruh", drawRectButton: "Nakreslit obd\xE9ln\xEDk", editButton: "Upravit vrstvu", dragButton: "P\u0159eneste vrstvu", cutButton: "Vyjmout vrstvu", deleteButton: "Smazat vrstvu", drawCircleMarkerButton: "P\u0159idat kruhovou zna\u010Dku", snappingButton: "Nav\xE1zat ta\u017Enou zna\u010Dku k dal\u0161\xEDm vrstv\xE1m a vrchol\u016Fm", pinningButton: "Spojit spole\u010Dn\xE9 body dohromady", rotateButton: "Oto\u010Dte vrstvu" } };
  var ao = { tooltips: { placeMarker: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E", firstVertex: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u6700\u521D\u306E\u9802\u70B9\u3092\u914D\u7F6E", continueLine: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u63CF\u753B\u3092\u7D9A\u3051\u308B", finishLine: "\u4EFB\u610F\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86", finishPoly: "\u6700\u521D\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86", finishRect: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86", startCircle: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u4E2D\u5FC3\u3092\u914D\u7F6E", finishCircle: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u63CF\u753B\u3092\u7D42\u4E86", placeCircleMarker: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E", placeText: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30C6\u30AD\u30B9\u30C8\u3092\u914D\u7F6E" }, actions: { finish: "\u7D42\u4E86", cancel: "\u30AD\u30E3\u30F3\u30BB\u30EB", removeLastVertex: "\u6700\u5F8C\u306E\u9802\u70B9\u3092\u524A\u9664" }, buttonTitles: { drawMarkerButton: "\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B", drawPolyButton: "\u30DD\u30EA\u30B4\u30F3\u3092\u63CF\u753B", drawLineButton: "\u6298\u308C\u7DDA\u3092\u63CF\u753B", drawCircleButton: "\u5186\u3092\u63CF\u753B", drawRectButton: "\u77E9\u5F62\u3092\u63CF\u753B", editButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u7DE8\u96C6", dragButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u30C9\u30E9\u30C3\u30B0", cutButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u5207\u308A\u53D6\u308A", deleteButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u524A\u9664", drawCircleMarkerButton: "\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B", snappingButton: "\u30C9\u30E9\u30C3\u30B0\u3057\u305F\u30DE\u30FC\u30AB\u30FC\u3092\u4ED6\u306E\u30EC\u30A4\u30E4\u30FC\u3084\u9802\u70B9\u306B\u30B9\u30CA\u30C3\u30D7\u3059\u308B", pinningButton: "\u5171\u6709\u3059\u308B\u9802\u70B9\u3092\u540C\u6642\u306B\u52D5\u304B\u3059", rotateButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u56DE\u8EE2", drawTextButton: "\u30C6\u30AD\u30B9\u30C8\u3092\u63CF\u753B" } };
  var oo = { tooltips: { placeMarker: "Klikkaa asettaaksesi merkin", firstVertex: "Klikkaa asettaakseni ensimm\xE4isen osuuden", continueLine: "Klikkaa jatkaaksesi piirt\xE4mist\xE4", finishLine: "Klikkaa olemassa olevaa merkki\xE4 lopettaaksesi", finishPoly: "Klikkaa ensimm\xE4ist\xE4 merkki\xE4 lopettaaksesi", finishRect: "Klikkaa lopettaaksesi", startCircle: "Klikkaa asettaaksesi ympyr\xE4n keskipisteen", finishCircle: "Klikkaa lopettaaksesi ympyr\xE4n", placeCircleMarker: "Klikkaa asettaaksesi ympyr\xE4merkin", placeText: "Klikkaa asettaaksesi tekstin" }, actions: { finish: "Valmis", cancel: "Peruuta", removeLastVertex: "Poista viimeinen osuus" }, buttonTitles: { drawMarkerButton: "Piirr\xE4 merkkej\xE4", drawPolyButton: "Piirr\xE4 monikulmioita", drawLineButton: "Piirr\xE4 viivoja", drawCircleButton: "Piirr\xE4 ympyr\xE4", drawRectButton: "Piirr\xE4 neliskulmioita", editButton: "Muokkaa", dragButton: "Siirr\xE4", cutButton: "Leikkaa", deleteButton: "Poista", drawCircleMarkerButton: "Piirr\xE4 ympyr\xE4merkki", snappingButton: "Kiinnit\xE4 siirrett\xE4v\xE4 merkki toisiin muotoihin", pinningButton: "Kiinnit\xE4 jaetut muodot yhteen", rotateButton: "K\xE4\xE4nn\xE4", drawTextButton: "Piirr\xE4 teksti\xE4" } };
  var lo = { tooltips: { placeMarker: "\uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694", firstVertex: "\uCCAB\uBC88\uC9F8 \uAF2D\uC9C0\uC810 \uC704\uCE58\uC744 \uD074\uB9AD\uD558\uC138\uC694", continueLine: "\uACC4\uC18D \uADF8\uB9AC\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694", finishLine: "\uB05D\uB0B4\uB824\uBA74 \uAE30\uC874 \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694", finishPoly: "\uB05D\uB0B4\uB824\uBA74 \uCC98\uC74C \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694", finishRect: "\uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694", startCircle: "\uC6D0\uC758 \uC911\uC2EC\uC774 \uB420 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694", finishCircle: "\uC6D0\uC744 \uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694", placeCircleMarker: "\uC6D0 \uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694", placeText: "\uD14D\uC2A4\uD2B8 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694" }, actions: { finish: "\uB05D\uB0B4\uAE30", cancel: "\uCDE8\uC18C", removeLastVertex: "\uB9C8\uC9C0\uB9C9 \uAF2D\uC9C0\uC810 \uC81C\uAC70" }, buttonTitles: { drawMarkerButton: "\uB9C8\uCEE4 \uADF8\uB9AC\uAE30", drawPolyButton: "\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30", drawLineButton: "\uB2E4\uAC01\uC120 \uADF8\uB9AC\uAE30", drawCircleButton: "\uC6D0 \uADF8\uB9AC\uAE30", drawRectButton: "\uC9C1\uC0AC\uAC01\uD615 \uADF8\uB9AC\uAE30", editButton: "\uB808\uC774\uC5B4 \uD3B8\uC9D1\uD558\uAE30", dragButton: "\uB808\uC774\uC5B4 \uB04C\uAE30", cutButton: "\uB808\uC774\uC5B4 \uC790\uB974\uAE30", deleteButton: "\uB808\uC774\uC5B4 \uC81C\uAC70\uD558\uAE30", drawCircleMarkerButton: "\uC6D0 \uB9C8\uCEE4 \uADF8\uB9AC\uAE30", snappingButton: "\uC7A1\uC544\uB048 \uB9C8\uCEE4\uB97C \uB2E4\uB978 \uB808\uC774\uC5B4 \uBC0F \uAF2D\uC9C0\uC810\uC5D0 \uB4E4\uB7EC\uBD99\uAC8C \uD558\uAE30", pinningButton: "\uACF5\uC720 \uAF2D\uC9C0\uC810\uC744 \uD568\uAED8 \uCC0D\uAE30", rotateButton: "\uB808\uC774\uC5B4 \uD68C\uC804\uD558\uAE30", drawTextButton: "\uD14D\uC2A4\uD2B8 \uADF8\uB9AC\uAE30" } };
  var ho = { tooltips: { placeMarker: "\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", firstVertex: "\u0411\u0438\u0440\u0438\u043D\u0447\u0438 \u0447\u043E\u043A\u0443\u043D\u0443 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", continueLine: "\u0421\u04AF\u0440\u04E9\u0442 \u0442\u0430\u0440\u0442\u0443\u0443\u043D\u0443 \u0443\u043B\u0430\u043D\u0442\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishLine: "\u0410\u044F\u043A\u0442\u043E\u043E \u04AF\u0447\u04AF\u043D \u0443\u0447\u0443\u0440\u0434\u0430\u0433\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishPoly: "\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0438\u0440\u0438\u043D\u0447\u0438 \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishRect: "\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", startCircle: "\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B\u043D \u0431\u043E\u0440\u0431\u043E\u0440\u0443\u043D \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishCircle: "\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B \u0431\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", placeCircleMarker: "\u0422\u0435\u0433\u0435\u0440\u0435\u043A \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", placeText: "\u0422\u0435\u043A\u0441\u0442\u0442\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437" }, actions: { finish: "\u0410\u044F\u0433\u044B", cancel: "\u0416\u043E\u043A \u043A\u044B\u043B\u0443\u0443", removeLastVertex: "\u0410\u043A\u044B\u0440\u043A\u044B \u0447\u043E\u043A\u0443\u043D\u0443 \u04E9\u0447\u04AF\u0440\u04AF\u04AF" }, buttonTitles: { drawMarkerButton: "\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443", drawPolyButton: "\u041F\u043E\u043B\u0438\u0433\u043E\u043D \u0447\u0438\u0437\u0443\u0443", drawLineButton: "\u041F\u043E\u043B\u0438\u043B\u0438\u043D\u0438\u044F \u0447\u0438\u0437\u0443\u0443", drawCircleButton: "\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u0447\u0438\u0437\u0443\u0443", drawRectButton: "\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A \u0447\u0438\u0437\u0443\u0443", editButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u0442\u04AF\u0437\u04E9\u0442\u04AF\u04AF", dragButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u043A\u0430\u0440\u0430\u043F \u0441\u04AF\u0439\u043B\u04E9\u04AF", cutButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u0431\u0430\u0448\u044B\u043D \u043A\u0435\u0441\u04AF\u04AF", deleteButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0447\u04AF\u0440\u04AF\u04AF", drawCircleMarkerButton: "\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443", snappingButton: "\u0411\u0430\u0448\u043A\u0430 \u0441\u043B\u043E\u043E\u043F\u0442\u043E\u0440\u0434\u0443\u043D \u0436\u0430\u043D\u0430 \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438\u043D \u0430\u0440\u0430\u0441\u044B\u043D\u0430 \u0447\u0435\u043A\u0438\u043B\u0434\u04E9\u04E9", pinningButton: "\u0411\u04E9\u043B\u04AF\u0448\u043A\u04E9\u043D \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438 \u0431\u0438\u0440\u0433\u0435 \u0442\u0443\u0442\u0443\u0448\u0442\u0443\u0440\u0443\u0443", rotateButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF", drawTextButton: "\u0422\u0435\u043A\u0441\u0442 \u0447\u0438\u0437\u0443\u0443", scaleButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u043B\u0447\u04E9\u043C\u04AF\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF", autoTracingButton: "\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0442\u044B\u043A \u0442\u0438\u0437\u043C\u0435\u0433\u0438 \u0447\u0438\u0437\u0443\u0443" }, measurements: { totalLength: "\u0423\u0437\u0443\u043D\u0434\u0443\u043A", segmentLength: "\u0421\u0435\u0433\u043C\u0435\u043D\u0442 \u0443\u0437\u0443\u043D\u0434\u0443\u0433\u0443", area: "\u0410\u0439\u043C\u0430\u043A", radius: "\u0420\u0430\u0434\u0438\u0443\u0441", perimeter: "\u041F\u0435\u0440\u0438\u043C\u0435\u0442\u0440", height: "\u0414\u0438\u0430\u043C\u0435\u0442\u0440", width: "\u041A\u0435\u043D\u0447\u0438\u043B\u0438\u043A", coordinates: "\u041A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440", coordinatesMarker: "\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438\u043D \u043A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440\u044B" } };
  var Nt = { en: Ga, de: qa, it: Na, id: za, ro: Fa, ru: Va, es: Ua, nl: ja, fr: Ka, pt_br: Ya, pt_pt: Ja, zh: Ha, zh_tw: Xa, pl: $a, sv: Za, el: Wa, hu: Qa, da: to, no: eo, fa: io, ua: ro, tr: no, cz: so, ja: ao, fi: oo, ko: lo, ky: ho };
  var mg = { _globalEditModeEnabled: false, enableGlobalEditMode(t) {
    let e = { ...t };
    this._globalEditModeEnabled = true, this.Toolbar.toggleButton("editMode", this.globalEditModeEnabled()), L.PM.Utils.findLayers(this.map).forEach((r) => {
      this._isRelevantForEdit(r) && r.pm.enable(e);
    }), this.throttledReInitEdit || (this.throttledReInitEdit = L.Util.throttle(this.handleLayerAdditionInGlobalEditMode, 100, this)), this._addedLayersEdit = {}, this.map.on("layeradd", this._layerAddedEdit, this), this.map.on("layeradd", this.throttledReInitEdit, this), this._fireGlobalEditModeToggled(true);
  }, disableGlobalEditMode() {
    this._globalEditModeEnabled = false, L.PM.Utils.findLayers(this.map).forEach((e) => {
      e.pm.disable();
    }), this.map.off("layeradd", this._layerAddedEdit, this), this.map.off("layeradd", this.throttledReInitEdit, this), this.Toolbar.toggleButton("editMode", this.globalEditModeEnabled()), this._fireGlobalEditModeToggled(false);
  }, globalEditEnabled() {
    return this.globalEditModeEnabled();
  }, globalEditModeEnabled() {
    return this._globalEditModeEnabled;
  }, toggleGlobalEditMode(t = this.globalOptions) {
    this.globalEditModeEnabled() ? this.disableGlobalEditMode() : this.enableGlobalEditMode(t);
  }, handleLayerAdditionInGlobalEditMode() {
    let t = this._addedLayersEdit;
    if (this._addedLayersEdit = {}, this.globalEditModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForEdit(i) && i.pm.enable({ ...this.globalOptions });
      }
  }, _layerAddedEdit({ layer: t }) {
    this._addedLayersEdit[L.stamp(t)] = t;
  }, _isRelevantForEdit(t) {
    return t.pm && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.allowEditing;
  } }, uo = mg;
  var _g = { _globalDragModeEnabled: false, enableGlobalDragMode() {
    let t = L.PM.Utils.findLayers(this.map);
    this._globalDragModeEnabled = true, this._addedLayersDrag = {}, t.forEach((e) => {
      this._isRelevantForDrag(e) && e.pm.enableLayerDrag();
    }), this.throttledReInitDrag || (this.throttledReInitDrag = L.Util.throttle(this.reinitGlobalDragMode, 100, this)), this.map.on("layeradd", this._layerAddedDrag, this), this.map.on("layeradd", this.throttledReInitDrag, this), this.Toolbar.toggleButton("dragMode", this.globalDragModeEnabled()), this._fireGlobalDragModeToggled(true);
  }, disableGlobalDragMode() {
    let t = L.PM.Utils.findLayers(this.map);
    this._globalDragModeEnabled = false, t.forEach((e) => {
      e.pm.disableLayerDrag();
    }), this.map.off("layeradd", this._layerAddedDrag, this), this.map.off("layeradd", this.throttledReInitDrag, this), this.Toolbar.toggleButton("dragMode", this.globalDragModeEnabled()), this._fireGlobalDragModeToggled(false);
  }, globalDragModeEnabled() {
    return !!this._globalDragModeEnabled;
  }, toggleGlobalDragMode() {
    this.globalDragModeEnabled() ? this.disableGlobalDragMode() : this.enableGlobalDragMode();
  }, reinitGlobalDragMode() {
    let t = this._addedLayersDrag;
    if (this._addedLayersDrag = {}, this.globalDragModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForDrag(i) && i.pm.enableLayerDrag();
      }
  }, _layerAddedDrag({ layer: t }) {
    this._addedLayersDrag[L.stamp(t)] = t;
  }, _isRelevantForDrag(t) {
    return t.pm && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.draggable;
  } }, co = _g;
  var yg = { _globalRemovalModeEnabled: false, enableGlobalRemovalMode() {
    this._globalRemovalModeEnabled = true, this.map.eachLayer((t) => {
      this._isRelevantForRemoval(t) && (t.pm.enabled() && t.pm.disable(), t.on("click", this.removeLayer, this));
    }), this.throttledReInitRemoval || (this.throttledReInitRemoval = L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode, 100, this)), this._addedLayersRemoval = {}, this.map.on("layeradd", this._layerAddedRemoval, this), this.map.on("layeradd", this.throttledReInitRemoval, this), this.Toolbar.toggleButton("removalMode", this.globalRemovalModeEnabled()), this._fireGlobalRemovalModeToggled(true);
  }, disableGlobalRemovalMode() {
    this._globalRemovalModeEnabled = false, this.map.eachLayer((t) => {
      t.off("click", this.removeLayer, this);
    }), this.map.off("layeradd", this._layerAddedRemoval, this), this.map.off("layeradd", this.throttledReInitRemoval, this), this.Toolbar.toggleButton("removalMode", this.globalRemovalModeEnabled()), this._fireGlobalRemovalModeToggled(false);
  }, globalRemovalEnabled() {
    return this.globalRemovalModeEnabled();
  }, globalRemovalModeEnabled() {
    return !!this._globalRemovalModeEnabled;
  }, toggleGlobalRemovalMode() {
    this.globalRemovalModeEnabled() ? this.disableGlobalRemovalMode() : this.enableGlobalRemovalMode();
  }, removeLayer(t) {
    let e = t.target;
    this._isRelevantForRemoval(e) && !e.pm.dragging() && (e.removeFrom(this.map.pm._getContainingLayer()), e.remove(), e instanceof L.LayerGroup ? (this._fireRemoveLayerGroup(e), this._fireRemoveLayerGroup(this.map, e)) : (e.pm._fireRemove(e), e.pm._fireRemove(this.map, e)));
  }, _isRelevantForRemoval(t) {
    return t.pm && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.allowRemoval;
  }, handleLayerAdditionInGlobalRemovalMode() {
    let t = this._addedLayersRemoval;
    if (this._addedLayersRemoval = {}, this.globalRemovalModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForRemoval(i) && (i.pm.enabled() && i.pm.disable(), i.on("click", this.removeLayer, this));
      }
  }, _layerAddedRemoval({ layer: t }) {
    this._addedLayersRemoval[L.stamp(t)] = t;
  } }, po = yg;
  var Lg = { _globalRotateModeEnabled: false, enableGlobalRotateMode() {
    this._globalRotateModeEnabled = true, L.PM.Utils.findLayers(this.map).filter((e) => e instanceof L.Polyline).forEach((e) => {
      this._isRelevantForRotate(e) && e.pm.enableRotate();
    }), this.throttledReInitRotate || (this.throttledReInitRotate = L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode, 100, this)), this._addedLayersRotate = {}, this.map.on("layeradd", this._layerAddedRotate, this), this.map.on("layeradd", this.throttledReInitRotate, this), this.Toolbar.toggleButton("rotateMode", this.globalRotateModeEnabled()), this._fireGlobalRotateModeToggled();
  }, disableGlobalRotateMode() {
    this._globalRotateModeEnabled = false, L.PM.Utils.findLayers(this.map).filter((e) => e instanceof L.Polyline).forEach((e) => {
      e.pm.disableRotate();
    }), this.map.off("layeradd", this._layerAddedRotate, this), this.map.off("layeradd", this.throttledReInitRotate, this), this.Toolbar.toggleButton("rotateMode", this.globalRotateModeEnabled()), this._fireGlobalRotateModeToggled();
  }, globalRotateModeEnabled() {
    return !!this._globalRotateModeEnabled;
  }, toggleGlobalRotateMode() {
    this.globalRotateModeEnabled() ? this.disableGlobalRotateMode() : this.enableGlobalRotateMode();
  }, _isRelevantForRotate(t) {
    return t.pm && t instanceof L.Polyline && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.allowRotation;
  }, handleLayerAdditionInGlobalRotateMode() {
    let t = this._addedLayersRotate;
    if (this._addedLayersRotate = {}, this.globalRotateModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForRemoval(i) && i.pm.enableRotate();
      }
  }, _layerAddedRotate({ layer: t }) {
    this._addedLayersRotate[L.stamp(t)] = t;
  } }, fo = Lg;
  var go = xt(Ne()), bg = { _fireDrawStart(t = "Draw", e = {}) {
    this.__fire(this._map, "pm:drawstart", { shape: this._shape, workingLayer: this._layer }, t, e);
  }, _fireDrawEnd(t = "Draw", e = {}) {
    this.__fire(this._map, "pm:drawend", { shape: this._shape }, t, e);
  }, _fireCreate(t, e = "Draw", i = {}) {
    this.__fire(this._map, "pm:create", { shape: this._shape, marker: t, layer: t }, e, i);
  }, _fireCenterPlaced(t = "Draw", e = {}) {
    let i = t === "Draw" ? this._layer : void 0, r = t !== "Draw" ? this._layer : void 0;
    this.__fire(this._layer, "pm:centerplaced", { shape: this._shape, workingLayer: i, layer: r, latlng: this._layer.getLatLng() }, t, e);
  }, _fireCut(t, e, i, r = "Draw", n = {}) {
    this.__fire(t, "pm:cut", { shape: this._shape, layer: e, originalLayer: i }, r, n);
  }, _fireEdit(t = this._layer, e = "Edit", i = {}) {
    this.__fire(t, "pm:edit", { layer: this._layer, shape: this.getShape() }, e, i);
  }, _fireEnable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:enable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDisable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:disable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireUpdate(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:update", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireMarkerDragStart(t, e = void 0, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:markerdragstart", { layer: this._layer, markerEvent: t, shape: this.getShape(), indexPath: e }, i, r);
  }, _fireMarkerDrag(t, e = void 0, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:markerdrag", { layer: this._layer, markerEvent: t, shape: this.getShape(), indexPath: e }, i, r);
  }, _fireMarkerDragEnd(t, e = void 0, i = void 0, r = "Edit", n = {}) {
    this.__fire(this._layer, "pm:markerdragend", { layer: this._layer, markerEvent: t, shape: this.getShape(), indexPath: e, intersectionReset: i }, r, n);
  }, _fireDragStart(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragstart", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDrag(t, e = "Edit", i = {}) {
    this.__fire(this._layer, "pm:drag", { ...t, shape: this.getShape() }, e, i);
  }, _fireDragEnd(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragend", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDragEnable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragenable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDragDisable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragdisable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireRemove(t, e = t, i = "Edit", r = {}) {
    this.__fire(t, "pm:remove", { layer: e, shape: this.getShape() }, i, r);
  }, _fireVertexAdded(t, e, i, r = "Edit", n = {}) {
    this.__fire(this._layer, "pm:vertexadded", { layer: this._layer, workingLayer: this._layer, marker: t, indexPath: e, latlng: i, shape: this.getShape() }, r, n);
  }, _fireVertexRemoved(t, e, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:vertexremoved", { layer: this._layer, marker: t, indexPath: e, shape: this.getShape() }, i, r);
  }, _fireVertexClick(t, e, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:vertexclick", { layer: this._layer, markerEvent: t, indexPath: e, shape: this.getShape() }, i, r);
  }, _fireIntersect(t, e = this._layer, i = "Edit", r = {}) {
    this.__fire(e, "pm:intersect", { layer: this._layer, intersection: t, shape: this.getShape() }, i, r);
  }, _fireLayerReset(t, e, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:layerreset", { layer: this._layer, markerEvent: t, indexPath: e, shape: this.getShape() }, i, r);
  }, _fireChange(t, e = "Edit", i = {}) {
    this.__fire(this._layer, "pm:change", { layer: this._layer, latlngs: t, shape: this.getShape() }, e, i);
  }, _fireTextChange(t, e = "Edit", i = {}) {
    this.__fire(this._layer, "pm:textchange", { layer: this._layer, text: t, shape: this.getShape() }, e, i);
  }, _fireTextFocus(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:textfocus", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireTextBlur(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:textblur", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireSnapDrag(t, e, i = "Snapping", r = {}) {
    this.__fire(t, "pm:snapdrag", e, i, r);
  }, _fireSnap(t, e, i = "Snapping", r = {}) {
    this.__fire(t, "pm:snap", e, i, r);
  }, _fireUnsnap(t, e, i = "Snapping", r = {}) {
    this.__fire(t, "pm:unsnap", e, i, r);
  }, _fireRotationEnable(t, e, i = "Rotation", r = {}) {
    this.__fire(t, "pm:rotateenable", { layer: this._layer, helpLayer: this._rotatePoly, shape: this.getShape() }, i, r);
  }, _fireRotationDisable(t, e = "Rotation", i = {}) {
    this.__fire(t, "pm:rotatedisable", { layer: this._layer, shape: this.getShape() }, e, i);
  }, _fireRotationStart(t, e, i = "Rotation", r = {}) {
    this.__fire(t, "pm:rotatestart", { layer: this._rotationLayer, helpLayer: this._layer, startAngle: this._startAngle, originLatLngs: e }, i, r);
  }, _fireRotation(t, e, i, r = this._rotationLayer, n = "Rotation", s = {}) {
    this.__fire(t, "pm:rotate", { layer: r, helpLayer: this._layer, startAngle: this._startAngle, angle: r.pm.getAngle(), angleDiff: e, oldLatLngs: i, newLatLngs: r.getLatLngs() }, n, s);
  }, _fireRotationEnd(t, e, i, r = "Rotation", n = {}) {
    this.__fire(t, "pm:rotateend", { layer: this._rotationLayer, helpLayer: this._layer, startAngle: e, angle: this._rotationLayer.pm.getAngle(), originLatLngs: i, newLatLngs: this._rotationLayer.getLatLngs() }, r, n);
  }, _fireActionClick(t, e, i, r = "Toolbar", n = {}) {
    this.__fire(this._map, "pm:actionclick", { text: t.text, action: t, btnName: e, button: i }, r, n);
  }, _fireButtonClick(t, e, i = "Toolbar", r = {}) {
    this.__fire(this._map, "pm:buttonclick", { btnName: t, button: e }, i, r);
  }, _fireLangChange(t, e, i, r, n = "Global", s = {}) {
    this.__fire(this.map, "pm:langchange", { oldLang: t, activeLang: e, fallback: i, translations: r }, n, s);
  }, _fireGlobalDragModeToggled(t, e = "Global", i = {}) {
    this.__fire(this.map, "pm:globaldragmodetoggled", { enabled: t, map: this.map }, e, i);
  }, _fireGlobalEditModeToggled(t, e = "Global", i = {}) {
    this.__fire(this.map, "pm:globaleditmodetoggled", { enabled: t, map: this.map }, e, i);
  }, _fireGlobalRemovalModeToggled(t, e = "Global", i = {}) {
    this.__fire(this.map, "pm:globalremovalmodetoggled", { enabled: t, map: this.map }, e, i);
  }, _fireGlobalCutModeToggled(t = "Global", e = {}) {
    this.__fire(this._map, "pm:globalcutmodetoggled", { enabled: !!this._enabled, map: this._map }, t, e);
  }, _fireGlobalDrawModeToggled(t = "Global", e = {}) {
    this.__fire(this._map, "pm:globaldrawmodetoggled", { enabled: this._enabled, shape: this._shape, map: this._map }, t, e);
  }, _fireGlobalRotateModeToggled(t = "Global", e = {}) {
    this.__fire(this.map, "pm:globalrotatemodetoggled", { enabled: this.globalRotateModeEnabled(), map: this.map }, t, e);
  }, _fireRemoveLayerGroup(t, e = t, i = "Edit", r = {}) {
    this.__fire(t, "pm:remove", { layer: e, shape: void 0 }, i, r);
  }, _fireKeyeventEvent(t, e, i, r = "Global", n = {}) {
    this.__fire(this.map, "pm:keyevent", { event: t, eventType: e, focusOn: i }, r, n);
  }, __fire(t, e, i, r, n = {}) {
    i = (0, go.default)(i, n, { source: r }), L.PM.Utils._fireEvent(t, e, i);
  } }, Tt = bg;
  var vg = () => ({ _lastEvents: { keydown: void 0, keyup: void 0, current: void 0 }, _initKeyListener(t) {
    this.map = t, L.DomEvent.on(document, "keydown keyup", this._onKeyListener, this), L.DomEvent.on(window, "blur", this._onBlur, this), t.once("unload", this._unbindKeyListenerEvents, this);
  }, _unbindKeyListenerEvents() {
    L.DomEvent.off(document, "keydown keyup", this._onKeyListener, this), L.DomEvent.off(window, "blur", this._onBlur, this);
  }, _onKeyListener(t) {
    let e = "document";
    this.map.getContainer().contains(t.target) && (e = "map");
    let i = { event: t, eventType: t.type, focusOn: e };
    this._lastEvents[t.type] = i, this._lastEvents.current = i, this.map.pm._fireKeyeventEvent(t, t.type, e);
  }, _onBlur(t) {
    t.altKey = false;
    let e = { event: t, eventType: t.type, focusOn: "document" };
    this._lastEvents[t.type] = e, this._lastEvents.current = e;
  }, getLastKeyEvent(t = "current") {
    return this._lastEvents[t];
  }, isShiftKeyPressed() {
    return this._lastEvents.current?.event.shiftKey;
  }, isAltKeyPressed() {
    return this._lastEvents.current?.event.altKey;
  }, isCtrlKeyPressed() {
    return this._lastEvents.current?.event.ctrlKey;
  }, isMetaKeyPressed() {
    return this._lastEvents.current?.event.metaKey;
  }, getPressedKey() {
    return this._lastEvents.current?.event.key;
  } }), mo = vg;
  var wi = xt(Le());
  function V(t) {
    let e = L.PM.activeLang;
    return (0, wi.default)(Nt[e], t) || (0, wi.default)(Nt.en, t) || t;
  }
  function be(t) {
    for (let e = 0; e < t.length; e += 1) {
      let i = t[e];
      if (Array.isArray(i)) {
        if (be(i))
          return true;
      } else if (i != null && i !== "")
        return true;
    }
    return false;
  }
  function ve(t) {
    return t.reduce((e, i) => {
      if (i.length !== 0) {
        let r = Array.isArray(i) ? ve(i) : i;
        Array.isArray(r) ? r.length !== 0 && e.push(r) : e.push(r);
      }
      return e;
    }, []);
  }
  function sm(t, e, i) {
    let r = { a: L.CRS.Earth.R, b: 63567523142e-4, f: 0.0033528106647474805 }, { a: n, b: s, f: a } = r, o = t.lng, l = t.lat, u = i, f = Math.PI, d = e * f / 180, P = Math.sin(d), E = Math.cos(d), T = (1 - a) * Math.tan(l * f / 180), G = 1 / Math.sqrt(1 + T * T), _ = T * G, x = Math.atan2(T, E), b = G * P, R = 1 - b * b, D = R * (n * n - s * s) / (s * s), O = 1 + D / 16384 * (4096 + D * (-768 + D * (320 - 175 * D))), A = D / 1024 * (256 + D * (-128 + D * (74 - 47 * D))), q = u / (s * O), h = 2 * Math.PI, c, p, y;
    for (; Math.abs(q - h) > 1e-12; ) {
      c = Math.cos(2 * x + q), p = Math.sin(q), y = Math.cos(q);
      let B = A * p * (c + A / 4 * (y * (-1 + 2 * c * c) - A / 6 * c * (-3 + 4 * p * p) * (-3 + 4 * c * c)));
      h = q, q = u / (s * O) + B;
    }
    let g = _ * p - G * y * E, k = Math.atan2(_ * y + G * p * E, (1 - a) * Math.sqrt(b * b + g * g)), C = Math.atan2(p * P, G * y - _ * p * E), m = a / 16 * R * (4 + a * (4 - 3 * R)), v = C - (1 - m) * a * b * (q + m * p * (c + m * y * (-1 + 2 * c * c))), w = o + v * 180 / f, M = k * 180 / f;
    return L.latLng(w, M);
  }
  function Ci(t, e, i, r, n = true) {
    let s, a, o, l = [];
    for (let u = 0; u < i; u += 1) {
      if (n)
        s = u * 360 / i + r, a = sm(t, s, e), o = L.latLng(a.lng, a.lat);
      else {
        let f = t.lat + Math.cos(2 * u * Math.PI / i) * e, d = t.lng + Math.sin(2 * u * Math.PI / i) * e;
        o = L.latLng(f, d);
      }
      l.push(o);
    }
    return l;
  }
  function am(t, e, i) {
    e = (e + 360) % 360;
    let r = Math.PI / 180, n = 180 / Math.PI, { R: s } = L.CRS.Earth, a = t.lng * r, o = t.lat * r, l = e * r, u = Math.sin(o), f = Math.cos(o), d = Math.cos(i / s), P = Math.sin(i / s), E = Math.asin(u * d + f * P * Math.cos(l)), T = a + Math.atan2(Math.sin(l) * P * f, d - u * Math.sin(E));
    T *= n;
    let G = T - 360, _ = T < -180 ? T + 360 : T;
    return T = T > 180 ? G : _, L.latLng([E * n, T]);
  }
  function ke(t, e, i) {
    let r = t.latLngToContainerPoint(e), n = t.latLngToContainerPoint(i), s = Math.atan2(n.y - r.y, n.x - r.x) * 180 / Math.PI + 90;
    return s += s < 0 ? 360 : 0, s;
  }
  function te(t, e, i, r) {
    let n = ke(t, e, i);
    return am(e, n, r);
  }
  function jo(t, e, i = "asc") {
    if (!e || Object.keys(e).length === 0)
      return (l, u) => l - u;
    let r = Object.keys(e), n, s = r.length - 1, a = {};
    for (; s >= 0; )
      n = r[s], a[n.toLowerCase()] = e[n], s -= 1;
    function o(l) {
      if (l instanceof L.Marker)
        return "Marker";
      if (l instanceof L.Circle)
        return "Circle";
      if (l instanceof L.CircleMarker)
        return "CircleMarker";
      if (l instanceof L.Rectangle)
        return "Rectangle";
      if (l instanceof L.Polygon)
        return "Polygon";
      if (l instanceof L.Polyline)
        return "Line";
    }
    return (l, u) => {
      let f, d;
      if (t === "instanceofShape") {
        if (f = o(l.layer).toLowerCase(), d = o(u.layer).toLowerCase(), !f || !d)
          return 0;
      } else {
        if (!l.hasOwnProperty(t) || !u.hasOwnProperty(t))
          return 0;
        f = l[t].toLowerCase(), d = u[t].toLowerCase();
      }
      let P = f in a ? a[f] : Number.MAX_SAFE_INTEGER, E = d in a ? a[d] : Number.MAX_SAFE_INTEGER, T = 0;
      return P < E ? T = -1 : P > E && (T = 1), i === "desc" ? T * -1 : T;
    };
  }
  function vt(t, e = t.getLatLngs()) {
    return t instanceof L.Polygon ? L.polygon(e).getLatLngs() : L.polyline(e).getLatLngs();
  }
  function Ei(t, e) {
    if (e.options.crs?.projection?.MAX_LATITUDE) {
      let i = e.options.crs?.projection?.MAX_LATITUDE;
      t.lat = Math.max(Math.min(i, t.lat), -i);
    }
    return t;
  }
  function Rt(t) {
    return t.options.renderer || t._map && (t._map._getPaneRenderer(t.options.pane) || t._map.options.renderer || t._map._renderer) || t._renderer;
  }
  var om = L.Class.extend({ includes: [uo, co, po, fo, Tt], initialize(t) {
    this.map = t, this.Draw = new L.PM.Draw(t), this.Toolbar = new L.PM.Toolbar(t), this.Keyboard = mo(), this.globalOptions = { snappable: true, layerGroup: void 0, snappingOrder: ["Marker", "CircleMarker", "Circle", "Line", "Polygon", "Rectangle"], panes: { vertexPane: "markerPane", layerPane: "overlayPane", markerPane: "markerPane" }, draggable: true }, this.Keyboard._initKeyListener(t);
  }, setLang(t = "en", e, i = "en") {
    let r = L.PM.activeLang;
    e && (Nt[t] = (0, Pi.default)(Nt[i], e)), L.PM.activeLang = t, this.map.pm.Toolbar.reinit(), this._fireLangChange(r, t, i, Nt[t]);
  }, addControls(t) {
    this.Toolbar.addControls(t);
  }, removeControls() {
    this.Toolbar.removeControls();
  }, toggleControls() {
    this.Toolbar.toggleControls();
  }, controlsVisible() {
    return this.Toolbar.isVisible;
  }, enableDraw(t = "Polygon", e) {
    t === "Poly" && (t = "Polygon"), this.Draw.enable(t, e);
  }, disableDraw(t = "Polygon") {
    t === "Poly" && (t = "Polygon"), this.Draw.disable(t);
  }, setPathOptions(t, e = {}) {
    let i = e.ignoreShapes || [], r = e.merge || false;
    this.map.pm.Draw.shapes.forEach((n) => {
      i.indexOf(n) === -1 && this.map.pm.Draw[n].setPathOptions(t, r);
    });
  }, getGlobalOptions() {
    return this.globalOptions;
  }, setGlobalOptions(t) {
    let e = (0, Pi.default)(this.globalOptions, t);
    e.editable && (e.resizeableCircleMarker = e.editable, delete e.editable);
    let i = false;
    this.map.pm.Draw.CircleMarker.enabled() && !!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker != !!e.resizeableCircleMarker && (this.map.pm.Draw.CircleMarker.disable(), i = true);
    let r = false;
    this.map.pm.Draw.Circle.enabled() && !!this.map.pm.Draw.Circle.options.resizableCircle != !!e.resizableCircle && (this.map.pm.Draw.Circle.disable(), r = true), this.map.pm.Draw.shapes.forEach((s) => {
      this.map.pm.Draw[s].setOptions(e);
    }), i && this.map.pm.Draw.CircleMarker.enable(), r && this.map.pm.Draw.Circle.enable(), L.PM.Utils.findLayers(this.map).forEach((s) => {
      s.pm.setOptions(e);
    }), this.map.fire("pm:globaloptionschanged"), this.globalOptions = e, this.applyGlobalOptions();
  }, applyGlobalOptions() {
    L.PM.Utils.findLayers(this.map).forEach((e) => {
      e.pm.enabled() && e.pm.applyOptions();
    });
  }, globalDrawModeEnabled() {
    return !!this.Draw.getActiveShape();
  }, globalCutModeEnabled() {
    return !!this.Draw.Cut.enabled();
  }, enableGlobalCutMode(t) {
    return this.Draw.Cut.enable(t);
  }, toggleGlobalCutMode(t) {
    return this.Draw.Cut.toggle(t);
  }, disableGlobalCutMode() {
    return this.Draw.Cut.disable();
  }, getGeomanLayers(t = false) {
    let e = L.PM.Utils.findLayers(this.map);
    if (!t)
      return e;
    let i = L.featureGroup();
    return i._pmTempLayer = true, e.forEach((r) => {
      i.addLayer(r);
    }), i;
  }, getGeomanDrawLayers(t = false) {
    let e = L.PM.Utils.findLayers(this.map).filter((r) => r._drawnByGeoman === true);
    if (!t)
      return e;
    let i = L.featureGroup();
    return i._pmTempLayer = true, e.forEach((r) => {
      i.addLayer(r);
    }), i;
  }, _getContainingLayer() {
    return this.globalOptions.layerGroup && this.globalOptions.layerGroup instanceof L.LayerGroup ? this.globalOptions.layerGroup : this.map;
  }, _isCRSSimple() {
    return this.map.options.crs === L.CRS.Simple;
  }, _touchEventCounter: 0, _addTouchEvents(t) {
    this._touchEventCounter === 0 && (L.DomEvent.on(t, "touchmove", this._canvasTouchMove, this), L.DomEvent.on(t, "touchstart touchend touchcancel", this._canvasTouchClick, this)), this._touchEventCounter += 1;
  }, _removeTouchEvents(t) {
    this._touchEventCounter === 1 && (L.DomEvent.off(t, "touchmove", this._canvasTouchMove, this), L.DomEvent.off(t, "touchstart touchend touchcancel", this._canvasTouchClick, this)), this._touchEventCounter = this._touchEventCounter <= 1 ? 0 : this._touchEventCounter - 1;
  }, _canvasTouchMove(t) {
    Rt(this.map)._onMouseMove(this._createMouseEvent("mousemove", t));
  }, _canvasTouchClick(t) {
    let e = "";
    t.type === "touchstart" || t.type === "pointerdown" ? e = "mousedown" : (t.type === "touchend" || t.type === "pointerup" || t.type === "touchcancel" || t.type === "pointercancel") && (e = "mouseup"), e && Rt(this.map)._onClick(this._createMouseEvent(e, t));
  }, _createMouseEvent(t, e) {
    let i, r = e.touches[0] || e.changedTouches[0];
    try {
      i = new MouseEvent(t, { bubbles: e.bubbles, cancelable: e.cancelable, view: e.view, detail: r.detail, screenX: r.screenX, screenY: r.screenY, clientX: r.clientX, clientY: r.clientY, ctrlKey: e.ctrlKey, altKey: e.altKey, shiftKey: e.shiftKey, metaKey: e.metaKey, button: e.button, relatedTarget: e.relatedTarget });
    } catch {
      i = document.createEvent("MouseEvents"), i.initMouseEvent(t, e.bubbles, e.cancelable, e.view, r.detail, r.screenX, r.screenY, r.clientX, r.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);
    }
    return i;
  } }), Ko = om;
  var lm = L.Control.extend({ includes: [Tt], options: { position: "topleft", disableByOtherButtons: true }, initialize(t) {
    this._button = L.Util.extend({}, this.options, t);
  }, onAdd(t) {
    return this._map = t, this._map.pm.Toolbar.options.oneBlock ? this._container = this._map.pm.Toolbar._createContainer(this.options.position) : this._button.tool === "edit" ? this._container = this._map.pm.Toolbar.editContainer : this._button.tool === "options" ? this._container = this._map.pm.Toolbar.optionsContainer : this._button.tool === "custom" ? this._container = this._map.pm.Toolbar.customContainer : this._container = this._map.pm.Toolbar.drawContainer, this._renderButton(), this._container;
  }, _renderButton() {
    let t = this.buttonsDomNode;
    this.buttonsDomNode = this._makeButton(this._button), t ? t.replaceWith(this.buttonsDomNode) : this._container.appendChild(this.buttonsDomNode);
  }, onRemove() {
    return this.buttonsDomNode.remove(), this._container;
  }, getText() {
    return this._button.text;
  }, getIconUrl() {
    return this._button.iconUrl;
  }, destroy() {
    this._button = {}, this._update();
  }, toggle(t) {
    return typeof t == "boolean" ? this._button.toggleStatus = t : this._button.toggleStatus = !this._button.toggleStatus, this._applyStyleClasses(), this._button.toggleStatus;
  }, toggled() {
    return this._button.toggleStatus;
  }, onCreate() {
    this.toggle(false);
  }, disable() {
    this.toggle(false), this._button.disabled = true, this._updateDisabled();
  }, enable() {
    this._button.disabled = false, this._updateDisabled();
  }, _triggerClick(t) {
    t && t.preventDefault(), !this._button.disabled && (this._button.onClick(t, { button: this, event: t }), this._clicked(t), this._button.afterClick(t, { button: this, event: t }));
  }, _makeButton(t) {
    let e = this.options.position.indexOf("right") > -1 ? "pos-right" : "", i = L.DomUtil.create("div", `button-container  ${e}`, this._container);
    t.title && i.setAttribute("title", t.title);
    let r = L.DomUtil.create("a", "leaflet-buttons-control-button", i);
    r.setAttribute("role", "button"), r.setAttribute("tabindex", "0"), r.href = "#";
    let n = L.DomUtil.create("div", `leaflet-pm-actions-container ${e}`, i), s = t.actions, a = { cancel: { text: V("actions.cancel"), title: V("actions.cancel"), onClick() {
      this._triggerClick();
    } }, finishMode: { text: V("actions.finish"), title: V("actions.finish"), onClick() {
      this._triggerClick();
    } }, removeLastVertex: { text: V("actions.removeLastVertex"), title: V("actions.removeLastVertex"), onClick() {
      this._map.pm.Draw[t.jsClass]._removeLastVertex();
    } }, finish: { text: V("actions.finish"), title: V("actions.finish"), onClick(l) {
      this._map.pm.Draw[t.jsClass]._finishShape(l);
    } } };
    s.forEach((l) => {
      let u = typeof l == "string" ? l : l.name, f;
      if (a[u])
        f = a[u];
      else if (l.text)
        f = l;
      else
        return;
      let d = L.DomUtil.create("a", `leaflet-pm-action ${e} action-${u}`, n);
      if (d.setAttribute("role", "button"), d.setAttribute("tabindex", "0"), d.href = "#", f.title && (d.title = f.title), d.innerHTML = f.text, L.DomEvent.disableClickPropagation(d), L.DomEvent.on(d, "click", L.DomEvent.stop), !t.disabled && f.onClick) {
        let P = (E) => {
          E.preventDefault();
          let T = "", { buttons: G } = this._map.pm.Toolbar;
          for (let _ in G)
            if (G[_]._button === t) {
              T = _;
              break;
            }
          this._fireActionClick(f, T, t);
        };
        L.DomEvent.addListener(d, "click", P, this), L.DomEvent.addListener(d, "click", f.onClick, this);
      }
    }), t.toggleStatus && L.DomUtil.addClass(i, "active");
    let o = L.DomUtil.create("div", "control-icon", r);
    return t.iconUrl && o.setAttribute("src", t.iconUrl), t.className && L.DomUtil.addClass(o, t.className), L.DomEvent.disableClickPropagation(r), L.DomEvent.on(r, "click", L.DomEvent.stop), t.disabled || (L.DomEvent.addListener(r, "click", this._onBtnClick, this), L.DomEvent.addListener(r, "click", this._triggerClick, this)), t.disabled && (L.DomUtil.addClass(r, "pm-disabled"), r.setAttribute("aria-disabled", "true")), i;
  }, _applyStyleClasses() {
    this._container && (!this._button.toggleStatus || this._button.cssToggle === false ? (L.DomUtil.removeClass(this.buttonsDomNode, "active"), L.DomUtil.removeClass(this._container, "activeChild")) : (L.DomUtil.addClass(this.buttonsDomNode, "active"), L.DomUtil.addClass(this._container, "activeChild")));
  }, _onBtnClick() {
    if (this._button.disabled)
      return;
    this._button.disableOtherButtons && this._map.pm.Toolbar.triggerClickOnToggledButtons(this);
    let t = "", { buttons: e } = this._map.pm.Toolbar;
    for (let i in e)
      if (e[i]._button === this._button) {
        t = i;
        break;
      }
    this._fireButtonClick(t, this._button);
  }, _clicked() {
    this._button.doToggle && this.toggle();
  }, _updateDisabled() {
    if (!this._container)
      return;
    let t = "pm-disabled", e = this.buttonsDomNode.children[0];
    this._button.disabled ? (L.DomUtil.addClass(e, t), e.setAttribute("aria-disabled", "true")) : (L.DomUtil.removeClass(e, t), e.setAttribute("aria-disabled", "false"));
  } }), Ho = lm;
  L.Control.PMButton = Ho;
  var hm = L.Class.extend({ options: { drawMarker: true, drawRectangle: true, drawPolyline: true, drawPolygon: true, drawCircle: true, drawCircleMarker: true, drawText: true, editMode: true, dragMode: true, cutPolygon: true, removalMode: true, rotateMode: true, snappingOption: true, drawControls: true, editControls: true, optionsControls: true, customControls: true, oneBlock: false, position: "topleft", positions: { draw: "", edit: "", options: "", custom: "" } }, customButtons: [], initialize(t) {
    this.customButtons = [], this.options.positions = { draw: "", edit: "", options: "", custom: "" }, this.init(t);
  }, reinit() {
    let t = this.isVisible;
    this.removeControls(), this._defineButtons(), t && this.addControls();
  }, init(t) {
    this.map = t, this.buttons = {}, this.isVisible = false, this.drawContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"), this.editContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"), this.optionsContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"), this.customContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"), this._defineButtons();
  }, _createContainer(t) {
    let e = `${t}Container`;
    return this[e] || (this[e] = L.DomUtil.create("div", `leaflet-pm-toolbar leaflet-pm-${t} leaflet-bar leaflet-control`)), this[e];
  }, getButtons() {
    return this.buttons;
  }, addControls(t = this.options) {
    typeof t.editPolygon < "u" && (t.editMode = t.editPolygon), typeof t.deleteLayer < "u" && (t.removalMode = t.deleteLayer), L.Util.setOptions(this, t), this.applyIconStyle(), this.isVisible = true, this._showHideButtons();
  }, applyIconStyle() {
    let t = this.getButtons(), e = { geomanIcons: { drawMarker: "control-icon leaflet-pm-icon-marker", drawPolyline: "control-icon leaflet-pm-icon-polyline", drawRectangle: "control-icon leaflet-pm-icon-rectangle", drawPolygon: "control-icon leaflet-pm-icon-polygon", drawCircle: "control-icon leaflet-pm-icon-circle", drawCircleMarker: "control-icon leaflet-pm-icon-circle-marker", editMode: "control-icon leaflet-pm-icon-edit", dragMode: "control-icon leaflet-pm-icon-drag", cutPolygon: "control-icon leaflet-pm-icon-cut", removalMode: "control-icon leaflet-pm-icon-delete", drawText: "control-icon leaflet-pm-icon-text" } };
    for (let i in t) {
      let r = t[i];
      L.Util.setOptions(r, { className: e.geomanIcons[i] });
    }
  }, removeControls() {
    let t = this.getButtons();
    for (let e in t)
      t[e].remove();
    this.isVisible = false;
  }, toggleControls(t = this.options) {
    this.isVisible ? this.removeControls() : this.addControls(t);
  }, _addButton(t, e) {
    return this.buttons[t] = e, this.options[t] = !!this.options[t] || false, this.buttons[t];
  }, triggerClickOnToggledButtons(t) {
    for (let e in this.buttons) {
      let i = this.buttons[e];
      i._button.disableByOtherButtons && i !== t && i.toggled() && i._triggerClick();
    }
  }, toggleButton(t, e, i = true) {
    return t === "editPolygon" && (t = "editMode"), t === "deleteLayer" && (t = "removalMode"), i && this.triggerClickOnToggledButtons(this.buttons[t]), this.buttons[t] ? this.buttons[t].toggle(e) : false;
  }, _defineButtons() {
    let t = { className: "control-icon leaflet-pm-icon-marker", title: V("buttonTitles.drawMarkerButton"), jsClass: "Marker", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, e = { title: V("buttonTitles.drawPolyButton"), className: "control-icon leaflet-pm-icon-polygon", jsClass: "Polygon", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["finish", "removeLastVertex", "cancel"] }, i = { className: "control-icon leaflet-pm-icon-polyline", title: V("buttonTitles.drawLineButton"), jsClass: "Line", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["finish", "removeLastVertex", "cancel"] }, r = { title: V("buttonTitles.drawCircleButton"), className: "control-icon leaflet-pm-icon-circle", jsClass: "Circle", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, n = { title: V("buttonTitles.drawCircleMarkerButton"), className: "control-icon leaflet-pm-icon-circle-marker", jsClass: "CircleMarker", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, s = { title: V("buttonTitles.drawRectButton"), className: "control-icon leaflet-pm-icon-rectangle", jsClass: "Rectangle", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, a = { title: V("buttonTitles.editButton"), className: "control-icon leaflet-pm-icon-edit", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalEditMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, o = { title: V("buttonTitles.dragButton"), className: "control-icon leaflet-pm-icon-drag", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalDragMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, l = { title: V("buttonTitles.cutButton"), className: "control-icon leaflet-pm-icon-cut", jsClass: "Cut", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle({ snappable: true, cursorMarker: true, allowSelfIntersection: false });
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finish", "removeLastVertex", "cancel"] }, u = { title: V("buttonTitles.deleteButton"), className: "control-icon leaflet-pm-icon-delete", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalRemovalMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, f = { title: V("buttonTitles.rotateButton"), className: "control-icon leaflet-pm-icon-rotate", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalRotateMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, d = { className: "control-icon leaflet-pm-icon-text", title: V("buttonTitles.drawTextButton"), jsClass: "Text", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] };
    this._addButton("drawMarker", new L.Control.PMButton(t)), this._addButton("drawPolyline", new L.Control.PMButton(i)), this._addButton("drawRectangle", new L.Control.PMButton(s)), this._addButton("drawPolygon", new L.Control.PMButton(e)), this._addButton("drawCircle", new L.Control.PMButton(r)), this._addButton("drawCircleMarker", new L.Control.PMButton(n)), this._addButton("drawText", new L.Control.PMButton(d)), this._addButton("editMode", new L.Control.PMButton(a)), this._addButton("dragMode", new L.Control.PMButton(o)), this._addButton("cutPolygon", new L.Control.PMButton(l)), this._addButton("removalMode", new L.Control.PMButton(u)), this._addButton("rotateMode", new L.Control.PMButton(f));
  }, _showHideButtons() {
    if (!this.isVisible)
      return;
    this.removeControls(), this.isVisible = true;
    let t = this.getButtons(), e = [];
    this.options.drawControls === false && (e = e.concat(Object.keys(t).filter((i) => !t[i]._button.tool))), this.options.editControls === false && (e = e.concat(Object.keys(t).filter((i) => t[i]._button.tool === "edit"))), this.options.optionsControls === false && (e = e.concat(Object.keys(t).filter((i) => t[i]._button.tool === "options"))), this.options.customControls === false && (e = e.concat(Object.keys(t).filter((i) => t[i]._button.tool === "custom")));
    for (let i in t)
      if (this.options[i] && e.indexOf(i) === -1) {
        let r = t[i]._button.tool;
        r || (r = "draw"), t[i].setPosition(this._getBtnPosition(r)), t[i].addTo(this.map);
      }
  }, _getBtnPosition(t) {
    return this.options.positions && this.options.positions[t] ? this.options.positions[t] : this.options.position;
  }, setBlockPosition(t, e) {
    this.options.positions[t] = e, this._showHideButtons(), this.changeControlOrder();
  }, getBlockPositions() {
    return this.options.positions;
  }, copyDrawControl(t, e) {
    if (e)
      typeof e != "object" && (e = { name: e });
    else
      throw new TypeError("Button has no name");
    let i = this._btnNameMapping(t);
    if (!e.name)
      throw new TypeError("Button has no name");
    if (this.buttons[e.name])
      throw new TypeError("Button with this name already exists");
    let r = this.map.pm.Draw.createNewDrawInstance(e.name, i);
    e = { ...this.buttons[i]._button, ...e };
    let s = this.createCustomControl(e);
    return { drawInstance: r, control: s };
  }, createCustomControl(t) {
    if (!t.name)
      throw new TypeError("Button has no name");
    if (this.buttons[t.name])
      throw new TypeError("Button with this name already exists");
    t.onClick || (t.onClick = () => {
    }), t.afterClick || (t.afterClick = () => {
    }), t.toggle !== false && (t.toggle = true), t.block && (t.block = t.block.toLowerCase()), (!t.block || t.block === "draw") && (t.block = ""), t.className ? t.className.indexOf("control-icon") === -1 && (t.className = `control-icon ${t.className}`) : t.className = "control-icon";
    let e = { tool: t.block, className: t.className, title: t.title || "", jsClass: t.name, onClick: t.onClick, afterClick: t.afterClick, doToggle: t.toggle, toggleStatus: false, disableOtherButtons: t.disableOtherButtons ?? true, disableByOtherButtons: t.disableByOtherButtons ?? true, cssToggle: t.toggle, position: this.options.position, actions: t.actions || [], disabled: !!t.disabled };
    this.options[t.name] !== false && (this.options[t.name] = true);
    let i = this._addButton(t.name, new L.Control.PMButton(e));
    return this.changeControlOrder(), i;
  }, controlExists(t) {
    return !!this.getButton(t);
  }, getButton(t) {
    return this.getButtons()[t];
  }, getButtonsInBlock(t) {
    let e = {};
    if (t)
      for (let i in this.getButtons()) {
        let r = this.getButtons()[i];
        (r._button.tool === t || t === "draw" && !r._button.tool) && (e[i] = r);
      }
    return e;
  }, changeControlOrder(t = []) {
    let e = this._shapeMapping(), i = [];
    t.forEach((u) => {
      e[u] ? i.push(e[u]) : i.push(u);
    });
    let r = this.getButtons(), n = {};
    i.forEach((u) => {
      r[u] && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => !r[u]._button.tool).forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => r[u]._button.tool === "edit").forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => r[u]._button.tool === "options").forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => r[u]._button.tool === "custom").forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), this.map.pm.Toolbar.buttons = n, this._showHideButtons();
  }, getControlOrder() {
    let t = this.getButtons(), e = [];
    for (let i in t)
      e.push(i);
    return e;
  }, changeActionsOfControl(t, e) {
    let i = this._btnNameMapping(t);
    if (!i)
      throw new TypeError("No name passed");
    if (!e)
      throw new TypeError("No actions passed");
    if (!this.buttons[i])
      throw new TypeError("Button with this name not exists");
    this.buttons[i]._button.actions = e, this.changeControlOrder();
  }, setButtonDisabled(t, e) {
    let i = this._btnNameMapping(t);
    e ? this.buttons[i].disable() : this.buttons[i].enable();
  }, _shapeMapping() {
    return { Marker: "drawMarker", Circle: "drawCircle", Polygon: "drawPolygon", Rectangle: "drawRectangle", Polyline: "drawPolyline", Line: "drawPolyline", CircleMarker: "drawCircleMarker", Edit: "editMode", Drag: "dragMode", Cut: "cutPolygon", Removal: "removalMode", Rotate: "rotateMode", Text: "drawText" };
  }, _btnNameMapping(t) {
    let e = this._shapeMapping();
    return e[t] ? e[t] : t;
  } }), Xo = hm;
  var Yo = xt(Ne());
  var um = { _initSnappableMarkers() {
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, this._assignEvents(this._markers), this._layer.off("pm:dragstart", this._unsnap, this), this._layer.on("pm:dragstart", this._unsnap, this);
  }, _disableSnapping() {
    this._layer.off("pm:dragstart", this._unsnap, this);
  }, _assignEvents(t) {
    t.forEach((e) => {
      if (Array.isArray(e)) {
        this._assignEvents(e);
        return;
      }
      e.off("drag", this._handleSnapping, this), e.on("drag", this._handleSnapping, this), e.off("dragend", this._cleanupSnapping, this), e.on("dragend", this._cleanupSnapping, this);
    });
  }, _cleanupSnapping(t) {
    if (t) {
      let e = t.target;
      e._snapped = false;
    }
    delete this._snapList, this.throttledList && (this._map.off("layeradd", this.throttledList, this), this.throttledList = void 0), this._map.off("layerremove", this._handleSnapLayerRemoval, this), this.debugIndicatorLines && this.debugIndicatorLines.forEach((e) => {
      e.remove();
    });
  }, _handleThrottleSnapping() {
    this.throttledList && this._createSnapList();
  }, _handleSnapping(t) {
    let e = t.target;
    if (e._snapped = false, this.throttledList || (this.throttledList = L.Util.throttle(this._handleThrottleSnapping, 100, this)), t?.originalEvent?.altKey || this._map?.pm?.Keyboard.isAltKeyPressed() || (this._snapList === void 0 && (this._createSnapList(), this._map.off("layeradd", this.throttledList, this), this._map.on("layeradd", this.throttledList, this)), this._snapList.length <= 0))
      return false;
    let i = this._calcClosestLayer(e.getLatLng(), this._snapList);
    if (Object.keys(i).length === 0)
      return false;
    let r = i.layer instanceof L.Marker || i.layer instanceof L.CircleMarker || !this.options.snapSegment, n;
    r ? n = i.latlng : n = this._checkPrioritiySnapping(i);
    let s = this.options.snapDistance, a = { marker: e, shape: this._shape, snapLatLng: n, segment: i.segment, layer: this._layer, workingLayer: this._layer, layerInteractedWith: i.layer, distance: i.distance };
    if (this._fireSnapDrag(a.marker, a), this._fireSnapDrag(this._layer, a), i.distance < s) {
      e._orgLatLng = e.getLatLng(), e.setLatLng(n), e._snapped = true, e._snapInfo = a;
      let o = () => {
        this._snapLatLng = n, this._fireSnap(e, a), this._fireSnap(this._layer, a);
      }, l = this._snapLatLng || {}, u = n || {};
      (l.lat !== u.lat || l.lng !== u.lng) && o();
    } else
      this._snapLatLng && (this._unsnap(a), e._snapped = false, e._snapInfo = void 0, this._fireUnsnap(a.marker, a), this._fireUnsnap(this._layer, a));
    return true;
  }, _createSnapList() {
    let t = [], e = [], i = this._map;
    i.off("layerremove", this._handleSnapLayerRemoval, this), i.on("layerremove", this._handleSnapLayerRemoval, this), i.eachLayer((r) => {
      if ((r instanceof L.Polyline || r instanceof L.Marker || r instanceof L.CircleMarker || r instanceof L.ImageOverlay) && r.options.snapIgnore !== true) {
        if (r.options.snapIgnore === void 0 && (!L.PM.optIn && r.options.pmIgnore === true || L.PM.optIn && r.options.pmIgnore !== false))
          return;
        (r instanceof L.Circle || r instanceof L.CircleMarker) && r.pm && r.pm._hiddenPolyCircle ? t.push(r.pm._hiddenPolyCircle) : r instanceof L.ImageOverlay && (r = L.rectangle(r.getBounds())), t.push(r);
        let n = L.polyline([], { color: "red", pmIgnore: true });
        n._pmTempLayer = true, e.push(n), (r instanceof L.Circle || r instanceof L.CircleMarker) && e.push(n);
      }
    }), t = t.filter((r) => this._layer !== r), t = t.filter((r) => r._latlng || r._latlngs && be(r._latlngs)), t = t.filter((r) => !r._pmTempLayer), this._otherSnapLayers ? (this._otherSnapLayers.forEach(() => {
      let r = L.polyline([], { color: "red", pmIgnore: true });
      r._pmTempLayer = true, e.push(r);
    }), this._snapList = t.concat(this._otherSnapLayers)) : this._snapList = t, this.debugIndicatorLines = e;
  }, _handleSnapLayerRemoval({ layer: t }) {
    if (!t._leaflet_id)
      return;
    let e = this._snapList.findIndex((i) => i._leaflet_id === t._leaflet_id);
    e > -1 && this._snapList.splice(e, 1);
  }, _calcClosestLayer(t, e) {
    return this._calcClosestLayers(t, e, 1)[0];
  }, _calcClosestLayers(t, e, i = 1) {
    let r = [], n = {};
    e.forEach((a, o) => {
      if (a._parentCopy && a._parentCopy === this._layer)
        return;
      let l = this._calcLayerDistances(t, a);
      if (l.distance = Math.floor(l.distance), this.debugIndicatorLines) {
        if (!this.debugIndicatorLines[o]) {
          let u = L.polyline([], { color: "red", pmIgnore: true });
          u._pmTempLayer = true, this.debugIndicatorLines[o] = u;
        }
        this.debugIndicatorLines[o].setLatLngs([t, l.latlng]);
      }
      i === 1 && (n.distance === void 0 || l.distance - 5 <= n.distance) ? (l.distance + 5 < n.distance && (r = []), n = l, n.layer = a, r.push(n)) : i !== 1 && (n = {}, n = l, n.layer = a, r.push(n));
    }), i !== 1 && (r = r.sort((a, o) => a.distance - o.distance)), i === -1 && (i = r.length);
    let s = this._getClosestLayerByPriority(r, i);
    return L.Util.isArray(s) ? s : [s];
  }, _calcLayerDistances(t, e) {
    let i = this._map, r = e instanceof L.Marker || e instanceof L.CircleMarker, n = e instanceof L.Polygon, s = t;
    if (r) {
      let a = e.getLatLng();
      return { latlng: { ...a }, distance: this._getDistance(i, a, s) };
    }
    return this._calcLatLngDistances(s, e.getLatLngs(), i, n);
  }, _calcLatLngDistances(t, e, i, r = false) {
    let n, s, a, o = (l) => {
      l.forEach((u, f) => {
        if (Array.isArray(u)) {
          o(u);
          return;
        }
        if (this.options.snapSegment) {
          let d = u, P;
          r ? P = f + 1 === l.length ? 0 : f + 1 : P = f + 1 === l.length ? void 0 : f + 1;
          let E = l[P];
          if (E) {
            let T = this._getDistanceToSegment(i, t, d, E);
            (s === void 0 || T < s) && (s = T, a = [d, E]);
          }
        } else {
          let d = this._getDistance(i, t, u);
          (s === void 0 || d < s) && (s = d, n = u);
        }
      });
    };
    return o(e), this.options.snapSegment ? { latlng: { ...this._getClosestPointOnSegment(i, t, a[0], a[1]) }, segment: a, distance: s } : { latlng: n, distance: s };
  }, _getClosestLayerByPriority(t, e = 1) {
    t = t.sort((a, o) => a._leaflet_id - o._leaflet_id);
    let i = ["Marker", "CircleMarker", "Circle", "Line", "Polygon", "Rectangle"], r = this._map.pm.globalOptions.snappingOrder || [], n = 0, s = {};
    return r.concat(i).forEach((a) => {
      s[a] || (n += 1, s[a] = n);
    }), t.sort(jo("instanceofShape", s)), e === 1 ? t[0] || {} : t.slice(0, e);
  }, _checkPrioritiySnapping(t) {
    let e = this._map, i = t.segment[0], r = t.segment[1], n = t.latlng, s = this._getDistance(e, i, n), a = this._getDistance(e, r, n), o = s < a ? i : r, l = s < a ? s : a;
    if (this.options.snapMiddle) {
      let d = L.PM.Utils.calcMiddleLatLng(e, i, r), P = this._getDistance(e, d, n);
      P < s && P < a && (o = d, l = P);
    }
    let u = this.options.snapDistance, f;
    return l < u ? f = o : f = n, { ...f };
  }, _unsnap() {
    delete this._snapLatLng;
  }, _getClosestPointOnSegment(t, e, i, r) {
    let n = t.getMaxZoom();
    n === 1 / 0 && (n = t.getZoom());
    let s = t.project(e, n), a = t.project(i, n), o = t.project(r, n), l = L.LineUtil.closestPointOnSegment(s, a, o);
    return t.unproject(l, n);
  }, _getDistanceToSegment(t, e, i, r) {
    let n = t.latLngToLayerPoint(e), s = t.latLngToLayerPoint(i), a = t.latLngToLayerPoint(r);
    return L.LineUtil.pointToSegmentDistance(n, s, a);
  }, _getDistance(t, e, i) {
    return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(i));
  } }, Fe = um;
  var cm = L.Class.extend({ includes: [Fe, Tt], options: { snappable: true, snapDistance: 20, snapMiddle: false, allowSelfIntersection: true, tooltips: true, templineStyle: {}, hintlineStyle: { color: "#3388ff", dashArray: "5,5" }, pathOptions: null, cursorMarker: true, finishOn: null, markerStyle: { draggable: true, icon: L.icon() }, hideMiddleMarkers: false, minRadiusCircle: null, maxRadiusCircle: null, minRadiusCircleMarker: null, maxRadiusCircleMarker: null, resizeableCircleMarker: false, resizableCircle: true, markerEditable: true, continueDrawing: false, snapSegment: true, requireSnapToFinish: false, rectangleAngle: 0 }, setOptions(t) {
    L.Util.setOptions(this, t), this.setStyle(this.options);
  }, setStyle() {
  }, getOptions() {
    return this.options;
  }, initialize(t) {
    let e = new L.Icon.Default();
    e.options.tooltipAnchor = [0, 0], this.options.markerStyle.icon = e, this._map = t, this.shapes = ["Marker", "CircleMarker", "Line", "Polygon", "Rectangle", "Circle", "Cut", "Text"], this.shapes.forEach((i) => {
      this[i] = new L.PM.Draw[i](this._map);
    }), this.Marker.setOptions({ continueDrawing: true }), this.CircleMarker.setOptions({ continueDrawing: true });
  }, setPathOptions(t, e = false) {
    e ? this.options.pathOptions = (0, Yo.default)(this.options.pathOptions, t) : this.options.pathOptions = t;
  }, getShapes() {
    return this.shapes;
  }, getShape() {
    return this._shape;
  }, enable(t, e) {
    if (!t)
      throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);
    this.disable(), this[t].enable(e);
  }, disable() {
    this.shapes.forEach((t) => {
      this[t].disable();
    });
  }, addControls() {
    this.shapes.forEach((t) => {
      this[t].addButton();
    });
  }, getActiveShape() {
    let t;
    return this.shapes.forEach((e) => {
      this[e]._enabled && (t = e);
    }), t;
  }, _setGlobalDrawMode() {
    this._shape === "Cut" ? this._fireGlobalCutModeToggled() : this._fireGlobalDrawModeToggled();
    let t = [];
    this._map.eachLayer((e) => {
      (e instanceof L.Polyline || e instanceof L.Marker || e instanceof L.Circle || e instanceof L.CircleMarker || e instanceof L.ImageOverlay) && (e._pmTempLayer || t.push(e));
    }), this._enabled ? t.forEach((e) => {
      L.PM.Utils.disablePopup(e);
    }) : t.forEach((e) => {
      L.PM.Utils.enablePopup(e);
    });
  }, createNewDrawInstance(t, e) {
    let i = this._getShapeFromBtnName(e);
    if (this[t])
      throw new TypeError("Draw Type already exists");
    if (!L.PM.Draw[i])
      throw new TypeError(`There is no class L.PM.Draw.${i}`);
    return this[t] = new L.PM.Draw[i](this._map), this[t].toolbarButtonName = t, this[t]._shape = t, this.shapes.push(t), this[e] && this[t].setOptions(this[e].options), this[t].setOptions(this[t].options), this[t];
  }, _getShapeFromBtnName(t) {
    let e = { drawMarker: "Marker", drawCircle: "Circle", drawPolygon: "Polygon", drawPolyline: "Line", drawRectangle: "Rectangle", drawCircleMarker: "CircleMarker", editMode: "Edit", dragMode: "Drag", cutPolygon: "Cut", removalMode: "Removal", rotateMode: "Rotate", drawText: "Text" };
    return e[t] ? e[t] : this[t] ? this[t]._shape : t;
  }, _finishLayer(t) {
    t.pm && (t.pm.setOptions(this.options), t.pm._shape = this._shape, t.pm._map = this._map), this._addDrawnLayerProp(t);
  }, _addDrawnLayerProp(t) {
    t._drawnByGeoman = true;
  }, _setPane(t, e) {
    e === "layerPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.layerPane || "overlayPane" : e === "vertexPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.vertexPane || "markerPane" : e === "markerPane" && (t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.markerPane || "markerPane");
  }, _isFirstLayer() {
    return (this._map || this._layer._map).pm.getGeomanLayers().length === 0;
  } }), X = cm;
  X.Marker = X.extend({ initialize(t) {
    this._map = t, this._shape = "Marker", this.toolbarButtonName = "drawMarker";
  }, enable(t) {
    L.Util.setOptions(this, t), this._enabled = true, this._map.getContainer().classList.add("geoman-draw-cursor"), this._map.on("click", this._createMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._hintMarker = L.marker(this._map.getCenter(), this.options.markerStyle), this._setPane(this._hintMarker, "markerPane"), this._hintMarker._pmTempLayer = true, this._hintMarker.addTo(this._map), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.placeMarker"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._layer = this._hintMarker, this._map.on("mousemove", this._syncHintMarker, this), this.options.markerEditable && this._map.eachLayer((e) => {
      this.isRelevantMarker(e) && e.pm.enable();
    }), this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("click", this._createMarker, this), this._hintMarker.remove(), this._map.off("mousemove", this._syncHintMarker, this), this._map.eachLayer((t) => {
      this.isRelevantMarker(t) && t.pm.disable();
    }), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, isRelevantMarker(t) {
    return t instanceof L.Marker && t.pm && !t._pmTempLayer && !t.pm._initTextMarker;
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let e = t;
      e.target = this._hintMarker, this._handleSnapping(e);
    }
    this._fireChange(this._hintMarker.getLatLng(), "Draw");
  }, _createMarker(t) {
    if (!t.latlng || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = new L.Marker(e, this.options.markerStyle);
    this._setPane(i, "markerPane"), this._finishLayer(i), i.pm || (i.options.draggable = false), i.addTo(this._map.pm._getContainingLayer()), i.pm && this.options.markerEditable ? i.pm.enable() : i.dragging && i.dragging.disable(), this._fireCreate(i), this._cleanupSnapping(), this.options.continueDrawing || this.disable();
  }, setStyle() {
    this.options.markerStyle?.icon && this._hintMarker?.setIcon(this.options.markerStyle.icon);
  } });
  var at = 63710088e-1, Jo = { centimeters: at * 100, centimetres: at * 100, degrees: at / 111325, feet: at * 3.28084, inches: at * 39.37, kilometers: at / 1e3, kilometres: at / 1e3, meters: at, metres: at, miles: at / 1609.344, millimeters: at * 1e3, millimetres: at * 1e3, nauticalmiles: at / 1852, radians: 1, yards: at * 1.0936 }, Qb = { centimeters: 100, centimetres: 100, degrees: 1 / 111325, feet: 3.28084, inches: 39.37, kilometers: 1 / 1e3, kilometres: 1 / 1e3, meters: 1, metres: 1, miles: 1 / 1609.344, millimeters: 1e3, millimetres: 1e3, nauticalmiles: 1 / 1852, radians: 1 / at, yards: 1.0936133 };
  function Dt(t, e, i) {
    i === void 0 && (i = {});
    var r = { type: "Feature" };
    return (i.id === 0 || i.id) && (r.id = i.id), i.bbox && (r.bbox = i.bbox), r.properties = e || {}, r.geometry = t, r;
  }
  function _t(t, e, i) {
    if (i === void 0 && (i = {}), !t)
      throw new Error("coordinates is required");
    if (!Array.isArray(t))
      throw new Error("coordinates must be an Array");
    if (t.length < 2)
      throw new Error("coordinates must be at least 2 numbers long");
    if (!Si(t[0]) || !Si(t[1]))
      throw new Error("coordinates must contain numbers");
    var r = { type: "Point", coordinates: t };
    return Dt(r, e, i);
  }
  function wt(t, e, i) {
    if (i === void 0 && (i = {}), t.length < 2)
      throw new Error("coordinates must be an array of two or more positions");
    var r = { type: "LineString", coordinates: t };
    return Dt(r, e, i);
  }
  function yt(t, e) {
    e === void 0 && (e = {});
    var i = { type: "FeatureCollection" };
    return e.id && (i.id = e.id), e.bbox && (i.bbox = e.bbox), i.features = t, i;
  }
  function $o(t, e) {
    e === void 0 && (e = "kilometers");
    var i = Jo[e];
    if (!i)
      throw new Error(e + " units is invalid");
    return t * i;
  }
  function Zo(t, e) {
    e === void 0 && (e = "kilometers");
    var i = Jo[e];
    if (!i)
      throw new Error(e + " units is invalid");
    return t / i;
  }
  function Me(t) {
    var e = t % (2 * Math.PI);
    return e * 180 / Math.PI;
  }
  function lt(t) {
    var e = t % 360;
    return e * Math.PI / 180;
  }
  function Si(t) {
    return !isNaN(t) && t !== null && !Array.isArray(t);
  }
  function zt(t) {
    var e, i, r = { type: "FeatureCollection", features: [] };
    if (t.type === "Feature" ? i = t.geometry : i = t, i.type === "LineString")
      e = [i.coordinates];
    else if (i.type === "MultiLineString")
      e = i.coordinates;
    else if (i.type === "MultiPolygon")
      e = [].concat.apply([], i.coordinates);
    else if (i.type === "Polygon")
      e = i.coordinates;
    else
      throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");
    return e.forEach(function(n) {
      e.forEach(function(s) {
        for (var a = 0; a < n.length - 1; a++)
          for (var o = a; o < s.length - 1; o++)
            if (!(n === s && (Math.abs(a - o) === 1 || a === 0 && o === n.length - 2 && n[a][0] === n[n.length - 1][0] && n[a][1] === n[n.length - 1][1]))) {
              var l = pm(n[a][0], n[a][1], n[a + 1][0], n[a + 1][1], s[o][0], s[o][1], s[o + 1][0], s[o + 1][1]);
              l && r.features.push(_t([l[0], l[1]]));
            }
      });
    }), r;
  }
  function pm(t, e, i, r, n, s, a, o) {
    var l, u, f, d, P, E = { x: null, y: null, onLine1: false, onLine2: false };
    return l = (o - s) * (i - t) - (a - n) * (r - e), l === 0 ? E.x !== null && E.y !== null ? E : false : (u = e - s, f = t - n, d = (a - n) * u - (o - s) * f, P = (i - t) * u - (r - e) * f, u = d / l, f = P / l, E.x = t + u * (i - t), E.y = e + u * (r - e), u >= 0 && u <= 1 && (E.onLine1 = true), f >= 0 && f <= 1 && (E.onLine2 = true), E.onLine1 && E.onLine2 ? [E.x, E.y] : false);
  }
  X.Line = X.extend({ initialize(t) {
    this._map = t, this._shape = "Line", this.toolbarButtonName = "drawPolyline", this._doesSelfIntersect = false;
  }, enable(t) {
    L.Util.setOptions(this, t), this._enabled = true, this._markers = [], this._layerGroup = new L.FeatureGroup(), this._layerGroup._pmTempLayer = true, this._layerGroup.addTo(this._map), this._layer = L.polyline([], { ...this.options.templineStyle, pmIgnore: false }), this._setPane(this._layer, "layerPane"), this._layer._pmTempLayer = true, this._layerGroup.addLayer(this._layer), this._hintline = L.polyline([], this.options.hintlineStyle), this._setPane(this._hintline, "layerPane"), this._hintline._pmTempLayer = true, this._layerGroup.addLayer(this._hintline), this._hintMarker = L.marker(this._map.getCenter(), { interactive: false, zIndexOffset: 100, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._layerGroup.addLayer(this._hintMarker), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.firstVertex"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._map.getContainer().classList.add("geoman-draw-cursor"), this._map.on("click", this._createVertex, this), this.options.finishOn && this.options.finishOn !== "snap" && this._map.on(this.options.finishOn, this._finishShape, this), this.options.finishOn === "dblclick" && (this.tempMapDoubleClickZoomState = this._map.doubleClickZoom._enabled, this.tempMapDoubleClickZoomState && this._map.doubleClickZoom.disable()), this._map.on("mousemove", this._syncHintMarker, this), this._hintMarker.on("move", this._syncHintLine, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._otherSnapLayers = [], this.isRed = false, this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("click", this._createVertex, this), this._map.off("mousemove", this._syncHintMarker, this), this.options.finishOn && this.options.finishOn !== "snap" && this._map.off(this.options.finishOn, this._finishShape, this), this.tempMapDoubleClickZoomState && this._map.doubleClickZoom.enable(), this._map.removeLayer(this._layerGroup), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _syncHintLine() {
    let t = this._layer.getLatLngs();
    if (t.length > 0) {
      let e = t[t.length - 1];
      this._hintline.setLatLngs([e, this._hintMarker.getLatLng()]);
    }
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let i = t;
      i.target = this._hintMarker, this._handleSnapping(i);
    }
    this.options.allowSelfIntersection || this._handleSelfIntersection(true, this._hintMarker.getLatLng());
    let e = this._layer._defaultShape().slice();
    e.push(this._hintMarker.getLatLng()), this._change(e);
  }, hasSelfIntersection() {
    return zt(this._layer.toGeoJSON(15)).features.length > 0;
  }, _handleSelfIntersection(t, e) {
    let i = L.polyline(this._layer.getLatLngs());
    t && (e || (e = this._hintMarker.getLatLng()), i.addLatLng(e));
    let r = zt(i.toGeoJSON(15));
    this._doesSelfIntersect = r.features.length > 0, this._doesSelfIntersect ? this.isRed || (this.isRed = true, this._hintline.setStyle({ color: "#f00000ff" }), this._fireIntersect(r, this._map, "Draw")) : this._hintline.isEmpty() || (this.isRed = false, this._hintline.setStyle(this.options.hintlineStyle));
  }, _createVertex(t) {
    if (!this.options.allowSelfIntersection && (this._handleSelfIntersection(true, t.latlng), this._doesSelfIntersect))
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = this._layer.getLatLngs(), r = i[i.length - 1];
    if (e.equals(i[0]) || i.length > 0 && e.equals(r)) {
      this._finishShape();
      return;
    }
    this._layer._latlngInfo = this._layer._latlngInfo || [], this._layer._latlngInfo.push({ latlng: e, snapInfo: this._hintMarker._snapInfo }), this._layer.addLatLng(e);
    let n = this._createMarker(e);
    this._setTooltipText(), this._setHintLineAfterNewVertex(e), this._fireVertexAdded(n, void 0, e, "Draw"), this._change(this._layer.getLatLngs()), this.options.finishOn === "snap" && this._hintMarker._snapped && this._finishShape(t);
  }, _setHintLineAfterNewVertex(t) {
    this._hintline.setLatLngs([t, t]);
  }, _removeLastVertex() {
    let t = this._markers;
    if (t.length <= 1) {
      this.disable();
      return;
    }
    let e = this._layer.getLatLngs(), i = t[t.length - 1], { indexPath: r } = L.PM.Utils.findDeepMarkerIndex(t, i);
    t.pop(), this._layerGroup.removeLayer(i);
    let n = t[t.length - 1], s = e.indexOf(n.getLatLng());
    e = e.slice(0, s + 1), this._layer.setLatLngs(e), this._layer._latlngInfo.pop(), this._syncHintLine(), this._setTooltipText(), this._fireVertexRemoved(i, r, "Draw"), this._change(this._layer.getLatLngs());
  }, _finishShape() {
    if (!this.options.allowSelfIntersection && (this._handleSelfIntersection(false), this._doesSelfIntersect) || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    let t = this._layer.getLatLngs();
    if (t.length <= 1)
      return;
    let e = L.polyline(t, this.options.pathOptions);
    this._setPane(e, "layerPane"), this._finishLayer(e), e.addTo(this._map.pm._getContainingLayer()), this._fireCreate(e), this.options.snappable && this._cleanupSnapping(), this.disable(), this.options.continueDrawing && this.enable();
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: false, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._pmTempLayer = true, this._layerGroup.addLayer(e), this._markers.push(e), e.on("click", this._finishShape, this), e;
  }, _setTooltipText() {
    let { length: t } = this._layer.getLatLngs().flat(), e = "";
    t <= 1 ? e = V("tooltips.continueLine") : e = V("tooltips.finishLine"), this._hintMarker.setTooltipContent(e);
  }, _change(t) {
    this._fireChange(t, "Draw");
  }, setStyle() {
    this._layer?.setStyle(this.options.templineStyle), this._hintline?.setStyle(this.options.hintlineStyle);
  } });
  X.Polygon = X.Line.extend({ initialize(t) {
    this._map = t, this._shape = "Polygon", this.toolbarButtonName = "drawPolygon";
  }, enable(t) {
    L.PM.Draw.Line.prototype.enable.call(this, t), this._layer.pm._shape = "Polygon";
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: false, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._pmTempLayer = true, this._layerGroup.addLayer(e), this._markers.push(e), this._layer.getLatLngs().flat().length === 1 ? (e.on("click", this._finishShape, this), this._tempSnapLayerIndex = this._otherSnapLayers.push(e) - 1, this.options.snappable && this._cleanupSnapping()) : e.on("click", () => 1), e;
  }, _setTooltipText() {
    let { length: t } = this._layer.getLatLngs().flat(), e = "";
    t <= 2 ? e = V("tooltips.continueLine") : e = V("tooltips.finishPoly"), this._hintMarker.setTooltipContent(e);
  }, _finishShape() {
    if (!this.options.allowSelfIntersection && (this._handleSelfIntersection(true, this._layer.getLatLngs()[0]), this._doesSelfIntersect) || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    let t = this._layer.getLatLngs();
    if (t.length <= 2)
      return;
    let e = L.polygon(t, this.options.pathOptions);
    this._setPane(e, "layerPane"), this._finishLayer(e), e.addTo(this._map.pm._getContainingLayer()), this._fireCreate(e), this._cleanupSnapping(), this._otherSnapLayers.splice(this._tempSnapLayerIndex, 1), delete this._tempSnapLayerIndex, this.disable(), this.options.continueDrawing && this.enable();
  } });
  X.Rectangle = X.extend({ initialize(t) {
    this._map = t, this._shape = "Rectangle", this.toolbarButtonName = "drawRectangle";
  }, enable(t) {
    if (L.Util.setOptions(this, t), this._enabled = true, this._layerGroup = new L.FeatureGroup(), this._layerGroup._pmTempLayer = true, this._layerGroup.addTo(this._map), this._layer = L.rectangle([[0, 0], [0, 0]], this.options.pathOptions), this._setPane(this._layer, "layerPane"), this._layer._pmTempLayer = true, this._startMarker = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: "marker-icon rect-start-marker" }), draggable: false, zIndexOffset: -100, opacity: this.options.cursorMarker ? 1 : 0 }), this._setPane(this._startMarker, "vertexPane"), this._startMarker._pmTempLayer = true, this._layerGroup.addLayer(this._startMarker), this._hintMarker = L.marker(this._map.getCenter(), { zIndexOffset: 150, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._layerGroup.addLayer(this._hintMarker), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.firstVertex"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this.options.cursorMarker) {
      this._styleMarkers = [];
      for (let e = 0; e < 2; e += 1) {
        let i = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: "marker-icon rect-style-marker" }), draggable: false, zIndexOffset: 100 });
        this._setPane(i, "vertexPane"), i._pmTempLayer = true, this._layerGroup.addLayer(i), this._styleMarkers.push(i);
      }
    }
    this._map.getContainer().classList.add("geoman-draw-cursor"), this._map.on("click", this._placeStartingMarkers, this), this._map.on("mousemove", this._syncHintMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._otherSnapLayers = [], this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("click", this._finishShape, this), this._map.off("click", this._placeStartingMarkers, this), this._map.off("mousemove", this._syncHintMarker, this), this._map.removeLayer(this._layerGroup), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _placeStartingMarkers(t) {
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng();
    L.DomUtil.addClass(this._startMarker._icon, "visible"), this._startMarker.setLatLng(e), this.options.cursorMarker && this._styleMarkers && this._styleMarkers.forEach((i) => {
      L.DomUtil.addClass(i._icon, "visible"), i.setLatLng(e);
    }), this._map.off("click", this._placeStartingMarkers, this), this._map.on("click", this._finishShape, this), this._hintMarker.setTooltipContent(V("tooltips.finishRect")), this._setRectangleOrigin();
  }, _setRectangleOrigin() {
    let t = this._startMarker.getLatLng();
    t && (this._layerGroup.addLayer(this._layer), this._layer.setLatLngs([t, t]), this._hintMarker.on("move", this._syncRectangleSize, this));
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let i = t;
      i.target = this._hintMarker, this._handleSnapping(i);
    }
    let e = this._layerGroup && this._layerGroup.hasLayer(this._layer) ? this._layer.getLatLngs() : [this._hintMarker.getLatLng()];
    this._fireChange(e, "Draw");
  }, _syncRectangleSize() {
    let t = Ei(this._startMarker.getLatLng(), this._map), e = Ei(this._hintMarker.getLatLng(), this._map), i = L.PM.Utils._getRotatedRectangle(t, e, this.options.rectangleAngle || 0, this._map);
    if (this._layer.setLatLngs(i), this.options.cursorMarker && this._styleMarkers) {
      let r = [];
      i.forEach((n) => {
        !n.equals(t, 1e-8) && !n.equals(e, 1e-8) && r.push(n);
      }), r.forEach((n, s) => {
        try {
          this._styleMarkers[s].setLatLng(n);
        } catch {
        }
      });
    }
  }, _findCorners() {
    let t = this._layer.getLatLngs()[0];
    return L.PM.Utils._getRotatedRectangle(t[0], t[2], this.options.rectangleAngle || 0, this._map);
  }, _finishShape(t) {
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = this._startMarker.getLatLng();
    if (this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer() || i.equals(e))
      return;
    let r = L.rectangle([i, e], this.options.pathOptions);
    if (this.options.rectangleAngle) {
      let n = L.PM.Utils._getRotatedRectangle(i, e, this.options.rectangleAngle || 0, this._map);
      r.setLatLngs(n), r.pm && r.pm._setAngle(this.options.rectangleAngle || 0);
    }
    this._setPane(r, "layerPane"), this._finishLayer(r), r.addTo(this._map.pm._getContainingLayer()), this._fireCreate(r), this.disable(), this.options.continueDrawing && this.enable();
  }, setStyle() {
    this._layer?.setStyle(this.options.pathOptions);
  } });
  X.CircleMarker = X.extend({ initialize(t) {
    this._map = t, this._shape = "CircleMarker", this.toolbarButtonName = "drawCircleMarker", this._layerIsDragging = false, this._BaseCircleClass = L.CircleMarker, this._minRadiusOption = "minRadiusCircleMarker", this._maxRadiusOption = "maxRadiusCircleMarker", this._editableOption = "resizeableCircleMarker", this._defaultRadius = 10;
  }, enable(t) {
    if (L.Util.setOptions(this, t), this.options.editable && (this.options.resizeableCircleMarker = this.options.editable, delete this.options.editable), this._enabled = true, this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._map.getContainer().classList.add("geoman-draw-cursor"), this.options[this._editableOption]) {
      let e = {};
      L.extend(e, this.options.templineStyle), e.radius = 0, this._layerGroup = new L.FeatureGroup(), this._layerGroup._pmTempLayer = true, this._layerGroup.addTo(this._map), this._layer = new this._BaseCircleClass(this._map.getCenter(), e), this._setPane(this._layer, "layerPane"), this._layer._pmTempLayer = true, this._centerMarker = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: "marker-icon" }), draggable: false, zIndexOffset: 100 }), this._setPane(this._centerMarker, "vertexPane"), this._centerMarker._pmTempLayer = true, this._hintMarker = L.marker(this._map.getCenter(), { zIndexOffset: 110, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._layerGroup.addLayer(this._hintMarker), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.startCircle"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._hintline = L.polyline([], this.options.hintlineStyle), this._setPane(this._hintline, "layerPane"), this._hintline._pmTempLayer = true, this._layerGroup.addLayer(this._hintline), this._map.on("click", this._placeCenterMarker, this);
    } else
      this._map.on("click", this._createMarker, this), this._hintMarker = new this._BaseCircleClass(this._map.getCenter(), { radius: this._defaultRadius, ...this.options.templineStyle }), this._setPane(this._hintMarker, "layerPane"), this._hintMarker._pmTempLayer = true, this._hintMarker.addTo(this._map), this._layer = this._hintMarker, this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.placeCircleMarker"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip();
    this._map.on("mousemove", this._syncHintMarker, this), this._extendingEnable(), this._otherSnapLayers = [], this._fireDrawStart(), this._setGlobalDrawMode();
  }, _extendingEnable() {
    !this.options[this._editableOption] && this.options.markerEditable && this._map.eachLayer((t) => {
      this.isRelevantMarker(t) && t.pm.enable();
    }), this._layer.bringToBack();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this.options[this._editableOption] ? (this._map.off("click", this._finishShape, this), this._map.off("click", this._placeCenterMarker, this), this._map.removeLayer(this._layerGroup)) : (this._map.off("click", this._createMarker, this), this._extendingDisable(), this._hintMarker.remove()), this._map.off("mousemove", this._syncHintMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, _extendingDisable() {
    this._map.eachLayer((t) => {
      this.isRelevantMarker(t) && t.pm.disable();
    });
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _placeCenterMarker(t) {
    this._layerGroup.addLayer(this._layer), this._layerGroup.addLayer(this._centerMarker), this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng();
    this._layerGroup.addLayer(this._layer), this._centerMarker.setLatLng(e), this._map.off("click", this._placeCenterMarker, this), this._map.on("click", this._finishShape, this), this._placeCircleCenter();
  }, _placeCircleCenter() {
    let t = this._centerMarker.getLatLng();
    t && (this._layer.setLatLng(t), this._hintMarker.on("move", this._syncHintLine, this), this._hintMarker.on("move", this._syncCircleRadius, this), this._hintMarker.setTooltipContent(V("tooltips.finishCircle")), this._fireCenterPlaced(), this._fireChange(this._layer.getLatLng(), "Draw"));
  }, _syncHintLine() {
    let t = this._centerMarker.getLatLng(), e = this._getNewDestinationOfHintMarker();
    this._hintline.setLatLngs([t, e]);
  }, _syncCircleRadius() {
    let t = this._centerMarker.getLatLng(), e = this._hintMarker.getLatLng(), i = this._distanceCalculation(t, e);
    this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._layer.setRadius(this.options[this._minRadiusOption]) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] ? this._layer.setRadius(this.options[this._maxRadiusOption]) : this._layer.setRadius(i);
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()), this.options.snappable) {
      let i = t;
      i.target = this._hintMarker, this._handleSnapping(i);
    }
    this._handleHintMarkerSnapping();
    let e = this._layerGroup && this._layerGroup.hasLayer(this._centerMarker) ? this._centerMarker.getLatLng() : this._hintMarker.getLatLng();
    this._fireChange(e, "Draw");
  }, isRelevantMarker(t) {
    return t instanceof L.CircleMarker && !(t instanceof L.Circle) && t.pm && !t._pmTempLayer;
  }, _createMarker(t) {
    if (this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer() || !t.latlng || this._layerIsDragging)
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = new this._BaseCircleClass(e, { radius: this._defaultRadius, ...this.options.pathOptions });
    this._setPane(i, "layerPane"), this._finishLayer(i), i.addTo(this._map.pm._getContainingLayer()), this._extendingCreateMarker(i), this._fireCreate(i), this._cleanupSnapping(), this.options.continueDrawing || this.disable();
  }, _extendingCreateMarker(t) {
    t.pm && this.options.markerEditable && t.pm.enable();
  }, _finishShape(t) {
    if (this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._centerMarker.getLatLng(), i = this._defaultRadius;
    if (this.options[this._editableOption]) {
      let s = this._hintMarker.getLatLng();
      i = this._distanceCalculation(e, s), this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? i = this.options[this._minRadiusOption] : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && (i = this.options[this._maxRadiusOption]);
    }
    let r = { ...this.options.pathOptions, radius: i }, n = new this._BaseCircleClass(e, r);
    this._setPane(n, "layerPane"), this._finishLayer(n), n.addTo(this._map.pm._getContainingLayer()), n.pm && n.pm._updateHiddenPolyCircle(), this._fireCreate(n), this.disable(), this.options.continueDrawing && this.enable();
  }, _getNewDestinationOfHintMarker() {
    let t = this._hintMarker.getLatLng();
    if (this.options[this._editableOption]) {
      if (!this._layerGroup.hasLayer(this._centerMarker))
        return t;
      let e = this._centerMarker.getLatLng(), i = this._distanceCalculation(e, t);
      this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? t = te(this._map, e, t, this._getMinDistanceInMeter()) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && (t = te(this._map, e, t, this._getMaxDistanceInMeter()));
    }
    return t;
  }, _getMinDistanceInMeter() {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption], this._map, this._centerMarker.getLatLng());
  }, _getMaxDistanceInMeter() {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption], this._map, this._centerMarker.getLatLng());
  }, _handleHintMarkerSnapping() {
    if (this.options[this._editableOption]) {
      if (this._hintMarker._snapped) {
        let t = this._centerMarker.getLatLng(), e = this._hintMarker.getLatLng(), i = this._distanceCalculation(t, e);
        this._layerGroup.hasLayer(this._centerMarker) && (this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._hintMarker.setLatLng(this._hintMarker._orgLatLng) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && this._hintMarker.setLatLng(this._hintMarker._orgLatLng));
      }
      this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker());
    }
  }, setStyle() {
    let t = {};
    L.extend(t, this.options.templineStyle), this.options[this._editableOption] && (t.radius = 0), this._layer?.setStyle(t), this._hintline?.setStyle(this.options.hintlineStyle);
  }, _distanceCalculation(t, e) {
    return this._map.project(t).distanceTo(this._map.project(e));
  } });
  X.Circle = X.CircleMarker.extend({ initialize(t) {
    this._map = t, this._shape = "Circle", this.toolbarButtonName = "drawCircle", this._BaseCircleClass = L.Circle, this._minRadiusOption = "minRadiusCircle", this._maxRadiusOption = "maxRadiusCircle", this._editableOption = "resizableCircle", this._defaultRadius = 100;
  }, _extendingEnable() {
  }, _extendingDisable() {
  }, _extendingCreateMarker() {
  }, isRelevantMarker() {
  }, _getMinDistanceInMeter() {
    return this.options[this._minRadiusOption];
  }, _getMaxDistanceInMeter() {
    return this.options[this._maxRadiusOption];
  }, _distanceCalculation(t, e) {
    return this._map.distance(t, e);
  } });
  function rt(t) {
    if (!t)
      throw new Error("coord is required");
    if (!Array.isArray(t)) {
      if (t.type === "Feature" && t.geometry !== null && t.geometry.type === "Point")
        return t.geometry.coordinates;
      if (t.type === "Point")
        return t.coordinates;
    }
    if (Array.isArray(t) && t.length >= 2 && !Array.isArray(t[0]) && !Array.isArray(t[1]))
      return t;
    throw new Error("coord must be GeoJSON Point or an Array of numbers");
  }
  function ot(t) {
    if (Array.isArray(t))
      return t;
    if (t.type === "Feature") {
      if (t.geometry !== null)
        return t.geometry.coordinates;
    } else if (t.coordinates)
      return t.coordinates;
    throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array");
  }
  function ee(t) {
    return t.type === "Feature" ? t.geometry : t;
  }
  function Bi(t, e) {
    return t.type === "FeatureCollection" ? "FeatureCollection" : t.type === "GeometryCollection" ? "GeometryCollection" : t.type === "Feature" && t.geometry !== null ? t.geometry.type : t.type;
  }
  function xe(t, e, i) {
    if (t !== null)
      for (var r, n, s, a, o, l, u, f = 0, d = 0, P, E = t.type, T = E === "FeatureCollection", G = E === "Feature", _ = T ? t.features.length : 1, x = 0; x < _; x++) {
        u = T ? t.features[x].geometry : G ? t.geometry : t, P = u ? u.type === "GeometryCollection" : false, o = P ? u.geometries.length : 1;
        for (var b = 0; b < o; b++) {
          var R = 0, D = 0;
          if (a = P ? u.geometries[b] : u, a !== null) {
            l = a.coordinates;
            var O = a.type;
            switch (f = i && (O === "Polygon" || O === "MultiPolygon") ? 1 : 0, O) {
              case null:
                break;
              case "Point":
                if (e(l, d, x, R, D) === false)
                  return false;
                d++, R++;
                break;
              case "LineString":
              case "MultiPoint":
                for (r = 0; r < l.length; r++) {
                  if (e(l[r], d, x, R, D) === false)
                    return false;
                  d++, O === "MultiPoint" && R++;
                }
                O === "LineString" && R++;
                break;
              case "Polygon":
              case "MultiLineString":
                for (r = 0; r < l.length; r++) {
                  for (n = 0; n < l[r].length - f; n++) {
                    if (e(l[r][n], d, x, R, D) === false)
                      return false;
                    d++;
                  }
                  O === "MultiLineString" && R++, O === "Polygon" && D++;
                }
                O === "Polygon" && R++;
                break;
              case "MultiPolygon":
                for (r = 0; r < l.length; r++) {
                  for (D = 0, n = 0; n < l[r].length; n++) {
                    for (s = 0; s < l[r][n].length - f; s++) {
                      if (e(l[r][n][s], d, x, R, D) === false)
                        return false;
                      d++;
                    }
                    D++;
                  }
                  R++;
                }
                break;
              case "GeometryCollection":
                for (r = 0; r < a.geometries.length; r++)
                  if (xe(a.geometries[r], e, i) === false)
                    return false;
                break;
              default:
                throw new Error("Unknown Geometry Type");
            }
          }
        }
      }
  }
  function Ft(t, e) {
    if (t.type === "Feature")
      e(t, 0);
    else if (t.type === "FeatureCollection")
      for (var i = 0; i < t.features.length && e(t.features[i], i) !== false; i++)
        ;
  }
  function Wo(t, e, i) {
    var r = i;
    return Ft(t, function(n, s) {
      s === 0 && i === void 0 ? r = n : r = e(r, n, s);
    }), r;
  }
  function fm(t, e) {
    var i, r, n, s, a, o, l, u, f, d, P = 0, E = t.type === "FeatureCollection", T = t.type === "Feature", G = E ? t.features.length : 1;
    for (i = 0; i < G; i++) {
      for (o = E ? t.features[i].geometry : T ? t.geometry : t, u = E ? t.features[i].properties : T ? t.properties : {}, f = E ? t.features[i].bbox : T ? t.bbox : void 0, d = E ? t.features[i].id : T ? t.id : void 0, l = o ? o.type === "GeometryCollection" : false, a = l ? o.geometries.length : 1, n = 0; n < a; n++) {
        if (s = l ? o.geometries[n] : o, s === null) {
          if (e(null, P, u, f, d) === false)
            return false;
          continue;
        }
        switch (s.type) {
          case "Point":
          case "LineString":
          case "MultiPoint":
          case "Polygon":
          case "MultiLineString":
          case "MultiPolygon": {
            if (e(s, P, u, f, d) === false)
              return false;
            break;
          }
          case "GeometryCollection": {
            for (r = 0; r < s.geometries.length; r++)
              if (e(s.geometries[r], P, u, f, d) === false)
                return false;
            break;
          }
          default:
            throw new Error("Unknown Geometry Type");
        }
      }
      P++;
    }
  }
  function ie(t, e) {
    fm(t, function(i, r, n, s, a) {
      var o = i === null ? null : i.type;
      switch (o) {
        case null:
        case "Point":
        case "LineString":
        case "Polygon":
          return e(Dt(i, n, { bbox: s, id: a }), r, 0) === false ? false : void 0;
      }
      var l;
      switch (o) {
        case "MultiPoint":
          l = "Point";
          break;
        case "MultiLineString":
          l = "LineString";
          break;
        case "MultiPolygon":
          l = "Polygon";
          break;
      }
      for (var u = 0; u < i.coordinates.length; u++) {
        var f = i.coordinates[u], d = { type: l, coordinates: f };
        if (e(Dt(d, n), r, u) === false)
          return false;
      }
    });
  }
  function dm(t) {
    if (!t)
      throw new Error("geojson is required");
    var e = [];
    return ie(t, function(i) {
      gm(i, e);
    }), yt(e);
  }
  function gm(t, e) {
    var i = [], r = t.geometry;
    if (r !== null) {
      switch (r.type) {
        case "Polygon":
          i = ot(r);
          break;
        case "LineString":
          i = [ot(r)];
      }
      i.forEach(function(n) {
        var s = mm(n, t.properties);
        s.forEach(function(a) {
          a.id = e.length, e.push(a);
        });
      });
    }
  }
  function mm(t, e) {
    var i = [];
    return t.reduce(function(r, n) {
      var s = wt([r, n], e);
      return s.bbox = _m(r, n), i.push(s), n;
    }), i;
  }
  function _m(t, e) {
    var i = t[0], r = t[1], n = e[0], s = e[1], a = i < n ? i : n, o = r < s ? r : s, l = i > n ? i : n, u = r > s ? r : s;
    return [a, o, l, u];
  }
  var we = dm;
  var gl = xt(Ui(), 1);
  function jm(t, e) {
    var i = {}, r = [];
    if (t.type === "LineString" && (t = Dt(t)), e.type === "LineString" && (e = Dt(e)), t.type === "Feature" && e.type === "Feature" && t.geometry !== null && e.geometry !== null && t.geometry.type === "LineString" && e.geometry.type === "LineString" && t.geometry.coordinates.length === 2 && e.geometry.coordinates.length === 2) {
      var n = dl(t, e);
      return n && r.push(n), yt(r);
    }
    var s = (0, gl.default)();
    return s.load(we(e)), Ft(we(t), function(a) {
      Ft(s.search(a), function(o) {
        var l = dl(a, o);
        if (l) {
          var u = ot(l).join(",");
          i[u] || (i[u] = true, r.push(l));
        }
      });
    }), yt(r);
  }
  function dl(t, e) {
    var i = ot(t), r = ot(e);
    if (i.length !== 2)
      throw new Error("<intersects> line1 must only contain 2 coordinates");
    if (r.length !== 2)
      throw new Error("<intersects> line2 must only contain 2 coordinates");
    var n = i[0][0], s = i[0][1], a = i[1][0], o = i[1][1], l = r[0][0], u = r[0][1], f = r[1][0], d = r[1][1], P = (d - u) * (a - n) - (f - l) * (o - s), E = (f - l) * (s - u) - (d - u) * (n - l), T = (a - n) * (s - u) - (o - s) * (n - l);
    if (P === 0)
      return null;
    var G = E / P, _ = T / P;
    if (G >= 0 && G <= 1 && _ >= 0 && _ <= 1) {
      var x = n + G * (a - n), b = s + G * (o - s);
      return _t([x, b]);
    }
    return null;
  }
  var pt = jm;
  var Xi = xt(Ui(), 1);
  function Km(t, e, i) {
    i === void 0 && (i = {});
    var r = rt(t), n = rt(e), s = lt(n[1] - r[1]), a = lt(n[0] - r[0]), o = lt(r[1]), l = lt(n[1]), u = Math.pow(Math.sin(s / 2), 2) + Math.pow(Math.sin(a / 2), 2) * Math.cos(o) * Math.cos(l);
    return $o(2 * Math.atan2(Math.sqrt(u), Math.sqrt(1 - u)), i.units);
  }
  var Ct = Km;
  function Hm(t) {
    var e = t[0], i = t[1], r = t[2], n = t[3], s = Ct(t.slice(0, 2), [r, i]), a = Ct(t.slice(0, 2), [e, n]);
    if (s >= a) {
      var o = (i + n) / 2;
      return [e, o - (r - e) / 2, r, o + (r - e) / 2];
    } else {
      var l = (e + r) / 2;
      return [l - (n - i) / 2, i, l + (n - i) / 2, n];
    }
  }
  var ml = Hm;
  function ji(t) {
    var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
    return xe(t, function(i) {
      e[0] > i[0] && (e[0] = i[0]), e[1] > i[1] && (e[1] = i[1]), e[2] < i[0] && (e[2] = i[0]), e[3] < i[1] && (e[3] = i[1]);
    }), e;
  }
  ji.default = ji;
  var Vt = ji;
  function Xm(t, e) {
    e === void 0 && (e = {});
    var i = e.precision, r = e.coordinates, n = e.mutate;
    if (i = i == null || isNaN(i) ? 6 : i, r = r == null || isNaN(r) ? 3 : r, !t)
      throw new Error("<geojson> is required");
    if (typeof i != "number")
      throw new Error("<precision> must be a number");
    if (typeof r != "number")
      throw new Error("<coordinates> must be a number");
    (n === false || n === void 0) && (t = JSON.parse(JSON.stringify(t)));
    var s = Math.pow(10, i);
    return xe(t, function(a) {
      Ym(a, s, r);
    }), t;
  }
  function Ym(t, e, i) {
    t.length > i && t.splice(i, t.length);
    for (var r = 0; r < t.length; r++)
      t[r] = Math.round(t[r] * e) / e;
    return t;
  }
  var _l = Xm;
  function Ke(t, e, i) {
    if (i === void 0 && (i = {}), i.final === true)
      return Jm(t, e);
    var r = rt(t), n = rt(e), s = lt(r[0]), a = lt(n[0]), o = lt(r[1]), l = lt(n[1]), u = Math.sin(a - s) * Math.cos(l), f = Math.cos(o) * Math.sin(l) - Math.sin(o) * Math.cos(l) * Math.cos(a - s);
    return Me(Math.atan2(u, f));
  }
  function Jm(t, e) {
    var i = Ke(e, t);
    return i = (i + 180) % 360, i;
  }
  function He(t, e, i, r) {
    r === void 0 && (r = {});
    var n = rt(t), s = lt(n[0]), a = lt(n[1]), o = lt(i), l = Zo(e, r.units), u = Math.asin(Math.sin(a) * Math.cos(l) + Math.cos(a) * Math.sin(l) * Math.cos(o)), f = s + Math.atan2(Math.sin(o) * Math.sin(l) * Math.cos(a), Math.cos(l) - Math.sin(a) * Math.sin(u)), d = Me(f), P = Me(u);
    return _t([d, P], r.properties);
  }
  function $m(t, e, i) {
    i === void 0 && (i = {});
    var r = _t([1 / 0, 1 / 0], { dist: 1 / 0 }), n = 0;
    return ie(t, function(s) {
      for (var a = ot(s), o = 0; o < a.length - 1; o++) {
        var l = _t(a[o]);
        l.properties.dist = Ct(e, l, i);
        var u = _t(a[o + 1]);
        u.properties.dist = Ct(e, u, i);
        var f = Ct(l, u, i), d = Math.max(l.properties.dist, u.properties.dist), P = Ke(l, u), E = He(e, d, P + 90, i), T = He(e, d, P - 90, i), G = pt(wt([E.geometry.coordinates, T.geometry.coordinates]), wt([l.geometry.coordinates, u.geometry.coordinates])), _ = null;
        G.features.length > 0 && (_ = G.features[0], _.properties.dist = Ct(e, _, i), _.properties.location = n + Ct(l, _, i)), l.properties.dist < r.properties.dist && (r = l, r.properties.index = o, r.properties.location = n), u.properties.dist < r.properties.dist && (r = u, r.properties.index = o + 1, r.properties.location = n + f), _ && _.properties.dist < r.properties.dist && (r = _, r.properties.index = o), n += f;
      }
    }), r;
  }
  var yl = $m;
  function Zm(t, e) {
    if (!t)
      throw new Error("line is required");
    if (!e)
      throw new Error("splitter is required");
    var i = Bi(t), r = Bi(e);
    if (i !== "LineString")
      throw new Error("line must be LineString");
    if (r === "FeatureCollection")
      throw new Error("splitter cannot be a FeatureCollection");
    if (r === "GeometryCollection")
      throw new Error("splitter cannot be a GeometryCollection");
    var n = _l(e, { precision: 7 });
    switch (r) {
      case "Point":
        return Hi(t, n);
      case "MultiPoint":
        return Ll(t, n);
      case "LineString":
      case "MultiLineString":
      case "Polygon":
      case "MultiPolygon":
        return Ll(t, pt(t, n));
    }
  }
  function Ll(t, e) {
    var i = [], r = (0, Xi.default)();
    return ie(e, function(n) {
      if (i.forEach(function(o, l) {
        o.id = l;
      }), !i.length)
        i = Hi(t, n).features, i.forEach(function(o) {
          o.bbox || (o.bbox = ml(Vt(o)));
        }), r.load(yt(i));
      else {
        var s = r.search(n);
        if (s.features.length) {
          var a = bl(n, s);
          i = i.filter(function(o) {
            return o.id !== a.id;
          }), r.remove(a), Ft(Hi(a, n), function(o) {
            i.push(o), r.insert(o);
          });
        }
      }
    }), yt(i);
  }
  function Hi(t, e) {
    var i = [], r = ot(t)[0], n = ot(t)[t.geometry.coordinates.length - 1];
    if (Ki(r, rt(e)) || Ki(n, rt(e)))
      return yt([t]);
    var s = (0, Xi.default)(), a = we(t);
    s.load(a);
    var o = s.search(e);
    if (!o.features.length)
      return yt([t]);
    var l = bl(e, o), u = [r], f = Wo(a, function(d, P, E) {
      var T = ot(P)[1], G = rt(e);
      return E === l.id ? (d.push(G), i.push(wt(d)), Ki(G, T) ? [G] : [G, T]) : (d.push(T), d);
    }, u);
    return f.length > 1 && i.push(wt(f)), yt(i);
  }
  function bl(t, e) {
    if (!e.features.length)
      throw new Error("lines must contain features");
    if (e.features.length === 1)
      return e.features[0];
    var i, r = 1 / 0;
    return Ft(e, function(n) {
      var s = yl(n, t), a = s.properties.dist;
      a < r && (i = n, r = a);
    }), i;
  }
  function Ki(t, e) {
    return t[0] === e[0] && t[1] === e[1];
  }
  var vl = Zm;
  function ne(t, e, i) {
    if (i === void 0 && (i = {}), !t)
      throw new Error("point is required");
    if (!e)
      throw new Error("polygon is required");
    var r = rt(t), n = ee(e), s = n.type, a = e.bbox, o = n.coordinates;
    if (a && Wm(r, a) === false)
      return false;
    s === "Polygon" && (o = [o]);
    for (var l = false, u = 0; u < o.length && !l; u++)
      if (kl(r, o[u][0], i.ignoreBoundary)) {
        for (var f = false, d = 1; d < o[u].length && !f; )
          kl(r, o[u][d], !i.ignoreBoundary) && (f = true), d++;
        f || (l = true);
      }
    return l;
  }
  function kl(t, e, i) {
    var r = false;
    e[0][0] === e[e.length - 1][0] && e[0][1] === e[e.length - 1][1] && (e = e.slice(0, e.length - 1));
    for (var n = 0, s = e.length - 1; n < e.length; s = n++) {
      var a = e[n][0], o = e[n][1], l = e[s][0], u = e[s][1], f = t[1] * (a - l) + o * (l - t[0]) + u * (t[0] - a) === 0 && (a - t[0]) * (l - t[0]) <= 0 && (o - t[1]) * (u - t[1]) <= 0;
      if (f)
        return !i;
      var d = o > t[1] != u > t[1] && t[0] < (l - a) * (t[1] - o) / (u - o) + a;
      d && (r = !r);
    }
    return r;
  }
  function Wm(t, e) {
    return e[0] <= t[0] && e[1] <= t[1] && e[2] >= t[0] && e[3] >= t[1];
  }
  function Qm(t, e, i) {
    i === void 0 && (i = {});
    for (var r = rt(t), n = ot(e), s = 0; s < n.length - 1; s++) {
      var a = false;
      if (i.ignoreEndVertices && (s === 0 && (a = "start"), s === n.length - 2 && (a = "end"), s === 0 && s + 1 === n.length - 1 && (a = "both")), t_(n[s], n[s + 1], r, a, typeof i.epsilon > "u" ? null : i.epsilon))
        return true;
    }
    return false;
  }
  function t_(t, e, i, r, n) {
    var s = i[0], a = i[1], o = t[0], l = t[1], u = e[0], f = e[1], d = i[0] - o, P = i[1] - l, E = u - o, T = f - l, G = d * T - P * E;
    if (n !== null) {
      if (Math.abs(G) > n)
        return false;
    } else if (G !== 0)
      return false;
    if (r) {
      if (r === "start")
        return Math.abs(E) >= Math.abs(T) ? E > 0 ? o < s && s <= u : u <= s && s < o : T > 0 ? l < a && a <= f : f <= a && a < l;
      if (r === "end")
        return Math.abs(E) >= Math.abs(T) ? E > 0 ? o <= s && s < u : u < s && s <= o : T > 0 ? l <= a && a < f : f < a && a <= l;
      if (r === "both")
        return Math.abs(E) >= Math.abs(T) ? E > 0 ? o < s && s < u : u < s && s < o : T > 0 ? l < a && a < f : f < a && a < l;
    } else
      return Math.abs(E) >= Math.abs(T) ? E > 0 ? o <= s && s <= u : u <= s && s <= o : T > 0 ? l <= a && a <= f : f <= a && a <= l;
    return false;
  }
  var se = Qm;
  function Yi(t, e) {
    var i = ee(t), r = ee(e), n = i.type, s = r.type, a = i.coordinates, o = r.coordinates;
    switch (n) {
      case "Point":
        switch (s) {
          case "Point":
            return Ji(a, o);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      case "MultiPoint":
        switch (s) {
          case "Point":
            return e_(i, r);
          case "MultiPoint":
            return i_(i, r);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      case "LineString":
        switch (s) {
          case "Point":
            return se(r, i, { ignoreEndVertices: true });
          case "LineString":
            return s_(i, r);
          case "MultiPoint":
            return r_(i, r);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      case "Polygon":
        switch (s) {
          case "Point":
            return ne(r, i, { ignoreBoundary: true });
          case "LineString":
            return a_(i, r);
          case "Polygon":
            return o_(i, r);
          case "MultiPoint":
            return n_(i, r);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      default:
        throw new Error("feature1 " + n + " geometry not supported");
    }
  }
  function e_(t, e) {
    var i, r = false;
    for (i = 0; i < t.coordinates.length; i++)
      if (Ji(t.coordinates[i], e.coordinates)) {
        r = true;
        break;
      }
    return r;
  }
  function i_(t, e) {
    for (var i = 0, r = e.coordinates; i < r.length; i++) {
      for (var n = r[i], s = false, a = 0, o = t.coordinates; a < o.length; a++) {
        var l = o[a];
        if (Ji(n, l)) {
          s = true;
          break;
        }
      }
      if (!s)
        return false;
    }
    return true;
  }
  function r_(t, e) {
    for (var i = false, r = 0, n = e.coordinates; r < n.length; r++) {
      var s = n[r];
      if (se(s, t, { ignoreEndVertices: true }) && (i = true), !se(s, t))
        return false;
    }
    return !!i;
  }
  function n_(t, e) {
    for (var i = 0, r = e.coordinates; i < r.length; i++) {
      var n = r[i];
      if (!ne(n, t, { ignoreBoundary: true }))
        return false;
    }
    return true;
  }
  function s_(t, e) {
    for (var i = false, r = 0, n = e.coordinates; r < n.length; r++) {
      var s = n[r];
      if (se({ type: "Point", coordinates: s }, t, { ignoreEndVertices: true }) && (i = true), !se({ type: "Point", coordinates: s }, t, { ignoreEndVertices: false }))
        return false;
    }
    return i;
  }
  function a_(t, e) {
    var i = false, r = 0, n = Vt(t), s = Vt(e);
    if (!Ml(n, s))
      return false;
    for (r; r < e.coordinates.length - 1; r++) {
      var a = l_(e.coordinates[r], e.coordinates[r + 1]);
      if (ne({ type: "Point", coordinates: a }, t, { ignoreBoundary: true })) {
        i = true;
        break;
      }
    }
    return i;
  }
  function o_(t, e) {
    if (t.type === "Feature" && t.geometry === null || e.type === "Feature" && e.geometry === null)
      return false;
    var i = Vt(t), r = Vt(e);
    if (!Ml(i, r))
      return false;
    for (var n = ee(e).coordinates, s = 0, a = n; s < a.length; s++)
      for (var o = a[s], l = 0, u = o; l < u.length; l++) {
        var f = u[l];
        if (!ne(f, t))
          return false;
      }
    return true;
  }
  function Ml(t, e) {
    return !(t[0] > e[0] || t[2] < e[2] || t[1] > e[1] || t[3] < e[3]);
  }
  function Ji(t, e) {
    return t[0] === e[0] && t[1] === e[1];
  }
  function l_(t, e) {
    return [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2];
  }
  var Kl = xt(Le());
  var Xe = (t) => () => t;
  var Ee = (t) => {
    let e = t ? (i, r) => r.minus(i).abs().isLessThanOrEqualTo(t) : Xe(false);
    return (i, r) => e(i, r) ? 0 : i.comparedTo(r);
  };
  function xl(t) {
    let e = t ? (i, r, n, s, a) => i.exponentiatedBy(2).isLessThanOrEqualTo(s.minus(r).exponentiatedBy(2).plus(a.minus(n).exponentiatedBy(2)).times(t)) : Xe(false);
    return (i, r, n) => {
      let s = i.x, a = i.y, o = n.x, l = n.y, u = a.minus(l).times(r.x.minus(o)).minus(s.minus(o).times(r.y.minus(l)));
      return e(u, s, a, o, l) ? 0 : u.comparedTo(0);
    };
  }
  var h_ = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i, $i = Math.ceil, dt = Math.floor, ht = "[BigNumber Error] ", wl = ht + "Number primitive has more than 15 significant digits: ", Lt = 1e14, F = 14, Zi = 9007199254740991, Wi = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13], At = 1e7, tt = 1e9;
  function Cl(t) {
    var e, i, r, n = b.prototype = { constructor: b, toString: null, valueOf: null }, s = new b(1), a = 20, o = 4, l = -7, u = 21, f = -1e7, d = 1e7, P = false, E = 1, T = 0, G = { prefix: "", groupSize: 3, secondaryGroupSize: 0, groupSeparator: ",", decimalSeparator: ".", fractionGroupSize: 0, fractionGroupSeparator: "\xA0", suffix: "" }, _ = "0123456789abcdefghijklmnopqrstuvwxyz", x = true;
    function b(h, c) {
      var p, y, g, k, C, m, v, w, M = this;
      if (!(M instanceof b))
        return new b(h, c);
      if (c == null) {
        if (h && h._isBigNumber === true) {
          M.s = h.s, !h.c || h.e > d ? M.c = M.e = null : h.e < f ? M.c = [M.e = 0] : (M.e = h.e, M.c = h.c.slice());
          return;
        }
        if ((m = typeof h == "number") && h * 0 == 0) {
          if (M.s = 1 / h < 0 ? (h = -h, -1) : 1, h === ~~h) {
            for (k = 0, C = h; C >= 10; C /= 10, k++)
              ;
            k > d ? M.c = M.e = null : (M.e = k, M.c = [h]);
            return;
          }
          w = String(h);
        } else {
          if (!h_.test(w = String(h)))
            return r(M, w, m);
          M.s = w.charCodeAt(0) == 45 ? (w = w.slice(1), -1) : 1;
        }
        (k = w.indexOf(".")) > -1 && (w = w.replace(".", "")), (C = w.search(/e/i)) > 0 ? (k < 0 && (k = C), k += +w.slice(C + 1), w = w.substring(0, C)) : k < 0 && (k = w.length);
      } else {
        if (J(c, 2, _.length, "Base"), c == 10 && x)
          return M = new b(h), A(M, a + M.e + 1, o);
        if (w = String(h), m = typeof h == "number") {
          if (h * 0 != 0)
            return r(M, w, m, c);
          if (M.s = 1 / h < 0 ? (w = w.slice(1), -1) : 1, b.DEBUG && w.replace(/^0\.0*|\./, "").length > 15)
            throw Error(wl + h);
        } else
          M.s = w.charCodeAt(0) === 45 ? (w = w.slice(1), -1) : 1;
        for (p = _.slice(0, c), k = C = 0, v = w.length; C < v; C++)
          if (p.indexOf(y = w.charAt(C)) < 0) {
            if (y == ".") {
              if (C > k) {
                k = v;
                continue;
              }
            } else if (!g && (w == w.toUpperCase() && (w = w.toLowerCase()) || w == w.toLowerCase() && (w = w.toUpperCase()))) {
              g = true, C = -1, k = 0;
              continue;
            }
            return r(M, String(h), m, c);
          }
        m = false, w = i(w, c, 10, M.s), (k = w.indexOf(".")) > -1 ? w = w.replace(".", "") : k = w.length;
      }
      for (C = 0; w.charCodeAt(C) === 48; C++)
        ;
      for (v = w.length; w.charCodeAt(--v) === 48; )
        ;
      if (w = w.slice(C, ++v)) {
        if (v -= C, m && b.DEBUG && v > 15 && (h > Zi || h !== dt(h)))
          throw Error(wl + M.s * h);
        if ((k = k - C - 1) > d)
          M.c = M.e = null;
        else if (k < f)
          M.c = [M.e = 0];
        else {
          if (M.e = k, M.c = [], C = (k + 1) % F, k < 0 && (C += F), C < v) {
            for (C && M.c.push(+w.slice(0, C)), v -= F; C < v; )
              M.c.push(+w.slice(C, C += F));
            C = F - (w = w.slice(C)).length;
          } else
            C -= v;
          for (; C--; w += "0")
            ;
          M.c.push(+w);
        }
      } else
        M.c = [M.e = 0];
    }
    b.clone = Cl, b.ROUND_UP = 0, b.ROUND_DOWN = 1, b.ROUND_CEIL = 2, b.ROUND_FLOOR = 3, b.ROUND_HALF_UP = 4, b.ROUND_HALF_DOWN = 5, b.ROUND_HALF_EVEN = 6, b.ROUND_HALF_CEIL = 7, b.ROUND_HALF_FLOOR = 8, b.EUCLID = 9, b.config = b.set = function(h) {
      var c, p;
      if (h != null)
        if (typeof h == "object") {
          if (h.hasOwnProperty(c = "DECIMAL_PLACES") && (p = h[c], J(p, 0, tt, c), a = p), h.hasOwnProperty(c = "ROUNDING_MODE") && (p = h[c], J(p, 0, 8, c), o = p), h.hasOwnProperty(c = "EXPONENTIAL_AT") && (p = h[c], p && p.pop ? (J(p[0], -tt, 0, c), J(p[1], 0, tt, c), l = p[0], u = p[1]) : (J(p, -tt, tt, c), l = -(u = p < 0 ? -p : p))), h.hasOwnProperty(c = "RANGE"))
            if (p = h[c], p && p.pop)
              J(p[0], -tt, -1, c), J(p[1], 1, tt, c), f = p[0], d = p[1];
            else if (J(p, -tt, tt, c), p)
              f = -(d = p < 0 ? -p : p);
            else
              throw Error(ht + c + " cannot be zero: " + p);
          if (h.hasOwnProperty(c = "CRYPTO"))
            if (p = h[c], p === !!p)
              if (p)
                if (typeof crypto < "u" && crypto && (crypto.getRandomValues || crypto.randomBytes))
                  P = p;
                else
                  throw P = !p, Error(ht + "crypto unavailable");
              else
                P = p;
            else
              throw Error(ht + c + " not true or false: " + p);
          if (h.hasOwnProperty(c = "MODULO_MODE") && (p = h[c], J(p, 0, 9, c), E = p), h.hasOwnProperty(c = "POW_PRECISION") && (p = h[c], J(p, 0, tt, c), T = p), h.hasOwnProperty(c = "FORMAT"))
            if (p = h[c], typeof p == "object")
              G = p;
            else
              throw Error(ht + c + " not an object: " + p);
          if (h.hasOwnProperty(c = "ALPHABET"))
            if (p = h[c], typeof p == "string" && !/^.?$|[+\-.\s]|(.).*\1/.test(p))
              x = p.slice(0, 10) == "0123456789", _ = p;
            else
              throw Error(ht + c + " invalid: " + p);
        } else
          throw Error(ht + "Object expected: " + h);
      return { DECIMAL_PLACES: a, ROUNDING_MODE: o, EXPONENTIAL_AT: [l, u], RANGE: [f, d], CRYPTO: P, MODULO_MODE: E, POW_PRECISION: T, FORMAT: G, ALPHABET: _ };
    }, b.isBigNumber = function(h) {
      if (!h || h._isBigNumber !== true)
        return false;
      if (!b.DEBUG)
        return true;
      var c, p, y = h.c, g = h.e, k = h.s;
      t:
        if ({}.toString.call(y) == "[object Array]") {
          if ((k === 1 || k === -1) && g >= -tt && g <= tt && g === dt(g)) {
            if (y[0] === 0) {
              if (g === 0 && y.length === 1)
                return true;
              break t;
            }
            if (c = (g + 1) % F, c < 1 && (c += F), String(y[0]).length == c) {
              for (c = 0; c < y.length; c++)
                if (p = y[c], p < 0 || p >= Lt || p !== dt(p))
                  break t;
              if (p !== 0)
                return true;
            }
          }
        } else if (y === null && g === null && (k === null || k === 1 || k === -1))
          return true;
      throw Error(ht + "Invalid BigNumber: " + h);
    }, b.maximum = b.max = function() {
      return D(arguments, -1);
    }, b.minimum = b.min = function() {
      return D(arguments, 1);
    }, b.random = function() {
      var h = 9007199254740992, c = Math.random() * h & 2097151 ? function() {
        return dt(Math.random() * h);
      } : function() {
        return (Math.random() * 1073741824 | 0) * 8388608 + (Math.random() * 8388608 | 0);
      };
      return function(p) {
        var y, g, k, C, m, v = 0, w = [], M = new b(s);
        if (p == null ? p = a : J(p, 0, tt), C = $i(p / F), P)
          if (crypto.getRandomValues) {
            for (y = crypto.getRandomValues(new Uint32Array(C *= 2)); v < C; )
              m = y[v] * 131072 + (y[v + 1] >>> 11), m >= 9e15 ? (g = crypto.getRandomValues(new Uint32Array(2)), y[v] = g[0], y[v + 1] = g[1]) : (w.push(m % 1e14), v += 2);
            v = C / 2;
          } else if (crypto.randomBytes) {
            for (y = crypto.randomBytes(C *= 7); v < C; )
              m = (y[v] & 31) * 281474976710656 + y[v + 1] * 1099511627776 + y[v + 2] * 4294967296 + y[v + 3] * 16777216 + (y[v + 4] << 16) + (y[v + 5] << 8) + y[v + 6], m >= 9e15 ? crypto.randomBytes(7).copy(y, v) : (w.push(m % 1e14), v += 7);
            v = C / 7;
          } else
            throw P = false, Error(ht + "crypto unavailable");
        if (!P)
          for (; v < C; )
            m = c(), m < 9e15 && (w[v++] = m % 1e14);
        for (C = w[--v], p %= F, C && p && (m = Wi[F - p], w[v] = dt(C / m) * m); w[v] === 0; w.pop(), v--)
          ;
        if (v < 0)
          w = [k = 0];
        else {
          for (k = -1; w[0] === 0; w.splice(0, 1), k -= F)
            ;
          for (v = 1, m = w[0]; m >= 10; m /= 10, v++)
            ;
          v < F && (k -= F - v);
        }
        return M.e = k, M.c = w, M;
      };
    }(), b.sum = function() {
      for (var h = 1, c = arguments, p = new b(c[0]); h < c.length; )
        p = p.plus(c[h++]);
      return p;
    }, i = /* @__PURE__ */ function() {
      var h = "0123456789";
      function c(p, y, g, k) {
        for (var C, m = [0], v, w = 0, M = p.length; w < M; ) {
          for (v = m.length; v--; m[v] *= y)
            ;
          for (m[0] += k.indexOf(p.charAt(w++)), C = 0; C < m.length; C++)
            m[C] > g - 1 && (m[C + 1] == null && (m[C + 1] = 0), m[C + 1] += m[C] / g | 0, m[C] %= g);
        }
        return m.reverse();
      }
      return function(p, y, g, k, C) {
        var m, v, w, M, B, I, N, j, $ = p.indexOf("."), W = a, U = o;
        for ($ >= 0 && (M = T, T = 0, p = p.replace(".", ""), j = new b(y), I = j.pow(p.length - $), T = M, j.c = c(Et(ft(I.c), I.e, "0"), 10, g, h), j.e = j.c.length), N = c(p, y, g, C ? (m = _, h) : (m = h, _)), w = M = N.length; N[--M] == 0; N.pop())
          ;
        if (!N[0])
          return m.charAt(0);
        if ($ < 0 ? --w : (I.c = N, I.e = w, I.s = k, I = e(I, j, W, U, g), N = I.c, B = I.r, w = I.e), v = w + W + 1, $ = N[v], M = g / 2, B = B || v < 0 || N[v + 1] != null, B = U < 4 ? ($ != null || B) && (U == 0 || U == (I.s < 0 ? 3 : 2)) : $ > M || $ == M && (U == 4 || B || U == 6 && N[v - 1] & 1 || U == (I.s < 0 ? 8 : 7)), v < 1 || !N[0])
          p = B ? Et(m.charAt(1), -W, m.charAt(0)) : m.charAt(0);
        else {
          if (N.length = v, B)
            for (--g; ++N[--v] > g; )
              N[v] = 0, v || (++w, N = [1].concat(N));
          for (M = N.length; !N[--M]; )
            ;
          for ($ = 0, p = ""; $ <= M; p += m.charAt(N[$++]))
            ;
          p = Et(p, w, m.charAt(0));
        }
        return p;
      };
    }(), e = /* @__PURE__ */ function() {
      function h(y, g, k) {
        var C, m, v, w, M = 0, B = y.length, I = g % At, N = g / At | 0;
        for (y = y.slice(); B--; )
          v = y[B] % At, w = y[B] / At | 0, C = N * v + w * I, m = I * v + C % At * At + M, M = (m / k | 0) + (C / At | 0) + N * w, y[B] = m % k;
        return M && (y = [M].concat(y)), y;
      }
      function c(y, g, k, C) {
        var m, v;
        if (k != C)
          v = k > C ? 1 : -1;
        else
          for (m = v = 0; m < k; m++)
            if (y[m] != g[m]) {
              v = y[m] > g[m] ? 1 : -1;
              break;
            }
        return v;
      }
      function p(y, g, k, C) {
        for (var m = 0; k--; )
          y[k] -= m, m = y[k] < g[k] ? 1 : 0, y[k] = m * C + y[k] - g[k];
        for (; !y[0] && y.length > 1; y.splice(0, 1))
          ;
      }
      return function(y, g, k, C, m) {
        var v, w, M, B, I, N, j, $, W, U, K, it, De, si, ai, bt, le, ct = y.s == g.s ? 1 : -1, st = y.c, Z = g.c;
        if (!st || !st[0] || !Z || !Z[0])
          return new b(!y.s || !g.s || (st ? Z && st[0] == Z[0] : !Z) ? NaN : st && st[0] == 0 || !Z ? ct * 0 : ct / 0);
        for ($ = new b(ct), W = $.c = [], w = y.e - g.e, ct = k + w + 1, m || (m = Lt, w = gt(y.e / F) - gt(g.e / F), ct = ct / F | 0), M = 0; Z[M] == (st[M] || 0); M++)
          ;
        if (Z[M] > (st[M] || 0) && w--, ct < 0)
          W.push(1), B = true;
        else {
          for (si = st.length, bt = Z.length, M = 0, ct += 2, I = dt(m / (Z[0] + 1)), I > 1 && (Z = h(Z, I, m), st = h(st, I, m), bt = Z.length, si = st.length), De = bt, U = st.slice(0, bt), K = U.length; K < bt; U[K++] = 0)
            ;
          le = Z.slice(), le = [0].concat(le), ai = Z[0], Z[1] >= m / 2 && ai++;
          do {
            if (I = 0, v = c(Z, U, bt, K), v < 0) {
              if (it = U[0], bt != K && (it = it * m + (U[1] || 0)), I = dt(it / ai), I > 1)
                for (I >= m && (I = m - 1), N = h(Z, I, m), j = N.length, K = U.length; c(N, U, j, K) == 1; )
                  I--, p(N, bt < j ? le : Z, j, m), j = N.length, v = 1;
              else
                I == 0 && (v = I = 1), N = Z.slice(), j = N.length;
              if (j < K && (N = [0].concat(N)), p(U, N, K, m), K = U.length, v == -1)
                for (; c(Z, U, bt, K) < 1; )
                  I++, p(U, bt < K ? le : Z, K, m), K = U.length;
            } else
              v === 0 && (I++, U = [0]);
            W[M++] = I, U[0] ? U[K++] = st[De] || 0 : (U = [st[De]], K = 1);
          } while ((De++ < si || U[0] != null) && ct--);
          B = U[0] != null, W[0] || W.splice(0, 1);
        }
        if (m == Lt) {
          for (M = 1, ct = W[0]; ct >= 10; ct /= 10, M++)
            ;
          A($, k + ($.e = M + w * F - 1) + 1, C, B);
        } else
          $.e = w, $.r = +B;
        return $;
      };
    }();
    function R(h, c, p, y) {
      var g, k, C, m, v;
      if (p == null ? p = o : J(p, 0, 8), !h.c)
        return h.toString();
      if (g = h.c[0], C = h.e, c == null)
        v = ft(h.c), v = y == 1 || y == 2 && (C <= l || C >= u) ? Je(v, C) : Et(v, C, "0");
      else if (h = A(new b(h), c, p), k = h.e, v = ft(h.c), m = v.length, y == 1 || y == 2 && (c <= k || k <= l)) {
        for (; m < c; v += "0", m++)
          ;
        v = Je(v, k);
      } else if (c -= C, v = Et(v, k, "0"), k + 1 > m) {
        if (--c > 0)
          for (v += "."; c--; v += "0")
            ;
      } else if (c += k - m, c > 0)
        for (k + 1 == m && (v += "."); c--; v += "0")
          ;
      return h.s < 0 && g ? "-" + v : v;
    }
    function D(h, c) {
      for (var p, y, g = 1, k = new b(h[0]); g < h.length; g++)
        y = new b(h[g]), (!y.s || (p = Ut(k, y)) === c || p === 0 && k.s === c) && (k = y);
      return k;
    }
    function O(h, c, p) {
      for (var y = 1, g = c.length; !c[--g]; c.pop())
        ;
      for (g = c[0]; g >= 10; g /= 10, y++)
        ;
      return (p = y + p * F - 1) > d ? h.c = h.e = null : p < f ? h.c = [h.e = 0] : (h.e = p, h.c = c), h;
    }
    r = /* @__PURE__ */ function() {
      var h = /^(-?)0([xbo])(?=\w[\w.]*$)/i, c = /^([^.]+)\.$/, p = /^\.([^.]+)$/, y = /^-?(Infinity|NaN)$/, g = /^\s*\+(?=[\w.])|^\s+|\s+$/g;
      return function(k, C, m, v) {
        var w, M = m ? C : C.replace(g, "");
        if (y.test(M))
          k.s = isNaN(M) ? null : M < 0 ? -1 : 1;
        else {
          if (!m && (M = M.replace(h, function(B, I, N) {
            return w = (N = N.toLowerCase()) == "x" ? 16 : N == "b" ? 2 : 8, !v || v == w ? I : B;
          }), v && (w = v, M = M.replace(c, "$1").replace(p, "0.$1")), C != M))
            return new b(M, w);
          if (b.DEBUG)
            throw Error(ht + "Not a" + (v ? " base " + v : "") + " number: " + C);
          k.s = null;
        }
        k.c = k.e = null;
      };
    }();
    function A(h, c, p, y) {
      var g, k, C, m, v, w, M, B = h.c, I = Wi;
      if (B) {
        t: {
          for (g = 1, m = B[0]; m >= 10; m /= 10, g++)
            ;
          if (k = c - g, k < 0)
            k += F, C = c, v = B[w = 0], M = dt(v / I[g - C - 1] % 10);
          else if (w = $i((k + 1) / F), w >= B.length)
            if (y) {
              for (; B.length <= w; B.push(0))
                ;
              v = M = 0, g = 1, k %= F, C = k - F + 1;
            } else
              break t;
          else {
            for (v = m = B[w], g = 1; m >= 10; m /= 10, g++)
              ;
            k %= F, C = k - F + g, M = C < 0 ? 0 : dt(v / I[g - C - 1] % 10);
          }
          if (y = y || c < 0 || B[w + 1] != null || (C < 0 ? v : v % I[g - C - 1]), y = p < 4 ? (M || y) && (p == 0 || p == (h.s < 0 ? 3 : 2)) : M > 5 || M == 5 && (p == 4 || y || p == 6 && (k > 0 ? C > 0 ? v / I[g - C] : 0 : B[w - 1]) % 10 & 1 || p == (h.s < 0 ? 8 : 7)), c < 1 || !B[0])
            return B.length = 0, y ? (c -= h.e + 1, B[0] = I[(F - c % F) % F], h.e = -c || 0) : B[0] = h.e = 0, h;
          if (k == 0 ? (B.length = w, m = 1, w--) : (B.length = w + 1, m = I[F - k], B[w] = C > 0 ? dt(v / I[g - C] % I[C]) * m : 0), y)
            for (; ; )
              if (w == 0) {
                for (k = 1, C = B[0]; C >= 10; C /= 10, k++)
                  ;
                for (C = B[0] += m, m = 1; C >= 10; C /= 10, m++)
                  ;
                k != m && (h.e++, B[0] == Lt && (B[0] = 1));
                break;
              } else {
                if (B[w] += m, B[w] != Lt)
                  break;
                B[w--] = 0, m = 1;
              }
          for (k = B.length; B[--k] === 0; B.pop())
            ;
        }
        h.e > d ? h.c = h.e = null : h.e < f && (h.c = [h.e = 0]);
      }
      return h;
    }
    function q(h) {
      var c, p = h.e;
      return p === null ? h.toString() : (c = ft(h.c), c = p <= l || p >= u ? Je(c, p) : Et(c, p, "0"), h.s < 0 ? "-" + c : c);
    }
    return n.absoluteValue = n.abs = function() {
      var h = new b(this);
      return h.s < 0 && (h.s = 1), h;
    }, n.comparedTo = function(h, c) {
      return Ut(this, new b(h, c));
    }, n.decimalPlaces = n.dp = function(h, c) {
      var p, y, g, k = this;
      if (h != null)
        return J(h, 0, tt), c == null ? c = o : J(c, 0, 8), A(new b(k), h + k.e + 1, c);
      if (!(p = k.c))
        return null;
      if (y = ((g = p.length - 1) - gt(this.e / F)) * F, g = p[g])
        for (; g % 10 == 0; g /= 10, y--)
          ;
      return y < 0 && (y = 0), y;
    }, n.dividedBy = n.div = function(h, c) {
      return e(this, new b(h, c), a, o);
    }, n.dividedToIntegerBy = n.idiv = function(h, c) {
      return e(this, new b(h, c), 0, 1);
    }, n.exponentiatedBy = n.pow = function(h, c) {
      var p, y, g, k, C, m, v, w, M, B = this;
      if (h = new b(h), h.c && !h.isInteger())
        throw Error(ht + "Exponent not an integer: " + q(h));
      if (c != null && (c = new b(c)), m = h.e > 14, !B.c || !B.c[0] || B.c[0] == 1 && !B.e && B.c.length == 1 || !h.c || !h.c[0])
        return M = new b(Math.pow(+q(B), m ? h.s * (2 - Ye(h)) : +q(h))), c ? M.mod(c) : M;
      if (v = h.s < 0, c) {
        if (c.c ? !c.c[0] : !c.s)
          return new b(NaN);
        y = !v && B.isInteger() && c.isInteger(), y && (B = B.mod(c));
      } else {
        if (h.e > 9 && (B.e > 0 || B.e < -1 || (B.e == 0 ? B.c[0] > 1 || m && B.c[1] >= 24e7 : B.c[0] < 8e13 || m && B.c[0] <= 9999975e7)))
          return k = B.s < 0 && Ye(h) ? -0 : 0, B.e > -1 && (k = 1 / k), new b(v ? 1 / k : k);
        T && (k = $i(T / F + 2));
      }
      for (m ? (p = new b(0.5), v && (h.s = 1), w = Ye(h)) : (g = Math.abs(+q(h)), w = g % 2), M = new b(s); ; ) {
        if (w) {
          if (M = M.times(B), !M.c)
            break;
          k ? M.c.length > k && (M.c.length = k) : y && (M = M.mod(c));
        }
        if (g) {
          if (g = dt(g / 2), g === 0)
            break;
          w = g % 2;
        } else if (h = h.times(p), A(h, h.e + 1, 1), h.e > 14)
          w = Ye(h);
        else {
          if (g = +q(h), g === 0)
            break;
          w = g % 2;
        }
        B = B.times(B), k ? B.c && B.c.length > k && (B.c.length = k) : y && (B = B.mod(c));
      }
      return y ? M : (v && (M = s.div(M)), c ? M.mod(c) : k ? A(M, T, o, C) : M);
    }, n.integerValue = function(h) {
      var c = new b(this);
      return h == null ? h = o : J(h, 0, 8), A(c, c.e + 1, h);
    }, n.isEqualTo = n.eq = function(h, c) {
      return Ut(this, new b(h, c)) === 0;
    }, n.isFinite = function() {
      return !!this.c;
    }, n.isGreaterThan = n.gt = function(h, c) {
      return Ut(this, new b(h, c)) > 0;
    }, n.isGreaterThanOrEqualTo = n.gte = function(h, c) {
      return (c = Ut(this, new b(h, c))) === 1 || c === 0;
    }, n.isInteger = function() {
      return !!this.c && gt(this.e / F) > this.c.length - 2;
    }, n.isLessThan = n.lt = function(h, c) {
      return Ut(this, new b(h, c)) < 0;
    }, n.isLessThanOrEqualTo = n.lte = function(h, c) {
      return (c = Ut(this, new b(h, c))) === -1 || c === 0;
    }, n.isNaN = function() {
      return !this.s;
    }, n.isNegative = function() {
      return this.s < 0;
    }, n.isPositive = function() {
      return this.s > 0;
    }, n.isZero = function() {
      return !!this.c && this.c[0] == 0;
    }, n.minus = function(h, c) {
      var p, y, g, k, C = this, m = C.s;
      if (h = new b(h, c), c = h.s, !m || !c)
        return new b(NaN);
      if (m != c)
        return h.s = -c, C.plus(h);
      var v = C.e / F, w = h.e / F, M = C.c, B = h.c;
      if (!v || !w) {
        if (!M || !B)
          return M ? (h.s = -c, h) : new b(B ? C : NaN);
        if (!M[0] || !B[0])
          return B[0] ? (h.s = -c, h) : new b(M[0] ? C : o == 3 ? -0 : 0);
      }
      if (v = gt(v), w = gt(w), M = M.slice(), m = v - w) {
        for ((k = m < 0) ? (m = -m, g = M) : (w = v, g = B), g.reverse(), c = m; c--; g.push(0))
          ;
        g.reverse();
      } else
        for (y = (k = (m = M.length) < (c = B.length)) ? m : c, m = c = 0; c < y; c++)
          if (M[c] != B[c]) {
            k = M[c] < B[c];
            break;
          }
      if (k && (g = M, M = B, B = g, h.s = -h.s), c = (y = B.length) - (p = M.length), c > 0)
        for (; c--; M[p++] = 0)
          ;
      for (c = Lt - 1; y > m; ) {
        if (M[--y] < B[y]) {
          for (p = y; p && !M[--p]; M[p] = c)
            ;
          --M[p], M[y] += Lt;
        }
        M[y] -= B[y];
      }
      for (; M[0] == 0; M.splice(0, 1), --w)
        ;
      return M[0] ? O(h, M, w) : (h.s = o == 3 ? -1 : 1, h.c = [h.e = 0], h);
    }, n.modulo = n.mod = function(h, c) {
      var p, y, g = this;
      return h = new b(h, c), !g.c || !h.s || h.c && !h.c[0] ? new b(NaN) : !h.c || g.c && !g.c[0] ? new b(g) : (E == 9 ? (y = h.s, h.s = 1, p = e(g, h, 0, 3), h.s = y, p.s *= y) : p = e(g, h, 0, E), h = g.minus(p.times(h)), !h.c[0] && E == 1 && (h.s = g.s), h);
    }, n.multipliedBy = n.times = function(h, c) {
      var p, y, g, k, C, m, v, w, M, B, I, N, j, $, W, U = this, K = U.c, it = (h = new b(h, c)).c;
      if (!K || !it || !K[0] || !it[0])
        return !U.s || !h.s || K && !K[0] && !it || it && !it[0] && !K ? h.c = h.e = h.s = null : (h.s *= U.s, !K || !it ? h.c = h.e = null : (h.c = [0], h.e = 0)), h;
      for (y = gt(U.e / F) + gt(h.e / F), h.s *= U.s, v = K.length, B = it.length, v < B && (j = K, K = it, it = j, g = v, v = B, B = g), g = v + B, j = []; g--; j.push(0))
        ;
      for ($ = Lt, W = At, g = B; --g >= 0; ) {
        for (p = 0, I = it[g] % W, N = it[g] / W | 0, C = v, k = g + C; k > g; )
          w = K[--C] % W, M = K[C] / W | 0, m = N * w + M * I, w = I * w + m % W * W + j[k] + p, p = (w / $ | 0) + (m / W | 0) + N * M, j[k--] = w % $;
        j[k] = p;
      }
      return p ? ++y : j.splice(0, 1), O(h, j, y);
    }, n.negated = function() {
      var h = new b(this);
      return h.s = -h.s || null, h;
    }, n.plus = function(h, c) {
      var p, y = this, g = y.s;
      if (h = new b(h, c), c = h.s, !g || !c)
        return new b(NaN);
      if (g != c)
        return h.s = -c, y.minus(h);
      var k = y.e / F, C = h.e / F, m = y.c, v = h.c;
      if (!k || !C) {
        if (!m || !v)
          return new b(g / 0);
        if (!m[0] || !v[0])
          return v[0] ? h : new b(m[0] ? y : g * 0);
      }
      if (k = gt(k), C = gt(C), m = m.slice(), g = k - C) {
        for (g > 0 ? (C = k, p = v) : (g = -g, p = m), p.reverse(); g--; p.push(0))
          ;
        p.reverse();
      }
      for (g = m.length, c = v.length, g - c < 0 && (p = v, v = m, m = p, c = g), g = 0; c; )
        g = (m[--c] = m[c] + v[c] + g) / Lt | 0, m[c] = Lt === m[c] ? 0 : m[c] % Lt;
      return g && (m = [g].concat(m), ++C), O(h, m, C);
    }, n.precision = n.sd = function(h, c) {
      var p, y, g, k = this;
      if (h != null && h !== !!h)
        return J(h, 1, tt), c == null ? c = o : J(c, 0, 8), A(new b(k), h, c);
      if (!(p = k.c))
        return null;
      if (g = p.length - 1, y = g * F + 1, g = p[g]) {
        for (; g % 10 == 0; g /= 10, y--)
          ;
        for (g = p[0]; g >= 10; g /= 10, y++)
          ;
      }
      return h && k.e + 1 > y && (y = k.e + 1), y;
    }, n.shiftedBy = function(h) {
      return J(h, -Zi, Zi), this.times("1e" + h);
    }, n.squareRoot = n.sqrt = function() {
      var h, c, p, y, g, k = this, C = k.c, m = k.s, v = k.e, w = a + 4, M = new b("0.5");
      if (m !== 1 || !C || !C[0])
        return new b(!m || m < 0 && (!C || C[0]) ? NaN : C ? k : 1 / 0);
      if (m = Math.sqrt(+q(k)), m == 0 || m == 1 / 0 ? (c = ft(C), (c.length + v) % 2 == 0 && (c += "0"), m = Math.sqrt(+c), v = gt((v + 1) / 2) - (v < 0 || v % 2), m == 1 / 0 ? c = "5e" + v : (c = m.toExponential(), c = c.slice(0, c.indexOf("e") + 1) + v), p = new b(c)) : p = new b(m + ""), p.c[0]) {
        for (v = p.e, m = v + w, m < 3 && (m = 0); ; )
          if (g = p, p = M.times(g.plus(e(k, g, w, 1))), ft(g.c).slice(0, m) === (c = ft(p.c)).slice(0, m))
            if (p.e < v && --m, c = c.slice(m - 3, m + 1), c == "9999" || !y && c == "4999") {
              if (!y && (A(g, g.e + a + 2, 0), g.times(g).eq(k))) {
                p = g;
                break;
              }
              w += 4, m += 4, y = 1;
            } else {
              (!+c || !+c.slice(1) && c.charAt(0) == "5") && (A(p, p.e + a + 2, 1), h = !p.times(p).eq(k));
              break;
            }
      }
      return A(p, p.e + a + 1, o, h);
    }, n.toExponential = function(h, c) {
      return h != null && (J(h, 0, tt), h++), R(this, h, c, 1);
    }, n.toFixed = function(h, c) {
      return h != null && (J(h, 0, tt), h = h + this.e + 1), R(this, h, c);
    }, n.toFormat = function(h, c, p) {
      var y, g = this;
      if (p == null)
        h != null && c && typeof c == "object" ? (p = c, c = null) : h && typeof h == "object" ? (p = h, h = c = null) : p = G;
      else if (typeof p != "object")
        throw Error(ht + "Argument not an object: " + p);
      if (y = g.toFixed(h, c), g.c) {
        var k, C = y.split("."), m = +p.groupSize, v = +p.secondaryGroupSize, w = p.groupSeparator || "", M = C[0], B = C[1], I = g.s < 0, N = I ? M.slice(1) : M, j = N.length;
        if (v && (k = m, m = v, v = k, j -= k), m > 0 && j > 0) {
          for (k = j % m || m, M = N.substr(0, k); k < j; k += m)
            M += w + N.substr(k, m);
          v > 0 && (M += w + N.slice(k)), I && (M = "-" + M);
        }
        y = B ? M + (p.decimalSeparator || "") + ((v = +p.fractionGroupSize) ? B.replace(new RegExp("\\d{" + v + "}\\B", "g"), "$&" + (p.fractionGroupSeparator || "")) : B) : M;
      }
      return (p.prefix || "") + y + (p.suffix || "");
    }, n.toFraction = function(h) {
      var c, p, y, g, k, C, m, v, w, M, B, I, N = this, j = N.c;
      if (h != null && (m = new b(h), !m.isInteger() && (m.c || m.s !== 1) || m.lt(s)))
        throw Error(ht + "Argument " + (m.isInteger() ? "out of range: " : "not an integer: ") + q(m));
      if (!j)
        return new b(N);
      for (c = new b(s), w = p = new b(s), y = v = new b(s), I = ft(j), k = c.e = I.length - N.e - 1, c.c[0] = Wi[(C = k % F) < 0 ? F + C : C], h = !h || m.comparedTo(c) > 0 ? k > 0 ? c : w : m, C = d, d = 1 / 0, m = new b(I), v.c[0] = 0; M = e(m, c, 0, 1), g = p.plus(M.times(y)), g.comparedTo(h) != 1; )
        p = y, y = g, w = v.plus(M.times(g = w)), v = g, c = m.minus(M.times(g = c)), m = g;
      return g = e(h.minus(p), y, 0, 1), v = v.plus(g.times(w)), p = p.plus(g.times(y)), v.s = w.s = N.s, k = k * 2, B = e(w, y, k, o).minus(N).abs().comparedTo(e(v, p, k, o).minus(N).abs()) < 1 ? [w, y] : [v, p], d = C, B;
    }, n.toNumber = function() {
      return +q(this);
    }, n.toPrecision = function(h, c) {
      return h != null && J(h, 1, tt), R(this, h, c, 2);
    }, n.toString = function(h) {
      var c, p = this, y = p.s, g = p.e;
      return g === null ? y ? (c = "Infinity", y < 0 && (c = "-" + c)) : c = "NaN" : (h == null ? c = g <= l || g >= u ? Je(ft(p.c), g) : Et(ft(p.c), g, "0") : h === 10 && x ? (p = A(new b(p), a + g + 1, o), c = Et(ft(p.c), p.e, "0")) : (J(h, 2, _.length, "Base"), c = i(Et(ft(p.c), g, "0"), 10, h, y, true)), y < 0 && p.c[0] && (c = "-" + c)), c;
    }, n.valueOf = n.toJSON = function() {
      return q(this);
    }, n._isBigNumber = true, n[Symbol.toStringTag] = "BigNumber", n[Symbol.for("nodejs.util.inspect.custom")] = n.valueOf, t != null && b.set(t), b;
  }
  function gt(t) {
    var e = t | 0;
    return t > 0 || t === e ? e : e - 1;
  }
  function ft(t) {
    for (var e, i, r = 1, n = t.length, s = t[0] + ""; r < n; ) {
      for (e = t[r++] + "", i = F - e.length; i--; e = "0" + e)
        ;
      s += e;
    }
    for (n = s.length; s.charCodeAt(--n) === 48; )
      ;
    return s.slice(0, n + 1 || 1);
  }
  function Ut(t, e) {
    var i, r, n = t.c, s = e.c, a = t.s, o = e.s, l = t.e, u = e.e;
    if (!a || !o)
      return null;
    if (i = n && !n[0], r = s && !s[0], i || r)
      return i ? r ? 0 : -o : a;
    if (a != o)
      return a;
    if (i = a < 0, r = l == u, !n || !s)
      return r ? 0 : !n ^ i ? 1 : -1;
    if (!r)
      return l > u ^ i ? 1 : -1;
    for (o = (l = n.length) < (u = s.length) ? l : u, a = 0; a < o; a++)
      if (n[a] != s[a])
        return n[a] > s[a] ^ i ? 1 : -1;
    return l == u ? 0 : l > u ^ i ? 1 : -1;
  }
  function J(t, e, i, r) {
    if (t < e || t > i || t !== dt(t))
      throw Error(ht + (r || "Argument") + (typeof t == "number" ? t < e || t > i ? " out of range: " : " not an integer: " : " not a primitive number: ") + String(t));
  }
  function Ye(t) {
    var e = t.c.length - 1;
    return gt(t.e / F) == e && t.c[e] % 2 != 0;
  }
  function Je(t, e) {
    return (t.length > 1 ? t.charAt(0) + "." + t.slice(1) : t) + (e < 0 ? "e" : "e+") + e;
  }
  function Et(t, e, i) {
    var r, n;
    if (e < 0) {
      for (n = i + "."; ++e; n += i)
        ;
      t = n + t;
    } else if (r = t.length, ++e > r) {
      for (n = i, e -= r; --e; n += i)
        ;
      t += n;
    } else
      e < r && (t = t.slice(0, e) + "." + t.slice(e));
    return t;
  }
  var u_ = Cl(), mt = u_;
  var Qi = class {
    constructor(e) {
      __publicField(this, "key");
      __publicField(this, "left", null);
      __publicField(this, "right", null);
      this.key = e;
    }
  }, jt = class extends Qi {
    constructor(e) {
      super(e);
    }
  };
  var tr = class {
    constructor() {
      __publicField(this, "size", 0);
      __publicField(this, "modificationCount", 0);
      __publicField(this, "splayCount", 0);
    }
    splay(e) {
      let i = this.root;
      if (i == null)
        return this.compare(e, e), -1;
      let r = null, n = null, s = null, a = null, o = i, l = this.compare, u;
      for (; ; )
        if (u = l(o.key, e), u > 0) {
          let f = o.left;
          if (f == null || (u = l(f.key, e), u > 0 && (o.left = f.right, f.right = o, o = f, f = o.left, f == null)))
            break;
          r == null ? n = o : r.left = o, r = o, o = f;
        } else if (u < 0) {
          let f = o.right;
          if (f == null || (u = l(f.key, e), u < 0 && (o.right = f.left, f.left = o, o = f, f = o.right, f == null)))
            break;
          s == null ? a = o : s.right = o, s = o, o = f;
        } else
          break;
      return s != null && (s.right = o.left, o.left = a), r != null && (r.left = o.right, o.right = n), this.root !== o && (this.root = o, this.splayCount++), u;
    }
    splayMin(e) {
      let i = e, r = i.left;
      for (; r != null; ) {
        let n = r;
        i.left = n.right, n.right = i, i = n, r = i.left;
      }
      return i;
    }
    splayMax(e) {
      let i = e, r = i.right;
      for (; r != null; ) {
        let n = r;
        i.right = n.left, n.left = i, i = n, r = i.right;
      }
      return i;
    }
    _delete(e) {
      if (this.root == null || this.splay(e) != 0)
        return null;
      let r = this.root, n = r, s = r.left;
      if (this.size--, s == null)
        this.root = r.right;
      else {
        let a = r.right;
        r = this.splayMax(s), r.right = a, this.root = r;
      }
      return this.modificationCount++, n;
    }
    addNewRoot(e, i) {
      this.size++, this.modificationCount++;
      let r = this.root;
      if (r == null) {
        this.root = e;
        return;
      }
      i < 0 ? (e.left = r, e.right = r.right, r.right = null) : (e.right = r, e.left = r.left, r.left = null), this.root = e;
    }
    _first() {
      let e = this.root;
      return e == null ? null : (this.root = this.splayMin(e), this.root);
    }
    _last() {
      let e = this.root;
      return e == null ? null : (this.root = this.splayMax(e), this.root);
    }
    clear() {
      this.root = null, this.size = 0, this.modificationCount++;
    }
    has(e) {
      return this.validKey(e) && this.splay(e) == 0;
    }
    defaultCompare() {
      return (e, i) => e < i ? -1 : e > i ? 1 : 0;
    }
    wrap() {
      return { getRoot: () => this.root, setRoot: (e) => {
        this.root = e;
      }, getSize: () => this.size, getModificationCount: () => this.modificationCount, getSplayCount: () => this.splayCount, setSplayCount: (e) => {
        this.splayCount = e;
      }, splay: (e) => this.splay(e), has: (e) => this.has(e) };
    }
  };
  var Pt = (_b = class extends tr {
    constructor(e, i) {
      super();
      __publicField(this, "root", null);
      __publicField(this, "compare");
      __publicField(this, "validKey");
      __publicField(this, _a2, "[object Set]");
      this.compare = e ?? this.defaultCompare(), this.validKey = i ?? ((r) => r != null && r != null);
    }
    delete(e) {
      return this.validKey(e) ? this._delete(e) != null : false;
    }
    deleteAll(e) {
      for (let i of e)
        this.delete(i);
    }
    forEach(e) {
      let i = this[Symbol.iterator](), r;
      for (; r = i.next(), !r.done; )
        e(r.value, r.value, this);
    }
    add(e) {
      let i = this.splay(e);
      return i != 0 && this.addNewRoot(new jt(e), i), this;
    }
    addAndReturn(e) {
      let i = this.splay(e);
      return i != 0 && this.addNewRoot(new jt(e), i), this.root.key;
    }
    addAll(e) {
      for (let i of e)
        this.add(i);
    }
    isEmpty() {
      return this.root == null;
    }
    isNotEmpty() {
      return this.root != null;
    }
    single() {
      if (this.size == 0)
        throw "Bad state: No element";
      if (this.size > 1)
        throw "Bad state: Too many element";
      return this.root.key;
    }
    first() {
      if (this.size == 0)
        throw "Bad state: No element";
      return this._first().key;
    }
    last() {
      if (this.size == 0)
        throw "Bad state: No element";
      return this._last().key;
    }
    lastBefore(e) {
      if (e == null)
        throw "Invalid arguments(s)";
      if (this.root == null)
        return null;
      if (this.splay(e) < 0)
        return this.root.key;
      let r = this.root.left;
      if (r == null)
        return null;
      let n = r.right;
      for (; n != null; )
        r = n, n = r.right;
      return r.key;
    }
    firstAfter(e) {
      if (e == null)
        throw "Invalid arguments(s)";
      if (this.root == null)
        return null;
      if (this.splay(e) > 0)
        return this.root.key;
      let r = this.root.right;
      if (r == null)
        return null;
      let n = r.left;
      for (; n != null; )
        r = n, n = r.left;
      return r.key;
    }
    retainAll(e) {
      let i = new _b(this.compare, this.validKey), r = this.modificationCount;
      for (let n of e) {
        if (r != this.modificationCount)
          throw "Concurrent modification during iteration.";
        this.validKey(n) && this.splay(n) == 0 && i.add(this.root.key);
      }
      i.size != this.size && (this.root = i.root, this.size = i.size, this.modificationCount++);
    }
    lookup(e) {
      return !this.validKey(e) || this.splay(e) != 0 ? null : this.root.key;
    }
    intersection(e) {
      let i = new _b(this.compare, this.validKey);
      for (let r of this)
        e.has(r) && i.add(r);
      return i;
    }
    difference(e) {
      let i = new _b(this.compare, this.validKey);
      for (let r of this)
        e.has(r) || i.add(r);
      return i;
    }
    union(e) {
      let i = this.clone();
      return i.addAll(e), i;
    }
    clone() {
      let e = new _b(this.compare, this.validKey);
      return e.size = this.size, e.root = this.copyNode(this.root), e;
    }
    copyNode(e) {
      if (e == null)
        return null;
      function i(n, s) {
        let a, o;
        do {
          if (a = n.left, o = n.right, a != null) {
            let l = new jt(a.key);
            s.left = l, i(a, l);
          }
          if (o != null) {
            let l = new jt(o.key);
            s.right = l, n = o, s = l;
          }
        } while (o != null);
      }
      let r = new jt(e.key);
      return i(e, r), r;
    }
    toSet() {
      return this.clone();
    }
    entries() {
      return new ir(this.wrap());
    }
    keys() {
      return this[Symbol.iterator]();
    }
    values() {
      return this[Symbol.iterator]();
    }
    [Symbol.iterator]() {
      return new er(this.wrap());
    }
  }, _a2 = Symbol.toStringTag, _b), $e = class {
    constructor(e) {
      __publicField(this, "tree");
      __publicField(this, "path", new Array());
      __publicField(this, "modificationCount", null);
      __publicField(this, "splayCount");
      this.tree = e, this.splayCount = e.getSplayCount();
    }
    [Symbol.iterator]() {
      return this;
    }
    next() {
      return this.moveNext() ? { done: false, value: this.current() } : { done: true, value: null };
    }
    current() {
      if (!this.path.length)
        return null;
      let e = this.path[this.path.length - 1];
      return this.getValue(e);
    }
    rebuildPath(e) {
      this.path.splice(0, this.path.length), this.tree.splay(e), this.path.push(this.tree.getRoot()), this.splayCount = this.tree.getSplayCount();
    }
    findLeftMostDescendent(e) {
      for (; e != null; )
        this.path.push(e), e = e.left;
    }
    moveNext() {
      if (this.modificationCount != this.tree.getModificationCount()) {
        if (this.modificationCount == null) {
          this.modificationCount = this.tree.getModificationCount();
          let r = this.tree.getRoot();
          for (; r != null; )
            this.path.push(r), r = r.left;
          return this.path.length > 0;
        }
        throw "Concurrent modification during iteration.";
      }
      if (!this.path.length)
        return false;
      this.splayCount != this.tree.getSplayCount() && this.rebuildPath(this.path[this.path.length - 1].key);
      let e = this.path[this.path.length - 1], i = e.right;
      if (i != null) {
        for (; i != null; )
          this.path.push(i), i = i.left;
        return true;
      }
      for (this.path.pop(); this.path.length && this.path[this.path.length - 1].right === e; )
        e = this.path.pop();
      return this.path.length > 0;
    }
  }, er = class extends $e {
    getValue(e) {
      return e.key;
    }
  }, ir = class extends $e {
    getValue(e) {
      return [e.key, e.key];
    }
  };
  var El = (t) => t;
  var Pl = (t) => {
    if (t) {
      let e = new Pt(Ee(t)), i = new Pt(Ee(t)), r = (s, a) => a.addAndReturn(s), n = (s) => ({ x: r(s.x, e), y: r(s.y, i) });
      return n({ x: new mt(0), y: new mt(0) }), n;
    }
    return El;
  };
  var rr = (t) => ({ set: (e) => {
    ut = rr(e);
  }, reset: () => rr(t), compare: Ee(t), snap: Pl(t), orient: xl(t) }), ut = rr();
  var ae = (t, e) => t.ll.x.isLessThanOrEqualTo(e.x) && e.x.isLessThanOrEqualTo(t.ur.x) && t.ll.y.isLessThanOrEqualTo(e.y) && e.y.isLessThanOrEqualTo(t.ur.y), Pe = (t, e) => {
    if (e.ur.x.isLessThan(t.ll.x) || t.ur.x.isLessThan(e.ll.x) || e.ur.y.isLessThan(t.ll.y) || t.ur.y.isLessThan(e.ll.y))
      return null;
    let i = t.ll.x.isLessThan(e.ll.x) ? e.ll.x : t.ll.x, r = t.ur.x.isLessThan(e.ur.x) ? t.ur.x : e.ur.x, n = t.ll.y.isLessThan(e.ll.y) ? e.ll.y : t.ll.y, s = t.ur.y.isLessThan(e.ur.y) ? t.ur.y : e.ur.y;
    return { ll: { x: i, y: n }, ur: { x: r, y: s } };
  };
  var Ze = (t, e) => t.x.times(e.y).minus(t.y.times(e.x)), Tl = (t, e) => t.x.times(e.x).plus(t.y.times(e.y)), We = (t) => Tl(t, t).sqrt(), Rl = (t, e, i) => {
    let r = { x: e.x.minus(t.x), y: e.y.minus(t.y) }, n = { x: i.x.minus(t.x), y: i.y.minus(t.y) };
    return Ze(n, r).div(We(n)).div(We(r));
  }, Dl = (t, e, i) => {
    let r = { x: e.x.minus(t.x), y: e.y.minus(t.y) }, n = { x: i.x.minus(t.x), y: i.y.minus(t.y) };
    return Tl(n, r).div(We(n)).div(We(r));
  }, Sl = (t, e, i) => e.y.isZero() ? null : { x: t.x.plus(e.x.div(e.y).times(i.minus(t.y))), y: i }, Bl = (t, e, i) => e.x.isZero() ? null : { x: i, y: t.y.plus(e.y.div(e.x).times(i.minus(t.x))) }, Ol = (t, e, i, r) => {
    if (e.x.isZero())
      return Bl(i, r, t.x);
    if (r.x.isZero())
      return Bl(t, e, i.x);
    if (e.y.isZero())
      return Sl(i, r, t.y);
    if (r.y.isZero())
      return Sl(t, e, i.y);
    let n = Ze(e, r);
    if (n.isZero())
      return null;
    let s = { x: i.x.minus(t.x), y: i.y.minus(t.y) }, a = Ze(s, e).div(n), o = Ze(s, r).div(n), l = t.x.plus(o.times(e.x)), u = i.x.plus(a.times(r.x)), f = t.y.plus(o.times(e.y)), d = i.y.plus(a.times(r.y)), P = l.plus(u).div(2), E = f.plus(d).div(2);
    return { x: P, y: E };
  };
  var et = class t {
    constructor(e, i) {
      __publicField(this, "point");
      __publicField(this, "isLeft");
      __publicField(this, "segment");
      __publicField(this, "otherSE");
      __publicField(this, "consumedBy");
      e.events === void 0 ? e.events = [this] : e.events.push(this), this.point = e, this.isLeft = i;
    }
    static compare(e, i) {
      let r = t.comparePoints(e.point, i.point);
      return r !== 0 ? r : (e.point !== i.point && e.link(i), e.isLeft !== i.isLeft ? e.isLeft ? 1 : -1 : Mt.compare(e.segment, i.segment));
    }
    static comparePoints(e, i) {
      return e.x.isLessThan(i.x) ? -1 : e.x.isGreaterThan(i.x) ? 1 : e.y.isLessThan(i.y) ? -1 : e.y.isGreaterThan(i.y) ? 1 : 0;
    }
    link(e) {
      if (e.point === this.point)
        throw new Error("Tried to link already linked events");
      let i = e.point.events;
      for (let r = 0, n = i.length; r < n; r++) {
        let s = i[r];
        this.point.events.push(s), s.point = this.point;
      }
      this.checkForConsuming();
    }
    checkForConsuming() {
      let e = this.point.events.length;
      for (let i = 0; i < e; i++) {
        let r = this.point.events[i];
        if (r.segment.consumedBy === void 0)
          for (let n = i + 1; n < e; n++) {
            let s = this.point.events[n];
            s.consumedBy === void 0 && r.otherSE.point.events === s.otherSE.point.events && r.segment.consume(s.segment);
          }
      }
    }
    getAvailableLinkedEvents() {
      let e = [];
      for (let i = 0, r = this.point.events.length; i < r; i++) {
        let n = this.point.events[i];
        n !== this && !n.segment.ringOut && n.segment.isInResult() && e.push(n);
      }
      return e;
    }
    getLeftmostComparator(e) {
      let i = /* @__PURE__ */ new Map(), r = (n) => {
        let s = n.otherSE;
        i.set(n, { sine: Rl(this.point, e.point, s.point), cosine: Dl(this.point, e.point, s.point) });
      };
      return (n, s) => {
        i.has(n) || r(n), i.has(s) || r(s);
        let { sine: a, cosine: o } = i.get(n), { sine: l, cosine: u } = i.get(s);
        return a.isGreaterThanOrEqualTo(0) && l.isGreaterThanOrEqualTo(0) ? o.isLessThan(u) ? 1 : o.isGreaterThan(u) ? -1 : 0 : a.isLessThan(0) && l.isLessThan(0) ? o.isLessThan(u) ? -1 : o.isGreaterThan(u) ? 1 : 0 : l.isLessThan(a) ? -1 : l.isGreaterThan(a) ? 1 : 0;
      };
    }
  };
  var c_ = 0, Mt = class t {
    constructor(e, i, r, n) {
      __publicField(this, "id");
      __publicField(this, "leftSE");
      __publicField(this, "rightSE");
      __publicField(this, "rings");
      __publicField(this, "windings");
      __publicField(this, "ringOut");
      __publicField(this, "consumedBy");
      __publicField(this, "prev");
      __publicField(this, "_prevInResult");
      __publicField(this, "_beforeState");
      __publicField(this, "_afterState");
      __publicField(this, "_isInResult");
      this.id = ++c_, this.leftSE = e, e.segment = this, e.otherSE = i, this.rightSE = i, i.segment = this, i.otherSE = e, this.rings = r, this.windings = n;
    }
    static compare(e, i) {
      let r = e.leftSE.point.x, n = i.leftSE.point.x, s = e.rightSE.point.x, a = i.rightSE.point.x;
      if (a.isLessThan(r))
        return 1;
      if (s.isLessThan(n))
        return -1;
      let o = e.leftSE.point.y, l = i.leftSE.point.y, u = e.rightSE.point.y, f = i.rightSE.point.y;
      if (r.isLessThan(n)) {
        if (l.isLessThan(o) && l.isLessThan(u))
          return 1;
        if (l.isGreaterThan(o) && l.isGreaterThan(u))
          return -1;
        let d = e.comparePoint(i.leftSE.point);
        if (d < 0)
          return 1;
        if (d > 0)
          return -1;
        let P = i.comparePoint(e.rightSE.point);
        return P !== 0 ? P : -1;
      }
      if (r.isGreaterThan(n)) {
        if (o.isLessThan(l) && o.isLessThan(f))
          return -1;
        if (o.isGreaterThan(l) && o.isGreaterThan(f))
          return 1;
        let d = i.comparePoint(e.leftSE.point);
        if (d !== 0)
          return d;
        let P = e.comparePoint(i.rightSE.point);
        return P < 0 ? 1 : P > 0 ? -1 : 1;
      }
      if (o.isLessThan(l))
        return -1;
      if (o.isGreaterThan(l))
        return 1;
      if (s.isLessThan(a)) {
        let d = i.comparePoint(e.rightSE.point);
        if (d !== 0)
          return d;
      }
      if (s.isGreaterThan(a)) {
        let d = e.comparePoint(i.rightSE.point);
        if (d < 0)
          return 1;
        if (d > 0)
          return -1;
      }
      if (!s.eq(a)) {
        let d = u.minus(o), P = s.minus(r), E = f.minus(l), T = a.minus(n);
        if (d.isGreaterThan(P) && E.isLessThan(T))
          return 1;
        if (d.isLessThan(P) && E.isGreaterThan(T))
          return -1;
      }
      return s.isGreaterThan(a) ? 1 : s.isLessThan(a) || u.isLessThan(f) ? -1 : u.isGreaterThan(f) ? 1 : e.id < i.id ? -1 : e.id > i.id ? 1 : 0;
    }
    static fromRing(e, i, r) {
      let n, s, a, o = et.comparePoints(e, i);
      if (o < 0)
        n = e, s = i, a = 1;
      else if (o > 0)
        n = i, s = e, a = -1;
      else
        throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);
      let l = new et(n, true), u = new et(s, false);
      return new t(l, u, [r], [a]);
    }
    replaceRightSE(e) {
      this.rightSE = e, this.rightSE.segment = this, this.rightSE.otherSE = this.leftSE, this.leftSE.otherSE = this.rightSE;
    }
    bbox() {
      let e = this.leftSE.point.y, i = this.rightSE.point.y;
      return { ll: { x: this.leftSE.point.x, y: e.isLessThan(i) ? e : i }, ur: { x: this.rightSE.point.x, y: e.isGreaterThan(i) ? e : i } };
    }
    vector() {
      return { x: this.rightSE.point.x.minus(this.leftSE.point.x), y: this.rightSE.point.y.minus(this.leftSE.point.y) };
    }
    isAnEndpoint(e) {
      return e.x.eq(this.leftSE.point.x) && e.y.eq(this.leftSE.point.y) || e.x.eq(this.rightSE.point.x) && e.y.eq(this.rightSE.point.y);
    }
    comparePoint(e) {
      return ut.orient(this.leftSE.point, e, this.rightSE.point);
    }
    getIntersection(e) {
      let i = this.bbox(), r = e.bbox(), n = Pe(i, r);
      if (n === null)
        return null;
      let s = this.leftSE.point, a = this.rightSE.point, o = e.leftSE.point, l = e.rightSE.point, u = ae(i, o) && this.comparePoint(o) === 0, f = ae(r, s) && e.comparePoint(s) === 0, d = ae(i, l) && this.comparePoint(l) === 0, P = ae(r, a) && e.comparePoint(a) === 0;
      if (f && u)
        return P && !d ? a : !P && d ? l : null;
      if (f)
        return d && s.x.eq(l.x) && s.y.eq(l.y) ? null : s;
      if (u)
        return P && a.x.eq(o.x) && a.y.eq(o.y) ? null : o;
      if (P && d)
        return null;
      if (P)
        return a;
      if (d)
        return l;
      let E = Ol(s, this.vector(), o, e.vector());
      return E === null || !ae(n, E) ? null : ut.snap(E);
    }
    split(e) {
      let i = [], r = e.events !== void 0, n = new et(e, true), s = new et(e, false), a = this.rightSE;
      this.replaceRightSE(s), i.push(s), i.push(n);
      let o = new t(n, a, this.rings.slice(), this.windings.slice());
      return et.comparePoints(o.leftSE.point, o.rightSE.point) > 0 && o.swapEvents(), et.comparePoints(this.leftSE.point, this.rightSE.point) > 0 && this.swapEvents(), r && (n.checkForConsuming(), s.checkForConsuming()), i;
    }
    swapEvents() {
      let e = this.rightSE;
      this.rightSE = this.leftSE, this.leftSE = e, this.leftSE.isLeft = true, this.rightSE.isLeft = false;
      for (let i = 0, r = this.windings.length; i < r; i++)
        this.windings[i] *= -1;
    }
    consume(e) {
      let i = this, r = e;
      for (; i.consumedBy; )
        i = i.consumedBy;
      for (; r.consumedBy; )
        r = r.consumedBy;
      let n = t.compare(i, r);
      if (n !== 0) {
        if (n > 0) {
          let s = i;
          i = r, r = s;
        }
        if (i.prev === r) {
          let s = i;
          i = r, r = s;
        }
        for (let s = 0, a = r.rings.length; s < a; s++) {
          let o = r.rings[s], l = r.windings[s], u = i.rings.indexOf(o);
          u === -1 ? (i.rings.push(o), i.windings.push(l)) : i.windings[u] += l;
        }
        r.rings = null, r.windings = null, r.consumedBy = i, r.leftSE.consumedBy = i.leftSE, r.rightSE.consumedBy = i.rightSE;
      }
    }
    prevInResult() {
      return this._prevInResult !== void 0 ? this._prevInResult : (this.prev ? this.prev.isInResult() ? this._prevInResult = this.prev : this._prevInResult = this.prev.prevInResult() : this._prevInResult = null, this._prevInResult);
    }
    beforeState() {
      if (this._beforeState !== void 0)
        return this._beforeState;
      if (!this.prev)
        this._beforeState = { rings: [], windings: [], multiPolys: [] };
      else {
        let e = this.prev.consumedBy || this.prev;
        this._beforeState = e.afterState();
      }
      return this._beforeState;
    }
    afterState() {
      if (this._afterState !== void 0)
        return this._afterState;
      let e = this.beforeState();
      this._afterState = { rings: e.rings.slice(0), windings: e.windings.slice(0), multiPolys: [] };
      let i = this._afterState.rings, r = this._afterState.windings, n = this._afterState.multiPolys;
      for (let o = 0, l = this.rings.length; o < l; o++) {
        let u = this.rings[o], f = this.windings[o], d = i.indexOf(u);
        d === -1 ? (i.push(u), r.push(f)) : r[d] += f;
      }
      let s = [], a = [];
      for (let o = 0, l = i.length; o < l; o++) {
        if (r[o] === 0)
          continue;
        let u = i[o], f = u.poly;
        if (a.indexOf(f) === -1)
          if (u.isExterior)
            s.push(f);
          else {
            a.indexOf(f) === -1 && a.push(f);
            let d = s.indexOf(u.poly);
            d !== -1 && s.splice(d, 1);
          }
      }
      for (let o = 0, l = s.length; o < l; o++) {
        let u = s[o].multiPoly;
        n.indexOf(u) === -1 && n.push(u);
      }
      return this._afterState;
    }
    isInResult() {
      if (this.consumedBy)
        return false;
      if (this._isInResult !== void 0)
        return this._isInResult;
      let e = this.beforeState().multiPolys, i = this.afterState().multiPolys;
      switch (oe.type) {
        case "union": {
          let r = e.length === 0, n = i.length === 0;
          this._isInResult = r !== n;
          break;
        }
        case "intersection": {
          let r, n;
          e.length < i.length ? (r = e.length, n = i.length) : (r = i.length, n = e.length), this._isInResult = n === oe.numMultiPolys && r < n;
          break;
        }
        case "xor": {
          let r = Math.abs(e.length - i.length);
          this._isInResult = r % 2 === 1;
          break;
        }
        case "difference": {
          let r = (n) => n.length === 1 && n[0].isSubject;
          this._isInResult = r(e) !== r(i);
          break;
        }
      }
      return this._isInResult;
    }
  };
  var Qe = class {
    constructor(e, i, r) {
      __publicField(this, "poly");
      __publicField(this, "isExterior");
      __publicField(this, "segments");
      __publicField(this, "bbox");
      if (!Array.isArray(e) || e.length === 0)
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      if (this.poly = i, this.isExterior = r, this.segments = [], typeof e[0][0] != "number" || typeof e[0][1] != "number")
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      let n = ut.snap({ x: new mt(e[0][0]), y: new mt(e[0][1]) });
      this.bbox = { ll: { x: n.x, y: n.y }, ur: { x: n.x, y: n.y } };
      let s = n;
      for (let a = 1, o = e.length; a < o; a++) {
        if (typeof e[a][0] != "number" || typeof e[a][1] != "number")
          throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
        let l = ut.snap({ x: new mt(e[a][0]), y: new mt(e[a][1]) });
        l.x.eq(s.x) && l.y.eq(s.y) || (this.segments.push(Mt.fromRing(s, l, this)), l.x.isLessThan(this.bbox.ll.x) && (this.bbox.ll.x = l.x), l.y.isLessThan(this.bbox.ll.y) && (this.bbox.ll.y = l.y), l.x.isGreaterThan(this.bbox.ur.x) && (this.bbox.ur.x = l.x), l.y.isGreaterThan(this.bbox.ur.y) && (this.bbox.ur.y = l.y), s = l);
      }
      (!n.x.eq(s.x) || !n.y.eq(s.y)) && this.segments.push(Mt.fromRing(s, n, this));
    }
    getSweepEvents() {
      let e = [];
      for (let i = 0, r = this.segments.length; i < r; i++) {
        let n = this.segments[i];
        e.push(n.leftSE), e.push(n.rightSE);
      }
      return e;
    }
  }, nr = class {
    constructor(e, i) {
      __publicField(this, "multiPoly");
      __publicField(this, "exteriorRing");
      __publicField(this, "interiorRings");
      __publicField(this, "bbox");
      if (!Array.isArray(e))
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      this.exteriorRing = new Qe(e[0], this, true), this.bbox = { ll: { x: this.exteriorRing.bbox.ll.x, y: this.exteriorRing.bbox.ll.y }, ur: { x: this.exteriorRing.bbox.ur.x, y: this.exteriorRing.bbox.ur.y } }, this.interiorRings = [];
      for (let r = 1, n = e.length; r < n; r++) {
        let s = new Qe(e[r], this, false);
        s.bbox.ll.x.isLessThan(this.bbox.ll.x) && (this.bbox.ll.x = s.bbox.ll.x), s.bbox.ll.y.isLessThan(this.bbox.ll.y) && (this.bbox.ll.y = s.bbox.ll.y), s.bbox.ur.x.isGreaterThan(this.bbox.ur.x) && (this.bbox.ur.x = s.bbox.ur.x), s.bbox.ur.y.isGreaterThan(this.bbox.ur.y) && (this.bbox.ur.y = s.bbox.ur.y), this.interiorRings.push(s);
      }
      this.multiPoly = i;
    }
    getSweepEvents() {
      let e = this.exteriorRing.getSweepEvents();
      for (let i = 0, r = this.interiorRings.length; i < r; i++) {
        let n = this.interiorRings[i].getSweepEvents();
        for (let s = 0, a = n.length; s < a; s++)
          e.push(n[s]);
      }
      return e;
    }
  }, Se = class {
    constructor(e, i) {
      __publicField(this, "isSubject");
      __publicField(this, "polys");
      __publicField(this, "bbox");
      if (!Array.isArray(e))
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      try {
        typeof e[0][0][0] == "number" && (e = [e]);
      } catch {
      }
      this.polys = [], this.bbox = { ll: { x: new mt(Number.POSITIVE_INFINITY), y: new mt(Number.POSITIVE_INFINITY) }, ur: { x: new mt(Number.NEGATIVE_INFINITY), y: new mt(Number.NEGATIVE_INFINITY) } };
      for (let r = 0, n = e.length; r < n; r++) {
        let s = new nr(e[r], this);
        s.bbox.ll.x.isLessThan(this.bbox.ll.x) && (this.bbox.ll.x = s.bbox.ll.x), s.bbox.ll.y.isLessThan(this.bbox.ll.y) && (this.bbox.ll.y = s.bbox.ll.y), s.bbox.ur.x.isGreaterThan(this.bbox.ur.x) && (this.bbox.ur.x = s.bbox.ur.x), s.bbox.ur.y.isGreaterThan(this.bbox.ur.y) && (this.bbox.ur.y = s.bbox.ur.y), this.polys.push(s);
      }
      this.isSubject = i;
    }
    getSweepEvents() {
      let e = [];
      for (let i = 0, r = this.polys.length; i < r; i++) {
        let n = this.polys[i].getSweepEvents();
        for (let s = 0, a = n.length; s < a; s++)
          e.push(n[s]);
      }
      return e;
    }
  };
  var ti = class t {
    constructor(e) {
      __publicField(this, "events");
      __publicField(this, "poly");
      __publicField(this, "_isExteriorRing");
      __publicField(this, "_enclosingRing");
      this.events = e;
      for (let i = 0, r = e.length; i < r; i++)
        e[i].segment.ringOut = this;
      this.poly = null;
    }
    static factory(e) {
      let i = [];
      for (let r = 0, n = e.length; r < n; r++) {
        let s = e[r];
        if (!s.isInResult() || s.ringOut)
          continue;
        let a = null, o = s.leftSE, l = s.rightSE, u = [o], f = o.point, d = [];
        for (; a = o, o = l, u.push(o), o.point !== f; )
          for (; ; ) {
            let P = o.getAvailableLinkedEvents();
            if (P.length === 0) {
              let G = u[0].point, _ = u[u.length - 1].point;
              throw new Error(`Unable to complete output ring starting at [${G.x}, ${G.y}]. Last matching segment found ends at [${_.x}, ${_.y}].`);
            }
            if (P.length === 1) {
              l = P[0].otherSE;
              break;
            }
            let E = null;
            for (let G = 0, _ = d.length; G < _; G++)
              if (d[G].point === o.point) {
                E = G;
                break;
              }
            if (E !== null) {
              let G = d.splice(E)[0], _ = u.splice(G.index);
              _.unshift(_[0].otherSE), i.push(new t(_.reverse()));
              continue;
            }
            d.push({ index: u.length, point: o.point });
            let T = o.getLeftmostComparator(a);
            l = P.sort(T)[0].otherSE;
            break;
          }
        i.push(new t(u));
      }
      return i;
    }
    getGeom() {
      let e = this.events[0].point, i = [e];
      for (let u = 1, f = this.events.length - 1; u < f; u++) {
        let d = this.events[u].point, P = this.events[u + 1].point;
        ut.orient(d, e, P) !== 0 && (i.push(d), e = d);
      }
      if (i.length === 1)
        return null;
      let r = i[0], n = i[1];
      ut.orient(r, e, n) === 0 && i.shift(), i.push(i[0]);
      let s = this.isExteriorRing() ? 1 : -1, a = this.isExteriorRing() ? 0 : i.length - 1, o = this.isExteriorRing() ? i.length : -1, l = [];
      for (let u = a; u != o; u += s)
        l.push([i[u].x.toNumber(), i[u].y.toNumber()]);
      return l;
    }
    isExteriorRing() {
      if (this._isExteriorRing === void 0) {
        let e = this.enclosingRing();
        this._isExteriorRing = e ? !e.isExteriorRing() : true;
      }
      return this._isExteriorRing;
    }
    enclosingRing() {
      return this._enclosingRing === void 0 && (this._enclosingRing = this._calcEnclosingRing()), this._enclosingRing;
    }
    _calcEnclosingRing() {
      let e = this.events[0];
      for (let n = 1, s = this.events.length; n < s; n++) {
        let a = this.events[n];
        et.compare(e, a) > 0 && (e = a);
      }
      let i = e.segment.prevInResult(), r = i ? i.prevInResult() : null;
      for (; ; ) {
        if (!i)
          return null;
        if (!r)
          return i.ringOut;
        if (r.ringOut !== i.ringOut)
          return r.ringOut?.enclosingRing() !== i.ringOut ? i.ringOut : i.ringOut?.enclosingRing();
        i = r.prevInResult(), r = i ? i.prevInResult() : null;
      }
    }
  }, ei = class {
    constructor(e) {
      __publicField(this, "exteriorRing");
      __publicField(this, "interiorRings");
      this.exteriorRing = e, e.poly = this, this.interiorRings = [];
    }
    addInterior(e) {
      this.interiorRings.push(e), e.poly = this;
    }
    getGeom() {
      let e = this.exteriorRing.getGeom();
      if (e === null)
        return null;
      let i = [e];
      for (let r = 0, n = this.interiorRings.length; r < n; r++) {
        let s = this.interiorRings[r].getGeom();
        s !== null && i.push(s);
      }
      return i;
    }
  }, ii = class {
    constructor(e) {
      __publicField(this, "rings");
      __publicField(this, "polys");
      this.rings = e, this.polys = this._composePolys(e);
    }
    getGeom() {
      let e = [];
      for (let i = 0, r = this.polys.length; i < r; i++) {
        let n = this.polys[i].getGeom();
        n !== null && e.push(n);
      }
      return e;
    }
    _composePolys(e) {
      let i = [];
      for (let r = 0, n = e.length; r < n; r++) {
        let s = e[r];
        if (!s.poly)
          if (s.isExteriorRing())
            i.push(new ei(s));
          else {
            let a = s.enclosingRing();
            a?.poly || i.push(new ei(a)), a?.poly?.addInterior(s);
          }
      }
      return i;
    }
  };
  var Be = class {
    constructor(e, i = Mt.compare) {
      __publicField(this, "queue");
      __publicField(this, "tree");
      __publicField(this, "segments");
      this.queue = e, this.tree = new Pt(i), this.segments = [];
    }
    process(e) {
      let i = e.segment, r = [];
      if (e.consumedBy)
        return e.isLeft ? this.queue.delete(e.otherSE) : this.tree.delete(i), r;
      e.isLeft && this.tree.add(i);
      let n = i, s = i;
      do
        n = this.tree.lastBefore(n);
      while (n != null && n.consumedBy != null);
      do
        s = this.tree.firstAfter(s);
      while (s != null && s.consumedBy != null);
      if (e.isLeft) {
        let a = null;
        if (n) {
          let l = n.getIntersection(i);
          if (l !== null && (i.isAnEndpoint(l) || (a = l), !n.isAnEndpoint(l))) {
            let u = this._splitSafely(n, l);
            for (let f = 0, d = u.length; f < d; f++)
              r.push(u[f]);
          }
        }
        let o = null;
        if (s) {
          let l = s.getIntersection(i);
          if (l !== null && (i.isAnEndpoint(l) || (o = l), !s.isAnEndpoint(l))) {
            let u = this._splitSafely(s, l);
            for (let f = 0, d = u.length; f < d; f++)
              r.push(u[f]);
          }
        }
        if (a !== null || o !== null) {
          let l = null;
          a === null ? l = o : o === null ? l = a : l = et.comparePoints(a, o) <= 0 ? a : o, this.queue.delete(i.rightSE), r.push(i.rightSE);
          let u = i.split(l);
          for (let f = 0, d = u.length; f < d; f++)
            r.push(u[f]);
        }
        r.length > 0 ? (this.tree.delete(i), r.push(e)) : (this.segments.push(i), i.prev = n);
      } else {
        if (n && s) {
          let a = n.getIntersection(s);
          if (a !== null) {
            if (!n.isAnEndpoint(a)) {
              let o = this._splitSafely(n, a);
              for (let l = 0, u = o.length; l < u; l++)
                r.push(o[l]);
            }
            if (!s.isAnEndpoint(a)) {
              let o = this._splitSafely(s, a);
              for (let l = 0, u = o.length; l < u; l++)
                r.push(o[l]);
            }
          }
        }
        this.tree.delete(i);
      }
      return r;
    }
    _splitSafely(e, i) {
      this.tree.delete(e);
      let r = e.rightSE;
      this.queue.delete(r);
      let n = e.split(i);
      return n.push(r), e.consumedBy === void 0 && this.tree.add(e), n;
    }
  };
  var sr = class {
    constructor() {
      __publicField(this, "type");
      __publicField(this, "numMultiPolys");
    }
    run(e, i, r) {
      Te.type = e;
      let n = [new Se(i, true)];
      for (let f = 0, d = r.length; f < d; f++)
        n.push(new Se(r[f], false));
      if (Te.numMultiPolys = n.length, Te.type === "difference") {
        let f = n[0], d = 1;
        for (; d < n.length; )
          Pe(n[d].bbox, f.bbox) !== null ? d++ : n.splice(d, 1);
      }
      if (Te.type === "intersection")
        for (let f = 0, d = n.length; f < d; f++) {
          let P = n[f];
          for (let E = f + 1, T = n.length; E < T; E++)
            if (Pe(P.bbox, n[E].bbox) === null)
              return [];
        }
      let s = new Pt(et.compare);
      for (let f = 0, d = n.length; f < d; f++) {
        let P = n[f].getSweepEvents();
        for (let E = 0, T = P.length; E < T; E++)
          s.add(P[E]);
      }
      let a = new Be(s), o = null;
      for (s.size != 0 && (o = s.first(), s.delete(o)); o; ) {
        let f = a.process(o);
        for (let d = 0, P = f.length; d < P; d++) {
          let E = f[d];
          E.consumedBy === void 0 && s.add(E);
        }
        s.size != 0 ? (o = s.first(), s.delete(o)) : o = null;
      }
      ut.reset();
      let l = ti.factory(a.segments);
      return new ii(l).getGeom();
    }
  }, Te = new sr(), oe = Te;
  var Al = (t, ...e) => oe.run("intersection", t, e);
  var Il = (t, ...e) => oe.run("difference", t, e), pM = ut.set;
  function ni(t) {
    let e = { type: "Feature" };
    return e.geometry = t, e;
  }
  function ri(t) {
    return t.type === "Feature" ? t.geometry : t;
  }
  function Gl(t) {
    return t && t.geometry && t.geometry.coordinates ? t.geometry.coordinates : t;
  }
  function g_(t) {
    return ni({ type: "LineString", coordinates: t });
  }
  function m_(t) {
    return ni({ type: "MultiLineString", coordinates: t });
  }
  function ql(t) {
    return ni({ type: "Polygon", coordinates: t });
  }
  function Nl(t) {
    return ni({ type: "MultiPolygon", coordinates: t });
  }
  function zl(t, e) {
    let i = ri(t), r = ri(e), n = Al(i.coordinates, r.coordinates);
    return n.length === 0 ? null : n.length === 1 ? ql(n[0]) : Nl(n);
  }
  function Fl(t, e) {
    let i = ri(t), r = ri(e), n = Il(i.coordinates, r.coordinates);
    return n.length === 0 ? null : n.length === 1 ? ql(n[0]) : Nl(n);
  }
  function Vl(t) {
    return Array.isArray(t) ? 1 + Vl(t[0]) : -1;
  }
  function Ul(t) {
    t instanceof L.Polyline && (t = t.toGeoJSON(15));
    let e = Gl(t), i = Vl(e), r = [];
    return i > 1 ? e.forEach((n) => {
      r.push(g_(n));
    }) : r.push(t), r;
  }
  function jl(t) {
    let e = [];
    return t.eachLayer((i) => {
      e.push(Gl(i.toGeoJSON(15)));
    }), m_(e);
  }
  X.Cut = X.Polygon.extend({ initialize(t) {
    this._map = t, this._shape = "Cut", this.toolbarButtonName = "cutPolygon";
  }, _finishShape() {
    if (this._editedLayers = [], !this.options.allowSelfIntersection && (this._handleSelfIntersection(true, this._layer.getLatLngs()[0]), this._doesSelfIntersect) || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    let t = this._layer.getLatLngs();
    if (t.length <= 2)
      return;
    let e = L.polygon(t, this.options.pathOptions);
    e._latlngInfos = this._layer._latlngInfo, this.cut(e), this._cleanupSnapping(), this._otherSnapLayers.splice(this._tempSnapLayerIndex, 1), delete this._tempSnapLayerIndex, this._editedLayers.forEach(({ layer: i, originalLayer: r }) => {
      this._fireCut(r, i, r), this._fireCut(this._map, i, r), r.pm._fireEdit();
    }), this._editedLayers = [], this.disable(), this.options.continueDrawing && this.enable();
  }, cut(t) {
    let e = this._map._layers, i = t._latlngInfos || [];
    Object.keys(e).map((n) => e[n]).filter((n) => n.pm).filter((n) => !n._pmTempLayer).filter((n) => !L.PM.optIn && !n.options.pmIgnore || L.PM.optIn && n.options.pmIgnore === false).filter((n) => n instanceof L.Polyline).filter((n) => n !== t).filter((n) => n.pm.options.allowCutting).filter((n) => this.options.layersToCut && L.Util.isArray(this.options.layersToCut) && this.options.layersToCut.length > 0 ? this.options.layersToCut.indexOf(n) > -1 : true).filter((n) => !this._layerGroup.hasLayer(n)).filter((n) => {
      try {
        let s = !!pt(t.toGeoJSON(15), n.toGeoJSON(15)).features.length > 0;
        return s || n instanceof L.Polyline && !(n instanceof L.Polygon) ? s : !!zl(t.toGeoJSON(15), n.toGeoJSON(15));
      } catch {
        return n instanceof L.Polygon && console.error("You can't cut polygons with self-intersections"), false;
      }
    }).forEach((n) => {
      let s;
      if (n instanceof L.Polygon) {
        s = L.polygon(n.getLatLngs());
        let u = s.getLatLngs();
        i.forEach((f) => {
          if (f && f.snapInfo) {
            let { latlng: d } = f, P = this._calcClosestLayer(d, [s]);
            if (P && P.segment && P.distance < this.options.snapDistance) {
              let { segment: E } = P;
              if (E && E.length === 2) {
                let { indexPath: T, parentPath: G, newIndex: _ } = L.PM.Utils._getIndexFromSegment(u, E);
                (T.length > 1 ? (0, Kl.default)(u, G) : u).splice(_, 0, d);
              }
            }
          }
        });
      } else
        s = n;
      let a = this._cutLayer(t, s), o = L.geoJSON(a, n.options);
      o.getLayers().length === 1 && ([o] = o.getLayers()), this._setPane(o, "layerPane");
      let l = o.addTo(this._map.pm._getContainingLayer());
      if (l.pm.enable(n.pm.options), l.pm.disable(), n._pmTempLayer = true, t._pmTempLayer = true, n.remove(), n.removeFrom(this._map.pm._getContainingLayer()), t.remove(), t.removeFrom(this._map.pm._getContainingLayer()), l.getLayers && l.getLayers().length === 0 && this._map.pm.removeLayer({ target: l }), l instanceof L.LayerGroup ? (l.eachLayer((u) => {
        this._addDrawnLayerProp(u);
      }), this._addDrawnLayerProp(l)) : this._addDrawnLayerProp(l), this.options.layersToCut && L.Util.isArray(this.options.layersToCut) && this.options.layersToCut.length > 0) {
        let u = this.options.layersToCut.indexOf(n);
        u > -1 && this.options.layersToCut.splice(u, 1);
      }
      this._editedLayers.push({ layer: l, originalLayer: n });
    });
  }, _cutLayer(t, e) {
    let i = L.geoJSON(), r;
    if (e instanceof L.Polygon)
      r = Fl(e.toGeoJSON(15), t.toGeoJSON(15));
    else {
      let n = Ul(e);
      n.forEach((s) => {
        let a = vl(s, t.toGeoJSON(15)), o;
        a && a.features.length > 0 ? o = L.geoJSON(a) : o = L.geoJSON(s), o.getLayers().forEach((l) => {
          Yi(t.toGeoJSON(15), l.toGeoJSON(15)) || l.addTo(i);
        });
      }), n.length > 1 ? r = jl(i) : r = i.toGeoJSON(15);
    }
    return r;
  }, _change: L.Util.falseFn });
  X.Text = X.extend({ initialize(t) {
    this._map = t, this._shape = "Text", this.toolbarButtonName = "drawText";
  }, enable(t) {
    L.Util.setOptions(this, t), this._enabled = true, this._map.on("click", this._createMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._hintMarker = L.marker(this._map.getCenter(), { interactive: false, zIndexOffset: 100, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._hintMarker.addTo(this._map), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.placeText"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._layer = this._hintMarker, this._map.on("mousemove", this._syncHintMarker, this), this._map.getContainer().classList.add("geoman-draw-cursor"), this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.off("click", this._createMarker, this), this._hintMarker?.remove(), this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("mousemove", this._syncHintMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let e = t;
      e.target = this._hintMarker, this._handleSnapping(e);
    }
  }, _createMarker(t) {
    if (!t.latlng || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng();
    if (this.textArea = this._createTextArea(), this.options.textOptions?.className) {
      let n = this.options.textOptions.className.split(" ");
      this.textArea.classList.add(...n);
    }
    let i = this._createTextIcon(this.textArea), r = new L.Marker(e, { textMarker: true, _textMarkerOverPM: true, icon: i });
    if (this._setPane(r, "markerPane"), this._finishLayer(r), r.pm || (r.options.draggable = false), r.addTo(this._map.pm._getContainingLayer()), r.pm) {
      r.pm.textArea = this.textArea, L.setOptions(r.pm, { removeIfEmpty: this.options.textOptions?.removeIfEmpty ?? true });
      let n = this.options.textOptions?.focusAfterDraw ?? true;
      r.pm._createTextMarker(n), this.options.textOptions?.text && r.pm.setText(this.options.textOptions.text);
    }
    this._fireCreate(r), this._cleanupSnapping(), this.disable(), this.options.continueDrawing && this.enable();
  }, _createTextArea() {
    let t = document.createElement("textarea");
    return t.readOnly = true, t.classList.add("pm-textarea", "pm-disabled"), t;
  }, _createTextIcon(t) {
    return L.divIcon({ className: "pm-text-marker", html: t });
  } });
  var __ = { enableLayerDrag() {
    if (!this.options.draggable || !this._layer._map)
      return;
    this.disable(), this._layerDragEnabled = true, this._map || (this._map = this._layer._map), (this._layer instanceof L.Marker || this._layer instanceof L.ImageOverlay) && L.DomEvent.on(this._getDOMElem(), "dragstart", this._stopDOMImageDrag), this._layer.dragging && this._layer.dragging.disable(), this._tempDragCoord = null, Rt(this._layer) instanceof L.Canvas ? (this._layer.on("mouseout", this.removeDraggingClass, this), this._layer.on("mouseover", this.addDraggingClass, this)) : this.addDraggingClass(), this._originalMapDragState = this._layer._map.dragging._enabled, this._safeToCacheDragState = true;
    let t = this._getDOMElem();
    t && (Rt(this._layer) instanceof L.Canvas ? (this._layer.on("touchstart mousedown", this._dragMixinOnMouseDown, this), this._map.pm._addTouchEvents(t)) : L.DomEvent.on(t, "touchstart mousedown", this._simulateMouseDownEvent, this)), this._fireDragEnable();
  }, disableLayerDrag() {
    this._layerDragEnabled = false, Rt(this._layer) instanceof L.Canvas ? (this._layer.off("mouseout", this.removeDraggingClass, this), this._layer.off("mouseover", this.addDraggingClass, this)) : this.removeDraggingClass(), this._originalMapDragState && this._dragging && this._map.dragging.enable(), this._safeToCacheDragState = false, this._layer.dragging && this._layer.dragging.disable();
    let t = this._getDOMElem();
    t && (Rt(this._layer) instanceof L.Canvas ? (this._layer.off("touchstart mousedown", this._dragMixinOnMouseDown, this), this._map.pm._removeTouchEvents(t)) : L.DomEvent.off(t, "touchstart mousedown", this._simulateMouseDownEvent, this)), this._layerDragged && this._fireUpdate(), this._layerDragged = false, this._fireDragDisable();
  }, dragging() {
    return this._dragging;
  }, layerDragEnabled() {
    return !!this._layerDragEnabled;
  }, _simulateMouseDownEvent(t) {
    let e = t.touches ? t.touches[0] : t, i = { originalEvent: e, target: this._layer };
    return i.containerPoint = this._map.mouseEventToContainerPoint(e), i.latlng = this._map.containerPointToLatLng(i.containerPoint), this._dragMixinOnMouseDown(i), false;
  }, _simulateMouseMoveEvent(t) {
    let e = t.touches ? t.touches[0] : t, i = { originalEvent: e, target: this._layer };
    return i.containerPoint = this._map.mouseEventToContainerPoint(e), i.latlng = this._map.containerPointToLatLng(i.containerPoint), this._dragMixinOnMouseMove(i), false;
  }, _simulateMouseUpEvent(t) {
    let i = { originalEvent: t.touches ? t.touches[0] : t, target: this._layer };
    return t.type.indexOf("touch") === -1 && (i.containerPoint = this._map.mouseEventToContainerPoint(t), i.latlng = this._map.containerPointToLatLng(i.containerPoint)), this._dragMixinOnMouseUp(i), false;
  }, _dragMixinOnMouseDown(t) {
    if (t.originalEvent.button > 0)
      return;
    this._overwriteEventIfItComesFromMarker(t);
    let e = t._fromLayerSync, i = this._syncLayers("_dragMixinOnMouseDown", t);
    if (this._layer instanceof L.Marker && (this.options.snappable && !e && !i ? this._initSnappableMarkers() : this._disableSnapping()), this._layer instanceof L.CircleMarker) {
      let r = "resizeableCircleMarker";
      this._layer instanceof L.Circle && (r = "resizableCircle"), this.options.snappable && !e && !i ? this._layer.pm.options[r] || this._initSnappableMarkersDrag() : this._layer.pm.options[r] ? this._layer.pm._disableSnapping() : this._layer.pm._disableSnappingDrag();
    }
    this._safeToCacheDragState && (this._originalMapDragState = this._layer._map.dragging._enabled, this._safeToCacheDragState = false), this._tempDragCoord = t.latlng, L.DomEvent.on(this._map.getContainer(), "touchend mouseup", this._simulateMouseUpEvent, this), L.DomEvent.on(this._map.getContainer(), "touchmove mousemove", this._simulateMouseMoveEvent, this);
  }, _dragMixinOnMouseMove(t) {
    this._overwriteEventIfItComesFromMarker(t);
    let e = this._getDOMElem();
    this._syncLayers("_dragMixinOnMouseMove", t), this._dragging || (this._dragging = true, L.DomUtil.addClass(e, "leaflet-pm-dragging"), this._layer instanceof L.Marker || this._layer.bringToFront(), this._originalMapDragState && this._map.dragging.disable(), this._fireDragStart()), this._tempDragCoord || (this._tempDragCoord = t.latlng), this._onLayerDrag(t), this._layer instanceof L.CircleMarker && this._layer.pm._updateHiddenPolyCircle();
  }, _dragMixinOnMouseUp(t) {
    let e = this._getDOMElem();
    return this._syncLayers("_dragMixinOnMouseUp", t), this._originalMapDragState && this._map.dragging.enable(), this._safeToCacheDragState = true, L.DomEvent.off(this._map.getContainer(), "touchmove mousemove", this._simulateMouseMoveEvent, this), L.DomEvent.off(this._map.getContainer(), "touchend mouseup", this._simulateMouseUpEvent, this), this._dragging ? (this._layer instanceof L.CircleMarker && this._layer.pm._updateHiddenPolyCircle(), this._layerDragged = true, window.setTimeout(() => {
      this._dragging = false, e && L.DomUtil.removeClass(e, "leaflet-pm-dragging"), this._fireDragEnd(), this._fireEdit(), this._layerEdited = true;
    }, 10), true) : false;
  }, _onLayerDrag(t) {
    let { latlng: e } = t, i = { lat: e.lat - this._tempDragCoord.lat, lng: e.lng - this._tempDragCoord.lng }, r = (n) => n.map((s) => {
      if (Array.isArray(s))
        return r(s);
      let a = { lat: s.lat + i.lat, lng: s.lng + i.lng };
      return (s.alt || s.alt === 0) && (a.alt = s.alt), a;
    });
    if (this._layer instanceof L.Circle && this._layer.options.resizableCircle || this._layer instanceof L.CircleMarker && this._layer.options.resizeableCircleMarker) {
      let n = r([this._layer.getLatLng()]);
      this._layer.setLatLng(n[0]), this._fireChange(this._layer.getLatLng(), "Edit");
    } else if (this._layer instanceof L.CircleMarker || this._layer instanceof L.Marker) {
      let n = this._layer.getLatLng();
      this._layer._snapped && (n = this._layer._orgLatLng);
      let s = r([n]);
      this._layer.setLatLng(s[0]), this._fireChange(this._layer.getLatLng(), "Edit");
    } else if (this._layer instanceof L.ImageOverlay) {
      let n = r([this._layer.getBounds().getNorthWest(), this._layer.getBounds().getSouthEast()]);
      this._layer.setBounds(n), this._fireChange(this._layer.getBounds(), "Edit");
    } else {
      let n = r(this._layer.getLatLngs());
      this._layer.setLatLngs(n), this._fireChange(this._layer.getLatLngs(), "Edit");
    }
    this._tempDragCoord = e, t.layer = this._layer, this._fireDrag(t);
  }, addDraggingClass() {
    let t = this._getDOMElem();
    t && L.DomUtil.addClass(t, "leaflet-pm-draggable");
  }, removeDraggingClass() {
    let t = this._getDOMElem();
    t && L.DomUtil.removeClass(t, "leaflet-pm-draggable");
  }, _getDOMElem() {
    let t = null;
    return this._layer._path ? t = this._layer._path : this._layer._renderer && this._layer._renderer._container ? t = this._layer._renderer._container : this._layer._image ? t = this._layer._image : this._layer._icon && (t = this._layer._icon), t;
  }, _overwriteEventIfItComesFromMarker(t) {
    t.target.getLatLng && (!t.target._radius || t.target._radius <= 10) && (t.containerPoint = this._map.mouseEventToContainerPoint(t.originalEvent), t.latlng = this._map.containerPointToLatLng(t.containerPoint));
  }, _syncLayers(t, e) {
    if (this.enabled())
      return false;
    if (!e._fromLayerSync && this._layer === e.target && this.options.syncLayersOnDrag) {
      e._fromLayerSync = true;
      let i = [];
      if (L.Util.isArray(this.options.syncLayersOnDrag))
        i = this.options.syncLayersOnDrag, this.options.syncLayersOnDrag.forEach((r) => {
          r instanceof L.LayerGroup && (i = i.concat(r.pm.getLayers(true)));
        });
      else if (this.options.syncLayersOnDrag === true && this._parentLayerGroup)
        for (let r in this._parentLayerGroup) {
          let n = this._parentLayerGroup[r];
          n.pm && (i = n.pm.getLayers(true));
        }
      return L.Util.isArray(i) && i.length > 0 && (i = i.filter((r) => !!r.pm).filter((r) => !!r.pm.options.draggable), i.forEach((r) => {
        r !== this._layer && r.pm[t] && (r._snapped = false, r.pm[t](e));
      })), i.length > 0;
    }
    return false;
  }, _stopDOMImageDrag(t) {
    return t.preventDefault(), false;
  } }, Hl = __;
  var Xl = xt(Le());
  function y_(t, e, i, r) {
    return i.unproject(e.transform(i.project(t, r)), r);
  }
  function ar(t, e, i) {
    let r = i.getMaxZoom();
    if (r === 1 / 0 && (r = i.getZoom()), L.Util.isArray(t)) {
      let n = [];
      return t.forEach((s) => {
        n.push(ar(s, e, i));
      }), n;
    }
    return t instanceof L.LatLng ? y_(t, e, i, r) : null;
  }
  function It(t, e) {
    e instanceof L.Layer && (e = e.getLatLng());
    let i = t.getMaxZoom();
    return i === 1 / 0 && (i = t.getZoom()), t.project(e, i);
  }
  function Re(t, e) {
    let i = t.getMaxZoom();
    return i === 1 / 0 && (i = t.getZoom()), t.unproject(e, i);
  }
  var L_ = { _onRotateStart(t) {
    this._preventRenderingMarkers(true), this._rotationOriginLatLng = this._getRotationCenter().clone(), this._rotationOriginPoint = It(this._map, this._rotationOriginLatLng), this._rotationStartPoint = It(this._map, t.target.getLatLng()), this._initialRotateLatLng = vt(this._layer), this._startAngle = this.getAngle();
    let e = vt(this._rotationLayer, this._rotationLayer.pm._rotateOrgLatLng);
    this._fireRotationStart(this._rotationLayer, e), this._fireRotationStart(this._map, e);
  }, _onRotate(t) {
    let e = It(this._map, t.target.getLatLng()), i = this._rotationStartPoint, r = this._rotationOriginPoint, n = Math.atan2(e.y - r.y, e.x - r.x) - Math.atan2(i.y - r.y, i.x - r.x);
    this._layer.setLatLngs(this._rotateLayer(n, this._initialRotateLatLng, this._rotationOriginLatLng, L.PM.Matrix.init(), this._map));
    let s = this;
    function a(f, d = [], P = -1) {
      if (P > -1 && d.push(P), L.Util.isArray(f[0]))
        f.forEach((E, T) => a(E, d.slice(), T));
      else {
        let E = (0, Xl.default)(s._markers, d);
        f.forEach((T, G) => {
          E[G].setLatLng(T);
        });
      }
    }
    a(this._layer.getLatLngs());
    let o = vt(this._rotationLayer);
    this._rotationLayer.setLatLngs(this._rotateLayer(n, this._rotationLayer.pm._rotateOrgLatLng, this._rotationOriginLatLng, L.PM.Matrix.init(), this._map));
    let l = n * 180 / Math.PI;
    l = l < 0 ? l + 360 : l;
    let u = l + this._startAngle;
    this._setAngle(u), this._rotationLayer.pm._setAngle(u), this._fireRotation(this._rotationLayer, l, o), this._fireRotation(this._map, l, o), this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(), "Rotation");
  }, _onRotateEnd() {
    let t = this._startAngle;
    delete this._rotationOriginLatLng, delete this._rotationOriginPoint, delete this._rotationStartPoint, delete this._initialRotateLatLng, delete this._startAngle;
    let e = vt(this._rotationLayer, this._rotationLayer.pm._rotateOrgLatLng);
    this._rotationLayer.pm._rotateOrgLatLng = vt(this._rotationLayer), this._fireRotationEnd(this._rotationLayer, t, e), this._fireRotationEnd(this._map, t, e), this._rotationLayer.pm._fireEdit(this._rotationLayer, "Rotation"), this._preventRenderingMarkers(false), this._layerRotated = true;
  }, _rotateLayer(t, e, i, r, n) {
    let s = It(n, i);
    return this._matrix = r.clone().rotate(t, s).flip(), ar(e, this._matrix, n);
  }, _setAngle(t) {
    t = t < 0 ? t + 360 : t, this._angle = t % 360;
  }, _getRotationCenter() {
    if (this._rotationCenter)
      return this._rotationCenter;
    let t = L.polygon(this._layer.getLatLngs(), { stroke: false, fill: false, pmIgnore: true }).addTo(this._layer._map), e = t.getCenter();
    return t.removeFrom(this._layer._map), e;
  }, enableRotate() {
    if (!this.options.allowRotation) {
      this.disableRotate();
      return;
    }
    this.rotateEnabled() && this.disableRotate(), this._layer instanceof L.Rectangle && this._angle === void 0 && this.setInitAngle(ke(this._layer._map, this._layer.getLatLngs()[0][0], this._layer.getLatLngs()[0][1]) || 0);
    let t = { fill: false, stroke: false, pmIgnore: false, snapIgnore: true };
    this._rotatePoly = L.polygon(this._layer.getLatLngs(), t), this._rotatePoly._pmTempLayer = true, this._rotatePoly.addTo(this._layer._map), this._rotatePoly.pm._setAngle(this.getAngle()), this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()), this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()), this._rotatePoly.pm.setOptions({ rotate: true, snappable: false, hideMiddleMarkers: true }), this._rotatePoly.pm._rotationLayer = this._layer, this._rotatePoly.pm.enable(), this._rotateOrgLatLng = vt(this._layer), this._rotateEnabled = true, this._layer.on("remove", this.disableRotate, this), this._fireRotationEnable(this._layer), this._fireRotationEnable(this._layer._map);
  }, disableRotate() {
    this.rotateEnabled() && (this._rotatePoly.pm._layerRotated && this._fireUpdate(), this._rotatePoly.pm._layerRotated = false, this._rotatePoly.pm.disable(), this._rotatePoly.remove(), this._rotatePoly.pm.setOptions({ rotate: false }), this._rotatePoly = void 0, this._rotateOrgLatLng = void 0, this._layer.off("remove", this.disableRotate, this), this._rotateEnabled = false, this._fireRotationDisable(this._layer), this._fireRotationDisable(this._layer._map));
  }, rotateEnabled() {
    return !!this._rotateEnabled;
  }, rotateLayer(t) {
    let e = this.getAngle(), i = this._layer.getLatLngs(), r = t * (Math.PI / 180);
    this._layer.setLatLngs(this._rotateLayer(r, this._layer.getLatLngs(), this._getRotationCenter(), L.PM.Matrix.init(), this._layer._map)), this._rotateOrgLatLng = L.polygon(this._layer.getLatLngs()).getLatLngs(), this._setAngle(this.getAngle() + t), this.rotateEnabled() && this._rotatePoly && this._rotatePoly.pm.enabled() && (this._rotatePoly.setLatLngs(this._rotateLayer(r, this._rotatePoly.getLatLngs(), this._getRotationCenter(), L.PM.Matrix.init(), this._rotatePoly._map)), this._rotatePoly.pm._initMarkers());
    let n = this.getAngle() - e;
    n = n < 0 ? n + 360 : n, this._startAngle = e, this._fireRotation(this._layer, n, i, this._layer), this._fireRotation(this._map || this._layer._map, n, i, this._layer), delete this._startAngle, this._fireChange(this._layer.getLatLngs(), "Rotation");
  }, rotateLayerToAngle(t) {
    let e = t - this.getAngle();
    this.rotateLayer(e);
  }, getAngle() {
    return this._angle || 0;
  }, setInitAngle(t) {
    this._setAngle(t);
  }, getRotationCenter() {
    return this._getRotationCenter();
  }, setRotationCenter(t) {
    this._rotationCenter = t, this._rotatePoly && this._rotatePoly.pm.setRotationCenter(t);
  } }, Yl = L_;
  var b_ = L.Class.extend({ includes: [Hl, Fe, Yl, Tt], options: { snappable: true, snapDistance: 20, allowSelfIntersection: true, allowSelfIntersectionEdit: false, preventMarkerRemoval: false, removeLayerBelowMinVertexCount: true, limitMarkersToCount: -1, hideMiddleMarkers: false, snapSegment: true, syncLayersOnDrag: false, draggable: true, allowEditing: true, allowRemoval: true, allowCutting: true, allowRotation: true, addVertexOn: "click", removeVertexOn: "contextmenu", removeVertexValidation: void 0, addVertexValidation: void 0, moveVertexValidation: void 0, resizeableCircleMarker: false, resizableCircle: true }, setOptions(t) {
    L.Util.setOptions(this, t);
  }, getOptions() {
    return this.options;
  }, applyOptions() {
  }, isPolygon() {
    return this._layer instanceof L.Polygon;
  }, getShape() {
    return this._shape;
  }, _setPane(t, e) {
    e === "layerPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.layerPane || "overlayPane" : e === "vertexPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.vertexPane || "markerPane" : e === "markerPane" && (t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.markerPane || "markerPane");
  }, remove() {
    (this._map || this._layer._map).pm.removeLayer({ target: this._layer });
  }, _vertexValidation(t, e) {
    let i = e.target, r = { layer: this._layer, marker: i, event: e }, n = "";
    return t === "move" ? n = "moveVertexValidation" : t === "add" ? n = "addVertexValidation" : t === "remove" && (n = "removeVertexValidation"), this.options[n] && typeof this.options[n] == "function" && !this.options[n](r) ? (t === "move" && (i._cancelDragEventChain = i.getLatLng()), false) : (i._cancelDragEventChain = null, true);
  }, _vertexValidationDrag(t) {
    return t._cancelDragEventChain ? (t._latlng = t._cancelDragEventChain, t.update(), false) : true;
  }, _vertexValidationDragEnd(t) {
    return t._cancelDragEventChain ? (t._cancelDragEventChain = null, false) : true;
  } }), H = b_;
  H.LayerGroup = L.Class.extend({ initialize(t) {
    this._layerGroup = t, this._layers = this.getLayers(), this._getMap(), this._layers.forEach((r) => this._initLayer(r));
    let e = (r) => {
      if (r.layer._pmTempLayer)
        return;
      this._layers = this.getLayers();
      let n = this._layers.filter((s) => !s.pm._parentLayerGroup || !(this._layerGroup._leaflet_id in s.pm._parentLayerGroup));
      n.forEach((s) => {
        this._initLayer(s);
      }), n.length > 0 && this._getMap() && this._getMap().pm.globalEditModeEnabled() && this.enabled() && this.enable(this.getOptions());
    };
    this._layerGroup.on("layeradd", L.Util.throttle(e, 100, this), this), this._layerGroup.on("layerremove", (r) => {
      this._removeLayerFromGroup(r.target);
    }, this);
    let i = (r) => {
      r.target._pmTempLayer || (this._layers = this.getLayers());
    };
    this._layerGroup.on("layerremove", L.Util.throttle(i, 100, this), this);
  }, enable(t, e = []) {
    e.length === 0 && (this._layers = this.getLayers()), this._options = t, this._layers.forEach((i) => {
      i instanceof L.LayerGroup ? e.indexOf(i._leaflet_id) === -1 && (e.push(i._leaflet_id), i.pm.enable(t, e)) : i.pm.enable(t);
    });
  }, disable(t = []) {
    t.length === 0 && (this._layers = this.getLayers()), this._layers.forEach((e) => {
      e instanceof L.LayerGroup ? t.indexOf(e._leaflet_id) === -1 && (t.push(e._leaflet_id), e.pm.disable(t)) : e.pm.disable();
    });
  }, enabled(t = []) {
    return t.length === 0 && (this._layers = this.getLayers()), !!this._layers.find((i) => i instanceof L.LayerGroup ? t.indexOf(i._leaflet_id) === -1 ? (t.push(i._leaflet_id), i.pm.enabled(t)) : false : i.pm.enabled());
  }, toggleEdit(t, e = []) {
    e.length === 0 && (this._layers = this.getLayers()), this._options = t, this._layers.forEach((i) => {
      i instanceof L.LayerGroup ? e.indexOf(i._leaflet_id) === -1 && (e.push(i._leaflet_id), i.pm.toggleEdit(t, e)) : i.pm.toggleEdit(t);
    });
  }, _initLayer(t) {
    let e = L.Util.stamp(this._layerGroup);
    t.pm._parentLayerGroup || (t.pm._parentLayerGroup = {}), t.pm._parentLayerGroup[e] = this._layerGroup;
  }, _removeLayerFromGroup(t) {
    if (t.pm && t.pm._layerGroup) {
      let e = L.Util.stamp(this._layerGroup);
      delete t.pm._layerGroup[e];
    }
  }, dragging() {
    return this._layers = this.getLayers(), this._layers ? !!this._layers.find((e) => e.pm.dragging()) : false;
  }, getOptions() {
    return this.options;
  }, _getMap() {
    return this._map || this._layers.find((t) => !!t._map)?._map || null;
  }, getLayers(t = false, e = true, i = true, r = []) {
    let n = [];
    return t ? this._layerGroup.getLayers().forEach((s) => {
      n.push(s), s instanceof L.LayerGroup && r.indexOf(s._leaflet_id) === -1 && (r.push(s._leaflet_id), n = n.concat(s.pm.getLayers(true, true, true, r)));
    }) : n = this._layerGroup.getLayers(), i && (n = n.filter((s) => !(s instanceof L.LayerGroup))), e && (n = n.filter((s) => !!s.pm), n = n.filter((s) => !s._pmTempLayer), n = n.filter((s) => !L.PM.optIn && !s.options.pmIgnore || L.PM.optIn && s.options.pmIgnore === false)), n;
  }, setOptions(t, e = []) {
    e.length === 0 && (this._layers = this.getLayers()), this.options = t, this._layers.forEach((i) => {
      i.pm && (i instanceof L.LayerGroup ? e.indexOf(i._leaflet_id) === -1 && (e.push(i._leaflet_id), i.pm.setOptions(t, e)) : i.pm.setOptions(t));
    });
  } });
  H.Marker = H.extend({ _shape: "Marker", initialize(t) {
    this._layer = t, this._enabled = false, this._layer.on("dragend", this._onDragEnd, this);
  }, enable(t = { draggable: true }) {
    if (L.Util.setOptions(this, t), !this.options.allowEditing || !this._layer._map) {
      this.disable();
      return;
    }
    this._map = this._layer._map, this.enabled() && this.disable(), this.applyOptions(), this._layer.on("remove", this.disable, this), this._enabled = true, this._fireEnable();
  }, disable() {
    this.enabled() && (this.disableLayerDrag(), this._layer.off("remove", this.disable, this), this._layer.off("contextmenu", this._removeMarker, this), this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable(), this._enabled = false);
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping(), this.options.draggable ? this.enableLayerDrag() : this.disableLayerDrag(), this.options.preventMarkerRemoval || this._layer.on("contextmenu", this._removeMarker, this);
  }, _removeMarker(t) {
    let e = t.target;
    e.remove(), this._fireRemove(e), this._fireRemove(this._map, e);
  }, _onDragEnd() {
    this._fireEdit(), this._layerEdited = true;
  }, _initSnappableMarkers() {
    let t = this._layer;
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, t.off("pm:drag", this._handleSnapping, this), t.on("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.on("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this), t.on("pm:dragstart", this._unsnap, this);
  }, _disableSnapping() {
    let t = this._layer;
    t.off("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this);
  } });
  var St = xt(Le());
  var v_ = { filterMarkerGroup() {
    this.markerCache = [], this.createCache(), this._layer.on("pm:edit", this.createCache, this), this.applyLimitFilters({}), this.throttledApplyLimitFilters || (this.throttledApplyLimitFilters = L.Util.throttle(this.applyLimitFilters, 100, this)), this._layer.on("pm:disable", this._removeMarkerLimitEvents, this), this._layer.on("remove", this._removeMarkerLimitEvents, this), this.options.limitMarkersToCount > -1 && (this._layer.on("pm:vertexremoved", this._initMarkers, this), this._map.on("mousemove", this.throttledApplyLimitFilters, this));
  }, _removeMarkerLimitEvents() {
    this._map.off("mousemove", this.throttledApplyLimitFilters, this), this._layer.off("pm:edit", this.createCache, this), this._layer.off("pm:disable", this._removeMarkerLimitEvents, this), this._layer.off("pm:vertexremoved", this._initMarkers, this);
  }, createCache() {
    let t = [...this._markerGroup.getLayers(), ...this.markerCache];
    this.markerCache = t.filter((e, i, r) => r.indexOf(e) === i);
  }, _removeFromCache(t) {
    let e = this.markerCache.indexOf(t);
    e > -1 && this.markerCache.splice(e, 1);
  }, renderLimits(t) {
    this.markerCache.forEach((e) => {
      t.includes(e) ? this._markerGroup.addLayer(e) : this._markerGroup.removeLayer(e);
    });
  }, applyLimitFilters({ latlng: t = { lat: 0, lng: 0 } }) {
    if (this._preventRenderMarkers)
      return;
    let i = [...this._filterClosestMarkers(t)];
    this.renderLimits(i);
  }, _filterClosestMarkers(t) {
    let e = [...this.markerCache], i = this.options.limitMarkersToCount;
    return i === -1 ? e : (e.sort((n, s) => {
      let a = n._latlng.distanceTo(t), o = s._latlng.distanceTo(t);
      return a - o;
    }), e.filter((n, s) => i > -1 ? s < i : true));
  }, _preventRenderMarkers: false, _preventRenderingMarkers(t) {
    this._preventRenderMarkers = !!t;
  } }, Jl = v_;
  H.Line = H.extend({ includes: [Jl], _shape: "Line", initialize(t) {
    this._layer = t, this._enabled = false;
  }, enable(t) {
    if (L.Util.setOptions(this, t), this._map = this._layer._map, !!this._map) {
      if (!this.options.allowEditing) {
        this.disable();
        return;
      }
      this.enabled() && this.disable(), this._enabled = true, this._initMarkers(), this.applyOptions(), this._layer.on("remove", this.disable, this), this.options.allowSelfIntersection || this._layer.on("pm:vertexremoved", this._handleSelfIntersectionOnVertexRemoval, this), this.options.allowSelfIntersection ? this.cachedColor = void 0 : (this._layer.options.color !== "#f00000ff" ? (this.cachedColor = this._layer.options.color, this.isRed = false) : this.isRed = true, this._handleLayerStyle()), this._fireEnable();
    }
  }, disable() {
    if (!this.enabled() || this._dragging)
      return;
    this._enabled = false, this._markerGroup.clearLayers(), this._markerGroup.removeFrom(this._map), this._layer.off("remove", this.disable, this), this.options.allowSelfIntersection || this._layer.off("pm:vertexremoved", this._handleSelfIntersectionOnVertexRemoval, this);
    let t = this._layer._path ? this._layer._path : this._layer._renderer._container;
    L.DomUtil.removeClass(t, "leaflet-pm-draggable"), this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable();
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    return this.enabled() ? this.disable() : this.enable(t), this.enabled();
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping();
  }, _initMarkers() {
    let t = this._map, e = this._layer.getLatLngs();
    this._markerGroup && this._markerGroup.clearLayers(), this._markerGroup = new L.FeatureGroup(), this._markerGroup._pmTempLayer = true;
    let i = (r) => {
      if (Array.isArray(r[0]))
        return r.map(i, this);
      let n = r.map(this._createMarker, this);
      return this.options.hideMiddleMarkers !== true && r.map((s, a) => {
        let o = this.isPolygon() ? (a + 1) % r.length : a + 1;
        return this._createMiddleMarker(n[a], n[o]);
      }), n;
    };
    this._markers = i(e), this.filterMarkerGroup(), t.addLayer(this._markerGroup);
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: true, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._pmTempLayer = true, this.options.rotate ? (e.on("dragstart", this._onRotateStart, this), e.on("drag", this._onRotate, this), e.on("dragend", this._onRotateEnd, this)) : (e.on("click", this._onVertexClick, this), e.on("dragstart", this._onMarkerDragStart, this), e.on("move", this._onMarkerDrag, this), e.on("dragend", this._onMarkerDragEnd, this), this.options.preventMarkerRemoval || e.on(this.options.removeVertexOn, this._removeMarker, this)), this._markerGroup.addLayer(e), e;
  }, _createMiddleMarker(t, e) {
    if (!t || !e)
      return false;
    let i = L.PM.Utils.calcMiddleLatLng(this._map, t.getLatLng(), e.getLatLng()), r = this._createMarker(i), n = L.divIcon({ className: "marker-icon marker-icon-middle" });
    return r.setIcon(n), r.leftM = t, r.rightM = e, t._middleMarkerNext = r, e._middleMarkerPrev = r, r.on(this.options.addVertexOn, this._onMiddleMarkerClick, this), r.on("movestart", this._onMiddleMarkerMoveStart, this), r;
  }, _onMiddleMarkerClick(t) {
    let e = t.target;
    if (!this._vertexValidation("add", t))
      return;
    let i = L.divIcon({ className: "marker-icon" });
    e.setIcon(i), this._addMarker(e, e.leftM, e.rightM);
  }, _onMiddleMarkerMoveStart(t) {
    let e = t.target;
    if (e.on("moveend", this._onMiddleMarkerMoveEnd, this), !this._vertexValidation("add", t)) {
      e.on("move", this._onMiddleMarkerMovePrevent, this);
      return;
    }
    e._dragging = true, this._addMarker(e, e.leftM, e.rightM);
  }, _onMiddleMarkerMovePrevent(t) {
    let e = t.target;
    this._vertexValidationDrag(e);
  }, _onMiddleMarkerMoveEnd(t) {
    let e = t.target;
    if (e.off("move", this._onMiddleMarkerMovePrevent, this), e.off("moveend", this._onMiddleMarkerMoveEnd, this), !this._vertexValidationDragEnd(e))
      return;
    let i = L.divIcon({ className: "marker-icon" });
    e.setIcon(i), setTimeout(() => {
      delete e._dragging;
    }, 100);
  }, _addMarker(t, e, i) {
    t.off("movestart", this._onMiddleMarkerMoveStart, this), t.off(this.options.addVertexOn, this._onMiddleMarkerClick, this);
    let r = t.getLatLng(), n = this._layer._latlngs;
    delete t.leftM, delete t.rightM;
    let { indexPath: s, index: a, parentPath: o } = L.PM.Utils.findDeepMarkerIndex(this._markers, e), l = s.length > 1 ? (0, St.default)(n, o) : n, u = s.length > 1 ? (0, St.default)(this._markers, o) : this._markers;
    l.splice(a + 1, 0, r), u.splice(a + 1, 0, t), this._layer.setLatLngs(n), this.options.hideMiddleMarkers !== true && (this._createMiddleMarker(e, t), this._createMiddleMarker(t, i)), this._fireEdit(), this._layerEdited = true, this._fireChange(this._layer.getLatLngs(), "Edit"), this._fireVertexAdded(t, L.PM.Utils.findDeepMarkerIndex(this._markers, t).indexPath, r), this.options.snappable && this._initSnappableMarkers();
  }, hasSelfIntersection() {
    return zt(this._layer.toGeoJSON(15)).features.length > 0;
  }, _handleSelfIntersectionOnVertexRemoval() {
    this._handleLayerStyle(true) && (this._layer.setLatLngs(this._coordsBeforeEdit), this._coordsBeforeEdit = null, this._initMarkers());
  }, _handleLayerStyle(t) {
    let e = this._layer, i, r;
    if (this.options.allowSelfIntersection ? i = false : (r = zt(this._layer.toGeoJSON(15)), i = r.features.length > 0), i) {
      if (!this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this._updateDisabledMarkerStyle(this._markers, true), this.isRed)
        return i;
      t ? this._flashLayer() : (e.setStyle({ color: "#f00000ff" }), this.isRed = true), this._fireIntersect(r);
    } else
      e.setStyle({ color: this.cachedColor }), this.isRed = false, !this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this._updateDisabledMarkerStyle(this._markers, false);
    return i;
  }, _flashLayer() {
    this.cachedColor || (this.cachedColor = this._layer.options.color), this._layer.setStyle({ color: "#f00000ff" }), this.isRed = true, window.setTimeout(() => {
      this._layer.setStyle({ color: this.cachedColor }), this.isRed = false;
    }, 200);
  }, _updateDisabledMarkerStyle(t, e) {
    t.forEach((i) => {
      Array.isArray(i) ? this._updateDisabledMarkerStyle(i, e) : i._icon && (e && !this._checkMarkerAllowedToDrag(i) ? L.DomUtil.addClass(i._icon, "vertexmarker-disabled") : L.DomUtil.removeClass(i._icon, "vertexmarker-disabled"));
    });
  }, _removeMarker(t) {
    let e = t.target;
    if (!this._vertexValidation("remove", t))
      return;
    this.options.allowSelfIntersection || (this._coordsBeforeEdit = vt(this._layer, this._layer.getLatLngs()));
    let i = this._layer.getLatLngs(), { indexPath: r, index: n, parentPath: s } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    if (!r)
      return;
    let a = r.length > 1 ? (0, St.default)(i, s) : i, o = r.length > 1 ? (0, St.default)(this._markers, s) : this._markers;
    if (!this.options.removeLayerBelowMinVertexCount && (a.length <= 2 || this.isPolygon() && a.length <= 3)) {
      this._flashLayer();
      return;
    }
    a.splice(n, 1), this._layer.setLatLngs(i), this.isPolygon() && a.length <= 2 && a.splice(0, a.length);
    let l = false;
    if (a.length <= 1 && (a.splice(0, a.length), s.length > 1 && r.length > 1 && (i = ve(i)), this._layer.setLatLngs(i), this._initMarkers(), l = true), be(i) || this._layer.remove(), i = ve(i), this._layer.setLatLngs(i), this._markers = ve(this._markers), !l && (o = r.length > 1 ? (0, St.default)(this._markers, s) : this._markers, e._middleMarkerPrev && (this._markerGroup.removeLayer(e._middleMarkerPrev), this._removeFromCache(e._middleMarkerPrev)), e._middleMarkerNext && (this._markerGroup.removeLayer(e._middleMarkerNext), this._removeFromCache(e._middleMarkerNext)), this._markerGroup.removeLayer(e), this._removeFromCache(e), o)) {
      let u, f;
      if (this.isPolygon() ? (u = (n + 1) % o.length, f = (n + (o.length - 1)) % o.length) : (f = n - 1 < 0 ? void 0 : n - 1, u = n + 1 >= o.length ? void 0 : n + 1), u !== f) {
        let d = o[f], P = o[u];
        this.options.hideMiddleMarkers !== true && this._createMiddleMarker(d, P);
      }
      o.splice(n, 1);
    }
    this._fireEdit(), this._layerEdited = true, this._fireVertexRemoved(e, r), this._fireChange(this._layer.getLatLngs(), "Edit");
  }, updatePolygonCoordsFromMarkerDrag(t) {
    let e = this._layer.getLatLngs(), i = t.getLatLng(), { indexPath: r, index: n, parentPath: s } = L.PM.Utils.findDeepMarkerIndex(this._markers, t);
    (r.length > 1 ? (0, St.default)(e, s) : e).splice(n, 1, i), this._layer.setLatLngs(e);
  }, _getNeighborMarkers(t) {
    let { indexPath: e, index: i, parentPath: r } = L.PM.Utils.findDeepMarkerIndex(this._markers, t), n = e.length > 1 ? (0, St.default)(this._markers, r) : this._markers, s = (i + 1) % n.length, a = (i + (n.length - 1)) % n.length, o = n[a], l = n[s];
    return { prevMarker: o, nextMarker: l };
  }, _checkMarkerAllowedToDrag(t) {
    let { prevMarker: e, nextMarker: i } = this._getNeighborMarkers(t), r = L.polyline([e.getLatLng(), t.getLatLng()]), n = L.polyline([t.getLatLng(), i.getLatLng()]), s = pt(this._layer.toGeoJSON(15), r.toGeoJSON(15)).features.length, a = pt(this._layer.toGeoJSON(15), n.toGeoJSON(15)).features.length;
    return t.getLatLng() === this._markers[0][0].getLatLng() ? a += 1 : t.getLatLng() === this._markers[0][this._markers[0].length - 1].getLatLng() && (s += 1), !(s <= 2 && a <= 2);
  }, _onMarkerDragStart(t) {
    let e = t.target;
    if (this.cachedColor || (this.cachedColor = this._layer.options.color), !this._vertexValidation("move", t))
      return;
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDragStart(t, i), this.options.allowSelfIntersection || (this._coordsBeforeEdit = vt(this._layer, this._layer.getLatLngs())), !this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this.hasSelfIntersection() ? this._markerAllowedToDrag = this._checkMarkerAllowedToDrag(e) : this._markerAllowedToDrag = null;
  }, _onMarkerDrag(t) {
    let e = t.target;
    if (!this._vertexValidationDrag(e))
      return;
    let { indexPath: i, index: r, parentPath: n } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    if (!i)
      return;
    if (!this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this.hasSelfIntersection() && this._markerAllowedToDrag === false) {
      this._layer.setLatLngs(this._coordsBeforeEdit), this._initMarkers(), this._handleLayerStyle();
      return;
    }
    this.updatePolygonCoordsFromMarkerDrag(e);
    let s = i.length > 1 ? (0, St.default)(this._markers, n) : this._markers, a = (r + 1) % s.length, o = (r + (s.length - 1)) % s.length, l = e.getLatLng(), u = s[o].getLatLng(), f = s[a].getLatLng();
    if (e._middleMarkerNext) {
      let d = L.PM.Utils.calcMiddleLatLng(this._map, l, f);
      e._middleMarkerNext.setLatLng(d);
    }
    if (e._middleMarkerPrev) {
      let d = L.PM.Utils.calcMiddleLatLng(this._map, l, u);
      e._middleMarkerPrev.setLatLng(d);
    }
    this.options.allowSelfIntersection || this._handleLayerStyle(), this._fireMarkerDrag(t, i), this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _onMarkerDragEnd(t) {
    let e = t.target;
    if (!this._vertexValidationDragEnd(e))
      return;
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e), r = this.hasSelfIntersection();
    r && this.options.allowSelfIntersectionEdit && this._markerAllowedToDrag && (r = false);
    let n = !this.options.allowSelfIntersection && r;
    if (this._fireMarkerDragEnd(t, i, n), n) {
      this._layer.setLatLngs(this._coordsBeforeEdit), this._coordsBeforeEdit = null, this._initMarkers(), this.options.snappable && this._initSnappableMarkers(), this._handleLayerStyle(), this._fireLayerReset(t, i);
      return;
    }
    !this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this._handleLayerStyle(), this._fireEdit(), this._layerEdited = true, this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _onVertexClick(t) {
    let e = t.target;
    if (e._dragging)
      return;
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireVertexClick(t, i);
  } });
  H.Polygon = H.Line.extend({ _shape: "Polygon", _checkMarkerAllowedToDrag(t) {
    let { prevMarker: e, nextMarker: i } = this._getNeighborMarkers(t), r = L.polyline([e.getLatLng(), t.getLatLng()]), n = L.polyline([t.getLatLng(), i.getLatLng()]), s = pt(this._layer.toGeoJSON(15), r.toGeoJSON(15)).features.length, a = pt(this._layer.toGeoJSON(15), n.toGeoJSON(15)).features.length;
    return !(s <= 2 && a <= 2);
  } });
  H.Rectangle = H.Polygon.extend({ _shape: "Rectangle", _initMarkers() {
    let t = this._map, e = this._findCorners();
    this._markerGroup && this._markerGroup.clearLayers(), this._markerGroup = new L.FeatureGroup(), this._markerGroup._pmTempLayer = true, t.addLayer(this._markerGroup), this._markers = [], this._markers[0] = e.map(this._createMarker, this), [this._cornerMarkers] = this._markers, this._layer.getLatLngs()[0].forEach((i, r) => {
      let n = this._cornerMarkers.find((s) => s._index === r);
      n && n.setLatLng(i);
    });
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping(), this._addMarkerEvents();
  }, _createMarker(t, e) {
    let i = new L.Marker(t, { draggable: true, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(i, "vertexPane"), i._origLatLng = t, i._index = e, i._pmTempLayer = true, i.on("click", this._onVertexClick, this), this._markerGroup.addLayer(i), i;
  }, _addMarkerEvents() {
    this._markers[0].forEach((t) => {
      t.on("dragstart", this._onMarkerDragStart, this), t.on("drag", this._onMarkerDrag, this), t.on("dragend", this._onMarkerDragEnd, this), this.options.preventMarkerRemoval || t.on("contextmenu", this._removeMarker, this);
    });
  }, _removeMarker() {
    return null;
  }, _onMarkerDragStart(t) {
    if (!this._vertexValidation("move", t))
      return;
    let e = t.target, i = this._cornerMarkers;
    e._oppositeCornerLatLng = i.find((n) => n._index === (e._index + 2) % 4).getLatLng(), e._snapped = false;
    let { indexPath: r } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDragStart(t, r);
  }, _onMarkerDrag(t) {
    let e = t.target;
    if (!this._vertexValidationDrag(e) || e._index === void 0)
      return;
    this._adjustRectangleForMarkerMove(e);
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDrag(t, i), this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _onMarkerDragEnd(t) {
    let e = t.target;
    if (!this._vertexValidationDragEnd(e))
      return;
    this._cornerMarkers.forEach((r) => {
      delete r._oppositeCornerLatLng;
    });
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDragEnd(t, i), this._fireEdit(), this._layerEdited = true, this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _adjustRectangleForMarkerMove(t) {
    L.extend(t._origLatLng, t._latlng);
    let e = L.PM.Utils._getRotatedRectangle(t.getLatLng(), t._oppositeCornerLatLng, this.getAngle(), this._map);
    this._layer.setLatLngs(e), this._adjustAllMarkers(), this._layer.redraw();
  }, _adjustAllMarkers() {
    let t = this._layer.getLatLngs()[0];
    t && t.length !== 4 && t.length > 0 ? (t.forEach((i, r) => {
      this._cornerMarkers[r].setLatLng(i);
    }), this._cornerMarkers.slice(t.length).forEach((i) => {
      i.setLatLng(t[0]);
    })) : !t || !t.length ? console.error("The layer has no LatLngs") : this._cornerMarkers.forEach((e) => {
      e.setLatLng(t[e._index]);
    });
  }, _findCorners() {
    this._angle === void 0 && this.setInitAngle(ke(this._map, this._layer.getLatLngs()[0][0], this._layer.getLatLngs()[0][1]) || 0);
    let t = this._layer.getLatLngs()[0];
    return L.PM.Utils._getRotatedRectangle(t[0], t[2], this.getAngle(), this._map || this);
  } });
  H.CircleMarker = H.extend({ _shape: "CircleMarker", initialize(t) {
    this._layer = t, this._enabled = false, this._minRadiusOption = "minRadiusCircleMarker", this._maxRadiusOption = "maxRadiusCircleMarker", this._editableOption = "resizeableCircleMarker", this._updateHiddenPolyCircle();
  }, enable(t = { draggable: true, snappable: true }) {
    if (L.Util.setOptions(this, t), this.options.editable && (this.options.resizeableCircleMarker = this.options.editable, delete this.options.editable), !this.options.allowEditing || !this._layer._map) {
      this.disable();
      return;
    }
    this._map = this._layer._map, this.enabled() && this.disable(), this.applyOptions(), this._layer.on("remove", this.disable, this), this._enabled = true, this._extendingEnable(), this._updateHiddenPolyCircle(), this._fireEnable();
  }, _extendingEnable() {
    this._layer.on("pm:dragstart", this._onDragStart, this), this._layer.on("pm:drag", this._onMarkerDrag, this), this._layer.on("pm:dragend", this._onMarkerDragEnd, this);
  }, disable() {
    this.dragging() || (this._map || (this._map = this._layer._map), this._map && this.enabled() && (this.layerDragEnabled() && this.disableLayerDrag(), this.options[this._editableOption] ? (this._helperLayers && this._helperLayers.clearLayers(), this._map.off("move", this._syncMarkers, this), this._outerMarker.off("drag", this._handleOuterMarkerSnapping, this)) : this._map.off("move", this._updateHiddenPolyCircle, this), this._extendingDisable(), this._layer.off("remove", this.disable, this), this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable(), this._enabled = false));
  }, _extendingDisable() {
    this._layer.off("contextmenu", this._removeMarker, this);
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, applyOptions() {
    this.options[this._editableOption] ? (this._initMarkers(), this._map.on("move", this._syncMarkers, this), this.options.snappable ? (this._initSnappableMarkers(), this._outerMarker.on("drag", this._handleOuterMarkerSnapping, this), this._outerMarker.on("move", this._syncHintLine, this), this._outerMarker.on("move", this._syncCircleRadius, this), this._centerMarker.on("move", this._moveCircle, this)) : this._disableSnapping()) : (this.options.draggable && this.enableLayerDrag(), this._map.on("move", this._updateHiddenPolyCircle, this), this.options.snappable ? this._initSnappableMarkersDrag() : this._disableSnappingDrag()), this._extendingApplyOptions();
  }, _extendingApplyOptions() {
    this.options.preventMarkerRemoval || this._layer.on("contextmenu", this._removeMarker, this);
  }, _initMarkers() {
    let t = this._map;
    this._helperLayers && this._helperLayers.clearLayers(), this._helperLayers = new L.FeatureGroup(), this._helperLayers._pmTempLayer = true, this._helperLayers.addTo(t);
    let e = this._layer.getLatLng(), i = this._layer._radius, r = this._getLatLngOnCircle(e, i);
    this._centerMarker = this._createCenterMarker(e), this._outerMarker = this._createOuterMarker(r), this._markers = [this._centerMarker, this._outerMarker], this._createHintLine(this._centerMarker, this._outerMarker);
  }, _getLatLngOnCircle(t, e) {
    let i = this._map.project(t), r = L.point(i.x + e, i.y);
    return this._map.unproject(r);
  }, _createHintLine(t, e) {
    let i = t.getLatLng(), r = e.getLatLng();
    this._hintline = L.polyline([i, r], this.options.hintlineStyle), this._setPane(this._hintline, "layerPane"), this._hintline._pmTempLayer = true, this._helperLayers.addLayer(this._hintline);
  }, _createCenterMarker(t) {
    let e = this._createMarker(t);
    return this.options.draggable ? L.DomUtil.addClass(e._icon, "leaflet-pm-draggable") : e.dragging.disable(), e;
  }, _createOuterMarker(t) {
    let e = this._createMarker(t);
    return e.on("drag", this._resizeCircle, this), e;
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: true, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._origLatLng = t, e._pmTempLayer = true, e.on("dragstart", this._onMarkerDragStart, this), e.on("drag", this._onMarkerDrag, this), e.on("dragend", this._onMarkerDragEnd, this), e.on("click", this._onVertexClick, this), this._helperLayers.addLayer(e), e;
  }, _moveCircle(t) {
    if (t.target._cancelDragEventChain)
      return;
    let i = this._centerMarker.getLatLng();
    this._layer.setLatLng(i);
    let r = this._layer._radius, n = this._getLatLngOnCircle(i, r);
    this._outerMarker._latlng = n, this._outerMarker.update(), this._syncHintLine(), this._updateHiddenPolyCircle(), this._fireCenterPlaced("Edit"), this._fireChange(this._layer.getLatLng(), "Edit");
  }, _syncMarkers() {
    let t = this._layer.getLatLng(), e = this._layer._radius, i = this._getLatLngOnCircle(t, e);
    this._outerMarker.setLatLng(i), this._centerMarker.setLatLng(t), this._syncHintLine(), this._updateHiddenPolyCircle();
  }, _resizeCircle() {
    this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()), this._syncHintLine(), this._syncCircleRadius();
  }, _syncCircleRadius() {
    let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng(), i = this._distanceCalculation(t, e);
    this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._layer.setRadius(this.options[this._minRadiusOption]) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] ? this._layer.setRadius(this.options[this._maxRadiusOption]) : this._layer.setRadius(i), this._updateHiddenPolyCircle(), this._fireChange(this._layer.getLatLng(), "Edit");
  }, _syncHintLine() {
    let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng();
    this._hintline.setLatLngs([t, e]);
  }, _removeMarker() {
    this.options[this._editableOption] && this.disable(), this._layer.remove(), this._fireRemove(this._layer), this._fireRemove(this._map, this._layer);
  }, _onDragStart() {
    this._map.pm.Draw.CircleMarker._layerIsDragging = true;
  }, _onMarkerDragStart(t) {
    this._vertexValidation("move", t) && this._fireMarkerDragStart(t);
  }, _onMarkerDrag(t) {
    let e = t.target;
    e instanceof L.Marker && !this._vertexValidationDrag(e) || this._fireMarkerDrag(t);
  }, _onMarkerDragEnd(t) {
    this._extedingMarkerDragEnd();
    let e = t.target;
    this._vertexValidationDragEnd(e) && (this.options[this._editableOption] && (this._fireEdit(), this._layerEdited = true), this._fireMarkerDragEnd(t));
  }, _extedingMarkerDragEnd() {
    this._map.pm.Draw.CircleMarker._layerIsDragging = false;
  }, _initSnappableMarkersDrag() {
    let t = this._layer;
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, t.off("pm:drag", this._handleSnapping, this), t.on("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.on("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this), t.on("pm:dragstart", this._unsnap, this);
  }, _disableSnappingDrag() {
    let t = this._layer;
    t.off("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this);
  }, _updateHiddenPolyCircle() {
    let t = this._layer._map || this._map;
    if (t) {
      let e = L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(), t, this._layer.getLatLng()), i = L.circle(this._layer.getLatLng(), this._layer.options);
      i.setRadius(e);
      let r = t && t.pm._isCRSSimple();
      this._hiddenPolyCircle ? this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(i, 200, !r).getLatLngs()) : this._hiddenPolyCircle = L.PM.Utils.circleToPolygon(i, 200, !r), this._hiddenPolyCircle._parentCopy || (this._hiddenPolyCircle._parentCopy = this._layer);
    }
  }, _getNewDestinationOfOuterMarker() {
    let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng(), i = this._distanceCalculation(t, e);
    return this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? e = te(this._map, t, e, this._getMinDistanceInMeter(t)) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && (e = te(this._map, t, e, this._getMaxDistanceInMeter(t))), e;
  }, _handleOuterMarkerSnapping() {
    if (this._outerMarker._snapped) {
      let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng(), i = this._distanceCalculation(t, e);
      this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._outerMarker.setLatLng(this._outerMarker._orgLatLng) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && this._outerMarker.setLatLng(this._outerMarker._orgLatLng);
    }
    this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker());
  }, _distanceCalculation(t, e) {
    return this._map.project(t).distanceTo(this._map.project(e));
  }, _getMinDistanceInMeter(t) {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption], this._map, t);
  }, _getMaxDistanceInMeter(t) {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption], this._map, t);
  }, _onVertexClick(t) {
    t.target._dragging || this._fireVertexClick(t, void 0);
  } });
  H.Circle = H.CircleMarker.extend({ _shape: "Circle", initialize(t) {
    this._layer = t, this._enabled = false, this._minRadiusOption = "minRadiusCircle", this._maxRadiusOption = "maxRadiusCircle", this._editableOption = "resizableCircle", this._updateHiddenPolyCircle();
  }, enable(t) {
    L.PM.Edit.CircleMarker.prototype.enable.call(this, t || {});
  }, _extendingEnable() {
  }, _extendingDisable() {
    this._layer.off("remove", this.disable, this);
    let t = this._layer._path ? this._layer._path : this._layer._renderer._container;
    L.DomUtil.removeClass(t, "leaflet-pm-draggable");
  }, _extendingApplyOptions() {
  }, _syncMarkers() {
  }, _removeMarker() {
  }, _onDragStart() {
  }, _extedingMarkerDragEnd() {
  }, _updateHiddenPolyCircle() {
    let t = this._map && this._map.pm._isCRSSimple();
    this._hiddenPolyCircle ? this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer, 200, !t).getLatLngs()) : this._hiddenPolyCircle = L.PM.Utils.circleToPolygon(this._layer, 200, !t), this._hiddenPolyCircle._parentCopy || (this._hiddenPolyCircle._parentCopy = this._layer);
  }, _distanceCalculation(t, e) {
    return this._map.distance(t, e);
  }, _getMinDistanceInMeter() {
    return this.options[this._minRadiusOption];
  }, _getMaxDistanceInMeter() {
    return this.options[this._maxRadiusOption];
  }, _onVertexClick(t) {
    t.target._dragging || this._fireVertexClick(t, void 0);
  } });
  H.ImageOverlay = H.extend({ _shape: "ImageOverlay", initialize(t) {
    this._layer = t, this._enabled = false;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, enabled() {
    return this._enabled;
  }, enable(t = { draggable: true, snappable: true }) {
    if (L.Util.setOptions(this, t), this._map = this._layer._map, !!this._map) {
      if (!this.options.allowEditing) {
        this.disable();
        return;
      }
      this.enabled() || this.disable(), this.enableLayerDrag(), this._layer.on("remove", this.disable, this), this._enabled = true, this._otherSnapLayers = this._findCorners(), this._fireEnable();
    }
  }, disable() {
    this._dragging || (this._map || (this._map = this._layer._map), this.disableLayerDrag(), this._layer.off("remove", this.disable, this), this.enabled() || (this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable()), this._enabled = false);
  }, _findCorners() {
    let t = this._layer.getBounds(), e = t.getNorthWest(), i = t.getNorthEast(), r = t.getSouthEast(), n = t.getSouthWest();
    return [e, i, r, n];
  } });
  H.Text = H.extend({ _shape: "Text", initialize(t) {
    this._layer = t, this._enabled = false;
  }, enable(t) {
    if (L.Util.setOptions(this, t), !!this.textArea) {
      if (!this.options.allowEditing || !this._layer._map) {
        this.disable();
        return;
      }
      this._map = this._layer._map, this.enabled() && this.disable(), this.applyOptions(), this._safeToCacheDragState = true, this._focusChange(), this.textArea.readOnly = false, this.textArea.classList.remove("pm-disabled"), this._layer.on("remove", this.disable, this), L.DomEvent.on(this.textArea, "input", this._autoResize, this), L.DomEvent.on(this.textArea, "focus", this._focusChange, this), L.DomEvent.on(this.textArea, "blur", this._focusChange, this), this._layer.on("dblclick", L.DomEvent.stop), L.DomEvent.off(this.textArea, "mousedown", this._preventTextSelection), this._enabled = true, this._fireEnable();
    }
  }, disable() {
    if (!this.enabled())
      return;
    this._layer.off("remove", this.disable, this), L.DomEvent.off(this.textArea, "input", this._autoResize, this), L.DomEvent.off(this.textArea, "focus", this._focusChange, this), L.DomEvent.off(this.textArea, "blur", this._focusChange, this), L.DomEvent.off(document, "click", this._documentClick, this), this._focusChange(), this.textArea.readOnly = true, this.textArea.classList.add("pm-disabled");
    let t = document.activeElement;
    this.textArea.focus(), this.textArea.selectionStart = 0, this.textArea.selectionEnd = 0, L.DomEvent.on(this.textArea, "mousedown", this._preventTextSelection), t.focus(), this._disableOnBlurActive = false, this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable(), this._enabled = false;
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping();
  }, _initSnappableMarkers() {
    let t = this._layer;
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, t.off("pm:drag", this._handleSnapping, this), t.on("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.on("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this), t.on("pm:dragstart", this._unsnap, this);
  }, _disableSnapping() {
    let t = this._layer;
    t.off("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this);
  }, _autoResize() {
    this.textArea.style.height = "1px", this.textArea.style.width = "1px";
    let t = this.textArea.scrollHeight > 21 ? this.textArea.scrollHeight : 21, e = this.textArea.scrollWidth > 16 ? this.textArea.scrollWidth : 16;
    this.textArea.style.height = `${t}px`, this.textArea.style.width = `${e}px`, this._layer.options.text = this.getText(), this._fireTextChange(this.getText());
  }, _disableOnBlur() {
    this._disableOnBlurActive = true, setTimeout(() => {
      this.enabled() && L.DomEvent.on(document, "click", this._documentClick, this);
    }, 100);
  }, _documentClick(t) {
    t.target !== this.textArea && (this.disable(), !this.getText() && this.options.removeIfEmpty && this.remove());
  }, _focusChange(t = {}) {
    let e = this._hasFocus;
    this._hasFocus = t.type === "focus", !e != !this._hasFocus && (this._hasFocus ? (this._applyFocus(), this._focusText = this.getText(), this._fireTextFocus()) : (this._removeFocus(), this._fireTextBlur(), this._focusText !== this.getText() && (this._fireEdit(), this._layerEdited = true)));
  }, _applyFocus() {
    this.textArea.classList.add("pm-hasfocus"), this._map.dragging && (this._safeToCacheDragState && (this._originalMapDragState = this._map.dragging._enabled, this._safeToCacheDragState = false), this._map.dragging.disable());
  }, _removeFocus() {
    this._map.dragging && (this._originalMapDragState && this._map.dragging.enable(), this._safeToCacheDragState = true), this.textArea.classList.remove("pm-hasfocus");
  }, focus() {
    if (!this.enabled())
      throw new TypeError("Layer is not enabled");
    this.textArea.focus();
  }, blur() {
    if (!this.enabled())
      throw new TypeError("Layer is not enabled");
    this.textArea.blur(), this._disableOnBlurActive && this.disable();
  }, hasFocus() {
    return this._hasFocus;
  }, getElement() {
    return this.textArea;
  }, setText(t) {
    this.textArea.value = t, this._autoResize();
  }, getText() {
    return this.textArea.value;
  }, _initTextMarker() {
    if (this.textArea = L.PM.Draw.Text.prototype._createTextArea.call(this), this.options.className) {
      let e = this.options.className.split(" ");
      this.textArea.classList.add(...e);
    }
    let t = L.PM.Draw.Text.prototype._createTextIcon.call(this, this.textArea);
    this._layer.setIcon(t), this._layer.once("add", this._createTextMarker, this);
  }, _createTextMarker(t = false) {
    this._layer.off("add", this._createTextMarker, this), this._layer.getElement().tabIndex = -1, this.textArea.wrap = "off", this.textArea.style.overflow = "hidden", this.textArea.style.height = L.DomUtil.getStyle(this.textArea, "font-size"), this.textArea.style.width = "1px", this._layer.options.text && this.setText(this._layer.options.text), this._autoResize(), t === true && (this.enable(), this.focus(), this._disableOnBlur());
  }, _preventTextSelection(t) {
    t.preventDefault();
  } });
  var or = function(e, i, r, n, s, a) {
    this._matrix = [e, i, r, n, s, a];
  };
  or.init = () => new L.PM.Matrix(1, 0, 0, 1, 0, 0);
  or.prototype = { transform(t) {
    return this._transform(t.clone());
  }, _transform(t) {
    let e = this._matrix, { x: i, y: r } = t;
    return t.x = e[0] * i + e[1] * r + e[4], t.y = e[2] * i + e[3] * r + e[5], t;
  }, untransform(t) {
    let e = this._matrix;
    return new L.Point((t.x / e[0] - e[4]) / e[0], (t.y / e[2] - e[5]) / e[2]);
  }, clone() {
    let t = this._matrix;
    return new L.PM.Matrix(t[0], t[1], t[2], t[3], t[4], t[5]);
  }, translate(t) {
    if (t === void 0)
      return new L.Point(this._matrix[4], this._matrix[5]);
    let e, i;
    return typeof t == "number" ? (e = t, i = t) : (e = t.x, i = t.y), this._add(1, 0, 0, 1, e, i);
  }, scale(t, e) {
    if (t === void 0)
      return new L.Point(this._matrix[0], this._matrix[3]);
    let i, r;
    return e = e || L.point(0, 0), typeof t == "number" ? (i = t, r = t) : (i = t.x, r = t.y), this._add(i, 0, 0, r, e.x, e.y)._add(1, 0, 0, 1, -e.x, -e.y);
  }, rotate(t, e) {
    let i = Math.cos(t), r = Math.sin(t);
    return e = e || new L.Point(0, 0), this._add(i, r, -r, i, e.x, e.y)._add(1, 0, 0, 1, -e.x, -e.y);
  }, flip() {
    return this._matrix[1] *= -1, this._matrix[2] *= -1, this;
  }, _add(t, e, i, r, n, s) {
    let a = [[], [], []], o = this._matrix, l = [[o[0], o[2], o[4]], [o[1], o[3], o[5]], [0, 0, 1]], u = [[t, i, n], [e, r, s], [0, 0, 1]], f;
    t && t instanceof L.PM.Matrix && (o = t._matrix, u = [[o[0], o[2], o[4]], [o[1], o[3], o[5]], [0, 0, 1]]);
    for (let d = 0; d < 3; d += 1)
      for (let P = 0; P < 3; P += 1) {
        f = 0;
        for (let E = 0; E < 3; E += 1)
          f += l[d][E] * u[E][P];
        a[d][P] = f;
      }
    return this._matrix = [a[0][0], a[1][0], a[0][1], a[1][1], a[0][2], a[1][2]], this;
  } };
  var $l = or;
  var k_ = { calcMiddleLatLng(t, e, i) {
    let r = t.project(e), n = t.project(i);
    return t.unproject(r._add(n)._divideBy(2));
  }, findLayers(t) {
    let e = [];
    return t.eachLayer((i) => {
      (i instanceof L.Polyline || i instanceof L.Marker || i instanceof L.Circle || i instanceof L.CircleMarker || i instanceof L.ImageOverlay) && e.push(i);
    }), e = e.filter((i) => !!i.pm), e = e.filter((i) => !i._pmTempLayer), e = e.filter((i) => !L.PM.optIn && !i.options.pmIgnore || L.PM.optIn && i.options.pmIgnore === false), e;
  }, circleToPolygon(t, e = 60, i = true) {
    let r = t.getLatLng(), n = t.getRadius(), s = Ci(r, n, e, 0, i), a = [];
    for (let o = 0; o < s.length; o += 1) {
      let l = [s[o].lat, s[o].lng];
      a.push(l);
    }
    return L.polygon(a, t.options);
  }, disablePopup(t) {
    t.getPopup() && (t._tempPopupCopy = t.getPopup(), t.unbindPopup());
  }, enablePopup(t) {
    t._tempPopupCopy && (t.bindPopup(t._tempPopupCopy), delete t._tempPopupCopy);
  }, _fireEvent(t, e, i, r = false) {
    t.fire(e, i, r);
    let { groups: n } = this.getAllParentGroups(t);
    n.forEach((s) => {
      s.fire(e, i, r);
    });
  }, getAllParentGroups(t) {
    let e = [], i = [], r = (n) => {
      for (let s in n._eventParents)
        if (e.indexOf(s) === -1) {
          e.push(s);
          let a = n._eventParents[s];
          i.push(a), r(a);
        }
    };
    return !t._pmLastGroupFetch || !t._pmLastGroupFetch.time || (/* @__PURE__ */ new Date()).getTime() - t._pmLastGroupFetch.time > 1e3 ? (r(t), t._pmLastGroupFetch = { time: (/* @__PURE__ */ new Date()).getTime(), groups: i, groupIds: e }, { groupIds: e, groups: i }) : { groups: t._pmLastGroupFetch.groups, groupIds: t._pmLastGroupFetch.groupIds };
  }, createGeodesicPolygon: Ci, getTranslation: V, findDeepCoordIndex(t, e, i = true) {
    let r, n = (a) => (o, l) => {
      let u = a.concat(l);
      if (i) {
        if (o.lat && o.lat === e.lat && o.lng === e.lng)
          return r = u, true;
      } else if (o.lat && L.latLng(o).equals(e))
        return r = u, true;
      return Array.isArray(o) && o.some(n(u));
    };
    t.some(n([]));
    let s = {};
    return r && (s = { indexPath: r, index: r[r.length - 1], parentPath: r.slice(0, r.length - 1) }), s;
  }, findDeepMarkerIndex(t, e) {
    let i, r = (s) => (a, o) => {
      let l = s.concat(o);
      return a._leaflet_id === e._leaflet_id ? (i = l, true) : Array.isArray(a) && a.some(r(l));
    };
    t.some(r([]));
    let n = {};
    return i && (n = { indexPath: i, index: i[i.length - 1], parentPath: i.slice(0, i.length - 1) }), n;
  }, _getIndexFromSegment(t, e) {
    if (e && e.length === 2) {
      let i = this.findDeepCoordIndex(t, e[0]), r = this.findDeepCoordIndex(t, e[1]), n = Math.max(i.index, r.index);
      return (i.index === 0 || r.index === 0) && n !== 1 && (n += 1), { indexA: i, indexB: r, newIndex: n, indexPath: i.indexPath, parentPath: i.parentPath };
    }
    return null;
  }, _getRotatedRectangle(t, e, i, r) {
    let n = It(r, t), s = It(r, e), a = i * Math.PI / 180, o = Math.cos(a), l = Math.sin(a), u = (s.x - n.x) * o + (s.y - n.y) * l, f = (s.y - n.y) * o - (s.x - n.x) * l, d = u * o + n.x, P = u * l + n.y, E = -f * l + n.x, T = f * o + n.y, G = Re(r, n), _ = Re(r, { x: d, y: P }), x = Re(r, s), b = Re(r, { x: E, y: T });
    return [G, _, x, b];
  }, pxRadiusToMeterRadius(t, e, i) {
    let r = e.project(i), n = L.point(r.x + t, r.y);
    return e.distance(e.unproject(n), i);
  } }, Zl = k_;
  L.PM = L.PM || { version: hr.version, Map: Ko, Toolbar: Xo, Draw: X, Edit: H, Utils: Zl, Matrix: $l, activeLang: "en", optIn: false, initialize(t) {
    this.addInitHooks(t);
  }, setOptIn(t) {
    this.optIn = !!t;
  }, addInitHooks() {
    function t() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Map(this)) : this.options.pmIgnore || (this.pm = new L.PM.Map(this)), this.pm && this.pm.setGlobalOptions({});
    }
    L.Map.addInitHook(t);
    function e() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.LayerGroup(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.LayerGroup(this));
    }
    L.LayerGroup.addInitHook(e);
    function i() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.options.textMarker ? (this.pm = new L.PM.Edit.Text(this), this.options._textMarkerOverPM || this.pm._initTextMarker(), delete this.options._textMarkerOverPM) : this.pm = new L.PM.Edit.Marker(this)) : this.options.pmIgnore || (this.options.textMarker ? (this.pm = new L.PM.Edit.Text(this), this.options._textMarkerOverPM || this.pm._initTextMarker(), delete this.options._textMarkerOverPM) : this.pm = new L.PM.Edit.Marker(this));
    }
    L.Marker.addInitHook(i);
    function r() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.CircleMarker(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.CircleMarker(this));
    }
    L.CircleMarker.addInitHook(r);
    function n() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Line(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Line(this));
    }
    L.Polyline.addInitHook(n);
    function s() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Polygon(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Polygon(this));
    }
    L.Polygon.addInitHook(s);
    function a() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Rectangle(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Rectangle(this));
    }
    L.Rectangle.addInitHook(a);
    function o() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Circle(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Circle(this));
    }
    L.Circle.addInitHook(o);
    function l() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.ImageOverlay(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.ImageOverlay(this));
    }
    L.ImageOverlay.addInitHook(l);
  }, reInitLayer(t) {
    t instanceof L.LayerGroup && t.eachLayer((e) => {
      this.reInitLayer(e);
    }), t.pm || L.PM.optIn && t.options.pmIgnore !== false || t.options.pmIgnore || (t instanceof L.Map ? t.pm = new L.PM.Map(t) : t instanceof L.Marker ? t.options.textMarker ? (t.pm = new L.PM.Edit.Text(t), t.pm._initTextMarker(), t.pm._createTextMarker(false)) : t.pm = new L.PM.Edit.Marker(t) : t instanceof L.Circle ? t.pm = new L.PM.Edit.Circle(t) : t instanceof L.CircleMarker ? t.pm = new L.PM.Edit.CircleMarker(t) : t instanceof L.Rectangle ? t.pm = new L.PM.Edit.Rectangle(t) : t instanceof L.Polygon ? t.pm = new L.PM.Edit.Polygon(t) : t instanceof L.Polyline ? t.pm = new L.PM.Edit.Line(t) : t instanceof L.LayerGroup ? t.pm = new L.PM.Edit.LayerGroup(t) : t instanceof L.ImageOverlay && (t.pm = new L.PM.Edit.ImageOverlay(t)));
  } };
  L.version === "1.7.1" && L.Canvas.include({ _onClick(t) {
    let e = this._map.mouseEventToLayerPoint(t), i, r;
    for (let n = this._drawFirst; n; n = n.next)
      i = n.layer, i.options.interactive && i._containsPoint(e) && (!(t.type === "click" || t.type === "preclick") || !this._map._draggableMoved(i)) && (r = i);
    r && (L.DomEvent.fakeStop(t), this._fireEvent([r], t));
  } });
  L.PM.initialize();
})();

// node_modules/leaflet.photon/leaflet.photon.js
L.PhotonBase = L.Class.extend({
  forEach: function(els, callback) {
    Array.prototype.forEach.call(els, callback);
  },
  ajax: function(callback, thisobj) {
    if (typeof this.xhr === "object") {
      this.xhr.abort();
    }
    this.xhr = new XMLHttpRequest();
    var self2 = this;
    this.xhr.open("GET", this.options.url + this.buildQueryString(this.getParams()), true);
    this.xhr.onload = function(e) {
      self2.fire("ajax:return");
      if (this.status === 200) {
        if (callback) {
          var raw = this.response;
          raw = JSON.parse(raw);
          callback.call(thisobj || this, raw);
        }
      }
      delete this.xhr;
    };
    this.fire("ajax:send");
    this.xhr.send();
  },
  buildQueryString: function(params) {
    var queryString = [];
    for (var key in params) {
      if (params[key]) {
        queryString.push(encodeURIComponent(key) + "=" + encodeURIComponent(params[key]));
      }
    }
    return queryString.join("&");
  },
  featureToPopupContent: function(feature) {
    var container = L.DomUtil.create("div", "leaflet-photon-popup"), title = L.DomUtil.create("h3", "", container);
    title.innerHTML = feature.properties.label;
    return container;
  }
});
L.PhotonBaseSearch = L.PhotonBase.extend({
  includes: typeof L.Evented !== "undefined" && L.Evented.prototype || L.Mixin.Events,
  options: {
    url: "https://photon.komoot.io/api/?",
    placeholder: "Start typing...",
    minChar: 3,
    limit: 5,
    submitDelay: 300,
    includePosition: true,
    bbox: null,
    noResultLabel: "No result",
    feedbackEmail: "photon@komoot.de",
    // Set to null to remove feedback box
    feedbackLabel: "Feedback"
  },
  CACHE: "",
  RESULTS: [],
  KEYS: {
    LEFT: 37,
    UP: 38,
    RIGHT: 39,
    DOWN: 40,
    TAB: 9,
    RETURN: 13,
    ESC: 27,
    APPLE: 91,
    SHIFT: 16,
    ALT: 17,
    CTRL: 18
  },
  initialize: function(input, options) {
    this.input = input;
    L.setOptions(this, options);
    var CURRENT = null;
    try {
      Object.defineProperty(this, "CURRENT", {
        get: function() {
          return CURRENT;
        },
        set: function(index) {
          if (typeof index === "object") {
            index = this.resultToIndex(index);
          }
          CURRENT = index;
        }
      });
    } catch (e) {
    }
    this.input.type = L.Browser.ie ? "text" : "search";
    this.input.placeholder = this.options.placeholder;
    this.input.autocomplete = "off";
    this.input.autocorrect = "off";
    L.DomEvent.disableClickPropagation(this.input);
    L.DomEvent.on(this.input, "keydown", this.onKeyDown, this);
    L.DomEvent.on(this.input, "input", this.onInput, this);
    L.DomEvent.on(this.input, "blur", this.onBlur, this);
    L.DomEvent.on(this.input, "focus", this.onFocus, this);
    this.createResultsContainer();
  },
  createResultsContainer: function() {
    this.resultsContainer = this.options.resultsContainer || L.DomUtil.create("ul", "photon-autocomplete", document.querySelector("body"));
  },
  resizeContainer: function() {
    var l = this.getLeft(this.input);
    var t = this.getTop(this.input) + this.input.offsetHeight;
    this.resultsContainer.style.left = l + "px";
    this.resultsContainer.style.top = t + "px";
    var width = this.options.width ? this.options.width : this.input.offsetWidth - 2;
    this.resultsContainer.style.width = width + "px";
  },
  onKeyDown: function(e) {
    switch (e.keyCode) {
      case this.KEYS.TAB:
        if (this.CURRENT !== null) {
          this.setChoice();
        }
        L.DomEvent.stop(e);
        break;
      case this.KEYS.RETURN:
        L.DomEvent.stop(e);
        this.setChoice();
        break;
      case this.KEYS.ESC:
        L.DomEvent.stop(e);
        this.hide();
        this.input.blur();
        break;
      case this.KEYS.DOWN:
        if (this.RESULTS.length > 0) {
          if (this.CURRENT !== null && this.CURRENT < this.RESULTS.length - 1) {
            this.CURRENT++;
            this.highlight();
          } else if (this.CURRENT === null) {
            this.CURRENT = 0;
            this.highlight();
          }
        }
        break;
      case this.KEYS.UP:
        if (this.CURRENT !== null) {
          L.DomEvent.stop(e);
        }
        if (this.RESULTS.length > 0) {
          if (this.CURRENT > 0) {
            this.CURRENT--;
            this.highlight();
          } else if (this.CURRENT === 0) {
            this.CURRENT = null;
            this.highlight();
          }
        }
        break;
    }
  },
  onInput: function(e) {
    if (typeof this.submitDelay === "number") {
      window.clearTimeout(this.submitDelay);
      delete this.submitDelay;
    }
    this.submitDelay = window.setTimeout(L.Util.bind(this.search, this), this.options.submitDelay);
  },
  onBlur: function(e) {
    this.fire("blur");
    var self2 = this;
    setTimeout(function() {
      self2.hide();
    }, 100);
  },
  onFocus: function(e) {
    this.fire("focus");
    this.input.select();
    this.search();
  },
  clear: function() {
    this.RESULTS = [];
    this.CURRENT = null;
    this.CACHE = "";
    this.resultsContainer.innerHTML = "";
  },
  hide: function() {
    this.fire("hide");
    this.clear();
    this.resultsContainer.style.display = "none";
  },
  setChoice: function(choice) {
    choice = choice || this.RESULTS[this.CURRENT];
    if (choice) {
      this.hide();
      this.fire("selected", { choice: choice.feature });
      this.onSelected(choice.feature);
      this.input.value = "";
    }
  },
  search: function() {
    var val = this.input.value;
    var minChar = typeof this.options.minChar === "function" ? this.options.minChar(val) : val.length >= this.options.minChar;
    if (!val || !minChar)
      return this.clear();
    if (val + "" === this.CACHE + "")
      return;
    else
      this.CACHE = val;
    this._doSearch();
  },
  _doSearch: function() {
    this.ajax(this.handleResults, this);
  },
  _onSelected: function(feature) {
  },
  onSelected: function(choice) {
    return (this.options.onSelected || this._onSelected).call(this, choice);
  },
  _formatResult: function(feature, el) {
    var title = L.DomUtil.create("strong", "", el), detailsContainer = L.DomUtil.create("small", "", el), details = [], type = this.formatType(feature);
    if (feature.properties.name) {
      title.innerHTML = feature.properties.name;
    } else if (feature.properties.housenumber) {
      title.innerHTML = feature.properties.housenumber;
      if (feature.properties.street) {
        title.innerHTML += " " + feature.properties.street;
      }
    }
    if (type)
      details.push(type);
    if (feature.properties.city && feature.properties.city !== feature.properties.name) {
      details.push(feature.properties.city);
    }
    if (feature.properties.country)
      details.push(feature.properties.country);
    detailsContainer.innerHTML = details.join(", ");
  },
  formatResult: function(feature, el) {
    return (this.options.formatResult || this._formatResult).call(this, feature, el);
  },
  formatType: function(feature) {
    return (this.options.formatType || this._formatType).call(this, feature);
  },
  _formatType: function(feature) {
    return feature.properties.osm_value === "yes" ? feature.properties.osm_key : feature.properties.osm_value;
  },
  createResult: function(feature) {
    var el = L.DomUtil.create("li", "", this.resultsContainer);
    this.formatResult(feature, el);
    var result = {
      feature,
      el
    };
    L.DomEvent.on(el, "mouseover", function(e) {
      this.CURRENT = result;
      this.highlight();
    }, this);
    L.DomEvent.on(el, "mousedown", function(e) {
      this.setChoice();
    }, this);
    return result;
  },
  resultToIndex: function(result) {
    var out = null;
    this.forEach(this.RESULTS, function(item, index) {
      if (item === result) {
        out = index;
        return;
      }
    });
    return out;
  },
  handleResults: function(geojson) {
    var self2 = this;
    this.clear();
    this.resultsContainer.style.display = "block";
    this.resizeContainer();
    this.forEach(geojson.features, function(feature) {
      self2.RESULTS.push(self2.createResult(feature));
    });
    if (geojson.features.length === 0) {
      var noresult = L.DomUtil.create("li", "photon-no-result", this.resultsContainer);
      noresult.innerHTML = this.options.noResultLabel;
    }
    if (this.options.feedbackEmail) {
      var feedback = L.DomUtil.create("a", "photon-feedback", this.resultsContainer);
      feedback.href = "mailto:" + this.options.feedbackEmail;
      feedback.innerHTML = this.options.feedbackLabel;
    }
    this.CURRENT = 0;
    this.highlight();
    if (this.options.resultsHandler) {
      this.options.resultsHandler(geojson);
    }
  },
  highlight: function() {
    var self2 = this;
    this.forEach(this.RESULTS, function(item, index) {
      if (index === self2.CURRENT) {
        L.DomUtil.addClass(item.el, "on");
      } else {
        L.DomUtil.removeClass(item.el, "on");
      }
    });
  },
  getLeft: function(el) {
    var tmp = el.offsetLeft;
    el = el.offsetParent;
    while (el) {
      tmp += el.offsetLeft;
      el = el.offsetParent;
    }
    return tmp;
  },
  getTop: function(el) {
    var tmp = el.offsetTop;
    el = el.offsetParent;
    while (el) {
      tmp += el.offsetTop;
      el = el.offsetParent;
    }
    return tmp;
  },
  getParams: function() {
    return {
      q: this.CACHE,
      lang: this.options.lang,
      limit: this.options.limit,
      osm_tag: this.options.osm_tag
    };
  }
});
L.PhotonSearch = L.PhotonBaseSearch.extend({
  initialize: function(map3, input, options) {
    this.map = map3;
    L.PhotonBaseSearch.prototype.initialize.call(this, input, options);
  },
  _onSelected: function(feature) {
    this.map.setView([feature.geometry.coordinates[1], feature.geometry.coordinates[0]], 16);
  },
  getParams: function() {
    var params = L.PhotonBaseSearch.prototype.getParams.call(this);
    if (this.options.includePosition) {
      params.lat = this.map.getCenter().lat;
      params.lon = this.map.getCenter().lng;
      if (this.options.location_bias_scale) {
        params.location_bias_scale = this.options.location_bias_scale;
      }
    }
    if (this.options.bbox && this.options.bbox.length === 4) {
      params.bbox = this.options.bbox.join(",");
    }
    return params;
  }
});
L.Control.Photon = L.Control.extend({
  includes: typeof L.Evented !== "undefined" && L.Evented.prototype || L.Mixin.Events,
  onAdd: function(map3, options) {
    this.map = map3;
    this.container = L.DomUtil.create("div", "leaflet-photon");
    this.options = L.Util.extend(this.options, options);
    this.input = L.DomUtil.create("input", "photon-input", this.container);
    this.search = new L.PhotonSearch(map3, this.input, this.options);
    this.search.on("blur", this.forwardEvent, this);
    this.search.on("focus", this.forwardEvent, this);
    this.search.on("hide", this.forwardEvent, this);
    this.search.on("selected", this.forwardEvent, this);
    this.search.on("ajax:send", this.forwardEvent, this);
    this.search.on("ajax:return", this.forwardEvent, this);
    return this.container;
  },
  // TODO onRemove
  forwardEvent: function(e) {
    this.fire(e.type, e);
  }
});
L.control.photon = function(options) {
  return new L.Control.Photon(options);
};
L.Map.addInitHook(function() {
  if (this.options.photonControl) {
    this.photonControl = new L.Control.Photon(this.options.photonControlOptions || {});
    this.addControl(this.photonControl);
  }
});
L.PhotonReverse = L.PhotonBase.extend({
  includes: typeof L.Evented !== "undefined" && L.Evented.prototype || L.Mixin.Events,
  options: {
    url: "https://photon.komoot.io/reverse/?",
    limit: 1,
    handleResults: null
  },
  initialize: function(options) {
    L.setOptions(this, options);
  },
  doReverse: function(latlng) {
    latlng = L.latLng(latlng);
    this.fire("reverse", { latlng });
    this.latlng = latlng;
    this.ajax(this.handleResults, this);
  },
  _handleResults: function(data) {
    console.log(data);
  },
  handleResults: function(data) {
    return (this.options.handleResults || this._handleResults).call(this, data);
  },
  getParams: function() {
    return {
      lang: this.options.lang,
      limit: this.options.limit,
      lat: this.latlng.lat,
      lon: this.latlng.lng,
      osm_tag: this.options.osm_tag
    };
  }
});

// resources/js/index.js
document.addEventListener("DOMContentLoaded", () => {
  const mapPicker = ($wire, config, state) => {
    return {
      map: null,
      tile: null,
      marker: null,
      rangeCircle: null,
      drawItems: null,
      rangeSelectField: null,
      createMap: function(el) {
        const that = this;
        this.map = L2.map(el, config.controls);
        if (config.bounds) {
          let southWest = L2.latLng(config.bounds.sw.lat, config.bounds.sw.lng);
          let northEast = L2.latLng(config.bounds.ne.lat, config.bounds.ne.lng);
          let bounds = L2.latLngBounds(southWest, northEast);
          this.map.setMaxBounds(bounds);
          this.map.fitBounds(bounds);
          this.map.on("drag", function() {
            map.panInsideBounds(bounds, { animate: false });
          });
        }
        this.map.on("load", () => {
          setTimeout(() => this.map.invalidateSize(true), 0);
          if (config.showMarker) {
            this.marker.setLatLng(this.map.getCenter());
          }
        });
        if (!config.draggable) {
          this.map.dragging.disable();
        }
        if (config.clickable) {
          this.map.on("click", function(e) {
            that.setCoordinates(e.latlng);
          });
        }
        this.tile = L2.tileLayer(config.tilesUrl, {
          attribution: config.attribution,
          minZoom: config.minZoom,
          maxZoom: config.maxZoom,
          tileSize: config.tileSize,
          zoomOffset: config.zoomOffset,
          detectRetina: config.detectRetina
        }).addTo(this.map);
        if (config.showMarker) {
          const markerColor = config.markerColor || "#3b82f6";
          const svgIcon = L2.divIcon({
            html: `<svg xmlns="http://www.w3.org/2000/svg" class="map-icon" fill="${markerColor}" width="36" height="36" viewBox="0 0 24 24"><path d="M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z"/></svg>`,
            className: "",
            iconSize: [36, 36],
            iconAnchor: [18, 36]
          });
          this.marker = L2.marker([0, 0], {
            icon: svgIcon,
            draggable: false,
            autoPan: true
          }).addTo(this.map);
          this.setMarkerRange();
          if (!config.clickable) {
            this.map.on("move", () => this.setCoordinates(this.map.getCenter()));
          }
        }
        this.map.on("moveend", () => setTimeout(() => this.updateLocation(), 500));
        this.map.on("locationfound", function() {
          that.map.setZoom(config.controls.zoom);
        });
        let location = state ?? this.getCoordinates();
        if (!location.lat && !location.lng) {
          this.map.locate({
            setView: true,
            maxZoom: config.controls.maxZoom,
            enableHighAccuracy: true,
            watch: false
          });
        } else {
          this.map.setView(new L2.LatLng(location.lat, location.lng));
        }
        if (config.showMyLocationButton) {
          this.addLocationButton();
        }
        if (config.liveLocation.send && config.liveLocation.realtime) {
          setInterval(() => {
            this.fetchCurrentLocation();
          }, config.liveLocation.miliseconds);
        }
        if (config.geoMan.show) {
          this.map.pm.addControls({
            position: config.geoMan.position,
            drawCircleMarker: config.geoMan.drawCircleMarker,
            rotateMode: config.geoMan.rotateMode,
            drawMarker: config.geoMan.drawMarker,
            drawPolygon: config.geoMan.drawPolygon,
            drawPolyline: config.geoMan.drawPolyline,
            drawCircle: config.geoMan.drawCircle,
            editMode: config.geoMan.editMode,
            dragMode: config.geoMan.dragMode,
            cutPolygon: config.geoMan.cutPolygon,
            editPolygon: config.geoMan.editPolygon,
            deleteLayer: config.geoMan.deleteLayer
          });
          this.drawItems = new L2.FeatureGroup().addTo(this.map);
          this.map.on("pm:create", (e) => {
            if (e.layer && e.layer.pm) {
              e.layer.pm.enable();
              this.drawItems.addLayer(e.layer);
              this.updateGeoJson();
            }
          });
          this.map.on("pm:edit", () => {
            this.updateGeoJson();
          });
          this.map.on("pm:remove", (e) => {
            try {
              this.drawItems.removeLayer(e.layer);
              this.updateGeoJson();
            } catch (error) {
              console.error("Error during removal of layer:", error);
            }
          });
          const existingGeoJson = this.getGeoJson();
          if (existingGeoJson) {
            this.drawItems = L2.geoJSON(existingGeoJson, {
              pointToLayer: (feature, latlng) => {
                return L2.circleMarker(latlng, {
                  radius: 15,
                  color: "#3388ff",
                  fillColor: "#3388ff",
                  fillOpacity: 0.6
                });
              },
              style: function(feature) {
                if (feature.geometry.type === "Polygon") {
                  return {
                    color: config.geoMan.color || "#3388ff",
                    fillColor: config.geoMan.filledColor || "blue",
                    weight: 2,
                    fillOpacity: 0.4
                  };
                }
              },
              onEachFeature: (feature, layer) => {
                if (feature.geometry.type === "Polygon") {
                  layer.bindPopup("Polygon Area");
                } else if (feature.geometry.type === "Point") {
                  layer.bindPopup("Point Location");
                }
                if (config.geoMan.editable) {
                  if (feature.geometry.type === "Polygon") {
                    layer.pm.enable({
                      allowSelfIntersection: false
                    });
                  } else if (feature.geometry.type === "Point") {
                    layer.pm.enable({
                      draggable: true
                    });
                  }
                }
                layer.on("pm:edit", () => {
                  this.updateGeoJson();
                });
              }
            }).addTo(this.map);
            if (config.geoMan.editable) {
              this.drawItems.eachLayer((layer) => {
                layer.pm.enable({
                  allowSelfIntersection: false
                });
              });
            }
            this.map.fitBounds(this.drawItems.getBounds());
          }
        }
      },
      updateGeoJson: function() {
        try {
          const geoJsonData = this.drawItems.toGeoJSON();
          if (typeof geoJsonData !== "object") {
            console.error("GeoJSON data is not an object:", geoJsonData);
            return;
          }
          $wire.set(config.statePath, {
            ...$wire.get(config.statePath),
            geojson: geoJsonData
          }, true);
        } catch (error) {
          console.error("Error updating GeoJSON:", error);
        }
      },
      getGeoJson: function() {
        const state2 = $wire.get(config.statePath) ?? {};
        return state2.geojson;
      },
      updateLocation: function() {
        let coordinates = this.getCoordinates();
        let currentCenter = this.map.getCenter();
        if (coordinates.lng !== currentCenter.lng || coordinates.lat !== currentCenter.lat) {
          $wire.set(config.statePath, {
            ...$wire.get(config.statePath),
            lat: currentCenter.lat,
            lng: currentCenter.lng
          }, false);
          if (config.liveLocation.send) {
            $wire.$refresh();
          }
        }
      },
      removeMap: function(el) {
        if (this.marker) {
          this.marker.remove();
          this.marker = null;
        }
        this.tile.remove();
        this.tile = null;
        this.map.off();
        this.map.remove();
        this.map = null;
      },
      getCoordinates: function() {
        let location = $wire.get(config.statePath) ?? {};
        const hasValidCoordinates = location.hasOwnProperty("lat") && location.hasOwnProperty("lng") && location.lat !== null && location.lng !== null;
        if (!hasValidCoordinates) {
          location = {
            lat: config.default.lat,
            lng: config.default.lng
          };
        }
        return location;
      },
      setCoordinates: function(coords) {
        $wire.set(config.statePath, {
          ...$wire.get(config.statePath),
          lat: coords.lat,
          lng: coords.lng
        }, false);
        if (config.liveLocation.send) {
          $wire.$refresh();
        }
        this.updateMarker();
        return coords;
      },
      attach: function(el) {
        this.createMap(el);
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.intersectionRatio > 0) {
              if (!this.map)
                this.createMap(el);
            } else {
              this.removeMap(el);
            }
          });
        }, {
          root: null,
          rootMargin: "0px",
          threshold: 1
        });
        observer.observe(el);
      },
      fetchCurrentLocation: function() {
        if ("geolocation" in navigator) {
          navigator.geolocation.getCurrentPosition(async (position) => {
            const currentPosition = new L2.LatLng(position.coords.latitude, position.coords.longitude);
            await this.map.flyTo(currentPosition);
            this.updateLocation();
            this.updateMarker();
          }, (error) => {
            console.error("Error fetching current location:", error);
          });
        } else {
          alert("Geolocation is not supported by this browser.");
        }
      },
      addLocationButton: function() {
        const locationButton = document.createElement("button");
        locationButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 0C8.25 0 5 3.25 5 7c0 5.25 7 13 7 13s7-7.75 7-13c0-3.75-3.25-7-7-7zm0 10c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm0-5c-1.11 0-2 .89-2 2s.89 2 2 2 2-.89 2-2-.89-2-2-2z"/></svg>';
        locationButton.type = "button";
        locationButton.classList.add("map-location-button");
        locationButton.onclick = () => this.fetchCurrentLocation();
        this.map.getContainer().appendChild(locationButton);
      },
      setMarkerRange: function() {
        distance = parseInt(this.rangeSelectField?.value || 0);
        if (this.rangeCircle) {
          this.rangeCircle.setLatLng(this.getCoordinates()).setRadius(distance);
        } else {
          this.rangeCircle = L2.circle(this.getCoordinates(), {
            color: "blue",
            fillColor: "#f03",
            fillOpacity: 0.5,
            radius: distance
            // The radius in meters
          }).addTo(this.map);
        }
      },
      init: function() {
        this.$wire = $wire;
        this.config = config;
        this.state = state;
        this.rangeSelectField = document.getElementById(config.rangeSelectField || "data.distance");
        let that = this;
        this.rangeSelectField?.addEventListener("change", function() {
          that.updateMarker();
        });
        $wire.on("refreshMap", this.refreshMap.bind(this));
      },
      updateMarker: function() {
        if (config.showMarker) {
          this.marker.setLatLng(this.getCoordinates());
          this.setMarkerRange();
          setTimeout(() => this.updateLocation(), 500);
        }
      },
      refreshMap: function() {
        this.map.flyTo(this.getCoordinates());
        this.updateMarker();
      }
    };
  };
  window.mapPicker = mapPicker;
  window.dispatchEvent(new CustomEvent("map-script-loaded"));
});
/*! Bundled license information:

leaflet/dist/leaflet-src.js:
  (* @preserve
   * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
   * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvcmUvVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29yZS9DbGFzcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29yZS9FdmVudHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlb21ldHJ5L1BvaW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW9tZXRyeS9Cb3VuZHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9MYXRMbmdCb3VuZHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9MYXRMbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9jcnMvQ1JTLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW8vY3JzL0NSUy5FYXJ0aC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL3Byb2plY3Rpb24vUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvbWV0cnkvVHJhbnNmb3JtYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9jcnMvQ1JTLkVQU0czODU3LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci92ZWN0b3IvU1ZHLlV0aWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvcmUvQnJvd3Nlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZG9tL0RvbUV2ZW50LlBvaW50ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9Eb21FdmVudC5Eb3VibGVUYXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9Eb21VdGlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9kb20vRG9tRXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9Qb3NBbmltYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9NYXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvbnRyb2wvQ29udHJvbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29udHJvbC9Db250cm9sLkxheWVycy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29udHJvbC9Db250cm9sLlpvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvbnRyb2wvQ29udHJvbC5TY2FsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29udHJvbC9Db250cm9sLkF0dHJpYnV0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9jb250cm9sL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9jb3JlL0hhbmRsZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvcmUvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9EcmFnZ2FibGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlb21ldHJ5L1BvbHlVdGlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW9tZXRyeS9MaW5lVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL3Byb2plY3Rpb24vUHJvamVjdGlvbi5Mb25MYXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9wcm9qZWN0aW9uL1Byb2plY3Rpb24uTWVyY2F0b3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9wcm9qZWN0aW9uL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW8vY3JzL0NSUy5FUFNHMzM5NS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL2Nycy9DUlMuRVBTRzQzMjYuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9jcnMvQ1JTLlNpbXBsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL2Nycy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvTGF5ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0xheWVyR3JvdXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0ZlYXR1cmVHcm91cC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvbWFya2VyL0ljb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL21hcmtlci9JY29uLkRlZmF1bHQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL21hcmtlci9NYXJrZXIuRHJhZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvbWFya2VyL01hcmtlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1BhdGguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9DaXJjbGVNYXJrZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9DaXJjbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9Qb2x5bGluZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1BvbHlnb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0dlb0pTT04uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0ltYWdlT3ZlcmxheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvVmlkZW9PdmVybGF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9TVkdPdmVybGF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9EaXZPdmVybGF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9Qb3B1cC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvVG9vbHRpcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvbWFya2VyL0Rpdkljb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL21hcmtlci9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdGlsZS9HcmlkTGF5ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3RpbGUvVGlsZUxheWVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci90aWxlL1RpbGVMYXllci5XTVMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3RpbGUvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9SZW5kZXJlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL0NhbnZhcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1NWRy5WTUwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9TVkcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9SZW5kZXJlci5nZXRSZW5kZXJlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1JlY3RhbmdsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbWFwL2hhbmRsZXIvTWFwLkJveFpvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5Eb3VibGVDbGlja1pvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5EcmFnLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9tYXAvaGFuZGxlci9NYXAuS2V5Ym9hcmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5TY3JvbGxXaGVlbFpvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5UYXBIb2xkLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9tYXAvaGFuZGxlci9NYXAuVG91Y2hab29tLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9tYXAvaW5kZXguanMiLCAiLi4vanMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQtZnVsbHNjcmVlbi9kaXN0L0xlYWZsZXQuZnVsbHNjcmVlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVDbGVhci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc29jSW5kZXhPZi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVEZWxldGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlR2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZUhhcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVTZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fTGlzdENhY2hlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrQ2xlYXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tEZWxldGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tHZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tIYXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fb2JqZWN0VG9TdHJpbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNGdW5jdGlvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3JlSnNEYXRhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RvU291cmNlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc05hdGl2ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRWYWx1ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXROYXRpdmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUNyZWF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoQ2xlYXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaERlbGV0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoR2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hIYXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaFNldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19IYXNoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlQ2xlYXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNLZXlhYmxlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE1hcERhdGEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVEZWxldGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVHZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVIYXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVTZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwQ2FjaGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tTZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3RhY2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZGVmaW5lUHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUFzc2lnblZhbHVlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc2lnbk1lcmdlVmFsdWUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY3JlYXRlQmFzZUZvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlRm9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nsb25lQnVmZmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1VpbnQ4QXJyYXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY2xvbmVBcnJheUJ1ZmZlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19jbG9uZVR5cGVkQXJyYXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29weUFycmF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VDcmVhdGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fb3ZlckFyZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNQcm90b3R5cGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faW5pdENsb25lT2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0FyZ3VtZW50cy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJndW1lbnRzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTGVuZ3RoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheUxpa2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5TGlrZU9iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3N0dWJGYWxzZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQnVmZmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNUeXBlZEFycmF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19ub2RlVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzVHlwZWRBcnJheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19zYWZlR2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc2lnblZhbHVlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcHlPYmplY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVRpbWVzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlMaWtlS2V5cy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19uYXRpdmVLZXlzSW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUtleXNJbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2tleXNJbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3RvUGxhaW5PYmplY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZU1lcmdlRGVlcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlTWVyZ2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19hcHBseS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyUmVzdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2NvbnN0YW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VTZXRUb1N0cmluZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19zaG9ydE91dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUmVzdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0l0ZXJhdGVlQ2FsbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19jcmVhdGVBc3NpZ25lci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL21lcmdlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNTeW1ib2wuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNLZXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9tZW1vaXplLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21lbW9pemVDYXBwZWQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RyaW5nVG9QYXRoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5TWFwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUb1N0cmluZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3RvU3RyaW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nhc3RQYXRoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RvS2V5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9nZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vcmJ1c2hAMy4wLjEvbm9kZV9tb2R1bGVzL3JidXNoL3JidXNoLm1pbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitoZWxwZXJzQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9oZWxwZXJzL2Rpc3QvanMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrbWV0YUA2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvbWV0YS9kaXN0L2pzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2Jib3hANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Jib3gvZGlzdC9qcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9nZW9qc29uLXJidXNoQDMuMi4wL25vZGVfbW9kdWxlcy9nZW9qc29uLXJidXNoL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL3BvbHlmaWxscy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3BhY2thZ2UuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9MLlBNLk1hcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2VuLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9kZS5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvaXQuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2lkLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9yby5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvcnUuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2VzLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9ubC5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvZnIuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL3poLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy96aF90dy5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvcHRfYnIuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL3B0X3B0Lmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9wbC5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvc3YuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2VsLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9odS5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvZGEuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL25vLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9mYS5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvdWEuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL3RyLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9jei5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvamEuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2ZpLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9rby5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMva3kuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9Nb2Rlcy9Nb2RlLkVkaXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvTWl4aW5zL01vZGVzL01vZGUuRHJhZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvTW9kZXMvTW9kZS5SZW1vdmFsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9Nb2Rlcy9Nb2RlLlJvdGF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvRXZlbnRzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9LZXlib2FyZC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9oZWxwZXJzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL1Rvb2xiYXIvTC5Db250cm9scy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9Ub29sYmFyL0wuUE0uVG9vbGJhci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvU25hcHBpbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRHJhdy9MLlBNLkRyYXcuTWFya2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2hlbHBlcnNANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2hlbHBlcnMvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitraW5rc0A2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYva2lua3MvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5MaW5lLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0RyYXcvTC5QTS5EcmF3LlBvbHlnb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRHJhdy9MLlBNLkRyYXcuUmVjdGFuZ2xlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0RyYXcvTC5QTS5EcmF3LkNpcmNsZU1hcmtlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5DaXJjbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYraW52YXJpYW50QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9pbnZhcmlhbnQvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZittZXRhQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9tZXRhL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrbGluZS1zZWdtZW50QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9saW5lLXNlZ21lbnQvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitsaW5lLWludGVyc2VjdEA2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvbGluZS1pbnRlcnNlY3QvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitsaW5lLXNwbGl0QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9saW5lLXNwbGl0L2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrZGlzdGFuY2VANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Rpc3RhbmNlL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrc3F1YXJlQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9zcXVhcmUvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitiYm94QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9iYm94L2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrdHJ1bmNhdGVANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL3RydW5jYXRlL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrYmVhcmluZ0A2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvYmVhcmluZy9kaXN0L2VzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2Rlc3RpbmF0aW9uQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9kZXN0aW5hdGlvbi9kaXN0L2VzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK25lYXJlc3QtcG9pbnQtb24tbGluZUA2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvbmVhcmVzdC1wb2ludC1vbi1saW5lL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrYm9vbGVhbi1wb2ludC1pbi1wb2x5Z29uQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9ib29sZWFuLXBvaW50LWluLXBvbHlnb24vZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitib29sZWFuLXBvaW50LW9uLWxpbmVANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Jvb2xlYW4tcG9pbnQtb24tbGluZS9kaXN0L2VzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2Jvb2xlYW4tY29udGFpbnNANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Jvb2xlYW4tY29udGFpbnMvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5DdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vcG9seWNsaXAtdHNAMC4xNi41L25vZGVfbW9kdWxlcy9wb2x5Y2xpcC10cy9kaXN0L2NvbnN0YW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9jb21wYXJlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9vcmllbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vYmlnbnVtYmVyLmpzQDkuMS4yL25vZGVfbW9kdWxlcy9iaWdudW1iZXIuanMvYmlnbnVtYmVyLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9zcGxheXRyZWUtdHNAMS4wLjEvbm9kZV9tb2R1bGVzL3NwbGF5dHJlZS10cy9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9pZGVudGl0eS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3Qvc25hcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3QvcHJlY2lzaW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9iYm94LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC92ZWN0b3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vcG9seWNsaXAtdHNAMC4xNi41L25vZGVfbW9kdWxlcy9wb2x5Y2xpcC10cy9kaXN0L3N3ZWVwLWV2ZW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9zZWdtZW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9nZW9tLWluLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9nZW9tLW91dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3Qvc3dlZXAtbGluZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3Qvb3BlcmF0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9oZWxwZXJzL3R1cmZIZWxwZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRHJhdy9MLlBNLkRyYXcuVGV4dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvRHJhZ2dpbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvTWl4aW5zL1JvdGF0aW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL2hlbHBlcnMvTW9kZUhlbHBlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5MYXllckdyb3VwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0VkaXQvTC5QTS5FZGl0Lk1hcmtlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5MaW5lLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9NYXJrZXJMaW1pdHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRWRpdC9MLlBNLkVkaXQuUG9seWdvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5SZWN0YW5nbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRWRpdC9MLlBNLkVkaXQuQ2lyY2xlTWFya2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0VkaXQvTC5QTS5FZGl0LkNpcmNsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5JbWFnZU92ZXJsYXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRWRpdC9MLlBNLkVkaXQuVGV4dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9oZWxwZXJzL01hdHJpeC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9MLlBNLlV0aWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0wuUE0uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQucGhvdG9uL2xlYWZsZXQucGhvdG9uLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKlxyXG4gKiBAbmFtZXNwYWNlIFV0aWxcclxuICpcclxuICogVmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucywgdXNlZCBieSBMZWFmbGV0IGludGVybmFsbHkuXHJcbiAqL1xyXG5cclxuLy8gQGZ1bmN0aW9uIGV4dGVuZChkZXN0OiBPYmplY3QsIHNyYz86IE9iamVjdCk6IE9iamVjdFxyXG4vLyBNZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGBzcmNgIG9iamVjdCAob3IgbXVsdGlwbGUgb2JqZWN0cykgaW50byBgZGVzdGAgb2JqZWN0IGFuZCByZXR1cm5zIHRoZSBsYXR0ZXIuIEhhcyBhbiBgTC5leHRlbmRgIHNob3J0Y3V0LlxyXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGRlc3QpIHtcclxuXHR2YXIgaSwgaiwgbGVuLCBzcmM7XHJcblxyXG5cdGZvciAoaiA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGogPCBsZW47IGorKykge1xyXG5cdFx0c3JjID0gYXJndW1lbnRzW2pdO1xyXG5cdFx0Zm9yIChpIGluIHNyYykge1xyXG5cdFx0XHRkZXN0W2ldID0gc3JjW2ldO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZGVzdDtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGNyZWF0ZShwcm90bzogT2JqZWN0LCBwcm9wZXJ0aWVzPzogT2JqZWN0KTogT2JqZWN0XHJcbi8vIENvbXBhdGliaWxpdHkgcG9seWZpbGwgZm9yIFtPYmplY3QuY3JlYXRlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvY3JlYXRlKVxyXG5leHBvcnQgdmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgKGZ1bmN0aW9uICgpIHtcclxuXHRmdW5jdGlvbiBGKCkge31cclxuXHRyZXR1cm4gZnVuY3Rpb24gKHByb3RvKSB7XHJcblx0XHRGLnByb3RvdHlwZSA9IHByb3RvO1xyXG5cdFx0cmV0dXJuIG5ldyBGKCk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbi8vIEBmdW5jdGlvbiBiaW5kKGZuOiBGdW5jdGlvbiwg4oCmKTogRnVuY3Rpb25cclxuLy8gUmV0dXJucyBhIG5ldyBmdW5jdGlvbiBib3VuZCB0byB0aGUgYXJndW1lbnRzIHBhc3NlZCwgbGlrZSBbRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL2JpbmQpLlxyXG4vLyBIYXMgYSBgTC5iaW5kKClgIHNob3J0Y3V0LlxyXG5leHBvcnQgZnVuY3Rpb24gYmluZChmbiwgb2JqKSB7XHJcblx0dmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xyXG5cclxuXHRpZiAoZm4uYmluZCkge1xyXG5cdFx0cmV0dXJuIGZuLmJpbmQuYXBwbHkoZm4sIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcblx0fVxyXG5cclxuXHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBmbi5hcHBseShvYmosIGFyZ3MubGVuZ3RoID8gYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSA6IGFyZ3VtZW50cyk7XHJcblx0fTtcclxufVxyXG5cclxuLy8gQHByb3BlcnR5IGxhc3RJZDogTnVtYmVyXHJcbi8vIExhc3QgdW5pcXVlIElEIHVzZWQgYnkgW2BzdGFtcCgpYF0oI3V0aWwtc3RhbXApXHJcbmV4cG9ydCB2YXIgbGFzdElkID0gMDtcclxuXHJcbi8vIEBmdW5jdGlvbiBzdGFtcChvYmo6IE9iamVjdCk6IE51bWJlclxyXG4vLyBSZXR1cm5zIHRoZSB1bmlxdWUgSUQgb2YgYW4gb2JqZWN0LCBhc3NpZ25pbmcgaXQgb25lIGlmIGl0IGRvZXNuJ3QgaGF2ZSBpdC5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0YW1wKG9iaikge1xyXG5cdGlmICghKCdfbGVhZmxldF9pZCcgaW4gb2JqKSkge1xyXG5cdFx0b2JqWydfbGVhZmxldF9pZCddID0gKytsYXN0SWQ7XHJcblx0fVxyXG5cdHJldHVybiBvYmouX2xlYWZsZXRfaWQ7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiB0aHJvdHRsZShmbjogRnVuY3Rpb24sIHRpbWU6IE51bWJlciwgY29udGV4dDogT2JqZWN0KTogRnVuY3Rpb25cclxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGV4ZWN1dGVzIGZ1bmN0aW9uIGBmbmAgd2l0aCB0aGUgZ2l2ZW4gc2NvcGUgYGNvbnRleHRgXHJcbi8vIChzbyB0aGF0IHRoZSBgdGhpc2Aga2V5d29yZCByZWZlcnMgdG8gYGNvbnRleHRgIGluc2lkZSBgZm5gJ3MgY29kZSkuIFRoZSBmdW5jdGlvblxyXG4vLyBgZm5gIHdpbGwgYmUgY2FsbGVkIG5vIG1vcmUgdGhhbiBvbmUgdGltZSBwZXIgZ2l2ZW4gYW1vdW50IG9mIGB0aW1lYC4gVGhlIGFyZ3VtZW50c1xyXG4vLyByZWNlaXZlZCBieSB0aGUgYm91bmQgZnVuY3Rpb24gd2lsbCBiZSBhbnkgYXJndW1lbnRzIHBhc3NlZCB3aGVuIGJpbmRpbmcgdGhlXHJcbi8vIGZ1bmN0aW9uLCBmb2xsb3dlZCBieSBhbnkgYXJndW1lbnRzIHBhc3NlZCB3aGVuIGludm9raW5nIHRoZSBib3VuZCBmdW5jdGlvbi5cclxuLy8gSGFzIGFuIGBMLnRocm90dGxlYCBzaG9ydGN1dC5cclxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGZuLCB0aW1lLCBjb250ZXh0KSB7XHJcblx0dmFyIGxvY2ssIGFyZ3MsIHdyYXBwZXJGbiwgbGF0ZXI7XHJcblxyXG5cdGxhdGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gcmVzZXQgbG9jayBhbmQgY2FsbCBpZiBxdWV1ZWRcclxuXHRcdGxvY2sgPSBmYWxzZTtcclxuXHRcdGlmIChhcmdzKSB7XHJcblx0XHRcdHdyYXBwZXJGbi5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuXHRcdFx0YXJncyA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHdyYXBwZXJGbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmIChsb2NrKSB7XHJcblx0XHRcdC8vIGNhbGxlZCB0b28gc29vbiwgcXVldWUgdG8gY2FsbCBsYXRlclxyXG5cdFx0XHRhcmdzID0gYXJndW1lbnRzO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGNhbGwgYW5kIGxvY2sgdW50aWwgbGF0ZXJcclxuXHRcdFx0Zm4uYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdFx0c2V0VGltZW91dChsYXRlciwgdGltZSk7XHJcblx0XHRcdGxvY2sgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHJldHVybiB3cmFwcGVyRm47XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiB3cmFwTnVtKG51bTogTnVtYmVyLCByYW5nZTogTnVtYmVyW10sIGluY2x1ZGVNYXg/OiBCb29sZWFuKTogTnVtYmVyXHJcbi8vIFJldHVybnMgdGhlIG51bWJlciBgbnVtYCBtb2R1bG8gYHJhbmdlYCBpbiBzdWNoIGEgd2F5IHNvIGl0IGxpZXMgd2l0aGluXHJcbi8vIGByYW5nZVswXWAgYW5kIGByYW5nZVsxXWAuIFRoZSByZXR1cm5lZCB2YWx1ZSB3aWxsIGJlIGFsd2F5cyBzbWFsbGVyIHRoYW5cclxuLy8gYHJhbmdlWzFdYCB1bmxlc3MgYGluY2x1ZGVNYXhgIGlzIHNldCB0byBgdHJ1ZWAuXHJcbmV4cG9ydCBmdW5jdGlvbiB3cmFwTnVtKHgsIHJhbmdlLCBpbmNsdWRlTWF4KSB7XHJcblx0dmFyIG1heCA9IHJhbmdlWzFdLFxyXG5cdCAgICBtaW4gPSByYW5nZVswXSxcclxuXHQgICAgZCA9IG1heCAtIG1pbjtcclxuXHRyZXR1cm4geCA9PT0gbWF4ICYmIGluY2x1ZGVNYXggPyB4IDogKCh4IC0gbWluKSAlIGQgKyBkKSAlIGQgKyBtaW47XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBmYWxzZUZuKCk6IEZ1bmN0aW9uXHJcbi8vIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBhbHdheXMgcmV0dXJucyBgZmFsc2VgLlxyXG5leHBvcnQgZnVuY3Rpb24gZmFsc2VGbigpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG4vLyBAZnVuY3Rpb24gZm9ybWF0TnVtKG51bTogTnVtYmVyLCBwcmVjaXNpb24/OiBOdW1iZXJ8ZmFsc2UpOiBOdW1iZXJcclxuLy8gUmV0dXJucyB0aGUgbnVtYmVyIGBudW1gIHJvdW5kZWQgd2l0aCBzcGVjaWZpZWQgYHByZWNpc2lvbmAuXHJcbi8vIFRoZSBkZWZhdWx0IGBwcmVjaXNpb25gIHZhbHVlIGlzIDYgZGVjaW1hbCBwbGFjZXMuXHJcbi8vIGBmYWxzZWAgY2FuIGJlIHBhc3NlZCB0byBza2lwIGFueSBwcm9jZXNzaW5nIChjYW4gYmUgdXNlZnVsIHRvIGF2b2lkIHJvdW5kLW9mZiBlcnJvcnMpLlxyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0TnVtKG51bSwgcHJlY2lzaW9uKSB7XHJcblx0aWYgKHByZWNpc2lvbiA9PT0gZmFsc2UpIHsgcmV0dXJuIG51bTsgfVxyXG5cdHZhciBwb3cgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uID09PSB1bmRlZmluZWQgPyA2IDogcHJlY2lzaW9uKTtcclxuXHRyZXR1cm4gTWF0aC5yb3VuZChudW0gKiBwb3cpIC8gcG93O1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gdHJpbShzdHI6IFN0cmluZyk6IFN0cmluZ1xyXG4vLyBDb21wYXRpYmlsaXR5IHBvbHlmaWxsIGZvciBbU3RyaW5nLnByb3RvdHlwZS50cmltXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvVHJpbSlcclxuZXhwb3J0IGZ1bmN0aW9uIHRyaW0oc3RyKSB7XHJcblx0cmV0dXJuIHN0ci50cmltID8gc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBzcGxpdFdvcmRzKHN0cjogU3RyaW5nKTogU3RyaW5nW11cclxuLy8gVHJpbXMgYW5kIHNwbGl0cyB0aGUgc3RyaW5nIG9uIHdoaXRlc3BhY2UgYW5kIHJldHVybnMgdGhlIGFycmF5IG9mIHBhcnRzLlxyXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRXb3JkcyhzdHIpIHtcclxuXHRyZXR1cm4gdHJpbShzdHIpLnNwbGl0KC9cXHMrLyk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBzZXRPcHRpb25zKG9iajogT2JqZWN0LCBvcHRpb25zOiBPYmplY3QpOiBPYmplY3RcclxuLy8gTWVyZ2VzIHRoZSBnaXZlbiBwcm9wZXJ0aWVzIHRvIHRoZSBgb3B0aW9uc2Agb2YgdGhlIGBvYmpgIG9iamVjdCwgcmV0dXJuaW5nIHRoZSByZXN1bHRpbmcgb3B0aW9ucy4gU2VlIGBDbGFzcyBvcHRpb25zYC4gSGFzIGFuIGBMLnNldE9wdGlvbnNgIHNob3J0Y3V0LlxyXG5leHBvcnQgZnVuY3Rpb24gc2V0T3B0aW9ucyhvYmosIG9wdGlvbnMpIHtcclxuXHRpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosICdvcHRpb25zJykpIHtcclxuXHRcdG9iai5vcHRpb25zID0gb2JqLm9wdGlvbnMgPyBjcmVhdGUob2JqLm9wdGlvbnMpIDoge307XHJcblx0fVxyXG5cdGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xyXG5cdFx0b2JqLm9wdGlvbnNbaV0gPSBvcHRpb25zW2ldO1xyXG5cdH1cclxuXHRyZXR1cm4gb2JqLm9wdGlvbnM7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRQYXJhbVN0cmluZyhvYmo6IE9iamVjdCwgZXhpc3RpbmdVcmw/OiBTdHJpbmcsIHVwcGVyY2FzZT86IEJvb2xlYW4pOiBTdHJpbmdcclxuLy8gQ29udmVydHMgYW4gb2JqZWN0IGludG8gYSBwYXJhbWV0ZXIgVVJMIHN0cmluZywgZS5nLiBge2E6IFwiZm9vXCIsIGI6IFwiYmFyXCJ9YFxyXG4vLyB0cmFuc2xhdGVzIHRvIGAnP2E9Zm9vJmI9YmFyJ2AuIElmIGBleGlzdGluZ1VybGAgaXMgc2V0LCB0aGUgcGFyYW1ldGVycyB3aWxsXHJcbi8vIGJlIGFwcGVuZGVkIGF0IHRoZSBlbmQuIElmIGB1cHBlcmNhc2VgIGlzIGB0cnVlYCwgdGhlIHBhcmFtZXRlciBuYW1lcyB3aWxsXHJcbi8vIGJlIHVwcGVyY2FzZWQgKGUuZy4gYCc/QT1mb28mQj1iYXInYClcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmFtU3RyaW5nKG9iaiwgZXhpc3RpbmdVcmwsIHVwcGVyY2FzZSkge1xyXG5cdHZhciBwYXJhbXMgPSBbXTtcclxuXHRmb3IgKHZhciBpIGluIG9iaikge1xyXG5cdFx0cGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHVwcGVyY2FzZSA/IGkudG9VcHBlckNhc2UoKSA6IGkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtpXSkpO1xyXG5cdH1cclxuXHRyZXR1cm4gKCghZXhpc3RpbmdVcmwgfHwgZXhpc3RpbmdVcmwuaW5kZXhPZignPycpID09PSAtMSkgPyAnPycgOiAnJicpICsgcGFyYW1zLmpvaW4oJyYnKTtcclxufVxyXG5cclxudmFyIHRlbXBsYXRlUmUgPSAvXFx7ICooW1xcd18gLV0rKSAqXFx9L2c7XHJcblxyXG4vLyBAZnVuY3Rpb24gdGVtcGxhdGUoc3RyOiBTdHJpbmcsIGRhdGE6IE9iamVjdCk6IFN0cmluZ1xyXG4vLyBTaW1wbGUgdGVtcGxhdGluZyBmYWNpbGl0eSwgYWNjZXB0cyBhIHRlbXBsYXRlIHN0cmluZyBvZiB0aGUgZm9ybSBgJ0hlbGxvIHthfSwge2J9J2BcclxuLy8gYW5kIGEgZGF0YSBvYmplY3QgbGlrZSBge2E6ICdmb28nLCBiOiAnYmFyJ31gLCByZXR1cm5zIGV2YWx1YXRlZCBzdHJpbmdcclxuLy8gYCgnSGVsbG8gZm9vLCBiYXInKWAuIFlvdSBjYW4gYWxzbyBzcGVjaWZ5IGZ1bmN0aW9ucyBpbnN0ZWFkIG9mIHN0cmluZ3MgZm9yXHJcbi8vIGRhdGEgdmFsdWVzIOKAlCB0aGV5IHdpbGwgYmUgZXZhbHVhdGVkIHBhc3NpbmcgYGRhdGFgIGFzIGFuIGFyZ3VtZW50LlxyXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGUoc3RyLCBkYXRhKSB7XHJcblx0cmV0dXJuIHN0ci5yZXBsYWNlKHRlbXBsYXRlUmUsIGZ1bmN0aW9uIChzdHIsIGtleSkge1xyXG5cdFx0dmFyIHZhbHVlID0gZGF0YVtrZXldO1xyXG5cclxuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignTm8gdmFsdWUgcHJvdmlkZWQgZm9yIHZhcmlhYmxlICcgKyBzdHIpO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdHZhbHVlID0gdmFsdWUoZGF0YSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdmFsdWU7XHJcblx0fSk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBpc0FycmF5KG9iaik6IEJvb2xlYW5cclxuLy8gQ29tcGF0aWJpbGl0eSBwb2x5ZmlsbCBmb3IgW0FycmF5LmlzQXJyYXldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2lzQXJyYXkpXHJcbmV4cG9ydCB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKG9iaikge1xyXG5cdHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XScpO1xyXG59O1xyXG5cclxuLy8gQGZ1bmN0aW9uIGluZGV4T2YoYXJyYXk6IEFycmF5LCBlbDogT2JqZWN0KTogTnVtYmVyXHJcbi8vIENvbXBhdGliaWxpdHkgcG9seWZpbGwgZm9yIFtBcnJheS5wcm90b3R5cGUuaW5kZXhPZl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaW5kZXhPZilcclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIGVsKSB7XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKGFycmF5W2ldID09PSBlbCkgeyByZXR1cm4gaTsgfVxyXG5cdH1cclxuXHRyZXR1cm4gLTE7XHJcbn1cclxuXHJcbi8vIEBwcm9wZXJ0eSBlbXB0eUltYWdlVXJsOiBTdHJpbmdcclxuLy8gRGF0YSBVUkkgc3RyaW5nIGNvbnRhaW5pbmcgYSBiYXNlNjQtZW5jb2RlZCBlbXB0eSBHSUYgaW1hZ2UuXHJcbi8vIFVzZWQgYXMgYSBoYWNrIHRvIGZyZWUgbWVtb3J5IGZyb20gdW51c2VkIGltYWdlcyBvbiBXZWJLaXQtcG93ZXJlZFxyXG4vLyBtb2JpbGUgZGV2aWNlcyAoYnkgc2V0dGluZyBpbWFnZSBgc3JjYCB0byB0aGlzIHN0cmluZykuXHJcbmV4cG9ydCB2YXIgZW1wdHlJbWFnZVVybCA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFEL0FDd0FBQUFBQVFBQkFBQUNBRHM9JztcclxuXHJcbi8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xyXG5cclxuZnVuY3Rpb24gZ2V0UHJlZml4ZWQobmFtZSkge1xyXG5cdHJldHVybiB3aW5kb3dbJ3dlYmtpdCcgKyBuYW1lXSB8fCB3aW5kb3dbJ21veicgKyBuYW1lXSB8fCB3aW5kb3dbJ21zJyArIG5hbWVdO1xyXG59XHJcblxyXG52YXIgbGFzdFRpbWUgPSAwO1xyXG5cclxuLy8gZmFsbGJhY2sgZm9yIElFIDctOFxyXG5mdW5jdGlvbiB0aW1lb3V0RGVmZXIoZm4pIHtcclxuXHR2YXIgdGltZSA9ICtuZXcgRGF0ZSgpLFxyXG5cdCAgICB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYgLSAodGltZSAtIGxhc3RUaW1lKSk7XHJcblxyXG5cdGxhc3RUaW1lID0gdGltZSArIHRpbWVUb0NhbGw7XHJcblx0cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZuLCB0aW1lVG9DYWxsKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciByZXF1ZXN0Rm4gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGdldFByZWZpeGVkKCdSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKSB8fCB0aW1lb3V0RGVmZXI7XHJcbmV4cG9ydCB2YXIgY2FuY2VsRm4gPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgZ2V0UHJlZml4ZWQoJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJykgfHxcclxuXHRcdGdldFByZWZpeGVkKCdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKSB8fCBmdW5jdGlvbiAoaWQpIHsgd2luZG93LmNsZWFyVGltZW91dChpZCk7IH07XHJcblxyXG4vLyBAZnVuY3Rpb24gcmVxdWVzdEFuaW1GcmFtZShmbjogRnVuY3Rpb24sIGNvbnRleHQ/OiBPYmplY3QsIGltbWVkaWF0ZT86IEJvb2xlYW4pOiBOdW1iZXJcclxuLy8gU2NoZWR1bGVzIGBmbmAgdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgYnJvd3NlciByZXBhaW50cy4gYGZuYCBpcyBib3VuZCB0b1xyXG4vLyBgY29udGV4dGAgaWYgZ2l2ZW4uIFdoZW4gYGltbWVkaWF0ZWAgaXMgc2V0LCBgZm5gIGlzIGNhbGxlZCBpbW1lZGlhdGVseSBpZlxyXG4vLyB0aGUgYnJvd3NlciBkb2Vzbid0IGhhdmUgbmF0aXZlIHN1cHBvcnQgZm9yXHJcbi8vIFtgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS93aW5kb3cvcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSxcclxuLy8gb3RoZXJ3aXNlIGl0J3MgZGVsYXllZC4gUmV0dXJucyBhIHJlcXVlc3QgSUQgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0QW5pbUZyYW1lKGZuLCBjb250ZXh0LCBpbW1lZGlhdGUpIHtcclxuXHRpZiAoaW1tZWRpYXRlICYmIHJlcXVlc3RGbiA9PT0gdGltZW91dERlZmVyKSB7XHJcblx0XHRmbi5jYWxsKGNvbnRleHQpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXR1cm4gcmVxdWVzdEZuLmNhbGwod2luZG93LCBiaW5kKGZuLCBjb250ZXh0KSk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gY2FuY2VsQW5pbUZyYW1lKGlkOiBOdW1iZXIpOiB1bmRlZmluZWRcclxuLy8gQ2FuY2VscyBhIHByZXZpb3VzIGByZXF1ZXN0QW5pbUZyYW1lYC4gU2VlIGFsc28gW3dpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL3dpbmRvdy9jYW5jZWxBbmltYXRpb25GcmFtZSkuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWxBbmltRnJhbWUoaWQpIHtcclxuXHRpZiAoaWQpIHtcclxuXHRcdGNhbmNlbEZuLmNhbGwod2luZG93LCBpZCk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4vVXRpbCc7XHJcblxyXG4vLyBAY2xhc3MgQ2xhc3NcclxuLy8gQGFrYSBMLkNsYXNzXHJcblxyXG4vLyBAc2VjdGlvblxyXG4vLyBAdW5pbmhlcml0YWJsZVxyXG5cclxuLy8gVGhhbmtzIHRvIEpvaG4gUmVzaWcgYW5kIERlYW4gRWR3YXJkcyBmb3IgaW5zcGlyYXRpb24hXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQ2xhc3MoKSB7fVxyXG5cclxuQ2xhc3MuZXh0ZW5kID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcblxyXG5cdC8vIEBmdW5jdGlvbiBleHRlbmQocHJvcHM6IE9iamVjdCk6IEZ1bmN0aW9uXHJcblx0Ly8gW0V4dGVuZHMgdGhlIGN1cnJlbnQgY2xhc3NdKCNjbGFzcy1pbmhlcml0YW5jZSkgZ2l2ZW4gdGhlIHByb3BlcnRpZXMgdG8gYmUgaW5jbHVkZWQuXHJcblx0Ly8gUmV0dXJucyBhIEphdmFzY3JpcHQgZnVuY3Rpb24gdGhhdCBpcyBhIGNsYXNzIGNvbnN0cnVjdG9yICh0byBiZSBjYWxsZWQgd2l0aCBgbmV3YCkuXHJcblx0dmFyIE5ld0NsYXNzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzKTtcclxuXHJcblx0XHQvLyBjYWxsIHRoZSBjb25zdHJ1Y3RvclxyXG5cdFx0aWYgKHRoaXMuaW5pdGlhbGl6ZSkge1xyXG5cdFx0XHR0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjYWxsIGFsbCBjb25zdHJ1Y3RvciBob29rc1xyXG5cdFx0dGhpcy5jYWxsSW5pdEhvb2tzKCk7XHJcblx0fTtcclxuXHJcblx0dmFyIHBhcmVudFByb3RvID0gTmV3Q2xhc3MuX19zdXBlcl9fID0gdGhpcy5wcm90b3R5cGU7XHJcblxyXG5cdHZhciBwcm90byA9IFV0aWwuY3JlYXRlKHBhcmVudFByb3RvKTtcclxuXHRwcm90by5jb25zdHJ1Y3RvciA9IE5ld0NsYXNzO1xyXG5cclxuXHROZXdDbGFzcy5wcm90b3R5cGUgPSBwcm90bztcclxuXHJcblx0Ly8gaW5oZXJpdCBwYXJlbnQncyBzdGF0aWNzXHJcblx0Zm9yICh2YXIgaSBpbiB0aGlzKSB7XHJcblx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsIGkpICYmIGkgIT09ICdwcm90b3R5cGUnICYmIGkgIT09ICdfX3N1cGVyX18nKSB7XHJcblx0XHRcdE5ld0NsYXNzW2ldID0gdGhpc1tpXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIG1peCBzdGF0aWMgcHJvcGVydGllcyBpbnRvIHRoZSBjbGFzc1xyXG5cdGlmIChwcm9wcy5zdGF0aWNzKSB7XHJcblx0XHRVdGlsLmV4dGVuZChOZXdDbGFzcywgcHJvcHMuc3RhdGljcyk7XHJcblx0fVxyXG5cclxuXHQvLyBtaXggaW5jbHVkZXMgaW50byB0aGUgcHJvdG90eXBlXHJcblx0aWYgKHByb3BzLmluY2x1ZGVzKSB7XHJcblx0XHRjaGVja0RlcHJlY2F0ZWRNaXhpbkV2ZW50cyhwcm9wcy5pbmNsdWRlcyk7XHJcblx0XHRVdGlsLmV4dGVuZC5hcHBseShudWxsLCBbcHJvdG9dLmNvbmNhdChwcm9wcy5pbmNsdWRlcykpO1xyXG5cdH1cclxuXHJcblx0Ly8gbWl4IGdpdmVuIHByb3BlcnRpZXMgaW50byB0aGUgcHJvdG90eXBlXHJcblx0VXRpbC5leHRlbmQocHJvdG8sIHByb3BzKTtcclxuXHRkZWxldGUgcHJvdG8uc3RhdGljcztcclxuXHRkZWxldGUgcHJvdG8uaW5jbHVkZXM7XHJcblxyXG5cdC8vIG1lcmdlIG9wdGlvbnNcclxuXHRpZiAocHJvdG8ub3B0aW9ucykge1xyXG5cdFx0cHJvdG8ub3B0aW9ucyA9IHBhcmVudFByb3RvLm9wdGlvbnMgPyBVdGlsLmNyZWF0ZShwYXJlbnRQcm90by5vcHRpb25zKSA6IHt9O1xyXG5cdFx0VXRpbC5leHRlbmQocHJvdG8ub3B0aW9ucywgcHJvcHMub3B0aW9ucyk7XHJcblx0fVxyXG5cclxuXHRwcm90by5faW5pdEhvb2tzID0gW107XHJcblxyXG5cdC8vIGFkZCBtZXRob2QgZm9yIGNhbGxpbmcgYWxsIGhvb2tzXHJcblx0cHJvdG8uY2FsbEluaXRIb29rcyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRpZiAodGhpcy5faW5pdEhvb2tzQ2FsbGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGlmIChwYXJlbnRQcm90by5jYWxsSW5pdEhvb2tzKSB7XHJcblx0XHRcdHBhcmVudFByb3RvLmNhbGxJbml0SG9va3MuY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9pbml0SG9va3NDYWxsZWQgPSB0cnVlO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBwcm90by5faW5pdEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdHByb3RvLl9pbml0SG9va3NbaV0uY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gTmV3Q2xhc3M7XHJcbn07XHJcblxyXG5cclxuLy8gQGZ1bmN0aW9uIGluY2x1ZGUocHJvcGVydGllczogT2JqZWN0KTogdGhpc1xyXG4vLyBbSW5jbHVkZXMgYSBtaXhpbl0oI2NsYXNzLWluY2x1ZGVzKSBpbnRvIHRoZSBjdXJyZW50IGNsYXNzLlxyXG5DbGFzcy5pbmNsdWRlID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcblx0dmFyIHBhcmVudE9wdGlvbnMgPSB0aGlzLnByb3RvdHlwZS5vcHRpb25zO1xyXG5cdFV0aWwuZXh0ZW5kKHRoaXMucHJvdG90eXBlLCBwcm9wcyk7XHJcblx0aWYgKHByb3BzLm9wdGlvbnMpIHtcclxuXHRcdHRoaXMucHJvdG90eXBlLm9wdGlvbnMgPSBwYXJlbnRPcHRpb25zO1xyXG5cdFx0dGhpcy5tZXJnZU9wdGlvbnMocHJvcHMub3B0aW9ucyk7XHJcblx0fVxyXG5cdHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLy8gQGZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhvcHRpb25zOiBPYmplY3QpOiB0aGlzXHJcbi8vIFtNZXJnZXMgYG9wdGlvbnNgXSgjY2xhc3Mtb3B0aW9ucykgaW50byB0aGUgZGVmYXVsdHMgb2YgdGhlIGNsYXNzLlxyXG5DbGFzcy5tZXJnZU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdFV0aWwuZXh0ZW5kKHRoaXMucHJvdG90eXBlLm9wdGlvbnMsIG9wdGlvbnMpO1xyXG5cdHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLy8gQGZ1bmN0aW9uIGFkZEluaXRIb29rKGZuOiBGdW5jdGlvbik6IHRoaXNcclxuLy8gQWRkcyBhIFtjb25zdHJ1Y3RvciBob29rXSgjY2xhc3MtY29uc3RydWN0b3ItaG9va3MpIHRvIHRoZSBjbGFzcy5cclxuQ2xhc3MuYWRkSW5pdEhvb2sgPSBmdW5jdGlvbiAoZm4pIHsgLy8gKEZ1bmN0aW9uKSB8fCAoU3RyaW5nLCBhcmdzLi4uKVxyXG5cdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHJcblx0dmFyIGluaXQgPSB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgPyBmbiA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXNbZm5dLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG5cdH07XHJcblxyXG5cdHRoaXMucHJvdG90eXBlLl9pbml0SG9va3MgPSB0aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzIHx8IFtdO1xyXG5cdHRoaXMucHJvdG90eXBlLl9pbml0SG9va3MucHVzaChpbml0KTtcclxuXHRyZXR1cm4gdGhpcztcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrRGVwcmVjYXRlZE1peGluRXZlbnRzKGluY2x1ZGVzKSB7XHJcblx0LyogZ2xvYmFsIEw6IHRydWUgKi9cclxuXHRpZiAodHlwZW9mIEwgPT09ICd1bmRlZmluZWQnIHx8ICFMIHx8ICFMLk1peGluKSB7IHJldHVybjsgfVxyXG5cclxuXHRpbmNsdWRlcyA9IFV0aWwuaXNBcnJheShpbmNsdWRlcykgPyBpbmNsdWRlcyA6IFtpbmNsdWRlc107XHJcblxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgaW5jbHVkZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChpbmNsdWRlc1tpXSA9PT0gTC5NaXhpbi5FdmVudHMpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdEZXByZWNhdGVkIGluY2x1ZGUgb2YgTC5NaXhpbi5FdmVudHM6ICcgK1xyXG5cdFx0XHRcdCd0aGlzIHByb3BlcnR5IHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUgcmVsZWFzZXMsICcgK1xyXG5cdFx0XHRcdCdwbGVhc2UgaW5oZXJpdCBmcm9tIEwuRXZlbnRlZCBpbnN0ZWFkLicsIG5ldyBFcnJvcigpLnN0YWNrKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7Q2xhc3N9IGZyb20gJy4vQ2xhc3MnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4vVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgRXZlbnRlZFxyXG4gKiBAYWthIEwuRXZlbnRlZFxyXG4gKiBAaW5oZXJpdHMgQ2xhc3NcclxuICpcclxuICogQSBzZXQgb2YgbWV0aG9kcyBzaGFyZWQgYmV0d2VlbiBldmVudC1wb3dlcmVkIGNsYXNzZXMgKGxpa2UgYE1hcGAgYW5kIGBNYXJrZXJgKS4gR2VuZXJhbGx5LCBldmVudHMgYWxsb3cgeW91IHRvIGV4ZWN1dGUgc29tZSBmdW5jdGlvbiB3aGVuIHNvbWV0aGluZyBoYXBwZW5zIHdpdGggYW4gb2JqZWN0IChlLmcuIHRoZSB1c2VyIGNsaWNrcyBvbiB0aGUgbWFwLCBjYXVzaW5nIHRoZSBtYXAgdG8gZmlyZSBgJ2NsaWNrJ2AgZXZlbnQpLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBtYXAub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gKiBcdGFsZXJ0KGUubGF0bG5nKTtcclxuICogfSApO1xyXG4gKiBgYGBcclxuICpcclxuICogTGVhZmxldCBkZWFscyB3aXRoIGV2ZW50IGxpc3RlbmVycyBieSByZWZlcmVuY2UsIHNvIGlmIHlvdSB3YW50IHRvIGFkZCBhIGxpc3RlbmVyIGFuZCB0aGVuIHJlbW92ZSBpdCwgZGVmaW5lIGl0IGFzIGEgZnVuY3Rpb246XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGZ1bmN0aW9uIG9uQ2xpY2soZSkgeyAuLi4gfVxyXG4gKlxyXG4gKiBtYXAub24oJ2NsaWNrJywgb25DbGljayk7XHJcbiAqIG1hcC5vZmYoJ2NsaWNrJywgb25DbGljayk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgRXZlbnRzID0ge1xyXG5cdC8qIEBtZXRob2Qgb24odHlwZTogU3RyaW5nLCBmbjogRnVuY3Rpb24sIGNvbnRleHQ/OiBPYmplY3QpOiB0aGlzXHJcblx0ICogQWRkcyBhIGxpc3RlbmVyIGZ1bmN0aW9uIChgZm5gKSB0byBhIHBhcnRpY3VsYXIgZXZlbnQgdHlwZSBvZiB0aGUgb2JqZWN0LiBZb3UgY2FuIG9wdGlvbmFsbHkgc3BlY2lmeSB0aGUgY29udGV4dCBvZiB0aGUgbGlzdGVuZXIgKG9iamVjdCB0aGUgdGhpcyBrZXl3b3JkIHdpbGwgcG9pbnQgdG8pLiBZb3UgY2FuIGFsc28gcGFzcyBzZXZlcmFsIHNwYWNlLXNlcGFyYXRlZCB0eXBlcyAoZS5nLiBgJ2NsaWNrIGRibGNsaWNrJ2ApLlxyXG5cdCAqXHJcblx0ICogQGFsdGVybmF0aXZlXHJcblx0ICogQG1ldGhvZCBvbihldmVudE1hcDogT2JqZWN0KTogdGhpc1xyXG5cdCAqIEFkZHMgYSBzZXQgb2YgdHlwZS9saXN0ZW5lciBwYWlycywgZS5nLiBge2NsaWNrOiBvbkNsaWNrLCBtb3VzZW1vdmU6IG9uTW91c2VNb3ZlfWBcclxuXHQgKi9cclxuXHRvbjogZnVuY3Rpb24gKHR5cGVzLCBmbiwgY29udGV4dCkge1xyXG5cclxuXHRcdC8vIHR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xyXG5cdFx0aWYgKHR5cGVvZiB0eXBlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Zm9yICh2YXIgdHlwZSBpbiB0eXBlcykge1xyXG5cdFx0XHRcdC8vIHdlIGRvbid0IHByb2Nlc3Mgc3BhY2Utc2VwYXJhdGVkIGV2ZW50cyBoZXJlIGZvciBwZXJmb3JtYW5jZTtcclxuXHRcdFx0XHQvLyBpdCdzIGEgaG90IHBhdGggc2luY2UgTGF5ZXIgdXNlcyB0aGUgb24ob2JqKSBzeW50YXhcclxuXHRcdFx0XHR0aGlzLl9vbih0eXBlLCB0eXBlc1t0eXBlXSwgZm4pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gdHlwZXMgY2FuIGJlIGEgc3RyaW5nIG9mIHNwYWNlLXNlcGFyYXRlZCB3b3Jkc1xyXG5cdFx0XHR0eXBlcyA9IFV0aWwuc3BsaXRXb3Jkcyh0eXBlcyk7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHR0aGlzLl9vbih0eXBlc1tpXSwgZm4sIGNvbnRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0LyogQG1ldGhvZCBvZmYodHlwZTogU3RyaW5nLCBmbj86IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG5cdCAqIFJlbW92ZXMgYSBwcmV2aW91c2x5IGFkZGVkIGxpc3RlbmVyIGZ1bmN0aW9uLiBJZiBubyBmdW5jdGlvbiBpcyBzcGVjaWZpZWQsIGl0IHdpbGwgcmVtb3ZlIGFsbCB0aGUgbGlzdGVuZXJzIG9mIHRoYXQgcGFydGljdWxhciBldmVudCBmcm9tIHRoZSBvYmplY3QuIE5vdGUgdGhhdCBpZiB5b3UgcGFzc2VkIGEgY3VzdG9tIGNvbnRleHQgdG8gYG9uYCwgeW91IG11c3QgcGFzcyB0aGUgc2FtZSBjb250ZXh0IHRvIGBvZmZgIGluIG9yZGVyIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXIuXHJcblx0ICpcclxuXHQgKiBAYWx0ZXJuYXRpdmVcclxuXHQgKiBAbWV0aG9kIG9mZihldmVudE1hcDogT2JqZWN0KTogdGhpc1xyXG5cdCAqIFJlbW92ZXMgYSBzZXQgb2YgdHlwZS9saXN0ZW5lciBwYWlycy5cclxuXHQgKlxyXG5cdCAqIEBhbHRlcm5hdGl2ZVxyXG5cdCAqIEBtZXRob2Qgb2ZmOiB0aGlzXHJcblx0ICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIHRvIGFsbCBldmVudHMgb24gdGhlIG9iamVjdC4gVGhpcyBpbmNsdWRlcyBpbXBsaWNpdGx5IGF0dGFjaGVkIGV2ZW50cy5cclxuXHQgKi9cclxuXHRvZmY6IGZ1bmN0aW9uICh0eXBlcywgZm4sIGNvbnRleHQpIHtcclxuXHJcblx0XHRpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuXHRcdFx0Ly8gY2xlYXIgYWxsIGxpc3RlbmVycyBpZiBjYWxsZWQgd2l0aG91dCBhcmd1bWVudHNcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2V2ZW50cztcclxuXHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiB0eXBlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Zm9yICh2YXIgdHlwZSBpbiB0eXBlcykge1xyXG5cdFx0XHRcdHRoaXMuX29mZih0eXBlLCB0eXBlc1t0eXBlXSwgZm4pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dHlwZXMgPSBVdGlsLnNwbGl0V29yZHModHlwZXMpO1xyXG5cclxuXHRcdFx0dmFyIHJlbW92ZUFsbCA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDE7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSB0eXBlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdGlmIChyZW1vdmVBbGwpIHtcclxuXHRcdFx0XHRcdHRoaXMuX29mZih0eXBlc1tpXSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuX29mZih0eXBlc1tpXSwgZm4sIGNvbnRleHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIGF0dGFjaCBsaXN0ZW5lciAod2l0aG91dCBzeW50YWN0aWMgc3VnYXIgbm93KVxyXG5cdF9vbjogZnVuY3Rpb24gKHR5cGUsIGZuLCBjb250ZXh0LCBfb25jZSkge1xyXG5cdFx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ3dyb25nIGxpc3RlbmVyIHR5cGU6ICcgKyB0eXBlb2YgZm4pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY2hlY2sgaWYgZm4gYWxyZWFkeSB0aGVyZVxyXG5cdFx0aWYgKHRoaXMuX2xpc3RlbnModHlwZSwgZm4sIGNvbnRleHQpICE9PSBmYWxzZSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvbnRleHQgPT09IHRoaXMpIHtcclxuXHRcdFx0Ly8gTGVzcyBtZW1vcnkgZm9vdHByaW50LlxyXG5cdFx0XHRjb250ZXh0ID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBuZXdMaXN0ZW5lciA9IHtmbjogZm4sIGN0eDogY29udGV4dH07XHJcblx0XHRpZiAoX29uY2UpIHtcclxuXHRcdFx0bmV3TGlzdGVuZXIub25jZSA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xyXG5cdFx0dGhpcy5fZXZlbnRzW3R5cGVdID0gdGhpcy5fZXZlbnRzW3R5cGVdIHx8IFtdO1xyXG5cdFx0dGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobmV3TGlzdGVuZXIpO1xyXG5cdH0sXHJcblxyXG5cdF9vZmY6IGZ1bmN0aW9uICh0eXBlLCBmbiwgY29udGV4dCkge1xyXG5cdFx0dmFyIGxpc3RlbmVycyxcclxuXHRcdCAgICBpLFxyXG5cdFx0ICAgIGxlbjtcclxuXHJcblx0XHRpZiAoIXRoaXMuX2V2ZW50cykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0bGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG5cdFx0aWYgKCFsaXN0ZW5lcnMpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7IC8vIHJlbW92ZSBhbGxcclxuXHRcdFx0aWYgKHRoaXMuX2ZpcmluZ0NvdW50KSB7XHJcblx0XHRcdFx0Ly8gU2V0IGFsbCByZW1vdmVkIGxpc3RlbmVycyB0byBub29wXHJcblx0XHRcdFx0Ly8gc28gdGhleSBhcmUgbm90IGNhbGxlZCBpZiByZW1vdmUgaGFwcGVucyBpbiBmaXJlXHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRsaXN0ZW5lcnNbaV0uZm4gPSBVdGlsLmZhbHNlRm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNsZWFyIGFsbCBsaXN0ZW5lcnMgZm9yIGEgdHlwZSBpZiBmdW5jdGlvbiBpc24ndCBzcGVjaWZpZWRcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCd3cm9uZyBsaXN0ZW5lciB0eXBlOiAnICsgdHlwZW9mIGZuKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGZpbmQgZm4gYW5kIHJlbW92ZSBpdFxyXG5cdFx0dmFyIGluZGV4ID0gdGhpcy5fbGlzdGVucyh0eXBlLCBmbiwgY29udGV4dCk7XHJcblx0XHRpZiAoaW5kZXggIT09IGZhbHNlKSB7XHJcblx0XHRcdHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpbmRleF07XHJcblx0XHRcdGlmICh0aGlzLl9maXJpbmdDb3VudCkge1xyXG5cdFx0XHRcdC8vIHNldCB0aGUgcmVtb3ZlZCBsaXN0ZW5lciB0byBub29wIHNvIHRoYXQncyBub3QgY2FsbGVkIGlmIHJlbW92ZSBoYXBwZW5zIGluIGZpcmVcclxuXHRcdFx0XHRsaXN0ZW5lci5mbiA9IFV0aWwuZmFsc2VGbjtcclxuXHJcblx0XHRcdFx0LyogY29weSBhcnJheSBpbiBjYXNlIGV2ZW50cyBhcmUgYmVpbmcgZmlyZWQgKi9cclxuXHRcdFx0XHR0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZpcmUodHlwZTogU3RyaW5nLCBkYXRhPzogT2JqZWN0LCBwcm9wYWdhdGU/OiBCb29sZWFuKTogdGhpc1xyXG5cdC8vIEZpcmVzIGFuIGV2ZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZS4gWW91IGNhbiBvcHRpb25hbGx5IHByb3ZpZGUgYSBkYXRhXHJcblx0Ly8gb2JqZWN0IOKAlCB0aGUgZmlyc3QgYXJndW1lbnQgb2YgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHdpbGwgY29udGFpbiBpdHNcclxuXHQvLyBwcm9wZXJ0aWVzLiBUaGUgZXZlbnQgY2FuIG9wdGlvbmFsbHkgYmUgcHJvcGFnYXRlZCB0byBldmVudCBwYXJlbnRzLlxyXG5cdGZpcmU6IGZ1bmN0aW9uICh0eXBlLCBkYXRhLCBwcm9wYWdhdGUpIHtcclxuXHRcdGlmICghdGhpcy5saXN0ZW5zKHR5cGUsIHByb3BhZ2F0ZSkpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHR2YXIgZXZlbnQgPSBVdGlsLmV4dGVuZCh7fSwgZGF0YSwge1xyXG5cdFx0XHR0eXBlOiB0eXBlLFxyXG5cdFx0XHR0YXJnZXQ6IHRoaXMsXHJcblx0XHRcdHNvdXJjZVRhcmdldDogZGF0YSAmJiBkYXRhLnNvdXJjZVRhcmdldCB8fCB0aGlzXHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAodGhpcy5fZXZlbnRzKSB7XHJcblx0XHRcdHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0XHRcdGlmIChsaXN0ZW5lcnMpIHtcclxuXHRcdFx0XHR0aGlzLl9maXJpbmdDb3VudCA9ICh0aGlzLl9maXJpbmdDb3VudCArIDEpIHx8IDE7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdFx0dmFyIGwgPSBsaXN0ZW5lcnNbaV07XHJcblx0XHRcdFx0XHQvLyBvZmYgb3ZlcndyaXRlcyBsLmZuLCBzbyB3ZSBuZWVkIHRvIGNvcHkgZm4gdG8gYSB2YXJcclxuXHRcdFx0XHRcdHZhciBmbiA9IGwuZm47XHJcblx0XHRcdFx0XHRpZiAobC5vbmNlKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMub2ZmKHR5cGUsIGZuLCBsLmN0eCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmbi5jYWxsKGwuY3R4IHx8IHRoaXMsIGV2ZW50KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMuX2ZpcmluZ0NvdW50LS07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAocHJvcGFnYXRlKSB7XHJcblx0XHRcdC8vIHByb3BhZ2F0ZSB0aGUgZXZlbnQgdG8gcGFyZW50cyAoc2V0IHdpdGggYWRkRXZlbnRQYXJlbnQpXHJcblx0XHRcdHRoaXMuX3Byb3BhZ2F0ZUV2ZW50KGV2ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGxpc3RlbnModHlwZTogU3RyaW5nLCBwcm9wYWdhdGU/OiBCb29sZWFuKTogQm9vbGVhblxyXG5cdC8vIEBtZXRob2QgbGlzdGVucyh0eXBlOiBTdHJpbmcsIGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCwgcHJvcGFnYXRlPzogQm9vbGVhbik6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiBhIHBhcnRpY3VsYXIgZXZlbnQgdHlwZSBoYXMgYW55IGxpc3RlbmVycyBhdHRhY2hlZCB0byBpdC5cclxuXHQvLyBUaGUgdmVyaWZpY2F0aW9uIGNhbiBvcHRpb25hbGx5IGJlIHByb3BhZ2F0ZWQsIGl0IHdpbGwgcmV0dXJuIGB0cnVlYCBpZiBwYXJlbnRzIGhhdmUgdGhlIGxpc3RlbmVyIGF0dGFjaGVkIHRvIGl0LlxyXG5cdGxpc3RlbnM6IGZ1bmN0aW9uICh0eXBlLCBmbiwgY29udGV4dCwgcHJvcGFnYXRlKSB7XHJcblx0XHRpZiAodHlwZW9mIHR5cGUgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdGNvbnNvbGUud2FybignXCJzdHJpbmdcIiB0eXBlIGFyZ3VtZW50IGV4cGVjdGVkJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gd2UgZG9uJ3Qgb3ZlcndyaXRlIHRoZSBpbnB1dCBgZm5gIHZhbHVlLCBiZWNhdXNlIHdlIG5lZWQgdG8gdXNlIGl0IGZvciBwcm9wYWdhdGlvblxyXG5cdFx0dmFyIF9mbiA9IGZuO1xyXG5cdFx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRwcm9wYWdhdGUgPSAhIWZuO1xyXG5cdFx0XHRfZm4gPSB1bmRlZmluZWQ7XHJcblx0XHRcdGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0XHRpZiAobGlzdGVuZXJzICYmIGxpc3RlbmVycy5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKHRoaXMuX2xpc3RlbnModHlwZSwgX2ZuLCBjb250ZXh0KSAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChwcm9wYWdhdGUpIHtcclxuXHRcdFx0Ly8gYWxzbyBjaGVjayBwYXJlbnRzIGZvciBsaXN0ZW5lcnMgaWYgZXZlbnQgcHJvcGFnYXRlc1xyXG5cdFx0XHRmb3IgKHZhciBpZCBpbiB0aGlzLl9ldmVudFBhcmVudHMpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5fZXZlbnRQYXJlbnRzW2lkXS5saXN0ZW5zKHR5cGUsIGZuLCBjb250ZXh0LCBwcm9wYWdhdGUpKSB7IHJldHVybiB0cnVlOyB9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9LFxyXG5cclxuXHQvLyByZXR1cm5zIHRoZSBpbmRleCAobnVtYmVyKSBvciBmYWxzZVxyXG5cdF9saXN0ZW5zOiBmdW5jdGlvbiAodHlwZSwgZm4sIGNvbnRleHQpIHtcclxuXHRcdGlmICghdGhpcy5fZXZlbnRzKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdIHx8IFtdO1xyXG5cdFx0aWYgKCFmbikge1xyXG5cdFx0XHRyZXR1cm4gISFsaXN0ZW5lcnMubGVuZ3RoO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb250ZXh0ID09PSB0aGlzKSB7XHJcblx0XHRcdC8vIExlc3MgbWVtb3J5IGZvb3RwcmludC5cclxuXHRcdFx0Y29udGV4dCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdGlmIChsaXN0ZW5lcnNbaV0uZm4gPT09IGZuICYmIGxpc3RlbmVyc1tpXS5jdHggPT09IGNvbnRleHQpIHtcclxuXHRcdFx0XHRyZXR1cm4gaTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG9uY2Uo4oCmKTogdGhpc1xyXG5cdC8vIEJlaGF2ZXMgYXMgW2BvbijigKYpYF0oI2V2ZW50ZWQtb24pLCBleGNlcHQgdGhlIGxpc3RlbmVyIHdpbGwgb25seSBnZXQgZmlyZWQgb25jZSBhbmQgdGhlbiByZW1vdmVkLlxyXG5cdG9uY2U6IGZ1bmN0aW9uICh0eXBlcywgZm4sIGNvbnRleHQpIHtcclxuXHJcblx0XHQvLyB0eXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcclxuXHRcdGlmICh0eXBlb2YgdHlwZXMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGZvciAodmFyIHR5cGUgaW4gdHlwZXMpIHtcclxuXHRcdFx0XHQvLyB3ZSBkb24ndCBwcm9jZXNzIHNwYWNlLXNlcGFyYXRlZCBldmVudHMgaGVyZSBmb3IgcGVyZm9ybWFuY2U7XHJcblx0XHRcdFx0Ly8gaXQncyBhIGhvdCBwYXRoIHNpbmNlIExheWVyIHVzZXMgdGhlIG9uKG9iaikgc3ludGF4XHJcblx0XHRcdFx0dGhpcy5fb24odHlwZSwgdHlwZXNbdHlwZV0sIGZuLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIHR5cGVzIGNhbiBiZSBhIHN0cmluZyBvZiBzcGFjZS1zZXBhcmF0ZWQgd29yZHNcclxuXHRcdFx0dHlwZXMgPSBVdGlsLnNwbGl0V29yZHModHlwZXMpO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHR5cGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0dGhpcy5fb24odHlwZXNbaV0sIGZuLCBjb250ZXh0LCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYWRkRXZlbnRQYXJlbnQob2JqOiBFdmVudGVkKTogdGhpc1xyXG5cdC8vIEFkZHMgYW4gZXZlbnQgcGFyZW50IC0gYW4gYEV2ZW50ZWRgIHRoYXQgd2lsbCByZWNlaXZlIHByb3BhZ2F0ZWQgZXZlbnRzXHJcblx0YWRkRXZlbnRQYXJlbnQ6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHRoaXMuX2V2ZW50UGFyZW50cyA9IHRoaXMuX2V2ZW50UGFyZW50cyB8fCB7fTtcclxuXHRcdHRoaXMuX2V2ZW50UGFyZW50c1tVdGlsLnN0YW1wKG9iaildID0gb2JqO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZW1vdmVFdmVudFBhcmVudChvYmo6IEV2ZW50ZWQpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyBhbiBldmVudCBwYXJlbnQsIHNvIGl0IHdpbGwgc3RvcCByZWNlaXZpbmcgcHJvcGFnYXRlZCBldmVudHNcclxuXHRyZW1vdmVFdmVudFBhcmVudDogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0aWYgKHRoaXMuX2V2ZW50UGFyZW50cykge1xyXG5cdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRQYXJlbnRzW1V0aWwuc3RhbXAob2JqKV07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfcHJvcGFnYXRlRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRmb3IgKHZhciBpZCBpbiB0aGlzLl9ldmVudFBhcmVudHMpIHtcclxuXHRcdFx0dGhpcy5fZXZlbnRQYXJlbnRzW2lkXS5maXJlKGUudHlwZSwgVXRpbC5leHRlbmQoe1xyXG5cdFx0XHRcdGxheWVyOiBlLnRhcmdldCxcclxuXHRcdFx0XHRwcm9wYWdhdGVkRnJvbTogZS50YXJnZXRcclxuXHRcdFx0fSwgZSksIHRydWUpO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbi8vIGFsaWFzZXM7IHdlIHNob3VsZCBkaXRjaCB0aG9zZSBldmVudHVhbGx5XHJcblxyXG4vLyBAbWV0aG9kIGFkZEV2ZW50TGlzdGVuZXIo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYG9uKOKApilgXSgjZXZlbnRlZC1vbilcclxuRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIgPSBFdmVudHMub247XHJcblxyXG4vLyBAbWV0aG9kIHJlbW92ZUV2ZW50TGlzdGVuZXIo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYG9mZijigKYpYF0oI2V2ZW50ZWQtb2ZmKVxyXG5cclxuLy8gQG1ldGhvZCBjbGVhckFsbEV2ZW50TGlzdGVuZXJzKOKApik6IHRoaXNcclxuLy8gQWxpYXMgdG8gW2BvZmYoKWBdKCNldmVudGVkLW9mZilcclxuRXZlbnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBFdmVudHMuY2xlYXJBbGxFdmVudExpc3RlbmVycyA9IEV2ZW50cy5vZmY7XHJcblxyXG4vLyBAbWV0aG9kIGFkZE9uZVRpbWVFdmVudExpc3RlbmVyKOKApik6IHRoaXNcclxuLy8gQWxpYXMgdG8gW2BvbmNlKOKApilgXSgjZXZlbnRlZC1vbmNlKVxyXG5FdmVudHMuYWRkT25lVGltZUV2ZW50TGlzdGVuZXIgPSBFdmVudHMub25jZTtcclxuXHJcbi8vIEBtZXRob2QgZmlyZUV2ZW50KOKApik6IHRoaXNcclxuLy8gQWxpYXMgdG8gW2BmaXJlKOKApilgXSgjZXZlbnRlZC1maXJlKVxyXG5FdmVudHMuZmlyZUV2ZW50ID0gRXZlbnRzLmZpcmU7XHJcblxyXG4vLyBAbWV0aG9kIGhhc0V2ZW50TGlzdGVuZXJzKOKApik6IEJvb2xlYW5cclxuLy8gQWxpYXMgdG8gW2BsaXN0ZW5zKOKApilgXSgjZXZlbnRlZC1saXN0ZW5zKVxyXG5FdmVudHMuaGFzRXZlbnRMaXN0ZW5lcnMgPSBFdmVudHMubGlzdGVucztcclxuXHJcbmV4cG9ydCB2YXIgRXZlbnRlZCA9IENsYXNzLmV4dGVuZChFdmVudHMpO1xyXG4iLCAiaW1wb3J0IHtpc0FycmF5LCBmb3JtYXROdW19IGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgUG9pbnRcclxuICogQGFrYSBMLlBvaW50XHJcbiAqXHJcbiAqIFJlcHJlc2VudHMgYSBwb2ludCB3aXRoIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIGluIHBpeGVscy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIHBvaW50ID0gTC5wb2ludCgyMDAsIDMwMCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBBbGwgTGVhZmxldCBtZXRob2RzIGFuZCBvcHRpb25zIHRoYXQgYWNjZXB0IGBQb2ludGAgb2JqZWN0cyBhbHNvIGFjY2VwdCB0aGVtIGluIGEgc2ltcGxlIEFycmF5IGZvcm0gKHVubGVzcyBub3RlZCBvdGhlcndpc2UpLCBzbyB0aGVzZSBsaW5lcyBhcmUgZXF1aXZhbGVudDpcclxuICpcclxuICogYGBganNcclxuICogbWFwLnBhbkJ5KFsyMDAsIDMwMF0pO1xyXG4gKiBtYXAucGFuQnkoTC5wb2ludCgyMDAsIDMwMCkpO1xyXG4gKiBgYGBcclxuICpcclxuICogTm90ZSB0aGF0IGBQb2ludGAgZG9lcyBub3QgaW5oZXJpdCBmcm9tIExlYWZsZXQncyBgQ2xhc3NgIG9iamVjdCxcclxuICogd2hpY2ggbWVhbnMgbmV3IGNsYXNzZXMgY2FuJ3QgaW5oZXJpdCBmcm9tIGl0LCBhbmQgbmV3IG1ldGhvZHNcclxuICogY2FuJ3QgYmUgYWRkZWQgdG8gaXQgd2l0aCB0aGUgYGluY2x1ZGVgIGZ1bmN0aW9uLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBQb2ludCh4LCB5LCByb3VuZCkge1xyXG5cdC8vIEBwcm9wZXJ0eSB4OiBOdW1iZXI7IFRoZSBgeGAgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcclxuXHR0aGlzLnggPSAocm91bmQgPyBNYXRoLnJvdW5kKHgpIDogeCk7XHJcblx0Ly8gQHByb3BlcnR5IHk6IE51bWJlcjsgVGhlIGB5YCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxyXG5cdHRoaXMueSA9IChyb3VuZCA/IE1hdGgucm91bmQoeSkgOiB5KTtcclxufVxyXG5cclxudmFyIHRydW5jID0gTWF0aC50cnVuYyB8fCBmdW5jdGlvbiAodikge1xyXG5cdHJldHVybiB2ID4gMCA/IE1hdGguZmxvb3IodikgOiBNYXRoLmNlaWwodik7XHJcbn07XHJcblxyXG5Qb2ludC5wcm90b3R5cGUgPSB7XHJcblxyXG5cdC8vIEBtZXRob2QgY2xvbmUoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgY3VycmVudCBwb2ludC5cclxuXHRjbG9uZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGQob3RoZXJQb2ludDogUG9pbnQpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBhbmQgdGhlIGdpdmVuIHBvaW50cy5cclxuXHRhZGQ6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0Ly8gbm9uLWRlc3RydWN0aXZlLCByZXR1cm5zIGEgbmV3IHBvaW50XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9hZGQodG9Qb2ludChwb2ludCkpO1xyXG5cdH0sXHJcblxyXG5cdF9hZGQ6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0Ly8gZGVzdHJ1Y3RpdmUsIHVzZWQgZGlyZWN0bHkgZm9yIHBlcmZvcm1hbmNlIGluIHNpdHVhdGlvbnMgd2hlcmUgaXQncyBzYWZlIHRvIG1vZGlmeSBleGlzdGluZyBwb2ludFxyXG5cdFx0dGhpcy54ICs9IHBvaW50Lng7XHJcblx0XHR0aGlzLnkgKz0gcG9pbnQueTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc3VidHJhY3Qob3RoZXJQb2ludDogUG9pbnQpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBzdWJ0cmFjdGlvbiBvZiB0aGUgZ2l2ZW4gcG9pbnQgZnJvbSB0aGUgY3VycmVudC5cclxuXHRzdWJ0cmFjdDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWJ0cmFjdCh0b1BvaW50KHBvaW50KSk7XHJcblx0fSxcclxuXHJcblx0X3N1YnRyYWN0OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHRoaXMueCAtPSBwb2ludC54O1xyXG5cdFx0dGhpcy55IC09IHBvaW50Lnk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpdmlkZUJ5KG51bTogTnVtYmVyKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgZGl2aXNpb24gb2YgdGhlIGN1cnJlbnQgcG9pbnQgYnkgdGhlIGdpdmVuIG51bWJlci5cclxuXHRkaXZpZGVCeTogZnVuY3Rpb24gKG51bSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2aWRlQnkobnVtKTtcclxuXHR9LFxyXG5cclxuXHRfZGl2aWRlQnk6IGZ1bmN0aW9uIChudW0pIHtcclxuXHRcdHRoaXMueCAvPSBudW07XHJcblx0XHR0aGlzLnkgLz0gbnVtO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBtdWx0aXBseUJ5KG51bTogTnVtYmVyKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgbXVsdGlwbGljYXRpb24gb2YgdGhlIGN1cnJlbnQgcG9pbnQgYnkgdGhlIGdpdmVuIG51bWJlci5cclxuXHRtdWx0aXBseUJ5OiBmdW5jdGlvbiAobnVtKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0aXBseUJ5KG51bSk7XHJcblx0fSxcclxuXHJcblx0X211bHRpcGx5Qnk6IGZ1bmN0aW9uIChudW0pIHtcclxuXHRcdHRoaXMueCAqPSBudW07XHJcblx0XHR0aGlzLnkgKj0gbnVtO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzY2FsZUJ5KHNjYWxlOiBQb2ludCk6IFBvaW50XHJcblx0Ly8gTXVsdGlwbHkgZWFjaCBjb29yZGluYXRlIG9mIHRoZSBjdXJyZW50IHBvaW50IGJ5IGVhY2ggY29vcmRpbmF0ZSBvZlxyXG5cdC8vIGBzY2FsZWAuIEluIGxpbmVhciBhbGdlYnJhIHRlcm1zLCBtdWx0aXBseSB0aGUgcG9pbnQgYnkgdGhlXHJcblx0Ly8gW3NjYWxpbmcgbWF0cml4XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TY2FsaW5nXyUyOGdlb21ldHJ5JTI5I01hdHJpeF9yZXByZXNlbnRhdGlvbilcclxuXHQvLyBkZWZpbmVkIGJ5IGBzY2FsZWAuXHJcblx0c2NhbGVCeTogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KHRoaXMueCAqIHBvaW50LngsIHRoaXMueSAqIHBvaW50LnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdW5zY2FsZUJ5KHNjYWxlOiBQb2ludCk6IFBvaW50XHJcblx0Ly8gSW52ZXJzZSBvZiBgc2NhbGVCeWAuIERpdmlkZSBlYWNoIGNvb3JkaW5hdGUgb2YgdGhlIGN1cnJlbnQgcG9pbnQgYnlcclxuXHQvLyBlYWNoIGNvb3JkaW5hdGUgb2YgYHNjYWxlYC5cclxuXHR1bnNjYWxlQnk6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludCh0aGlzLnggLyBwb2ludC54LCB0aGlzLnkgLyBwb2ludC55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJvdW5kKCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgcG9pbnQgd2l0aCByb3VuZGVkIGNvb3JkaW5hdGVzLlxyXG5cdHJvdW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpO1xyXG5cdH0sXHJcblxyXG5cdF9yb3VuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5yb3VuZCh0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5yb3VuZCh0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBmbG9vcigpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHBvaW50IHdpdGggZmxvb3JlZCBjb29yZGluYXRlcyAocm91bmRlZCBkb3duKS5cclxuXHRmbG9vcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2xvbmUoKS5fZmxvb3IoKTtcclxuXHR9LFxyXG5cclxuXHRfZmxvb3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMueCA9IE1hdGguZmxvb3IodGhpcy54KTtcclxuXHRcdHRoaXMueSA9IE1hdGguZmxvb3IodGhpcy55KTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY2VpbCgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHBvaW50IHdpdGggY2VpbGVkIGNvb3JkaW5hdGVzIChyb3VuZGVkIHVwKS5cclxuXHRjZWlsOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9jZWlsKCk7XHJcblx0fSxcclxuXHJcblx0X2NlaWw6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCh0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKHRoaXMueSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHRydW5jKCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgcG9pbnQgd2l0aCB0cnVuY2F0ZWQgY29vcmRpbmF0ZXMgKHJvdW5kZWQgdG93YXJkcyB6ZXJvKS5cclxuXHR0cnVuYzogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2xvbmUoKS5fdHJ1bmMoKTtcclxuXHR9LFxyXG5cclxuXHRfdHJ1bmM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMueCA9IHRydW5jKHRoaXMueCk7XHJcblx0XHR0aGlzLnkgPSB0cnVuYyh0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBkaXN0YW5jZVRvKG90aGVyUG9pbnQ6IFBvaW50KTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgY2FydGVzaWFuIGRpc3RhbmNlIGJldHdlZW4gdGhlIGN1cnJlbnQgYW5kIHRoZSBnaXZlbiBwb2ludHMuXHJcblx0ZGlzdGFuY2VUbzogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHRwb2ludCA9IHRvUG9pbnQocG9pbnQpO1xyXG5cclxuXHRcdHZhciB4ID0gcG9pbnQueCAtIHRoaXMueCxcclxuXHRcdCAgICB5ID0gcG9pbnQueSAtIHRoaXMueTtcclxuXHJcblx0XHRyZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZXF1YWxzKG90aGVyUG9pbnQ6IFBvaW50KTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiBwb2ludCBoYXMgdGhlIHNhbWUgY29vcmRpbmF0ZXMuXHJcblx0ZXF1YWxzOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHBvaW50ID0gdG9Qb2ludChwb2ludCk7XHJcblxyXG5cdFx0cmV0dXJuIHBvaW50LnggPT09IHRoaXMueCAmJlxyXG5cdFx0ICAgICAgIHBvaW50LnkgPT09IHRoaXMueTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNvbnRhaW5zKG90aGVyUG9pbnQ6IFBvaW50KTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIGJvdGggY29vcmRpbmF0ZXMgb2YgdGhlIGdpdmVuIHBvaW50IGFyZSBsZXNzIHRoYW4gdGhlIGNvcnJlc3BvbmRpbmcgY3VycmVudCBwb2ludCBjb29yZGluYXRlcyAoaW4gYWJzb2x1dGUgdmFsdWVzKS5cclxuXHRjb250YWluczogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHRwb2ludCA9IHRvUG9pbnQocG9pbnQpO1xyXG5cclxuXHRcdHJldHVybiBNYXRoLmFicyhwb2ludC54KSA8PSBNYXRoLmFicyh0aGlzLngpICYmXHJcblx0XHQgICAgICAgTWF0aC5hYnMocG9pbnQueSkgPD0gTWF0aC5hYnModGhpcy55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHRvU3RyaW5nKCk6IFN0cmluZ1xyXG5cdC8vIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvaW50IGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXHJcblx0dG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAnUG9pbnQoJyArXHJcblx0XHQgICAgICAgIGZvcm1hdE51bSh0aGlzLngpICsgJywgJyArXHJcblx0XHQgICAgICAgIGZvcm1hdE51bSh0aGlzLnkpICsgJyknO1xyXG5cdH1cclxufTtcclxuXHJcbi8vIEBmYWN0b3J5IEwucG9pbnQoeDogTnVtYmVyLCB5OiBOdW1iZXIsIHJvdW5kPzogQm9vbGVhbilcclxuLy8gQ3JlYXRlcyBhIFBvaW50IG9iamVjdCB3aXRoIHRoZSBnaXZlbiBgeGAgYW5kIGB5YCBjb29yZGluYXRlcy4gSWYgb3B0aW9uYWwgYHJvdW5kYCBpcyBzZXQgdG8gdHJ1ZSwgcm91bmRzIHRoZSBgeGAgYW5kIGB5YCB2YWx1ZXMuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5wb2ludChjb29yZHM6IE51bWJlcltdKVxyXG4vLyBFeHBlY3RzIGFuIGFycmF5IG9mIHRoZSBmb3JtIGBbeCwgeV1gIGluc3RlYWQuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5wb2ludChjb29yZHM6IE9iamVjdClcclxuLy8gRXhwZWN0cyBhIHBsYWluIG9iamVjdCBvZiB0aGUgZm9ybSBge3g6IE51bWJlciwgeTogTnVtYmVyfWAgaW5zdGVhZC5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvUG9pbnQoeCwgeSwgcm91bmQpIHtcclxuXHRpZiAoeCBpbnN0YW5jZW9mIFBvaW50KSB7XHJcblx0XHRyZXR1cm4geDtcclxuXHR9XHJcblx0aWYgKGlzQXJyYXkoeCkpIHtcclxuXHRcdHJldHVybiBuZXcgUG9pbnQoeFswXSwgeFsxXSk7XHJcblx0fVxyXG5cdGlmICh4ID09PSB1bmRlZmluZWQgfHwgeCA9PT0gbnVsbCkge1xyXG5cdFx0cmV0dXJuIHg7XHJcblx0fVxyXG5cdGlmICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgJ3gnIGluIHggJiYgJ3knIGluIHgpIHtcclxuXHRcdHJldHVybiBuZXcgUG9pbnQoeC54LCB4LnkpO1xyXG5cdH1cclxuXHRyZXR1cm4gbmV3IFBvaW50KHgsIHksIHJvdW5kKTtcclxufVxyXG4iLCAiaW1wb3J0IHtQb2ludCwgdG9Qb2ludH0gZnJvbSAnLi9Qb2ludCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgQm91bmRzXHJcbiAqIEBha2EgTC5Cb3VuZHNcclxuICpcclxuICogUmVwcmVzZW50cyBhIHJlY3Rhbmd1bGFyIGFyZWEgaW4gcGl4ZWwgY29vcmRpbmF0ZXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBwMSA9IEwucG9pbnQoMTAsIDEwKSxcclxuICogcDIgPSBMLnBvaW50KDQwLCA2MCksXHJcbiAqIGJvdW5kcyA9IEwuYm91bmRzKHAxLCBwMik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBBbGwgTGVhZmxldCBtZXRob2RzIHRoYXQgYWNjZXB0IGBCb3VuZHNgIG9iamVjdHMgYWxzbyBhY2NlcHQgdGhlbSBpbiBhIHNpbXBsZSBBcnJheSBmb3JtICh1bmxlc3Mgbm90ZWQgb3RoZXJ3aXNlKSwgc28gdGhlIGJvdW5kcyBleGFtcGxlIGFib3ZlIGNhbiBiZSBwYXNzZWQgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBvdGhlckJvdW5kcy5pbnRlcnNlY3RzKFtbMTAsIDEwXSwgWzQwLCA2MF1dKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCBgQm91bmRzYCBkb2VzIG5vdCBpbmhlcml0IGZyb20gTGVhZmxldCdzIGBDbGFzc2Agb2JqZWN0LFxyXG4gKiB3aGljaCBtZWFucyBuZXcgY2xhc3NlcyBjYW4ndCBpbmhlcml0IGZyb20gaXQsIGFuZCBuZXcgbWV0aG9kc1xyXG4gKiBjYW4ndCBiZSBhZGRlZCB0byBpdCB3aXRoIHRoZSBgaW5jbHVkZWAgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEJvdW5kcyhhLCBiKSB7XHJcblx0aWYgKCFhKSB7IHJldHVybjsgfVxyXG5cclxuXHR2YXIgcG9pbnRzID0gYiA/IFthLCBiXSA6IGE7XHJcblxyXG5cdGZvciAodmFyIGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdHRoaXMuZXh0ZW5kKHBvaW50c1tpXSk7XHJcblx0fVxyXG59XHJcblxyXG5Cb3VuZHMucHJvdG90eXBlID0ge1xyXG5cdC8vIEBtZXRob2QgZXh0ZW5kKHBvaW50OiBQb2ludCk6IHRoaXNcclxuXHQvLyBFeHRlbmRzIHRoZSBib3VuZHMgdG8gY29udGFpbiB0aGUgZ2l2ZW4gcG9pbnQuXHJcblxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgZXh0ZW5kKG90aGVyQm91bmRzOiBCb3VuZHMpOiB0aGlzXHJcblx0Ly8gRXh0ZW5kIHRoZSBib3VuZHMgdG8gY29udGFpbiB0aGUgZ2l2ZW4gYm91bmRzXHJcblx0ZXh0ZW5kOiBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHR2YXIgbWluMiwgbWF4MjtcclxuXHRcdGlmICghb2JqKSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0aWYgKG9iaiBpbnN0YW5jZW9mIFBvaW50IHx8IHR5cGVvZiBvYmpbMF0gPT09ICdudW1iZXInIHx8ICd4JyBpbiBvYmopIHtcclxuXHRcdFx0bWluMiA9IG1heDIgPSB0b1BvaW50KG9iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvYmogPSB0b0JvdW5kcyhvYmopO1xyXG5cdFx0XHRtaW4yID0gb2JqLm1pbjtcclxuXHRcdFx0bWF4MiA9IG9iai5tYXg7XHJcblxyXG5cdFx0XHRpZiAoIW1pbjIgfHwgIW1heDIpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBAcHJvcGVydHkgbWluOiBQb2ludFxyXG5cdFx0Ly8gVGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlLlxyXG5cdFx0Ly8gQHByb3BlcnR5IG1heDogUG9pbnRcclxuXHRcdC8vIFRoZSBib3R0b20gcmlnaHQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGUuXHJcblx0XHRpZiAoIXRoaXMubWluICYmICF0aGlzLm1heCkge1xyXG5cdFx0XHR0aGlzLm1pbiA9IG1pbjIuY2xvbmUoKTtcclxuXHRcdFx0dGhpcy5tYXggPSBtYXgyLmNsb25lKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLm1pbi54ID0gTWF0aC5taW4obWluMi54LCB0aGlzLm1pbi54KTtcclxuXHRcdFx0dGhpcy5tYXgueCA9IE1hdGgubWF4KG1heDIueCwgdGhpcy5tYXgueCk7XHJcblx0XHRcdHRoaXMubWluLnkgPSBNYXRoLm1pbihtaW4yLnksIHRoaXMubWluLnkpO1xyXG5cdFx0XHR0aGlzLm1heC55ID0gTWF0aC5tYXgobWF4Mi55LCB0aGlzLm1heC55KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Q2VudGVyKHJvdW5kPzogQm9vbGVhbik6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgY2VudGVyIHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0Q2VudGVyOiBmdW5jdGlvbiAocm91bmQpIHtcclxuXHRcdHJldHVybiB0b1BvaW50KFxyXG5cdFx0ICAgICAgICAodGhpcy5taW4ueCArIHRoaXMubWF4LngpIC8gMixcclxuXHRcdCAgICAgICAgKHRoaXMubWluLnkgKyB0aGlzLm1heC55KSAvIDIsIHJvdW5kKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEJvdHRvbUxlZnQoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBib3R0b20tbGVmdCBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldEJvdHRvbUxlZnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0b1BvaW50KHRoaXMubWluLngsIHRoaXMubWF4LnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0VG9wUmlnaHQoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSB0b3AtcmlnaHQgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXRUb3BSaWdodDogZnVuY3Rpb24gKCkgeyAvLyAtPiBQb2ludFxyXG5cdFx0cmV0dXJuIHRvUG9pbnQodGhpcy5tYXgueCwgdGhpcy5taW4ueSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRUb3BMZWZ0KCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgdG9wLWxlZnQgcG9pbnQgb2YgdGhlIGJvdW5kcyAoaS5lLiBbYHRoaXMubWluYF0oI2JvdW5kcy1taW4pKS5cclxuXHRnZXRUb3BMZWZ0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5taW47IC8vIGxlZnQsIHRvcFxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Qm90dG9tUmlnaHQoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBib3R0b20tcmlnaHQgcG9pbnQgb2YgdGhlIGJvdW5kcyAoaS5lLiBbYHRoaXMubWF4YF0oI2JvdW5kcy1tYXgpKS5cclxuXHRnZXRCb3R0b21SaWdodDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMubWF4OyAvLyByaWdodCwgYm90dG9tXHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRTaXplKCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgZ2l2ZW4gYm91bmRzXHJcblx0Z2V0U2l6ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMubWF4LnN1YnRyYWN0KHRoaXMubWluKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNvbnRhaW5zKG90aGVyQm91bmRzOiBCb3VuZHMpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBjb250YWlucyB0aGUgZ2l2ZW4gb25lLlxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMocG9pbnQ6IFBvaW50KTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgY29udGFpbnMgdGhlIGdpdmVuIHBvaW50LlxyXG5cdGNvbnRhaW5zOiBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHR2YXIgbWluLCBtYXg7XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBvYmpbMF0gPT09ICdudW1iZXInIHx8IG9iaiBpbnN0YW5jZW9mIFBvaW50KSB7XHJcblx0XHRcdG9iaiA9IHRvUG9pbnQob2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG9iaiA9IHRvQm91bmRzKG9iaik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG9iaiBpbnN0YW5jZW9mIEJvdW5kcykge1xyXG5cdFx0XHRtaW4gPSBvYmoubWluO1xyXG5cdFx0XHRtYXggPSBvYmoubWF4O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bWluID0gbWF4ID0gb2JqO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAobWluLnggPj0gdGhpcy5taW4ueCkgJiZcclxuXHRcdCAgICAgICAobWF4LnggPD0gdGhpcy5tYXgueCkgJiZcclxuXHRcdCAgICAgICAobWluLnkgPj0gdGhpcy5taW4ueSkgJiZcclxuXHRcdCAgICAgICAobWF4LnkgPD0gdGhpcy5tYXgueSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpbnRlcnNlY3RzKG90aGVyQm91bmRzOiBCb3VuZHMpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBpbnRlcnNlY3RzIHRoZSBnaXZlbiBib3VuZHMuIFR3byBib3VuZHNcclxuXHQvLyBpbnRlcnNlY3QgaWYgdGhleSBoYXZlIGF0IGxlYXN0IG9uZSBwb2ludCBpbiBjb21tb24uXHJcblx0aW50ZXJzZWN0czogZnVuY3Rpb24gKGJvdW5kcykgeyAvLyAoQm91bmRzKSAtPiBCb29sZWFuXHJcblx0XHRib3VuZHMgPSB0b0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdHZhciBtaW4gPSB0aGlzLm1pbixcclxuXHRcdCAgICBtYXggPSB0aGlzLm1heCxcclxuXHRcdCAgICBtaW4yID0gYm91bmRzLm1pbixcclxuXHRcdCAgICBtYXgyID0gYm91bmRzLm1heCxcclxuXHRcdCAgICB4SW50ZXJzZWN0cyA9IChtYXgyLnggPj0gbWluLngpICYmIChtaW4yLnggPD0gbWF4LngpLFxyXG5cdFx0ICAgIHlJbnRlcnNlY3RzID0gKG1heDIueSA+PSBtaW4ueSkgJiYgKG1pbjIueSA8PSBtYXgueSk7XHJcblxyXG5cdFx0cmV0dXJuIHhJbnRlcnNlY3RzICYmIHlJbnRlcnNlY3RzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgb3ZlcmxhcHMob3RoZXJCb3VuZHM6IEJvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIG92ZXJsYXBzIHRoZSBnaXZlbiBib3VuZHMuIFR3byBib3VuZHNcclxuXHQvLyBvdmVybGFwIGlmIHRoZWlyIGludGVyc2VjdGlvbiBpcyBhbiBhcmVhLlxyXG5cdG92ZXJsYXBzOiBmdW5jdGlvbiAoYm91bmRzKSB7IC8vIChCb3VuZHMpIC0+IEJvb2xlYW5cclxuXHRcdGJvdW5kcyA9IHRvQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0dmFyIG1pbiA9IHRoaXMubWluLFxyXG5cdFx0ICAgIG1heCA9IHRoaXMubWF4LFxyXG5cdFx0ICAgIG1pbjIgPSBib3VuZHMubWluLFxyXG5cdFx0ICAgIG1heDIgPSBib3VuZHMubWF4LFxyXG5cdFx0ICAgIHhPdmVybGFwcyA9IChtYXgyLnggPiBtaW4ueCkgJiYgKG1pbjIueCA8IG1heC54KSxcclxuXHRcdCAgICB5T3ZlcmxhcHMgPSAobWF4Mi55ID4gbWluLnkpICYmIChtaW4yLnkgPCBtYXgueSk7XHJcblxyXG5cdFx0cmV0dXJuIHhPdmVybGFwcyAmJiB5T3ZlcmxhcHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpc1ZhbGlkKCk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYm91bmRzIGFyZSBwcm9wZXJseSBpbml0aWFsaXplZC5cclxuXHRpc1ZhbGlkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gISEodGhpcy5taW4gJiYgdGhpcy5tYXgpO1xyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBAbWV0aG9kIHBhZChidWZmZXJSYXRpbzogTnVtYmVyKTogQm91bmRzXHJcblx0Ly8gUmV0dXJucyBib3VuZHMgY3JlYXRlZCBieSBleHRlbmRpbmcgb3IgcmV0cmFjdGluZyB0aGUgY3VycmVudCBib3VuZHMgYnkgYSBnaXZlbiByYXRpbyBpbiBlYWNoIGRpcmVjdGlvbi5cclxuXHQvLyBGb3IgZXhhbXBsZSwgYSByYXRpbyBvZiAwLjUgZXh0ZW5kcyB0aGUgYm91bmRzIGJ5IDUwJSBpbiBlYWNoIGRpcmVjdGlvbi5cclxuXHQvLyBOZWdhdGl2ZSB2YWx1ZXMgd2lsbCByZXRyYWN0IHRoZSBib3VuZHMuXHJcblx0cGFkOiBmdW5jdGlvbiAoYnVmZmVyUmF0aW8pIHtcclxuXHRcdHZhciBtaW4gPSB0aGlzLm1pbixcclxuXHRcdG1heCA9IHRoaXMubWF4LFxyXG5cdFx0aGVpZ2h0QnVmZmVyID0gTWF0aC5hYnMobWluLnggLSBtYXgueCkgKiBidWZmZXJSYXRpbyxcclxuXHRcdHdpZHRoQnVmZmVyID0gTWF0aC5hYnMobWluLnkgLSBtYXgueSkgKiBidWZmZXJSYXRpbztcclxuXHJcblxyXG5cdFx0cmV0dXJuIHRvQm91bmRzKFxyXG5cdFx0XHR0b1BvaW50KG1pbi54IC0gaGVpZ2h0QnVmZmVyLCBtaW4ueSAtIHdpZHRoQnVmZmVyKSxcclxuXHRcdFx0dG9Qb2ludChtYXgueCArIGhlaWdodEJ1ZmZlciwgbWF4LnkgKyB3aWR0aEJ1ZmZlcikpO1xyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBAbWV0aG9kIGVxdWFscyhvdGhlckJvdW5kczogQm91bmRzKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgaXMgZXF1aXZhbGVudCB0byB0aGUgZ2l2ZW4gYm91bmRzLlxyXG5cdGVxdWFsczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0aWYgKCFib3VuZHMpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG5cdFx0Ym91bmRzID0gdG9Cb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5taW4uZXF1YWxzKGJvdW5kcy5nZXRUb3BMZWZ0KCkpICYmXHJcblx0XHRcdHRoaXMubWF4LmVxdWFscyhib3VuZHMuZ2V0Qm90dG9tUmlnaHQoKSk7XHJcblx0fSxcclxufTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLmJvdW5kcyhjb3JuZXIxOiBQb2ludCwgY29ybmVyMjogUG9pbnQpXHJcbi8vIENyZWF0ZXMgYSBCb3VuZHMgb2JqZWN0IGZyb20gdHdvIGNvcm5lcnMgY29vcmRpbmF0ZSBwYWlycy5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwuYm91bmRzKHBvaW50czogUG9pbnRbXSlcclxuLy8gQ3JlYXRlcyBhIEJvdW5kcyBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkgb2YgcG9pbnRzLlxyXG5leHBvcnQgZnVuY3Rpb24gdG9Cb3VuZHMoYSwgYikge1xyXG5cdGlmICghYSB8fCBhIGluc3RhbmNlb2YgQm91bmRzKSB7XHJcblx0XHRyZXR1cm4gYTtcclxuXHR9XHJcblx0cmV0dXJuIG5ldyBCb3VuZHMoYSwgYik7XHJcbn1cclxuIiwgImltcG9ydCB7TGF0TG5nLCB0b0xhdExuZ30gZnJvbSAnLi9MYXRMbmcnO1xyXG5cclxuLypcclxuICogQGNsYXNzIExhdExuZ0JvdW5kc1xyXG4gKiBAYWthIEwuTGF0TG5nQm91bmRzXHJcbiAqXHJcbiAqIFJlcHJlc2VudHMgYSByZWN0YW5ndWxhciBnZW9ncmFwaGljYWwgYXJlYSBvbiBhIG1hcC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIGNvcm5lcjEgPSBMLmxhdExuZyg0MC43MTIsIC03NC4yMjcpLFxyXG4gKiBjb3JuZXIyID0gTC5sYXRMbmcoNDAuNzc0LCAtNzQuMTI1KSxcclxuICogYm91bmRzID0gTC5sYXRMbmdCb3VuZHMoY29ybmVyMSwgY29ybmVyMik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBBbGwgTGVhZmxldCBtZXRob2RzIHRoYXQgYWNjZXB0IExhdExuZ0JvdW5kcyBvYmplY3RzIGFsc28gYWNjZXB0IHRoZW0gaW4gYSBzaW1wbGUgQXJyYXkgZm9ybSAodW5sZXNzIG5vdGVkIG90aGVyd2lzZSksIHNvIHRoZSBib3VuZHMgZXhhbXBsZSBhYm92ZSBjYW4gYmUgcGFzc2VkIGxpa2UgdGhpczpcclxuICpcclxuICogYGBganNcclxuICogbWFwLmZpdEJvdW5kcyhbXHJcbiAqIFx0WzQwLjcxMiwgLTc0LjIyN10sXHJcbiAqIFx0WzQwLjc3NCwgLTc0LjEyNV1cclxuICogXSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBDYXV0aW9uOiBpZiB0aGUgYXJlYSBjcm9zc2VzIHRoZSBhbnRpbWVyaWRpYW4gKG9mdGVuIGNvbmZ1c2VkIHdpdGggdGhlIEludGVybmF0aW9uYWwgRGF0ZSBMaW5lKSwgeW91IG11c3Qgc3BlY2lmeSBjb3JuZXJzIF9vdXRzaWRlXyB0aGUgWy0xODAsIDE4MF0gZGVncmVlcyBsb25naXR1ZGUgcmFuZ2UuXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCBgTGF0TG5nQm91bmRzYCBkb2VzIG5vdCBpbmhlcml0IGZyb20gTGVhZmxldCdzIGBDbGFzc2Agb2JqZWN0LFxyXG4gKiB3aGljaCBtZWFucyBuZXcgY2xhc3NlcyBjYW4ndCBpbmhlcml0IGZyb20gaXQsIGFuZCBuZXcgbWV0aG9kc1xyXG4gKiBjYW4ndCBiZSBhZGRlZCB0byBpdCB3aXRoIHRoZSBgaW5jbHVkZWAgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIExhdExuZ0JvdW5kcyhjb3JuZXIxLCBjb3JuZXIyKSB7IC8vIChMYXRMbmcsIExhdExuZykgb3IgKExhdExuZ1tdKVxyXG5cdGlmICghY29ybmVyMSkgeyByZXR1cm47IH1cclxuXHJcblx0dmFyIGxhdGxuZ3MgPSBjb3JuZXIyID8gW2Nvcm5lcjEsIGNvcm5lcjJdIDogY29ybmVyMTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhdGxuZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdHRoaXMuZXh0ZW5kKGxhdGxuZ3NbaV0pO1xyXG5cdH1cclxufVxyXG5cclxuTGF0TG5nQm91bmRzLnByb3RvdHlwZSA9IHtcclxuXHJcblx0Ly8gQG1ldGhvZCBleHRlbmQobGF0bG5nOiBMYXRMbmcpOiB0aGlzXHJcblx0Ly8gRXh0ZW5kIHRoZSBib3VuZHMgdG8gY29udGFpbiB0aGUgZ2l2ZW4gcG9pbnRcclxuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBleHRlbmQob3RoZXJCb3VuZHM6IExhdExuZ0JvdW5kcyk6IHRoaXNcclxuXHQvLyBFeHRlbmQgdGhlIGJvdW5kcyB0byBjb250YWluIHRoZSBnaXZlbiBib3VuZHNcclxuXHRleHRlbmQ6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCxcclxuXHRcdCAgICBuZSA9IHRoaXMuX25vcnRoRWFzdCxcclxuXHRcdCAgICBzdzIsIG5lMjtcclxuXHJcblx0XHRpZiAob2JqIGluc3RhbmNlb2YgTGF0TG5nKSB7XHJcblx0XHRcdHN3MiA9IG9iajtcclxuXHRcdFx0bmUyID0gb2JqO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgTGF0TG5nQm91bmRzKSB7XHJcblx0XHRcdHN3MiA9IG9iai5fc291dGhXZXN0O1xyXG5cdFx0XHRuZTIgPSBvYmouX25vcnRoRWFzdDtcclxuXHJcblx0XHRcdGlmICghc3cyIHx8ICFuZTIpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gb2JqID8gdGhpcy5leHRlbmQodG9MYXRMbmcob2JqKSB8fCB0b0xhdExuZ0JvdW5kcyhvYmopKSA6IHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFzdyAmJiAhbmUpIHtcclxuXHRcdFx0dGhpcy5fc291dGhXZXN0ID0gbmV3IExhdExuZyhzdzIubGF0LCBzdzIubG5nKTtcclxuXHRcdFx0dGhpcy5fbm9ydGhFYXN0ID0gbmV3IExhdExuZyhuZTIubGF0LCBuZTIubG5nKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN3LmxhdCA9IE1hdGgubWluKHN3Mi5sYXQsIHN3LmxhdCk7XHJcblx0XHRcdHN3LmxuZyA9IE1hdGgubWluKHN3Mi5sbmcsIHN3LmxuZyk7XHJcblx0XHRcdG5lLmxhdCA9IE1hdGgubWF4KG5lMi5sYXQsIG5lLmxhdCk7XHJcblx0XHRcdG5lLmxuZyA9IE1hdGgubWF4KG5lMi5sbmcsIG5lLmxuZyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwYWQoYnVmZmVyUmF0aW86IE51bWJlcik6IExhdExuZ0JvdW5kc1xyXG5cdC8vIFJldHVybnMgYm91bmRzIGNyZWF0ZWQgYnkgZXh0ZW5kaW5nIG9yIHJldHJhY3RpbmcgdGhlIGN1cnJlbnQgYm91bmRzIGJ5IGEgZ2l2ZW4gcmF0aW8gaW4gZWFjaCBkaXJlY3Rpb24uXHJcblx0Ly8gRm9yIGV4YW1wbGUsIGEgcmF0aW8gb2YgMC41IGV4dGVuZHMgdGhlIGJvdW5kcyBieSA1MCUgaW4gZWFjaCBkaXJlY3Rpb24uXHJcblx0Ly8gTmVnYXRpdmUgdmFsdWVzIHdpbGwgcmV0cmFjdCB0aGUgYm91bmRzLlxyXG5cdHBhZDogZnVuY3Rpb24gKGJ1ZmZlclJhdGlvKSB7XHJcblx0XHR2YXIgc3cgPSB0aGlzLl9zb3V0aFdlc3QsXHJcblx0XHQgICAgbmUgPSB0aGlzLl9ub3J0aEVhc3QsXHJcblx0XHQgICAgaGVpZ2h0QnVmZmVyID0gTWF0aC5hYnMoc3cubGF0IC0gbmUubGF0KSAqIGJ1ZmZlclJhdGlvLFxyXG5cdFx0ICAgIHdpZHRoQnVmZmVyID0gTWF0aC5hYnMoc3cubG5nIC0gbmUubG5nKSAqIGJ1ZmZlclJhdGlvO1xyXG5cclxuXHRcdHJldHVybiBuZXcgTGF0TG5nQm91bmRzKFxyXG5cdFx0ICAgICAgICBuZXcgTGF0TG5nKHN3LmxhdCAtIGhlaWdodEJ1ZmZlciwgc3cubG5nIC0gd2lkdGhCdWZmZXIpLFxyXG5cdFx0ICAgICAgICBuZXcgTGF0TG5nKG5lLmxhdCArIGhlaWdodEJ1ZmZlciwgbmUubG5nICsgd2lkdGhCdWZmZXIpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENlbnRlcigpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBjZW50ZXIgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKFxyXG5cdFx0ICAgICAgICAodGhpcy5fc291dGhXZXN0LmxhdCArIHRoaXMuX25vcnRoRWFzdC5sYXQpIC8gMixcclxuXHRcdCAgICAgICAgKHRoaXMuX3NvdXRoV2VzdC5sbmcgKyB0aGlzLl9ub3J0aEVhc3QubG5nKSAvIDIpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U291dGhXZXN0KCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIHNvdXRoLXdlc3QgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXRTb3V0aFdlc3Q6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9zb3V0aFdlc3Q7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXROb3J0aEVhc3QoKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgbm9ydGgtZWFzdCBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldE5vcnRoRWFzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX25vcnRoRWFzdDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldE5vcnRoV2VzdCgpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBub3J0aC13ZXN0IHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0Tm9ydGhXZXN0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gbmV3IExhdExuZyh0aGlzLmdldE5vcnRoKCksIHRoaXMuZ2V0V2VzdCgpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFNvdXRoRWFzdCgpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBzb3V0aC1lYXN0IHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0U291dGhFYXN0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gbmV3IExhdExuZyh0aGlzLmdldFNvdXRoKCksIHRoaXMuZ2V0RWFzdCgpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFdlc3QoKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgd2VzdCBsb25naXR1ZGUgb2YgdGhlIGJvdW5kc1xyXG5cdGdldFdlc3Q6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9zb3V0aFdlc3QubG5nO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U291dGgoKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgc291dGggbGF0aXR1ZGUgb2YgdGhlIGJvdW5kc1xyXG5cdGdldFNvdXRoOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fc291dGhXZXN0LmxhdDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEVhc3QoKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgZWFzdCBsb25naXR1ZGUgb2YgdGhlIGJvdW5kc1xyXG5cdGdldEVhc3Q6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9ub3J0aEVhc3QubG5nO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Tm9ydGgoKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgbm9ydGggbGF0aXR1ZGUgb2YgdGhlIGJvdW5kc1xyXG5cdGdldE5vcnRoOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbm9ydGhFYXN0LmxhdDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNvbnRhaW5zKG90aGVyQm91bmRzOiBMYXRMbmdCb3VuZHMpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBjb250YWlucyB0aGUgZ2l2ZW4gb25lLlxyXG5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIGNvbnRhaW5zIChsYXRsbmc6IExhdExuZyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGNvbnRhaW5zIHRoZSBnaXZlbiBwb2ludC5cclxuXHRjb250YWluczogZnVuY3Rpb24gKG9iaikgeyAvLyAoTGF0TG5nQm91bmRzKSBvciAoTGF0TG5nKSAtPiBCb29sZWFuXHJcblx0XHRpZiAodHlwZW9mIG9ialswXSA9PT0gJ251bWJlcicgfHwgb2JqIGluc3RhbmNlb2YgTGF0TG5nIHx8ICdsYXQnIGluIG9iaikge1xyXG5cdFx0XHRvYmogPSB0b0xhdExuZyhvYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b2JqID0gdG9MYXRMbmdCb3VuZHMob2JqKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc3cgPSB0aGlzLl9zb3V0aFdlc3QsXHJcblx0XHQgICAgbmUgPSB0aGlzLl9ub3J0aEVhc3QsXHJcblx0XHQgICAgc3cyLCBuZTI7XHJcblxyXG5cdFx0aWYgKG9iaiBpbnN0YW5jZW9mIExhdExuZ0JvdW5kcykge1xyXG5cdFx0XHRzdzIgPSBvYmouZ2V0U291dGhXZXN0KCk7XHJcblx0XHRcdG5lMiA9IG9iai5nZXROb3J0aEVhc3QoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN3MiA9IG5lMiA9IG9iajtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gKHN3Mi5sYXQgPj0gc3cubGF0KSAmJiAobmUyLmxhdCA8PSBuZS5sYXQpICYmXHJcblx0XHQgICAgICAgKHN3Mi5sbmcgPj0gc3cubG5nKSAmJiAobmUyLmxuZyA8PSBuZS5sbmcpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgaW50ZXJzZWN0cyhvdGhlckJvdW5kczogTGF0TG5nQm91bmRzKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gYm91bmRzLiBUd28gYm91bmRzIGludGVyc2VjdCBpZiB0aGV5IGhhdmUgYXQgbGVhc3Qgb25lIHBvaW50IGluIGNvbW1vbi5cclxuXHRpbnRlcnNlY3RzOiBmdW5jdGlvbiAoYm91bmRzKSB7XHJcblx0XHRib3VuZHMgPSB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdHZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCxcclxuXHRcdCAgICBuZSA9IHRoaXMuX25vcnRoRWFzdCxcclxuXHRcdCAgICBzdzIgPSBib3VuZHMuZ2V0U291dGhXZXN0KCksXHJcblx0XHQgICAgbmUyID0gYm91bmRzLmdldE5vcnRoRWFzdCgpLFxyXG5cclxuXHRcdCAgICBsYXRJbnRlcnNlY3RzID0gKG5lMi5sYXQgPj0gc3cubGF0KSAmJiAoc3cyLmxhdCA8PSBuZS5sYXQpLFxyXG5cdFx0ICAgIGxuZ0ludGVyc2VjdHMgPSAobmUyLmxuZyA+PSBzdy5sbmcpICYmIChzdzIubG5nIDw9IG5lLmxuZyk7XHJcblxyXG5cdFx0cmV0dXJuIGxhdEludGVyc2VjdHMgJiYgbG5nSW50ZXJzZWN0cztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG92ZXJsYXBzKG90aGVyQm91bmRzOiBMYXRMbmdCb3VuZHMpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBvdmVybGFwcyB0aGUgZ2l2ZW4gYm91bmRzLiBUd28gYm91bmRzIG92ZXJsYXAgaWYgdGhlaXIgaW50ZXJzZWN0aW9uIGlzIGFuIGFyZWEuXHJcblx0b3ZlcmxhcHM6IGZ1bmN0aW9uIChib3VuZHMpIHtcclxuXHRcdGJvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0dmFyIHN3ID0gdGhpcy5fc291dGhXZXN0LFxyXG5cdFx0ICAgIG5lID0gdGhpcy5fbm9ydGhFYXN0LFxyXG5cdFx0ICAgIHN3MiA9IGJvdW5kcy5nZXRTb3V0aFdlc3QoKSxcclxuXHRcdCAgICBuZTIgPSBib3VuZHMuZ2V0Tm9ydGhFYXN0KCksXHJcblxyXG5cdFx0ICAgIGxhdE92ZXJsYXBzID0gKG5lMi5sYXQgPiBzdy5sYXQpICYmIChzdzIubGF0IDwgbmUubGF0KSxcclxuXHRcdCAgICBsbmdPdmVybGFwcyA9IChuZTIubG5nID4gc3cubG5nKSAmJiAoc3cyLmxuZyA8IG5lLmxuZyk7XHJcblxyXG5cdFx0cmV0dXJuIGxhdE92ZXJsYXBzICYmIGxuZ092ZXJsYXBzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdG9CQm94U3RyaW5nKCk6IFN0cmluZ1xyXG5cdC8vIFJldHVybnMgYSBzdHJpbmcgd2l0aCBib3VuZGluZyBib3ggY29vcmRpbmF0ZXMgaW4gYSAnc291dGh3ZXN0X2xuZyxzb3V0aHdlc3RfbGF0LG5vcnRoZWFzdF9sbmcsbm9ydGhlYXN0X2xhdCcgZm9ybWF0LiBVc2VmdWwgZm9yIHNlbmRpbmcgcmVxdWVzdHMgdG8gd2ViIHNlcnZpY2VzIHRoYXQgcmV0dXJuIGdlbyBkYXRhLlxyXG5cdHRvQkJveFN0cmluZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIFt0aGlzLmdldFdlc3QoKSwgdGhpcy5nZXRTb3V0aCgpLCB0aGlzLmdldEVhc3QoKSwgdGhpcy5nZXROb3J0aCgpXS5qb2luKCcsJyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBlcXVhbHMob3RoZXJCb3VuZHM6IExhdExuZ0JvdW5kcywgbWF4TWFyZ2luPzogTnVtYmVyKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgaXMgZXF1aXZhbGVudCAod2l0aGluIGEgc21hbGwgbWFyZ2luIG9mIGVycm9yKSB0byB0aGUgZ2l2ZW4gYm91bmRzLiBUaGUgbWFyZ2luIG9mIGVycm9yIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgYG1heE1hcmdpbmAgdG8gYSBzbWFsbCBudW1iZXIuXHJcblx0ZXF1YWxzOiBmdW5jdGlvbiAoYm91bmRzLCBtYXhNYXJnaW4pIHtcclxuXHRcdGlmICghYm91bmRzKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuXHRcdGJvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX3NvdXRoV2VzdC5lcXVhbHMoYm91bmRzLmdldFNvdXRoV2VzdCgpLCBtYXhNYXJnaW4pICYmXHJcblx0XHQgICAgICAgdGhpcy5fbm9ydGhFYXN0LmVxdWFscyhib3VuZHMuZ2V0Tm9ydGhFYXN0KCksIG1heE1hcmdpbik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpc1ZhbGlkKCk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYm91bmRzIGFyZSBwcm9wZXJseSBpbml0aWFsaXplZC5cclxuXHRpc1ZhbGlkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gISEodGhpcy5fc291dGhXZXN0ICYmIHRoaXMuX25vcnRoRWFzdCk7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gVE9ETyBJbnRlcm5hdGlvbmFsIGRhdGUgbGluZT9cclxuXHJcbi8vIEBmYWN0b3J5IEwubGF0TG5nQm91bmRzKGNvcm5lcjE6IExhdExuZywgY29ybmVyMjogTGF0TG5nKVxyXG4vLyBDcmVhdGVzIGEgYExhdExuZ0JvdW5kc2Agb2JqZWN0IGJ5IGRlZmluaW5nIHR3byBkaWFnb25hbGx5IG9wcG9zaXRlIGNvcm5lcnMgb2YgdGhlIHJlY3RhbmdsZS5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLmxhdExuZ0JvdW5kcyhsYXRsbmdzOiBMYXRMbmdbXSlcclxuLy8gQ3JlYXRlcyBhIGBMYXRMbmdCb3VuZHNgIG9iamVjdCBkZWZpbmVkIGJ5IHRoZSBnZW9ncmFwaGljYWwgcG9pbnRzIGl0IGNvbnRhaW5zLiBWZXJ5IHVzZWZ1bCBmb3Igem9vbWluZyB0aGUgbWFwIHRvIGZpdCBhIHBhcnRpY3VsYXIgc2V0IG9mIGxvY2F0aW9ucyB3aXRoIFtgZml0Qm91bmRzYF0oI21hcC1maXRib3VuZHMpLlxyXG5leHBvcnQgZnVuY3Rpb24gdG9MYXRMbmdCb3VuZHMoYSwgYikge1xyXG5cdGlmIChhIGluc3RhbmNlb2YgTGF0TG5nQm91bmRzKSB7XHJcblx0XHRyZXR1cm4gYTtcclxuXHR9XHJcblx0cmV0dXJuIG5ldyBMYXRMbmdCb3VuZHMoYSwgYik7XHJcbn1cclxuIiwgImltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuaW1wb3J0IHtFYXJ0aH0gZnJvbSAnLi9jcnMvQ1JTLkVhcnRoJztcclxuaW1wb3J0IHt0b0xhdExuZ0JvdW5kc30gZnJvbSAnLi9MYXRMbmdCb3VuZHMnO1xyXG5cclxuLyogQGNsYXNzIExhdExuZ1xyXG4gKiBAYWthIEwuTGF0TG5nXHJcbiAqXHJcbiAqIFJlcHJlc2VudHMgYSBnZW9ncmFwaGljYWwgcG9pbnQgd2l0aCBhIGNlcnRhaW4gbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBgXHJcbiAqIHZhciBsYXRsbmcgPSBMLmxhdExuZyg1MC41LCAzMC41KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgdGhhdCBhY2NlcHQgTGF0TG5nIG9iamVjdHMgYWxzbyBhY2NlcHQgdGhlbSBpbiBhIHNpbXBsZSBBcnJheSBmb3JtIGFuZCBzaW1wbGUgb2JqZWN0IGZvcm0gKHVubGVzcyBub3RlZCBvdGhlcndpc2UpLCBzbyB0aGVzZSBsaW5lcyBhcmUgZXF1aXZhbGVudDpcclxuICpcclxuICogYGBgXHJcbiAqIG1hcC5wYW5UbyhbNTAsIDMwXSk7XHJcbiAqIG1hcC5wYW5Ubyh7bG9uOiAzMCwgbGF0OiA1MH0pO1xyXG4gKiBtYXAucGFuVG8oe2xhdDogNTAsIGxuZzogMzB9KTtcclxuICogbWFwLnBhblRvKEwubGF0TG5nKDUwLCAzMCkpO1xyXG4gKiBgYGBcclxuICpcclxuICogTm90ZSB0aGF0IGBMYXRMbmdgIGRvZXMgbm90IGluaGVyaXQgZnJvbSBMZWFmbGV0J3MgYENsYXNzYCBvYmplY3QsXHJcbiAqIHdoaWNoIG1lYW5zIG5ldyBjbGFzc2VzIGNhbid0IGluaGVyaXQgZnJvbSBpdCwgYW5kIG5ldyBtZXRob2RzXHJcbiAqIGNhbid0IGJlIGFkZGVkIHRvIGl0IHdpdGggdGhlIGBpbmNsdWRlYCBmdW5jdGlvbi5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTGF0TG5nKGxhdCwgbG5nLCBhbHQpIHtcclxuXHRpZiAoaXNOYU4obGF0KSB8fCBpc05hTihsbmcpKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgTGF0TG5nIG9iamVjdDogKCcgKyBsYXQgKyAnLCAnICsgbG5nICsgJyknKTtcclxuXHR9XHJcblxyXG5cdC8vIEBwcm9wZXJ0eSBsYXQ6IE51bWJlclxyXG5cdC8vIExhdGl0dWRlIGluIGRlZ3JlZXNcclxuXHR0aGlzLmxhdCA9ICtsYXQ7XHJcblxyXG5cdC8vIEBwcm9wZXJ0eSBsbmc6IE51bWJlclxyXG5cdC8vIExvbmdpdHVkZSBpbiBkZWdyZWVzXHJcblx0dGhpcy5sbmcgPSArbG5nO1xyXG5cclxuXHQvLyBAcHJvcGVydHkgYWx0OiBOdW1iZXJcclxuXHQvLyBBbHRpdHVkZSBpbiBtZXRlcnMgKG9wdGlvbmFsKVxyXG5cdGlmIChhbHQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0dGhpcy5hbHQgPSArYWx0O1xyXG5cdH1cclxufVxyXG5cclxuTGF0TG5nLnByb3RvdHlwZSA9IHtcclxuXHQvLyBAbWV0aG9kIGVxdWFscyhvdGhlckxhdExuZzogTGF0TG5nLCBtYXhNYXJnaW4/OiBOdW1iZXIpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGBMYXRMbmdgIHBvaW50IGlzIGF0IHRoZSBzYW1lIHBvc2l0aW9uICh3aXRoaW4gYSBzbWFsbCBtYXJnaW4gb2YgZXJyb3IpLiBUaGUgbWFyZ2luIG9mIGVycm9yIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgYG1heE1hcmdpbmAgdG8gYSBzbWFsbCBudW1iZXIuXHJcblx0ZXF1YWxzOiBmdW5jdGlvbiAob2JqLCBtYXhNYXJnaW4pIHtcclxuXHRcdGlmICghb2JqKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuXHRcdG9iaiA9IHRvTGF0TG5nKG9iaik7XHJcblxyXG5cdFx0dmFyIG1hcmdpbiA9IE1hdGgubWF4KFxyXG5cdFx0ICAgICAgICBNYXRoLmFicyh0aGlzLmxhdCAtIG9iai5sYXQpLFxyXG5cdFx0ICAgICAgICBNYXRoLmFicyh0aGlzLmxuZyAtIG9iai5sbmcpKTtcclxuXHJcblx0XHRyZXR1cm4gbWFyZ2luIDw9IChtYXhNYXJnaW4gPT09IHVuZGVmaW5lZCA/IDEuMEUtOSA6IG1heE1hcmdpbik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b1N0cmluZygpOiBTdHJpbmdcclxuXHQvLyBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwb2ludCAoZm9yIGRlYnVnZ2luZyBwdXJwb3NlcykuXHJcblx0dG9TdHJpbmc6IGZ1bmN0aW9uIChwcmVjaXNpb24pIHtcclxuXHRcdHJldHVybiAnTGF0TG5nKCcgK1xyXG5cdFx0ICAgICAgICBVdGlsLmZvcm1hdE51bSh0aGlzLmxhdCwgcHJlY2lzaW9uKSArICcsICcgK1xyXG5cdFx0ICAgICAgICBVdGlsLmZvcm1hdE51bSh0aGlzLmxuZywgcHJlY2lzaW9uKSArICcpJztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlVG8ob3RoZXJMYXRMbmc6IExhdExuZyk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIGRpc3RhbmNlIChpbiBtZXRlcnMpIHRvIHRoZSBnaXZlbiBgTGF0TG5nYCBjYWxjdWxhdGVkIHVzaW5nIHRoZSBbU3BoZXJpY2FsIExhdyBvZiBDb3NpbmVzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TcGhlcmljYWxfbGF3X29mX2Nvc2luZXMpLlxyXG5cdGRpc3RhbmNlVG86IGZ1bmN0aW9uIChvdGhlcikge1xyXG5cdFx0cmV0dXJuIEVhcnRoLmRpc3RhbmNlKHRoaXMsIHRvTGF0TG5nKG90aGVyKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB3cmFwKCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgYSBuZXcgYExhdExuZ2Agb2JqZWN0IHdpdGggdGhlIGxvbmdpdHVkZSB3cmFwcGVkIHNvIGl0J3MgYWx3YXlzIGJldHdlZW4gLTE4MCBhbmQgKzE4MCBkZWdyZWVzLlxyXG5cdHdyYXA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBFYXJ0aC53cmFwTGF0TG5nKHRoaXMpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdG9Cb3VuZHMoc2l6ZUluTWV0ZXJzOiBOdW1iZXIpOiBMYXRMbmdCb3VuZHNcclxuXHQvLyBSZXR1cm5zIGEgbmV3IGBMYXRMbmdCb3VuZHNgIG9iamVjdCBpbiB3aGljaCBlYWNoIGJvdW5kYXJ5IGlzIGBzaXplSW5NZXRlcnMvMmAgbWV0ZXJzIGFwYXJ0IGZyb20gdGhlIGBMYXRMbmdgLlxyXG5cdHRvQm91bmRzOiBmdW5jdGlvbiAoc2l6ZUluTWV0ZXJzKSB7XHJcblx0XHR2YXIgbGF0QWNjdXJhY3kgPSAxODAgKiBzaXplSW5NZXRlcnMgLyA0MDA3NTAxNyxcclxuXHRcdCAgICBsbmdBY2N1cmFjeSA9IGxhdEFjY3VyYWN5IC8gTWF0aC5jb3MoKE1hdGguUEkgLyAxODApICogdGhpcy5sYXQpO1xyXG5cclxuXHRcdHJldHVybiB0b0xhdExuZ0JvdW5kcyhcclxuXHRcdCAgICAgICAgW3RoaXMubGF0IC0gbGF0QWNjdXJhY3ksIHRoaXMubG5nIC0gbG5nQWNjdXJhY3ldLFxyXG5cdFx0ICAgICAgICBbdGhpcy5sYXQgKyBsYXRBY2N1cmFjeSwgdGhpcy5sbmcgKyBsbmdBY2N1cmFjeV0pO1xyXG5cdH0sXHJcblxyXG5cdGNsb25lOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gbmV3IExhdExuZyh0aGlzLmxhdCwgdGhpcy5sbmcsIHRoaXMuYWx0KTtcclxuXHR9XHJcbn07XHJcblxyXG5cclxuXHJcbi8vIEBmYWN0b3J5IEwubGF0TG5nKGxhdGl0dWRlOiBOdW1iZXIsIGxvbmdpdHVkZTogTnVtYmVyLCBhbHRpdHVkZT86IE51bWJlcik6IExhdExuZ1xyXG4vLyBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRpbmcgYSBnZW9ncmFwaGljYWwgcG9pbnQgd2l0aCB0aGUgZ2l2ZW4gbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSAoYW5kIG9wdGlvbmFsbHkgYWx0aXR1ZGUpLlxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwubGF0TG5nKGNvb3JkczogQXJyYXkpOiBMYXRMbmdcclxuLy8gRXhwZWN0cyBhbiBhcnJheSBvZiB0aGUgZm9ybSBgW051bWJlciwgTnVtYmVyXWAgb3IgYFtOdW1iZXIsIE51bWJlciwgTnVtYmVyXWAgaW5zdGVhZC5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLmxhdExuZyhjb29yZHM6IE9iamVjdCk6IExhdExuZ1xyXG4vLyBFeHBlY3RzIGFuIHBsYWluIG9iamVjdCBvZiB0aGUgZm9ybSBge2xhdDogTnVtYmVyLCBsbmc6IE51bWJlcn1gIG9yIGB7bGF0OiBOdW1iZXIsIGxuZzogTnVtYmVyLCBhbHQ6IE51bWJlcn1gIGluc3RlYWQuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9MYXRMbmcoYSwgYiwgYykge1xyXG5cdGlmIChhIGluc3RhbmNlb2YgTGF0TG5nKSB7XHJcblx0XHRyZXR1cm4gYTtcclxuXHR9XHJcblx0aWYgKFV0aWwuaXNBcnJheShhKSAmJiB0eXBlb2YgYVswXSAhPT0gJ29iamVjdCcpIHtcclxuXHRcdGlmIChhLmxlbmd0aCA9PT0gMykge1xyXG5cdFx0XHRyZXR1cm4gbmV3IExhdExuZyhhWzBdLCBhWzFdLCBhWzJdKTtcclxuXHRcdH1cclxuXHRcdGlmIChhLmxlbmd0aCA9PT0gMikge1xyXG5cdFx0XHRyZXR1cm4gbmV3IExhdExuZyhhWzBdLCBhWzFdKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRpZiAoYSA9PT0gdW5kZWZpbmVkIHx8IGEgPT09IG51bGwpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnICYmICdsYXQnIGluIGEpIHtcclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKGEubGF0LCAnbG5nJyBpbiBhID8gYS5sbmcgOiBhLmxvbiwgYS5hbHQpO1xyXG5cdH1cclxuXHRpZiAoYiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0cmV0dXJuIG5ldyBMYXRMbmcoYSwgYiwgYyk7XHJcbn1cclxuIiwgIlxyXG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcclxuaW1wb3J0IHtMYXRMbmd9IGZyb20gJy4uL0xhdExuZyc7XHJcbmltcG9ydCB7TGF0TG5nQm91bmRzfSBmcm9tICcuLi9MYXRMbmdCb3VuZHMnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIENSU1xyXG4gKiBAY3JzIEwuQ1JTLkJhc2VcclxuICogT2JqZWN0IHRoYXQgZGVmaW5lcyBjb29yZGluYXRlIHJlZmVyZW5jZSBzeXN0ZW1zIGZvciBwcm9qZWN0aW5nXHJcbiAqIGdlb2dyYXBoaWNhbCBwb2ludHMgaW50byBwaXhlbCAoc2NyZWVuKSBjb29yZGluYXRlcyBhbmQgYmFjayAoYW5kIHRvXHJcbiAqIGNvb3JkaW5hdGVzIGluIG90aGVyIHVuaXRzIGZvciBbV01TXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWJfTWFwX1NlcnZpY2UpIHNlcnZpY2VzKS4gU2VlXHJcbiAqIFtzcGF0aWFsIHJlZmVyZW5jZSBzeXN0ZW1dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NwYXRpYWxfcmVmZXJlbmNlX3N5c3RlbSkuXHJcbiAqXHJcbiAqIExlYWZsZXQgZGVmaW5lcyB0aGUgbW9zdCB1c3VhbCBDUlNzIGJ5IGRlZmF1bHQuIElmIHlvdSB3YW50IHRvIHVzZSBhXHJcbiAqIENSUyBub3QgZGVmaW5lZCBieSBkZWZhdWx0LCB0YWtlIGEgbG9vayBhdCB0aGVcclxuICogW1Byb2o0TGVhZmxldF0oaHR0cHM6Ly9naXRodWIuY29tL2thcnRlbmEvUHJvajRMZWFmbGV0KSBwbHVnaW4uXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCB0aGUgQ1JTIGluc3RhbmNlcyBkbyBub3QgaW5oZXJpdCBmcm9tIExlYWZsZXQncyBgQ2xhc3NgIG9iamVjdCxcclxuICogYW5kIGNhbid0IGJlIGluc3RhbnRpYXRlZC4gQWxzbywgbmV3IGNsYXNzZXMgY2FuJ3QgaW5oZXJpdCBmcm9tIHRoZW0sXHJcbiAqIGFuZCBtZXRob2RzIGNhbid0IGJlIGFkZGVkIHRvIHRoZW0gd2l0aCB0aGUgYGluY2x1ZGVgIGZ1bmN0aW9uLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgQ1JTID0ge1xyXG5cdC8vIEBtZXRob2QgbGF0TG5nVG9Qb2ludChsYXRsbmc6IExhdExuZywgem9vbTogTnVtYmVyKTogUG9pbnRcclxuXHQvLyBQcm9qZWN0cyBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMgaW50byBwaXhlbCBjb29yZGluYXRlcyBmb3IgYSBnaXZlbiB6b29tLlxyXG5cdGxhdExuZ1RvUG9pbnQ6IGZ1bmN0aW9uIChsYXRsbmcsIHpvb20pIHtcclxuXHRcdHZhciBwcm9qZWN0ZWRQb2ludCA9IHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGxhdGxuZyksXHJcblx0XHQgICAgc2NhbGUgPSB0aGlzLnNjYWxlKHpvb20pO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnRyYW5zZm9ybWF0aW9uLl90cmFuc2Zvcm0ocHJvamVjdGVkUG9pbnQsIHNjYWxlKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBvaW50VG9MYXRMbmcocG9pbnQ6IFBvaW50LCB6b29tOiBOdW1iZXIpOiBMYXRMbmdcclxuXHQvLyBUaGUgaW52ZXJzZSBvZiBgbGF0TG5nVG9Qb2ludGAuIFByb2plY3RzIHBpeGVsIGNvb3JkaW5hdGVzIG9uIGEgZ2l2ZW5cclxuXHQvLyB6b29tIGludG8gZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLlxyXG5cdHBvaW50VG9MYXRMbmc6IGZ1bmN0aW9uIChwb2ludCwgem9vbSkge1xyXG5cdFx0dmFyIHNjYWxlID0gdGhpcy5zY2FsZSh6b29tKSxcclxuXHRcdCAgICB1bnRyYW5zZm9ybWVkUG9pbnQgPSB0aGlzLnRyYW5zZm9ybWF0aW9uLnVudHJhbnNmb3JtKHBvaW50LCBzY2FsZSk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QodW50cmFuc2Zvcm1lZFBvaW50KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHByb2plY3QobGF0bG5nOiBMYXRMbmcpOiBQb2ludFxyXG5cdC8vIFByb2plY3RzIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyBpbnRvIGNvb3JkaW5hdGVzIGluIHVuaXRzIGFjY2VwdGVkIGZvclxyXG5cdC8vIHRoaXMgQ1JTIChlLmcuIG1ldGVycyBmb3IgRVBTRzozODU3LCBmb3IgcGFzc2luZyBpdCB0byBXTVMgc2VydmljZXMpLlxyXG5cdHByb2plY3Q6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLnByb2plY3Rpb24ucHJvamVjdChsYXRsbmcpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdW5wcm9qZWN0KHBvaW50OiBQb2ludCk6IExhdExuZ1xyXG5cdC8vIEdpdmVuIGEgcHJvamVjdGVkIGNvb3JkaW5hdGUgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBMYXRMbmcuXHJcblx0Ly8gVGhlIGludmVyc2Ugb2YgYHByb2plY3RgLlxyXG5cdHVucHJvamVjdDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnVucHJvamVjdChwb2ludCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzY2FsZSh6b29tOiBOdW1iZXIpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBzY2FsZSB1c2VkIHdoZW4gdHJhbnNmb3JtaW5nIHByb2plY3RlZCBjb29yZGluYXRlcyBpbnRvXHJcblx0Ly8gcGl4ZWwgY29vcmRpbmF0ZXMgZm9yIGEgcGFydGljdWxhciB6b29tLiBGb3IgZXhhbXBsZSwgaXQgcmV0dXJuc1xyXG5cdC8vIGAyNTYgKiAyXnpvb21gIGZvciBNZXJjYXRvci1iYXNlZCBDUlMuXHJcblx0c2NhbGU6IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHRyZXR1cm4gMjU2ICogTWF0aC5wb3coMiwgem9vbSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB6b29tKHNjYWxlOiBOdW1iZXIpOiBOdW1iZXJcclxuXHQvLyBJbnZlcnNlIG9mIGBzY2FsZSgpYCwgcmV0dXJucyB0aGUgem9vbSBsZXZlbCBjb3JyZXNwb25kaW5nIHRvIGEgc2NhbGVcclxuXHQvLyBmYWN0b3Igb2YgYHNjYWxlYC5cclxuXHR6b29tOiBmdW5jdGlvbiAoc2NhbGUpIHtcclxuXHRcdHJldHVybiBNYXRoLmxvZyhzY2FsZSAvIDI1NikgLyBNYXRoLkxOMjtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFByb2plY3RlZEJvdW5kcyh6b29tOiBOdW1iZXIpOiBCb3VuZHNcclxuXHQvLyBSZXR1cm5zIHRoZSBwcm9qZWN0aW9uJ3MgYm91bmRzIHNjYWxlZCBhbmQgdHJhbnNmb3JtZWQgZm9yIHRoZSBwcm92aWRlZCBgem9vbWAuXHJcblx0Z2V0UHJvamVjdGVkQm91bmRzOiBmdW5jdGlvbiAoem9vbSkge1xyXG5cdFx0aWYgKHRoaXMuaW5maW5pdGUpIHsgcmV0dXJuIG51bGw7IH1cclxuXHJcblx0XHR2YXIgYiA9IHRoaXMucHJvamVjdGlvbi5ib3VuZHMsXHJcblx0XHQgICAgcyA9IHRoaXMuc2NhbGUoem9vbSksXHJcblx0XHQgICAgbWluID0gdGhpcy50cmFuc2Zvcm1hdGlvbi50cmFuc2Zvcm0oYi5taW4sIHMpLFxyXG5cdFx0ICAgIG1heCA9IHRoaXMudHJhbnNmb3JtYXRpb24udHJhbnNmb3JtKGIubWF4LCBzKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IEJvdW5kcyhtaW4sIG1heCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBkaXN0YW5jZShsYXRsbmcxOiBMYXRMbmcsIGxhdGxuZzI6IExhdExuZyk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcy5cclxuXHJcblx0Ly8gQHByb3BlcnR5IGNvZGU6IFN0cmluZ1xyXG5cdC8vIFN0YW5kYXJkIGNvZGUgbmFtZSBvZiB0aGUgQ1JTIHBhc3NlZCBpbnRvIFdNUyBzZXJ2aWNlcyAoZS5nLiBgJ0VQU0c6Mzg1NydgKVxyXG5cdC8vXHJcblx0Ly8gQHByb3BlcnR5IHdyYXBMbmc6IE51bWJlcltdXHJcblx0Ly8gQW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgZGVmaW5pbmcgd2hldGhlciB0aGUgbG9uZ2l0dWRlIChob3Jpem9udGFsKSBjb29yZGluYXRlXHJcblx0Ly8gYXhpcyB3cmFwcyBhcm91bmQgYSBnaXZlbiByYW5nZSBhbmQgaG93LiBEZWZhdWx0cyB0byBgWy0xODAsIDE4MF1gIGluIG1vc3RcclxuXHQvLyBnZW9ncmFwaGljYWwgQ1JTcy4gSWYgYHVuZGVmaW5lZGAsIHRoZSBsb25naXR1ZGUgYXhpcyBkb2VzIG5vdCB3cmFwIGFyb3VuZC5cclxuXHQvL1xyXG5cdC8vIEBwcm9wZXJ0eSB3cmFwTGF0OiBOdW1iZXJbXVxyXG5cdC8vIExpa2UgYHdyYXBMbmdgLCBidXQgZm9yIHRoZSBsYXRpdHVkZSAodmVydGljYWwpIGF4aXMuXHJcblxyXG5cdC8vIHdyYXBMbmc6IFttaW4sIG1heF0sXHJcblx0Ly8gd3JhcExhdDogW21pbiwgbWF4XSxcclxuXHJcblx0Ly8gQHByb3BlcnR5IGluZmluaXRlOiBCb29sZWFuXHJcblx0Ly8gSWYgdHJ1ZSwgdGhlIGNvb3JkaW5hdGUgc3BhY2Ugd2lsbCBiZSB1bmJvdW5kZWQgKGluZmluaXRlIGluIGJvdGggYXhlcylcclxuXHRpbmZpbml0ZTogZmFsc2UsXHJcblxyXG5cdC8vIEBtZXRob2Qgd3JhcExhdExuZyhsYXRsbmc6IExhdExuZyk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgYSBgTGF0TG5nYCB3aGVyZSBsYXQgYW5kIGxuZyBoYXMgYmVlbiB3cmFwcGVkIGFjY29yZGluZyB0byB0aGVcclxuXHQvLyBDUlMncyBgd3JhcExhdGAgYW5kIGB3cmFwTG5nYCBwcm9wZXJ0aWVzLCBpZiB0aGV5IGFyZSBvdXRzaWRlIHRoZSBDUlMncyBib3VuZHMuXHJcblx0d3JhcExhdExuZzogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0dmFyIGxuZyA9IHRoaXMud3JhcExuZyA/IFV0aWwud3JhcE51bShsYXRsbmcubG5nLCB0aGlzLndyYXBMbmcsIHRydWUpIDogbGF0bG5nLmxuZyxcclxuXHRcdCAgICBsYXQgPSB0aGlzLndyYXBMYXQgPyBVdGlsLndyYXBOdW0obGF0bG5nLmxhdCwgdGhpcy53cmFwTGF0LCB0cnVlKSA6IGxhdGxuZy5sYXQsXHJcblx0XHQgICAgYWx0ID0gbGF0bG5nLmFsdDtcclxuXHJcblx0XHRyZXR1cm4gbmV3IExhdExuZyhsYXQsIGxuZywgYWx0KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHdyYXBMYXRMbmdCb3VuZHMoYm91bmRzOiBMYXRMbmdCb3VuZHMpOiBMYXRMbmdCb3VuZHNcclxuXHQvLyBSZXR1cm5zIGEgYExhdExuZ0JvdW5kc2Agd2l0aCB0aGUgc2FtZSBzaXplIGFzIHRoZSBnaXZlbiBvbmUsIGVuc3VyaW5nXHJcblx0Ly8gdGhhdCBpdHMgY2VudGVyIGlzIHdpdGhpbiB0aGUgQ1JTJ3MgYm91bmRzLlxyXG5cdC8vIE9ubHkgYWNjZXB0cyBhY3R1YWwgYEwuTGF0TG5nQm91bmRzYCBpbnN0YW5jZXMsIG5vdCBhcnJheXMuXHJcblx0d3JhcExhdExuZ0JvdW5kczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0dmFyIGNlbnRlciA9IGJvdW5kcy5nZXRDZW50ZXIoKSxcclxuXHRcdCAgICBuZXdDZW50ZXIgPSB0aGlzLndyYXBMYXRMbmcoY2VudGVyKSxcclxuXHRcdCAgICBsYXRTaGlmdCA9IGNlbnRlci5sYXQgLSBuZXdDZW50ZXIubGF0LFxyXG5cdFx0ICAgIGxuZ1NoaWZ0ID0gY2VudGVyLmxuZyAtIG5ld0NlbnRlci5sbmc7XHJcblxyXG5cdFx0aWYgKGxhdFNoaWZ0ID09PSAwICYmIGxuZ1NoaWZ0ID09PSAwKSB7XHJcblx0XHRcdHJldHVybiBib3VuZHM7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHN3ID0gYm91bmRzLmdldFNvdXRoV2VzdCgpLFxyXG5cdFx0ICAgIG5lID0gYm91bmRzLmdldE5vcnRoRWFzdCgpLFxyXG5cdFx0ICAgIG5ld1N3ID0gbmV3IExhdExuZyhzdy5sYXQgLSBsYXRTaGlmdCwgc3cubG5nIC0gbG5nU2hpZnQpLFxyXG5cdFx0ICAgIG5ld05lID0gbmV3IExhdExuZyhuZS5sYXQgLSBsYXRTaGlmdCwgbmUubG5nIC0gbG5nU2hpZnQpO1xyXG5cclxuXHRcdHJldHVybiBuZXcgTGF0TG5nQm91bmRzKG5ld1N3LCBuZXdOZSk7XHJcblx0fVxyXG59O1xyXG4iLCAiaW1wb3J0IHtDUlN9IGZyb20gJy4vQ1JTJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcblxuLypcbiAqIEBuYW1lc3BhY2UgQ1JTXG4gKiBAY3JzIEwuQ1JTLkVhcnRoXG4gKlxuICogU2VydmVzIGFzIHRoZSBiYXNlIGZvciBDUlMgdGhhdCBhcmUgZ2xvYmFsIHN1Y2ggdGhhdCB0aGV5IGNvdmVyIHRoZSBlYXJ0aC5cbiAqIENhbiBvbmx5IGJlIHVzZWQgYXMgdGhlIGJhc2UgZm9yIG90aGVyIENSUyBhbmQgY2Fubm90IGJlIHVzZWQgZGlyZWN0bHksXG4gKiBzaW5jZSBpdCBkb2VzIG5vdCBoYXZlIGEgYGNvZGVgLCBgcHJvamVjdGlvbmAgb3IgYHRyYW5zZm9ybWF0aW9uYC4gYGRpc3RhbmNlKClgIHJldHVybnNcbiAqIG1ldGVycy5cbiAqL1xuXG5leHBvcnQgdmFyIEVhcnRoID0gVXRpbC5leHRlbmQoe30sIENSUywge1xuXHR3cmFwTG5nOiBbLTE4MCwgMTgwXSxcblxuXHQvLyBNZWFuIEVhcnRoIFJhZGl1cywgYXMgcmVjb21tZW5kZWQgZm9yIHVzZSBieVxuXHQvLyB0aGUgSW50ZXJuYXRpb25hbCBVbmlvbiBvZiBHZW9kZXN5IGFuZCBHZW9waHlzaWNzLFxuXHQvLyBzZWUgaHR0cHM6Ly9yb3NldHRhY29kZS5vcmcvd2lraS9IYXZlcnNpbmVfZm9ybXVsYVxuXHRSOiA2MzcxMDAwLFxuXG5cdC8vIGRpc3RhbmNlIGJldHdlZW4gdHdvIGdlb2dyYXBoaWNhbCBwb2ludHMgdXNpbmcgc3BoZXJpY2FsIGxhdyBvZiBjb3NpbmVzIGFwcHJveGltYXRpb25cblx0ZGlzdGFuY2U6IGZ1bmN0aW9uIChsYXRsbmcxLCBsYXRsbmcyKSB7XG5cdFx0dmFyIHJhZCA9IE1hdGguUEkgLyAxODAsXG5cdFx0ICAgIGxhdDEgPSBsYXRsbmcxLmxhdCAqIHJhZCxcblx0XHQgICAgbGF0MiA9IGxhdGxuZzIubGF0ICogcmFkLFxuXHRcdCAgICBzaW5ETGF0ID0gTWF0aC5zaW4oKGxhdGxuZzIubGF0IC0gbGF0bG5nMS5sYXQpICogcmFkIC8gMiksXG5cdFx0ICAgIHNpbkRMb24gPSBNYXRoLnNpbigobGF0bG5nMi5sbmcgLSBsYXRsbmcxLmxuZykgKiByYWQgLyAyKSxcblx0XHQgICAgYSA9IHNpbkRMYXQgKiBzaW5ETGF0ICsgTWF0aC5jb3MobGF0MSkgKiBNYXRoLmNvcyhsYXQyKSAqIHNpbkRMb24gKiBzaW5ETG9uLFxuXHRcdCAgICBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcblx0XHRyZXR1cm4gdGhpcy5SICogYztcblx0fVxufSk7XG4iLCAiaW1wb3J0IHtMYXRMbmd9IGZyb20gJy4uL0xhdExuZyc7XHJcbmltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xyXG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIFByb2plY3Rpb25cclxuICogQHByb2plY3Rpb24gTC5Qcm9qZWN0aW9uLlNwaGVyaWNhbE1lcmNhdG9yXHJcbiAqXHJcbiAqIFNwaGVyaWNhbCBNZXJjYXRvciBwcm9qZWN0aW9uIOKAlCB0aGUgbW9zdCBjb21tb24gcHJvamVjdGlvbiBmb3Igb25saW5lIG1hcHMsXHJcbiAqIHVzZWQgYnkgYWxtb3N0IGFsbCBmcmVlIGFuZCBjb21tZXJjaWFsIHRpbGUgcHJvdmlkZXJzLiBBc3N1bWVzIHRoYXQgRWFydGggaXNcclxuICogYSBzcGhlcmUuIFVzZWQgYnkgdGhlIGBFUFNHOjM4NTdgIENSUy5cclxuICovXHJcblxyXG52YXIgZWFydGhSYWRpdXMgPSA2Mzc4MTM3O1xyXG5cclxuZXhwb3J0IHZhciBTcGhlcmljYWxNZXJjYXRvciA9IHtcclxuXHJcblx0UjogZWFydGhSYWRpdXMsXHJcblx0TUFYX0xBVElUVURFOiA4NS4wNTExMjg3Nzk4LFxyXG5cclxuXHRwcm9qZWN0OiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHR2YXIgZCA9IE1hdGguUEkgLyAxODAsXHJcblx0XHQgICAgbWF4ID0gdGhpcy5NQVhfTEFUSVRVREUsXHJcblx0XHQgICAgbGF0ID0gTWF0aC5tYXgoTWF0aC5taW4obWF4LCBsYXRsbmcubGF0KSwgLW1heCksXHJcblx0XHQgICAgc2luID0gTWF0aC5zaW4obGF0ICogZCk7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBQb2ludChcclxuXHRcdFx0dGhpcy5SICogbGF0bG5nLmxuZyAqIGQsXHJcblx0XHRcdHRoaXMuUiAqIE1hdGgubG9nKCgxICsgc2luKSAvICgxIC0gc2luKSkgLyAyKTtcclxuXHR9LFxyXG5cclxuXHR1bnByb2plY3Q6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0dmFyIGQgPSAxODAgLyBNYXRoLlBJO1xyXG5cclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKFxyXG5cdFx0XHQoMiAqIE1hdGguYXRhbihNYXRoLmV4cChwb2ludC55IC8gdGhpcy5SKSkgLSAoTWF0aC5QSSAvIDIpKSAqIGQsXHJcblx0XHRcdHBvaW50LnggKiBkIC8gdGhpcy5SKTtcclxuXHR9LFxyXG5cclxuXHRib3VuZHM6IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZCA9IGVhcnRoUmFkaXVzICogTWF0aC5QSTtcclxuXHRcdHJldHVybiBuZXcgQm91bmRzKFstZCwgLWRdLCBbZCwgZF0pO1xyXG5cdH0pKClcclxufTtcclxuIiwgImltcG9ydCB7UG9pbnR9IGZyb20gJy4vUG9pbnQnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgVHJhbnNmb3JtYXRpb25cclxuICogQGFrYSBMLlRyYW5zZm9ybWF0aW9uXHJcbiAqXHJcbiAqIFJlcHJlc2VudHMgYW4gYWZmaW5lIHRyYW5zZm9ybWF0aW9uOiBhIHNldCBvZiBjb2VmZmljaWVudHMgYGFgLCBgYmAsIGBjYCwgYGRgXHJcbiAqIGZvciB0cmFuc2Zvcm1pbmcgYSBwb2ludCBvZiBhIGZvcm0gYCh4LCB5KWAgaW50byBgKGEqeCArIGIsIGMqeSArIGQpYCBhbmQgZG9pbmdcclxuICogdGhlIHJldmVyc2UuIFVzZWQgYnkgTGVhZmxldCBpbiBpdHMgcHJvamVjdGlvbnMgY29kZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIHRyYW5zZm9ybWF0aW9uID0gTC50cmFuc2Zvcm1hdGlvbigyLCA1LCAtMSwgMTApLFxyXG4gKiBcdHAgPSBMLnBvaW50KDEsIDIpLFxyXG4gKiBcdHAyID0gdHJhbnNmb3JtYXRpb24udHJhbnNmb3JtKHApLCAvLyAgTC5wb2ludCg3LCA4KVxyXG4gKiBcdHAzID0gdHJhbnNmb3JtYXRpb24udW50cmFuc2Zvcm0ocDIpOyAvLyAgTC5wb2ludCgxLCAyKVxyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLy8gZmFjdG9yeSBuZXcgTC5UcmFuc2Zvcm1hdGlvbihhOiBOdW1iZXIsIGI6IE51bWJlciwgYzogTnVtYmVyLCBkOiBOdW1iZXIpXHJcbi8vIENyZWF0ZXMgYSBgVHJhbnNmb3JtYXRpb25gIG9iamVjdCB3aXRoIHRoZSBnaXZlbiBjb2VmZmljaWVudHMuXHJcbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2Zvcm1hdGlvbihhLCBiLCBjLCBkKSB7XHJcblx0aWYgKFV0aWwuaXNBcnJheShhKSkge1xyXG5cdFx0Ly8gdXNlIGFycmF5IHByb3BlcnRpZXNcclxuXHRcdHRoaXMuX2EgPSBhWzBdO1xyXG5cdFx0dGhpcy5fYiA9IGFbMV07XHJcblx0XHR0aGlzLl9jID0gYVsyXTtcclxuXHRcdHRoaXMuX2QgPSBhWzNdO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHR0aGlzLl9hID0gYTtcclxuXHR0aGlzLl9iID0gYjtcclxuXHR0aGlzLl9jID0gYztcclxuXHR0aGlzLl9kID0gZDtcclxufVxyXG5cclxuVHJhbnNmb3JtYXRpb24ucHJvdG90eXBlID0ge1xyXG5cdC8vIEBtZXRob2QgdHJhbnNmb3JtKHBvaW50OiBQb2ludCwgc2NhbGU/OiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgYSB0cmFuc2Zvcm1lZCBwb2ludCwgb3B0aW9uYWxseSBtdWx0aXBsaWVkIGJ5IHRoZSBnaXZlbiBzY2FsZS5cclxuXHQvLyBPbmx5IGFjY2VwdHMgYWN0dWFsIGBMLlBvaW50YCBpbnN0YW5jZXMsIG5vdCBhcnJheXMuXHJcblx0dHJhbnNmb3JtOiBmdW5jdGlvbiAocG9pbnQsIHNjYWxlKSB7IC8vIChQb2ludCwgTnVtYmVyKSAtPiBQb2ludFxyXG5cdFx0cmV0dXJuIHRoaXMuX3RyYW5zZm9ybShwb2ludC5jbG9uZSgpLCBzY2FsZSk7XHJcblx0fSxcclxuXHJcblx0Ly8gZGVzdHJ1Y3RpdmUgdHJhbnNmb3JtIChmYXN0ZXIpXHJcblx0X3RyYW5zZm9ybTogZnVuY3Rpb24gKHBvaW50LCBzY2FsZSkge1xyXG5cdFx0c2NhbGUgPSBzY2FsZSB8fCAxO1xyXG5cdFx0cG9pbnQueCA9IHNjYWxlICogKHRoaXMuX2EgKiBwb2ludC54ICsgdGhpcy5fYik7XHJcblx0XHRwb2ludC55ID0gc2NhbGUgKiAodGhpcy5fYyAqIHBvaW50LnkgKyB0aGlzLl9kKTtcclxuXHRcdHJldHVybiBwb2ludDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHVudHJhbnNmb3JtKHBvaW50OiBQb2ludCwgc2NhbGU/OiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJldmVyc2UgdHJhbnNmb3JtYXRpb24gb2YgdGhlIGdpdmVuIHBvaW50LCBvcHRpb25hbGx5IGRpdmlkZWRcclxuXHQvLyBieSB0aGUgZ2l2ZW4gc2NhbGUuIE9ubHkgYWNjZXB0cyBhY3R1YWwgYEwuUG9pbnRgIGluc3RhbmNlcywgbm90IGFycmF5cy5cclxuXHR1bnRyYW5zZm9ybTogZnVuY3Rpb24gKHBvaW50LCBzY2FsZSkge1xyXG5cdFx0c2NhbGUgPSBzY2FsZSB8fCAxO1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludChcclxuXHRcdCAgICAgICAgKHBvaW50LnggLyBzY2FsZSAtIHRoaXMuX2IpIC8gdGhpcy5fYSxcclxuXHRcdCAgICAgICAgKHBvaW50LnkgLyBzY2FsZSAtIHRoaXMuX2QpIC8gdGhpcy5fYyk7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gZmFjdG9yeSBMLnRyYW5zZm9ybWF0aW9uKGE6IE51bWJlciwgYjogTnVtYmVyLCBjOiBOdW1iZXIsIGQ6IE51bWJlcilcclxuXHJcbi8vIEBmYWN0b3J5IEwudHJhbnNmb3JtYXRpb24oYTogTnVtYmVyLCBiOiBOdW1iZXIsIGM6IE51bWJlciwgZDogTnVtYmVyKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBUcmFuc2Zvcm1hdGlvbiBvYmplY3Qgd2l0aCB0aGUgZ2l2ZW4gY29lZmZpY2llbnRzLlxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwudHJhbnNmb3JtYXRpb24oY29lZmZpY2llbnRzOiBBcnJheSk6IFRyYW5zZm9ybWF0aW9uXHJcbi8vIEV4cGVjdHMgYW4gY29lZmZpY2llbnRzIGFycmF5IG9mIHRoZSBmb3JtXHJcbi8vIGBbYTogTnVtYmVyLCBiOiBOdW1iZXIsIGM6IE51bWJlciwgZDogTnVtYmVyXWAuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9UcmFuc2Zvcm1hdGlvbihhLCBiLCBjLCBkKSB7XHJcblx0cmV0dXJuIG5ldyBUcmFuc2Zvcm1hdGlvbihhLCBiLCBjLCBkKTtcclxufVxyXG4iLCAiaW1wb3J0IHtFYXJ0aH0gZnJvbSAnLi9DUlMuRWFydGgnO1xyXG5pbXBvcnQge1NwaGVyaWNhbE1lcmNhdG9yfSBmcm9tICcuLi9wcm9qZWN0aW9uL1Byb2plY3Rpb24uU3BoZXJpY2FsTWVyY2F0b3InO1xyXG5pbXBvcnQge3RvVHJhbnNmb3JtYXRpb259IGZyb20gJy4uLy4uL2dlb21ldHJ5L1RyYW5zZm9ybWF0aW9uJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBDUlNcclxuICogQGNycyBMLkNSUy5FUFNHMzg1N1xyXG4gKlxyXG4gKiBUaGUgbW9zdCBjb21tb24gQ1JTIGZvciBvbmxpbmUgbWFwcywgdXNlZCBieSBhbG1vc3QgYWxsIGZyZWUgYW5kIGNvbW1lcmNpYWxcclxuICogdGlsZSBwcm92aWRlcnMuIFVzZXMgU3BoZXJpY2FsIE1lcmNhdG9yIHByb2plY3Rpb24uIFNldCBpbiBieSBkZWZhdWx0IGluXHJcbiAqIE1hcCdzIGBjcnNgIG9wdGlvbi5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIEVQU0czODU3ID0gVXRpbC5leHRlbmQoe30sIEVhcnRoLCB7XHJcblx0Y29kZTogJ0VQU0c6Mzg1NycsXHJcblx0cHJvamVjdGlvbjogU3BoZXJpY2FsTWVyY2F0b3IsXHJcblxyXG5cdHRyYW5zZm9ybWF0aW9uOiAoZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHNjYWxlID0gMC41IC8gKE1hdGguUEkgKiBTcGhlcmljYWxNZXJjYXRvci5SKTtcclxuXHRcdHJldHVybiB0b1RyYW5zZm9ybWF0aW9uKHNjYWxlLCAwLjUsIC1zY2FsZSwgMC41KTtcclxuXHR9KCkpXHJcbn0pO1xyXG5cclxuZXhwb3J0IHZhciBFUFNHOTAwOTEzID0gVXRpbC5leHRlbmQoe30sIEVQU0czODU3LCB7XHJcblx0Y29kZTogJ0VQU0c6OTAwOTEzJ1xyXG59KTtcclxuIiwgImltcG9ydCBCcm93c2VyIGZyb20gJy4uLy4uL2NvcmUvQnJvd3Nlcic7XG5cbi8vIEBuYW1lc3BhY2UgU1ZHOyBAc2VjdGlvblxuLy8gVGhlcmUgYXJlIHNldmVyYWwgc3RhdGljIGZ1bmN0aW9ucyB3aGljaCBjYW4gYmUgY2FsbGVkIHdpdGhvdXQgaW5zdGFudGlhdGluZyBMLlNWRzpcblxuLy8gQGZ1bmN0aW9uIGNyZWF0ZShuYW1lOiBTdHJpbmcpOiBTVkdFbGVtZW50XG4vLyBSZXR1cm5zIGEgaW5zdGFuY2Ugb2YgW1NWR0VsZW1lbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9TVkdFbGVtZW50KSxcbi8vIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGNsYXNzIG5hbWUgcGFzc2VkLiBGb3IgZXhhbXBsZSwgdXNpbmcgJ2xpbmUnIHdpbGwgcmV0dXJuXG4vLyBhbiBpbnN0YW5jZSBvZiBbU1ZHTGluZUVsZW1lbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9TVkdMaW5lRWxlbWVudCkuXG5leHBvcnQgZnVuY3Rpb24gc3ZnQ3JlYXRlKG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cblxuLy8gQGZ1bmN0aW9uIHBvaW50c1RvUGF0aChyaW5nczogUG9pbnRbXSwgY2xvc2VkOiBCb29sZWFuKTogU3RyaW5nXG4vLyBHZW5lcmF0ZXMgYSBTVkcgcGF0aCBzdHJpbmcgZm9yIG11bHRpcGxlIHJpbmdzLCB3aXRoIGVhY2ggcmluZyB0dXJuaW5nXG4vLyBpbnRvIFwiTS4uTC4uTC4uXCIgaW5zdHJ1Y3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzVG9QYXRoKHJpbmdzLCBjbG9zZWQpIHtcblx0dmFyIHN0ciA9ICcnLFxuXHRpLCBqLCBsZW4sIGxlbjIsIHBvaW50cywgcDtcblxuXHRmb3IgKGkgPSAwLCBsZW4gPSByaW5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdHBvaW50cyA9IHJpbmdzW2ldO1xuXG5cdFx0Zm9yIChqID0gMCwgbGVuMiA9IHBvaW50cy5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcblx0XHRcdHAgPSBwb2ludHNbal07XG5cdFx0XHRzdHIgKz0gKGogPyAnTCcgOiAnTScpICsgcC54ICsgJyAnICsgcC55O1xuXHRcdH1cblxuXHRcdC8vIGNsb3NlcyB0aGUgcmluZyBmb3IgcG9seWdvbnM7IFwieFwiIGlzIFZNTCBzeW50YXhcblx0XHRzdHIgKz0gY2xvc2VkID8gKEJyb3dzZXIuc3ZnID8gJ3onIDogJ3gnKSA6ICcnO1xuXHR9XG5cblx0Ly8gU1ZHIGNvbXBsYWlucyBhYm91dCBlbXB0eSBwYXRoIHN0cmluZ3Ncblx0cmV0dXJuIHN0ciB8fCAnTTAgMCc7XG59XG5cblxuXG5cbiIsICJpbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4vVXRpbCc7XHJcbmltcG9ydCB7c3ZnQ3JlYXRlfSBmcm9tICcuLi9sYXllci92ZWN0b3IvU1ZHLlV0aWwnO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBCcm93c2VyXHJcbiAqIEBha2EgTC5Ccm93c2VyXHJcbiAqXHJcbiAqIEEgbmFtZXNwYWNlIHdpdGggc3RhdGljIHByb3BlcnRpZXMgZm9yIGJyb3dzZXIvZmVhdHVyZSBkZXRlY3Rpb24gdXNlZCBieSBMZWFmbGV0IGludGVybmFsbHkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGlmIChMLkJyb3dzZXIuaWVsdDkpIHtcclxuICogICBhbGVydCgnVXBncmFkZSB5b3VyIGJyb3dzZXIsIGR1ZGUhJyk7XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG5cclxudmFyIHN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xyXG5cclxuLy8gQHByb3BlcnR5IGllOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIGFsbCBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9ucyAobm90IEVkZ2UpLlxyXG52YXIgaWUgPSAnQWN0aXZlWE9iamVjdCcgaW4gd2luZG93O1xyXG5cclxuLy8gQHByb3BlcnR5IGllbHQ5OiBCb29sZWFuOyBgdHJ1ZWAgZm9yIEludGVybmV0IEV4cGxvcmVyIHZlcnNpb25zIGxlc3MgdGhhbiA5LlxyXG52YXIgaWVsdDkgPSBpZSAmJiAhZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcjtcclxuXHJcbi8vIEBwcm9wZXJ0eSBlZGdlOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIHRoZSBFZGdlIHdlYiBicm93c2VyLlxyXG52YXIgZWRnZSA9ICdtc0xhdW5jaFVyaScgaW4gbmF2aWdhdG9yICYmICEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpO1xyXG5cclxuLy8gQHByb3BlcnR5IHdlYmtpdDogQm9vbGVhbjtcclxuLy8gYHRydWVgIGZvciB3ZWJraXQtYmFzZWQgYnJvd3NlcnMgbGlrZSBDaHJvbWUgYW5kIFNhZmFyaSAoaW5jbHVkaW5nIG1vYmlsZSB2ZXJzaW9ucykuXHJcbnZhciB3ZWJraXQgPSB1c2VyQWdlbnRDb250YWlucygnd2Via2l0Jyk7XHJcblxyXG4vLyBAcHJvcGVydHkgYW5kcm9pZDogQm9vbGVhblxyXG4vLyAqKkRlcHJlY2F0ZWQuKiogYHRydWVgIGZvciBhbnkgYnJvd3NlciBydW5uaW5nIG9uIGFuIEFuZHJvaWQgcGxhdGZvcm0uXHJcbnZhciBhbmRyb2lkID0gdXNlckFnZW50Q29udGFpbnMoJ2FuZHJvaWQnKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBhbmRyb2lkMjM6IEJvb2xlYW47ICoqRGVwcmVjYXRlZC4qKiBgdHJ1ZWAgZm9yIGJyb3dzZXJzIHJ1bm5pbmcgb24gQW5kcm9pZCAyIG9yIEFuZHJvaWQgMy5cclxudmFyIGFuZHJvaWQyMyA9IHVzZXJBZ2VudENvbnRhaW5zKCdhbmRyb2lkIDInKSB8fCB1c2VyQWdlbnRDb250YWlucygnYW5kcm9pZCAzJyk7XHJcblxyXG4vKiBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE3OTYxMjY2IGZvciBkZXRhaWxzIG9uIGRldGVjdGluZyBzdG9jayBBbmRyb2lkICovXHJcbnZhciB3ZWJraXRWZXIgPSBwYXJzZUludCgvV2ViS2l0XFwvKFswLTldKyl8JC8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KVsxXSwgMTApOyAvLyBhbHNvIG1hdGNoZXMgQXBwbGVXZWJLaXRcclxuLy8gQHByb3BlcnR5IGFuZHJvaWRTdG9jazogQm9vbGVhbjsgKipEZXByZWNhdGVkLioqIGB0cnVlYCBmb3IgdGhlIEFuZHJvaWQgc3RvY2sgYnJvd3NlciAoaS5lLiBub3QgQ2hyb21lKVxyXG52YXIgYW5kcm9pZFN0b2NrID0gYW5kcm9pZCAmJiB1c2VyQWdlbnRDb250YWlucygnR29vZ2xlJykgJiYgd2Via2l0VmVyIDwgNTM3ICYmICEoJ0F1ZGlvTm9kZScgaW4gd2luZG93KTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBvcGVyYTogQm9vbGVhbjsgYHRydWVgIGZvciB0aGUgT3BlcmEgYnJvd3NlclxyXG52YXIgb3BlcmEgPSAhIXdpbmRvdy5vcGVyYTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBjaHJvbWU6IEJvb2xlYW47IGB0cnVlYCBmb3IgdGhlIENocm9tZSBicm93c2VyLlxyXG52YXIgY2hyb21lID0gIWVkZ2UgJiYgdXNlckFnZW50Q29udGFpbnMoJ2Nocm9tZScpO1xyXG5cclxuLy8gQHByb3BlcnR5IGdlY2tvOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIGdlY2tvLWJhc2VkIGJyb3dzZXJzIGxpa2UgRmlyZWZveC5cclxudmFyIGdlY2tvID0gdXNlckFnZW50Q29udGFpbnMoJ2dlY2tvJykgJiYgIXdlYmtpdCAmJiAhb3BlcmEgJiYgIWllO1xyXG5cclxuLy8gQHByb3BlcnR5IHNhZmFyaTogQm9vbGVhbjsgYHRydWVgIGZvciB0aGUgU2FmYXJpIGJyb3dzZXIuXHJcbnZhciBzYWZhcmkgPSAhY2hyb21lICYmIHVzZXJBZ2VudENvbnRhaW5zKCdzYWZhcmknKTtcclxuXHJcbnZhciBwaGFudG9tID0gdXNlckFnZW50Q29udGFpbnMoJ3BoYW50b20nKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBvcGVyYTEyOiBCb29sZWFuXHJcbi8vIGB0cnVlYCBmb3IgdGhlIE9wZXJhIGJyb3dzZXIgc3VwcG9ydGluZyBDU1MgdHJhbnNmb3JtcyAodmVyc2lvbiAxMiBvciBsYXRlcikuXHJcbnZhciBvcGVyYTEyID0gJ09UcmFuc2l0aW9uJyBpbiBzdHlsZTtcclxuXHJcbi8vIEBwcm9wZXJ0eSB3aW46IEJvb2xlYW47IGB0cnVlYCB3aGVuIHRoZSBicm93c2VyIGlzIHJ1bm5pbmcgaW4gYSBXaW5kb3dzIHBsYXRmb3JtXHJcbnZhciB3aW4gPSBuYXZpZ2F0b3IucGxhdGZvcm0uaW5kZXhPZignV2luJykgPT09IDA7XHJcblxyXG4vLyBAcHJvcGVydHkgaWUzZDogQm9vbGVhbjsgYHRydWVgIGZvciBhbGwgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbnMgc3VwcG9ydGluZyBDU1MgdHJhbnNmb3Jtcy5cclxudmFyIGllM2QgPSBpZSAmJiAoJ3RyYW5zaXRpb24nIGluIHN0eWxlKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSB3ZWJraXQzZDogQm9vbGVhbjsgYHRydWVgIGZvciB3ZWJraXQtYmFzZWQgYnJvd3NlcnMgc3VwcG9ydGluZyBDU1MgdHJhbnNmb3Jtcy5cclxudmFyIHdlYmtpdDNkID0gKCdXZWJLaXRDU1NNYXRyaXgnIGluIHdpbmRvdykgJiYgKCdtMTEnIGluIG5ldyB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KCkpICYmICFhbmRyb2lkMjM7XHJcblxyXG4vLyBAcHJvcGVydHkgZ2Vja28zZDogQm9vbGVhbjsgYHRydWVgIGZvciBnZWNrby1iYXNlZCBicm93c2VycyBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG52YXIgZ2Vja28zZCA9ICdNb3pQZXJzcGVjdGl2ZScgaW4gc3R5bGU7XHJcblxyXG4vLyBAcHJvcGVydHkgYW55M2Q6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBhbGwgYnJvd3NlcnMgc3VwcG9ydGluZyBDU1MgdHJhbnNmb3Jtcy5cclxudmFyIGFueTNkID0gIXdpbmRvdy5MX0RJU0FCTEVfM0QgJiYgKGllM2QgfHwgd2Via2l0M2QgfHwgZ2Vja28zZCkgJiYgIW9wZXJhMTIgJiYgIXBoYW50b207XHJcblxyXG4vLyBAcHJvcGVydHkgbW9iaWxlOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIGFsbCBicm93c2VycyBydW5uaW5nIGluIGEgbW9iaWxlIGRldmljZS5cclxudmFyIG1vYmlsZSA9IHR5cGVvZiBvcmllbnRhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgfHwgdXNlckFnZW50Q29udGFpbnMoJ21vYmlsZScpO1xyXG5cclxuLy8gQHByb3BlcnR5IG1vYmlsZVdlYmtpdDogQm9vbGVhbjsgYHRydWVgIGZvciBhbGwgd2Via2l0LWJhc2VkIGJyb3dzZXJzIGluIGEgbW9iaWxlIGRldmljZS5cclxudmFyIG1vYmlsZVdlYmtpdCA9IG1vYmlsZSAmJiB3ZWJraXQ7XHJcblxyXG4vLyBAcHJvcGVydHkgbW9iaWxlV2Via2l0M2Q6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBhbGwgd2Via2l0LWJhc2VkIGJyb3dzZXJzIGluIGEgbW9iaWxlIGRldmljZSBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG52YXIgbW9iaWxlV2Via2l0M2QgPSBtb2JpbGUgJiYgd2Via2l0M2Q7XHJcblxyXG4vLyBAcHJvcGVydHkgbXNQb2ludGVyOiBCb29sZWFuXHJcbi8vIGB0cnVlYCBmb3IgYnJvd3NlcnMgaW1wbGVtZW50aW5nIHRoZSBNaWNyb3NvZnQgdG91Y2ggZXZlbnRzIG1vZGVsIChub3RhYmx5IElFMTApLlxyXG52YXIgbXNQb2ludGVyID0gIXdpbmRvdy5Qb2ludGVyRXZlbnQgJiYgd2luZG93Lk1TUG9pbnRlckV2ZW50O1xyXG5cclxuLy8gQHByb3BlcnR5IHBvaW50ZXI6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBhbGwgYnJvd3NlcnMgc3VwcG9ydGluZyBbcG9pbnRlciBldmVudHNdKGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvZG40MzMyNDQlMjh2PXZzLjg1JTI5LmFzcHgpLlxyXG52YXIgcG9pbnRlciA9ICEhKHdpbmRvdy5Qb2ludGVyRXZlbnQgfHwgbXNQb2ludGVyKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSB0b3VjaE5hdGl2ZTogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgZm9yIGFsbCBicm93c2VycyBzdXBwb3J0aW5nIFt0b3VjaCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9Ub3VjaF9ldmVudHMpLlxyXG4vLyAqKlRoaXMgZG9lcyBub3QgbmVjZXNzYXJpbHkgbWVhbioqIHRoYXQgdGhlIGJyb3dzZXIgaXMgcnVubmluZyBpbiBhIGNvbXB1dGVyIHdpdGhcclxuLy8gYSB0b3VjaHNjcmVlbiwgaXQgb25seSBtZWFucyB0aGF0IHRoZSBicm93c2VyIGlzIGNhcGFibGUgb2YgdW5kZXJzdGFuZGluZ1xyXG4vLyB0b3VjaCBldmVudHMuXHJcbnZhciB0b3VjaE5hdGl2ZSA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCAhIXdpbmRvdy5Ub3VjaEV2ZW50O1xyXG5cclxuLy8gQHByb3BlcnR5IHRvdWNoOiBCb29sZWFuXHJcbi8vIGB0cnVlYCBmb3IgYWxsIGJyb3dzZXJzIHN1cHBvcnRpbmcgZWl0aGVyIFt0b3VjaF0oI2Jyb3dzZXItdG91Y2gpIG9yIFtwb2ludGVyXSgjYnJvd3Nlci1wb2ludGVyKSBldmVudHMuXHJcbi8vIE5vdGU6IHBvaW50ZXIgZXZlbnRzIHdpbGwgYmUgcHJlZmVycmVkIChpZiBhdmFpbGFibGUpLCBhbmQgcHJvY2Vzc2VkIGZvciBhbGwgYHRvdWNoKmAgbGlzdGVuZXJzLlxyXG52YXIgdG91Y2ggPSAhd2luZG93LkxfTk9fVE9VQ0ggJiYgKHRvdWNoTmF0aXZlIHx8IHBvaW50ZXIpO1xyXG5cclxuLy8gQHByb3BlcnR5IG1vYmlsZU9wZXJhOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIHRoZSBPcGVyYSBicm93c2VyIGluIGEgbW9iaWxlIGRldmljZS5cclxudmFyIG1vYmlsZU9wZXJhID0gbW9iaWxlICYmIG9wZXJhO1xyXG5cclxuLy8gQHByb3BlcnR5IG1vYmlsZUdlY2tvOiBCb29sZWFuXHJcbi8vIGB0cnVlYCBmb3IgZ2Vja28tYmFzZWQgYnJvd3NlcnMgcnVubmluZyBpbiBhIG1vYmlsZSBkZXZpY2UuXHJcbnZhciBtb2JpbGVHZWNrbyA9IG1vYmlsZSAmJiBnZWNrbztcclxuXHJcbi8vIEBwcm9wZXJ0eSByZXRpbmE6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBicm93c2VycyBvbiBhIGhpZ2gtcmVzb2x1dGlvbiBcInJldGluYVwiIHNjcmVlbiBvciBvbiBhbnkgc2NyZWVuIHdoZW4gYnJvd3NlcidzIGRpc3BsYXkgem9vbSBpcyBtb3JlIHRoYW4gMTAwJS5cclxudmFyIHJldGluYSA9ICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAod2luZG93LnNjcmVlbi5kZXZpY2VYRFBJIC8gd2luZG93LnNjcmVlbi5sb2dpY2FsWERQSSkpID4gMTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBwYXNzaXZlRXZlbnRzOiBCb29sZWFuXHJcbi8vIGB0cnVlYCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IHBhc3NpdmUgZXZlbnRzLlxyXG52YXIgcGFzc2l2ZUV2ZW50cyA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHN1cHBvcnRzUGFzc2l2ZU9wdGlvbiA9IGZhbHNlO1xyXG5cdHRyeSB7XHJcblx0XHR2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XHJcblx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdldHRlci1yZXR1cm5cclxuXHRcdFx0XHRzdXBwb3J0c1Bhc3NpdmVPcHRpb24gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZUV2ZW50U3VwcG9ydCcsIFV0aWwuZmFsc2VGbiwgb3B0cyk7XHJcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmVFdmVudFN1cHBvcnQnLCBVdGlsLmZhbHNlRm4sIG9wdHMpO1xyXG5cdH0gY2F0Y2ggKGUpIHtcclxuXHRcdC8vIEVycm9ycyBjYW4gc2FmZWx5IGJlIGlnbm9yZWQgc2luY2UgdGhpcyBpcyBvbmx5IGEgYnJvd3NlciBzdXBwb3J0IHRlc3QuXHJcblx0fVxyXG5cdHJldHVybiBzdXBwb3J0c1Bhc3NpdmVPcHRpb247XHJcbn0oKSk7XHJcblxyXG4vLyBAcHJvcGVydHkgY2FudmFzOiBCb29sZWFuXHJcbi8vIGB0cnVlYCB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIFtgPGNhbnZhcz5gXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQ2FudmFzX0FQSSkuXHJcbnZhciBjYW52YXMgPSAoZnVuY3Rpb24gKCkge1xyXG5cdHJldHVybiAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQ7XHJcbn0oKSk7XHJcblxyXG4vLyBAcHJvcGVydHkgc3ZnOiBCb29sZWFuXHJcbi8vIGB0cnVlYCB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIFtTVkddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRykuXHJcbnZhciBzdmcgPSAhIShkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiYgc3ZnQ3JlYXRlKCdzdmcnKS5jcmVhdGVTVkdSZWN0KTtcclxuXHJcbnZhciBpbmxpbmVTdmcgPSAhIXN2ZyAmJiAoZnVuY3Rpb24gKCkge1xyXG5cdHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRkaXYuaW5uZXJIVE1MID0gJzxzdmcvPic7XHJcblx0cmV0dXJuIChkaXYuZmlyc3RDaGlsZCAmJiBkaXYuZmlyc3RDaGlsZC5uYW1lc3BhY2VVUkkpID09PSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG59KSgpO1xyXG5cclxuLy8gQHByb3BlcnR5IHZtbDogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgW1ZNTF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVmVjdG9yX01hcmt1cF9MYW5ndWFnZSkuXHJcbnZhciB2bWwgPSAhc3ZnICYmIChmdW5jdGlvbiAoKSB7XHJcblx0dHJ5IHtcclxuXHRcdHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGRpdi5pbm5lckhUTUwgPSAnPHY6c2hhcGUgYWRqPVwiMVwiLz4nO1xyXG5cclxuXHRcdHZhciBzaGFwZSA9IGRpdi5maXJzdENoaWxkO1xyXG5cdFx0c2hhcGUuc3R5bGUuYmVoYXZpb3IgPSAndXJsKCNkZWZhdWx0I1ZNTCknO1xyXG5cclxuXHRcdHJldHVybiBzaGFwZSAmJiAodHlwZW9mIHNoYXBlLmFkaiA9PT0gJ29iamVjdCcpO1xyXG5cclxuXHR9IGNhdGNoIChlKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG59KCkpO1xyXG5cclxuXHJcbi8vIEBwcm9wZXJ0eSBtYWM6IEJvb2xlYW47IGB0cnVlYCB3aGVuIHRoZSBicm93c2VyIGlzIHJ1bm5pbmcgaW4gYSBNYWMgcGxhdGZvcm1cclxudmFyIG1hYyA9IG5hdmlnYXRvci5wbGF0Zm9ybS5pbmRleE9mKCdNYWMnKSA9PT0gMDtcclxuXHJcbi8vIEBwcm9wZXJ0eSBtYWM6IEJvb2xlYW47IGB0cnVlYCB3aGVuIHRoZSBicm93c2VyIGlzIHJ1bm5pbmcgaW4gYSBMaW51eCBwbGF0Zm9ybVxyXG52YXIgbGludXggPSBuYXZpZ2F0b3IucGxhdGZvcm0uaW5kZXhPZignTGludXgnKSA9PT0gMDtcclxuXHJcbmZ1bmN0aW9uIHVzZXJBZ2VudENvbnRhaW5zKHN0cikge1xyXG5cdHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzdHIpID49IDA7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcblx0aWU6IGllLFxyXG5cdGllbHQ5OiBpZWx0OSxcclxuXHRlZGdlOiBlZGdlLFxyXG5cdHdlYmtpdDogd2Via2l0LFxyXG5cdGFuZHJvaWQ6IGFuZHJvaWQsXHJcblx0YW5kcm9pZDIzOiBhbmRyb2lkMjMsXHJcblx0YW5kcm9pZFN0b2NrOiBhbmRyb2lkU3RvY2ssXHJcblx0b3BlcmE6IG9wZXJhLFxyXG5cdGNocm9tZTogY2hyb21lLFxyXG5cdGdlY2tvOiBnZWNrbyxcclxuXHRzYWZhcmk6IHNhZmFyaSxcclxuXHRwaGFudG9tOiBwaGFudG9tLFxyXG5cdG9wZXJhMTI6IG9wZXJhMTIsXHJcblx0d2luOiB3aW4sXHJcblx0aWUzZDogaWUzZCxcclxuXHR3ZWJraXQzZDogd2Via2l0M2QsXHJcblx0Z2Vja28zZDogZ2Vja28zZCxcclxuXHRhbnkzZDogYW55M2QsXHJcblx0bW9iaWxlOiBtb2JpbGUsXHJcblx0bW9iaWxlV2Via2l0OiBtb2JpbGVXZWJraXQsXHJcblx0bW9iaWxlV2Via2l0M2Q6IG1vYmlsZVdlYmtpdDNkLFxyXG5cdG1zUG9pbnRlcjogbXNQb2ludGVyLFxyXG5cdHBvaW50ZXI6IHBvaW50ZXIsXHJcblx0dG91Y2g6IHRvdWNoLFxyXG5cdHRvdWNoTmF0aXZlOiB0b3VjaE5hdGl2ZSxcclxuXHRtb2JpbGVPcGVyYTogbW9iaWxlT3BlcmEsXHJcblx0bW9iaWxlR2Vja286IG1vYmlsZUdlY2tvLFxyXG5cdHJldGluYTogcmV0aW5hLFxyXG5cdHBhc3NpdmVFdmVudHM6IHBhc3NpdmVFdmVudHMsXHJcblx0Y2FudmFzOiBjYW52YXMsXHJcblx0c3ZnOiBzdmcsXHJcblx0dm1sOiB2bWwsXHJcblx0aW5saW5lU3ZnOiBpbmxpbmVTdmcsXHJcblx0bWFjOiBtYWMsXHJcblx0bGludXg6IGxpbnV4XHJcbn07XHJcbiIsICJpbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuL0RvbUV2ZW50JztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL2NvcmUvQnJvd3Nlcic7XG5pbXBvcnQge2ZhbHNlRm59IGZyb20gJy4uL2NvcmUvVXRpbCc7XG5cbi8qXG4gKiBFeHRlbmRzIEwuRG9tRXZlbnQgdG8gcHJvdmlkZSB0b3VjaCBzdXBwb3J0IGZvciBJbnRlcm5ldCBFeHBsb3JlciBhbmQgV2luZG93cy1iYXNlZCBkZXZpY2VzLlxuICovXG5cbnZhciBQT0lOVEVSX0RPV04gPSAgIEJyb3dzZXIubXNQb2ludGVyID8gJ01TUG9pbnRlckRvd24nICAgOiAncG9pbnRlcmRvd24nO1xudmFyIFBPSU5URVJfTU9WRSA9ICAgQnJvd3Nlci5tc1BvaW50ZXIgPyAnTVNQb2ludGVyTW92ZScgICA6ICdwb2ludGVybW92ZSc7XG52YXIgUE9JTlRFUl9VUCA9ICAgICBCcm93c2VyLm1zUG9pbnRlciA/ICdNU1BvaW50ZXJVcCcgICAgIDogJ3BvaW50ZXJ1cCc7XG52YXIgUE9JTlRFUl9DQU5DRUwgPSBCcm93c2VyLm1zUG9pbnRlciA/ICdNU1BvaW50ZXJDYW5jZWwnIDogJ3BvaW50ZXJjYW5jZWwnO1xudmFyIHBFdmVudCA9IHtcblx0dG91Y2hzdGFydCAgOiBQT0lOVEVSX0RPV04sXG5cdHRvdWNobW92ZSAgIDogUE9JTlRFUl9NT1ZFLFxuXHR0b3VjaGVuZCAgICA6IFBPSU5URVJfVVAsXG5cdHRvdWNoY2FuY2VsIDogUE9JTlRFUl9DQU5DRUxcbn07XG52YXIgaGFuZGxlID0ge1xuXHR0b3VjaHN0YXJ0ICA6IF9vblBvaW50ZXJTdGFydCxcblx0dG91Y2htb3ZlICAgOiBfaGFuZGxlUG9pbnRlcixcblx0dG91Y2hlbmQgICAgOiBfaGFuZGxlUG9pbnRlcixcblx0dG91Y2hjYW5jZWwgOiBfaGFuZGxlUG9pbnRlclxufTtcbnZhciBfcG9pbnRlcnMgPSB7fTtcbnZhciBfcG9pbnRlckRvY0xpc3RlbmVyID0gZmFsc2U7XG5cbi8vIFByb3ZpZGVzIGEgdG91Y2ggZXZlbnRzIHdyYXBwZXIgZm9yIChtcylwb2ludGVyIGV2ZW50cy5cbi8vIHJlZiBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8gaHR0cHM6Ly93d3cudzMub3JnL0J1Z3MvUHVibGljL3Nob3dfYnVnLmNnaT9pZD0yMjg5MFxuXG5leHBvcnQgZnVuY3Rpb24gYWRkUG9pbnRlckxpc3RlbmVyKG9iaiwgdHlwZSwgaGFuZGxlcikge1xuXHRpZiAodHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG5cdFx0X2FkZFBvaW50ZXJEb2NMaXN0ZW5lcigpO1xuXHR9XG5cdGlmICghaGFuZGxlW3R5cGVdKSB7XG5cdFx0Y29uc29sZS53YXJuKCd3cm9uZyBldmVudCBzcGVjaWZpZWQ6JywgdHlwZSk7XG5cdFx0cmV0dXJuIGZhbHNlRm47XG5cdH1cblx0aGFuZGxlciA9IGhhbmRsZVt0eXBlXS5iaW5kKHRoaXMsIGhhbmRsZXIpO1xuXHRvYmouYWRkRXZlbnRMaXN0ZW5lcihwRXZlbnRbdHlwZV0sIGhhbmRsZXIsIGZhbHNlKTtcblx0cmV0dXJuIGhhbmRsZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQb2ludGVyTGlzdGVuZXIob2JqLCB0eXBlLCBoYW5kbGVyKSB7XG5cdGlmICghcEV2ZW50W3R5cGVdKSB7XG5cdFx0Y29uc29sZS53YXJuKCd3cm9uZyBldmVudCBzcGVjaWZpZWQ6JywgdHlwZSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdG9iai5yZW1vdmVFdmVudExpc3RlbmVyKHBFdmVudFt0eXBlXSwgaGFuZGxlciwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBfZ2xvYmFsUG9pbnRlckRvd24oZSkge1xuXHRfcG9pbnRlcnNbZS5wb2ludGVySWRdID0gZTtcbn1cblxuZnVuY3Rpb24gX2dsb2JhbFBvaW50ZXJNb3ZlKGUpIHtcblx0aWYgKF9wb2ludGVyc1tlLnBvaW50ZXJJZF0pIHtcblx0XHRfcG9pbnRlcnNbZS5wb2ludGVySWRdID0gZTtcblx0fVxufVxuXG5mdW5jdGlvbiBfZ2xvYmFsUG9pbnRlclVwKGUpIHtcblx0ZGVsZXRlIF9wb2ludGVyc1tlLnBvaW50ZXJJZF07XG59XG5cbmZ1bmN0aW9uIF9hZGRQb2ludGVyRG9jTGlzdGVuZXIoKSB7XG5cdC8vIG5lZWQgdG8ga2VlcCB0cmFjayBvZiB3aGF0IHBvaW50ZXJzIGFuZCBob3cgbWFueSBhcmUgYWN0aXZlIHRvIHByb3ZpZGUgZS50b3VjaGVzIGVtdWxhdGlvblxuXHRpZiAoIV9wb2ludGVyRG9jTGlzdGVuZXIpIHtcblx0XHQvLyB3ZSBsaXN0ZW4gZG9jdW1lbnQgYXMgYW55IGRyYWdzIHRoYXQgZW5kIGJ5IG1vdmluZyB0aGUgdG91Y2ggb2ZmIHRoZSBzY3JlZW4gZ2V0IGZpcmVkIHRoZXJlXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihQT0lOVEVSX0RPV04sIF9nbG9iYWxQb2ludGVyRG93biwgdHJ1ZSk7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihQT0lOVEVSX01PVkUsIF9nbG9iYWxQb2ludGVyTW92ZSwgdHJ1ZSk7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihQT0lOVEVSX1VQLCBfZ2xvYmFsUG9pbnRlclVwLCB0cnVlKTtcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFBPSU5URVJfQ0FOQ0VMLCBfZ2xvYmFsUG9pbnRlclVwLCB0cnVlKTtcblxuXHRcdF9wb2ludGVyRG9jTGlzdGVuZXIgPSB0cnVlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIF9oYW5kbGVQb2ludGVyKGhhbmRsZXIsIGUpIHtcblx0aWYgKGUucG9pbnRlclR5cGUgPT09IChlLk1TUE9JTlRFUl9UWVBFX01PVVNFIHx8ICdtb3VzZScpKSB7IHJldHVybjsgfVxuXG5cdGUudG91Y2hlcyA9IFtdO1xuXHRmb3IgKHZhciBpIGluIF9wb2ludGVycykge1xuXHRcdGUudG91Y2hlcy5wdXNoKF9wb2ludGVyc1tpXSk7XG5cdH1cblx0ZS5jaGFuZ2VkVG91Y2hlcyA9IFtlXTtcblxuXHRoYW5kbGVyKGUpO1xufVxuXG5mdW5jdGlvbiBfb25Qb2ludGVyU3RhcnQoaGFuZGxlciwgZSkge1xuXHQvLyBJRTEwIHNwZWNpZmljOiBNc1RvdWNoIG5lZWRzIHByZXZlbnREZWZhdWx0LiBTZWUgIzIwMDBcblx0aWYgKGUuTVNQT0lOVEVSX1RZUEVfVE9VQ0ggJiYgZS5wb2ludGVyVHlwZSA9PT0gZS5NU1BPSU5URVJfVFlQRV9UT1VDSCkge1xuXHRcdERvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuXHR9XG5cdF9oYW5kbGVQb2ludGVyKGhhbmRsZXIsIGUpO1xufVxuIiwgImltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4vRG9tRXZlbnQnO1xyXG5cclxuLypcclxuICogRXh0ZW5kcyB0aGUgZXZlbnQgaGFuZGxpbmcgY29kZSB3aXRoIGRvdWJsZSB0YXAgc3VwcG9ydCBmb3IgbW9iaWxlIGJyb3dzZXJzLlxyXG4gKlxyXG4gKiBOb3RlOiBjdXJyZW50bHkgbW9zdCBicm93c2VycyBmaXJlIG5hdGl2ZSBkYmxjbGljaywgd2l0aCBvbmx5IGEgZmV3IGV4Y2VwdGlvbnNcclxuICogKHNlZSBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy83MDEyI2lzc3VlY29tbWVudC01OTUwODczODYpXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWFrZURibGNsaWNrKGV2ZW50KSB7XHJcblx0Ly8gaW4gbW9kZXJuIGJyb3dzZXJzIGB0eXBlYCBjYW5ub3QgYmUganVzdCBvdmVycmlkZGVuOlxyXG5cdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0Vycm9ycy9HZXR0ZXJfb25seVxyXG5cdHZhciBuZXdFdmVudCA9IHt9LFxyXG5cdCAgICBwcm9wLCBpO1xyXG5cdGZvciAoaSBpbiBldmVudCkge1xyXG5cdFx0cHJvcCA9IGV2ZW50W2ldO1xyXG5cdFx0bmV3RXZlbnRbaV0gPSBwcm9wICYmIHByb3AuYmluZCA/IHByb3AuYmluZChldmVudCkgOiBwcm9wO1xyXG5cdH1cclxuXHRldmVudCA9IG5ld0V2ZW50O1xyXG5cdG5ld0V2ZW50LnR5cGUgPSAnZGJsY2xpY2snO1xyXG5cdG5ld0V2ZW50LmRldGFpbCA9IDI7XHJcblx0bmV3RXZlbnQuaXNUcnVzdGVkID0gZmFsc2U7XHJcblx0bmV3RXZlbnQuX3NpbXVsYXRlZCA9IHRydWU7IC8vIGZvciBkZWJ1ZyBwdXJwb3Nlc1xyXG5cdHJldHVybiBuZXdFdmVudDtcclxufVxyXG5cclxudmFyIGRlbGF5ID0gMjAwO1xyXG5leHBvcnQgZnVuY3Rpb24gYWRkRG91YmxlVGFwTGlzdGVuZXIob2JqLCBoYW5kbGVyKSB7XHJcblx0Ly8gTW9zdCBicm93c2VycyBoYW5kbGUgZG91YmxlIHRhcCBuYXRpdmVseVxyXG5cdG9iai5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGhhbmRsZXIpO1xyXG5cclxuXHQvLyBPbiBzb21lIHBsYXRmb3JtcyB0aGUgYnJvd3NlciBkb2Vzbid0IGZpcmUgbmF0aXZlIGRibGNsaWNrcyBmb3IgdG91Y2ggZXZlbnRzLlxyXG5cdC8vIEl0IHNlZW1zIHRoYXQgaW4gYWxsIHN1Y2ggY2FzZXMgYGRldGFpbGAgcHJvcGVydHkgb2YgYGNsaWNrYCBldmVudCBpcyBhbHdheXMgYDFgLlxyXG5cdC8vIFNvIGhlcmUgd2UgcmVseSBvbiB0aGF0IGZhY3QgdG8gYXZvaWQgZXhjZXNzaXZlICdkYmxjbGljaycgc2ltdWxhdGlvbiB3aGVuIG5vdCBuZWVkZWQuXHJcblx0dmFyIGxhc3QgPSAwLFxyXG5cdCAgICBkZXRhaWw7XHJcblx0ZnVuY3Rpb24gc2ltRGJsY2xpY2soZSkge1xyXG5cdFx0aWYgKGUuZGV0YWlsICE9PSAxKSB7XHJcblx0XHRcdGRldGFpbCA9IGUuZGV0YWlsOyAvLyBrZWVwIGluIHN5bmMgdG8gYXZvaWQgZmFsc2UgZGJsY2xpY2sgaW4gc29tZSBjYXNlc1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGUucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHxcclxuXHRcdFx0KGUuc291cmNlQ2FwYWJpbGl0aWVzICYmICFlLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFdoZW4gY2xpY2tpbmcgb24gYW4gPGlucHV0PiwgdGhlIGJyb3dzZXIgZ2VuZXJhdGVzIGEgY2xpY2sgb24gaXRzXHJcblx0XHQvLyA8bGFiZWw+IChhbmQgdmljZSB2ZXJzYSkgdHJpZ2dlcmluZyB0d28gY2xpY2tzIGluIHF1aWNrIHN1Y2Nlc3Npb24uXHJcblx0XHQvLyBUaGlzIGlnbm9yZXMgY2xpY2tzIG9uIGVsZW1lbnRzIHdoaWNoIGFyZSBhIGxhYmVsIHdpdGggYSAnZm9yJ1xyXG5cdFx0Ly8gYXR0cmlidXRlIChvciBjaGlsZHJlbiBvZiBzdWNoIGEgbGFiZWwpLCBidXQgbm90IGNoaWxkcmVuIG9mXHJcblx0XHQvLyBhIDxpbnB1dD4uXHJcblx0XHR2YXIgcGF0aCA9IERvbUV2ZW50LmdldFByb3BhZ2F0aW9uUGF0aChlKTtcclxuXHRcdGlmIChwYXRoLnNvbWUoZnVuY3Rpb24gKGVsKSB7XHJcblx0XHRcdHJldHVybiBlbCBpbnN0YW5jZW9mIEhUTUxMYWJlbEVsZW1lbnQgJiYgZWwuYXR0cmlidXRlcy5mb3I7XHJcblx0XHR9KSAmJlxyXG5cdFx0XHQhcGF0aC5zb21lKGZ1bmN0aW9uIChlbCkge1xyXG5cdFx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0XHRlbCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgfHxcclxuXHRcdFx0XHRcdGVsIGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnRcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9KVxyXG5cdFx0KSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuXHRcdGlmIChub3cgLSBsYXN0IDw9IGRlbGF5KSB7XHJcblx0XHRcdGRldGFpbCsrO1xyXG5cdFx0XHRpZiAoZGV0YWlsID09PSAyKSB7XHJcblx0XHRcdFx0aGFuZGxlcihtYWtlRGJsY2xpY2soZSkpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkZXRhaWwgPSAxO1xyXG5cdFx0fVxyXG5cdFx0bGFzdCA9IG5vdztcclxuXHR9XHJcblxyXG5cdG9iai5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNpbURibGNsaWNrKTtcclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdGRibGNsaWNrOiBoYW5kbGVyLFxyXG5cdFx0c2ltRGJsY2xpY2s6IHNpbURibGNsaWNrXHJcblx0fTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURvdWJsZVRhcExpc3RlbmVyKG9iaiwgaGFuZGxlcnMpIHtcclxuXHRvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBoYW5kbGVycy5kYmxjbGljayk7XHJcblx0b2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlcnMuc2ltRGJsY2xpY2spO1xyXG59XHJcbiIsICJpbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuL0RvbUV2ZW50JztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XHJcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL2NvcmUvQnJvd3Nlcic7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIERvbVV0aWxcclxuICpcclxuICogVXRpbGl0eSBmdW5jdGlvbnMgdG8gd29yayB3aXRoIHRoZSBbRE9NXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvRG9jdW1lbnRfT2JqZWN0X01vZGVsKVxyXG4gKiB0cmVlLCB1c2VkIGJ5IExlYWZsZXQgaW50ZXJuYWxseS5cclxuICpcclxuICogTW9zdCBmdW5jdGlvbnMgZXhwZWN0aW5nIG9yIHJldHVybmluZyBhIGBIVE1MRWxlbWVudGAgYWxzbyB3b3JrIGZvclxyXG4gKiBTVkcgZWxlbWVudHMuIFRoZSBvbmx5IGRpZmZlcmVuY2UgaXMgdGhhdCBjbGFzc2VzIHJlZmVyIHRvIENTUyBjbGFzc2VzXHJcbiAqIGluIEhUTUwgYW5kIFNWRyBjbGFzc2VzIGluIFNWRy5cclxuICovXHJcblxyXG5cclxuLy8gQHByb3BlcnR5IFRSQU5TRk9STTogU3RyaW5nXHJcbi8vIFZlbmRvci1wcmVmaXhlZCB0cmFuc2Zvcm0gc3R5bGUgbmFtZSAoZS5nLiBgJ3dlYmtpdFRyYW5zZm9ybSdgIGZvciBXZWJLaXQpLlxyXG5leHBvcnQgdmFyIFRSQU5TRk9STSA9IHRlc3RQcm9wKFxyXG5cdFsndHJhbnNmb3JtJywgJ3dlYmtpdFRyYW5zZm9ybScsICdPVHJhbnNmb3JtJywgJ01velRyYW5zZm9ybScsICdtc1RyYW5zZm9ybSddKTtcclxuXHJcbi8vIHdlYmtpdFRyYW5zaXRpb24gY29tZXMgZmlyc3QgYmVjYXVzZSBzb21lIGJyb3dzZXIgdmVyc2lvbnMgdGhhdCBkcm9wIHZlbmRvciBwcmVmaXggZG9uJ3QgZG9cclxuLy8gdGhlIHNhbWUgZm9yIHRoZSB0cmFuc2l0aW9uZW5kIGV2ZW50LCBpbiBwYXJ0aWN1bGFyIHRoZSBBbmRyb2lkIDQuMSBzdG9jayBicm93c2VyXHJcblxyXG4vLyBAcHJvcGVydHkgVFJBTlNJVElPTjogU3RyaW5nXHJcbi8vIFZlbmRvci1wcmVmaXhlZCB0cmFuc2l0aW9uIHN0eWxlIG5hbWUuXHJcbmV4cG9ydCB2YXIgVFJBTlNJVElPTiA9IHRlc3RQcm9wKFxyXG5cdFsnd2Via2l0VHJhbnNpdGlvbicsICd0cmFuc2l0aW9uJywgJ09UcmFuc2l0aW9uJywgJ01velRyYW5zaXRpb24nLCAnbXNUcmFuc2l0aW9uJ10pO1xyXG5cclxuLy8gQHByb3BlcnR5IFRSQU5TSVRJT05fRU5EOiBTdHJpbmdcclxuLy8gVmVuZG9yLXByZWZpeGVkIHRyYW5zaXRpb25lbmQgZXZlbnQgbmFtZS5cclxuZXhwb3J0IHZhciBUUkFOU0lUSU9OX0VORCA9XHJcblx0VFJBTlNJVElPTiA9PT0gJ3dlYmtpdFRyYW5zaXRpb24nIHx8IFRSQU5TSVRJT04gPT09ICdPVHJhbnNpdGlvbicgPyBUUkFOU0lUSU9OICsgJ0VuZCcgOiAndHJhbnNpdGlvbmVuZCc7XHJcblxyXG5cclxuLy8gQGZ1bmN0aW9uIGdldChpZDogU3RyaW5nfEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuLy8gUmV0dXJucyBhbiBlbGVtZW50IGdpdmVuIGl0cyBET00gaWQsIG9yIHJldHVybnMgdGhlIGVsZW1lbnQgaXRzZWxmXHJcbi8vIGlmIGl0IHdhcyBwYXNzZWQgZGlyZWN0bHkuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXQoaWQpIHtcclxuXHRyZXR1cm4gdHlwZW9mIGlkID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSA6IGlkO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZ2V0U3R5bGUoZWw6IEhUTUxFbGVtZW50LCBzdHlsZUF0dHJpYjogU3RyaW5nKTogU3RyaW5nXHJcbi8vIFJldHVybnMgdGhlIHZhbHVlIGZvciBhIGNlcnRhaW4gc3R5bGUgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQsXHJcbi8vIGluY2x1ZGluZyBjb21wdXRlZCB2YWx1ZXMgb3IgdmFsdWVzIHNldCB0aHJvdWdoIENTUy5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlKGVsLCBzdHlsZSkge1xyXG5cdHZhciB2YWx1ZSA9IGVsLnN0eWxlW3N0eWxlXSB8fCAoZWwuY3VycmVudFN0eWxlICYmIGVsLmN1cnJlbnRTdHlsZVtzdHlsZV0pO1xyXG5cclxuXHRpZiAoKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJ2F1dG8nKSAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldykge1xyXG5cdFx0dmFyIGNzcyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xyXG5cdFx0dmFsdWUgPSBjc3MgPyBjc3Nbc3R5bGVdIDogbnVsbDtcclxuXHR9XHJcblx0cmV0dXJuIHZhbHVlID09PSAnYXV0bycgPyBudWxsIDogdmFsdWU7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBjcmVhdGUodGFnTmFtZTogU3RyaW5nLCBjbGFzc05hbWU/OiBTdHJpbmcsIGNvbnRhaW5lcj86IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuLy8gQ3JlYXRlcyBhbiBIVE1MIGVsZW1lbnQgd2l0aCBgdGFnTmFtZWAsIHNldHMgaXRzIGNsYXNzIHRvIGBjbGFzc05hbWVgLCBhbmQgb3B0aW9uYWxseSBhcHBlbmRzIGl0IHRvIGBjb250YWluZXJgIGVsZW1lbnQuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUodGFnTmFtZSwgY2xhc3NOYW1lLCBjb250YWluZXIpIHtcclxuXHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xyXG5cdGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZSB8fCAnJztcclxuXHJcblx0aWYgKGNvbnRhaW5lcikge1xyXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcclxuXHR9XHJcblx0cmV0dXJuIGVsO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gcmVtb3ZlKGVsOiBIVE1MRWxlbWVudClcclxuLy8gUmVtb3ZlcyBgZWxgIGZyb20gaXRzIHBhcmVudCBlbGVtZW50XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoZWwpIHtcclxuXHR2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcclxuXHRpZiAocGFyZW50KSB7XHJcblx0XHRwYXJlbnQucmVtb3ZlQ2hpbGQoZWwpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGVtcHR5KGVsOiBIVE1MRWxlbWVudClcclxuLy8gUmVtb3ZlcyBhbGwgb2YgYGVsYCdzIGNoaWxkcmVuIGVsZW1lbnRzIGZyb20gYGVsYFxyXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoZWwpIHtcclxuXHR3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xyXG5cdFx0ZWwucmVtb3ZlQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gdG9Gcm9udChlbDogSFRNTEVsZW1lbnQpXHJcbi8vIE1ha2VzIGBlbGAgdGhlIGxhc3QgY2hpbGQgb2YgaXRzIHBhcmVudCwgc28gaXQgcmVuZGVycyBpbiBmcm9udCBvZiB0aGUgb3RoZXIgY2hpbGRyZW4uXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0Zyb250KGVsKSB7XHJcblx0dmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XHJcblx0aWYgKHBhcmVudCAmJiBwYXJlbnQubGFzdENoaWxkICE9PSBlbCkge1xyXG5cdFx0cGFyZW50LmFwcGVuZENoaWxkKGVsKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiB0b0JhY2soZWw6IEhUTUxFbGVtZW50KVxyXG4vLyBNYWtlcyBgZWxgIHRoZSBmaXJzdCBjaGlsZCBvZiBpdHMgcGFyZW50LCBzbyBpdCByZW5kZXJzIGJlaGluZCB0aGUgb3RoZXIgY2hpbGRyZW4uXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0JhY2soZWwpIHtcclxuXHR2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcclxuXHRpZiAocGFyZW50ICYmIHBhcmVudC5maXJzdENoaWxkICE9PSBlbCkge1xyXG5cdFx0cGFyZW50Lmluc2VydEJlZm9yZShlbCwgcGFyZW50LmZpcnN0Q2hpbGQpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGhhc0NsYXNzKGVsOiBIVE1MRWxlbWVudCwgbmFtZTogU3RyaW5nKTogQm9vbGVhblxyXG4vLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZWxlbWVudCdzIGNsYXNzIGF0dHJpYnV0ZSBjb250YWlucyBgbmFtZWAuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNDbGFzcyhlbCwgbmFtZSkge1xyXG5cdGlmIChlbC5jbGFzc0xpc3QgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucyhuYW1lKTtcclxuXHR9XHJcblx0dmFyIGNsYXNzTmFtZSA9IGdldENsYXNzKGVsKTtcclxuXHRyZXR1cm4gY2xhc3NOYW1lLmxlbmd0aCA+IDAgJiYgbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIG5hbWUgKyAnKFxcXFxzfCQpJykudGVzdChjbGFzc05hbWUpO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gYWRkQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBuYW1lOiBTdHJpbmcpXHJcbi8vIEFkZHMgYG5hbWVgIHRvIHRoZSBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlLlxyXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIG5hbWUpIHtcclxuXHRpZiAoZWwuY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdHZhciBjbGFzc2VzID0gVXRpbC5zcGxpdFdvcmRzKG5hbWUpO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0ZWwuY2xhc3NMaXN0LmFkZChjbGFzc2VzW2ldKTtcclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKCFoYXNDbGFzcyhlbCwgbmFtZSkpIHtcclxuXHRcdHZhciBjbGFzc05hbWUgPSBnZXRDbGFzcyhlbCk7XHJcblx0XHRzZXRDbGFzcyhlbCwgKGNsYXNzTmFtZSA/IGNsYXNzTmFtZSArICcgJyA6ICcnKSArIG5hbWUpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsOiBIVE1MRWxlbWVudCwgbmFtZTogU3RyaW5nKVxyXG4vLyBSZW1vdmVzIGBuYW1lYCBmcm9tIHRoZSBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlLlxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIG5hbWUpIHtcclxuXHRpZiAoZWwuY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUobmFtZSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHNldENsYXNzKGVsLCBVdGlsLnRyaW0oKCcgJyArIGdldENsYXNzKGVsKSArICcgJykucmVwbGFjZSgnICcgKyBuYW1lICsgJyAnLCAnICcpKSk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gc2V0Q2xhc3MoZWw6IEhUTUxFbGVtZW50LCBuYW1lOiBTdHJpbmcpXHJcbi8vIFNldHMgdGhlIGVsZW1lbnQncyBjbGFzcy5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldENsYXNzKGVsLCBuYW1lKSB7XHJcblx0aWYgKGVsLmNsYXNzTmFtZS5iYXNlVmFsID09PSB1bmRlZmluZWQpIHtcclxuXHRcdGVsLmNsYXNzTmFtZSA9IG5hbWU7XHJcblx0fSBlbHNlIHtcclxuXHRcdC8vIGluIGNhc2Ugb2YgU1ZHIGVsZW1lbnRcclxuXHRcdGVsLmNsYXNzTmFtZS5iYXNlVmFsID0gbmFtZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRDbGFzcyhlbDogSFRNTEVsZW1lbnQpOiBTdHJpbmdcclxuLy8gUmV0dXJucyB0aGUgZWxlbWVudCdzIGNsYXNzLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3MoZWwpIHtcclxuXHQvLyBDaGVjayBpZiB0aGUgZWxlbWVudCBpcyBhbiBTVkdFbGVtZW50SW5zdGFuY2UgYW5kIHVzZSB0aGUgY29ycmVzcG9uZGluZ0VsZW1lbnQgaW5zdGVhZFxyXG5cdC8vIChSZXF1aXJlZCBmb3IgbGlua2VkIFNWRyBlbGVtZW50cyBpbiBJRTExLilcclxuXHRpZiAoZWwuY29ycmVzcG9uZGluZ0VsZW1lbnQpIHtcclxuXHRcdGVsID0gZWwuY29ycmVzcG9uZGluZ0VsZW1lbnQ7XHJcblx0fVxyXG5cdHJldHVybiBlbC5jbGFzc05hbWUuYmFzZVZhbCA9PT0gdW5kZWZpbmVkID8gZWwuY2xhc3NOYW1lIDogZWwuY2xhc3NOYW1lLmJhc2VWYWw7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBzZXRPcGFjaXR5KGVsOiBIVE1MRWxlbWVudCwgb3BhY2l0eTogTnVtYmVyKVxyXG4vLyBTZXQgdGhlIG9wYWNpdHkgb2YgYW4gZWxlbWVudCAoaW5jbHVkaW5nIG9sZCBJRSBzdXBwb3J0KS5cclxuLy8gYG9wYWNpdHlgIG11c3QgYmUgYSBudW1iZXIgZnJvbSBgMGAgdG8gYDFgLlxyXG5leHBvcnQgZnVuY3Rpb24gc2V0T3BhY2l0eShlbCwgdmFsdWUpIHtcclxuXHRpZiAoJ29wYWNpdHknIGluIGVsLnN0eWxlKSB7XHJcblx0XHRlbC5zdHlsZS5vcGFjaXR5ID0gdmFsdWU7XHJcblx0fSBlbHNlIGlmICgnZmlsdGVyJyBpbiBlbC5zdHlsZSkge1xyXG5cdFx0X3NldE9wYWNpdHlJRShlbCwgdmFsdWUpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gX3NldE9wYWNpdHlJRShlbCwgdmFsdWUpIHtcclxuXHR2YXIgZmlsdGVyID0gZmFsc2UsXHJcblx0ICAgIGZpbHRlck5hbWUgPSAnRFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEnO1xyXG5cclxuXHQvLyBmaWx0ZXJzIGNvbGxlY3Rpb24gdGhyb3dzIGFuIGVycm9yIGlmIHdlIHRyeSB0byByZXRyaWV2ZSBhIGZpbHRlciB0aGF0IGRvZXNuJ3QgZXhpc3RcclxuXHR0cnkge1xyXG5cdFx0ZmlsdGVyID0gZWwuZmlsdGVycy5pdGVtKGZpbHRlck5hbWUpO1xyXG5cdH0gY2F0Y2ggKGUpIHtcclxuXHRcdC8vIGRvbid0IHNldCBvcGFjaXR5IHRvIDEgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5IHNldCBhbiBvcGFjaXR5LFxyXG5cdFx0Ly8gaXQgaXNuJ3QgbmVlZGVkIGFuZCBicmVha3MgdHJhbnNwYXJlbnQgcG5ncy5cclxuXHRcdGlmICh2YWx1ZSA9PT0gMSkgeyByZXR1cm47IH1cclxuXHR9XHJcblxyXG5cdHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMCk7XHJcblxyXG5cdGlmIChmaWx0ZXIpIHtcclxuXHRcdGZpbHRlci5FbmFibGVkID0gKHZhbHVlICE9PSAxMDApO1xyXG5cdFx0ZmlsdGVyLk9wYWNpdHkgPSB2YWx1ZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZWwuc3R5bGUuZmlsdGVyICs9ICcgcHJvZ2lkOicgKyBmaWx0ZXJOYW1lICsgJyhvcGFjaXR5PScgKyB2YWx1ZSArICcpJztcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiB0ZXN0UHJvcChwcm9wczogU3RyaW5nW10pOiBTdHJpbmd8ZmFsc2VcclxuLy8gR29lcyB0aHJvdWdoIHRoZSBhcnJheSBvZiBzdHlsZSBuYW1lcyBhbmQgcmV0dXJucyB0aGUgZmlyc3QgbmFtZVxyXG4vLyB0aGF0IGlzIGEgdmFsaWQgc3R5bGUgbmFtZSBmb3IgYW4gZWxlbWVudC4gSWYgbm8gc3VjaCBuYW1lIGlzIGZvdW5kLFxyXG4vLyBpdCByZXR1cm5zIGZhbHNlLiBVc2VmdWwgZm9yIHZlbmRvci1wcmVmaXhlZCBzdHlsZXMgbGlrZSBgdHJhbnNmb3JtYC5cclxuZXhwb3J0IGZ1bmN0aW9uIHRlc3RQcm9wKHByb3BzKSB7XHJcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAocHJvcHNbaV0gaW4gc3R5bGUpIHtcclxuXHRcdFx0cmV0dXJuIHByb3BzW2ldO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oZWw6IEhUTUxFbGVtZW50LCBvZmZzZXQ6IFBvaW50LCBzY2FsZT86IE51bWJlcilcclxuLy8gUmVzZXRzIHRoZSAzRCBDU1MgdHJhbnNmb3JtIG9mIGBlbGAgc28gaXQgaXMgdHJhbnNsYXRlZCBieSBgb2Zmc2V0YCBwaXhlbHNcclxuLy8gYW5kIG9wdGlvbmFsbHkgc2NhbGVkIGJ5IGBzY2FsZWAuIERvZXMgbm90IGhhdmUgYW4gZWZmZWN0IGlmIHRoZVxyXG4vLyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCAzRCBDU1MgdHJhbnNmb3Jtcy5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFRyYW5zZm9ybShlbCwgb2Zmc2V0LCBzY2FsZSkge1xyXG5cdHZhciBwb3MgPSBvZmZzZXQgfHwgbmV3IFBvaW50KDAsIDApO1xyXG5cclxuXHRlbC5zdHlsZVtUUkFOU0ZPUk1dID1cclxuXHRcdChCcm93c2VyLmllM2QgP1xyXG5cdFx0XHQndHJhbnNsYXRlKCcgKyBwb3MueCArICdweCwnICsgcG9zLnkgKyAncHgpJyA6XHJcblx0XHRcdCd0cmFuc2xhdGUzZCgnICsgcG9zLnggKyAncHgsJyArIHBvcy55ICsgJ3B4LDApJykgK1xyXG5cdFx0KHNjYWxlID8gJyBzY2FsZSgnICsgc2NhbGUgKyAnKScgOiAnJyk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBzZXRQb3NpdGlvbihlbDogSFRNTEVsZW1lbnQsIHBvc2l0aW9uOiBQb2ludClcclxuLy8gU2V0cyB0aGUgcG9zaXRpb24gb2YgYGVsYCB0byBjb29yZGluYXRlcyBzcGVjaWZpZWQgYnkgYHBvc2l0aW9uYCxcclxuLy8gdXNpbmcgQ1NTIHRyYW5zbGF0ZSBvciB0b3AvbGVmdCBwb3NpdGlvbmluZyBkZXBlbmRpbmcgb24gdGhlIGJyb3dzZXJcclxuLy8gKHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5IHRvIHBvc2l0aW9uIGl0cyBsYXllcnMpLlxyXG5leHBvcnQgZnVuY3Rpb24gc2V0UG9zaXRpb24oZWwsIHBvaW50KSB7XHJcblxyXG5cdC8qZXNsaW50LWRpc2FibGUgKi9cclxuXHRlbC5fbGVhZmxldF9wb3MgPSBwb2ludDtcclxuXHQvKiBlc2xpbnQtZW5hYmxlICovXHJcblxyXG5cdGlmIChCcm93c2VyLmFueTNkKSB7XHJcblx0XHRzZXRUcmFuc2Zvcm0oZWwsIHBvaW50KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZWwuc3R5bGUubGVmdCA9IHBvaW50LnggKyAncHgnO1xyXG5cdFx0ZWwuc3R5bGUudG9wID0gcG9pbnQueSArICdweCc7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZ2V0UG9zaXRpb24oZWw6IEhUTUxFbGVtZW50KTogUG9pbnRcclxuLy8gUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgb2YgYW4gZWxlbWVudCBwcmV2aW91c2x5IHBvc2l0aW9uZWQgd2l0aCBzZXRQb3NpdGlvbi5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc2l0aW9uKGVsKSB7XHJcblx0Ly8gdGhpcyBtZXRob2QgaXMgb25seSB1c2VkIGZvciBlbGVtZW50cyBwcmV2aW91c2x5IHBvc2l0aW9uZWQgdXNpbmcgc2V0UG9zaXRpb24sXHJcblx0Ly8gc28gaXQncyBzYWZlIHRvIGNhY2hlIHRoZSBwb3NpdGlvbiBmb3IgcGVyZm9ybWFuY2VcclxuXHJcblx0cmV0dXJuIGVsLl9sZWFmbGV0X3BvcyB8fCBuZXcgUG9pbnQoMCwgMCk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBkaXNhYmxlVGV4dFNlbGVjdGlvbigpXHJcbi8vIFByZXZlbnRzIHRoZSB1c2VyIGZyb20gZ2VuZXJhdGluZyBgc2VsZWN0c3RhcnRgIERPTSBldmVudHMsIHVzdWFsbHkgZ2VuZXJhdGVkXHJcbi8vIHdoZW4gdGhlIHVzZXIgZHJhZ3MgdGhlIG1vdXNlIHRocm91Z2ggYSBwYWdlIHdpdGggdGV4dC4gVXNlZCBpbnRlcm5hbGx5XHJcbi8vIGJ5IExlYWZsZXQgdG8gb3ZlcnJpZGUgdGhlIGJlaGF2aW91ciBvZiBhbnkgY2xpY2stYW5kLWRyYWcgaW50ZXJhY3Rpb24gb25cclxuLy8gdGhlIG1hcC4gQWZmZWN0cyBkcmFnIGludGVyYWN0aW9ucyBvbiB0aGUgd2hvbGUgZG9jdW1lbnQuXHJcblxyXG4vLyBAZnVuY3Rpb24gZW5hYmxlVGV4dFNlbGVjdGlvbigpXHJcbi8vIENhbmNlbHMgdGhlIGVmZmVjdHMgb2YgYSBwcmV2aW91cyBbYEwuRG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbmBdKCNkb211dGlsLWRpc2FibGV0ZXh0c2VsZWN0aW9uKS5cclxuZXhwb3J0IHZhciBkaXNhYmxlVGV4dFNlbGVjdGlvbjtcclxuZXhwb3J0IHZhciBlbmFibGVUZXh0U2VsZWN0aW9uO1xyXG52YXIgX3VzZXJTZWxlY3Q7XHJcbmlmICgnb25zZWxlY3RzdGFydCcgaW4gZG9jdW1lbnQpIHtcclxuXHRkaXNhYmxlVGV4dFNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdERvbUV2ZW50Lm9uKHdpbmRvdywgJ3NlbGVjdHN0YXJ0JywgRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xyXG5cdH07XHJcblx0ZW5hYmxlVGV4dFNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdERvbUV2ZW50Lm9mZih3aW5kb3csICdzZWxlY3RzdGFydCcsIERvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcclxuXHR9O1xyXG59IGVsc2Uge1xyXG5cdHZhciB1c2VyU2VsZWN0UHJvcGVydHkgPSB0ZXN0UHJvcChcclxuXHRcdFsndXNlclNlbGVjdCcsICdXZWJraXRVc2VyU2VsZWN0JywgJ09Vc2VyU2VsZWN0JywgJ01velVzZXJTZWxlY3QnLCAnbXNVc2VyU2VsZWN0J10pO1xyXG5cclxuXHRkaXNhYmxlVGV4dFNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh1c2VyU2VsZWN0UHJvcGVydHkpIHtcclxuXHRcdFx0dmFyIHN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xyXG5cdFx0XHRfdXNlclNlbGVjdCA9IHN0eWxlW3VzZXJTZWxlY3RQcm9wZXJ0eV07XHJcblx0XHRcdHN0eWxlW3VzZXJTZWxlY3RQcm9wZXJ0eV0gPSAnbm9uZSc7XHJcblx0XHR9XHJcblx0fTtcclxuXHRlbmFibGVUZXh0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHVzZXJTZWxlY3RQcm9wZXJ0eSkge1xyXG5cdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGVbdXNlclNlbGVjdFByb3BlcnR5XSA9IF91c2VyU2VsZWN0O1xyXG5cdFx0XHRfdXNlclNlbGVjdCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZGlzYWJsZUltYWdlRHJhZygpXHJcbi8vIEFzIFtgTC5Eb21VdGlsLmRpc2FibGVUZXh0U2VsZWN0aW9uYF0oI2RvbXV0aWwtZGlzYWJsZXRleHRzZWxlY3Rpb24pLCBidXRcclxuLy8gZm9yIGBkcmFnc3RhcnRgIERPTSBldmVudHMsIHVzdWFsbHkgZ2VuZXJhdGVkIHdoZW4gdGhlIHVzZXIgZHJhZ3MgYW4gaW1hZ2UuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlSW1hZ2VEcmFnKCkge1xyXG5cdERvbUV2ZW50Lm9uKHdpbmRvdywgJ2RyYWdzdGFydCcsIERvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGVuYWJsZUltYWdlRHJhZygpXHJcbi8vIENhbmNlbHMgdGhlIGVmZmVjdHMgb2YgYSBwcmV2aW91cyBbYEwuRG9tVXRpbC5kaXNhYmxlSW1hZ2VEcmFnYF0oI2RvbXV0aWwtZGlzYWJsZXRleHRzZWxlY3Rpb24pLlxyXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlSW1hZ2VEcmFnKCkge1xyXG5cdERvbUV2ZW50Lm9mZih3aW5kb3csICdkcmFnc3RhcnQnLCBEb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7XHJcbn1cclxuXHJcbnZhciBfb3V0bGluZUVsZW1lbnQsIF9vdXRsaW5lU3R5bGU7XHJcbi8vIEBmdW5jdGlvbiBwcmV2ZW50T3V0bGluZShlbDogSFRNTEVsZW1lbnQpXHJcbi8vIE1ha2VzIHRoZSBbb3V0bGluZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQ1NTL291dGxpbmUpXHJcbi8vIG9mIHRoZSBlbGVtZW50IGBlbGAgaW52aXNpYmxlLiBVc2VkIGludGVybmFsbHkgYnkgTGVhZmxldCB0byBwcmV2ZW50XHJcbi8vIGZvY3VzYWJsZSBlbGVtZW50cyBmcm9tIGRpc3BsYXlpbmcgYW4gb3V0bGluZSB3aGVuIHRoZSB1c2VyIHBlcmZvcm1zIGFcclxuLy8gZHJhZyBpbnRlcmFjdGlvbiBvbiB0aGVtLlxyXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudE91dGxpbmUoZWxlbWVudCkge1xyXG5cdHdoaWxlIChlbGVtZW50LnRhYkluZGV4ID09PSAtMSkge1xyXG5cdFx0ZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuXHR9XHJcblx0aWYgKCFlbGVtZW50LnN0eWxlKSB7IHJldHVybjsgfVxyXG5cdHJlc3RvcmVPdXRsaW5lKCk7XHJcblx0X291dGxpbmVFbGVtZW50ID0gZWxlbWVudDtcclxuXHRfb3V0bGluZVN0eWxlID0gZWxlbWVudC5zdHlsZS5vdXRsaW5lU3R5bGU7XHJcblx0ZWxlbWVudC5zdHlsZS5vdXRsaW5lU3R5bGUgPSAnbm9uZSc7XHJcblx0RG9tRXZlbnQub24od2luZG93LCAna2V5ZG93bicsIHJlc3RvcmVPdXRsaW5lKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHJlc3RvcmVPdXRsaW5lKClcclxuLy8gQ2FuY2VscyB0aGUgZWZmZWN0cyBvZiBhIHByZXZpb3VzIFtgTC5Eb21VdGlsLnByZXZlbnRPdXRsaW5lYF0oKS5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVPdXRsaW5lKCkge1xyXG5cdGlmICghX291dGxpbmVFbGVtZW50KSB7IHJldHVybjsgfVxyXG5cdF9vdXRsaW5lRWxlbWVudC5zdHlsZS5vdXRsaW5lU3R5bGUgPSBfb3V0bGluZVN0eWxlO1xyXG5cdF9vdXRsaW5lRWxlbWVudCA9IHVuZGVmaW5lZDtcclxuXHRfb3V0bGluZVN0eWxlID0gdW5kZWZpbmVkO1xyXG5cdERvbUV2ZW50Lm9mZih3aW5kb3csICdrZXlkb3duJywgcmVzdG9yZU91dGxpbmUpO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZ2V0U2l6ZWRQYXJlbnROb2RlKGVsOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50XHJcbi8vIEZpbmRzIHRoZSBjbG9zZXN0IHBhcmVudCBub2RlIHdoaWNoIHNpemUgKHdpZHRoIGFuZCBoZWlnaHQpIGlzIG5vdCBudWxsLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZWRQYXJlbnROb2RlKGVsZW1lbnQpIHtcclxuXHRkbyB7XHJcblx0XHRlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG5cdH0gd2hpbGUgKCghZWxlbWVudC5vZmZzZXRXaWR0aCB8fCAhZWxlbWVudC5vZmZzZXRIZWlnaHQpICYmIGVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpO1xyXG5cdHJldHVybiBlbGVtZW50O1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZ2V0U2NhbGUoZWw6IEhUTUxFbGVtZW50KTogT2JqZWN0XHJcbi8vIENvbXB1dGVzIHRoZSBDU1Mgc2NhbGUgY3VycmVudGx5IGFwcGxpZWQgb24gdGhlIGVsZW1lbnQuXHJcbi8vIFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHhgIGFuZCBgeWAgbWVtYmVycyBhcyBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBzY2FsZXMgcmVzcGVjdGl2ZWx5LFxyXG4vLyBhbmQgYGJvdW5kaW5nQ2xpZW50UmVjdGAgYXMgdGhlIHJlc3VsdCBvZiBbYGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvZ2V0Qm91bmRpbmdDbGllbnRSZWN0KS5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxlKGVsZW1lbnQpIHtcclxuXHR2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIFJlYWQtb25seSBpbiBvbGQgYnJvd3NlcnMuXHJcblxyXG5cdHJldHVybiB7XHJcblx0XHR4OiByZWN0LndpZHRoIC8gZWxlbWVudC5vZmZzZXRXaWR0aCB8fCAxLFxyXG5cdFx0eTogcmVjdC5oZWlnaHQgLyBlbGVtZW50Lm9mZnNldEhlaWdodCB8fCAxLFxyXG5cdFx0Ym91bmRpbmdDbGllbnRSZWN0OiByZWN0XHJcblx0fTtcclxufVxyXG4iLCAiaW1wb3J0IHtQb2ludH0gZnJvbSAnLi4vZ2VvbWV0cnkvUG9pbnQnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL2NvcmUvQnJvd3Nlcic7XHJcbmltcG9ydCB7YWRkUG9pbnRlckxpc3RlbmVyLCByZW1vdmVQb2ludGVyTGlzdGVuZXJ9IGZyb20gJy4vRG9tRXZlbnQuUG9pbnRlcic7XHJcbmltcG9ydCB7YWRkRG91YmxlVGFwTGlzdGVuZXIsIHJlbW92ZURvdWJsZVRhcExpc3RlbmVyfSBmcm9tICcuL0RvbUV2ZW50LkRvdWJsZVRhcCc7XHJcbmltcG9ydCB7Z2V0U2NhbGV9IGZyb20gJy4vRG9tVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIERvbUV2ZW50XHJcbiAqIFV0aWxpdHkgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aCB0aGUgW0RPTSBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9FdmVudCksIHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5LlxyXG4gKi9cclxuXHJcbi8vIEluc3BpcmVkIGJ5IEpvaG4gUmVzaWcsIERlYW4gRWR3YXJkcyBhbmQgWVVJIGFkZEV2ZW50IGltcGxlbWVudGF0aW9ucy5cclxuXHJcbi8vIEBmdW5jdGlvbiBvbihlbDogSFRNTEVsZW1lbnQsIHR5cGVzOiBTdHJpbmcsIGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuLy8gQWRkcyBhIGxpc3RlbmVyIGZ1bmN0aW9uIChgZm5gKSB0byBhIHBhcnRpY3VsYXIgRE9NIGV2ZW50IHR5cGUgb2YgdGhlXHJcbi8vIGVsZW1lbnQgYGVsYC4gWW91IGNhbiBvcHRpb25hbGx5IHNwZWNpZnkgdGhlIGNvbnRleHQgb2YgdGhlIGxpc3RlbmVyXHJcbi8vIChvYmplY3QgdGhlIGB0aGlzYCBrZXl3b3JkIHdpbGwgcG9pbnQgdG8pLiBZb3UgY2FuIGFsc28gcGFzcyBzZXZlcmFsXHJcbi8vIHNwYWNlLXNlcGFyYXRlZCB0eXBlcyAoZS5nLiBgJ2NsaWNrIGRibGNsaWNrJ2ApLlxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmdW5jdGlvbiBvbihlbDogSFRNTEVsZW1lbnQsIGV2ZW50TWFwOiBPYmplY3QsIGNvbnRleHQ/OiBPYmplY3QpOiB0aGlzXHJcbi8vIEFkZHMgYSBzZXQgb2YgdHlwZS9saXN0ZW5lciBwYWlycywgZS5nLiBge2NsaWNrOiBvbkNsaWNrLCBtb3VzZW1vdmU6IG9uTW91c2VNb3ZlfWBcclxuZXhwb3J0IGZ1bmN0aW9uIG9uKG9iaiwgdHlwZXMsIGZuLCBjb250ZXh0KSB7XHJcblxyXG5cdGlmICh0eXBlcyAmJiB0eXBlb2YgdHlwZXMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRmb3IgKHZhciB0eXBlIGluIHR5cGVzKSB7XHJcblx0XHRcdGFkZE9uZShvYmosIHR5cGUsIHR5cGVzW3R5cGVdLCBmbik7XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdHR5cGVzID0gVXRpbC5zcGxpdFdvcmRzKHR5cGVzKTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0YWRkT25lKG9iaiwgdHlwZXNbaV0sIGZuLCBjb250ZXh0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB0aGlzO1xyXG59XHJcblxyXG52YXIgZXZlbnRzS2V5ID0gJ19sZWFmbGV0X2V2ZW50cyc7XHJcblxyXG4vLyBAZnVuY3Rpb24gb2ZmKGVsOiBIVE1MRWxlbWVudCwgdHlwZXM6IFN0cmluZywgZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG4vLyBSZW1vdmVzIGEgcHJldmlvdXNseSBhZGRlZCBsaXN0ZW5lciBmdW5jdGlvbi5cclxuLy8gTm90ZSB0aGF0IGlmIHlvdSBwYXNzZWQgYSBjdXN0b20gY29udGV4dCB0byBvbiwgeW91IG11c3QgcGFzcyB0aGUgc2FtZVxyXG4vLyBjb250ZXh0IHRvIGBvZmZgIGluIG9yZGVyIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXIuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZ1bmN0aW9uIG9mZihlbDogSFRNTEVsZW1lbnQsIGV2ZW50TWFwOiBPYmplY3QsIGNvbnRleHQ/OiBPYmplY3QpOiB0aGlzXHJcbi8vIFJlbW92ZXMgYSBzZXQgb2YgdHlwZS9saXN0ZW5lciBwYWlycywgZS5nLiBge2NsaWNrOiBvbkNsaWNrLCBtb3VzZW1vdmU6IG9uTW91c2VNb3ZlfWBcclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZnVuY3Rpb24gb2ZmKGVsOiBIVE1MRWxlbWVudCwgdHlwZXM6IFN0cmluZyk6IHRoaXNcclxuLy8gUmVtb3ZlcyBhbGwgcHJldmlvdXNseSBhZGRlZCBsaXN0ZW5lcnMgb2YgZ2l2ZW4gdHlwZXMuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZ1bmN0aW9uIG9mZihlbDogSFRNTEVsZW1lbnQpOiB0aGlzXHJcbi8vIFJlbW92ZXMgYWxsIHByZXZpb3VzbHkgYWRkZWQgbGlzdGVuZXJzIGZyb20gZ2l2ZW4gSFRNTEVsZW1lbnRcclxuZXhwb3J0IGZ1bmN0aW9uIG9mZihvYmosIHR5cGVzLCBmbiwgY29udGV4dCkge1xyXG5cclxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0YmF0Y2hSZW1vdmUob2JqKTtcclxuXHRcdGRlbGV0ZSBvYmpbZXZlbnRzS2V5XTtcclxuXHJcblx0fSBlbHNlIGlmICh0eXBlcyAmJiB0eXBlb2YgdHlwZXMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRmb3IgKHZhciB0eXBlIGluIHR5cGVzKSB7XHJcblx0XHRcdHJlbW92ZU9uZShvYmosIHR5cGUsIHR5cGVzW3R5cGVdLCBmbik7XHJcblx0XHR9XHJcblxyXG5cdH0gZWxzZSB7XHJcblx0XHR0eXBlcyA9IFV0aWwuc3BsaXRXb3Jkcyh0eXBlcyk7XHJcblxyXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcclxuXHRcdFx0YmF0Y2hSZW1vdmUob2JqLCBmdW5jdGlvbiAodHlwZSkge1xyXG5cdFx0XHRcdHJldHVybiBVdGlsLmluZGV4T2YodHlwZXMsIHR5cGUpICE9PSAtMTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHRyZW1vdmVPbmUob2JqLCB0eXBlc1tpXSwgZm4sIGNvbnRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdGhpcztcclxufVxyXG5cclxuZnVuY3Rpb24gYmF0Y2hSZW1vdmUob2JqLCBmaWx0ZXJGbikge1xyXG5cdGZvciAodmFyIGlkIGluIG9ialtldmVudHNLZXldKSB7XHJcblx0XHR2YXIgdHlwZSA9IGlkLnNwbGl0KC9cXGQvKVswXTtcclxuXHRcdGlmICghZmlsdGVyRm4gfHwgZmlsdGVyRm4odHlwZSkpIHtcclxuXHRcdFx0cmVtb3ZlT25lKG9iaiwgdHlwZSwgbnVsbCwgbnVsbCwgaWQpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxudmFyIG1vdXNlU3Vic3QgPSB7XHJcblx0bW91c2VlbnRlcjogJ21vdXNlb3ZlcicsXHJcblx0bW91c2VsZWF2ZTogJ21vdXNlb3V0JyxcclxuXHR3aGVlbDogISgnb253aGVlbCcgaW4gd2luZG93KSAmJiAnbW91c2V3aGVlbCdcclxufTtcclxuXHJcbmZ1bmN0aW9uIGFkZE9uZShvYmosIHR5cGUsIGZuLCBjb250ZXh0KSB7XHJcblx0dmFyIGlkID0gdHlwZSArIFV0aWwuc3RhbXAoZm4pICsgKGNvbnRleHQgPyAnXycgKyBVdGlsLnN0YW1wKGNvbnRleHQpIDogJycpO1xyXG5cclxuXHRpZiAob2JqW2V2ZW50c0tleV0gJiYgb2JqW2V2ZW50c0tleV1baWRdKSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcclxuXHRcdHJldHVybiBmbi5jYWxsKGNvbnRleHQgfHwgb2JqLCBlIHx8IHdpbmRvdy5ldmVudCk7XHJcblx0fTtcclxuXHJcblx0dmFyIG9yaWdpbmFsSGFuZGxlciA9IGhhbmRsZXI7XHJcblxyXG5cdGlmICghQnJvd3Nlci50b3VjaE5hdGl2ZSAmJiBCcm93c2VyLnBvaW50ZXIgJiYgdHlwZS5pbmRleE9mKCd0b3VjaCcpID09PSAwKSB7XHJcblx0XHQvLyBOZWVkcyBEb21FdmVudC5Qb2ludGVyLmpzXHJcblx0XHRoYW5kbGVyID0gYWRkUG9pbnRlckxpc3RlbmVyKG9iaiwgdHlwZSwgaGFuZGxlcik7XHJcblxyXG5cdH0gZWxzZSBpZiAoQnJvd3Nlci50b3VjaCAmJiAodHlwZSA9PT0gJ2RibGNsaWNrJykpIHtcclxuXHRcdGhhbmRsZXIgPSBhZGREb3VibGVUYXBMaXN0ZW5lcihvYmosIGhhbmRsZXIpO1xyXG5cclxuXHR9IGVsc2UgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiBvYmopIHtcclxuXHJcblx0XHRpZiAodHlwZSA9PT0gJ3RvdWNoc3RhcnQnIHx8IHR5cGUgPT09ICd0b3VjaG1vdmUnIHx8IHR5cGUgPT09ICd3aGVlbCcgfHwgIHR5cGUgPT09ICdtb3VzZXdoZWVsJykge1xyXG5cdFx0XHRvYmouYWRkRXZlbnRMaXN0ZW5lcihtb3VzZVN1YnN0W3R5cGVdIHx8IHR5cGUsIGhhbmRsZXIsIEJyb3dzZXIucGFzc2l2ZUV2ZW50cyA/IHtwYXNzaXZlOiBmYWxzZX0gOiBmYWxzZSk7XHJcblxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnbW91c2VlbnRlcicgfHwgdHlwZSA9PT0gJ21vdXNlbGVhdmUnKSB7XHJcblx0XHRcdGhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcclxuXHRcdFx0XHRpZiAoaXNFeHRlcm5hbFRhcmdldChvYmosIGUpKSB7XHJcblx0XHRcdFx0XHRvcmlnaW5hbEhhbmRsZXIoZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRvYmouYWRkRXZlbnRMaXN0ZW5lcihtb3VzZVN1YnN0W3R5cGVdLCBoYW5kbGVyLCBmYWxzZSk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b2JqLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgb3JpZ2luYWxIYW5kbGVyLCBmYWxzZSk7XHJcblx0XHR9XHJcblxyXG5cdH0gZWxzZSB7XHJcblx0XHRvYmouYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGhhbmRsZXIpO1xyXG5cdH1cclxuXHJcblx0b2JqW2V2ZW50c0tleV0gPSBvYmpbZXZlbnRzS2V5XSB8fCB7fTtcclxuXHRvYmpbZXZlbnRzS2V5XVtpZF0gPSBoYW5kbGVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVPbmUob2JqLCB0eXBlLCBmbiwgY29udGV4dCwgaWQpIHtcclxuXHRpZCA9IGlkIHx8IHR5cGUgKyBVdGlsLnN0YW1wKGZuKSArIChjb250ZXh0ID8gJ18nICsgVXRpbC5zdGFtcChjb250ZXh0KSA6ICcnKTtcclxuXHR2YXIgaGFuZGxlciA9IG9ialtldmVudHNLZXldICYmIG9ialtldmVudHNLZXldW2lkXTtcclxuXHJcblx0aWYgKCFoYW5kbGVyKSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdGlmICghQnJvd3Nlci50b3VjaE5hdGl2ZSAmJiBCcm93c2VyLnBvaW50ZXIgJiYgdHlwZS5pbmRleE9mKCd0b3VjaCcpID09PSAwKSB7XHJcblx0XHRyZW1vdmVQb2ludGVyTGlzdGVuZXIob2JqLCB0eXBlLCBoYW5kbGVyKTtcclxuXHJcblx0fSBlbHNlIGlmIChCcm93c2VyLnRvdWNoICYmICh0eXBlID09PSAnZGJsY2xpY2snKSkge1xyXG5cdFx0cmVtb3ZlRG91YmxlVGFwTGlzdGVuZXIob2JqLCBoYW5kbGVyKTtcclxuXHJcblx0fSBlbHNlIGlmICgncmVtb3ZlRXZlbnRMaXN0ZW5lcicgaW4gb2JqKSB7XHJcblxyXG5cdFx0b2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VTdWJzdFt0eXBlXSB8fCB0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XHJcblxyXG5cdH0gZWxzZSB7XHJcblx0XHRvYmouZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGhhbmRsZXIpO1xyXG5cdH1cclxuXHJcblx0b2JqW2V2ZW50c0tleV1baWRdID0gbnVsbDtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihldjogRE9NRXZlbnQpOiB0aGlzXHJcbi8vIFN0b3AgdGhlIGdpdmVuIGV2ZW50IGZyb20gcHJvcGFnYXRpb24gdG8gcGFyZW50IGVsZW1lbnRzLiBVc2VkIGluc2lkZSB0aGUgbGlzdGVuZXIgZnVuY3Rpb25zOlxyXG4vLyBgYGBqc1xyXG4vLyBMLkRvbUV2ZW50Lm9uKGRpdiwgJ2NsaWNrJywgZnVuY3Rpb24gKGV2KSB7XHJcbi8vIFx0TC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZXYpO1xyXG4vLyB9KTtcclxuLy8gYGBgXHJcbmV4cG9ydCBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZSkge1xyXG5cclxuXHRpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcclxuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0fSBlbHNlIGlmIChlLm9yaWdpbmFsRXZlbnQpIHsgIC8vIEluIGNhc2Ugb2YgTGVhZmxldCBldmVudC5cclxuXHRcdGUub3JpZ2luYWxFdmVudC5fc3RvcHBlZCA9IHRydWU7XHJcblx0fSBlbHNlIHtcclxuXHRcdGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdHJldHVybiB0aGlzO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKGVsOiBIVE1MRWxlbWVudCk6IHRoaXNcclxuLy8gQWRkcyBgc3RvcFByb3BhZ2F0aW9uYCB0byB0aGUgZWxlbWVudCdzIGAnd2hlZWwnYCBldmVudHMgKHBsdXMgYnJvd3NlciB2YXJpYW50cykuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb24oZWwpIHtcclxuXHRhZGRPbmUoZWwsICd3aGVlbCcsIHN0b3BQcm9wYWdhdGlvbik7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBkaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihlbDogSFRNTEVsZW1lbnQpOiB0aGlzXHJcbi8vIEFkZHMgYHN0b3BQcm9wYWdhdGlvbmAgdG8gdGhlIGVsZW1lbnQncyBgJ2NsaWNrJ2AsIGAnZGJsY2xpY2snYCwgYCdjb250ZXh0bWVudSdgLFxyXG4vLyBgJ21vdXNlZG93bidgIGFuZCBgJ3RvdWNoc3RhcnQnYCBldmVudHMgKHBsdXMgYnJvd3NlciB2YXJpYW50cykuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihlbCkge1xyXG5cdG9uKGVsLCAnbW91c2Vkb3duIHRvdWNoc3RhcnQgZGJsY2xpY2sgY29udGV4dG1lbnUnLCBzdG9wUHJvcGFnYXRpb24pO1xyXG5cdGVsWydfbGVhZmxldF9kaXNhYmxlX2NsaWNrJ10gPSB0cnVlO1xyXG5cdHJldHVybiB0aGlzO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXY6IERPTUV2ZW50KTogdGhpc1xyXG4vLyBQcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gb2YgdGhlIERPTSBFdmVudCBgZXZgIGZyb20gaGFwcGVuaW5nIChzdWNoIGFzXHJcbi8vIGZvbGxvd2luZyBhIGxpbmsgaW4gdGhlIGhyZWYgb2YgdGhlIGEgZWxlbWVudCwgb3IgZG9pbmcgYSBQT1NUIHJlcXVlc3RcclxuLy8gd2l0aCBwYWdlIHJlbG9hZCB3aGVuIGEgYDxmb3JtPmAgaXMgc3VibWl0dGVkKS5cclxuLy8gVXNlIGl0IGluc2lkZSBsaXN0ZW5lciBmdW5jdGlvbnMuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XHJcblx0aWYgKGUucHJldmVudERlZmF1bHQpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG5cdH1cclxuXHRyZXR1cm4gdGhpcztcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHN0b3AoZXY6IERPTUV2ZW50KTogdGhpc1xyXG4vLyBEb2VzIGBzdG9wUHJvcGFnYXRpb25gIGFuZCBgcHJldmVudERlZmF1bHRgIGF0IHRoZSBzYW1lIHRpbWUuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdG9wKGUpIHtcclxuXHRwcmV2ZW50RGVmYXVsdChlKTtcclxuXHRzdG9wUHJvcGFnYXRpb24oZSk7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRQcm9wYWdhdGlvblBhdGgoZXY6IERPTUV2ZW50KTogQXJyYXlcclxuLy8gQ29tcGF0aWJpbGl0eSBwb2x5ZmlsbCBmb3IgW2BFdmVudC5jb21wb3NlZFBhdGgoKWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudC9jb21wb3NlZFBhdGgpLlxyXG4vLyBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGBIVE1MRWxlbWVudGBzIHRoYXQgdGhlIGdpdmVuIERPTSBldmVudFxyXG4vLyBzaG91bGQgcHJvcGFnYXRlIHRvIChpZiBub3Qgc3RvcHBlZCkuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wYWdhdGlvblBhdGgoZXYpIHtcclxuXHRpZiAoZXYuY29tcG9zZWRQYXRoKSB7XHJcblx0XHRyZXR1cm4gZXYuY29tcG9zZWRQYXRoKCk7XHJcblx0fVxyXG5cclxuXHR2YXIgcGF0aCA9IFtdO1xyXG5cdHZhciBlbCA9IGV2LnRhcmdldDtcclxuXHJcblx0d2hpbGUgKGVsKSB7XHJcblx0XHRwYXRoLnB1c2goZWwpO1xyXG5cdFx0ZWwgPSBlbC5wYXJlbnROb2RlO1xyXG5cdH1cclxuXHRyZXR1cm4gcGF0aDtcclxufVxyXG5cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRNb3VzZVBvc2l0aW9uKGV2OiBET01FdmVudCwgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpOiBQb2ludFxyXG4vLyBHZXRzIG5vcm1hbGl6ZWQgbW91c2UgcG9zaXRpb24gZnJvbSBhIERPTSBldmVudCByZWxhdGl2ZSB0byB0aGVcclxuLy8gYGNvbnRhaW5lcmAgKGJvcmRlciBleGNsdWRlZCkgb3IgdG8gdGhlIHdob2xlIHBhZ2UgaWYgbm90IHNwZWNpZmllZC5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vdXNlUG9zaXRpb24oZSwgY29udGFpbmVyKSB7XHJcblx0aWYgKCFjb250YWluZXIpIHtcclxuXHRcdHJldHVybiBuZXcgUG9pbnQoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xyXG5cdH1cclxuXHJcblx0dmFyIHNjYWxlID0gZ2V0U2NhbGUoY29udGFpbmVyKSxcclxuXHQgICAgb2Zmc2V0ID0gc2NhbGUuYm91bmRpbmdDbGllbnRSZWN0OyAvLyBsZWZ0IGFuZCB0b3AgIHZhbHVlcyBhcmUgaW4gcGFnZSBzY2FsZSAobGlrZSB0aGUgZXZlbnQgY2xpZW50WC9ZKVxyXG5cclxuXHRyZXR1cm4gbmV3IFBvaW50KFxyXG5cdFx0Ly8gb2Zmc2V0LmxlZnQvdG9wIHZhbHVlcyBhcmUgaW4gcGFnZSBzY2FsZSAobGlrZSBjbGllbnRYL1kpLFxyXG5cdFx0Ly8gd2hlcmVhcyBjbGllbnRMZWZ0L1RvcCAoYm9yZGVyIHdpZHRoKSB2YWx1ZXMgYXJlIHRoZSBvcmlnaW5hbCB2YWx1ZXMgKGJlZm9yZSBDU1Mgc2NhbGUgYXBwbGllcykuXHJcblx0XHQoZS5jbGllbnRYIC0gb2Zmc2V0LmxlZnQpIC8gc2NhbGUueCAtIGNvbnRhaW5lci5jbGllbnRMZWZ0LFxyXG5cdFx0KGUuY2xpZW50WSAtIG9mZnNldC50b3ApIC8gc2NhbGUueSAtIGNvbnRhaW5lci5jbGllbnRUb3BcclxuXHQpO1xyXG59XHJcblxyXG5cclxuLy8gIGV4Y2VwdCAsIFNhZmFyaSBhbmRcclxuLy8gV2UgbmVlZCBkb3VibGUgdGhlIHNjcm9sbCBwaXhlbHMgKHNlZSAjNzQwMyBhbmQgIzQ1MzgpIGZvciBhbGwgQnJvd3NlcnNcclxuLy8gZXhjZXB0IE9TWCAoTWFjKSAtPiAzeCwgQ2hyb21lIHJ1bm5pbmcgb24gTGludXggMXhcclxuXHJcbnZhciB3aGVlbFB4RmFjdG9yID1cclxuXHQoQnJvd3Nlci5saW51eCAmJiBCcm93c2VyLmNocm9tZSkgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6XHJcblx0QnJvd3Nlci5tYWMgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAqIDMgOlxyXG5cdHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMCA/IDIgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IDE7XHJcbi8vIEBmdW5jdGlvbiBnZXRXaGVlbERlbHRhKGV2OiBET01FdmVudCk6IE51bWJlclxyXG4vLyBHZXRzIG5vcm1hbGl6ZWQgd2hlZWwgZGVsdGEgZnJvbSBhIHdoZWVsIERPTSBldmVudCwgaW4gdmVydGljYWxcclxuLy8gcGl4ZWxzIHNjcm9sbGVkIChuZWdhdGl2ZSBpZiBzY3JvbGxpbmcgZG93bikuXHJcbi8vIEV2ZW50cyBmcm9tIHBvaW50aW5nIGRldmljZXMgd2l0aG91dCBwcmVjaXNlIHNjcm9sbGluZyBhcmUgbWFwcGVkIHRvXHJcbi8vIGEgYmVzdCBndWVzcyBvZiA2MCBwaXhlbHMuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRXaGVlbERlbHRhKGUpIHtcclxuXHRyZXR1cm4gKEJyb3dzZXIuZWRnZSkgPyBlLndoZWVsRGVsdGFZIC8gMiA6IC8vIERvbid0IHRydXN0IHdpbmRvdy1nZW9tZXRyeS1iYXNlZCBkZWx0YVxyXG5cdCAgICAgICAoZS5kZWx0YVkgJiYgZS5kZWx0YU1vZGUgPT09IDApID8gLWUuZGVsdGFZIC8gd2hlZWxQeEZhY3RvciA6IC8vIFBpeGVsc1xyXG5cdCAgICAgICAoZS5kZWx0YVkgJiYgZS5kZWx0YU1vZGUgPT09IDEpID8gLWUuZGVsdGFZICogMjAgOiAvLyBMaW5lc1xyXG5cdCAgICAgICAoZS5kZWx0YVkgJiYgZS5kZWx0YU1vZGUgPT09IDIpID8gLWUuZGVsdGFZICogNjAgOiAvLyBQYWdlc1xyXG5cdCAgICAgICAoZS5kZWx0YVggfHwgZS5kZWx0YVopID8gMCA6XHQvLyBTa2lwIGhvcml6b250YWwvZGVwdGggd2hlZWwgZXZlbnRzXHJcblx0ICAgICAgIGUud2hlZWxEZWx0YSA/IChlLndoZWVsRGVsdGFZIHx8IGUud2hlZWxEZWx0YSkgLyAyIDogLy8gTGVnYWN5IElFIHBpeGVsc1xyXG5cdCAgICAgICAoZS5kZXRhaWwgJiYgTWF0aC5hYnMoZS5kZXRhaWwpIDwgMzI3NjUpID8gLWUuZGV0YWlsICogMjAgOiAvLyBMZWdhY3kgTW96IGxpbmVzXHJcblx0ICAgICAgIGUuZGV0YWlsID8gZS5kZXRhaWwgLyAtMzI3NjUgKiA2MCA6IC8vIExlZ2FjeSBNb3ogcGFnZXNcclxuXHQgICAgICAgMDtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgZWxlbWVudCByZWFsbHkgbGVmdC9lbnRlcmVkIHRoZSBldmVudCB0YXJnZXQgKGZvciBtb3VzZWVudGVyL21vdXNlbGVhdmUpXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0V4dGVybmFsVGFyZ2V0KGVsLCBlKSB7XHJcblxyXG5cdHZhciByZWxhdGVkID0gZS5yZWxhdGVkVGFyZ2V0O1xyXG5cclxuXHRpZiAoIXJlbGF0ZWQpIHsgcmV0dXJuIHRydWU7IH1cclxuXHJcblx0dHJ5IHtcclxuXHRcdHdoaWxlIChyZWxhdGVkICYmIChyZWxhdGVkICE9PSBlbCkpIHtcclxuXHRcdFx0cmVsYXRlZCA9IHJlbGF0ZWQucGFyZW50Tm9kZTtcclxuXHRcdH1cclxuXHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblx0cmV0dXJuIChyZWxhdGVkICE9PSBlbCk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBhZGRMaXN0ZW5lcijigKYpOiB0aGlzXHJcbi8vIEFsaWFzIHRvIFtgTC5Eb21FdmVudC5vbmBdKCNkb21ldmVudC1vbilcclxuZXhwb3J0IHtvbiBhcyBhZGRMaXN0ZW5lcn07XHJcblxyXG4vLyBAZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYEwuRG9tRXZlbnQub2ZmYF0oI2RvbWV2ZW50LW9mZilcclxuZXhwb3J0IHtvZmYgYXMgcmVtb3ZlTGlzdGVuZXJ9O1xyXG4iLCAiaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xuaW1wb3J0IHtFdmVudGVkfSBmcm9tICcuLi9jb3JlL0V2ZW50cyc7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcblxuXG4vKlxuICogQGNsYXNzIFBvc0FuaW1hdGlvblxuICogQGFrYSBMLlBvc0FuaW1hdGlvblxuICogQGluaGVyaXRzIEV2ZW50ZWRcbiAqIFVzZWQgaW50ZXJuYWxseSBmb3IgcGFubmluZyBhbmltYXRpb25zLCB1dGlsaXppbmcgQ1NTMyBUcmFuc2l0aW9ucyBmb3IgbW9kZXJuIGJyb3dzZXJzIGFuZCBhIHRpbWVyIGZhbGxiYWNrIGZvciBJRTYtOS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIHZhciBteVBvc2l0aW9uTWFya2VyID0gTC5tYXJrZXIoWzQ4Ljg2NDcxNiwgMi4yOTQ2OTRdKS5hZGRUbyhtYXApO1xuICpcbiAqIG15UG9zaXRpb25NYXJrZXIub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAqIFx0dmFyIHBvcyA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobXlQb3NpdGlvbk1hcmtlci5nZXRMYXRMbmcoKSk7XG4gKiBcdHBvcy55IC09IDI1O1xuICogXHR2YXIgZnggPSBuZXcgTC5Qb3NBbmltYXRpb24oKTtcbiAqXG4gKiBcdGZ4Lm9uY2UoJ2VuZCcsZnVuY3Rpb24oKSB7XG4gKiBcdFx0cG9zLnkgKz0gMjU7XG4gKiBcdFx0ZngucnVuKG15UG9zaXRpb25NYXJrZXIuX2ljb24sIHBvcywgMC44KTtcbiAqIFx0fSk7XG4gKlxuICogXHRmeC5ydW4obXlQb3NpdGlvbk1hcmtlci5faWNvbiwgcG9zLCAwLjMpO1xuICogfSk7XG4gKlxuICogYGBgXG4gKlxuICogQGNvbnN0cnVjdG9yIEwuUG9zQW5pbWF0aW9uKClcbiAqIENyZWF0ZXMgYSBgUG9zQW5pbWF0aW9uYCBvYmplY3QuXG4gKlxuICovXG5cbmV4cG9ydCB2YXIgUG9zQW5pbWF0aW9uID0gRXZlbnRlZC5leHRlbmQoe1xuXG5cdC8vIEBtZXRob2QgcnVuKGVsOiBIVE1MRWxlbWVudCwgbmV3UG9zOiBQb2ludCwgZHVyYXRpb24/OiBOdW1iZXIsIGVhc2VMaW5lYXJpdHk/OiBOdW1iZXIpXG5cdC8vIFJ1biBhbiBhbmltYXRpb24gb2YgYSBnaXZlbiBlbGVtZW50IHRvIGEgbmV3IHBvc2l0aW9uLCBvcHRpb25hbGx5IHNldHRpbmdcblx0Ly8gZHVyYXRpb24gaW4gc2Vjb25kcyAoYDAuMjVgIGJ5IGRlZmF1bHQpIGFuZCBlYXNpbmcgbGluZWFyaXR5IGZhY3RvciAoM3JkXG5cdC8vIGFyZ3VtZW50IG9mIHRoZSBbY3ViaWMgYmV6aWVyIGN1cnZlXShodHRwczovL2N1YmljLWJlemllci5jb20vIzAsMCwuNSwxKSxcblx0Ly8gYDAuNWAgYnkgZGVmYXVsdCkuXG5cdHJ1bjogZnVuY3Rpb24gKGVsLCBuZXdQb3MsIGR1cmF0aW9uLCBlYXNlTGluZWFyaXR5KSB7XG5cdFx0dGhpcy5zdG9wKCk7XG5cblx0XHR0aGlzLl9lbCA9IGVsO1xuXHRcdHRoaXMuX2luUHJvZ3Jlc3MgPSB0cnVlO1xuXHRcdHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb24gfHwgMC4yNTtcblx0XHR0aGlzLl9lYXNlT3V0UG93ZXIgPSAxIC8gTWF0aC5tYXgoZWFzZUxpbmVhcml0eSB8fCAwLjUsIDAuMik7XG5cblx0XHR0aGlzLl9zdGFydFBvcyA9IERvbVV0aWwuZ2V0UG9zaXRpb24oZWwpO1xuXHRcdHRoaXMuX29mZnNldCA9IG5ld1Bvcy5zdWJ0cmFjdCh0aGlzLl9zdGFydFBvcyk7XG5cdFx0dGhpcy5fc3RhcnRUaW1lID0gK25ldyBEYXRlKCk7XG5cblx0XHQvLyBAZXZlbnQgc3RhcnQ6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgYW5pbWF0aW9uIHN0YXJ0c1xuXHRcdHRoaXMuZmlyZSgnc3RhcnQnKTtcblxuXHRcdHRoaXMuX2FuaW1hdGUoKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIHN0b3AoKVxuXHQvLyBTdG9wcyB0aGUgYW5pbWF0aW9uIChpZiBjdXJyZW50bHkgcnVubmluZykuXG5cdHN0b3A6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX2luUHJvZ3Jlc3MpIHsgcmV0dXJuOyB9XG5cblx0XHR0aGlzLl9zdGVwKHRydWUpO1xuXHRcdHRoaXMuX2NvbXBsZXRlKCk7XG5cdH0sXG5cblx0X2FuaW1hdGU6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBhbmltYXRpb24gbG9vcFxuXHRcdHRoaXMuX2FuaW1JZCA9IFV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9hbmltYXRlLCB0aGlzKTtcblx0XHR0aGlzLl9zdGVwKCk7XG5cdH0sXG5cblx0X3N0ZXA6IGZ1bmN0aW9uIChyb3VuZCkge1xuXHRcdHZhciBlbGFwc2VkID0gKCtuZXcgRGF0ZSgpKSAtIHRoaXMuX3N0YXJ0VGltZSxcblx0XHQgICAgZHVyYXRpb24gPSB0aGlzLl9kdXJhdGlvbiAqIDEwMDA7XG5cblx0XHRpZiAoZWxhcHNlZCA8IGR1cmF0aW9uKSB7XG5cdFx0XHR0aGlzLl9ydW5GcmFtZSh0aGlzLl9lYXNlT3V0KGVsYXBzZWQgLyBkdXJhdGlvbiksIHJvdW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fcnVuRnJhbWUoMSk7XG5cdFx0XHR0aGlzLl9jb21wbGV0ZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfcnVuRnJhbWU6IGZ1bmN0aW9uIChwcm9ncmVzcywgcm91bmQpIHtcblx0XHR2YXIgcG9zID0gdGhpcy5fc3RhcnRQb3MuYWRkKHRoaXMuX29mZnNldC5tdWx0aXBseUJ5KHByb2dyZXNzKSk7XG5cdFx0aWYgKHJvdW5kKSB7XG5cdFx0XHRwb3MuX3JvdW5kKCk7XG5cdFx0fVxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWwsIHBvcyk7XG5cblx0XHQvLyBAZXZlbnQgc3RlcDogRXZlbnRcblx0XHQvLyBGaXJlZCBjb250aW51b3VzbHkgZHVyaW5nIHRoZSBhbmltYXRpb24uXG5cdFx0dGhpcy5maXJlKCdzdGVwJyk7XG5cdH0sXG5cblx0X2NvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0VXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbUlkKTtcblxuXHRcdHRoaXMuX2luUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHQvLyBAZXZlbnQgZW5kOiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIGFuaW1hdGlvbiBlbmRzLlxuXHRcdHRoaXMuZmlyZSgnZW5kJyk7XG5cdH0sXG5cblx0X2Vhc2VPdXQ6IGZ1bmN0aW9uICh0KSB7XG5cdFx0cmV0dXJuIDEgLSBNYXRoLnBvdygxIC0gdCwgdGhpcy5fZWFzZU91dFBvd2VyKTtcblx0fVxufSk7XG4iLCAiaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL2NvcmUvRXZlbnRzJztcclxuaW1wb3J0IHtFUFNHMzg1N30gZnJvbSAnLi4vZ2VvL2Nycy9DUlMuRVBTRzM4NTcnO1xyXG5pbXBvcnQge1BvaW50LCB0b1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XHJcbmltcG9ydCB7Qm91bmRzLCB0b0JvdW5kc30gZnJvbSAnLi4vZ2VvbWV0cnkvQm91bmRzJztcclxuaW1wb3J0IHtMYXRMbmcsIHRvTGF0TG5nfSBmcm9tICcuLi9nZW8vTGF0TG5nJztcclxuaW1wb3J0IHtMYXRMbmdCb3VuZHMsIHRvTGF0TG5nQm91bmRzfSBmcm9tICcuLi9nZW8vTGF0TG5nQm91bmRzJztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vY29yZS9Ccm93c2VyJztcclxuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vZG9tL0RvbUV2ZW50JztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XHJcbmltcG9ydCB7UG9zQW5pbWF0aW9ufSBmcm9tICcuLi9kb20vUG9zQW5pbWF0aW9uJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBNYXBcclxuICogQGFrYSBMLk1hcFxyXG4gKiBAaW5oZXJpdHMgRXZlbnRlZFxyXG4gKlxyXG4gKiBUaGUgY2VudHJhbCBjbGFzcyBvZiB0aGUgQVBJIOKAlCBpdCBpcyB1c2VkIHRvIGNyZWF0ZSBhIG1hcCBvbiBhIHBhZ2UgYW5kIG1hbmlwdWxhdGUgaXQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIC8vIGluaXRpYWxpemUgdGhlIG1hcCBvbiB0aGUgXCJtYXBcIiBkaXYgd2l0aCBhIGdpdmVuIGNlbnRlciBhbmQgem9vbVxyXG4gKiB2YXIgbWFwID0gTC5tYXAoJ21hcCcsIHtcclxuICogXHRjZW50ZXI6IFs1MS41MDUsIC0wLjA5XSxcclxuICogXHR6b29tOiAxM1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBNYXAgPSBFdmVudGVkLmV4dGVuZCh7XHJcblxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBzZWN0aW9uIE1hcCBTdGF0ZSBPcHRpb25zXHJcblx0XHQvLyBAb3B0aW9uIGNyczogQ1JTID0gTC5DUlMuRVBTRzM4NTdcclxuXHRcdC8vIFRoZSBbQ29vcmRpbmF0ZSBSZWZlcmVuY2UgU3lzdGVtXSgjY3JzKSB0byB1c2UuIERvbid0IGNoYW5nZSB0aGlzIGlmIHlvdSdyZSBub3RcclxuXHRcdC8vIHN1cmUgd2hhdCBpdCBtZWFucy5cclxuXHRcdGNyczogRVBTRzM4NTcsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjZW50ZXI6IExhdExuZyA9IHVuZGVmaW5lZFxyXG5cdFx0Ly8gSW5pdGlhbCBnZW9ncmFwaGljIGNlbnRlciBvZiB0aGUgbWFwXHJcblx0XHRjZW50ZXI6IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb206IE51bWJlciA9IHVuZGVmaW5lZFxyXG5cdFx0Ly8gSW5pdGlhbCBtYXAgem9vbSBsZXZlbFxyXG5cdFx0em9vbTogdW5kZWZpbmVkLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWluWm9vbTogTnVtYmVyID0gKlxyXG5cdFx0Ly8gTWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBtYXAuXHJcblx0XHQvLyBJZiBub3Qgc3BlY2lmaWVkIGFuZCBhdCBsZWFzdCBvbmUgYEdyaWRMYXllcmAgb3IgYFRpbGVMYXllcmAgaXMgaW4gdGhlIG1hcCxcclxuXHRcdC8vIHRoZSBsb3dlc3Qgb2YgdGhlaXIgYG1pblpvb21gIG9wdGlvbnMgd2lsbCBiZSB1c2VkIGluc3RlYWQuXHJcblx0XHRtaW5ab29tOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBtYXhab29tOiBOdW1iZXIgPSAqXHJcblx0XHQvLyBNYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcC5cclxuXHRcdC8vIElmIG5vdCBzcGVjaWZpZWQgYW5kIGF0IGxlYXN0IG9uZSBgR3JpZExheWVyYCBvciBgVGlsZUxheWVyYCBpcyBpbiB0aGUgbWFwLFxyXG5cdFx0Ly8gdGhlIGhpZ2hlc3Qgb2YgdGhlaXIgYG1heFpvb21gIG9wdGlvbnMgd2lsbCBiZSB1c2VkIGluc3RlYWQuXHJcblx0XHRtYXhab29tOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBsYXllcnM6IExheWVyW10gPSBbXVxyXG5cdFx0Ly8gQXJyYXkgb2YgbGF5ZXJzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgbWFwIGluaXRpYWxseVxyXG5cdFx0bGF5ZXJzOiBbXSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1heEJvdW5kczogTGF0TG5nQm91bmRzID0gbnVsbFxyXG5cdFx0Ly8gV2hlbiB0aGlzIG9wdGlvbiBpcyBzZXQsIHRoZSBtYXAgcmVzdHJpY3RzIHRoZSB2aWV3IHRvIHRoZSBnaXZlblxyXG5cdFx0Ly8gZ2VvZ3JhcGhpY2FsIGJvdW5kcywgYm91bmNpbmcgdGhlIHVzZXIgYmFjayBpZiB0aGUgdXNlciB0cmllcyB0byBwYW5cclxuXHRcdC8vIG91dHNpZGUgdGhlIHZpZXcuIFRvIHNldCB0aGUgcmVzdHJpY3Rpb24gZHluYW1pY2FsbHksIHVzZVxyXG5cdFx0Ly8gW2BzZXRNYXhCb3VuZHNgXSgjbWFwLXNldG1heGJvdW5kcykgbWV0aG9kLlxyXG5cdFx0bWF4Qm91bmRzOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiByZW5kZXJlcjogUmVuZGVyZXIgPSAqXHJcblx0XHQvLyBUaGUgZGVmYXVsdCBtZXRob2QgZm9yIGRyYXdpbmcgdmVjdG9yIGxheWVycyBvbiB0aGUgbWFwLiBgTC5TVkdgXHJcblx0XHQvLyBvciBgTC5DYW52YXNgIGJ5IGRlZmF1bHQgZGVwZW5kaW5nIG9uIGJyb3dzZXIgc3VwcG9ydC5cclxuXHRcdHJlbmRlcmVyOiB1bmRlZmluZWQsXHJcblxyXG5cclxuXHRcdC8vIEBzZWN0aW9uIEFuaW1hdGlvbiBPcHRpb25zXHJcblx0XHQvLyBAb3B0aW9uIHpvb21BbmltYXRpb246IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSBtYXAgem9vbSBhbmltYXRpb24gaXMgZW5hYmxlZC4gQnkgZGVmYXVsdCBpdCdzIGVuYWJsZWRcclxuXHRcdC8vIGluIGFsbCBicm93c2VycyB0aGF0IHN1cHBvcnQgQ1NTMyBUcmFuc2l0aW9ucyBleGNlcHQgQW5kcm9pZC5cclxuXHRcdHpvb21BbmltYXRpb246IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tQW5pbWF0aW9uVGhyZXNob2xkOiBOdW1iZXIgPSA0XHJcblx0XHQvLyBXb24ndCBhbmltYXRlIHpvb20gaWYgdGhlIHpvb20gZGlmZmVyZW5jZSBleGNlZWRzIHRoaXMgdmFsdWUuXHJcblx0XHR6b29tQW5pbWF0aW9uVGhyZXNob2xkOiA0LFxyXG5cclxuXHRcdC8vIEBvcHRpb24gZmFkZUFuaW1hdGlvbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIHRpbGUgZmFkZSBhbmltYXRpb24gaXMgZW5hYmxlZC4gQnkgZGVmYXVsdCBpdCdzIGVuYWJsZWRcclxuXHRcdC8vIGluIGFsbCBicm93c2VycyB0aGF0IHN1cHBvcnQgQ1NTMyBUcmFuc2l0aW9ucyBleGNlcHQgQW5kcm9pZC5cclxuXHRcdGZhZGVBbmltYXRpb246IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBtYXJrZXJab29tQW5pbWF0aW9uOiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gV2hldGhlciBtYXJrZXJzIGFuaW1hdGUgdGhlaXIgem9vbSB3aXRoIHRoZSB6b29tIGFuaW1hdGlvbiwgaWYgZGlzYWJsZWRcclxuXHRcdC8vIHRoZXkgd2lsbCBkaXNhcHBlYXIgZm9yIHRoZSBsZW5ndGggb2YgdGhlIGFuaW1hdGlvbi4gQnkgZGVmYXVsdCBpdCdzXHJcblx0XHQvLyBlbmFibGVkIGluIGFsbCBicm93c2VycyB0aGF0IHN1cHBvcnQgQ1NTMyBUcmFuc2l0aW9ucyBleGNlcHQgQW5kcm9pZC5cclxuXHRcdG1hcmtlclpvb21BbmltYXRpb246IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB0cmFuc2Zvcm0zRExpbWl0OiBOdW1iZXIgPSAyXjIzXHJcblx0XHQvLyBEZWZpbmVzIHRoZSBtYXhpbXVtIHNpemUgb2YgYSBDU1MgdHJhbnNsYXRpb24gdHJhbnNmb3JtLiBUaGUgZGVmYXVsdFxyXG5cdFx0Ly8gdmFsdWUgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkIHVubGVzcyBhIHdlYiBicm93c2VyIHBvc2l0aW9ucyBsYXllcnMgaW5cclxuXHRcdC8vIHRoZSB3cm9uZyBwbGFjZSBhZnRlciBkb2luZyBhIGxhcmdlIGBwYW5CeWAuXHJcblx0XHR0cmFuc2Zvcm0zRExpbWl0OiA4Mzg4NjA4LCAvLyBQcmVjaXNpb24gbGltaXQgb2YgYSAzMi1iaXQgZmxvYXRcclxuXHJcblx0XHQvLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXHJcblx0XHQvLyBAb3B0aW9uIHpvb21TbmFwOiBOdW1iZXIgPSAxXHJcblx0XHQvLyBGb3JjZXMgdGhlIG1hcCdzIHpvb20gbGV2ZWwgdG8gYWx3YXlzIGJlIGEgbXVsdGlwbGUgb2YgdGhpcywgcGFydGljdWxhcmx5XHJcblx0XHQvLyByaWdodCBhZnRlciBhIFtgZml0Qm91bmRzKClgXSgjbWFwLWZpdGJvdW5kcykgb3IgYSBwaW5jaC16b29tLlxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgdGhlIHpvb20gbGV2ZWwgc25hcHMgdG8gdGhlIG5lYXJlc3QgaW50ZWdlcjsgbG93ZXIgdmFsdWVzXHJcblx0XHQvLyAoZS5nLiBgMC41YCBvciBgMC4xYCkgYWxsb3cgZm9yIGdyZWF0ZXIgZ3JhbnVsYXJpdHkuIEEgdmFsdWUgb2YgYDBgXHJcblx0XHQvLyBtZWFucyB0aGUgem9vbSBsZXZlbCB3aWxsIG5vdCBiZSBzbmFwcGVkIGFmdGVyIGBmaXRCb3VuZHNgIG9yIGEgcGluY2gtem9vbS5cclxuXHRcdHpvb21TbmFwOiAxLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gem9vbURlbHRhOiBOdW1iZXIgPSAxXHJcblx0XHQvLyBDb250cm9scyBob3cgbXVjaCB0aGUgbWFwJ3Mgem9vbSBsZXZlbCB3aWxsIGNoYW5nZSBhZnRlciBhXHJcblx0XHQvLyBbYHpvb21JbigpYF0oI21hcC16b29taW4pLCBbYHpvb21PdXQoKWBdKCNtYXAtem9vbW91dCksIHByZXNzaW5nIGArYFxyXG5cdFx0Ly8gb3IgYC1gIG9uIHRoZSBrZXlib2FyZCwgb3IgdXNpbmcgdGhlIFt6b29tIGNvbnRyb2xzXSgjY29udHJvbC16b29tKS5cclxuXHRcdC8vIFZhbHVlcyBzbWFsbGVyIHRoYW4gYDFgIChlLmcuIGAwLjVgKSBhbGxvdyBmb3IgZ3JlYXRlciBncmFudWxhcml0eS5cclxuXHRcdHpvb21EZWx0YTogMSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHRyYWNrUmVzaXplOiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgbWFwIGF1dG9tYXRpY2FsbHkgaGFuZGxlcyBicm93c2VyIHdpbmRvdyByZXNpemUgdG8gdXBkYXRlIGl0c2VsZi5cclxuXHRcdHRyYWNrUmVzaXplOiB0cnVlXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGlkLCBvcHRpb25zKSB7IC8vIChIVE1MRWxlbWVudCBvciBTdHJpbmcsIE9iamVjdClcclxuXHRcdG9wdGlvbnMgPSBVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0Ly8gTWFrZSBzdXJlIHRvIGFzc2lnbiBpbnRlcm5hbCBmbGFncyBhdCB0aGUgYmVnaW5uaW5nLFxyXG5cdFx0Ly8gdG8gYXZvaWQgaW5jb25zaXN0ZW50IHN0YXRlIGluIHNvbWUgZWRnZSBjYXNlcy5cclxuXHRcdHRoaXMuX2hhbmRsZXJzID0gW107XHJcblx0XHR0aGlzLl9sYXllcnMgPSB7fTtcclxuXHRcdHRoaXMuX3pvb21Cb3VuZExheWVycyA9IHt9O1xyXG5cdFx0dGhpcy5fc2l6ZUNoYW5nZWQgPSB0cnVlO1xyXG5cclxuXHRcdHRoaXMuX2luaXRDb250YWluZXIoaWQpO1xyXG5cdFx0dGhpcy5faW5pdExheW91dCgpO1xyXG5cclxuXHRcdC8vIGhhY2sgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzE5ODBcclxuXHRcdHRoaXMuX29uUmVzaXplID0gVXRpbC5iaW5kKHRoaXMuX29uUmVzaXplLCB0aGlzKTtcclxuXHJcblx0XHR0aGlzLl9pbml0RXZlbnRzKCk7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMubWF4Qm91bmRzKSB7XHJcblx0XHRcdHRoaXMuc2V0TWF4Qm91bmRzKG9wdGlvbnMubWF4Qm91bmRzKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAob3B0aW9ucy56b29tICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0dGhpcy5fem9vbSA9IHRoaXMuX2xpbWl0Wm9vbShvcHRpb25zLnpvb20pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChvcHRpb25zLmNlbnRlciAmJiBvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHR0aGlzLnNldFZpZXcodG9MYXRMbmcob3B0aW9ucy5jZW50ZXIpLCBvcHRpb25zLnpvb20sIHtyZXNldDogdHJ1ZX0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuY2FsbEluaXRIb29rcygpO1xyXG5cclxuXHRcdC8vIGRvbid0IGFuaW1hdGUgb24gYnJvd3NlcnMgd2l0aG91dCBoYXJkd2FyZS1hY2NlbGVyYXRlZCB0cmFuc2l0aW9ucyBvciBvbGQgQW5kcm9pZC9PcGVyYVxyXG5cdFx0dGhpcy5fem9vbUFuaW1hdGVkID0gRG9tVXRpbC5UUkFOU0lUSU9OICYmIEJyb3dzZXIuYW55M2QgJiYgIUJyb3dzZXIubW9iaWxlT3BlcmEgJiZcclxuXHRcdFx0XHR0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbjtcclxuXHJcblx0XHQvLyB6b29tIHRyYW5zaXRpb25zIHJ1biB3aXRoIHRoZSBzYW1lIGR1cmF0aW9uIGZvciBhbGwgbGF5ZXJzLCBzbyBpZiBvbmUgb2YgdHJhbnNpdGlvbmVuZCBldmVudHNcclxuXHRcdC8vIGhhcHBlbnMgYWZ0ZXIgc3RhcnRpbmcgem9vbSBhbmltYXRpb24gKHByb3BhZ2F0aW5nIHRvIHRoZSBtYXAgcGFuZSksIHdlIGtub3cgdGhhdCBpdCBlbmRlZCBnbG9iYWxseVxyXG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkge1xyXG5cdFx0XHR0aGlzLl9jcmVhdGVBbmltUHJveHkoKTtcclxuXHRcdFx0RG9tRXZlbnQub24odGhpcy5fcHJveHksIERvbVV0aWwuVFJBTlNJVElPTl9FTkQsIHRoaXMuX2NhdGNoVHJhbnNpdGlvbkVuZCwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fYWRkTGF5ZXJzKHRoaXMub3B0aW9ucy5sYXllcnMpO1xyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBAc2VjdGlvbiBNZXRob2RzIGZvciBtb2RpZnlpbmcgbWFwIHN0YXRlXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0VmlldyhjZW50ZXI6IExhdExuZywgem9vbTogTnVtYmVyLCBvcHRpb25zPzogWm9vbS9wYW4gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSB2aWV3IG9mIHRoZSBtYXAgKGdlb2dyYXBoaWNhbCBjZW50ZXIgYW5kIHpvb20pIHdpdGggdGhlIGdpdmVuXHJcblx0Ly8gYW5pbWF0aW9uIG9wdGlvbnMuXHJcblx0c2V0VmlldzogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgb3B0aW9ucykge1xyXG5cclxuXHRcdHpvb20gPSB6b29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogdGhpcy5fbGltaXRab29tKHpvb20pO1xyXG5cdFx0Y2VudGVyID0gdGhpcy5fbGltaXRDZW50ZXIodG9MYXRMbmcoY2VudGVyKSwgem9vbSwgdGhpcy5vcHRpb25zLm1heEJvdW5kcyk7XHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcblx0XHR0aGlzLl9zdG9wKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCAmJiAhb3B0aW9ucy5yZXNldCAmJiBvcHRpb25zICE9PSB0cnVlKSB7XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy5hbmltYXRlICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRvcHRpb25zLnpvb20gPSBVdGlsLmV4dGVuZCh7YW5pbWF0ZTogb3B0aW9ucy5hbmltYXRlfSwgb3B0aW9ucy56b29tKTtcclxuXHRcdFx0XHRvcHRpb25zLnBhbiA9IFV0aWwuZXh0ZW5kKHthbmltYXRlOiBvcHRpb25zLmFuaW1hdGUsIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9ufSwgb3B0aW9ucy5wYW4pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyB0cnkgYW5pbWF0aW5nIHBhbiBvciB6b29tXHJcblx0XHRcdHZhciBtb3ZlZCA9ICh0aGlzLl96b29tICE9PSB6b29tKSA/XHJcblx0XHRcdFx0dGhpcy5fdHJ5QW5pbWF0ZWRab29tICYmIHRoaXMuX3RyeUFuaW1hdGVkWm9vbShjZW50ZXIsIHpvb20sIG9wdGlvbnMuem9vbSkgOlxyXG5cdFx0XHRcdHRoaXMuX3RyeUFuaW1hdGVkUGFuKGNlbnRlciwgb3B0aW9ucy5wYW4pO1xyXG5cclxuXHRcdFx0aWYgKG1vdmVkKSB7XHJcblx0XHRcdFx0Ly8gcHJldmVudCByZXNpemUgaGFuZGxlciBjYWxsLCB0aGUgdmlldyB3aWxsIHJlZnJlc2ggYWZ0ZXIgYW5pbWF0aW9uIGFueXdheVxyXG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9zaXplVGltZXIpO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gYW5pbWF0aW9uIGRpZG4ndCBzdGFydCwganVzdCByZXNldCB0aGUgbWFwIHZpZXdcclxuXHRcdHRoaXMuX3Jlc2V0VmlldyhjZW50ZXIsIHpvb20sIG9wdGlvbnMucGFuICYmIG9wdGlvbnMucGFuLm5vTW92ZVN0YXJ0KTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFpvb20oem9vbTogTnVtYmVyLCBvcHRpb25zPzogWm9vbS9wYW4gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSB6b29tIG9mIHRoZSBtYXAuXHJcblx0c2V0Wm9vbTogZnVuY3Rpb24gKHpvb20sIG9wdGlvbnMpIHtcclxuXHRcdGlmICghdGhpcy5fbG9hZGVkKSB7XHJcblx0XHRcdHRoaXMuX3pvb20gPSB6b29tO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLnNldFZpZXcodGhpcy5nZXRDZW50ZXIoKSwgem9vbSwge3pvb206IG9wdGlvbnN9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHpvb21JbihkZWx0YT86IE51bWJlciwgb3B0aW9ucz86IFpvb20gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBJbmNyZWFzZXMgdGhlIHpvb20gb2YgdGhlIG1hcCBieSBgZGVsdGFgIChbYHpvb21EZWx0YWBdKCNtYXAtem9vbWRlbHRhKSBieSBkZWZhdWx0KS5cclxuXHR6b29tSW46IGZ1bmN0aW9uIChkZWx0YSwgb3B0aW9ucykge1xyXG5cdFx0ZGVsdGEgPSBkZWx0YSB8fCAoQnJvd3Nlci5hbnkzZCA/IHRoaXMub3B0aW9ucy56b29tRGVsdGEgOiAxKTtcclxuXHRcdHJldHVybiB0aGlzLnNldFpvb20odGhpcy5fem9vbSArIGRlbHRhLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHpvb21PdXQoZGVsdGE/OiBOdW1iZXIsIG9wdGlvbnM/OiBab29tIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gRGVjcmVhc2VzIHRoZSB6b29tIG9mIHRoZSBtYXAgYnkgYGRlbHRhYCAoW2B6b29tRGVsdGFgXSgjbWFwLXpvb21kZWx0YSkgYnkgZGVmYXVsdCkuXHJcblx0em9vbU91dDogZnVuY3Rpb24gKGRlbHRhLCBvcHRpb25zKSB7XHJcblx0XHRkZWx0YSA9IGRlbHRhIHx8IChCcm93c2VyLmFueTNkID8gdGhpcy5vcHRpb25zLnpvb21EZWx0YSA6IDEpO1xyXG5cdFx0cmV0dXJuIHRoaXMuc2V0Wm9vbSh0aGlzLl96b29tIC0gZGVsdGEsIG9wdGlvbnMpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0Wm9vbUFyb3VuZChsYXRsbmc6IExhdExuZywgem9vbTogTnVtYmVyLCBvcHRpb25zOiBab29tIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gWm9vbXMgdGhlIG1hcCB3aGlsZSBrZWVwaW5nIGEgc3BlY2lmaWVkIGdlb2dyYXBoaWNhbCBwb2ludCBvbiB0aGUgbWFwXHJcblx0Ly8gc3RhdGlvbmFyeSAoZS5nLiB1c2VkIGludGVybmFsbHkgZm9yIHNjcm9sbCB6b29tIGFuZCBkb3VibGUtY2xpY2sgem9vbSkuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBzZXRab29tQXJvdW5kKG9mZnNldDogUG9pbnQsIHpvb206IE51bWJlciwgb3B0aW9uczogWm9vbSBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFpvb21zIHRoZSBtYXAgd2hpbGUga2VlcGluZyBhIHNwZWNpZmllZCBwaXhlbCBvbiB0aGUgbWFwIChyZWxhdGl2ZSB0byB0aGUgdG9wLWxlZnQgY29ybmVyKSBzdGF0aW9uYXJ5LlxyXG5cdHNldFpvb21Bcm91bmQ6IGZ1bmN0aW9uIChsYXRsbmcsIHpvb20sIG9wdGlvbnMpIHtcclxuXHRcdHZhciBzY2FsZSA9IHRoaXMuZ2V0Wm9vbVNjYWxlKHpvb20pLFxyXG5cdFx0ICAgIHZpZXdIYWxmID0gdGhpcy5nZXRTaXplKCkuZGl2aWRlQnkoMiksXHJcblx0XHQgICAgY29udGFpbmVyUG9pbnQgPSBsYXRsbmcgaW5zdGFuY2VvZiBQb2ludCA/IGxhdGxuZyA6IHRoaXMubGF0TG5nVG9Db250YWluZXJQb2ludChsYXRsbmcpLFxyXG5cclxuXHRcdCAgICBjZW50ZXJPZmZzZXQgPSBjb250YWluZXJQb2ludC5zdWJ0cmFjdCh2aWV3SGFsZikubXVsdGlwbHlCeSgxIC0gMSAvIHNjYWxlKSxcclxuXHRcdCAgICBuZXdDZW50ZXIgPSB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXRMbmcodmlld0hhbGYuYWRkKGNlbnRlck9mZnNldCkpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnNldFZpZXcobmV3Q2VudGVyLCB6b29tLCB7em9vbTogb3B0aW9uc30pO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRCb3VuZHNDZW50ZXJab29tOiBmdW5jdGlvbiAoYm91bmRzLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHRib3VuZHMgPSBib3VuZHMuZ2V0Qm91bmRzID8gYm91bmRzLmdldEJvdW5kcygpIDogdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHR2YXIgcGFkZGluZ1RMID0gdG9Qb2ludChvcHRpb25zLnBhZGRpbmdUb3BMZWZ0IHx8IG9wdGlvbnMucGFkZGluZyB8fCBbMCwgMF0pLFxyXG5cdFx0ICAgIHBhZGRpbmdCUiA9IHRvUG9pbnQob3B0aW9ucy5wYWRkaW5nQm90dG9tUmlnaHQgfHwgb3B0aW9ucy5wYWRkaW5nIHx8IFswLCAwXSksXHJcblxyXG5cdFx0ICAgIHpvb20gPSB0aGlzLmdldEJvdW5kc1pvb20oYm91bmRzLCBmYWxzZSwgcGFkZGluZ1RMLmFkZChwYWRkaW5nQlIpKTtcclxuXHJcblx0XHR6b29tID0gKHR5cGVvZiBvcHRpb25zLm1heFpvb20gPT09ICdudW1iZXInKSA/IE1hdGgubWluKG9wdGlvbnMubWF4Wm9vbSwgem9vbSkgOiB6b29tO1xyXG5cclxuXHRcdGlmICh6b29tID09PSBJbmZpbml0eSkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGNlbnRlcjogYm91bmRzLmdldENlbnRlcigpLFxyXG5cdFx0XHRcdHpvb206IHpvb21cclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgcGFkZGluZ09mZnNldCA9IHBhZGRpbmdCUi5zdWJ0cmFjdChwYWRkaW5nVEwpLmRpdmlkZUJ5KDIpLFxyXG5cclxuXHRcdCAgICBzd1BvaW50ID0gdGhpcy5wcm9qZWN0KGJvdW5kcy5nZXRTb3V0aFdlc3QoKSwgem9vbSksXHJcblx0XHQgICAgbmVQb2ludCA9IHRoaXMucHJvamVjdChib3VuZHMuZ2V0Tm9ydGhFYXN0KCksIHpvb20pLFxyXG5cdFx0ICAgIGNlbnRlciA9IHRoaXMudW5wcm9qZWN0KHN3UG9pbnQuYWRkKG5lUG9pbnQpLmRpdmlkZUJ5KDIpLmFkZChwYWRkaW5nT2Zmc2V0KSwgem9vbSk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y2VudGVyOiBjZW50ZXIsXHJcblx0XHRcdHpvb206IHpvb21cclxuXHRcdH07XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBmaXRCb3VuZHMoYm91bmRzOiBMYXRMbmdCb3VuZHMsIG9wdGlvbnM/OiBmaXRCb3VuZHMgb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBTZXRzIGEgbWFwIHZpZXcgdGhhdCBjb250YWlucyB0aGUgZ2l2ZW4gZ2VvZ3JhcGhpY2FsIGJvdW5kcyB3aXRoIHRoZVxyXG5cdC8vIG1heGltdW0gem9vbSBsZXZlbCBwb3NzaWJsZS5cclxuXHRmaXRCb3VuZHM6IGZ1bmN0aW9uIChib3VuZHMsIG9wdGlvbnMpIHtcclxuXHJcblx0XHRib3VuZHMgPSB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdGlmICghYm91bmRzLmlzVmFsaWQoKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0JvdW5kcyBhcmUgbm90IHZhbGlkLicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciB0YXJnZXQgPSB0aGlzLl9nZXRCb3VuZHNDZW50ZXJab29tKGJvdW5kcywgb3B0aW9ucyk7XHJcblx0XHRyZXR1cm4gdGhpcy5zZXRWaWV3KHRhcmdldC5jZW50ZXIsIHRhcmdldC56b29tLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZpdFdvcmxkKG9wdGlvbnM/OiBmaXRCb3VuZHMgb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBTZXRzIGEgbWFwIHZpZXcgdGhhdCBtb3N0bHkgY29udGFpbnMgdGhlIHdob2xlIHdvcmxkIHdpdGggdGhlIG1heGltdW1cclxuXHQvLyB6b29tIGxldmVsIHBvc3NpYmxlLlxyXG5cdGZpdFdvcmxkOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdFx0cmV0dXJuIHRoaXMuZml0Qm91bmRzKFtbLTkwLCAtMTgwXSwgWzkwLCAxODBdXSwgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwYW5UbyhsYXRsbmc6IExhdExuZywgb3B0aW9ucz86IFBhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFBhbnMgdGhlIG1hcCB0byBhIGdpdmVuIGNlbnRlci5cclxuXHRwYW5UbzogZnVuY3Rpb24gKGNlbnRlciwgb3B0aW9ucykgeyAvLyAoTGF0TG5nKVxyXG5cdFx0cmV0dXJuIHRoaXMuc2V0VmlldyhjZW50ZXIsIHRoaXMuX3pvb20sIHtwYW46IG9wdGlvbnN9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhbkJ5KG9mZnNldDogUG9pbnQsIG9wdGlvbnM/OiBQYW4gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBQYW5zIHRoZSBtYXAgYnkgYSBnaXZlbiBudW1iZXIgb2YgcGl4ZWxzIChhbmltYXRlZCkuXHJcblx0cGFuQnk6IGZ1bmN0aW9uIChvZmZzZXQsIG9wdGlvbnMpIHtcclxuXHRcdG9mZnNldCA9IHRvUG9pbnQob2Zmc2V0KS5yb3VuZCgpO1xyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG5cdFx0aWYgKCFvZmZzZXQueCAmJiAhb2Zmc2V0LnkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZmlyZSgnbW92ZWVuZCcpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gSWYgd2UgcGFuIHRvbyBmYXIsIENocm9tZSBnZXRzIGlzc3VlcyB3aXRoIHRpbGVzXHJcblx0XHQvLyBhbmQgbWFrZXMgdGhlbSBkaXNhcHBlYXIgb3IgYXBwZWFyIGluIHRoZSB3cm9uZyBwbGFjZSAoc2xpZ2h0bHkgb2Zmc2V0KSAjMjYwMlxyXG5cdFx0aWYgKG9wdGlvbnMuYW5pbWF0ZSAhPT0gdHJ1ZSAmJiAhdGhpcy5nZXRTaXplKCkuY29udGFpbnMob2Zmc2V0KSkge1xyXG5cdFx0XHR0aGlzLl9yZXNldFZpZXcodGhpcy51bnByb2plY3QodGhpcy5wcm9qZWN0KHRoaXMuZ2V0Q2VudGVyKCkpLmFkZChvZmZzZXQpKSwgdGhpcy5nZXRab29tKCkpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRoaXMuX3BhbkFuaW0pIHtcclxuXHRcdFx0dGhpcy5fcGFuQW5pbSA9IG5ldyBQb3NBbmltYXRpb24oKTtcclxuXHJcblx0XHRcdHRoaXMuX3BhbkFuaW0ub24oe1xyXG5cdFx0XHRcdCdzdGVwJzogdGhpcy5fb25QYW5UcmFuc2l0aW9uU3RlcCxcclxuXHRcdFx0XHQnZW5kJzogdGhpcy5fb25QYW5UcmFuc2l0aW9uRW5kXHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGRvbid0IGZpcmUgbW92ZXN0YXJ0IGlmIGFuaW1hdGluZyBpbmVydGlhXHJcblx0XHRpZiAoIW9wdGlvbnMubm9Nb3ZlU3RhcnQpIHtcclxuXHRcdFx0dGhpcy5maXJlKCdtb3Zlc3RhcnQnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBhbmltYXRlIHBhbiB1bmxlc3MgYW5pbWF0ZTogZmFsc2Ugc3BlY2lmaWVkXHJcblx0XHRpZiAob3B0aW9ucy5hbmltYXRlICE9PSBmYWxzZSkge1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXBhbi1hbmltJyk7XHJcblxyXG5cdFx0XHR2YXIgbmV3UG9zID0gdGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KG9mZnNldCkucm91bmQoKTtcclxuXHRcdFx0dGhpcy5fcGFuQW5pbS5ydW4odGhpcy5fbWFwUGFuZSwgbmV3UG9zLCBvcHRpb25zLmR1cmF0aW9uIHx8IDAuMjUsIG9wdGlvbnMuZWFzZUxpbmVhcml0eSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9yYXdQYW5CeShvZmZzZXQpO1xyXG5cdFx0XHR0aGlzLmZpcmUoJ21vdmUnKS5maXJlKCdtb3ZlZW5kJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBmbHlUbyhsYXRsbmc6IExhdExuZywgem9vbT86IE51bWJlciwgb3B0aW9ucz86IFpvb20vcGFuIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgdmlldyBvZiB0aGUgbWFwIChnZW9ncmFwaGljYWwgY2VudGVyIGFuZCB6b29tKSBwZXJmb3JtaW5nIGEgc21vb3RoXHJcblx0Ly8gcGFuLXpvb20gYW5pbWF0aW9uLlxyXG5cdGZseVRvOiBmdW5jdGlvbiAodGFyZ2V0Q2VudGVyLCB0YXJnZXRab29tLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHRpZiAob3B0aW9ucy5hbmltYXRlID09PSBmYWxzZSB8fCAhQnJvd3Nlci5hbnkzZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5zZXRWaWV3KHRhcmdldENlbnRlciwgdGFyZ2V0Wm9vbSwgb3B0aW9ucyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc3RvcCgpO1xyXG5cclxuXHRcdHZhciBmcm9tID0gdGhpcy5wcm9qZWN0KHRoaXMuZ2V0Q2VudGVyKCkpLFxyXG5cdFx0ICAgIHRvID0gdGhpcy5wcm9qZWN0KHRhcmdldENlbnRlciksXHJcblx0XHQgICAgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLFxyXG5cdFx0ICAgIHN0YXJ0Wm9vbSA9IHRoaXMuX3pvb207XHJcblxyXG5cdFx0dGFyZ2V0Q2VudGVyID0gdG9MYXRMbmcodGFyZ2V0Q2VudGVyKTtcclxuXHRcdHRhcmdldFpvb20gPSB0YXJnZXRab29tID09PSB1bmRlZmluZWQgPyBzdGFydFpvb20gOiB0YXJnZXRab29tO1xyXG5cclxuXHRcdHZhciB3MCA9IE1hdGgubWF4KHNpemUueCwgc2l6ZS55KSxcclxuXHRcdCAgICB3MSA9IHcwICogdGhpcy5nZXRab29tU2NhbGUoc3RhcnRab29tLCB0YXJnZXRab29tKSxcclxuXHRcdCAgICB1MSA9ICh0by5kaXN0YW5jZVRvKGZyb20pKSB8fCAxLFxyXG5cdFx0ICAgIHJobyA9IDEuNDIsXHJcblx0XHQgICAgcmhvMiA9IHJobyAqIHJobztcclxuXHJcblx0XHRmdW5jdGlvbiByKGkpIHtcclxuXHRcdFx0dmFyIHMxID0gaSA/IC0xIDogMSxcclxuXHRcdFx0ICAgIHMyID0gaSA/IHcxIDogdzAsXHJcblx0XHRcdCAgICB0MSA9IHcxICogdzEgLSB3MCAqIHcwICsgczEgKiByaG8yICogcmhvMiAqIHUxICogdTEsXHJcblx0XHRcdCAgICBiMSA9IDIgKiBzMiAqIHJobzIgKiB1MSxcclxuXHRcdFx0ICAgIGIgPSB0MSAvIGIxLFxyXG5cdFx0XHQgICAgc3EgPSBNYXRoLnNxcnQoYiAqIGIgKyAxKSAtIGI7XHJcblxyXG5cdFx0XHQgICAgLy8gd29ya2Fyb3VuZCBmb3IgZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGJ1ZyB3aGVuIHNxID0gMCwgbG9nID0gLUluZmluaXRlLFxyXG5cdFx0XHQgICAgLy8gdGh1cyB0cmlnZ2VyaW5nIGFuIGluZmluaXRlIGxvb3AgaW4gZmx5VG9cclxuXHRcdFx0ICAgIHZhciBsb2cgPSBzcSA8IDAuMDAwMDAwMDAxID8gLTE4IDogTWF0aC5sb2coc3EpO1xyXG5cclxuXHRcdFx0cmV0dXJuIGxvZztcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaW5oKG4pIHsgcmV0dXJuIChNYXRoLmV4cChuKSAtIE1hdGguZXhwKC1uKSkgLyAyOyB9XHJcblx0XHRmdW5jdGlvbiBjb3NoKG4pIHsgcmV0dXJuIChNYXRoLmV4cChuKSArIE1hdGguZXhwKC1uKSkgLyAyOyB9XHJcblx0XHRmdW5jdGlvbiB0YW5oKG4pIHsgcmV0dXJuIHNpbmgobikgLyBjb3NoKG4pOyB9XHJcblxyXG5cdFx0dmFyIHIwID0gcigwKTtcclxuXHJcblx0XHRmdW5jdGlvbiB3KHMpIHsgcmV0dXJuIHcwICogKGNvc2gocjApIC8gY29zaChyMCArIHJobyAqIHMpKTsgfVxyXG5cdFx0ZnVuY3Rpb24gdShzKSB7IHJldHVybiB3MCAqIChjb3NoKHIwKSAqIHRhbmgocjAgKyByaG8gKiBzKSAtIHNpbmgocjApKSAvIHJobzI7IH1cclxuXHJcblx0XHRmdW5jdGlvbiBlYXNlT3V0KHQpIHsgcmV0dXJuIDEgLSBNYXRoLnBvdygxIC0gdCwgMS41KTsgfVxyXG5cclxuXHRcdHZhciBzdGFydCA9IERhdGUubm93KCksXHJcblx0XHQgICAgUyA9IChyKDEpIC0gcjApIC8gcmhvLFxyXG5cdFx0ICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiA/IDEwMDAgKiBvcHRpb25zLmR1cmF0aW9uIDogMTAwMCAqIFMgKiAwLjg7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZnJhbWUoKSB7XHJcblx0XHRcdHZhciB0ID0gKERhdGUubm93KCkgLSBzdGFydCkgLyBkdXJhdGlvbixcclxuXHRcdFx0ICAgIHMgPSBlYXNlT3V0KHQpICogUztcclxuXHJcblx0XHRcdGlmICh0IDw9IDEpIHtcclxuXHRcdFx0XHR0aGlzLl9mbHlUb0ZyYW1lID0gVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKGZyYW1lLCB0aGlzKTtcclxuXHJcblx0XHRcdFx0dGhpcy5fbW92ZShcclxuXHRcdFx0XHRcdHRoaXMudW5wcm9qZWN0KGZyb20uYWRkKHRvLnN1YnRyYWN0KGZyb20pLm11bHRpcGx5QnkodShzKSAvIHUxKSksIHN0YXJ0Wm9vbSksXHJcblx0XHRcdFx0XHR0aGlzLmdldFNjYWxlWm9vbSh3MCAvIHcocyksIHN0YXJ0Wm9vbSksXHJcblx0XHRcdFx0XHR7Zmx5VG86IHRydWV9KTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpc1xyXG5cdFx0XHRcdFx0Ll9tb3ZlKHRhcmdldENlbnRlciwgdGFyZ2V0Wm9vbSlcclxuXHRcdFx0XHRcdC5fbW92ZUVuZCh0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX21vdmVTdGFydCh0cnVlLCBvcHRpb25zLm5vTW92ZVN0YXJ0KTtcclxuXHJcblx0XHRmcmFtZS5jYWxsKHRoaXMpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBmbHlUb0JvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IGZpdEJvdW5kcyBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIHZpZXcgb2YgdGhlIG1hcCB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbiBsaWtlIFtgZmx5VG9gXSgjbWFwLWZseXRvKSxcclxuXHQvLyBidXQgdGFrZXMgYSBib3VuZHMgcGFyYW1ldGVyIGxpa2UgW2BmaXRCb3VuZHNgXSgjbWFwLWZpdGJvdW5kcykuXHJcblx0Zmx5VG9Cb3VuZHM6IGZ1bmN0aW9uIChib3VuZHMsIG9wdGlvbnMpIHtcclxuXHRcdHZhciB0YXJnZXQgPSB0aGlzLl9nZXRCb3VuZHNDZW50ZXJab29tKGJvdW5kcywgb3B0aW9ucyk7XHJcblx0XHRyZXR1cm4gdGhpcy5mbHlUbyh0YXJnZXQuY2VudGVyLCB0YXJnZXQuem9vbSwgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRNYXhCb3VuZHMoYm91bmRzOiBMYXRMbmdCb3VuZHMpOiB0aGlzXHJcblx0Ly8gUmVzdHJpY3RzIHRoZSBtYXAgdmlldyB0byB0aGUgZ2l2ZW4gYm91bmRzIChzZWUgdGhlIFttYXhCb3VuZHNdKCNtYXAtbWF4Ym91bmRzKSBvcHRpb24pLlxyXG5cdHNldE1heEJvdW5kczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0Ym91bmRzID0gdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHRpZiAodGhpcy5saXN0ZW5zKCdtb3ZlZW5kJywgdGhpcy5fcGFuSW5zaWRlTWF4Qm91bmRzKSkge1xyXG5cdFx0XHR0aGlzLm9mZignbW92ZWVuZCcsIHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFib3VuZHMuaXNWYWxpZCgpKSB7XHJcblx0XHRcdHRoaXMub3B0aW9ucy5tYXhCb3VuZHMgPSBudWxsO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLm9wdGlvbnMubWF4Qm91bmRzID0gYm91bmRzO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sb2FkZWQpIHtcclxuXHRcdFx0dGhpcy5fcGFuSW5zaWRlTWF4Qm91bmRzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMub24oJ21vdmVlbmQnLCB0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0TWluWm9vbSh6b29tOiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgbG93ZXIgbGltaXQgZm9yIHRoZSBhdmFpbGFibGUgem9vbSBsZXZlbHMgKHNlZSB0aGUgW21pblpvb21dKCNtYXAtbWluem9vbSkgb3B0aW9uKS5cclxuXHRzZXRNaW5ab29tOiBmdW5jdGlvbiAoem9vbSkge1xyXG5cdFx0dmFyIG9sZFpvb20gPSB0aGlzLm9wdGlvbnMubWluWm9vbTtcclxuXHRcdHRoaXMub3B0aW9ucy5taW5ab29tID0gem9vbTtcclxuXHJcblx0XHRpZiAodGhpcy5fbG9hZGVkICYmIG9sZFpvb20gIT09IHpvb20pIHtcclxuXHRcdFx0dGhpcy5maXJlKCd6b29tbGV2ZWxzY2hhbmdlJyk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5nZXRab29tKCkgPCB0aGlzLm9wdGlvbnMubWluWm9vbSkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnNldFpvb20oem9vbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldE1heFpvb20oem9vbTogTnVtYmVyKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIHVwcGVyIGxpbWl0IGZvciB0aGUgYXZhaWxhYmxlIHpvb20gbGV2ZWxzIChzZWUgdGhlIFttYXhab29tXSgjbWFwLW1heHpvb20pIG9wdGlvbikuXHJcblx0c2V0TWF4Wm9vbTogZnVuY3Rpb24gKHpvb20pIHtcclxuXHRcdHZhciBvbGRab29tID0gdGhpcy5vcHRpb25zLm1heFpvb207XHJcblx0XHR0aGlzLm9wdGlvbnMubWF4Wm9vbSA9IHpvb207XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCAmJiBvbGRab29tICE9PSB6b29tKSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnem9vbWxldmVsc2NoYW5nZScpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuZ2V0Wm9vbSgpID4gdGhpcy5vcHRpb25zLm1heFpvb20pIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5zZXRab29tKHpvb20pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwYW5JbnNpZGVCb3VuZHMoYm91bmRzOiBMYXRMbmdCb3VuZHMsIG9wdGlvbnM/OiBQYW4gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBQYW5zIHRoZSBtYXAgdG8gdGhlIGNsb3Nlc3QgdmlldyB0aGF0IHdvdWxkIGxpZSBpbnNpZGUgdGhlIGdpdmVuIGJvdW5kcyAoaWYgaXQncyBub3QgYWxyZWFkeSksIGNvbnRyb2xsaW5nIHRoZSBhbmltYXRpb24gdXNpbmcgdGhlIG9wdGlvbnMgc3BlY2lmaWMsIGlmIGFueS5cclxuXHRwYW5JbnNpZGVCb3VuZHM6IGZ1bmN0aW9uIChib3VuZHMsIG9wdGlvbnMpIHtcclxuXHRcdHRoaXMuX2VuZm9yY2luZ0JvdW5kcyA9IHRydWU7XHJcblx0XHR2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKSxcclxuXHRcdCAgICBuZXdDZW50ZXIgPSB0aGlzLl9saW1pdENlbnRlcihjZW50ZXIsIHRoaXMuX3pvb20sIHRvTGF0TG5nQm91bmRzKGJvdW5kcykpO1xyXG5cclxuXHRcdGlmICghY2VudGVyLmVxdWFscyhuZXdDZW50ZXIpKSB7XHJcblx0XHRcdHRoaXMucGFuVG8obmV3Q2VudGVyLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9lbmZvcmNpbmdCb3VuZHMgPSBmYWxzZTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcGFuSW5zaWRlKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogcGFkZGluZyBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFBhbnMgdGhlIG1hcCB0aGUgbWluaW11bSBhbW91bnQgdG8gbWFrZSB0aGUgYGxhdGxuZ2AgdmlzaWJsZS4gVXNlXHJcblx0Ly8gcGFkZGluZyBvcHRpb25zIHRvIGZpdCB0aGUgZGlzcGxheSB0byBtb3JlIHJlc3RyaWN0ZWQgYm91bmRzLlxyXG5cdC8vIElmIGBsYXRsbmdgIGlzIGFscmVhZHkgd2l0aGluIHRoZSAob3B0aW9uYWxseSBwYWRkZWQpIGRpc3BsYXkgYm91bmRzLFxyXG5cdC8vIHRoZSBtYXAgd2lsbCBub3QgYmUgcGFubmVkLlxyXG5cdHBhbkluc2lkZTogZnVuY3Rpb24gKGxhdGxuZywgb3B0aW9ucykge1xyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG5cdFx0dmFyIHBhZGRpbmdUTCA9IHRvUG9pbnQob3B0aW9ucy5wYWRkaW5nVG9wTGVmdCB8fCBvcHRpb25zLnBhZGRpbmcgfHwgWzAsIDBdKSxcclxuXHRcdCAgICBwYWRkaW5nQlIgPSB0b1BvaW50KG9wdGlvbnMucGFkZGluZ0JvdHRvbVJpZ2h0IHx8IG9wdGlvbnMucGFkZGluZyB8fCBbMCwgMF0pLFxyXG5cdFx0ICAgIHBpeGVsQ2VudGVyID0gdGhpcy5wcm9qZWN0KHRoaXMuZ2V0Q2VudGVyKCkpLFxyXG5cdFx0ICAgIHBpeGVsUG9pbnQgPSB0aGlzLnByb2plY3QobGF0bG5nKSxcclxuXHRcdCAgICBwaXhlbEJvdW5kcyA9IHRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSxcclxuXHRcdCAgICBwYWRkZWRCb3VuZHMgPSB0b0JvdW5kcyhbcGl4ZWxCb3VuZHMubWluLmFkZChwYWRkaW5nVEwpLCBwaXhlbEJvdW5kcy5tYXguc3VidHJhY3QocGFkZGluZ0JSKV0pLFxyXG5cdFx0ICAgIHBhZGRlZFNpemUgPSBwYWRkZWRCb3VuZHMuZ2V0U2l6ZSgpO1xyXG5cclxuXHRcdGlmICghcGFkZGVkQm91bmRzLmNvbnRhaW5zKHBpeGVsUG9pbnQpKSB7XHJcblx0XHRcdHRoaXMuX2VuZm9yY2luZ0JvdW5kcyA9IHRydWU7XHJcblx0XHRcdHZhciBjZW50ZXJPZmZzZXQgPSBwaXhlbFBvaW50LnN1YnRyYWN0KHBhZGRlZEJvdW5kcy5nZXRDZW50ZXIoKSk7XHJcblx0XHRcdHZhciBvZmZzZXQgPSBwYWRkZWRCb3VuZHMuZXh0ZW5kKHBpeGVsUG9pbnQpLmdldFNpemUoKS5zdWJ0cmFjdChwYWRkZWRTaXplKTtcclxuXHRcdFx0cGl4ZWxDZW50ZXIueCArPSBjZW50ZXJPZmZzZXQueCA8IDAgPyAtb2Zmc2V0LnggOiBvZmZzZXQueDtcclxuXHRcdFx0cGl4ZWxDZW50ZXIueSArPSBjZW50ZXJPZmZzZXQueSA8IDAgPyAtb2Zmc2V0LnkgOiBvZmZzZXQueTtcclxuXHRcdFx0dGhpcy5wYW5Ubyh0aGlzLnVucHJvamVjdChwaXhlbENlbnRlciksIG9wdGlvbnMpO1xyXG5cdFx0XHR0aGlzLl9lbmZvcmNpbmdCb3VuZHMgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgaW52YWxpZGF0ZVNpemUob3B0aW9uczogWm9vbS9wYW4gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBDaGVja3MgaWYgdGhlIG1hcCBjb250YWluZXIgc2l6ZSBjaGFuZ2VkIGFuZCB1cGRhdGVzIHRoZSBtYXAgaWYgc28g4oCUXHJcblx0Ly8gY2FsbCBpdCBhZnRlciB5b3UndmUgY2hhbmdlZCB0aGUgbWFwIHNpemUgZHluYW1pY2FsbHksIGFsc28gYW5pbWF0aW5nXHJcblx0Ly8gcGFuIGJ5IGRlZmF1bHQuIElmIGBvcHRpb25zLnBhbmAgaXMgYGZhbHNlYCwgcGFubmluZyB3aWxsIG5vdCBvY2N1ci5cclxuXHQvLyBJZiBgb3B0aW9ucy5kZWJvdW5jZU1vdmVlbmRgIGlzIGB0cnVlYCwgaXQgd2lsbCBkZWxheSBgbW92ZWVuZGAgZXZlbnQgc29cclxuXHQvLyB0aGF0IGl0IGRvZXNuJ3QgaGFwcGVuIG9mdGVuIGV2ZW4gaWYgdGhlIG1ldGhvZCBpcyBjYWxsZWQgbWFueVxyXG5cdC8vIHRpbWVzIGluIGEgcm93LlxyXG5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIGludmFsaWRhdGVTaXplKGFuaW1hdGU6IEJvb2xlYW4pOiB0aGlzXHJcblx0Ly8gQ2hlY2tzIGlmIHRoZSBtYXAgY29udGFpbmVyIHNpemUgY2hhbmdlZCBhbmQgdXBkYXRlcyB0aGUgbWFwIGlmIHNvIOKAlFxyXG5cdC8vIGNhbGwgaXQgYWZ0ZXIgeW91J3ZlIGNoYW5nZWQgdGhlIG1hcCBzaXplIGR5bmFtaWNhbGx5LCBhbHNvIGFuaW1hdGluZ1xyXG5cdC8vIHBhbiBieSBkZWZhdWx0LlxyXG5cdGludmFsaWRhdGVTaXplOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdFx0aWYgKCF0aGlzLl9sb2FkZWQpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHRvcHRpb25zID0gVXRpbC5leHRlbmQoe1xyXG5cdFx0XHRhbmltYXRlOiBmYWxzZSxcclxuXHRcdFx0cGFuOiB0cnVlXHJcblx0XHR9LCBvcHRpb25zID09PSB0cnVlID8ge2FuaW1hdGU6IHRydWV9IDogb3B0aW9ucyk7XHJcblxyXG5cdFx0dmFyIG9sZFNpemUgPSB0aGlzLmdldFNpemUoKTtcclxuXHRcdHRoaXMuX3NpemVDaGFuZ2VkID0gdHJ1ZTtcclxuXHRcdHRoaXMuX2xhc3RDZW50ZXIgPSBudWxsO1xyXG5cclxuXHRcdHZhciBuZXdTaXplID0gdGhpcy5nZXRTaXplKCksXHJcblx0XHQgICAgb2xkQ2VudGVyID0gb2xkU2l6ZS5kaXZpZGVCeSgyKS5yb3VuZCgpLFxyXG5cdFx0ICAgIG5ld0NlbnRlciA9IG5ld1NpemUuZGl2aWRlQnkoMikucm91bmQoKSxcclxuXHRcdCAgICBvZmZzZXQgPSBvbGRDZW50ZXIuc3VidHJhY3QobmV3Q2VudGVyKTtcclxuXHJcblx0XHRpZiAoIW9mZnNldC54ICYmICFvZmZzZXQueSkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdGlmIChvcHRpb25zLmFuaW1hdGUgJiYgb3B0aW9ucy5wYW4pIHtcclxuXHRcdFx0dGhpcy5wYW5CeShvZmZzZXQpO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmIChvcHRpb25zLnBhbikge1xyXG5cdFx0XHRcdHRoaXMuX3Jhd1BhbkJ5KG9mZnNldCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuZmlyZSgnbW92ZScpO1xyXG5cclxuXHRcdFx0aWYgKG9wdGlvbnMuZGVib3VuY2VNb3ZlZW5kKSB7XHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lcik7XHJcblx0XHRcdFx0dGhpcy5fc2l6ZVRpbWVyID0gc2V0VGltZW91dChVdGlsLmJpbmQodGhpcy5maXJlLCB0aGlzLCAnbW92ZWVuZCcpLCAyMDApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuZmlyZSgnbW92ZWVuZCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQHNlY3Rpb24gTWFwIHN0YXRlIGNoYW5nZSBldmVudHNcclxuXHRcdC8vIEBldmVudCByZXNpemU6IFJlc2l6ZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgaXMgcmVzaXplZC5cclxuXHRcdHJldHVybiB0aGlzLmZpcmUoJ3Jlc2l6ZScsIHtcclxuXHRcdFx0b2xkU2l6ZTogb2xkU2l6ZSxcclxuXHRcdFx0bmV3U2l6ZTogbmV3U2l6ZVxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gTWV0aG9kcyBmb3IgbW9kaWZ5aW5nIG1hcCBzdGF0ZVxyXG5cdC8vIEBtZXRob2Qgc3RvcCgpOiB0aGlzXHJcblx0Ly8gU3RvcHMgdGhlIGN1cnJlbnRseSBydW5uaW5nIGBwYW5Ub2Agb3IgYGZseVRvYCBhbmltYXRpb24sIGlmIGFueS5cclxuXHRzdG9wOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLnNldFpvb20odGhpcy5fbGltaXRab29tKHRoaXMuX3pvb20pKTtcclxuXHRcdGlmICghdGhpcy5vcHRpb25zLnpvb21TbmFwKSB7XHJcblx0XHRcdHRoaXMuZmlyZSgndmlld3Jlc2V0Jyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5fc3RvcCgpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBzZWN0aW9uIEdlb2xvY2F0aW9uIG1ldGhvZHNcclxuXHQvLyBAbWV0aG9kIGxvY2F0ZShvcHRpb25zPzogTG9jYXRlIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gVHJpZXMgdG8gbG9jYXRlIHRoZSB1c2VyIHVzaW5nIHRoZSBHZW9sb2NhdGlvbiBBUEksIGZpcmluZyBhIFtgbG9jYXRpb25mb3VuZGBdKCNtYXAtbG9jYXRpb25mb3VuZClcclxuXHQvLyBldmVudCB3aXRoIGxvY2F0aW9uIGRhdGEgb24gc3VjY2VzcyBvciBhIFtgbG9jYXRpb25lcnJvcmBdKCNtYXAtbG9jYXRpb25lcnJvcikgZXZlbnQgb24gZmFpbHVyZSxcclxuXHQvLyBhbmQgb3B0aW9uYWxseSBzZXRzIHRoZSBtYXAgdmlldyB0byB0aGUgdXNlcidzIGxvY2F0aW9uIHdpdGggcmVzcGVjdCB0b1xyXG5cdC8vIGRldGVjdGlvbiBhY2N1cmFjeSAob3IgdG8gdGhlIHdvcmxkIHZpZXcgaWYgZ2VvbG9jYXRpb24gZmFpbGVkKS5cclxuXHQvLyBOb3RlIHRoYXQsIGlmIHlvdXIgcGFnZSBkb2Vzbid0IHVzZSBIVFRQUywgdGhpcyBtZXRob2Qgd2lsbCBmYWlsIGluXHJcblx0Ly8gbW9kZXJuIGJyb3dzZXJzIChbQ2hyb21lIDUwIGFuZCBuZXdlcl0oaHR0cHM6Ly9zaXRlcy5nb29nbGUuY29tL2EvY2hyb21pdW0ub3JnL2Rldi9Ib21lL2Nocm9taXVtLXNlY3VyaXR5L2RlcHJlY2F0aW5nLXBvd2VyZnVsLWZlYXR1cmVzLW9uLWluc2VjdXJlLW9yaWdpbnMpKVxyXG5cdC8vIFNlZSBgTG9jYXRlIG9wdGlvbnNgIGZvciBtb3JlIGRldGFpbHMuXHJcblx0bG9jYXRlOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cclxuXHRcdG9wdGlvbnMgPSB0aGlzLl9sb2NhdGVPcHRpb25zID0gVXRpbC5leHRlbmQoe1xyXG5cdFx0XHR0aW1lb3V0OiAxMDAwMCxcclxuXHRcdFx0d2F0Y2g6IGZhbHNlXHJcblx0XHRcdC8vIHNldFZpZXc6IGZhbHNlXHJcblx0XHRcdC8vIG1heFpvb206IDxOdW1iZXI+XHJcblx0XHRcdC8vIG1heGltdW1BZ2U6IDBcclxuXHRcdFx0Ly8gZW5hYmxlSGlnaEFjY3VyYWN5OiBmYWxzZVxyXG5cdFx0fSwgb3B0aW9ucyk7XHJcblxyXG5cdFx0aWYgKCEoJ2dlb2xvY2F0aW9uJyBpbiBuYXZpZ2F0b3IpKSB7XHJcblx0XHRcdHRoaXMuX2hhbmRsZUdlb2xvY2F0aW9uRXJyb3Ioe1xyXG5cdFx0XHRcdGNvZGU6IDAsXHJcblx0XHRcdFx0bWVzc2FnZTogJ0dlb2xvY2F0aW9uIG5vdCBzdXBwb3J0ZWQuJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG9uUmVzcG9uc2UgPSBVdGlsLmJpbmQodGhpcy5faGFuZGxlR2VvbG9jYXRpb25SZXNwb25zZSwgdGhpcyksXHJcblx0XHQgICAgb25FcnJvciA9IFV0aWwuYmluZCh0aGlzLl9oYW5kbGVHZW9sb2NhdGlvbkVycm9yLCB0aGlzKTtcclxuXHJcblx0XHRpZiAob3B0aW9ucy53YXRjaCkge1xyXG5cdFx0XHR0aGlzLl9sb2NhdGlvbldhdGNoSWQgPVxyXG5cdFx0XHQgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKG9uUmVzcG9uc2UsIG9uRXJyb3IsIG9wdGlvbnMpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihvblJlc3BvbnNlLCBvbkVycm9yLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc3RvcExvY2F0ZSgpOiB0aGlzXHJcblx0Ly8gU3RvcHMgd2F0Y2hpbmcgbG9jYXRpb24gcHJldmlvdXNseSBpbml0aWF0ZWQgYnkgYG1hcC5sb2NhdGUoe3dhdGNoOiB0cnVlfSlgXHJcblx0Ly8gYW5kIGFib3J0cyByZXNldHRpbmcgdGhlIG1hcCB2aWV3IGlmIG1hcC5sb2NhdGUgd2FzIGNhbGxlZCB3aXRoXHJcblx0Ly8gYHtzZXRWaWV3OiB0cnVlfWAuXHJcblx0c3RvcExvY2F0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbiAmJiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCkge1xyXG5cdFx0XHRuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9sb2NhdGlvbldhdGNoSWQpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuX2xvY2F0ZU9wdGlvbnMpIHtcclxuXHRcdFx0dGhpcy5fbG9jYXRlT3B0aW9ucy5zZXRWaWV3ID0gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlR2VvbG9jYXRpb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0XHRpZiAoIXRoaXMuX2NvbnRhaW5lci5fbGVhZmxldF9pZCkgeyByZXR1cm47IH1cclxuXHJcblx0XHR2YXIgYyA9IGVycm9yLmNvZGUsXHJcblx0XHQgICAgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHxcclxuXHRcdCAgICAgICAgICAgIChjID09PSAxID8gJ3Blcm1pc3Npb24gZGVuaWVkJyA6XHJcblx0XHQgICAgICAgICAgICAoYyA9PT0gMiA/ICdwb3NpdGlvbiB1bmF2YWlsYWJsZScgOiAndGltZW91dCcpKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbG9jYXRlT3B0aW9ucy5zZXRWaWV3ICYmICF0aGlzLl9sb2FkZWQpIHtcclxuXHRcdFx0dGhpcy5maXRXb3JsZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBzZWN0aW9uIExvY2F0aW9uIGV2ZW50c1xyXG5cdFx0Ly8gQGV2ZW50IGxvY2F0aW9uZXJyb3I6IEVycm9yRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gZ2VvbG9jYXRpb24gKHVzaW5nIHRoZSBbYGxvY2F0ZWBdKCNtYXAtbG9jYXRlKSBtZXRob2QpIGZhaWxlZC5cclxuXHRcdHRoaXMuZmlyZSgnbG9jYXRpb25lcnJvcicsIHtcclxuXHRcdFx0Y29kZTogYyxcclxuXHRcdFx0bWVzc2FnZTogJ0dlb2xvY2F0aW9uIGVycm9yOiAnICsgbWVzc2FnZSArICcuJ1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0X2hhbmRsZUdlb2xvY2F0aW9uUmVzcG9uc2U6IGZ1bmN0aW9uIChwb3MpIHtcclxuXHRcdGlmICghdGhpcy5fY29udGFpbmVyLl9sZWFmbGV0X2lkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHZhciBsYXQgPSBwb3MuY29vcmRzLmxhdGl0dWRlLFxyXG5cdFx0ICAgIGxuZyA9IHBvcy5jb29yZHMubG9uZ2l0dWRlLFxyXG5cdFx0ICAgIGxhdGxuZyA9IG5ldyBMYXRMbmcobGF0LCBsbmcpLFxyXG5cdFx0ICAgIGJvdW5kcyA9IGxhdGxuZy50b0JvdW5kcyhwb3MuY29vcmRzLmFjY3VyYWN5ICogMiksXHJcblx0XHQgICAgb3B0aW9ucyA9IHRoaXMuX2xvY2F0ZU9wdGlvbnM7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuc2V0Vmlldykge1xyXG5cdFx0XHR2YXIgem9vbSA9IHRoaXMuZ2V0Qm91bmRzWm9vbShib3VuZHMpO1xyXG5cdFx0XHR0aGlzLnNldFZpZXcobGF0bG5nLCBvcHRpb25zLm1heFpvb20gPyBNYXRoLm1pbih6b29tLCBvcHRpb25zLm1heFpvb20pIDogem9vbSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGRhdGEgPSB7XHJcblx0XHRcdGxhdGxuZzogbGF0bG5nLFxyXG5cdFx0XHRib3VuZHM6IGJvdW5kcyxcclxuXHRcdFx0dGltZXN0YW1wOiBwb3MudGltZXN0YW1wXHJcblx0XHR9O1xyXG5cclxuXHRcdGZvciAodmFyIGkgaW4gcG9zLmNvb3Jkcykge1xyXG5cdFx0XHRpZiAodHlwZW9mIHBvcy5jb29yZHNbaV0gPT09ICdudW1iZXInKSB7XHJcblx0XHRcdFx0ZGF0YVtpXSA9IHBvcy5jb29yZHNbaV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBAZXZlbnQgbG9jYXRpb25mb3VuZDogTG9jYXRpb25FdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBnZW9sb2NhdGlvbiAodXNpbmcgdGhlIFtgbG9jYXRlYF0oI21hcC1sb2NhdGUpIG1ldGhvZClcclxuXHRcdC8vIHdlbnQgc3VjY2Vzc2Z1bGx5LlxyXG5cdFx0dGhpcy5maXJlKCdsb2NhdGlvbmZvdW5kJywgZGF0YSk7XHJcblx0fSxcclxuXHJcblx0Ly8gVE9ETyBBcHByb3ByaWF0ZSBkb2NzIHNlY3Rpb24/XHJcblx0Ly8gQHNlY3Rpb24gT3RoZXIgTWV0aG9kc1xyXG5cdC8vIEBtZXRob2QgYWRkSGFuZGxlcihuYW1lOiBTdHJpbmcsIEhhbmRsZXJDbGFzczogRnVuY3Rpb24pOiB0aGlzXHJcblx0Ly8gQWRkcyBhIG5ldyBgSGFuZGxlcmAgdG8gdGhlIG1hcCwgZ2l2ZW4gaXRzIG5hbWUgYW5kIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxyXG5cdGFkZEhhbmRsZXI6IGZ1bmN0aW9uIChuYW1lLCBIYW5kbGVyQ2xhc3MpIHtcclxuXHRcdGlmICghSGFuZGxlckNsYXNzKSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0dmFyIGhhbmRsZXIgPSB0aGlzW25hbWVdID0gbmV3IEhhbmRsZXJDbGFzcyh0aGlzKTtcclxuXHJcblx0XHR0aGlzLl9oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnNbbmFtZV0pIHtcclxuXHRcdFx0aGFuZGxlci5lbmFibGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZSgpOiB0aGlzXHJcblx0Ly8gRGVzdHJveXMgdGhlIG1hcCBhbmQgY2xlYXJzIGFsbCByZWxhdGVkIGV2ZW50IGxpc3RlbmVycy5cclxuXHRyZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHR0aGlzLl9pbml0RXZlbnRzKHRydWUpO1xyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5tYXhCb3VuZHMpIHsgdGhpcy5vZmYoJ21vdmVlbmQnLCB0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMpOyB9XHJcblxyXG5cdFx0aWYgKHRoaXMuX2NvbnRhaW5lcklkICE9PSB0aGlzLl9jb250YWluZXIuX2xlYWZsZXRfaWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNYXAgY29udGFpbmVyIGlzIGJlaW5nIHJldXNlZCBieSBhbm90aGVyIGluc3RhbmNlJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gdGhyb3dzIGVycm9yIGluIElFNi04XHJcblx0XHRcdGRlbGV0ZSB0aGlzLl9jb250YWluZXIuX2xlYWZsZXRfaWQ7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLl9jb250YWluZXJJZDtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Lyplc2xpbnQtZGlzYWJsZSAqL1xyXG5cdFx0XHR0aGlzLl9jb250YWluZXIuX2xlYWZsZXRfaWQgPSB1bmRlZmluZWQ7XHJcblx0XHRcdC8qIGVzbGludC1lbmFibGUgKi9cclxuXHRcdFx0dGhpcy5fY29udGFpbmVySWQgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHRoaXMuc3RvcExvY2F0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3N0b3AoKTtcclxuXHJcblx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9tYXBQYW5lKTtcclxuXHJcblx0XHRpZiAodGhpcy5fY2xlYXJDb250cm9sUG9zKSB7XHJcblx0XHRcdHRoaXMuX2NsZWFyQ29udHJvbFBvcygpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuX3Jlc2l6ZVJlcXVlc3QpIHtcclxuXHRcdFx0VXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fcmVzaXplUmVxdWVzdCk7XHJcblx0XHRcdHRoaXMuX3Jlc2l6ZVJlcXVlc3QgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2NsZWFySGFuZGxlcnMoKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbG9hZGVkKSB7XHJcblx0XHRcdC8vIEBzZWN0aW9uIE1hcCBzdGF0ZSBjaGFuZ2UgZXZlbnRzXHJcblx0XHRcdC8vIEBldmVudCB1bmxvYWQ6IEV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcCBpcyBkZXN0cm95ZWQgd2l0aCBbcmVtb3ZlXSgjbWFwLXJlbW92ZSkgbWV0aG9kLlxyXG5cdFx0XHR0aGlzLmZpcmUoJ3VubG9hZCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBpO1xyXG5cdFx0Zm9yIChpIGluIHRoaXMuX2xheWVycykge1xyXG5cdFx0XHR0aGlzLl9sYXllcnNbaV0ucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0XHRmb3IgKGkgaW4gdGhpcy5fcGFuZXMpIHtcclxuXHRcdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fcGFuZXNbaV0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2xheWVycyA9IFtdO1xyXG5cdFx0dGhpcy5fcGFuZXMgPSBbXTtcclxuXHRcdGRlbGV0ZSB0aGlzLl9tYXBQYW5lO1xyXG5cdFx0ZGVsZXRlIHRoaXMuX3JlbmRlcmVyO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBzZWN0aW9uIE90aGVyIE1ldGhvZHNcclxuXHQvLyBAbWV0aG9kIGNyZWF0ZVBhbmUobmFtZTogU3RyaW5nLCBjb250YWluZXI/OiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50XHJcblx0Ly8gQ3JlYXRlcyBhIG5ldyBbbWFwIHBhbmVdKCNtYXAtcGFuZSkgd2l0aCB0aGUgZ2l2ZW4gbmFtZSBpZiBpdCBkb2Vzbid0IGV4aXN0IGFscmVhZHksXHJcblx0Ly8gdGhlbiByZXR1cm5zIGl0LiBUaGUgcGFuZSBpcyBjcmVhdGVkIGFzIGEgY2hpbGQgb2YgYGNvbnRhaW5lcmAsIG9yXHJcblx0Ly8gYXMgYSBjaGlsZCBvZiB0aGUgbWFpbiBtYXAgcGFuZSBpZiBub3Qgc2V0LlxyXG5cdGNyZWF0ZVBhbmU6IGZ1bmN0aW9uIChuYW1lLCBjb250YWluZXIpIHtcclxuXHRcdHZhciBjbGFzc05hbWUgPSAnbGVhZmxldC1wYW5lJyArIChuYW1lID8gJyBsZWFmbGV0LScgKyBuYW1lLnJlcGxhY2UoJ1BhbmUnLCAnJykgKyAnLXBhbmUnIDogJycpLFxyXG5cdFx0ICAgIHBhbmUgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lLCBjb250YWluZXIgfHwgdGhpcy5fbWFwUGFuZSk7XHJcblxyXG5cdFx0aWYgKG5hbWUpIHtcclxuXHRcdFx0dGhpcy5fcGFuZXNbbmFtZV0gPSBwYW5lO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBhbmU7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gTWV0aG9kcyBmb3IgR2V0dGluZyBNYXAgU3RhdGVcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRDZW50ZXIoKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIGNlbnRlciBvZiB0aGUgbWFwIHZpZXdcclxuXHRnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX2NoZWNrSWZMb2FkZWQoKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbGFzdENlbnRlciAmJiAhdGhpcy5fbW92ZWQoKSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fbGFzdENlbnRlci5jbG9uZSgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRab29tKCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgem9vbSBsZXZlbCBvZiB0aGUgbWFwIHZpZXdcclxuXHRnZXRab29tOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fem9vbTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEJvdW5kcygpOiBMYXRMbmdCb3VuZHNcclxuXHQvLyBSZXR1cm5zIHRoZSBnZW9ncmFwaGljYWwgYm91bmRzIHZpc2libGUgaW4gdGhlIGN1cnJlbnQgbWFwIHZpZXdcclxuXHRnZXRCb3VuZHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBib3VuZHMgPSB0aGlzLmdldFBpeGVsQm91bmRzKCksXHJcblx0XHQgICAgc3cgPSB0aGlzLnVucHJvamVjdChib3VuZHMuZ2V0Qm90dG9tTGVmdCgpKSxcclxuXHRcdCAgICBuZSA9IHRoaXMudW5wcm9qZWN0KGJvdW5kcy5nZXRUb3BSaWdodCgpKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IExhdExuZ0JvdW5kcyhzdywgbmUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0TWluWm9vbSgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcCAoaWYgc2V0IGluIHRoZSBgbWluWm9vbWAgb3B0aW9uIG9mIHRoZSBtYXAgb3Igb2YgYW55IGxheWVycyksIG9yIGAwYCBieSBkZWZhdWx0LlxyXG5cdGdldE1pblpvb206IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMubWluWm9vbSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fbGF5ZXJzTWluWm9vbSB8fCAwIDogdGhpcy5vcHRpb25zLm1pblpvb207XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRNYXhab29tKCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIG1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwIChpZiBzZXQgaW4gdGhlIGBtYXhab29tYCBvcHRpb24gb2YgdGhlIG1hcCBvciBvZiBhbnkgbGF5ZXJzKS5cclxuXHRnZXRNYXhab29tOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLm1heFpvb20gPT09IHVuZGVmaW5lZCA/XHJcblx0XHRcdCh0aGlzLl9sYXllcnNNYXhab29tID09PSB1bmRlZmluZWQgPyBJbmZpbml0eSA6IHRoaXMuX2xheWVyc01heFpvb20pIDpcclxuXHRcdFx0dGhpcy5vcHRpb25zLm1heFpvb207XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRCb3VuZHNab29tKGJvdW5kczogTGF0TG5nQm91bmRzLCBpbnNpZGU/OiBCb29sZWFuLCBwYWRkaW5nPzogUG9pbnQpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb24gd2hpY2ggdGhlIGdpdmVuIGJvdW5kcyBmaXQgdG8gdGhlIG1hcFxyXG5cdC8vIHZpZXcgaW4gaXRzIGVudGlyZXR5LiBJZiBgaW5zaWRlYCAob3B0aW9uYWwpIGlzIHNldCB0byBgdHJ1ZWAsIHRoZSBtZXRob2RcclxuXHQvLyBpbnN0ZWFkIHJldHVybnMgdGhlIG1pbmltdW0gem9vbSBsZXZlbCBvbiB3aGljaCB0aGUgbWFwIHZpZXcgZml0cyBpbnRvXHJcblx0Ly8gdGhlIGdpdmVuIGJvdW5kcyBpbiBpdHMgZW50aXJldHkuXHJcblx0Z2V0Qm91bmRzWm9vbTogZnVuY3Rpb24gKGJvdW5kcywgaW5zaWRlLCBwYWRkaW5nKSB7IC8vIChMYXRMbmdCb3VuZHNbLCBCb29sZWFuLCBQb2ludF0pIC0+IE51bWJlclxyXG5cdFx0Ym91bmRzID0gdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHRcdHBhZGRpbmcgPSB0b1BvaW50KHBhZGRpbmcgfHwgWzAsIDBdKTtcclxuXHJcblx0XHR2YXIgem9vbSA9IHRoaXMuZ2V0Wm9vbSgpIHx8IDAsXHJcblx0XHQgICAgbWluID0gdGhpcy5nZXRNaW5ab29tKCksXHJcblx0XHQgICAgbWF4ID0gdGhpcy5nZXRNYXhab29tKCksXHJcblx0XHQgICAgbncgPSBib3VuZHMuZ2V0Tm9ydGhXZXN0KCksXHJcblx0XHQgICAgc2UgPSBib3VuZHMuZ2V0U291dGhFYXN0KCksXHJcblx0XHQgICAgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLnN1YnRyYWN0KHBhZGRpbmcpLFxyXG5cdFx0ICAgIGJvdW5kc1NpemUgPSB0b0JvdW5kcyh0aGlzLnByb2plY3Qoc2UsIHpvb20pLCB0aGlzLnByb2plY3QobncsIHpvb20pKS5nZXRTaXplKCksXHJcblx0XHQgICAgc25hcCA9IEJyb3dzZXIuYW55M2QgPyB0aGlzLm9wdGlvbnMuem9vbVNuYXAgOiAxLFxyXG5cdFx0ICAgIHNjYWxleCA9IHNpemUueCAvIGJvdW5kc1NpemUueCxcclxuXHRcdCAgICBzY2FsZXkgPSBzaXplLnkgLyBib3VuZHNTaXplLnksXHJcblx0XHQgICAgc2NhbGUgPSBpbnNpZGUgPyBNYXRoLm1heChzY2FsZXgsIHNjYWxleSkgOiBNYXRoLm1pbihzY2FsZXgsIHNjYWxleSk7XHJcblxyXG5cdFx0em9vbSA9IHRoaXMuZ2V0U2NhbGVab29tKHNjYWxlLCB6b29tKTtcclxuXHJcblx0XHRpZiAoc25hcCkge1xyXG5cdFx0XHR6b29tID0gTWF0aC5yb3VuZCh6b29tIC8gKHNuYXAgLyAxMDApKSAqIChzbmFwIC8gMTAwKTsgLy8gZG9uJ3QganVtcCBpZiB3aXRoaW4gMSUgb2YgYSBzbmFwIGxldmVsXHJcblx0XHRcdHpvb20gPSBpbnNpZGUgPyBNYXRoLmNlaWwoem9vbSAvIHNuYXApICogc25hcCA6IE1hdGguZmxvb3Ioem9vbSAvIHNuYXApICogc25hcDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHpvb20pKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFNpemUoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBjdXJyZW50IHNpemUgb2YgdGhlIG1hcCBjb250YWluZXIgKGluIHBpeGVscykuXHJcblx0Z2V0U2l6ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9zaXplIHx8IHRoaXMuX3NpemVDaGFuZ2VkKSB7XHJcblx0XHRcdHRoaXMuX3NpemUgPSBuZXcgUG9pbnQoXHJcblx0XHRcdFx0dGhpcy5fY29udGFpbmVyLmNsaWVudFdpZHRoIHx8IDAsXHJcblx0XHRcdFx0dGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodCB8fCAwKTtcclxuXHJcblx0XHRcdHRoaXMuX3NpemVDaGFuZ2VkID0gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5fc2l6ZS5jbG9uZSgpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0UGl4ZWxCb3VuZHMoKTogQm91bmRzXHJcblx0Ly8gUmV0dXJucyB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50IG1hcCB2aWV3IGluIHByb2plY3RlZCBwaXhlbFxyXG5cdC8vIGNvb3JkaW5hdGVzIChzb21ldGltZXMgdXNlZnVsIGluIGxheWVyIGFuZCBvdmVybGF5IGltcGxlbWVudGF0aW9ucykuXHJcblx0Z2V0UGl4ZWxCb3VuZHM6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20pIHtcclxuXHRcdHZhciB0b3BMZWZ0UG9pbnQgPSB0aGlzLl9nZXRUb3BMZWZ0UG9pbnQoY2VudGVyLCB6b29tKTtcclxuXHRcdHJldHVybiBuZXcgQm91bmRzKHRvcExlZnRQb2ludCwgdG9wTGVmdFBvaW50LmFkZCh0aGlzLmdldFNpemUoKSkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIFRPRE86IENoZWNrIHNlbWFudGljcyAtIGlzbid0IHRoZSBwaXhlbCBvcmlnaW4gdGhlIDAsMCBjb29yZCByZWxhdGl2ZSB0b1xyXG5cdC8vIHRoZSBtYXAgcGFuZT8gXCJsZWZ0IHBvaW50IG9mIHRoZSBtYXAgbGF5ZXJcIiBjYW4gYmUgY29uZnVzaW5nLCBzcGVjaWFsbHlcclxuXHQvLyBzaW5jZSB0aGVyZSBjYW4gYmUgbmVnYXRpdmUgb2Zmc2V0cy5cclxuXHQvLyBAbWV0aG9kIGdldFBpeGVsT3JpZ2luKCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgcHJvamVjdGVkIHBpeGVsIGNvb3JkaW5hdGVzIG9mIHRoZSB0b3AgbGVmdCBwb2ludCBvZlxyXG5cdC8vIHRoZSBtYXAgbGF5ZXIgKHVzZWZ1bCBpbiBjdXN0b20gbGF5ZXIgYW5kIG92ZXJsYXkgaW1wbGVtZW50YXRpb25zKS5cclxuXHRnZXRQaXhlbE9yaWdpbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fY2hlY2tJZkxvYWRlZCgpO1xyXG5cdFx0cmV0dXJuIHRoaXMuX3BpeGVsT3JpZ2luO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0UGl4ZWxXb3JsZEJvdW5kcyh6b29tPzogTnVtYmVyKTogQm91bmRzXHJcblx0Ly8gUmV0dXJucyB0aGUgd29ybGQncyBib3VuZHMgaW4gcGl4ZWwgY29vcmRpbmF0ZXMgZm9yIHpvb20gbGV2ZWwgYHpvb21gLlxyXG5cdC8vIElmIGB6b29tYCBpcyBvbWl0dGVkLCB0aGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsIGlzIHVzZWQuXHJcblx0Z2V0UGl4ZWxXb3JsZEJvdW5kczogZnVuY3Rpb24gKHpvb20pIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuY3JzLmdldFByb2plY3RlZEJvdW5kcyh6b29tID09PSB1bmRlZmluZWQgPyB0aGlzLmdldFpvb20oKSA6IHpvb20pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBzZWN0aW9uIE90aGVyIE1ldGhvZHNcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRQYW5lKHBhbmU6IFN0cmluZ3xIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50XHJcblx0Ly8gUmV0dXJucyBhIFttYXAgcGFuZV0oI21hcC1wYW5lKSwgZ2l2ZW4gaXRzIG5hbWUgb3IgaXRzIEhUTUwgZWxlbWVudCAoaXRzIGlkZW50aXR5KS5cclxuXHRnZXRQYW5lOiBmdW5jdGlvbiAocGFuZSkge1xyXG5cdFx0cmV0dXJuIHR5cGVvZiBwYW5lID09PSAnc3RyaW5nJyA/IHRoaXMuX3BhbmVzW3BhbmVdIDogcGFuZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFBhbmVzKCk6IE9iamVjdFxyXG5cdC8vIFJldHVybnMgYSBwbGFpbiBvYmplY3QgY29udGFpbmluZyB0aGUgbmFtZXMgb2YgYWxsIFtwYW5lc10oI21hcC1wYW5lKSBhcyBrZXlzIGFuZFxyXG5cdC8vIHRoZSBwYW5lcyBhcyB2YWx1ZXMuXHJcblx0Z2V0UGFuZXM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9wYW5lcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBIVE1MIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgbWFwLlxyXG5cdGdldENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuXHR9LFxyXG5cclxuXHJcblx0Ly8gQHNlY3Rpb24gQ29udmVyc2lvbiBNZXRob2RzXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Wm9vbVNjYWxlKHRvWm9vbTogTnVtYmVyLCBmcm9tWm9vbTogTnVtYmVyKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgc2NhbGUgZmFjdG9yIHRvIGJlIGFwcGxpZWQgdG8gYSBtYXAgdHJhbnNpdGlvbiBmcm9tIHpvb20gbGV2ZWxcclxuXHQvLyBgZnJvbVpvb21gIHRvIGB0b1pvb21gLiBVc2VkIGludGVybmFsbHkgdG8gaGVscCB3aXRoIHpvb20gYW5pbWF0aW9ucy5cclxuXHRnZXRab29tU2NhbGU6IGZ1bmN0aW9uICh0b1pvb20sIGZyb21ab29tKSB7XHJcblx0XHQvLyBUT0RPIHJlcGxhY2Ugd2l0aCB1bml2ZXJzYWwgaW1wbGVtZW50YXRpb24gYWZ0ZXIgcmVmYWN0b3JpbmcgcHJvamVjdGlvbnNcclxuXHRcdHZhciBjcnMgPSB0aGlzLm9wdGlvbnMuY3JzO1xyXG5cdFx0ZnJvbVpvb20gPSBmcm9tWm9vbSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fem9vbSA6IGZyb21ab29tO1xyXG5cdFx0cmV0dXJuIGNycy5zY2FsZSh0b1pvb20pIC8gY3JzLnNjYWxlKGZyb21ab29tKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFNjYWxlWm9vbShzY2FsZTogTnVtYmVyLCBmcm9tWm9vbTogTnVtYmVyKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgem9vbSBsZXZlbCB0aGF0IHRoZSBtYXAgd291bGQgZW5kIHVwIGF0LCBpZiBpdCBpcyBhdCBgZnJvbVpvb21gXHJcblx0Ly8gbGV2ZWwgYW5kIGV2ZXJ5dGhpbmcgaXMgc2NhbGVkIGJ5IGEgZmFjdG9yIG9mIGBzY2FsZWAuIEludmVyc2Ugb2ZcclxuXHQvLyBbYGdldFpvb21TY2FsZWBdKCNtYXAtZ2V0Wm9vbVNjYWxlKS5cclxuXHRnZXRTY2FsZVpvb206IGZ1bmN0aW9uIChzY2FsZSwgZnJvbVpvb20pIHtcclxuXHRcdHZhciBjcnMgPSB0aGlzLm9wdGlvbnMuY3JzO1xyXG5cdFx0ZnJvbVpvb20gPSBmcm9tWm9vbSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fem9vbSA6IGZyb21ab29tO1xyXG5cdFx0dmFyIHpvb20gPSBjcnMuem9vbShzY2FsZSAqIGNycy5zY2FsZShmcm9tWm9vbSkpO1xyXG5cdFx0cmV0dXJuIGlzTmFOKHpvb20pID8gSW5maW5pdHkgOiB6b29tO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcHJvamVjdChsYXRsbmc6IExhdExuZywgem9vbTogTnVtYmVyKTogUG9pbnRcclxuXHQvLyBQcm9qZWN0cyBhIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlIGBMYXRMbmdgIGFjY29yZGluZyB0byB0aGUgcHJvamVjdGlvblxyXG5cdC8vIG9mIHRoZSBtYXAncyBDUlMsIHRoZW4gc2NhbGVzIGl0IGFjY29yZGluZyB0byBgem9vbWAgYW5kIHRoZSBDUlMnc1xyXG5cdC8vIGBUcmFuc2Zvcm1hdGlvbmAuIFRoZSByZXN1bHQgaXMgcGl4ZWwgY29vcmRpbmF0ZSByZWxhdGl2ZSB0b1xyXG5cdC8vIHRoZSBDUlMgb3JpZ2luLlxyXG5cdHByb2plY3Q6IGZ1bmN0aW9uIChsYXRsbmcsIHpvb20pIHtcclxuXHRcdHpvb20gPSB6b29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogem9vbTtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuY3JzLmxhdExuZ1RvUG9pbnQodG9MYXRMbmcobGF0bG5nKSwgem9vbSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1bnByb2plY3QocG9pbnQ6IFBvaW50LCB6b29tOiBOdW1iZXIpOiBMYXRMbmdcclxuXHQvLyBJbnZlcnNlIG9mIFtgcHJvamVjdGBdKCNtYXAtcHJvamVjdCkuXHJcblx0dW5wcm9qZWN0OiBmdW5jdGlvbiAocG9pbnQsIHpvb20pIHtcclxuXHRcdHpvb20gPSB6b29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogem9vbTtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuY3JzLnBvaW50VG9MYXRMbmcodG9Qb2ludChwb2ludCksIHpvb20pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbGF5ZXJQb2ludFRvTGF0TG5nKHBvaW50OiBQb2ludCk6IExhdExuZ1xyXG5cdC8vIEdpdmVuIGEgcGl4ZWwgY29vcmRpbmF0ZSByZWxhdGl2ZSB0byB0aGUgW29yaWdpbiBwaXhlbF0oI21hcC1nZXRwaXhlbG9yaWdpbiksXHJcblx0Ly8gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZSAoZm9yIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwpLlxyXG5cdGxheWVyUG9pbnRUb0xhdExuZzogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHR2YXIgcHJvamVjdGVkUG9pbnQgPSB0b1BvaW50KHBvaW50KS5hZGQodGhpcy5nZXRQaXhlbE9yaWdpbigpKTtcclxuXHRcdHJldHVybiB0aGlzLnVucHJvamVjdChwcm9qZWN0ZWRQb2ludCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBsYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nOiBMYXRMbmcpOiBQb2ludFxyXG5cdC8vIEdpdmVuIGEgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUsIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcGl4ZWwgY29vcmRpbmF0ZVxyXG5cdC8vIHJlbGF0aXZlIHRvIHRoZSBbb3JpZ2luIHBpeGVsXSgjbWFwLWdldHBpeGVsb3JpZ2luKS5cclxuXHRsYXRMbmdUb0xheWVyUG9pbnQ6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBwcm9qZWN0ZWRQb2ludCA9IHRoaXMucHJvamVjdCh0b0xhdExuZyhsYXRsbmcpKS5fcm91bmQoKTtcclxuXHRcdHJldHVybiBwcm9qZWN0ZWRQb2ludC5fc3VidHJhY3QodGhpcy5nZXRQaXhlbE9yaWdpbigpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHdyYXBMYXRMbmcobGF0bG5nOiBMYXRMbmcpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIGEgYExhdExuZ2Agd2hlcmUgYGxhdGAgYW5kIGBsbmdgIGhhcyBiZWVuIHdyYXBwZWQgYWNjb3JkaW5nIHRvIHRoZVxyXG5cdC8vIG1hcCdzIENSUydzIGB3cmFwTGF0YCBhbmQgYHdyYXBMbmdgIHByb3BlcnRpZXMsIGlmIHRoZXkgYXJlIG91dHNpZGUgdGhlXHJcblx0Ly8gQ1JTJ3MgYm91bmRzLlxyXG5cdC8vIEJ5IGRlZmF1bHQgdGhpcyBtZWFucyBsb25naXR1ZGUgaXMgd3JhcHBlZCBhcm91bmQgdGhlIGRhdGVsaW5lIHNvIGl0c1xyXG5cdC8vIHZhbHVlIGlzIGJldHdlZW4gLTE4MCBhbmQgKzE4MCBkZWdyZWVzLlxyXG5cdHdyYXBMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuY3JzLndyYXBMYXRMbmcodG9MYXRMbmcobGF0bG5nKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB3cmFwTGF0TG5nQm91bmRzKGJvdW5kczogTGF0TG5nQm91bmRzKTogTGF0TG5nQm91bmRzXHJcblx0Ly8gUmV0dXJucyBhIGBMYXRMbmdCb3VuZHNgIHdpdGggdGhlIHNhbWUgc2l6ZSBhcyB0aGUgZ2l2ZW4gb25lLCBlbnN1cmluZyB0aGF0XHJcblx0Ly8gaXRzIGNlbnRlciBpcyB3aXRoaW4gdGhlIENSUydzIGJvdW5kcy5cclxuXHQvLyBCeSBkZWZhdWx0IHRoaXMgbWVhbnMgdGhlIGNlbnRlciBsb25naXR1ZGUgaXMgd3JhcHBlZCBhcm91bmQgdGhlIGRhdGVsaW5lIHNvIGl0c1xyXG5cdC8vIHZhbHVlIGlzIGJldHdlZW4gLTE4MCBhbmQgKzE4MCBkZWdyZWVzLCBhbmQgdGhlIG1ham9yaXR5IG9mIHRoZSBib3VuZHNcclxuXHQvLyBvdmVybGFwcyB0aGUgQ1JTJ3MgYm91bmRzLlxyXG5cdHdyYXBMYXRMbmdCb3VuZHM6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuY3JzLndyYXBMYXRMbmdCb3VuZHModG9MYXRMbmdCb3VuZHMobGF0bG5nKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBkaXN0YW5jZShsYXRsbmcxOiBMYXRMbmcsIGxhdGxuZzI6IExhdExuZyk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyBhY2NvcmRpbmcgdG9cclxuXHQvLyB0aGUgbWFwJ3MgQ1JTLiBCeSBkZWZhdWx0IHRoaXMgbWVhc3VyZXMgZGlzdGFuY2UgaW4gbWV0ZXJzLlxyXG5cdGRpc3RhbmNlOiBmdW5jdGlvbiAobGF0bG5nMSwgbGF0bG5nMikge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMuZGlzdGFuY2UodG9MYXRMbmcobGF0bG5nMSksIHRvTGF0TG5nKGxhdGxuZzIpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHBvaW50OiBQb2ludCk6IFBvaW50XHJcblx0Ly8gR2l2ZW4gYSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBtYXAgY29udGFpbmVyLCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nXHJcblx0Ly8gcGl4ZWwgY29vcmRpbmF0ZSByZWxhdGl2ZSB0byB0aGUgW29yaWdpbiBwaXhlbF0oI21hcC1nZXRwaXhlbG9yaWdpbikuXHJcblx0Y29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQ6IGZ1bmN0aW9uIChwb2ludCkgeyAvLyAoUG9pbnQpXHJcblx0XHRyZXR1cm4gdG9Qb2ludChwb2ludCkuc3VidHJhY3QodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50KHBvaW50OiBQb2ludCk6IFBvaW50XHJcblx0Ly8gR2l2ZW4gYSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBbb3JpZ2luIHBpeGVsXSgjbWFwLWdldHBpeGVsb3JpZ2luKSxcclxuXHQvLyByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIG1hcCBjb250YWluZXIuXHJcblx0bGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQ6IGZ1bmN0aW9uIChwb2ludCkgeyAvLyAoUG9pbnQpXHJcblx0XHRyZXR1cm4gdG9Qb2ludChwb2ludCkuYWRkKHRoaXMuX2dldE1hcFBhbmVQb3MoKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjb250YWluZXJQb2ludFRvTGF0TG5nKHBvaW50OiBQb2ludCk6IExhdExuZ1xyXG5cdC8vIEdpdmVuIGEgcGl4ZWwgY29vcmRpbmF0ZSByZWxhdGl2ZSB0byB0aGUgbWFwIGNvbnRhaW5lciwgcmV0dXJuc1xyXG5cdC8vIHRoZSBjb3JyZXNwb25kaW5nIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlIChmb3IgdGhlIGN1cnJlbnQgem9vbSBsZXZlbCkuXHJcblx0Y29udGFpbmVyUG9pbnRUb0xhdExuZzogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHR2YXIgbGF5ZXJQb2ludCA9IHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQodG9Qb2ludChwb2ludCkpO1xyXG5cdFx0cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKGxheWVyUG9pbnQpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbGF0TG5nVG9Db250YWluZXJQb2ludChsYXRsbmc6IExhdExuZyk6IFBvaW50XHJcblx0Ly8gR2l2ZW4gYSBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZSwgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbCBjb29yZGluYXRlXHJcblx0Ly8gcmVsYXRpdmUgdG8gdGhlIG1hcCBjb250YWluZXIuXHJcblx0bGF0TG5nVG9Db250YWluZXJQb2ludDogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQodGhpcy5sYXRMbmdUb0xheWVyUG9pbnQodG9MYXRMbmcobGF0bG5nKSkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZXY6IE1vdXNlRXZlbnQpOiBQb2ludFxyXG5cdC8vIEdpdmVuIGEgTW91c2VFdmVudCBvYmplY3QsIHJldHVybnMgdGhlIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlXHJcblx0Ly8gbWFwIGNvbnRhaW5lciB3aGVyZSB0aGUgZXZlbnQgdG9vayBwbGFjZS5cclxuXHRtb3VzZUV2ZW50VG9Db250YWluZXJQb2ludDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHJldHVybiBEb21FdmVudC5nZXRNb3VzZVBvc2l0aW9uKGUsIHRoaXMuX2NvbnRhaW5lcik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBtb3VzZUV2ZW50VG9MYXllclBvaW50KGV2OiBNb3VzZUV2ZW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIE1vdXNlRXZlbnQgb2JqZWN0LCByZXR1cm5zIHRoZSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvXHJcblx0Ly8gdGhlIFtvcmlnaW4gcGl4ZWxdKCNtYXAtZ2V0cGl4ZWxvcmlnaW4pIHdoZXJlIHRoZSBldmVudCB0b29rIHBsYWNlLlxyXG5cdG1vdXNlRXZlbnRUb0xheWVyUG9pbnQ6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludCh0aGlzLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG1vdXNlRXZlbnRUb0xhdExuZyhldjogTW91c2VFdmVudCk6IExhdExuZ1xyXG5cdC8vIEdpdmVuIGEgTW91c2VFdmVudCBvYmplY3QsIHJldHVybnMgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgd2hlcmUgdGhlXHJcblx0Ly8gZXZlbnQgdG9vayBwbGFjZS5cclxuXHRtb3VzZUV2ZW50VG9MYXRMbmc6IGZ1bmN0aW9uIChlKSB7IC8vIChNb3VzZUV2ZW50KVxyXG5cdFx0cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMubW91c2VFdmVudFRvTGF5ZXJQb2ludChlKSk7XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIG1hcCBpbml0aWFsaXphdGlvbiBtZXRob2RzXHJcblxyXG5cdF9pbml0Q29udGFpbmVyOiBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBEb21VdGlsLmdldChpZCk7XHJcblxyXG5cdFx0aWYgKCFjb250YWluZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNYXAgY29udGFpbmVyIG5vdCBmb3VuZC4nKTtcclxuXHRcdH0gZWxzZSBpZiAoY29udGFpbmVyLl9sZWFmbGV0X2lkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignTWFwIGNvbnRhaW5lciBpcyBhbHJlYWR5IGluaXRpYWxpemVkLicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbUV2ZW50Lm9uKGNvbnRhaW5lciwgJ3Njcm9sbCcsIHRoaXMuX29uU2Nyb2xsLCB0aGlzKTtcclxuXHRcdHRoaXMuX2NvbnRhaW5lcklkID0gVXRpbC5zdGFtcChjb250YWluZXIpO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0TGF5b3V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xyXG5cclxuXHRcdHRoaXMuX2ZhZGVBbmltYXRlZCA9IHRoaXMub3B0aW9ucy5mYWRlQW5pbWF0aW9uICYmIEJyb3dzZXIuYW55M2Q7XHJcblxyXG5cdFx0RG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWNvbnRhaW5lcicgK1xyXG5cdFx0XHQoQnJvd3Nlci50b3VjaCA/ICcgbGVhZmxldC10b3VjaCcgOiAnJykgK1xyXG5cdFx0XHQoQnJvd3Nlci5yZXRpbmEgPyAnIGxlYWZsZXQtcmV0aW5hJyA6ICcnKSArXHJcblx0XHRcdChCcm93c2VyLmllbHQ5ID8gJyBsZWFmbGV0LW9sZGllJyA6ICcnKSArXHJcblx0XHRcdChCcm93c2VyLnNhZmFyaSA/ICcgbGVhZmxldC1zYWZhcmknIDogJycpICtcclxuXHRcdFx0KHRoaXMuX2ZhZGVBbmltYXRlZCA/ICcgbGVhZmxldC1mYWRlLWFuaW0nIDogJycpKTtcclxuXHJcblx0XHR2YXIgcG9zaXRpb24gPSBEb21VdGlsLmdldFN0eWxlKGNvbnRhaW5lciwgJ3Bvc2l0aW9uJyk7XHJcblxyXG5cdFx0aWYgKHBvc2l0aW9uICE9PSAnYWJzb2x1dGUnICYmIHBvc2l0aW9uICE9PSAncmVsYXRpdmUnICYmIHBvc2l0aW9uICE9PSAnZml4ZWQnICYmIHBvc2l0aW9uICE9PSAnc3RpY2t5Jykge1xyXG5cdFx0XHRjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2luaXRQYW5lcygpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9pbml0Q29udHJvbFBvcykge1xyXG5cdFx0XHR0aGlzLl9pbml0Q29udHJvbFBvcygpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9pbml0UGFuZXM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBwYW5lcyA9IHRoaXMuX3BhbmVzID0ge307XHJcblx0XHR0aGlzLl9wYW5lUmVuZGVyZXJzID0ge307XHJcblxyXG5cdFx0Ly8gQHNlY3Rpb25cclxuXHRcdC8vXHJcblx0XHQvLyBQYW5lcyBhcmUgRE9NIGVsZW1lbnRzIHVzZWQgdG8gY29udHJvbCB0aGUgb3JkZXJpbmcgb2YgbGF5ZXJzIG9uIHRoZSBtYXAuIFlvdVxyXG5cdFx0Ly8gY2FuIGFjY2VzcyBwYW5lcyB3aXRoIFtgbWFwLmdldFBhbmVgXSgjbWFwLWdldHBhbmUpIG9yXHJcblx0XHQvLyBbYG1hcC5nZXRQYW5lc2BdKCNtYXAtZ2V0cGFuZXMpIG1ldGhvZHMuIE5ldyBwYW5lcyBjYW4gYmUgY3JlYXRlZCB3aXRoIHRoZVxyXG5cdFx0Ly8gW2BtYXAuY3JlYXRlUGFuZWBdKCNtYXAtY3JlYXRlcGFuZSkgbWV0aG9kLlxyXG5cdFx0Ly9cclxuXHRcdC8vIEV2ZXJ5IG1hcCBoYXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0IHBhbmVzIHRoYXQgZGlmZmVyIG9ubHkgaW4gekluZGV4LlxyXG5cdFx0Ly9cclxuXHRcdC8vIEBwYW5lIG1hcFBhbmU6IEhUTUxFbGVtZW50ID0gJ2F1dG8nXHJcblx0XHQvLyBQYW5lIHRoYXQgY29udGFpbnMgYWxsIG90aGVyIG1hcCBwYW5lc1xyXG5cclxuXHRcdHRoaXMuX21hcFBhbmUgPSB0aGlzLmNyZWF0ZVBhbmUoJ21hcFBhbmUnLCB0aGlzLl9jb250YWluZXIpO1xyXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lLCBuZXcgUG9pbnQoMCwgMCkpO1xyXG5cclxuXHRcdC8vIEBwYW5lIHRpbGVQYW5lOiBIVE1MRWxlbWVudCA9IDIwMFxyXG5cdFx0Ly8gUGFuZSBmb3IgYEdyaWRMYXllcmBzIGFuZCBgVGlsZUxheWVyYHNcclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgndGlsZVBhbmUnKTtcclxuXHRcdC8vIEBwYW5lIG92ZXJsYXlQYW5lOiBIVE1MRWxlbWVudCA9IDQwMFxyXG5cdFx0Ly8gUGFuZSBmb3IgdmVjdG9ycyAoYFBhdGhgcywgbGlrZSBgUG9seWxpbmVgcyBhbmQgYFBvbHlnb25gcyksIGBJbWFnZU92ZXJsYXlgcyBhbmQgYFZpZGVvT3ZlcmxheWBzXHJcblx0XHR0aGlzLmNyZWF0ZVBhbmUoJ292ZXJsYXlQYW5lJyk7XHJcblx0XHQvLyBAcGFuZSBzaGFkb3dQYW5lOiBIVE1MRWxlbWVudCA9IDUwMFxyXG5cdFx0Ly8gUGFuZSBmb3Igb3ZlcmxheSBzaGFkb3dzIChlLmcuIGBNYXJrZXJgIHNoYWRvd3MpXHJcblx0XHR0aGlzLmNyZWF0ZVBhbmUoJ3NoYWRvd1BhbmUnKTtcclxuXHRcdC8vIEBwYW5lIG1hcmtlclBhbmU6IEhUTUxFbGVtZW50ID0gNjAwXHJcblx0XHQvLyBQYW5lIGZvciBgSWNvbmBzIG9mIGBNYXJrZXJgc1xyXG5cdFx0dGhpcy5jcmVhdGVQYW5lKCdtYXJrZXJQYW5lJyk7XHJcblx0XHQvLyBAcGFuZSB0b29sdGlwUGFuZTogSFRNTEVsZW1lbnQgPSA2NTBcclxuXHRcdC8vIFBhbmUgZm9yIGBUb29sdGlwYHMuXHJcblx0XHR0aGlzLmNyZWF0ZVBhbmUoJ3Rvb2x0aXBQYW5lJyk7XHJcblx0XHQvLyBAcGFuZSBwb3B1cFBhbmU6IEhUTUxFbGVtZW50ID0gNzAwXHJcblx0XHQvLyBQYW5lIGZvciBgUG9wdXBgcy5cclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgncG9wdXBQYW5lJyk7XHJcblxyXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMubWFya2VyWm9vbUFuaW1hdGlvbikge1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHBhbmVzLm1hcmtlclBhbmUsICdsZWFmbGV0LXpvb20taGlkZScpO1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHBhbmVzLnNoYWRvd1BhbmUsICdsZWFmbGV0LXpvb20taGlkZScpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBwcml2YXRlIG1ldGhvZHMgdGhhdCBtb2RpZnkgbWFwIHN0YXRlXHJcblxyXG5cdC8vIEBzZWN0aW9uIE1hcCBzdGF0ZSBjaGFuZ2UgZXZlbnRzXHJcblx0X3Jlc2V0VmlldzogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgbm9Nb3ZlU3RhcnQpIHtcclxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSwgbmV3IFBvaW50KDAsIDApKTtcclxuXHJcblx0XHR2YXIgbG9hZGluZyA9ICF0aGlzLl9sb2FkZWQ7XHJcblx0XHR0aGlzLl9sb2FkZWQgPSB0cnVlO1xyXG5cdFx0em9vbSA9IHRoaXMuX2xpbWl0Wm9vbSh6b29tKTtcclxuXHJcblx0XHR0aGlzLmZpcmUoJ3ZpZXdwcmVyZXNldCcpO1xyXG5cclxuXHRcdHZhciB6b29tQ2hhbmdlZCA9IHRoaXMuX3pvb20gIT09IHpvb207XHJcblx0XHR0aGlzXHJcblx0XHRcdC5fbW92ZVN0YXJ0KHpvb21DaGFuZ2VkLCBub01vdmVTdGFydClcclxuXHRcdFx0Ll9tb3ZlKGNlbnRlciwgem9vbSlcclxuXHRcdFx0Ll9tb3ZlRW5kKHpvb21DaGFuZ2VkKTtcclxuXHJcblx0XHQvLyBAZXZlbnQgdmlld3Jlc2V0OiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFwIG5lZWRzIHRvIHJlZHJhdyBpdHMgY29udGVudCAodGhpcyB1c3VhbGx5IGhhcHBlbnNcclxuXHRcdC8vIG9uIG1hcCB6b29tIG9yIGxvYWQpLiBWZXJ5IHVzZWZ1bCBmb3IgY3JlYXRpbmcgY3VzdG9tIG92ZXJsYXlzLlxyXG5cdFx0dGhpcy5maXJlKCd2aWV3cmVzZXQnKTtcclxuXHJcblx0XHQvLyBAZXZlbnQgbG9hZDogRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcCBpcyBpbml0aWFsaXplZCAod2hlbiBpdHMgY2VudGVyIGFuZCB6b29tIGFyZSBzZXRcclxuXHRcdC8vIGZvciB0aGUgZmlyc3QgdGltZSkuXHJcblx0XHRpZiAobG9hZGluZykge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ2xvYWQnKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfbW92ZVN0YXJ0OiBmdW5jdGlvbiAoem9vbUNoYW5nZWQsIG5vTW92ZVN0YXJ0KSB7XHJcblx0XHQvLyBAZXZlbnQgem9vbXN0YXJ0OiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFwIHpvb20gaXMgYWJvdXQgdG8gY2hhbmdlIChlLmcuIGJlZm9yZSB6b29tIGFuaW1hdGlvbikuXHJcblx0XHQvLyBAZXZlbnQgbW92ZXN0YXJ0OiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdmlldyBvZiB0aGUgbWFwIHN0YXJ0cyBjaGFuZ2luZyAoZS5nLiB1c2VyIHN0YXJ0cyBkcmFnZ2luZyB0aGUgbWFwKS5cclxuXHRcdGlmICh6b29tQ2hhbmdlZCkge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ3pvb21zdGFydCcpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFub01vdmVTdGFydCkge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ21vdmVzdGFydCcpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X21vdmU6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIGRhdGEsIHN1cHJlc3NFdmVudCkge1xyXG5cdFx0aWYgKHpvb20gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHR6b29tID0gdGhpcy5fem9vbTtcclxuXHRcdH1cclxuXHRcdHZhciB6b29tQ2hhbmdlZCA9IHRoaXMuX3pvb20gIT09IHpvb207XHJcblxyXG5cdFx0dGhpcy5fem9vbSA9IHpvb207XHJcblx0XHR0aGlzLl9sYXN0Q2VudGVyID0gY2VudGVyO1xyXG5cdFx0dGhpcy5fcGl4ZWxPcmlnaW4gPSB0aGlzLl9nZXROZXdQaXhlbE9yaWdpbihjZW50ZXIpO1xyXG5cclxuXHRcdGlmICghc3VwcmVzc0V2ZW50KSB7XHJcblx0XHRcdC8vIEBldmVudCB6b29tOiBFdmVudFxyXG5cdFx0XHQvLyBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhbnkgY2hhbmdlIGluIHpvb20gbGV2ZWwsXHJcblx0XHRcdC8vIGluY2x1ZGluZyB6b29tIGFuZCBmbHkgYW5pbWF0aW9ucy5cclxuXHRcdFx0aWYgKHpvb21DaGFuZ2VkIHx8IChkYXRhICYmIGRhdGEucGluY2gpKSB7XHQvLyBBbHdheXMgZmlyZSAnem9vbScgaWYgcGluY2hpbmcgYmVjYXVzZSAjMzUzMFxyXG5cdFx0XHRcdHRoaXMuZmlyZSgnem9vbScsIGRhdGEpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBAZXZlbnQgbW92ZTogRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgYW55IG1vdmVtZW50IG9mIHRoZSBtYXAsXHJcblx0XHRcdC8vIGluY2x1ZGluZyBwYW4gYW5kIGZseSBhbmltYXRpb25zLlxyXG5cdFx0XHR0aGlzLmZpcmUoJ21vdmUnLCBkYXRhKTtcclxuXHRcdH0gZWxzZSBpZiAoZGF0YSAmJiBkYXRhLnBpbmNoKSB7XHQvLyBBbHdheXMgZmlyZSAnem9vbScgaWYgcGluY2hpbmcgYmVjYXVzZSAjMzUzMFxyXG5cdFx0XHR0aGlzLmZpcmUoJ3pvb20nLCBkYXRhKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9tb3ZlRW5kOiBmdW5jdGlvbiAoem9vbUNoYW5nZWQpIHtcclxuXHRcdC8vIEBldmVudCB6b29tZW5kOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFwIHpvb20gY2hhbmdlZCwgYWZ0ZXIgYW55IGFuaW1hdGlvbnMuXHJcblx0XHRpZiAoem9vbUNoYW5nZWQpIHtcclxuXHRcdFx0dGhpcy5maXJlKCd6b29tZW5kJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQGV2ZW50IG1vdmVlbmQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBjZW50ZXIgb2YgdGhlIG1hcCBzdG9wcyBjaGFuZ2luZ1xyXG5cdFx0Ly8gKGUuZy4gdXNlciBzdG9wcGVkIGRyYWdnaW5nIHRoZSBtYXAgb3IgYWZ0ZXIgbm9uLWNlbnRlcmVkIHpvb20pLlxyXG5cdFx0cmV0dXJuIHRoaXMuZmlyZSgnbW92ZWVuZCcpO1xyXG5cdH0sXHJcblxyXG5cdF9zdG9wOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9mbHlUb0ZyYW1lKTtcclxuXHRcdGlmICh0aGlzLl9wYW5BbmltKSB7XHJcblx0XHRcdHRoaXMuX3BhbkFuaW0uc3RvcCgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3Jhd1BhbkJ5OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcblx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUsIHRoaXMuX2dldE1hcFBhbmVQb3MoKS5zdWJ0cmFjdChvZmZzZXQpKTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0Wm9vbVNwYW46IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldE1heFpvb20oKSAtIHRoaXMuZ2V0TWluWm9vbSgpO1xyXG5cdH0sXHJcblxyXG5cdF9wYW5JbnNpZGVNYXhCb3VuZHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fZW5mb3JjaW5nQm91bmRzKSB7XHJcblx0XHRcdHRoaXMucGFuSW5zaWRlQm91bmRzKHRoaXMub3B0aW9ucy5tYXhCb3VuZHMpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9jaGVja0lmTG9hZGVkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1NldCBtYXAgY2VudGVyIGFuZCB6b29tIGZpcnN0LicpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIERPTSBldmVudCBoYW5kbGluZ1xyXG5cclxuXHQvLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBldmVudHNcclxuXHRfaW5pdEV2ZW50czogZnVuY3Rpb24gKHJlbW92ZSkge1xyXG5cdFx0dGhpcy5fdGFyZ2V0cyA9IHt9O1xyXG5cdFx0dGhpcy5fdGFyZ2V0c1tVdGlsLnN0YW1wKHRoaXMuX2NvbnRhaW5lcildID0gdGhpcztcclxuXHJcblx0XHR2YXIgb25PZmYgPSByZW1vdmUgPyBEb21FdmVudC5vZmYgOiBEb21FdmVudC5vbjtcclxuXHJcblx0XHQvLyBAZXZlbnQgY2xpY2s6IE1vdXNlRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIChvciB0YXBzKSB0aGUgbWFwLlxyXG5cdFx0Ly8gQGV2ZW50IGRibGNsaWNrOiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIGRvdWJsZS1jbGlja3MgKG9yIGRvdWJsZS10YXBzKSB0aGUgbWFwLlxyXG5cdFx0Ly8gQGV2ZW50IG1vdXNlZG93bjogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBwdXNoZXMgdGhlIG1vdXNlIGJ1dHRvbiBvbiB0aGUgbWFwLlxyXG5cdFx0Ly8gQGV2ZW50IG1vdXNldXA6IE1vdXNlRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgcmVsZWFzZXMgdGhlIG1vdXNlIGJ1dHRvbiBvbiB0aGUgbWFwLlxyXG5cdFx0Ly8gQGV2ZW50IG1vdXNlb3ZlcjogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbW91c2UgZW50ZXJzIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgbW91c2VvdXQ6IE1vdXNlRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1vdXNlIGxlYXZlcyB0aGUgbWFwLlxyXG5cdFx0Ly8gQGV2ZW50IG1vdXNlbW92ZTogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hpbGUgdGhlIG1vdXNlIG1vdmVzIG92ZXIgdGhlIG1hcC5cclxuXHRcdC8vIEBldmVudCBjb250ZXh0bWVudTogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBwdXNoZXMgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBvbiB0aGUgbWFwLCBwcmV2ZW50c1xyXG5cdFx0Ly8gZGVmYXVsdCBicm93c2VyIGNvbnRleHQgbWVudSBmcm9tIHNob3dpbmcgaWYgdGhlcmUgYXJlIGxpc3RlbmVycyBvblxyXG5cdFx0Ly8gdGhpcyBldmVudC4gQWxzbyBmaXJlZCBvbiBtb2JpbGUgd2hlbiB0aGUgdXNlciBob2xkcyBhIHNpbmdsZSB0b3VjaFxyXG5cdFx0Ly8gZm9yIGEgc2Vjb25kIChhbHNvIGNhbGxlZCBsb25nIHByZXNzKS5cclxuXHRcdC8vIEBldmVudCBrZXlwcmVzczogS2V5Ym9hcmRFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGEga2V5IGZyb20gdGhlIGtleWJvYXJkIHRoYXQgcHJvZHVjZXMgYSBjaGFyYWN0ZXIgdmFsdWUgd2hpbGUgdGhlIG1hcCBpcyBmb2N1c2VkLlxyXG5cdFx0Ly8gQGV2ZW50IGtleWRvd246IEtleWJvYXJkRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyBhIGtleSBmcm9tIHRoZSBrZXlib2FyZCB3aGlsZSB0aGUgbWFwIGlzIGZvY3VzZWQuIFVubGlrZSB0aGUgYGtleXByZXNzYCBldmVudCxcclxuXHRcdC8vIHRoZSBga2V5ZG93bmAgZXZlbnQgaXMgZmlyZWQgZm9yIGtleXMgdGhhdCBwcm9kdWNlIGEgY2hhcmFjdGVyIHZhbHVlIGFuZCBmb3Iga2V5c1xyXG5cdFx0Ly8gdGhhdCBkbyBub3QgcHJvZHVjZSBhIGNoYXJhY3RlciB2YWx1ZS5cclxuXHRcdC8vIEBldmVudCBrZXl1cDogS2V5Ym9hcmRFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciByZWxlYXNlcyBhIGtleSBmcm9tIHRoZSBrZXlib2FyZCB3aGlsZSB0aGUgbWFwIGlzIGZvY3VzZWQuXHJcblx0XHRvbk9mZih0aGlzLl9jb250YWluZXIsICdjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCAnICtcclxuXHRcdFx0J21vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgY29udGV4dG1lbnUga2V5cHJlc3Mga2V5ZG93biBrZXl1cCcsIHRoaXMuX2hhbmRsZURPTUV2ZW50LCB0aGlzKTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLnRyYWNrUmVzaXplKSB7XHJcblx0XHRcdG9uT2ZmKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX29uUmVzaXplLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoQnJvd3Nlci5hbnkzZCAmJiB0aGlzLm9wdGlvbnMudHJhbnNmb3JtM0RMaW1pdCkge1xyXG5cdFx0XHQocmVtb3ZlID8gdGhpcy5vZmYgOiB0aGlzLm9uKS5jYWxsKHRoaXMsICdtb3ZlZW5kJywgdGhpcy5fb25Nb3ZlRW5kKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfb25SZXNpemU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX3Jlc2l6ZVJlcXVlc3QpO1xyXG5cdFx0dGhpcy5fcmVzaXplUmVxdWVzdCA9IFV0aWwucmVxdWVzdEFuaW1GcmFtZShcclxuXHRcdCAgICAgICAgZnVuY3Rpb24gKCkgeyB0aGlzLmludmFsaWRhdGVTaXplKHtkZWJvdW5jZU1vdmVlbmQ6IHRydWV9KTsgfSwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0X29uU2Nyb2xsOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLl9jb250YWluZXIuc2Nyb2xsVG9wICA9IDA7XHJcblx0XHR0aGlzLl9jb250YWluZXIuc2Nyb2xsTGVmdCA9IDA7XHJcblx0fSxcclxuXHJcblx0X29uTW92ZUVuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHBvcyA9IHRoaXMuX2dldE1hcFBhbmVQb3MoKTtcclxuXHRcdGlmIChNYXRoLm1heChNYXRoLmFicyhwb3MueCksIE1hdGguYWJzKHBvcy55KSkgPj0gdGhpcy5vcHRpb25zLnRyYW5zZm9ybTNETGltaXQpIHtcclxuXHRcdFx0Ly8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTIwMzg3MyBidXQgV2Via2l0IGFsc28gaGF2ZVxyXG5cdFx0XHQvLyBhIHBpeGVsIG9mZnNldCBvbiB2ZXJ5IGhpZ2ggdmFsdWVzLCBzZWU6IGh0dHBzOi8vanNmaWRkbGUubmV0L2RnNnI1aGhiL1xyXG5cdFx0XHR0aGlzLl9yZXNldFZpZXcodGhpcy5nZXRDZW50ZXIoKSwgdGhpcy5nZXRab29tKCkpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9maW5kRXZlbnRUYXJnZXRzOiBmdW5jdGlvbiAoZSwgdHlwZSkge1xyXG5cdFx0dmFyIHRhcmdldHMgPSBbXSxcclxuXHRcdCAgICB0YXJnZXQsXHJcblx0XHQgICAgaXNIb3ZlciA9IHR5cGUgPT09ICdtb3VzZW91dCcgfHwgdHlwZSA9PT0gJ21vdXNlb3ZlcicsXHJcblx0XHQgICAgc3JjID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50LFxyXG5cdFx0ICAgIGRyYWdnaW5nID0gZmFsc2U7XHJcblxyXG5cdFx0d2hpbGUgKHNyYykge1xyXG5cdFx0XHR0YXJnZXQgPSB0aGlzLl90YXJnZXRzW1V0aWwuc3RhbXAoc3JjKV07XHJcblx0XHRcdGlmICh0YXJnZXQgJiYgKHR5cGUgPT09ICdjbGljaycgfHwgdHlwZSA9PT0gJ3ByZWNsaWNrJykgJiYgdGhpcy5fZHJhZ2dhYmxlTW92ZWQodGFyZ2V0KSkge1xyXG5cdFx0XHRcdC8vIFByZXZlbnQgZmlyaW5nIGNsaWNrIGFmdGVyIHlvdSBqdXN0IGRyYWdnZWQgYW4gb2JqZWN0LlxyXG5cdFx0XHRcdGRyYWdnaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGFyZ2V0ICYmIHRhcmdldC5saXN0ZW5zKHR5cGUsIHRydWUpKSB7XHJcblx0XHRcdFx0aWYgKGlzSG92ZXIgJiYgIURvbUV2ZW50LmlzRXh0ZXJuYWxUYXJnZXQoc3JjLCBlKSkgeyBicmVhazsgfVxyXG5cdFx0XHRcdHRhcmdldHMucHVzaCh0YXJnZXQpO1xyXG5cdFx0XHRcdGlmIChpc0hvdmVyKSB7IGJyZWFrOyB9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHNyYyA9PT0gdGhpcy5fY29udGFpbmVyKSB7IGJyZWFrOyB9XHJcblx0XHRcdHNyYyA9IHNyYy5wYXJlbnROb2RlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCF0YXJnZXRzLmxlbmd0aCAmJiAhZHJhZ2dpbmcgJiYgIWlzSG92ZXIgJiYgdGhpcy5saXN0ZW5zKHR5cGUsIHRydWUpKSB7XHJcblx0XHRcdHRhcmdldHMgPSBbdGhpc107XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGFyZ2V0cztcclxuXHR9LFxyXG5cclxuXHRfaXNDbGlja0Rpc2FibGVkOiBmdW5jdGlvbiAoZWwpIHtcclxuXHRcdHdoaWxlIChlbCAmJiBlbCAhPT0gdGhpcy5fY29udGFpbmVyKSB7XHJcblx0XHRcdGlmIChlbFsnX2xlYWZsZXRfZGlzYWJsZV9jbGljayddKSB7IHJldHVybiB0cnVlOyB9XHJcblx0XHRcdGVsID0gZWwucGFyZW50Tm9kZTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlRE9NRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHR2YXIgZWwgPSAoZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50KTtcclxuXHRcdGlmICghdGhpcy5fbG9hZGVkIHx8IGVsWydfbGVhZmxldF9kaXNhYmxlX2V2ZW50cyddIHx8IGUudHlwZSA9PT0gJ2NsaWNrJyAmJiB0aGlzLl9pc0NsaWNrRGlzYWJsZWQoZWwpKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgdHlwZSA9IGUudHlwZTtcclxuXHJcblx0XHRpZiAodHlwZSA9PT0gJ21vdXNlZG93bicpIHtcclxuXHRcdFx0Ly8gcHJldmVudHMgb3V0bGluZSB3aGVuIGNsaWNraW5nIG9uIGtleWJvYXJkLWZvY3VzYWJsZSBlbGVtZW50XHJcblx0XHRcdERvbVV0aWwucHJldmVudE91dGxpbmUoZWwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2ZpcmVET01FdmVudChlLCB0eXBlKTtcclxuXHR9LFxyXG5cclxuXHRfbW91c2VFdmVudHM6IFsnY2xpY2snLCAnZGJsY2xpY2snLCAnbW91c2VvdmVyJywgJ21vdXNlb3V0JywgJ2NvbnRleHRtZW51J10sXHJcblxyXG5cdF9maXJlRE9NRXZlbnQ6IGZ1bmN0aW9uIChlLCB0eXBlLCBjYW52YXNUYXJnZXRzKSB7XHJcblxyXG5cdFx0aWYgKGUudHlwZSA9PT0gJ2NsaWNrJykge1xyXG5cdFx0XHQvLyBGaXJlIGEgc3ludGhldGljICdwcmVjbGljaycgZXZlbnQgd2hpY2ggcHJvcGFnYXRlcyB1cCAobWFpbmx5IGZvciBjbG9zaW5nIHBvcHVwcykuXHJcblx0XHRcdC8vIEBldmVudCBwcmVjbGljazogTW91c2VFdmVudFxyXG5cdFx0XHQvLyBGaXJlZCBiZWZvcmUgbW91c2UgY2xpY2sgb24gdGhlIG1hcCAoc29tZXRpbWVzIHVzZWZ1bCB3aGVuIHlvdVxyXG5cdFx0XHQvLyB3YW50IHNvbWV0aGluZyB0byBoYXBwZW4gb24gY2xpY2sgYmVmb3JlIGFueSBleGlzdGluZyBjbGlja1xyXG5cdFx0XHQvLyBoYW5kbGVycyBzdGFydCBydW5uaW5nKS5cclxuXHRcdFx0dmFyIHN5bnRoID0gVXRpbC5leHRlbmQoe30sIGUpO1xyXG5cdFx0XHRzeW50aC50eXBlID0gJ3ByZWNsaWNrJztcclxuXHRcdFx0dGhpcy5fZmlyZURPTUV2ZW50KHN5bnRoLCBzeW50aC50eXBlLCBjYW52YXNUYXJnZXRzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGaW5kIHRoZSBsYXllciB0aGUgZXZlbnQgaXMgcHJvcGFnYXRpbmcgZnJvbSBhbmQgaXRzIHBhcmVudHMuXHJcblx0XHR2YXIgdGFyZ2V0cyA9IHRoaXMuX2ZpbmRFdmVudFRhcmdldHMoZSwgdHlwZSk7XHJcblxyXG5cdFx0aWYgKGNhbnZhc1RhcmdldHMpIHtcclxuXHRcdFx0dmFyIGZpbHRlcmVkID0gW107IC8vIHBpY2sgb25seSB0YXJnZXRzIHdpdGggbGlzdGVuZXJzXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY2FudmFzVGFyZ2V0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmIChjYW52YXNUYXJnZXRzW2ldLmxpc3RlbnModHlwZSwgdHJ1ZSkpIHtcclxuXHRcdFx0XHRcdGZpbHRlcmVkLnB1c2goY2FudmFzVGFyZ2V0c1tpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHRhcmdldHMgPSBmaWx0ZXJlZC5jb25jYXQodGFyZ2V0cyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCF0YXJnZXRzLmxlbmd0aCkgeyByZXR1cm47IH1cclxuXHJcblx0XHRpZiAodHlwZSA9PT0gJ2NvbnRleHRtZW51Jykge1xyXG5cdFx0XHREb21FdmVudC5wcmV2ZW50RGVmYXVsdChlKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgdGFyZ2V0ID0gdGFyZ2V0c1swXTtcclxuXHRcdHZhciBkYXRhID0ge1xyXG5cdFx0XHRvcmlnaW5hbEV2ZW50OiBlXHJcblx0XHR9O1xyXG5cclxuXHRcdGlmIChlLnR5cGUgIT09ICdrZXlwcmVzcycgJiYgZS50eXBlICE9PSAna2V5ZG93bicgJiYgZS50eXBlICE9PSAna2V5dXAnKSB7XHJcblx0XHRcdHZhciBpc01hcmtlciA9IHRhcmdldC5nZXRMYXRMbmcgJiYgKCF0YXJnZXQuX3JhZGl1cyB8fCB0YXJnZXQuX3JhZGl1cyA8PSAxMCk7XHJcblx0XHRcdGRhdGEuY29udGFpbmVyUG9pbnQgPSBpc01hcmtlciA/XHJcblx0XHRcdFx0dGhpcy5sYXRMbmdUb0NvbnRhaW5lclBvaW50KHRhcmdldC5nZXRMYXRMbmcoKSkgOiB0aGlzLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUpO1xyXG5cdFx0XHRkYXRhLmxheWVyUG9pbnQgPSB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KGRhdGEuY29udGFpbmVyUG9pbnQpO1xyXG5cdFx0XHRkYXRhLmxhdGxuZyA9IGlzTWFya2VyID8gdGFyZ2V0LmdldExhdExuZygpIDogdGhpcy5sYXllclBvaW50VG9MYXRMbmcoZGF0YS5sYXllclBvaW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0YXJnZXRzW2ldLmZpcmUodHlwZSwgZGF0YSwgdHJ1ZSk7XHJcblx0XHRcdGlmIChkYXRhLm9yaWdpbmFsRXZlbnQuX3N0b3BwZWQgfHxcclxuXHRcdFx0XHQodGFyZ2V0c1tpXS5vcHRpb25zLmJ1YmJsaW5nTW91c2VFdmVudHMgPT09IGZhbHNlICYmIFV0aWwuaW5kZXhPZih0aGlzLl9tb3VzZUV2ZW50cywgdHlwZSkgIT09IC0xKSkgeyByZXR1cm47IH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZHJhZ2dhYmxlTW92ZWQ6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdG9iaiA9IG9iai5kcmFnZ2luZyAmJiBvYmouZHJhZ2dpbmcuZW5hYmxlZCgpID8gb2JqIDogdGhpcztcclxuXHRcdHJldHVybiAob2JqLmRyYWdnaW5nICYmIG9iai5kcmFnZ2luZy5tb3ZlZCgpKSB8fCAodGhpcy5ib3hab29tICYmIHRoaXMuYm94Wm9vbS5tb3ZlZCgpKTtcclxuXHR9LFxyXG5cclxuXHRfY2xlYXJIYW5kbGVyczogZnVuY3Rpb24gKCkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX2hhbmRsZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdHRoaXMuX2hhbmRsZXJzW2ldLmRpc2FibGUoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAc2VjdGlvbiBPdGhlciBNZXRob2RzXHJcblxyXG5cdC8vIEBtZXRob2Qgd2hlblJlYWR5KGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuXHQvLyBSdW5zIHRoZSBnaXZlbiBmdW5jdGlvbiBgZm5gIHdoZW4gdGhlIG1hcCBnZXRzIGluaXRpYWxpemVkIHdpdGhcclxuXHQvLyBhIHZpZXcgKGNlbnRlciBhbmQgem9vbSkgYW5kIGF0IGxlYXN0IG9uZSBsYXllciwgb3IgaW1tZWRpYXRlbHlcclxuXHQvLyBpZiBpdCdzIGFscmVhZHkgaW5pdGlhbGl6ZWQsIG9wdGlvbmFsbHkgcGFzc2luZyBhIGZ1bmN0aW9uIGNvbnRleHQuXHJcblx0d2hlblJlYWR5OiBmdW5jdGlvbiAoY2FsbGJhY2ssIGNvbnRleHQpIHtcclxuXHRcdGlmICh0aGlzLl9sb2FkZWQpIHtcclxuXHRcdFx0Y2FsbGJhY2suY2FsbChjb250ZXh0IHx8IHRoaXMsIHt0YXJnZXQ6IHRoaXN9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMub24oJ2xvYWQnLCBjYWxsYmFjaywgY29udGV4dCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHJcblx0Ly8gcHJpdmF0ZSBtZXRob2RzIGZvciBnZXR0aW5nIG1hcCBzdGF0ZVxyXG5cclxuXHRfZ2V0TWFwUGFuZVBvczogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIERvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSkgfHwgbmV3IFBvaW50KDAsIDApO1xyXG5cdH0sXHJcblxyXG5cdF9tb3ZlZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHBvcyA9IHRoaXMuX2dldE1hcFBhbmVQb3MoKTtcclxuXHRcdHJldHVybiBwb3MgJiYgIXBvcy5lcXVhbHMoWzAsIDBdKTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0VG9wTGVmdFBvaW50OiBmdW5jdGlvbiAoY2VudGVyLCB6b29tKSB7XHJcblx0XHR2YXIgcGl4ZWxPcmlnaW4gPSBjZW50ZXIgJiYgem9vbSAhPT0gdW5kZWZpbmVkID9cclxuXHRcdFx0dGhpcy5fZ2V0TmV3UGl4ZWxPcmlnaW4oY2VudGVyLCB6b29tKSA6XHJcblx0XHRcdHRoaXMuZ2V0UGl4ZWxPcmlnaW4oKTtcclxuXHRcdHJldHVybiBwaXhlbE9yaWdpbi5zdWJ0cmFjdCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpO1xyXG5cdH0sXHJcblxyXG5cdF9nZXROZXdQaXhlbE9yaWdpbjogZnVuY3Rpb24gKGNlbnRlciwgem9vbSkge1xyXG5cdFx0dmFyIHZpZXdIYWxmID0gdGhpcy5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpO1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvamVjdChjZW50ZXIsIHpvb20pLl9zdWJ0cmFjdCh2aWV3SGFsZikuX2FkZCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpLl9yb3VuZCgpO1xyXG5cdH0sXHJcblxyXG5cdF9sYXRMbmdUb05ld0xheWVyUG9pbnQ6IGZ1bmN0aW9uIChsYXRsbmcsIHpvb20sIGNlbnRlcikge1xyXG5cdFx0dmFyIHRvcExlZnQgPSB0aGlzLl9nZXROZXdQaXhlbE9yaWdpbihjZW50ZXIsIHpvb20pO1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvamVjdChsYXRsbmcsIHpvb20pLl9zdWJ0cmFjdCh0b3BMZWZ0KTtcclxuXHR9LFxyXG5cclxuXHRfbGF0TG5nQm91bmRzVG9OZXdMYXllckJvdW5kczogZnVuY3Rpb24gKGxhdExuZ0JvdW5kcywgem9vbSwgY2VudGVyKSB7XHJcblx0XHR2YXIgdG9wTGVmdCA9IHRoaXMuX2dldE5ld1BpeGVsT3JpZ2luKGNlbnRlciwgem9vbSk7XHJcblx0XHRyZXR1cm4gdG9Cb3VuZHMoW1xyXG5cdFx0XHR0aGlzLnByb2plY3QobGF0TG5nQm91bmRzLmdldFNvdXRoV2VzdCgpLCB6b29tKS5fc3VidHJhY3QodG9wTGVmdCksXHJcblx0XHRcdHRoaXMucHJvamVjdChsYXRMbmdCb3VuZHMuZ2V0Tm9ydGhXZXN0KCksIHpvb20pLl9zdWJ0cmFjdCh0b3BMZWZ0KSxcclxuXHRcdFx0dGhpcy5wcm9qZWN0KGxhdExuZ0JvdW5kcy5nZXRTb3V0aEVhc3QoKSwgem9vbSkuX3N1YnRyYWN0KHRvcExlZnQpLFxyXG5cdFx0XHR0aGlzLnByb2plY3QobGF0TG5nQm91bmRzLmdldE5vcnRoRWFzdCgpLCB6b29tKS5fc3VidHJhY3QodG9wTGVmdClcclxuXHRcdF0pO1xyXG5cdH0sXHJcblxyXG5cdC8vIGxheWVyIHBvaW50IG9mIHRoZSBjdXJyZW50IGNlbnRlclxyXG5cdF9nZXRDZW50ZXJMYXllclBvaW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludCh0aGlzLmdldFNpemUoKS5fZGl2aWRlQnkoMikpO1xyXG5cdH0sXHJcblxyXG5cdC8vIG9mZnNldCBvZiB0aGUgc3BlY2lmaWVkIHBsYWNlIHRvIHRoZSBjdXJyZW50IGNlbnRlciBpbiBwaXhlbHNcclxuXHRfZ2V0Q2VudGVyT2Zmc2V0OiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nKS5zdWJ0cmFjdCh0aGlzLl9nZXRDZW50ZXJMYXllclBvaW50KCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIGFkanVzdCBjZW50ZXIgZm9yIHZpZXcgdG8gZ2V0IGluc2lkZSBib3VuZHNcclxuXHRfbGltaXRDZW50ZXI6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIGJvdW5kcykge1xyXG5cclxuXHRcdGlmICghYm91bmRzKSB7IHJldHVybiBjZW50ZXI7IH1cclxuXHJcblx0XHR2YXIgY2VudGVyUG9pbnQgPSB0aGlzLnByb2plY3QoY2VudGVyLCB6b29tKSxcclxuXHRcdCAgICB2aWV3SGFsZiA9IHRoaXMuZ2V0U2l6ZSgpLmRpdmlkZUJ5KDIpLFxyXG5cdFx0ICAgIHZpZXdCb3VuZHMgPSBuZXcgQm91bmRzKGNlbnRlclBvaW50LnN1YnRyYWN0KHZpZXdIYWxmKSwgY2VudGVyUG9pbnQuYWRkKHZpZXdIYWxmKSksXHJcblx0XHQgICAgb2Zmc2V0ID0gdGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KHZpZXdCb3VuZHMsIGJvdW5kcywgem9vbSk7XHJcblxyXG5cdFx0Ly8gSWYgb2Zmc2V0IGlzIGxlc3MgdGhhbiBhIHBpeGVsLCBpZ25vcmUuXHJcblx0XHQvLyBUaGlzIHByZXZlbnRzIHVuc3RhYmxlIHByb2plY3Rpb25zIGZyb20gZ2V0dGluZyBpbnRvXHJcblx0XHQvLyBhbiBpbmZpbml0ZSBsb29wIG9mIHRpbnkgb2Zmc2V0cy5cclxuXHRcdGlmIChNYXRoLmFicyhvZmZzZXQueCkgPD0gMSAmJiBNYXRoLmFicyhvZmZzZXQueSkgPD0gMSkge1xyXG5cdFx0XHRyZXR1cm4gY2VudGVyO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnVucHJvamVjdChjZW50ZXJQb2ludC5hZGQob2Zmc2V0KSwgem9vbSk7XHJcblx0fSxcclxuXHJcblx0Ly8gYWRqdXN0IG9mZnNldCBmb3IgdmlldyB0byBnZXQgaW5zaWRlIGJvdW5kc1xyXG5cdF9saW1pdE9mZnNldDogZnVuY3Rpb24gKG9mZnNldCwgYm91bmRzKSB7XHJcblx0XHRpZiAoIWJvdW5kcykgeyByZXR1cm4gb2Zmc2V0OyB9XHJcblxyXG5cdFx0dmFyIHZpZXdCb3VuZHMgPSB0aGlzLmdldFBpeGVsQm91bmRzKCksXHJcblx0XHQgICAgbmV3Qm91bmRzID0gbmV3IEJvdW5kcyh2aWV3Qm91bmRzLm1pbi5hZGQob2Zmc2V0KSwgdmlld0JvdW5kcy5tYXguYWRkKG9mZnNldCkpO1xyXG5cclxuXHRcdHJldHVybiBvZmZzZXQuYWRkKHRoaXMuX2dldEJvdW5kc09mZnNldChuZXdCb3VuZHMsIGJvdW5kcykpO1xyXG5cdH0sXHJcblxyXG5cdC8vIHJldHVybnMgb2Zmc2V0IG5lZWRlZCBmb3IgcHhCb3VuZHMgdG8gZ2V0IGluc2lkZSBtYXhCb3VuZHMgYXQgYSBzcGVjaWZpZWQgem9vbVxyXG5cdF9nZXRCb3VuZHNPZmZzZXQ6IGZ1bmN0aW9uIChweEJvdW5kcywgbWF4Qm91bmRzLCB6b29tKSB7XHJcblx0XHR2YXIgcHJvamVjdGVkTWF4Qm91bmRzID0gdG9Cb3VuZHMoXHJcblx0XHQgICAgICAgIHRoaXMucHJvamVjdChtYXhCb3VuZHMuZ2V0Tm9ydGhFYXN0KCksIHpvb20pLFxyXG5cdFx0ICAgICAgICB0aGlzLnByb2plY3QobWF4Qm91bmRzLmdldFNvdXRoV2VzdCgpLCB6b29tKVxyXG5cdFx0ICAgICksXHJcblx0XHQgICAgbWluT2Zmc2V0ID0gcHJvamVjdGVkTWF4Qm91bmRzLm1pbi5zdWJ0cmFjdChweEJvdW5kcy5taW4pLFxyXG5cdFx0ICAgIG1heE9mZnNldCA9IHByb2plY3RlZE1heEJvdW5kcy5tYXguc3VidHJhY3QocHhCb3VuZHMubWF4KSxcclxuXHJcblx0XHQgICAgZHggPSB0aGlzLl9yZWJvdW5kKG1pbk9mZnNldC54LCAtbWF4T2Zmc2V0LngpLFxyXG5cdFx0ICAgIGR5ID0gdGhpcy5fcmVib3VuZChtaW5PZmZzZXQueSwgLW1heE9mZnNldC55KTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KGR4LCBkeSk7XHJcblx0fSxcclxuXHJcblx0X3JlYm91bmQ6IGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xyXG5cdFx0cmV0dXJuIGxlZnQgKyByaWdodCA+IDAgP1xyXG5cdFx0XHRNYXRoLnJvdW5kKGxlZnQgLSByaWdodCkgLyAyIDpcclxuXHRcdFx0TWF0aC5tYXgoMCwgTWF0aC5jZWlsKGxlZnQpKSAtIE1hdGgubWF4KDAsIE1hdGguZmxvb3IocmlnaHQpKTtcclxuXHR9LFxyXG5cclxuXHRfbGltaXRab29tOiBmdW5jdGlvbiAoem9vbSkge1xyXG5cdFx0dmFyIG1pbiA9IHRoaXMuZ2V0TWluWm9vbSgpLFxyXG5cdFx0ICAgIG1heCA9IHRoaXMuZ2V0TWF4Wm9vbSgpLFxyXG5cdFx0ICAgIHNuYXAgPSBCcm93c2VyLmFueTNkID8gdGhpcy5vcHRpb25zLnpvb21TbmFwIDogMTtcclxuXHRcdGlmIChzbmFwKSB7XHJcblx0XHRcdHpvb20gPSBNYXRoLnJvdW5kKHpvb20gLyBzbmFwKSAqIHNuYXA7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHpvb20pKTtcclxuXHR9LFxyXG5cclxuXHRfb25QYW5UcmFuc2l0aW9uU3RlcDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5maXJlKCdtb3ZlJyk7XHJcblx0fSxcclxuXHJcblx0X29uUGFuVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXBQYW5lLCAnbGVhZmxldC1wYW4tYW5pbScpO1xyXG5cdFx0dGhpcy5maXJlKCdtb3ZlZW5kJyk7XHJcblx0fSxcclxuXHJcblx0X3RyeUFuaW1hdGVkUGFuOiBmdW5jdGlvbiAoY2VudGVyLCBvcHRpb25zKSB7XHJcblx0XHQvLyBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIG5ldyBhbmQgY3VycmVudCBjZW50ZXJzIGluIHBpeGVsc1xyXG5cdFx0dmFyIG9mZnNldCA9IHRoaXMuX2dldENlbnRlck9mZnNldChjZW50ZXIpLl90cnVuYygpO1xyXG5cclxuXHRcdC8vIGRvbid0IGFuaW1hdGUgdG9vIGZhciB1bmxlc3MgYW5pbWF0ZTogdHJ1ZSBzcGVjaWZpZWQgaW4gb3B0aW9uc1xyXG5cdFx0aWYgKChvcHRpb25zICYmIG9wdGlvbnMuYW5pbWF0ZSkgIT09IHRydWUgJiYgIXRoaXMuZ2V0U2l6ZSgpLmNvbnRhaW5zKG9mZnNldCkpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG5cdFx0dGhpcy5wYW5CeShvZmZzZXQsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0sXHJcblxyXG5cdF9jcmVhdGVBbmltUHJveHk6IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHR2YXIgcHJveHkgPSB0aGlzLl9wcm94eSA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC1wcm94eSBsZWFmbGV0LXpvb20tYW5pbWF0ZWQnKTtcclxuXHRcdHRoaXMuX3BhbmVzLm1hcFBhbmUuYXBwZW5kQ2hpbGQocHJveHkpO1xyXG5cclxuXHRcdHRoaXMub24oJ3pvb21hbmltJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0dmFyIHByb3AgPSBEb21VdGlsLlRSQU5TRk9STSxcclxuXHRcdFx0ICAgIHRyYW5zZm9ybSA9IHRoaXMuX3Byb3h5LnN0eWxlW3Byb3BdO1xyXG5cclxuXHRcdFx0RG9tVXRpbC5zZXRUcmFuc2Zvcm0odGhpcy5fcHJveHksIHRoaXMucHJvamVjdChlLmNlbnRlciwgZS56b29tKSwgdGhpcy5nZXRab29tU2NhbGUoZS56b29tLCAxKSk7XHJcblxyXG5cdFx0XHQvLyB3b3JrYXJvdW5kIGZvciBjYXNlIHdoZW4gdHJhbnNmb3JtIGlzIHRoZSBzYW1lIGFuZCBzbyB0cmFuc2l0aW9uZW5kIGV2ZW50IGlzIG5vdCBmaXJlZFxyXG5cdFx0XHRpZiAodHJhbnNmb3JtID09PSB0aGlzLl9wcm94eS5zdHlsZVtwcm9wXSAmJiB0aGlzLl9hbmltYXRpbmdab29tKSB7XHJcblx0XHRcdFx0dGhpcy5fb25ab29tVHJhbnNpdGlvbkVuZCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCB0aGlzKTtcclxuXHJcblx0XHR0aGlzLm9uKCdsb2FkIG1vdmVlbmQnLCB0aGlzLl9hbmltTW92ZUVuZCwgdGhpcyk7XHJcblxyXG5cdFx0dGhpcy5fb24oJ3VubG9hZCcsIHRoaXMuX2Rlc3Ryb3lBbmltUHJveHksIHRoaXMpO1xyXG5cdH0sXHJcblxyXG5cdF9kZXN0cm95QW5pbVByb3h5OiBmdW5jdGlvbiAoKSB7XHJcblx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9wcm94eSk7XHJcblx0XHR0aGlzLm9mZignbG9hZCBtb3ZlZW5kJywgdGhpcy5fYW5pbU1vdmVFbmQsIHRoaXMpO1xyXG5cdFx0ZGVsZXRlIHRoaXMuX3Byb3h5O1xyXG5cdH0sXHJcblxyXG5cdF9hbmltTW92ZUVuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGMgPSB0aGlzLmdldENlbnRlcigpLFxyXG5cdFx0ICAgIHogPSB0aGlzLmdldFpvb20oKTtcclxuXHRcdERvbVV0aWwuc2V0VHJhbnNmb3JtKHRoaXMuX3Byb3h5LCB0aGlzLnByb2plY3QoYywgeiksIHRoaXMuZ2V0Wm9vbVNjYWxlKHosIDEpKTtcclxuXHR9LFxyXG5cclxuXHRfY2F0Y2hUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0aWYgKHRoaXMuX2FuaW1hdGluZ1pvb20gJiYgZS5wcm9wZXJ0eU5hbWUuaW5kZXhPZigndHJhbnNmb3JtJykgPj0gMCkge1xyXG5cdFx0XHR0aGlzLl9vblpvb21UcmFuc2l0aW9uRW5kKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X25vdGhpbmdUb0FuaW1hdGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAhdGhpcy5fY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpLmxlbmd0aDtcclxuXHR9LFxyXG5cclxuXHRfdHJ5QW5pbWF0ZWRab29tOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuIHRydWU7IH1cclxuXHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcblx0XHQvLyBkb24ndCBhbmltYXRlIGlmIGRpc2FibGVkLCBub3Qgc3VwcG9ydGVkIG9yIHpvb20gZGlmZmVyZW5jZSBpcyB0b28gbGFyZ2VcclxuXHRcdGlmICghdGhpcy5fem9vbUFuaW1hdGVkIHx8IG9wdGlvbnMuYW5pbWF0ZSA9PT0gZmFsc2UgfHwgdGhpcy5fbm90aGluZ1RvQW5pbWF0ZSgpIHx8XHJcblx0XHQgICAgICAgIE1hdGguYWJzKHpvb20gLSB0aGlzLl96b29tKSA+IHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uVGhyZXNob2xkKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuXHRcdC8vIG9mZnNldCBpcyB0aGUgcGl4ZWwgY29vcmRzIG9mIHRoZSB6b29tIG9yaWdpbiByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBjZW50ZXJcclxuXHRcdHZhciBzY2FsZSA9IHRoaXMuZ2V0Wm9vbVNjYWxlKHpvb20pLFxyXG5cdFx0ICAgIG9mZnNldCA9IHRoaXMuX2dldENlbnRlck9mZnNldChjZW50ZXIpLl9kaXZpZGVCeSgxIC0gMSAvIHNjYWxlKTtcclxuXHJcblx0XHQvLyBkb24ndCBhbmltYXRlIGlmIHRoZSB6b29tIG9yaWdpbiBpc24ndCB3aXRoaW4gb25lIHNjcmVlbiBmcm9tIHRoZSBjdXJyZW50IGNlbnRlciwgdW5sZXNzIGZvcmNlZFxyXG5cdFx0aWYgKG9wdGlvbnMuYW5pbWF0ZSAhPT0gdHJ1ZSAmJiAhdGhpcy5nZXRTaXplKCkuY29udGFpbnMob2Zmc2V0KSkgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcblx0XHRVdGlsLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR0aGlzXHJcblx0XHRcdCAgICAuX21vdmVTdGFydCh0cnVlLCBvcHRpb25zLm5vTW92ZVN0YXJ0IHx8IGZhbHNlKVxyXG5cdFx0XHQgICAgLl9hbmltYXRlWm9vbShjZW50ZXIsIHpvb20sIHRydWUpO1xyXG5cdFx0fSwgdGhpcyk7XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0X2FuaW1hdGVab29tOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tLCBzdGFydEFuaW0sIG5vVXBkYXRlKSB7XHJcblx0XHRpZiAoIXRoaXMuX21hcFBhbmUpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0aWYgKHN0YXJ0QW5pbSkge1xyXG5cdFx0XHR0aGlzLl9hbmltYXRpbmdab29tID0gdHJ1ZTtcclxuXHJcblx0XHRcdC8vIHJlbWVtYmVyIHdoYXQgY2VudGVyL3pvb20gdG8gc2V0IGFmdGVyIGFuaW1hdGlvblxyXG5cdFx0XHR0aGlzLl9hbmltYXRlVG9DZW50ZXIgPSBjZW50ZXI7XHJcblx0XHRcdHRoaXMuX2FuaW1hdGVUb1pvb20gPSB6b29tO1xyXG5cclxuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tYXBQYW5lLCAnbGVhZmxldC16b29tLWFuaW0nKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBAc2VjdGlvbiBPdGhlciBFdmVudHNcclxuXHRcdC8vIEBldmVudCB6b29tYW5pbTogWm9vbUFuaW1FdmVudFxyXG5cdFx0Ly8gRmlyZWQgYXQgbGVhc3Qgb25jZSBwZXIgem9vbSBhbmltYXRpb24uIEZvciBjb250aW51b3VzIHpvb20sIGxpa2UgcGluY2ggem9vbWluZywgZmlyZWQgb25jZSBwZXIgZnJhbWUgZHVyaW5nIHpvb20uXHJcblx0XHR0aGlzLmZpcmUoJ3pvb21hbmltJywge1xyXG5cdFx0XHRjZW50ZXI6IGNlbnRlcixcclxuXHRcdFx0em9vbTogem9vbSxcclxuXHRcdFx0bm9VcGRhdGU6IG5vVXBkYXRlXHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoIXRoaXMuX3RlbXBGaXJlWm9vbUV2ZW50KSB7XHJcblx0XHRcdHRoaXMuX3RlbXBGaXJlWm9vbUV2ZW50ID0gdGhpcy5fem9vbSAhPT0gdGhpcy5fYW5pbWF0ZVRvWm9vbTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9tb3ZlKHRoaXMuX2FuaW1hdGVUb0NlbnRlciwgdGhpcy5fYW5pbWF0ZVRvWm9vbSwgdW5kZWZpbmVkLCB0cnVlKTtcclxuXHJcblx0XHQvLyBXb3JrIGFyb3VuZCB3ZWJraXQgbm90IGZpcmluZyAndHJhbnNpdGlvbmVuZCcsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy8zNjg5LCAyNjkzXHJcblx0XHRzZXRUaW1lb3V0KFV0aWwuYmluZCh0aGlzLl9vblpvb21UcmFuc2l0aW9uRW5kLCB0aGlzKSwgMjUwKTtcclxuXHR9LFxyXG5cclxuXHRfb25ab29tVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9hbmltYXRpbmdab29tKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGlmICh0aGlzLl9tYXBQYW5lKSB7XHJcblx0XHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwUGFuZSwgJ2xlYWZsZXQtem9vbS1hbmltJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fYW5pbWF0aW5nWm9vbSA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuX21vdmUodGhpcy5fYW5pbWF0ZVRvQ2VudGVyLCB0aGlzLl9hbmltYXRlVG9ab29tLCB1bmRlZmluZWQsIHRydWUpO1xyXG5cclxuXHRcdGlmICh0aGlzLl90ZW1wRmlyZVpvb21FdmVudCkge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ3pvb20nKTtcclxuXHRcdH1cclxuXHRcdGRlbGV0ZSB0aGlzLl90ZW1wRmlyZVpvb21FdmVudDtcclxuXHJcblx0XHR0aGlzLmZpcmUoJ21vdmUnKTtcclxuXHJcblx0XHR0aGlzLl9tb3ZlRW5kKHRydWUpO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAc2VjdGlvblxyXG5cclxuLy8gQGZhY3RvcnkgTC5tYXAoaWQ6IFN0cmluZywgb3B0aW9ucz86IE1hcCBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBtYXAgb2JqZWN0IGdpdmVuIHRoZSBET00gSUQgb2YgYSBgPGRpdj5gIGVsZW1lbnRcclxuLy8gYW5kIG9wdGlvbmFsbHkgYW4gb2JqZWN0IGxpdGVyYWwgd2l0aCBgTWFwIG9wdGlvbnNgLlxyXG4vL1xyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5tYXAoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zPzogTWFwIG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhIG1hcCBvYmplY3QgZ2l2ZW4gYW4gaW5zdGFuY2Ugb2YgYSBgPGRpdj5gIEhUTUwgZWxlbWVudFxyXG4vLyBhbmQgb3B0aW9uYWxseSBhbiBvYmplY3QgbGl0ZXJhbCB3aXRoIGBNYXAgb3B0aW9uc2AuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNYXAoaWQsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IE1hcChpZCwgb3B0aW9ucyk7XHJcbn1cclxuIiwgIlxyXG5pbXBvcnQge0NsYXNzfSBmcm9tICcuLi9jb3JlL0NsYXNzJztcclxuaW1wb3J0IHtNYXB9IGZyb20gJy4uL21hcC9NYXAnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xyXG5cclxuLypcclxuICogQGNsYXNzIENvbnRyb2xcclxuICogQGFrYSBMLkNvbnRyb2xcclxuICogQGluaGVyaXRzIENsYXNzXHJcbiAqXHJcbiAqIEwuQ29udHJvbCBpcyBhIGJhc2UgY2xhc3MgZm9yIGltcGxlbWVudGluZyBtYXAgY29udHJvbHMuIEhhbmRsZXMgcG9zaXRpb25pbmcuXHJcbiAqIEFsbCBvdGhlciBjb250cm9scyBleHRlbmQgZnJvbSB0aGlzIGNsYXNzLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgQ29udHJvbCA9IENsYXNzLmV4dGVuZCh7XHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIENvbnRyb2wgT3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gcG9zaXRpb246IFN0cmluZyA9ICd0b3ByaWdodCdcclxuXHRcdC8vIFRoZSBwb3NpdGlvbiBvZiB0aGUgY29udHJvbCAob25lIG9mIHRoZSBtYXAgY29ybmVycykuIFBvc3NpYmxlIHZhbHVlcyBhcmUgYCd0b3BsZWZ0J2AsXHJcblx0XHQvLyBgJ3RvcHJpZ2h0J2AsIGAnYm90dG9tbGVmdCdgIG9yIGAnYm90dG9tcmlnaHQnYFxyXG5cdFx0cG9zaXRpb246ICd0b3ByaWdodCdcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cdH0sXHJcblxyXG5cdC8qIEBzZWN0aW9uXHJcblx0ICogQ2xhc3NlcyBleHRlbmRpbmcgTC5Db250cm9sIHdpbGwgaW5oZXJpdCB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XHJcblx0ICpcclxuXHQgKiBAbWV0aG9kIGdldFBvc2l0aW9uOiBzdHJpbmdcclxuXHQgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgY29udHJvbC5cclxuXHQgKi9cclxuXHRnZXRQb3NpdGlvbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbjtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFBvc2l0aW9uKHBvc2l0aW9uOiBzdHJpbmcpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIGNvbnRyb2wuXHJcblx0c2V0UG9zaXRpb246IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcclxuXHJcblx0XHRpZiAobWFwKSB7XHJcblx0XHRcdG1hcC5yZW1vdmVDb250cm9sKHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG5cclxuXHRcdGlmIChtYXApIHtcclxuXHRcdFx0bWFwLmFkZENvbnRyb2wodGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRDb250YWluZXI6IEhUTUxFbGVtZW50XHJcblx0Ly8gUmV0dXJucyB0aGUgSFRNTEVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgY29udHJvbC5cclxuXHRnZXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGRUbyhtYXA6IE1hcCk6IHRoaXNcclxuXHQvLyBBZGRzIHRoZSBjb250cm9sIHRvIHRoZSBnaXZlbiBtYXAuXHJcblx0YWRkVG86IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdHRoaXMucmVtb3ZlKCk7XHJcblx0XHR0aGlzLl9tYXAgPSBtYXA7XHJcblxyXG5cdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IHRoaXMub25BZGQobWFwKSxcclxuXHRcdCAgICBwb3MgPSB0aGlzLmdldFBvc2l0aW9uKCksXHJcblx0XHQgICAgY29ybmVyID0gbWFwLl9jb250cm9sQ29ybmVyc1twb3NdO1xyXG5cclxuXHRcdERvbVV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCAnbGVhZmxldC1jb250cm9sJyk7XHJcblxyXG5cdFx0aWYgKHBvcy5pbmRleE9mKCdib3R0b20nKSAhPT0gLTEpIHtcclxuXHRcdFx0Y29ybmVyLmluc2VydEJlZm9yZShjb250YWluZXIsIGNvcm5lci5maXJzdENoaWxkKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvcm5lci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX21hcC5vbigndW5sb2FkJywgdGhpcy5yZW1vdmUsIHRoaXMpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcmVtb3ZlOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyB0aGUgY29udHJvbCBmcm9tIHRoZSBtYXAgaXQgaXMgY3VycmVudGx5IGFjdGl2ZSBvbi5cclxuXHRyZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fbWFwKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XHJcblxyXG5cdFx0aWYgKHRoaXMub25SZW1vdmUpIHtcclxuXHRcdFx0dGhpcy5vblJlbW92ZSh0aGlzLl9tYXApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX21hcC5vZmYoJ3VubG9hZCcsIHRoaXMucmVtb3ZlLCB0aGlzKTtcclxuXHRcdHRoaXMuX21hcCA9IG51bGw7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3JlZm9jdXNPbk1hcDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdC8vIGlmIG1hcCBleGlzdHMgYW5kIGV2ZW50IGlzIG5vdCBhIGtleWJvYXJkIGV2ZW50XHJcblx0XHRpZiAodGhpcy5fbWFwICYmIGUgJiYgZS5zY3JlZW5YID4gMCAmJiBlLnNjcmVlblkgPiAwKSB7XHJcblx0XHRcdHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5mb2N1cygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5leHBvcnQgdmFyIGNvbnRyb2wgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgQ29udHJvbChvcHRpb25zKTtcclxufTtcclxuXHJcbi8qIEBzZWN0aW9uIEV4dGVuc2lvbiBtZXRob2RzXHJcbiAqIEB1bmluaGVyaXRhYmxlXHJcbiAqXHJcbiAqIEV2ZXJ5IGNvbnRyb2wgc2hvdWxkIGV4dGVuZCBmcm9tIGBMLkNvbnRyb2xgIGFuZCAocmUtKWltcGxlbWVudCB0aGUgZm9sbG93aW5nIG1ldGhvZHMuXHJcbiAqXHJcbiAqIEBtZXRob2Qgb25BZGQobWFwOiBNYXApOiBIVE1MRWxlbWVudFxyXG4gKiBTaG91bGQgcmV0dXJuIHRoZSBjb250YWluZXIgRE9NIGVsZW1lbnQgZm9yIHRoZSBjb250cm9sIGFuZCBhZGQgbGlzdGVuZXJzIG9uIHJlbGV2YW50IG1hcCBldmVudHMuIENhbGxlZCBvbiBbYGNvbnRyb2wuYWRkVG8obWFwKWBdKCNjb250cm9sLWFkZFRvKS5cclxuICpcclxuICogQG1ldGhvZCBvblJlbW92ZShtYXA6IE1hcClcclxuICogT3B0aW9uYWwgbWV0aG9kLiBTaG91bGQgY29udGFpbiBhbGwgY2xlYW4gdXAgY29kZSB0aGF0IHJlbW92ZXMgdGhlIGxpc3RlbmVycyBwcmV2aW91c2x5IGFkZGVkIGluIFtgb25BZGRgXSgjY29udHJvbC1vbmFkZCkuIENhbGxlZCBvbiBbYGNvbnRyb2wucmVtb3ZlKClgXSgjY29udHJvbC1yZW1vdmUpLlxyXG4gKi9cclxuXHJcbi8qIEBuYW1lc3BhY2UgTWFwXHJcbiAqIEBzZWN0aW9uIE1ldGhvZHMgZm9yIExheWVycyBhbmQgQ29udHJvbHNcclxuICovXHJcbk1hcC5pbmNsdWRlKHtcclxuXHQvLyBAbWV0aG9kIGFkZENvbnRyb2woY29udHJvbDogQ29udHJvbCk6IHRoaXNcclxuXHQvLyBBZGRzIHRoZSBnaXZlbiBjb250cm9sIHRvIHRoZSBtYXBcclxuXHRhZGRDb250cm9sOiBmdW5jdGlvbiAoY29udHJvbCkge1xyXG5cdFx0Y29udHJvbC5hZGRUbyh0aGlzKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcmVtb3ZlQ29udHJvbChjb250cm9sOiBDb250cm9sKTogdGhpc1xyXG5cdC8vIFJlbW92ZXMgdGhlIGdpdmVuIGNvbnRyb2wgZnJvbSB0aGUgbWFwXHJcblx0cmVtb3ZlQ29udHJvbDogZnVuY3Rpb24gKGNvbnRyb2wpIHtcclxuXHRcdGNvbnRyb2wucmVtb3ZlKCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfaW5pdENvbnRyb2xQb3M6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBjb3JuZXJzID0gdGhpcy5fY29udHJvbENvcm5lcnMgPSB7fSxcclxuXHRcdCAgICBsID0gJ2xlYWZsZXQtJyxcclxuXHRcdCAgICBjb250YWluZXIgPSB0aGlzLl9jb250cm9sQ29udGFpbmVyID1cclxuXHRcdCAgICAgICAgICAgIERvbVV0aWwuY3JlYXRlKCdkaXYnLCBsICsgJ2NvbnRyb2wtY29udGFpbmVyJywgdGhpcy5fY29udGFpbmVyKTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVDb3JuZXIodlNpZGUsIGhTaWRlKSB7XHJcblx0XHRcdHZhciBjbGFzc05hbWUgPSBsICsgdlNpZGUgKyAnICcgKyBsICsgaFNpZGU7XHJcblxyXG5cdFx0XHRjb3JuZXJzW3ZTaWRlICsgaFNpZGVdID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSwgY29udGFpbmVyKTtcclxuXHRcdH1cclxuXHJcblx0XHRjcmVhdGVDb3JuZXIoJ3RvcCcsICdsZWZ0Jyk7XHJcblx0XHRjcmVhdGVDb3JuZXIoJ3RvcCcsICdyaWdodCcpO1xyXG5cdFx0Y3JlYXRlQ29ybmVyKCdib3R0b20nLCAnbGVmdCcpO1xyXG5cdFx0Y3JlYXRlQ29ybmVyKCdib3R0b20nLCAncmlnaHQnKTtcclxuXHR9LFxyXG5cclxuXHRfY2xlYXJDb250cm9sUG9zOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRmb3IgKHZhciBpIGluIHRoaXMuX2NvbnRyb2xDb3JuZXJzKSB7XHJcblx0XHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRyb2xDb3JuZXJzW2ldKTtcclxuXHRcdH1cclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRyb2xDb250YWluZXIpO1xyXG5cdFx0ZGVsZXRlIHRoaXMuX2NvbnRyb2xDb3JuZXJzO1xyXG5cdFx0ZGVsZXRlIHRoaXMuX2NvbnRyb2xDb250YWluZXI7XHJcblx0fVxyXG59KTtcclxuIiwgIlxyXG5pbXBvcnQge0NvbnRyb2x9IGZyb20gJy4vQ29udHJvbCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vZG9tL0RvbUV2ZW50JztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgQ29udHJvbC5MYXllcnNcclxuICogQGFrYSBMLkNvbnRyb2wuTGF5ZXJzXHJcbiAqIEBpbmhlcml0cyBDb250cm9sXHJcbiAqXHJcbiAqIFRoZSBsYXllcnMgY29udHJvbCBnaXZlcyB1c2VycyB0aGUgYWJpbGl0eSB0byBzd2l0Y2ggYmV0d2VlbiBkaWZmZXJlbnQgYmFzZSBsYXllcnMgYW5kIHN3aXRjaCBvdmVybGF5cyBvbi9vZmYgKGNoZWNrIG91dCB0aGUgW2RldGFpbGVkIGV4YW1wbGVdKGh0dHBzOi8vbGVhZmxldGpzLmNvbS9leGFtcGxlcy9sYXllcnMtY29udHJvbC8pKS4gRXh0ZW5kcyBgQ29udHJvbGAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBiYXNlTGF5ZXJzID0ge1xyXG4gKiBcdFwiTWFwYm94XCI6IG1hcGJveCxcclxuICogXHRcIk9wZW5TdHJlZXRNYXBcIjogb3NtXHJcbiAqIH07XHJcbiAqXHJcbiAqIHZhciBvdmVybGF5cyA9IHtcclxuICogXHRcIk1hcmtlclwiOiBtYXJrZXIsXHJcbiAqIFx0XCJSb2Fkc1wiOiByb2Fkc0xheWVyXHJcbiAqIH07XHJcbiAqXHJcbiAqIEwuY29udHJvbC5sYXllcnMoYmFzZUxheWVycywgb3ZlcmxheXMpLmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgYGJhc2VMYXllcnNgIGFuZCBgb3ZlcmxheXNgIHBhcmFtZXRlcnMgYXJlIG9iamVjdCBsaXRlcmFscyB3aXRoIGxheWVyIG5hbWVzIGFzIGtleXMgYW5kIGBMYXllcmAgb2JqZWN0cyBhcyB2YWx1ZXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHtcclxuICogICAgIFwiPHNvbWVOYW1lMT5cIjogbGF5ZXIxLFxyXG4gKiAgICAgXCI8c29tZU5hbWUyPlwiOiBsYXllcjJcclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICogVGhlIGxheWVyIG5hbWVzIGNhbiBjb250YWluIEhUTUwsIHdoaWNoIGFsbG93cyB5b3UgdG8gYWRkIGFkZGl0aW9uYWwgc3R5bGluZyB0byB0aGUgaXRlbXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHtcIjxpbWcgc3JjPSdteS1sYXllci1pY29uJyAvPiA8c3BhbiBjbGFzcz0nbXktbGF5ZXItaXRlbSc+TXkgTGF5ZXI8L3NwYW4+XCI6IG15TGF5ZXJ9XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgTGF5ZXJzID0gQ29udHJvbC5leHRlbmQoe1xyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBDb250cm9sLkxheWVycyBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBjb2xsYXBzZWQ6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBjb250cm9sIHdpbGwgYmUgY29sbGFwc2VkIGludG8gYW4gaWNvbiBhbmQgZXhwYW5kZWQgb24gbW91c2UgaG92ZXIsIHRvdWNoLCBvciBrZXlib2FyZCBhY3RpdmF0aW9uLlxyXG5cdFx0Y29sbGFwc2VkOiB0cnVlLFxyXG5cdFx0cG9zaXRpb246ICd0b3ByaWdodCcsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvWkluZGV4OiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gSWYgYHRydWVgLCB0aGUgY29udHJvbCB3aWxsIGFzc2lnbiB6SW5kZXhlcyBpbiBpbmNyZWFzaW5nIG9yZGVyIHRvIGFsbCBvZiBpdHMgbGF5ZXJzIHNvIHRoYXQgdGhlIG9yZGVyIGlzIHByZXNlcnZlZCB3aGVuIHN3aXRjaGluZyB0aGVtIG9uL29mZi5cclxuXHRcdGF1dG9aSW5kZXg6IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBoaWRlU2luZ2xlQmFzZTogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBiYXNlIGxheWVycyBpbiB0aGUgY29udHJvbCB3aWxsIGJlIGhpZGRlbiB3aGVuIHRoZXJlIGlzIG9ubHkgb25lLlxyXG5cdFx0aGlkZVNpbmdsZUJhc2U6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gc29ydExheWVyczogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBXaGV0aGVyIHRvIHNvcnQgdGhlIGxheWVycy4gV2hlbiBgZmFsc2VgLCBsYXllcnMgd2lsbCBrZWVwIHRoZSBvcmRlclxyXG5cdFx0Ly8gaW4gd2hpY2ggdGhleSB3ZXJlIGFkZGVkIHRvIHRoZSBjb250cm9sLlxyXG5cdFx0c29ydExheWVyczogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBzb3J0RnVuY3Rpb246IEZ1bmN0aW9uID0gKlxyXG5cdFx0Ly8gQSBbY29tcGFyZSBmdW5jdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc29ydClcclxuXHRcdC8vIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBzb3J0aW5nIHRoZSBsYXllcnMsIHdoZW4gYHNvcnRMYXllcnNgIGlzIGB0cnVlYC5cclxuXHRcdC8vIFRoZSBmdW5jdGlvbiByZWNlaXZlcyBib3RoIHRoZSBgTC5MYXllcmAgaW5zdGFuY2VzIGFuZCB0aGVpciBuYW1lcywgYXMgaW5cclxuXHRcdC8vIGBzb3J0RnVuY3Rpb24obGF5ZXJBLCBsYXllckIsIG5hbWVBLCBuYW1lQilgLlxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgaXQgc29ydHMgbGF5ZXJzIGFscGhhYmV0aWNhbGx5IGJ5IHRoZWlyIG5hbWUuXHJcblx0XHRzb3J0RnVuY3Rpb246IGZ1bmN0aW9uIChsYXllckEsIGxheWVyQiwgbmFtZUEsIG5hbWVCKSB7XHJcblx0XHRcdHJldHVybiBuYW1lQSA8IG5hbWVCID8gLTEgOiAobmFtZUIgPCBuYW1lQSA/IDEgOiAwKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAoYmFzZUxheWVycywgb3ZlcmxheXMsIG9wdGlvbnMpIHtcclxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHJcblx0XHR0aGlzLl9sYXllckNvbnRyb2xJbnB1dHMgPSBbXTtcclxuXHRcdHRoaXMuX2xheWVycyA9IFtdO1xyXG5cdFx0dGhpcy5fbGFzdFpJbmRleCA9IDA7XHJcblx0XHR0aGlzLl9oYW5kbGluZ0NsaWNrID0gZmFsc2U7XHJcblx0XHR0aGlzLl9wcmV2ZW50Q2xpY2sgPSBmYWxzZTtcclxuXHJcblx0XHRmb3IgKHZhciBpIGluIGJhc2VMYXllcnMpIHtcclxuXHRcdFx0dGhpcy5fYWRkTGF5ZXIoYmFzZUxheWVyc1tpXSwgaSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChpIGluIG92ZXJsYXlzKSB7XHJcblx0XHRcdHRoaXMuX2FkZExheWVyKG92ZXJsYXlzW2ldLCBpLCB0cnVlKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dGhpcy5faW5pdExheW91dCgpO1xyXG5cdFx0dGhpcy5fdXBkYXRlKCk7XHJcblxyXG5cdFx0dGhpcy5fbWFwID0gbWFwO1xyXG5cdFx0bWFwLm9uKCd6b29tZW5kJywgdGhpcy5fY2hlY2tEaXNhYmxlZExheWVycywgdGhpcyk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9sYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5fbGF5ZXJzW2ldLmxheWVyLm9uKCdhZGQgcmVtb3ZlJywgdGhpcy5fb25MYXllckNoYW5nZSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuXHR9LFxyXG5cclxuXHRhZGRUbzogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0Q29udHJvbC5wcm90b3R5cGUuYWRkVG8uY2FsbCh0aGlzLCBtYXApO1xyXG5cdFx0Ly8gVHJpZ2dlciBleHBhbmQgYWZ0ZXIgTGF5ZXJzIENvbnRyb2wgaGFzIGJlZW4gaW5zZXJ0ZWQgaW50byBET00gc28gdGhhdCBpcyBub3cgaGFzIGFuIGFjdHVhbCBoZWlnaHQuXHJcblx0XHRyZXR1cm4gdGhpcy5fZXhwYW5kSWZOb3RDb2xsYXBzZWQoKTtcclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fbWFwLm9mZignem9vbWVuZCcsIHRoaXMuX2NoZWNrRGlzYWJsZWRMYXllcnMsIHRoaXMpO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMuX2xheWVyc1tpXS5sYXllci5vZmYoJ2FkZCByZW1vdmUnLCB0aGlzLl9vbkxheWVyQ2hhbmdlLCB0aGlzKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZEJhc2VMYXllcihsYXllcjogTGF5ZXIsIG5hbWU6IFN0cmluZyk6IHRoaXNcclxuXHQvLyBBZGRzIGEgYmFzZSBsYXllciAocmFkaW8gYnV0dG9uIGVudHJ5KSB3aXRoIHRoZSBnaXZlbiBuYW1lIHRvIHRoZSBjb250cm9sLlxyXG5cdGFkZEJhc2VMYXllcjogZnVuY3Rpb24gKGxheWVyLCBuYW1lKSB7XHJcblx0XHR0aGlzLl9hZGRMYXllcihsYXllciwgbmFtZSk7XHJcblx0XHRyZXR1cm4gKHRoaXMuX21hcCkgPyB0aGlzLl91cGRhdGUoKSA6IHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGRPdmVybGF5KGxheWVyOiBMYXllciwgbmFtZTogU3RyaW5nKTogdGhpc1xyXG5cdC8vIEFkZHMgYW4gb3ZlcmxheSAoY2hlY2tib3ggZW50cnkpIHdpdGggdGhlIGdpdmVuIG5hbWUgdG8gdGhlIGNvbnRyb2wuXHJcblx0YWRkT3ZlcmxheTogZnVuY3Rpb24gKGxheWVyLCBuYW1lKSB7XHJcblx0XHR0aGlzLl9hZGRMYXllcihsYXllciwgbmFtZSwgdHJ1ZSk7XHJcblx0XHRyZXR1cm4gKHRoaXMuX21hcCkgPyB0aGlzLl91cGRhdGUoKSA6IHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZW1vdmVMYXllcihsYXllcjogTGF5ZXIpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlIHRoZSBnaXZlbiBsYXllciBmcm9tIHRoZSBjb250cm9sLlxyXG5cdHJlbW92ZUxheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdGxheWVyLm9mZignYWRkIHJlbW92ZScsIHRoaXMuX29uTGF5ZXJDaGFuZ2UsIHRoaXMpO1xyXG5cclxuXHRcdHZhciBvYmogPSB0aGlzLl9nZXRMYXllcihVdGlsLnN0YW1wKGxheWVyKSk7XHJcblx0XHRpZiAob2JqKSB7XHJcblx0XHRcdHRoaXMuX2xheWVycy5zcGxpY2UodGhpcy5fbGF5ZXJzLmluZGV4T2Yob2JqKSwgMSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gKHRoaXMuX21hcCkgPyB0aGlzLl91cGRhdGUoKSA6IHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBleHBhbmQoKTogdGhpc1xyXG5cdC8vIEV4cGFuZCB0aGUgY29udHJvbCBjb250YWluZXIgaWYgY29sbGFwc2VkLlxyXG5cdGV4cGFuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkJyk7XHJcblx0XHR0aGlzLl9zZWN0aW9uLnN0eWxlLmhlaWdodCA9IG51bGw7XHJcblx0XHR2YXIgYWNjZXB0YWJsZUhlaWdodCA9IHRoaXMuX21hcC5nZXRTaXplKCkueSAtICh0aGlzLl9jb250YWluZXIub2Zmc2V0VG9wICsgNTApO1xyXG5cdFx0aWYgKGFjY2VwdGFibGVIZWlnaHQgPCB0aGlzLl9zZWN0aW9uLmNsaWVudEhlaWdodCkge1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX3NlY3Rpb24sICdsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXNjcm9sbGJhcicpO1xyXG5cdFx0XHR0aGlzLl9zZWN0aW9uLnN0eWxlLmhlaWdodCA9IGFjY2VwdGFibGVIZWlnaHQgKyAncHgnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9zZWN0aW9uLCAnbGVhZmxldC1jb250cm9sLWxheWVycy1zY3JvbGxiYXInKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2NoZWNrRGlzYWJsZWRMYXllcnMoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29sbGFwc2UoKTogdGhpc1xyXG5cdC8vIENvbGxhcHNlIHRoZSBjb250cm9sIGNvbnRhaW5lciBpZiBleHBhbmRlZC5cclxuXHRjb2xsYXBzZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkJyk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfaW5pdExheW91dDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGNsYXNzTmFtZSA9ICdsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzJyxcclxuXHRcdCAgICBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lKSxcclxuXHRcdCAgICBjb2xsYXBzZWQgPSB0aGlzLm9wdGlvbnMuY29sbGFwc2VkO1xyXG5cclxuXHRcdC8vIG1ha2VzIHRoaXMgd29yayBvbiBJRSB0b3VjaCBkZXZpY2VzIGJ5IHN0b3BwaW5nIGl0IGZyb20gZmlyaW5nIGEgbW91c2VvdXQgZXZlbnQgd2hlbiB0aGUgdG91Y2ggaXMgcmVsZWFzZWRcclxuXHRcdGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCB0cnVlKTtcclxuXHJcblx0XHREb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihjb250YWluZXIpO1xyXG5cdFx0RG9tRXZlbnQuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKGNvbnRhaW5lcik7XHJcblxyXG5cdFx0dmFyIHNlY3Rpb24gPSB0aGlzLl9zZWN0aW9uID0gRG9tVXRpbC5jcmVhdGUoJ3NlY3Rpb24nLCBjbGFzc05hbWUgKyAnLWxpc3QnKTtcclxuXHJcblx0XHRpZiAoY29sbGFwc2VkKSB7XHJcblx0XHRcdHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLmNvbGxhcHNlLCB0aGlzKTtcclxuXHJcblx0XHRcdERvbUV2ZW50Lm9uKGNvbnRhaW5lciwge1xyXG5cdFx0XHRcdG1vdXNlZW50ZXI6IHRoaXMuX2V4cGFuZFNhZmVseSxcclxuXHRcdFx0XHRtb3VzZWxlYXZlOiB0aGlzLmNvbGxhcHNlXHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBsaW5rID0gdGhpcy5fbGF5ZXJzTGluayA9IERvbVV0aWwuY3JlYXRlKCdhJywgY2xhc3NOYW1lICsgJy10b2dnbGUnLCBjb250YWluZXIpO1xyXG5cdFx0bGluay5ocmVmID0gJyMnO1xyXG5cdFx0bGluay50aXRsZSA9ICdMYXllcnMnO1xyXG5cdFx0bGluay5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XHJcblxyXG5cdFx0RG9tRXZlbnQub24obGluaywge1xyXG5cdFx0XHRrZXlkb3duOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdGlmIChlLmtleUNvZGUgPT09IDEzKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9leHBhbmRTYWZlbHkoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdC8vIENlcnRhaW4gc2NyZWVuIHJlYWRlcnMgaW50ZXJjZXB0IHRoZSBrZXkgZXZlbnQgYW5kIGluc3RlYWQgc2VuZCBhIGNsaWNrIGV2ZW50XHJcblx0XHRcdGNsaWNrOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdERvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xyXG5cdFx0XHRcdHRoaXMuX2V4cGFuZFNhZmVseSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCB0aGlzKTtcclxuXHJcblx0XHRpZiAoIWNvbGxhcHNlZCkge1xyXG5cdFx0XHR0aGlzLmV4cGFuZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2Jhc2VMYXllcnNMaXN0ID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSArICctYmFzZScsIHNlY3Rpb24pO1xyXG5cdFx0dGhpcy5fc2VwYXJhdG9yID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSArICctc2VwYXJhdG9yJywgc2VjdGlvbik7XHJcblx0XHR0aGlzLl9vdmVybGF5c0xpc3QgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lICsgJy1vdmVybGF5cycsIHNlY3Rpb24pO1xyXG5cclxuXHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uKTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0TGF5ZXI6IGZ1bmN0aW9uIChpZCkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9sYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdGlmICh0aGlzLl9sYXllcnNbaV0gJiYgVXRpbC5zdGFtcCh0aGlzLl9sYXllcnNbaV0ubGF5ZXIpID09PSBpZCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLl9sYXllcnNbaV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfYWRkTGF5ZXI6IGZ1bmN0aW9uIChsYXllciwgbmFtZSwgb3ZlcmxheSkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHRsYXllci5vbignYWRkIHJlbW92ZScsIHRoaXMuX29uTGF5ZXJDaGFuZ2UsIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2xheWVycy5wdXNoKHtcclxuXHRcdFx0bGF5ZXI6IGxheWVyLFxyXG5cdFx0XHRuYW1lOiBuYW1lLFxyXG5cdFx0XHRvdmVybGF5OiBvdmVybGF5XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLnNvcnRMYXllcnMpIHtcclxuXHRcdFx0dGhpcy5fbGF5ZXJzLnNvcnQoVXRpbC5iaW5kKGZ1bmN0aW9uIChhLCBiKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5zb3J0RnVuY3Rpb24oYS5sYXllciwgYi5sYXllciwgYS5uYW1lLCBiLm5hbWUpO1xyXG5cdFx0XHR9LCB0aGlzKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5hdXRvWkluZGV4ICYmIGxheWVyLnNldFpJbmRleCkge1xyXG5cdFx0XHR0aGlzLl9sYXN0WkluZGV4Kys7XHJcblx0XHRcdGxheWVyLnNldFpJbmRleCh0aGlzLl9sYXN0WkluZGV4KTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9leHBhbmRJZk5vdENvbGxhcHNlZCgpO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fY29udGFpbmVyKSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0RG9tVXRpbC5lbXB0eSh0aGlzLl9iYXNlTGF5ZXJzTGlzdCk7XHJcblx0XHREb21VdGlsLmVtcHR5KHRoaXMuX292ZXJsYXlzTGlzdCk7XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJDb250cm9sSW5wdXRzID0gW107XHJcblx0XHR2YXIgYmFzZUxheWVyc1ByZXNlbnQsIG92ZXJsYXlzUHJlc2VudCwgaSwgb2JqLCBiYXNlTGF5ZXJzQ291bnQgPSAwO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9sYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0b2JqID0gdGhpcy5fbGF5ZXJzW2ldO1xyXG5cdFx0XHR0aGlzLl9hZGRJdGVtKG9iaik7XHJcblx0XHRcdG92ZXJsYXlzUHJlc2VudCA9IG92ZXJsYXlzUHJlc2VudCB8fCBvYmoub3ZlcmxheTtcclxuXHRcdFx0YmFzZUxheWVyc1ByZXNlbnQgPSBiYXNlTGF5ZXJzUHJlc2VudCB8fCAhb2JqLm92ZXJsYXk7XHJcblx0XHRcdGJhc2VMYXllcnNDb3VudCArPSAhb2JqLm92ZXJsYXkgPyAxIDogMDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBIaWRlIGJhc2UgbGF5ZXJzIHNlY3Rpb24gaWYgdGhlcmUncyBvbmx5IG9uZSBsYXllci5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaGlkZVNpbmdsZUJhc2UpIHtcclxuXHRcdFx0YmFzZUxheWVyc1ByZXNlbnQgPSBiYXNlTGF5ZXJzUHJlc2VudCAmJiBiYXNlTGF5ZXJzQ291bnQgPiAxO1xyXG5cdFx0XHR0aGlzLl9iYXNlTGF5ZXJzTGlzdC5zdHlsZS5kaXNwbGF5ID0gYmFzZUxheWVyc1ByZXNlbnQgPyAnJyA6ICdub25lJztcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9zZXBhcmF0b3Iuc3R5bGUuZGlzcGxheSA9IG92ZXJsYXlzUHJlc2VudCAmJiBiYXNlTGF5ZXJzUHJlc2VudCA/ICcnIDogJ25vbmUnO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9vbkxheWVyQ2hhbmdlOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0aWYgKCF0aGlzLl9oYW5kbGluZ0NsaWNrKSB7XHJcblx0XHRcdHRoaXMuX3VwZGF0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBvYmogPSB0aGlzLl9nZXRMYXllcihVdGlsLnN0YW1wKGUudGFyZ2V0KSk7XHJcblxyXG5cdFx0Ly8gQG5hbWVzcGFjZSBNYXBcclxuXHRcdC8vIEBzZWN0aW9uIExheWVyIGV2ZW50c1xyXG5cdFx0Ly8gQGV2ZW50IGJhc2VsYXllcmNoYW5nZTogTGF5ZXJzQ29udHJvbEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBiYXNlIGxheWVyIGlzIGNoYW5nZWQgdGhyb3VnaCB0aGUgW2xheWVycyBjb250cm9sXSgjY29udHJvbC1sYXllcnMpLlxyXG5cdFx0Ly8gQGV2ZW50IG92ZXJsYXlhZGQ6IExheWVyc0NvbnRyb2xFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBhbiBvdmVybGF5IGlzIHNlbGVjdGVkIHRocm91Z2ggdGhlIFtsYXllcnMgY29udHJvbF0oI2NvbnRyb2wtbGF5ZXJzKS5cclxuXHRcdC8vIEBldmVudCBvdmVybGF5cmVtb3ZlOiBMYXllcnNDb250cm9sRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gYW4gb3ZlcmxheSBpcyBkZXNlbGVjdGVkIHRocm91Z2ggdGhlIFtsYXllcnMgY29udHJvbF0oI2NvbnRyb2wtbGF5ZXJzKS5cclxuXHRcdC8vIEBuYW1lc3BhY2UgQ29udHJvbC5MYXllcnNcclxuXHRcdHZhciB0eXBlID0gb2JqLm92ZXJsYXkgP1xyXG5cdFx0XHQoZS50eXBlID09PSAnYWRkJyA/ICdvdmVybGF5YWRkJyA6ICdvdmVybGF5cmVtb3ZlJykgOlxyXG5cdFx0XHQoZS50eXBlID09PSAnYWRkJyA/ICdiYXNlbGF5ZXJjaGFuZ2UnIDogbnVsbCk7XHJcblxyXG5cdFx0aWYgKHR5cGUpIHtcclxuXHRcdFx0dGhpcy5fbWFwLmZpcmUodHlwZSwgb2JqKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBJRTcgYnVncyBvdXQgaWYgeW91IGNyZWF0ZSBhIHJhZGlvIGR5bmFtaWNhbGx5LCBzbyB5b3UgaGF2ZSB0byBkbyBpdCB0aGlzIGhhY2t5IHdheSAoc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMTkwNzkpXHJcblx0X2NyZWF0ZVJhZGlvRWxlbWVudDogZnVuY3Rpb24gKG5hbWUsIGNoZWNrZWQpIHtcclxuXHJcblx0XHR2YXIgcmFkaW9IdG1sID0gJzxpbnB1dCB0eXBlPVwicmFkaW9cIiBjbGFzcz1cImxlYWZsZXQtY29udHJvbC1sYXllcnMtc2VsZWN0b3JcIiBuYW1lPVwiJyArXHJcblx0XHRcdFx0bmFtZSArICdcIicgKyAoY2hlY2tlZCA/ICcgY2hlY2tlZD1cImNoZWNrZWRcIicgOiAnJykgKyAnLz4nO1xyXG5cclxuXHRcdHZhciByYWRpb0ZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRyYWRpb0ZyYWdtZW50LmlubmVySFRNTCA9IHJhZGlvSHRtbDtcclxuXHJcblx0XHRyZXR1cm4gcmFkaW9GcmFnbWVudC5maXJzdENoaWxkO1xyXG5cdH0sXHJcblxyXG5cdF9hZGRJdGVtOiBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHR2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpLFxyXG5cdFx0ICAgIGNoZWNrZWQgPSB0aGlzLl9tYXAuaGFzTGF5ZXIob2JqLmxheWVyKSxcclxuXHRcdCAgICBpbnB1dDtcclxuXHJcblx0XHRpZiAob2JqLm92ZXJsYXkpIHtcclxuXHRcdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cdFx0XHRpbnB1dC50eXBlID0gJ2NoZWNrYm94JztcclxuXHRcdFx0aW5wdXQuY2xhc3NOYW1lID0gJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtc2VsZWN0b3InO1xyXG5cdFx0XHRpbnB1dC5kZWZhdWx0Q2hlY2tlZCA9IGNoZWNrZWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbnB1dCA9IHRoaXMuX2NyZWF0ZVJhZGlvRWxlbWVudCgnbGVhZmxldC1iYXNlLWxheWVyc18nICsgVXRpbC5zdGFtcCh0aGlzKSwgY2hlY2tlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJDb250cm9sSW5wdXRzLnB1c2goaW5wdXQpO1xyXG5cdFx0aW5wdXQubGF5ZXJJZCA9IFV0aWwuc3RhbXAob2JqLmxheWVyKTtcclxuXHJcblx0XHREb21FdmVudC5vbihpbnB1dCwgJ2NsaWNrJywgdGhpcy5fb25JbnB1dENsaWNrLCB0aGlzKTtcclxuXHJcblx0XHR2YXIgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRcdG5hbWUuaW5uZXJIVE1MID0gJyAnICsgb2JqLm5hbWU7XHJcblxyXG5cdFx0Ly8gSGVscHMgZnJvbSBwcmV2ZW50aW5nIGxheWVyIGNvbnRyb2wgZmxpY2tlciB3aGVuIGNoZWNrYm94ZXMgYXJlIGRpc2FibGVkXHJcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy8yNzcxXHJcblx0XHR2YXIgaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cclxuXHRcdGxhYmVsLmFwcGVuZENoaWxkKGhvbGRlcik7XHJcblx0XHRob2xkZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5cdFx0aG9sZGVyLmFwcGVuZENoaWxkKG5hbWUpO1xyXG5cclxuXHRcdHZhciBjb250YWluZXIgPSBvYmoub3ZlcmxheSA/IHRoaXMuX292ZXJsYXlzTGlzdCA6IHRoaXMuX2Jhc2VMYXllcnNMaXN0O1xyXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuXHJcblx0XHR0aGlzLl9jaGVja0Rpc2FibGVkTGF5ZXJzKCk7XHJcblx0XHRyZXR1cm4gbGFiZWw7XHJcblx0fSxcclxuXHJcblx0X29uSW5wdXRDbGljazogZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gZXhwYW5kaW5nIHRoZSBjb250cm9sIG9uIG1vYmlsZSB3aXRoIGEgY2xpY2sgY2FuIGNhdXNlIGFkZGluZyBhIGxheWVyIC0gd2UgZG9uJ3Qgd2FudCB0aGlzXHJcblx0XHRpZiAodGhpcy5fcHJldmVudENsaWNrKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgaW5wdXRzID0gdGhpcy5fbGF5ZXJDb250cm9sSW5wdXRzLFxyXG5cdFx0ICAgIGlucHV0LCBsYXllcjtcclxuXHRcdHZhciBhZGRlZExheWVycyA9IFtdLFxyXG5cdFx0ICAgIHJlbW92ZWRMYXllcnMgPSBbXTtcclxuXHJcblx0XHR0aGlzLl9oYW5kbGluZ0NsaWNrID0gdHJ1ZTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gaW5wdXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdGlucHV0ID0gaW5wdXRzW2ldO1xyXG5cdFx0XHRsYXllciA9IHRoaXMuX2dldExheWVyKGlucHV0LmxheWVySWQpLmxheWVyO1xyXG5cclxuXHRcdFx0aWYgKGlucHV0LmNoZWNrZWQpIHtcclxuXHRcdFx0XHRhZGRlZExheWVycy5wdXNoKGxheWVyKTtcclxuXHRcdFx0fSBlbHNlIGlmICghaW5wdXQuY2hlY2tlZCkge1xyXG5cdFx0XHRcdHJlbW92ZWRMYXllcnMucHVzaChsYXllcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBCdWdmaXggaXNzdWUgMjMxODogU2hvdWxkIHJlbW92ZSBhbGwgb2xkIGxheWVycyBiZWZvcmUgcmVhZGRpbmcgbmV3IG9uZXNcclxuXHRcdGZvciAoaSA9IDA7IGkgPCByZW1vdmVkTGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICh0aGlzLl9tYXAuaGFzTGF5ZXIocmVtb3ZlZExheWVyc1tpXSkpIHtcclxuXHRcdFx0XHR0aGlzLl9tYXAucmVtb3ZlTGF5ZXIocmVtb3ZlZExheWVyc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBhZGRlZExheWVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoIXRoaXMuX21hcC5oYXNMYXllcihhZGRlZExheWVyc1tpXSkpIHtcclxuXHRcdFx0XHR0aGlzLl9tYXAuYWRkTGF5ZXIoYWRkZWRMYXllcnNbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faGFuZGxpbmdDbGljayA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuX3JlZm9jdXNPbk1hcCgpO1xyXG5cdH0sXHJcblxyXG5cdF9jaGVja0Rpc2FibGVkTGF5ZXJzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgaW5wdXRzID0gdGhpcy5fbGF5ZXJDb250cm9sSW5wdXRzLFxyXG5cdFx0ICAgIGlucHV0LFxyXG5cdFx0ICAgIGxheWVyLFxyXG5cdFx0ICAgIHpvb20gPSB0aGlzLl9tYXAuZ2V0Wm9vbSgpO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSBpbnB1dHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0aW5wdXQgPSBpbnB1dHNbaV07XHJcblx0XHRcdGxheWVyID0gdGhpcy5fZ2V0TGF5ZXIoaW5wdXQubGF5ZXJJZCkubGF5ZXI7XHJcblx0XHRcdGlucHV0LmRpc2FibGVkID0gKGxheWVyLm9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkICYmIHpvb20gPCBsYXllci5vcHRpb25zLm1pblpvb20pIHx8XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgKGxheWVyLm9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkICYmIHpvb20gPiBsYXllci5vcHRpb25zLm1heFpvb20pO1xyXG5cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZXhwYW5kSWZOb3RDb2xsYXBzZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9tYXAgJiYgIXRoaXMub3B0aW9ucy5jb2xsYXBzZWQpIHtcclxuXHRcdFx0dGhpcy5leHBhbmQoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9leHBhbmRTYWZlbHk6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbjtcclxuXHRcdHRoaXMuX3ByZXZlbnRDbGljayA9IHRydWU7XHJcblx0XHREb21FdmVudC5vbihzZWN0aW9uLCAnY2xpY2snLCBEb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7XHJcblx0XHR0aGlzLmV4cGFuZCgpO1xyXG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdERvbUV2ZW50Lm9mZihzZWN0aW9uLCAnY2xpY2snLCBEb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7XHJcblx0XHRcdHRoYXQuX3ByZXZlbnRDbGljayA9IGZhbHNlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC5jb250cm9sLmxheWVycyhiYXNlbGF5ZXJzPzogT2JqZWN0LCBvdmVybGF5cz86IE9iamVjdCwgb3B0aW9ucz86IENvbnRyb2wuTGF5ZXJzIG9wdGlvbnMpXHJcbi8vIENyZWF0ZXMgYSBsYXllcnMgY29udHJvbCB3aXRoIHRoZSBnaXZlbiBsYXllcnMuIEJhc2UgbGF5ZXJzIHdpbGwgYmUgc3dpdGNoZWQgd2l0aCByYWRpbyBidXR0b25zLCB3aGlsZSBvdmVybGF5cyB3aWxsIGJlIHN3aXRjaGVkIHdpdGggY2hlY2tib3hlcy4gTm90ZSB0aGF0IGFsbCBiYXNlIGxheWVycyBzaG91bGQgYmUgcGFzc2VkIGluIHRoZSBiYXNlIGxheWVycyBvYmplY3QsIGJ1dCBvbmx5IG9uZSBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIG1hcCBkdXJpbmcgbWFwIGluc3RhbnRpYXRpb24uXHJcbmV4cG9ydCB2YXIgbGF5ZXJzID0gZnVuY3Rpb24gKGJhc2VMYXllcnMsIG92ZXJsYXlzLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBMYXllcnMoYmFzZUxheWVycywgb3ZlcmxheXMsIG9wdGlvbnMpO1xyXG59O1xyXG4iLCAiXHJcbmltcG9ydCB7Q29udHJvbH0gZnJvbSAnLi9Db250cm9sJztcclxuaW1wb3J0IHtNYXB9IGZyb20gJy4uL21hcC9NYXAnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcclxuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vZG9tL0RvbUV2ZW50JztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBDb250cm9sLlpvb21cclxuICogQGFrYSBMLkNvbnRyb2wuWm9vbVxyXG4gKiBAaW5oZXJpdHMgQ29udHJvbFxyXG4gKlxyXG4gKiBBIGJhc2ljIHpvb20gY29udHJvbCB3aXRoIHR3byBidXR0b25zICh6b29tIGluIGFuZCB6b29tIG91dCkuIEl0IGlzIHB1dCBvbiB0aGUgbWFwIGJ5IGRlZmF1bHQgdW5sZXNzIHlvdSBzZXQgaXRzIFtgem9vbUNvbnRyb2xgIG9wdGlvbl0oI21hcC16b29tY29udHJvbCkgdG8gYGZhbHNlYC4gRXh0ZW5kcyBgQ29udHJvbGAuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBab29tID0gQ29udHJvbC5leHRlbmQoe1xyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBDb250cm9sLlpvb20gb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdHBvc2l0aW9uOiAndG9wbGVmdCcsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tSW5UZXh0OiBTdHJpbmcgPSAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+Kzwvc3Bhbj4nXHJcblx0XHQvLyBUaGUgdGV4dCBzZXQgb24gdGhlICd6b29tIGluJyBidXR0b24uXHJcblx0XHR6b29tSW5UZXh0OiAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+Kzwvc3Bhbj4nLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gem9vbUluVGl0bGU6IFN0cmluZyA9ICdab29tIGluJ1xyXG5cdFx0Ly8gVGhlIHRpdGxlIHNldCBvbiB0aGUgJ3pvb20gaW4nIGJ1dHRvbi5cclxuXHRcdHpvb21JblRpdGxlOiAnWm9vbSBpbicsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tT3V0VGV4dDogU3RyaW5nID0gJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiYjeDIyMTI7PC9zcGFuPidcclxuXHRcdC8vIFRoZSB0ZXh0IHNldCBvbiB0aGUgJ3pvb20gb3V0JyBidXR0b24uXHJcblx0XHR6b29tT3V0VGV4dDogJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiYjeDIyMTI7PC9zcGFuPicsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tT3V0VGl0bGU6IFN0cmluZyA9ICdab29tIG91dCdcclxuXHRcdC8vIFRoZSB0aXRsZSBzZXQgb24gdGhlICd6b29tIG91dCcgYnV0dG9uLlxyXG5cdFx0em9vbU91dFRpdGxlOiAnWm9vbSBvdXQnXHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdHZhciB6b29tTmFtZSA9ICdsZWFmbGV0LWNvbnRyb2wtem9vbScsXHJcblx0XHQgICAgY29udGFpbmVyID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIHpvb21OYW1lICsgJyBsZWFmbGV0LWJhcicpLFxyXG5cdFx0ICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0dGhpcy5fem9vbUluQnV0dG9uICA9IHRoaXMuX2NyZWF0ZUJ1dHRvbihvcHRpb25zLnpvb21JblRleHQsIG9wdGlvbnMuem9vbUluVGl0bGUsXHJcblx0XHQgICAgICAgIHpvb21OYW1lICsgJy1pbicsICBjb250YWluZXIsIHRoaXMuX3pvb21Jbik7XHJcblx0XHR0aGlzLl96b29tT3V0QnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKG9wdGlvbnMuem9vbU91dFRleHQsIG9wdGlvbnMuem9vbU91dFRpdGxlLFxyXG5cdFx0ICAgICAgICB6b29tTmFtZSArICctb3V0JywgY29udGFpbmVyLCB0aGlzLl96b29tT3V0KTtcclxuXHJcblx0XHR0aGlzLl91cGRhdGVEaXNhYmxlZCgpO1xyXG5cdFx0bWFwLm9uKCd6b29tZW5kIHpvb21sZXZlbHNjaGFuZ2UnLCB0aGlzLl91cGRhdGVEaXNhYmxlZCwgdGhpcyk7XHJcblxyXG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0bWFwLm9mZignem9vbWVuZCB6b29tbGV2ZWxzY2hhbmdlJywgdGhpcy5fdXBkYXRlRGlzYWJsZWQsIHRoaXMpO1xyXG5cdH0sXHJcblxyXG5cdGRpc2FibGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX2Rpc2FibGVkID0gdHJ1ZTtcclxuXHRcdHRoaXMuX3VwZGF0ZURpc2FibGVkKCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRlbmFibGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX2Rpc2FibGVkID0gZmFsc2U7XHJcblx0XHR0aGlzLl91cGRhdGVEaXNhYmxlZCgpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3pvb21JbjogZnVuY3Rpb24gKGUpIHtcclxuXHRcdGlmICghdGhpcy5fZGlzYWJsZWQgJiYgdGhpcy5fbWFwLl96b29tIDwgdGhpcy5fbWFwLmdldE1heFpvb20oKSkge1xyXG5cdFx0XHR0aGlzLl9tYXAuem9vbUluKHRoaXMuX21hcC5vcHRpb25zLnpvb21EZWx0YSAqIChlLnNoaWZ0S2V5ID8gMyA6IDEpKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfem9vbU91dDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdGlmICghdGhpcy5fZGlzYWJsZWQgJiYgdGhpcy5fbWFwLl96b29tID4gdGhpcy5fbWFwLmdldE1pblpvb20oKSkge1xyXG5cdFx0XHR0aGlzLl9tYXAuem9vbU91dCh0aGlzLl9tYXAub3B0aW9ucy56b29tRGVsdGEgKiAoZS5zaGlmdEtleSA/IDMgOiAxKSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZUJ1dHRvbjogZnVuY3Rpb24gKGh0bWwsIHRpdGxlLCBjbGFzc05hbWUsIGNvbnRhaW5lciwgZm4pIHtcclxuXHRcdHZhciBsaW5rID0gRG9tVXRpbC5jcmVhdGUoJ2EnLCBjbGFzc05hbWUsIGNvbnRhaW5lcik7XHJcblx0XHRsaW5rLmlubmVySFRNTCA9IGh0bWw7XHJcblx0XHRsaW5rLmhyZWYgPSAnIyc7XHJcblx0XHRsaW5rLnRpdGxlID0gdGl0bGU7XHJcblxyXG5cdFx0LypcclxuXHRcdCAqIFdpbGwgZm9yY2Ugc2NyZWVuIHJlYWRlcnMgbGlrZSBWb2ljZU92ZXIgdG8gcmVhZCB0aGlzIGFzIFwiWm9vbSBpbiAtIGJ1dHRvblwiXHJcblx0XHQgKi9cclxuXHRcdGxpbmsuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xyXG5cdFx0bGluay5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aXRsZSk7XHJcblxyXG5cdFx0RG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24obGluayk7XHJcblx0XHREb21FdmVudC5vbihsaW5rLCAnY2xpY2snLCBEb21FdmVudC5zdG9wKTtcclxuXHRcdERvbUV2ZW50Lm9uKGxpbmssICdjbGljaycsIGZuLCB0aGlzKTtcclxuXHRcdERvbUV2ZW50Lm9uKGxpbmssICdjbGljaycsIHRoaXMuX3JlZm9jdXNPbk1hcCwgdGhpcyk7XHJcblxyXG5cdFx0cmV0dXJuIGxpbms7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZURpc2FibGVkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwLFxyXG5cdFx0ICAgIGNsYXNzTmFtZSA9ICdsZWFmbGV0LWRpc2FibGVkJztcclxuXHJcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3pvb21JbkJ1dHRvbiwgY2xhc3NOYW1lKTtcclxuXHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fem9vbU91dEJ1dHRvbiwgY2xhc3NOYW1lKTtcclxuXHRcdHRoaXMuX3pvb21JbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcclxuXHRcdHRoaXMuX3pvb21PdXRCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ2ZhbHNlJyk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2Rpc2FibGVkIHx8IG1hcC5fem9vbSA9PT0gbWFwLmdldE1pblpvb20oKSkge1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX3pvb21PdXRCdXR0b24sIGNsYXNzTmFtZSk7XHJcblx0XHRcdHRoaXMuX3pvb21PdXRCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLl9kaXNhYmxlZCB8fCBtYXAuX3pvb20gPT09IG1hcC5nZXRNYXhab29tKCkpIHtcclxuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl96b29tSW5CdXR0b24sIGNsYXNzTmFtZSk7XHJcblx0XHRcdHRoaXMuX3pvb21JbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAbmFtZXNwYWNlIE1hcFxyXG4vLyBAc2VjdGlvbiBDb250cm9sIG9wdGlvbnNcclxuLy8gQG9wdGlvbiB6b29tQ29udHJvbDogQm9vbGVhbiA9IHRydWVcclxuLy8gV2hldGhlciBhIFt6b29tIGNvbnRyb2xdKCNjb250cm9sLXpvb20pIGlzIGFkZGVkIHRvIHRoZSBtYXAgYnkgZGVmYXVsdC5cclxuTWFwLm1lcmdlT3B0aW9ucyh7XHJcblx0em9vbUNvbnRyb2w6IHRydWVcclxufSk7XHJcblxyXG5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24gKCkge1xyXG5cdGlmICh0aGlzLm9wdGlvbnMuem9vbUNvbnRyb2wpIHtcclxuXHRcdC8vIEBzZWN0aW9uIENvbnRyb2xzXHJcblx0XHQvLyBAcHJvcGVydHkgem9vbUNvbnRyb2w6IENvbnRyb2wuWm9vbVxyXG5cdFx0Ly8gVGhlIGRlZmF1bHQgem9vbSBjb250cm9sIChvbmx5IGF2YWlsYWJsZSBpZiB0aGVcclxuXHRcdC8vIFtgem9vbUNvbnRyb2xgIG9wdGlvbl0oI21hcC16b29tY29udHJvbCkgd2FzIGB0cnVlYCB3aGVuIGNyZWF0aW5nIHRoZSBtYXApLlxyXG5cdFx0dGhpcy56b29tQ29udHJvbCA9IG5ldyBab29tKCk7XHJcblx0XHR0aGlzLmFkZENvbnRyb2wodGhpcy56b29tQ29udHJvbCk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBuYW1lc3BhY2UgQ29udHJvbC5ab29tXHJcbi8vIEBmYWN0b3J5IEwuY29udHJvbC56b29tKG9wdGlvbnM6IENvbnRyb2wuWm9vbSBvcHRpb25zKVxyXG4vLyBDcmVhdGVzIGEgem9vbSBjb250cm9sXHJcbmV4cG9ydCB2YXIgem9vbSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBab29tKG9wdGlvbnMpO1xyXG59O1xyXG4iLCAiXG5pbXBvcnQge0NvbnRyb2x9IGZyb20gJy4vQ29udHJvbCc7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcblxuLypcbiAqIEBjbGFzcyBDb250cm9sLlNjYWxlXG4gKiBAYWthIEwuQ29udHJvbC5TY2FsZVxuICogQGluaGVyaXRzIENvbnRyb2xcbiAqXG4gKiBBIHNpbXBsZSBzY2FsZSBjb250cm9sIHRoYXQgc2hvd3MgdGhlIHNjYWxlIG9mIHRoZSBjdXJyZW50IGNlbnRlciBvZiBzY3JlZW4gaW4gbWV0cmljIChtL2ttKSBhbmQgaW1wZXJpYWwgKG1pL2Z0KSBzeXN0ZW1zLiBFeHRlbmRzIGBDb250cm9sYC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiBMLmNvbnRyb2wuc2NhbGUoKS5hZGRUbyhtYXApO1xuICogYGBgXG4gKi9cblxuZXhwb3J0IHZhciBTY2FsZSA9IENvbnRyb2wuZXh0ZW5kKHtcblx0Ly8gQHNlY3Rpb25cblx0Ly8gQGFrYSBDb250cm9sLlNjYWxlIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdHBvc2l0aW9uOiAnYm90dG9tbGVmdCcsXG5cblx0XHQvLyBAb3B0aW9uIG1heFdpZHRoOiBOdW1iZXIgPSAxMDBcblx0XHQvLyBNYXhpbXVtIHdpZHRoIG9mIHRoZSBjb250cm9sIGluIHBpeGVscy4gVGhlIHdpZHRoIGlzIHNldCBkeW5hbWljYWxseSB0byBzaG93IHJvdW5kIHZhbHVlcyAoZS5nLiAxMDAsIDIwMCwgNTAwKS5cblx0XHRtYXhXaWR0aDogMTAwLFxuXG5cdFx0Ly8gQG9wdGlvbiBtZXRyaWM6IEJvb2xlYW4gPSBUcnVlXG5cdFx0Ly8gV2hldGhlciB0byBzaG93IHRoZSBtZXRyaWMgc2NhbGUgbGluZSAobS9rbSkuXG5cdFx0bWV0cmljOiB0cnVlLFxuXG5cdFx0Ly8gQG9wdGlvbiBpbXBlcmlhbDogQm9vbGVhbiA9IFRydWVcblx0XHQvLyBXaGV0aGVyIHRvIHNob3cgdGhlIGltcGVyaWFsIHNjYWxlIGxpbmUgKG1pL2Z0KS5cblx0XHRpbXBlcmlhbDogdHJ1ZVxuXG5cdFx0Ly8gQG9wdGlvbiB1cGRhdGVXaGVuSWRsZTogQm9vbGVhbiA9IGZhbHNlXG5cdFx0Ly8gSWYgYHRydWVgLCB0aGUgY29udHJvbCBpcyB1cGRhdGVkIG9uIFtgbW92ZWVuZGBdKCNtYXAtbW92ZWVuZCksIG90aGVyd2lzZSBpdCdzIGFsd2F5cyB1cC10by1kYXRlICh1cGRhdGVkIG9uIFtgbW92ZWBdKCNtYXAtbW92ZSkpLlxuXHR9LFxuXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0dmFyIGNsYXNzTmFtZSA9ICdsZWFmbGV0LWNvbnRyb2wtc2NhbGUnLFxuXHRcdCAgICBjb250YWluZXIgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lKSxcblx0XHQgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdHRoaXMuX2FkZFNjYWxlcyhvcHRpb25zLCBjbGFzc05hbWUgKyAnLWxpbmUnLCBjb250YWluZXIpO1xuXG5cdFx0bWFwLm9uKG9wdGlvbnMudXBkYXRlV2hlbklkbGUgPyAnbW92ZWVuZCcgOiAnbW92ZScsIHRoaXMuX3VwZGF0ZSwgdGhpcyk7XG5cdFx0bWFwLndoZW5SZWFkeSh0aGlzLl91cGRhdGUsIHRoaXMpO1xuXG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fSxcblxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdG1hcC5vZmYodGhpcy5vcHRpb25zLnVwZGF0ZVdoZW5JZGxlID8gJ21vdmVlbmQnIDogJ21vdmUnLCB0aGlzLl91cGRhdGUsIHRoaXMpO1xuXHR9LFxuXG5cdF9hZGRTY2FsZXM6IGZ1bmN0aW9uIChvcHRpb25zLCBjbGFzc05hbWUsIGNvbnRhaW5lcikge1xuXHRcdGlmIChvcHRpb25zLm1ldHJpYykge1xuXHRcdFx0dGhpcy5fbVNjYWxlID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSwgY29udGFpbmVyKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuaW1wZXJpYWwpIHtcblx0XHRcdHRoaXMuX2lTY2FsZSA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUsIGNvbnRhaW5lcik7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwLFxuXHRcdCAgICB5ID0gbWFwLmdldFNpemUoKS55IC8gMjtcblxuXHRcdHZhciBtYXhNZXRlcnMgPSBtYXAuZGlzdGFuY2UoXG5cdFx0XHRtYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyhbMCwgeV0pLFxuXHRcdFx0bWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcoW3RoaXMub3B0aW9ucy5tYXhXaWR0aCwgeV0pKTtcblxuXHRcdHRoaXMuX3VwZGF0ZVNjYWxlcyhtYXhNZXRlcnMpO1xuXHR9LFxuXG5cdF91cGRhdGVTY2FsZXM6IGZ1bmN0aW9uIChtYXhNZXRlcnMpIHtcblx0XHRpZiAodGhpcy5vcHRpb25zLm1ldHJpYyAmJiBtYXhNZXRlcnMpIHtcblx0XHRcdHRoaXMuX3VwZGF0ZU1ldHJpYyhtYXhNZXRlcnMpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5vcHRpb25zLmltcGVyaWFsICYmIG1heE1ldGVycykge1xuXHRcdFx0dGhpcy5fdXBkYXRlSW1wZXJpYWwobWF4TWV0ZXJzKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZU1ldHJpYzogZnVuY3Rpb24gKG1heE1ldGVycykge1xuXHRcdHZhciBtZXRlcnMgPSB0aGlzLl9nZXRSb3VuZE51bShtYXhNZXRlcnMpLFxuXHRcdCAgICBsYWJlbCA9IG1ldGVycyA8IDEwMDAgPyBtZXRlcnMgKyAnIG0nIDogKG1ldGVycyAvIDEwMDApICsgJyBrbSc7XG5cblx0XHR0aGlzLl91cGRhdGVTY2FsZSh0aGlzLl9tU2NhbGUsIGxhYmVsLCBtZXRlcnMgLyBtYXhNZXRlcnMpO1xuXHR9LFxuXG5cdF91cGRhdGVJbXBlcmlhbDogZnVuY3Rpb24gKG1heE1ldGVycykge1xuXHRcdHZhciBtYXhGZWV0ID0gbWF4TWV0ZXJzICogMy4yODA4Mzk5LFxuXHRcdCAgICBtYXhNaWxlcywgbWlsZXMsIGZlZXQ7XG5cblx0XHRpZiAobWF4RmVldCA+IDUyODApIHtcblx0XHRcdG1heE1pbGVzID0gbWF4RmVldCAvIDUyODA7XG5cdFx0XHRtaWxlcyA9IHRoaXMuX2dldFJvdW5kTnVtKG1heE1pbGVzKTtcblx0XHRcdHRoaXMuX3VwZGF0ZVNjYWxlKHRoaXMuX2lTY2FsZSwgbWlsZXMgKyAnIG1pJywgbWlsZXMgLyBtYXhNaWxlcyk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZmVldCA9IHRoaXMuX2dldFJvdW5kTnVtKG1heEZlZXQpO1xuXHRcdFx0dGhpcy5fdXBkYXRlU2NhbGUodGhpcy5faVNjYWxlLCBmZWV0ICsgJyBmdCcsIGZlZXQgLyBtYXhGZWV0KTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZVNjYWxlOiBmdW5jdGlvbiAoc2NhbGUsIHRleHQsIHJhdGlvKSB7XG5cdFx0c2NhbGUuc3R5bGUud2lkdGggPSBNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5tYXhXaWR0aCAqIHJhdGlvKSArICdweCc7XG5cdFx0c2NhbGUuaW5uZXJIVE1MID0gdGV4dDtcblx0fSxcblxuXHRfZ2V0Um91bmROdW06IGZ1bmN0aW9uIChudW0pIHtcblx0XHR2YXIgcG93MTAgPSBNYXRoLnBvdygxMCwgKE1hdGguZmxvb3IobnVtKSArICcnKS5sZW5ndGggLSAxKSxcblx0XHQgICAgZCA9IG51bSAvIHBvdzEwO1xuXG5cdFx0ZCA9IGQgPj0gMTAgPyAxMCA6XG5cdFx0ICAgIGQgPj0gNSA/IDUgOlxuXHRcdCAgICBkID49IDMgPyAzIDpcblx0XHQgICAgZCA+PSAyID8gMiA6IDE7XG5cblx0XHRyZXR1cm4gcG93MTAgKiBkO1xuXHR9XG59KTtcblxuXG4vLyBAZmFjdG9yeSBMLmNvbnRyb2wuc2NhbGUob3B0aW9ucz86IENvbnRyb2wuU2NhbGUgb3B0aW9ucylcbi8vIENyZWF0ZXMgYW4gc2NhbGUgY29udHJvbCB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuZXhwb3J0IHZhciBzY2FsZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgU2NhbGUob3B0aW9ucyk7XG59O1xuIiwgIlxyXG5pbXBvcnQge0NvbnRyb2x9IGZyb20gJy4vQ29udHJvbCc7XHJcbmltcG9ydCB7TWFwfSBmcm9tICcuLi9tYXAvTWFwJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi9kb20vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vY29yZS9Ccm93c2VyJztcclxuXHJcbnZhciB1a3JhaW5pYW5GbGFnID0gJzxzdmcgYXJpYS1oaWRkZW49XCJ0cnVlXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCI4XCIgdmlld0JveD1cIjAgMCAxMiA4XCIgY2xhc3M9XCJsZWFmbGV0LWF0dHJpYnV0aW9uLWZsYWdcIj48cGF0aCBmaWxsPVwiIzRDN0JFMVwiIGQ9XCJNMCAwaDEydjRIMHpcIi8+PHBhdGggZmlsbD1cIiNGRkQ1MDBcIiBkPVwiTTAgNGgxMnYzSDB6XCIvPjxwYXRoIGZpbGw9XCIjRTBCQzAwXCIgZD1cIk0wIDdoMTJ2MUgwelwiLz48L3N2Zz4nO1xyXG5cclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBDb250cm9sLkF0dHJpYnV0aW9uXHJcbiAqIEBha2EgTC5Db250cm9sLkF0dHJpYnV0aW9uXHJcbiAqIEBpbmhlcml0cyBDb250cm9sXHJcbiAqXHJcbiAqIFRoZSBhdHRyaWJ1dGlvbiBjb250cm9sIGFsbG93cyB5b3UgdG8gZGlzcGxheSBhdHRyaWJ1dGlvbiBkYXRhIGluIGEgc21hbGwgdGV4dCBib3ggb24gYSBtYXAuIEl0IGlzIHB1dCBvbiB0aGUgbWFwIGJ5IGRlZmF1bHQgdW5sZXNzIHlvdSBzZXQgaXRzIFtgYXR0cmlidXRpb25Db250cm9sYCBvcHRpb25dKCNtYXAtYXR0cmlidXRpb25jb250cm9sKSB0byBgZmFsc2VgLCBhbmQgaXQgZmV0Y2hlcyBhdHRyaWJ1dGlvbiB0ZXh0cyBmcm9tIGxheWVycyB3aXRoIHRoZSBbYGdldEF0dHJpYnV0aW9uYCBtZXRob2RdKCNsYXllci1nZXRhdHRyaWJ1dGlvbikgYXV0b21hdGljYWxseS4gRXh0ZW5kcyBDb250cm9sLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgQXR0cmlidXRpb24gPSBDb250cm9sLmV4dGVuZCh7XHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIENvbnRyb2wuQXR0cmlidXRpb24gb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdHBvc2l0aW9uOiAnYm90dG9tcmlnaHQnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gcHJlZml4OiBTdHJpbmd8ZmFsc2UgPSAnTGVhZmxldCdcclxuXHRcdC8vIFRoZSBIVE1MIHRleHQgc2hvd24gYmVmb3JlIHRoZSBhdHRyaWJ1dGlvbnMuIFBhc3MgYGZhbHNlYCB0byBkaXNhYmxlLlxyXG5cdFx0cHJlZml4OiAnPGEgaHJlZj1cImh0dHBzOi8vbGVhZmxldGpzLmNvbVwiIHRpdGxlPVwiQSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGludGVyYWN0aXZlIG1hcHNcIj4nICsgKEJyb3dzZXIuaW5saW5lU3ZnID8gdWtyYWluaWFuRmxhZyArICcgJyA6ICcnKSArICdMZWFmbGV0PC9hPidcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuX2F0dHJpYnV0aW9ucyA9IHt9O1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRtYXAuYXR0cmlidXRpb25Db250cm9sID0gdGhpcztcclxuXHRcdHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC1jb250cm9sLWF0dHJpYnV0aW9uJyk7XHJcblx0XHREb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0aGlzLl9jb250YWluZXIpO1xyXG5cclxuXHRcdC8vIFRPRE8gdWdseSwgcmVmYWN0b3JcclxuXHRcdGZvciAodmFyIGkgaW4gbWFwLl9sYXllcnMpIHtcclxuXHRcdFx0aWYgKG1hcC5fbGF5ZXJzW2ldLmdldEF0dHJpYnV0aW9uKSB7XHJcblx0XHRcdFx0dGhpcy5hZGRBdHRyaWJ1dGlvbihtYXAuX2xheWVyc1tpXS5nZXRBdHRyaWJ1dGlvbigpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3VwZGF0ZSgpO1xyXG5cclxuXHRcdG1hcC5vbignbGF5ZXJhZGQnLCB0aGlzLl9hZGRBdHRyaWJ1dGlvbiwgdGhpcyk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0bWFwLm9mZignbGF5ZXJhZGQnLCB0aGlzLl9hZGRBdHRyaWJ1dGlvbiwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0X2FkZEF0dHJpYnV0aW9uOiBmdW5jdGlvbiAoZXYpIHtcclxuXHRcdGlmIChldi5sYXllci5nZXRBdHRyaWJ1dGlvbikge1xyXG5cdFx0XHR0aGlzLmFkZEF0dHJpYnV0aW9uKGV2LmxheWVyLmdldEF0dHJpYnV0aW9uKCkpO1xyXG5cdFx0XHRldi5sYXllci5vbmNlKCdyZW1vdmUnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhpcy5yZW1vdmVBdHRyaWJ1dGlvbihldi5sYXllci5nZXRBdHRyaWJ1dGlvbigpKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRQcmVmaXgocHJlZml4OiBTdHJpbmd8ZmFsc2UpOiB0aGlzXHJcblx0Ly8gVGhlIEhUTUwgdGV4dCBzaG93biBiZWZvcmUgdGhlIGF0dHJpYnV0aW9ucy4gUGFzcyBgZmFsc2VgIHRvIGRpc2FibGUuXHJcblx0c2V0UHJlZml4OiBmdW5jdGlvbiAocHJlZml4KSB7XHJcblx0XHR0aGlzLm9wdGlvbnMucHJlZml4ID0gcHJlZml4O1xyXG5cdFx0dGhpcy5fdXBkYXRlKCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZEF0dHJpYnV0aW9uKHRleHQ6IFN0cmluZyk6IHRoaXNcclxuXHQvLyBBZGRzIGFuIGF0dHJpYnV0aW9uIHRleHQgKGUuZy4gYCcmY29weTsgT3BlblN0cmVldE1hcCBjb250cmlidXRvcnMnYCkuXHJcblx0YWRkQXR0cmlidXRpb246IGZ1bmN0aW9uICh0ZXh0KSB7XHJcblx0XHRpZiAoIXRleHQpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHRpZiAoIXRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XSkge1xyXG5cdFx0XHR0aGlzLl9hdHRyaWJ1dGlvbnNbdGV4dF0gPSAwO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fYXR0cmlidXRpb25zW3RleHRdKys7XHJcblxyXG5cdFx0dGhpcy5fdXBkYXRlKCk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZW1vdmVBdHRyaWJ1dGlvbih0ZXh0OiBTdHJpbmcpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyBhbiBhdHRyaWJ1dGlvbiB0ZXh0LlxyXG5cdHJlbW92ZUF0dHJpYnV0aW9uOiBmdW5jdGlvbiAodGV4dCkge1xyXG5cdFx0aWYgKCF0ZXh0KSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0aWYgKHRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XSkge1xyXG5cdFx0XHR0aGlzLl9hdHRyaWJ1dGlvbnNbdGV4dF0tLTtcclxuXHRcdFx0dGhpcy5fdXBkYXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dmFyIGF0dHJpYnMgPSBbXTtcclxuXHJcblx0XHRmb3IgKHZhciBpIGluIHRoaXMuX2F0dHJpYnV0aW9ucykge1xyXG5cdFx0XHRpZiAodGhpcy5fYXR0cmlidXRpb25zW2ldKSB7XHJcblx0XHRcdFx0YXR0cmlicy5wdXNoKGkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHByZWZpeEFuZEF0dHJpYnMgPSBbXTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLnByZWZpeCkge1xyXG5cdFx0XHRwcmVmaXhBbmRBdHRyaWJzLnB1c2godGhpcy5vcHRpb25zLnByZWZpeCk7XHJcblx0XHR9XHJcblx0XHRpZiAoYXR0cmlicy5sZW5ndGgpIHtcclxuXHRcdFx0cHJlZml4QW5kQXR0cmlicy5wdXNoKGF0dHJpYnMuam9pbignLCAnKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IHByZWZpeEFuZEF0dHJpYnMuam9pbignIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPnw8L3NwYW4+ICcpO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAbmFtZXNwYWNlIE1hcFxyXG4vLyBAc2VjdGlvbiBDb250cm9sIG9wdGlvbnNcclxuLy8gQG9wdGlvbiBhdHRyaWJ1dGlvbkNvbnRyb2w6IEJvb2xlYW4gPSB0cnVlXHJcbi8vIFdoZXRoZXIgYSBbYXR0cmlidXRpb24gY29udHJvbF0oI2NvbnRyb2wtYXR0cmlidXRpb24pIGlzIGFkZGVkIHRvIHRoZSBtYXAgYnkgZGVmYXVsdC5cclxuTWFwLm1lcmdlT3B0aW9ucyh7XHJcblx0YXR0cmlidXRpb25Db250cm9sOiB0cnVlXHJcbn0pO1xyXG5cclxuTWFwLmFkZEluaXRIb29rKGZ1bmN0aW9uICgpIHtcclxuXHRpZiAodGhpcy5vcHRpb25zLmF0dHJpYnV0aW9uQ29udHJvbCkge1xyXG5cdFx0bmV3IEF0dHJpYnV0aW9uKCkuYWRkVG8odGhpcyk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBuYW1lc3BhY2UgQ29udHJvbC5BdHRyaWJ1dGlvblxyXG4vLyBAZmFjdG9yeSBMLmNvbnRyb2wuYXR0cmlidXRpb24ob3B0aW9uczogQ29udHJvbC5BdHRyaWJ1dGlvbiBvcHRpb25zKVxyXG4vLyBDcmVhdGVzIGFuIGF0dHJpYnV0aW9uIGNvbnRyb2wuXHJcbmV4cG9ydCB2YXIgYXR0cmlidXRpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgQXR0cmlidXRpb24ob3B0aW9ucyk7XHJcbn07XHJcbiIsICJpbXBvcnQge0NvbnRyb2wsIGNvbnRyb2x9IGZyb20gJy4vQ29udHJvbCc7XG5pbXBvcnQge0xheWVycywgbGF5ZXJzfSBmcm9tICcuL0NvbnRyb2wuTGF5ZXJzJztcbmltcG9ydCB7Wm9vbSwgem9vbX0gZnJvbSAnLi9Db250cm9sLlpvb20nO1xuaW1wb3J0IHtTY2FsZSwgc2NhbGV9IGZyb20gJy4vQ29udHJvbC5TY2FsZSc7XG5pbXBvcnQge0F0dHJpYnV0aW9uLCBhdHRyaWJ1dGlvbn0gZnJvbSAnLi9Db250cm9sLkF0dHJpYnV0aW9uJztcblxuQ29udHJvbC5MYXllcnMgPSBMYXllcnM7XG5Db250cm9sLlpvb20gPSBab29tO1xuQ29udHJvbC5TY2FsZSA9IFNjYWxlO1xuQ29udHJvbC5BdHRyaWJ1dGlvbiA9IEF0dHJpYnV0aW9uO1xuXG5jb250cm9sLmxheWVycyA9IGxheWVycztcbmNvbnRyb2wuem9vbSA9IHpvb207XG5jb250cm9sLnNjYWxlID0gc2NhbGU7XG5jb250cm9sLmF0dHJpYnV0aW9uID0gYXR0cmlidXRpb247XG5cbmV4cG9ydCB7Q29udHJvbCwgY29udHJvbH07XG4iLCAiaW1wb3J0IHtDbGFzc30gZnJvbSAnLi9DbGFzcyc7XG5cbi8qXG5cdEwuSGFuZGxlciBpcyBhIGJhc2UgY2xhc3MgZm9yIGhhbmRsZXIgY2xhc3NlcyB0aGF0IGFyZSB1c2VkIGludGVybmFsbHkgdG8gaW5qZWN0XG5cdGludGVyYWN0aW9uIGZlYXR1cmVzIGxpa2UgZHJhZ2dpbmcgdG8gY2xhc3NlcyBsaWtlIE1hcCBhbmQgTWFya2VyLlxuKi9cblxuLy8gQGNsYXNzIEhhbmRsZXJcbi8vIEBha2EgTC5IYW5kbGVyXG4vLyBBYnN0cmFjdCBjbGFzcyBmb3IgbWFwIGludGVyYWN0aW9uIGhhbmRsZXJzXG5cbmV4cG9ydCB2YXIgSGFuZGxlciA9IENsYXNzLmV4dGVuZCh7XG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChtYXApIHtcblx0XHR0aGlzLl9tYXAgPSBtYXA7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBlbmFibGUoKTogdGhpc1xuXHQvLyBFbmFibGVzIHRoZSBoYW5kbGVyXG5cdGVuYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9lbmFibGVkKSB7IHJldHVybiB0aGlzOyB9XG5cblx0XHR0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblx0XHR0aGlzLmFkZEhvb2tzKCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBkaXNhYmxlKCk6IHRoaXNcblx0Ly8gRGlzYWJsZXMgdGhlIGhhbmRsZXJcblx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm4gdGhpczsgfVxuXG5cdFx0dGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXHRcdHRoaXMucmVtb3ZlSG9va3MoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGVuYWJsZWQoKTogQm9vbGVhblxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgaGFuZGxlciBpcyBlbmFibGVkXG5cdGVuYWJsZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuXHR9XG5cblx0Ly8gQHNlY3Rpb24gRXh0ZW5zaW9uIG1ldGhvZHNcblx0Ly8gQ2xhc3NlcyBpbmhlcml0aW5nIGZyb20gYEhhbmRsZXJgIG11c3QgaW1wbGVtZW50IHRoZSB0d28gZm9sbG93aW5nIG1ldGhvZHM6XG5cdC8vIEBtZXRob2QgYWRkSG9va3MoKVxuXHQvLyBDYWxsZWQgd2hlbiB0aGUgaGFuZGxlciBpcyBlbmFibGVkLCBzaG91bGQgYWRkIGV2ZW50IGhvb2tzLlxuXHQvLyBAbWV0aG9kIHJlbW92ZUhvb2tzKClcblx0Ly8gQ2FsbGVkIHdoZW4gdGhlIGhhbmRsZXIgaXMgZGlzYWJsZWQsIHNob3VsZCByZW1vdmUgdGhlIGV2ZW50IGhvb2tzIGFkZGVkIHByZXZpb3VzbHkuXG59KTtcblxuLy8gQHNlY3Rpb24gVGhlcmUgaXMgc3RhdGljIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgd2l0aG91dCBpbnN0YW50aWF0aW5nIEwuSGFuZGxlcjpcbi8vIEBmdW5jdGlvbiBhZGRUbyhtYXA6IE1hcCwgbmFtZTogU3RyaW5nKTogdGhpc1xuLy8gQWRkcyBhIG5ldyBIYW5kbGVyIHRvIHRoZSBnaXZlbiBtYXAgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbkhhbmRsZXIuYWRkVG8gPSBmdW5jdGlvbiAobWFwLCBuYW1lKSB7XG5cdG1hcC5hZGRIYW5kbGVyKG5hbWUsIHRoaXMpO1xuXHRyZXR1cm4gdGhpcztcbn07XG4iLCAiaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi9Ccm93c2VyJztcbmV4cG9ydCB7QnJvd3Nlcn07XG5cbmV4cG9ydCB7Q2xhc3N9IGZyb20gJy4vQ2xhc3MnO1xuXG5pbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4vRXZlbnRzJztcbmltcG9ydCB7RXZlbnRzfSBmcm9tICcuL0V2ZW50cyc7XG5leHBvcnQge0V2ZW50ZWR9O1xuZXhwb3J0IHZhciBNaXhpbiA9IHtFdmVudHM6IEV2ZW50c307XG5cbmV4cG9ydCB7SGFuZGxlcn0gZnJvbSAnLi9IYW5kbGVyJztcblxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuL1V0aWwnO1xuZXhwb3J0IHtVdGlsfTtcbmV4cG9ydCB7ZXh0ZW5kLCBiaW5kLCBzdGFtcCwgc2V0T3B0aW9uc30gZnJvbSAnLi9VdGlsJztcbiIsICJpbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL2NvcmUvRXZlbnRzJztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vY29yZS9Ccm93c2VyJztcclxuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi9Eb21FdmVudCc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi9Eb21VdGlsJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgRHJhZ2dhYmxlXHJcbiAqIEBha2EgTC5EcmFnZ2FibGVcclxuICogQGluaGVyaXRzIEV2ZW50ZWRcclxuICpcclxuICogQSBjbGFzcyBmb3IgbWFraW5nIERPTSBlbGVtZW50cyBkcmFnZ2FibGUgKGluY2x1ZGluZyB0b3VjaCBzdXBwb3J0KS5cclxuICogVXNlZCBpbnRlcm5hbGx5IGZvciBtYXAgYW5kIG1hcmtlciBkcmFnZ2luZy4gT25seSB3b3JrcyBmb3IgZWxlbWVudHNcclxuICogdGhhdCB3ZXJlIHBvc2l0aW9uZWQgd2l0aCBbYEwuRG9tVXRpbC5zZXRQb3NpdGlvbmBdKCNkb211dGlsLXNldHBvc2l0aW9uKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBganNcclxuICogdmFyIGRyYWdnYWJsZSA9IG5ldyBMLkRyYWdnYWJsZShlbGVtZW50VG9EcmFnKTtcclxuICogZHJhZ2dhYmxlLmVuYWJsZSgpO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG52YXIgU1RBUlQgPSBCcm93c2VyLnRvdWNoID8gJ3RvdWNoc3RhcnQgbW91c2Vkb3duJyA6ICdtb3VzZWRvd24nO1xyXG5cclxuZXhwb3J0IHZhciBEcmFnZ2FibGUgPSBFdmVudGVkLmV4dGVuZCh7XHJcblxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBzZWN0aW9uXHJcblx0XHQvLyBAYWthIERyYWdnYWJsZSBvcHRpb25zXHJcblx0XHQvLyBAb3B0aW9uIGNsaWNrVG9sZXJhbmNlOiBOdW1iZXIgPSAzXHJcblx0XHQvLyBUaGUgbWF4IG51bWJlciBvZiBwaXhlbHMgYSB1c2VyIGNhbiBzaGlmdCB0aGUgbW91c2UgcG9pbnRlciBkdXJpbmcgYSBjbGlja1xyXG5cdFx0Ly8gZm9yIGl0IHRvIGJlIGNvbnNpZGVyZWQgYSB2YWxpZCBjbGljayAoYXMgb3Bwb3NlZCB0byBhIG1vdXNlIGRyYWcpLlxyXG5cdFx0Y2xpY2tUb2xlcmFuY2U6IDNcclxuXHR9LFxyXG5cclxuXHQvLyBAY29uc3RydWN0b3IgTC5EcmFnZ2FibGUoZWw6IEhUTUxFbGVtZW50LCBkcmFnSGFuZGxlPzogSFRNTEVsZW1lbnQsIHByZXZlbnRPdXRsaW5lPzogQm9vbGVhbiwgb3B0aW9ucz86IERyYWdnYWJsZSBvcHRpb25zKVxyXG5cdC8vIENyZWF0ZXMgYSBgRHJhZ2dhYmxlYCBvYmplY3QgZm9yIG1vdmluZyBgZWxgIHdoZW4geW91IHN0YXJ0IGRyYWdnaW5nIHRoZSBgZHJhZ0hhbmRsZWAgZWxlbWVudCAoZXF1YWxzIGBlbGAgaXRzZWxmIGJ5IGRlZmF1bHQpLlxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChlbGVtZW50LCBkcmFnU3RhcnRUYXJnZXQsIHByZXZlbnRPdXRsaW5lLCBvcHRpb25zKSB7XHJcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0dGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0XHR0aGlzLl9kcmFnU3RhcnRUYXJnZXQgPSBkcmFnU3RhcnRUYXJnZXQgfHwgZWxlbWVudDtcclxuXHRcdHRoaXMuX3ByZXZlbnRPdXRsaW5lID0gcHJldmVudE91dGxpbmU7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBlbmFibGUoKVxyXG5cdC8vIEVuYWJsZXMgdGhlIGRyYWdnaW5nIGFiaWxpdHlcclxuXHRlbmFibGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdERvbUV2ZW50Lm9uKHRoaXMuX2RyYWdTdGFydFRhcmdldCwgU1RBUlQsIHRoaXMuX29uRG93biwgdGhpcyk7XHJcblxyXG5cdFx0dGhpcy5fZW5hYmxlZCA9IHRydWU7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBkaXNhYmxlKClcclxuXHQvLyBEaXNhYmxlcyB0aGUgZHJhZ2dpbmcgYWJpbGl0eVxyXG5cdGRpc2FibGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm47IH1cclxuXHJcblx0XHQvLyBJZiB3ZSdyZSBjdXJyZW50bHkgZHJhZ2dpbmcgdGhpcyBkcmFnZ2FibGUsXHJcblx0XHQvLyBkaXNhYmxpbmcgaXQgY291bnRzIGFzIGZpcnN0IGVuZGluZyB0aGUgZHJhZy5cclxuXHRcdGlmIChEcmFnZ2FibGUuX2RyYWdnaW5nID09PSB0aGlzKSB7XHJcblx0XHRcdHRoaXMuZmluaXNoRHJhZyh0cnVlKTtcclxuXHRcdH1cclxuXHJcblx0XHREb21FdmVudC5vZmYodGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0LCBTVEFSVCwgdGhpcy5fb25Eb3duLCB0aGlzKTtcclxuXHJcblx0XHR0aGlzLl9lbmFibGVkID0gZmFsc2U7XHJcblx0XHR0aGlzLl9tb3ZlZCA9IGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdF9vbkRvd246IGZ1bmN0aW9uIChlKSB7XHJcblx0XHQvLyBJZ25vcmUgdGhlIGV2ZW50IGlmIGRpc2FibGVkOyB0aGlzIGhhcHBlbnMgaW4gSUUxMVxyXG5cdFx0Ly8gdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzLCBzZWUgIzM2NjYuXHJcblx0XHRpZiAoIXRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dGhpcy5fbW92ZWQgPSBmYWxzZTtcclxuXHJcblx0XHRpZiAoRG9tVXRpbC5oYXNDbGFzcyh0aGlzLl9lbGVtZW50LCAnbGVhZmxldC16b29tLWFuaW0nKSkgeyByZXR1cm47IH1cclxuXHJcblx0XHRpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggIT09IDEpIHtcclxuXHRcdFx0Ly8gRmluaXNoIGRyYWdnaW5nIHRvIGF2b2lkIGNvbmZsaWN0IHdpdGggdG91Y2hab29tXHJcblx0XHRcdGlmIChEcmFnZ2FibGUuX2RyYWdnaW5nID09PSB0aGlzKSB7XHJcblx0XHRcdFx0dGhpcy5maW5pc2hEcmFnKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChEcmFnZ2FibGUuX2RyYWdnaW5nIHx8IGUuc2hpZnRLZXkgfHwgKChlLndoaWNoICE9PSAxKSAmJiAoZS5idXR0b24gIT09IDEpICYmICFlLnRvdWNoZXMpKSB7IHJldHVybjsgfVxyXG5cdFx0RHJhZ2dhYmxlLl9kcmFnZ2luZyA9IHRoaXM7ICAvLyBQcmV2ZW50IGRyYWdnaW5nIG11bHRpcGxlIG9iamVjdHMgYXQgb25jZS5cclxuXHJcblx0XHRpZiAodGhpcy5fcHJldmVudE91dGxpbmUpIHtcclxuXHRcdFx0RG9tVXRpbC5wcmV2ZW50T3V0bGluZSh0aGlzLl9lbGVtZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHREb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKTtcclxuXHRcdERvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbW92aW5nKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdC8vIEBldmVudCBkb3duOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBhIGRyYWcgaXMgYWJvdXQgdG8gc3RhcnQuXHJcblx0XHR0aGlzLmZpcmUoJ2Rvd24nKTtcclxuXHJcblx0XHR2YXIgZmlyc3QgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlLFxyXG5cdFx0ICAgIHNpemVkUGFyZW50ID0gRG9tVXRpbC5nZXRTaXplZFBhcmVudE5vZGUodGhpcy5fZWxlbWVudCk7XHJcblxyXG5cdFx0dGhpcy5fc3RhcnRQb2ludCA9IG5ldyBQb2ludChmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZKTtcclxuXHRcdHRoaXMuX3N0YXJ0UG9zID0gRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9lbGVtZW50KTtcclxuXHJcblx0XHQvLyBDYWNoZSB0aGUgc2NhbGUsIHNvIHRoYXQgd2UgY2FuIGNvbnRpbnVvdXNseSBjb21wZW5zYXRlIGZvciBpdCBkdXJpbmcgZHJhZyAoX29uTW92ZSkuXHJcblx0XHR0aGlzLl9wYXJlbnRTY2FsZSA9IERvbVV0aWwuZ2V0U2NhbGUoc2l6ZWRQYXJlbnQpO1xyXG5cclxuXHRcdHZhciBtb3VzZWV2ZW50ID0gZS50eXBlID09PSAnbW91c2Vkb3duJztcclxuXHRcdERvbUV2ZW50Lm9uKGRvY3VtZW50LCBtb3VzZWV2ZW50ID8gJ21vdXNlbW92ZScgOiAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB0aGlzKTtcclxuXHRcdERvbUV2ZW50Lm9uKGRvY3VtZW50LCBtb3VzZWV2ZW50ID8gJ21vdXNldXAnIDogJ3RvdWNoZW5kIHRvdWNoY2FuY2VsJywgdGhpcy5fb25VcCwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0X29uTW92ZTogZnVuY3Rpb24gKGUpIHtcclxuXHRcdC8vIElnbm9yZSB0aGUgZXZlbnQgaWYgZGlzYWJsZWQ7IHRoaXMgaGFwcGVucyBpbiBJRTExXHJcblx0XHQvLyB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMsIHNlZSAjMzY2Ni5cclxuXHRcdGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm47IH1cclxuXHJcblx0XHRpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdHRoaXMuX21vdmVkID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBmaXJzdCA9IChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA9PT0gMSA/IGUudG91Y2hlc1swXSA6IGUpLFxyXG5cdFx0ICAgIG9mZnNldCA9IG5ldyBQb2ludChmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZKS5fc3VidHJhY3QodGhpcy5fc3RhcnRQb2ludCk7XHJcblxyXG5cdFx0aWYgKCFvZmZzZXQueCAmJiAhb2Zmc2V0LnkpIHsgcmV0dXJuOyB9XHJcblx0XHRpZiAoTWF0aC5hYnMob2Zmc2V0LngpICsgTWF0aC5hYnMob2Zmc2V0LnkpIDwgdGhpcy5vcHRpb25zLmNsaWNrVG9sZXJhbmNlKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdC8vIFdlIGFzc3VtZSB0aGF0IHRoZSBwYXJlbnQgY29udGFpbmVyJ3MgcG9zaXRpb24sIGJvcmRlciBhbmQgc2NhbGUgZG8gbm90IGNoYW5nZSBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBkcmFnLlxyXG5cdFx0Ly8gVGhlcmVmb3JlIHRoZXJlIGlzIG5vIG5lZWQgdG8gYWNjb3VudCBmb3IgdGhlIHBvc2l0aW9uIGFuZCBib3JkZXIgKHRoZXkgYXJlIGVsaW1pbmF0ZWQgYnkgdGhlIHN1YnRyYWN0aW9uKVxyXG5cdFx0Ly8gYW5kIHdlIGNhbiB1c2UgdGhlIGNhY2hlZCB2YWx1ZSBmb3IgdGhlIHNjYWxlLlxyXG5cdFx0b2Zmc2V0LnggLz0gdGhpcy5fcGFyZW50U2NhbGUueDtcclxuXHRcdG9mZnNldC55IC89IHRoaXMuX3BhcmVudFNjYWxlLnk7XHJcblxyXG5cdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XHJcblxyXG5cdFx0aWYgKCF0aGlzLl9tb3ZlZCkge1xyXG5cdFx0XHQvLyBAZXZlbnQgZHJhZ3N0YXJ0OiBFdmVudFxyXG5cdFx0XHQvLyBGaXJlZCB3aGVuIGEgZHJhZyBzdGFydHNcclxuXHRcdFx0dGhpcy5maXJlKCdkcmFnc3RhcnQnKTtcclxuXHJcblx0XHRcdHRoaXMuX21vdmVkID0gdHJ1ZTtcclxuXHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2xlYWZsZXQtZHJhZ2dpbmcnKTtcclxuXHJcblx0XHRcdHRoaXMuX2xhc3RUYXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XHJcblx0XHRcdC8vIElFIGFuZCBFZGdlIGRvIG5vdCBnaXZlIHRoZSA8dXNlPiBlbGVtZW50LCBzbyBmZXRjaCBpdFxyXG5cdFx0XHQvLyBpZiBuZWNlc3NhcnlcclxuXHRcdFx0aWYgKHdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2UgJiYgdGhpcy5fbGFzdFRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2UpIHtcclxuXHRcdFx0XHR0aGlzLl9sYXN0VGFyZ2V0ID0gdGhpcy5fbGFzdFRhcmdldC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudDtcclxuXHRcdFx0fVxyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX2xhc3RUYXJnZXQsICdsZWFmbGV0LWRyYWctdGFyZ2V0Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbmV3UG9zID0gdGhpcy5fc3RhcnRQb3MuYWRkKG9mZnNldCk7XHJcblx0XHR0aGlzLl9tb3ZpbmcgPSB0cnVlO1xyXG5cclxuXHRcdHRoaXMuX2xhc3RFdmVudCA9IGU7XHJcblx0XHR0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVQb3NpdGlvbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGUgPSB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdEV2ZW50fTtcclxuXHJcblx0XHQvLyBAZXZlbnQgcHJlZHJhZzogRXZlbnRcclxuXHRcdC8vIEZpcmVkIGNvbnRpbnVvdXNseSBkdXJpbmcgZHJhZ2dpbmcgKmJlZm9yZSogZWFjaCBjb3JyZXNwb25kaW5nXHJcblx0XHQvLyB1cGRhdGUgb2YgdGhlIGVsZW1lbnQncyBwb3NpdGlvbi5cclxuXHRcdHRoaXMuZmlyZSgncHJlZHJhZycsIGUpO1xyXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbGVtZW50LCB0aGlzLl9uZXdQb3MpO1xyXG5cclxuXHRcdC8vIEBldmVudCBkcmFnOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgY29udGludW91c2x5IGR1cmluZyBkcmFnZ2luZy5cclxuXHRcdHRoaXMuZmlyZSgnZHJhZycsIGUpO1xyXG5cdH0sXHJcblxyXG5cdF9vblVwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBJZ25vcmUgdGhlIGV2ZW50IGlmIGRpc2FibGVkOyB0aGlzIGhhcHBlbnMgaW4gSUUxMVxyXG5cdFx0Ly8gdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzLCBzZWUgIzM2NjYuXHJcblx0XHRpZiAoIXRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuOyB9XHJcblx0XHR0aGlzLmZpbmlzaERyYWcoKTtcclxuXHR9LFxyXG5cclxuXHRmaW5pc2hEcmFnOiBmdW5jdGlvbiAobm9JbmVydGlhKSB7XHJcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICdsZWFmbGV0LWRyYWdnaW5nJyk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xhc3RUYXJnZXQpIHtcclxuXHRcdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9sYXN0VGFyZ2V0LCAnbGVhZmxldC1kcmFnLXRhcmdldCcpO1xyXG5cdFx0XHR0aGlzLl9sYXN0VGFyZ2V0ID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHREb21FdmVudC5vZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUgdG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB0aGlzKTtcclxuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ21vdXNldXAgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLCB0aGlzLl9vblVwLCB0aGlzKTtcclxuXHJcblx0XHREb21VdGlsLmVuYWJsZUltYWdlRHJhZygpO1xyXG5cdFx0RG9tVXRpbC5lbmFibGVUZXh0U2VsZWN0aW9uKCk7XHJcblxyXG5cdFx0dmFyIGZpcmVEcmFnZW5kID0gdGhpcy5fbW92ZWQgJiYgdGhpcy5fbW92aW5nO1xyXG5cclxuXHRcdHRoaXMuX21vdmluZyA9IGZhbHNlO1xyXG5cdFx0RHJhZ2dhYmxlLl9kcmFnZ2luZyA9IGZhbHNlO1xyXG5cclxuXHRcdGlmIChmaXJlRHJhZ2VuZCkge1xyXG5cdFx0XHQvLyBAZXZlbnQgZHJhZ2VuZDogRHJhZ0VuZEV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIHdoZW4gdGhlIGRyYWcgZW5kcy5cclxuXHRcdFx0dGhpcy5maXJlKCdkcmFnZW5kJywge1xyXG5cdFx0XHRcdG5vSW5lcnRpYTogbm9JbmVydGlhLFxyXG5cdFx0XHRcdGRpc3RhbmNlOiB0aGlzLl9uZXdQb3MuZGlzdGFuY2VUbyh0aGlzLl9zdGFydFBvcylcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxufSk7XHJcbiIsICJpbXBvcnQgKiBhcyBMaW5lVXRpbCBmcm9tICcuL0xpbmVVdGlsJztcclxuaW1wb3J0IHt0b0xhdExuZ30gZnJvbSAnLi4vZ2VvL0xhdExuZyc7XHJcbmltcG9ydCB7dG9Qb2ludH0gZnJvbSAnLi9Qb2ludCc7XHJcbmltcG9ydCB7dG9MYXRMbmdCb3VuZHN9IGZyb20gJy4uL2dlby9MYXRMbmdCb3VuZHMnO1xyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIFBvbHlVdGlsXHJcbiAqIFZhcmlvdXMgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHBvbHlnb24gZ2VvbWV0cmllcy5cclxuICovXHJcblxyXG4vKiBAZnVuY3Rpb24gY2xpcFBvbHlnb24ocG9pbnRzOiBQb2ludFtdLCBib3VuZHM6IEJvdW5kcywgcm91bmQ/OiBCb29sZWFuKTogUG9pbnRbXVxyXG4gKiBDbGlwcyB0aGUgcG9seWdvbiBnZW9tZXRyeSBkZWZpbmVkIGJ5IHRoZSBnaXZlbiBgcG9pbnRzYCBieSB0aGUgZ2l2ZW4gYm91bmRzICh1c2luZyB0aGUgW1N1dGhlcmxhbmQtSG9kZ21hbiBhbGdvcml0aG1dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1dGhlcmxhbmQlRTIlODAlOTNIb2RnbWFuX2FsZ29yaXRobSkpLlxyXG4gKiBVc2VkIGJ5IExlYWZsZXQgdG8gb25seSBzaG93IHBvbHlnb24gcG9pbnRzIHRoYXQgYXJlIG9uIHRoZSBzY3JlZW4gb3IgbmVhciwgaW5jcmVhc2luZ1xyXG4gKiBwZXJmb3JtYW5jZS4gTm90ZSB0aGF0IHBvbHlnb24gcG9pbnRzIG5lZWRzIGRpZmZlcmVudCBhbGdvcml0aG0gZm9yIGNsaXBwaW5nXHJcbiAqIHRoYW4gcG9seWxpbmUsIHNvIHRoZXJlJ3MgYSBzZXBhcmF0ZSBtZXRob2QgZm9yIGl0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsaXBQb2x5Z29uKHBvaW50cywgYm91bmRzLCByb3VuZCkge1xyXG5cdHZhciBjbGlwcGVkUG9pbnRzLFxyXG5cdCAgICBlZGdlcyA9IFsxLCA0LCAyLCA4XSxcclxuXHQgICAgaSwgaiwgayxcclxuXHQgICAgYSwgYixcclxuXHQgICAgbGVuLCBlZGdlLCBwO1xyXG5cclxuXHRmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdHBvaW50c1tpXS5fY29kZSA9IExpbmVVdGlsLl9nZXRCaXRDb2RlKHBvaW50c1tpXSwgYm91bmRzKTtcclxuXHR9XHJcblxyXG5cdC8vIGZvciBlYWNoIGVkZ2UgKGxlZnQsIGJvdHRvbSwgcmlnaHQsIHRvcClcclxuXHRmb3IgKGsgPSAwOyBrIDwgNDsgaysrKSB7XHJcblx0XHRlZGdlID0gZWRnZXNba107XHJcblx0XHRjbGlwcGVkUG9pbnRzID0gW107XHJcblxyXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aCwgaiA9IGxlbiAtIDE7IGkgPCBsZW47IGogPSBpKyspIHtcclxuXHRcdFx0YSA9IHBvaW50c1tpXTtcclxuXHRcdFx0YiA9IHBvaW50c1tqXTtcclxuXHJcblx0XHRcdC8vIGlmIGEgaXMgaW5zaWRlIHRoZSBjbGlwIHdpbmRvd1xyXG5cdFx0XHRpZiAoIShhLl9jb2RlICYgZWRnZSkpIHtcclxuXHRcdFx0XHQvLyBpZiBiIGlzIG91dHNpZGUgdGhlIGNsaXAgd2luZG93IChhLT5iIGdvZXMgb3V0IG9mIHNjcmVlbilcclxuXHRcdFx0XHRpZiAoYi5fY29kZSAmIGVkZ2UpIHtcclxuXHRcdFx0XHRcdHAgPSBMaW5lVXRpbC5fZ2V0RWRnZUludGVyc2VjdGlvbihiLCBhLCBlZGdlLCBib3VuZHMsIHJvdW5kKTtcclxuXHRcdFx0XHRcdHAuX2NvZGUgPSBMaW5lVXRpbC5fZ2V0Qml0Q29kZShwLCBib3VuZHMpO1xyXG5cdFx0XHRcdFx0Y2xpcHBlZFBvaW50cy5wdXNoKHApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjbGlwcGVkUG9pbnRzLnB1c2goYSk7XHJcblxyXG5cdFx0XHQvLyBlbHNlIGlmIGIgaXMgaW5zaWRlIHRoZSBjbGlwIHdpbmRvdyAoYS0+YiBlbnRlcnMgdGhlIHNjcmVlbilcclxuXHRcdFx0fSBlbHNlIGlmICghKGIuX2NvZGUgJiBlZGdlKSkge1xyXG5cdFx0XHRcdHAgPSBMaW5lVXRpbC5fZ2V0RWRnZUludGVyc2VjdGlvbihiLCBhLCBlZGdlLCBib3VuZHMsIHJvdW5kKTtcclxuXHRcdFx0XHRwLl9jb2RlID0gTGluZVV0aWwuX2dldEJpdENvZGUocCwgYm91bmRzKTtcclxuXHRcdFx0XHRjbGlwcGVkUG9pbnRzLnB1c2gocCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHBvaW50cyA9IGNsaXBwZWRQb2ludHM7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcG9pbnRzO1xyXG59XHJcblxyXG4vKiBAZnVuY3Rpb24gcG9seWdvbkNlbnRlcihsYXRsbmdzOiBMYXRMbmdbXSwgY3JzOiBDUlMpOiBMYXRMbmdcclxuICogUmV0dXJucyB0aGUgY2VudGVyIChbY2VudHJvaWRdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2VudHJvaWQpKSBvZiB0aGUgcGFzc2VkIExhdExuZ3MgKGZpcnN0IHJpbmcpIGZyb20gYSBwb2x5Z29uLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBvbHlnb25DZW50ZXIobGF0bG5ncywgY3JzKSB7XHJcblx0dmFyIGksIGosIHAxLCBwMiwgZiwgYXJlYSwgeCwgeSwgY2VudGVyO1xyXG5cclxuXHRpZiAoIWxhdGxuZ3MgfHwgbGF0bG5ncy5sZW5ndGggPT09IDApIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignbGF0bG5ncyBub3QgcGFzc2VkJyk7XHJcblx0fVxyXG5cclxuXHRpZiAoIUxpbmVVdGlsLmlzRmxhdChsYXRsbmdzKSkge1xyXG5cdFx0Y29uc29sZS53YXJuKCdsYXRsbmdzIGFyZSBub3QgZmxhdCEgT25seSB0aGUgZmlyc3QgcmluZyB3aWxsIGJlIHVzZWQnKTtcclxuXHRcdGxhdGxuZ3MgPSBsYXRsbmdzWzBdO1xyXG5cdH1cclxuXHJcblx0dmFyIGNlbnRyb2lkTGF0TG5nID0gdG9MYXRMbmcoWzAsIDBdKTtcclxuXHJcblx0dmFyIGJvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGxhdGxuZ3MpO1xyXG5cdHZhciBhcmVhQm91bmRzID0gYm91bmRzLmdldE5vcnRoV2VzdCgpLmRpc3RhbmNlVG8oYm91bmRzLmdldFNvdXRoV2VzdCgpKSAqIGJvdW5kcy5nZXROb3J0aEVhc3QoKS5kaXN0YW5jZVRvKGJvdW5kcy5nZXROb3J0aFdlc3QoKSk7XHJcblx0Ly8gdGVzdHMgc2hvd2VkIHRoYXQgYmVsb3cgMTcwMCByb3VuZGluZyBlcnJvcnMgYXJlIGhhcHBlbmluZ1xyXG5cdGlmIChhcmVhQm91bmRzIDwgMTcwMCkge1xyXG5cdFx0Ly8gZ2V0dGluZyBhIGluZXhhY3QgY2VudGVyLCB0byBtb3ZlIHRoZSBsYXRsbmdzIG5lYXIgdG8gWzAsIDBdIHRvIHByZXZlbnQgcm91bmRpbmcgZXJyb3JzXHJcblx0XHRjZW50cm9pZExhdExuZyA9IGNlbnRyb2lkKGxhdGxuZ3MpO1xyXG5cdH1cclxuXHJcblx0dmFyIGxlbiA9IGxhdGxuZ3MubGVuZ3RoO1xyXG5cdHZhciBwb2ludHMgPSBbXTtcclxuXHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdHZhciBsYXRsbmcgPSB0b0xhdExuZyhsYXRsbmdzW2ldKTtcclxuXHRcdHBvaW50cy5wdXNoKGNycy5wcm9qZWN0KHRvTGF0TG5nKFtsYXRsbmcubGF0IC0gY2VudHJvaWRMYXRMbmcubGF0LCBsYXRsbmcubG5nIC0gY2VudHJvaWRMYXRMbmcubG5nXSkpKTtcclxuXHR9XHJcblxyXG5cdGFyZWEgPSB4ID0geSA9IDA7XHJcblxyXG5cdC8vIHBvbHlnb24gY2VudHJvaWQgYWxnb3JpdGhtO1xyXG5cdGZvciAoaSA9IDAsIGogPSBsZW4gLSAxOyBpIDwgbGVuOyBqID0gaSsrKSB7XHJcblx0XHRwMSA9IHBvaW50c1tpXTtcclxuXHRcdHAyID0gcG9pbnRzW2pdO1xyXG5cclxuXHRcdGYgPSBwMS55ICogcDIueCAtIHAyLnkgKiBwMS54O1xyXG5cdFx0eCArPSAocDEueCArIHAyLngpICogZjtcclxuXHRcdHkgKz0gKHAxLnkgKyBwMi55KSAqIGY7XHJcblx0XHRhcmVhICs9IGYgKiAzO1xyXG5cdH1cclxuXHJcblx0aWYgKGFyZWEgPT09IDApIHtcclxuXHRcdC8vIFBvbHlnb24gaXMgc28gc21hbGwgdGhhdCBhbGwgcG9pbnRzIGFyZSBvbiBzYW1lIHBpeGVsLlxyXG5cdFx0Y2VudGVyID0gcG9pbnRzWzBdO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjZW50ZXIgPSBbeCAvIGFyZWEsIHkgLyBhcmVhXTtcclxuXHR9XHJcblxyXG5cdHZhciBsYXRsbmdDZW50ZXIgPSBjcnMudW5wcm9qZWN0KHRvUG9pbnQoY2VudGVyKSk7XHJcblx0cmV0dXJuIHRvTGF0TG5nKFtsYXRsbmdDZW50ZXIubGF0ICsgY2VudHJvaWRMYXRMbmcubGF0LCBsYXRsbmdDZW50ZXIubG5nICsgY2VudHJvaWRMYXRMbmcubG5nXSk7XHJcbn1cclxuXHJcbi8qIEBmdW5jdGlvbiBjZW50cm9pZChsYXRsbmdzOiBMYXRMbmdbXSk6IExhdExuZ1xyXG4gKiBSZXR1cm5zIHRoZSAnY2VudGVyIG9mIG1hc3MnIG9mIHRoZSBwYXNzZWQgTGF0TG5ncy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjZW50cm9pZChjb29yZHMpIHtcclxuXHR2YXIgbGF0U3VtID0gMDtcclxuXHR2YXIgbG5nU3VtID0gMDtcclxuXHR2YXIgbGVuID0gMDtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGxhdGxuZyA9IHRvTGF0TG5nKGNvb3Jkc1tpXSk7XHJcblx0XHRsYXRTdW0gKz0gbGF0bG5nLmxhdDtcclxuXHRcdGxuZ1N1bSArPSBsYXRsbmcubG5nO1xyXG5cdFx0bGVuKys7XHJcblx0fVxyXG5cdHJldHVybiB0b0xhdExuZyhbbGF0U3VtIC8gbGVuLCBsbmdTdW0gLyBsZW5dKTtcclxufVxyXG4iLCAiaW1wb3J0IHtQb2ludCwgdG9Qb2ludH0gZnJvbSAnLi9Qb2ludCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuaW1wb3J0IHt0b0xhdExuZ30gZnJvbSAnLi4vZ2VvL0xhdExuZyc7XHJcbmltcG9ydCB7Y2VudHJvaWR9IGZyb20gJy4vUG9seVV0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nQm91bmRzfSBmcm9tICcuLi9nZW8vTGF0TG5nQm91bmRzJztcclxuXHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIExpbmVVdGlsXHJcbiAqXHJcbiAqIFZhcmlvdXMgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHBvbHlsaW5lIHBvaW50cyBwcm9jZXNzaW5nLCB1c2VkIGJ5IExlYWZsZXQgaW50ZXJuYWxseSB0byBtYWtlIHBvbHlsaW5lcyBsaWdodG5pbmctZmFzdC5cclxuICovXHJcblxyXG4vLyBTaW1wbGlmeSBwb2x5bGluZSB3aXRoIHZlcnRleCByZWR1Y3Rpb24gYW5kIERvdWdsYXMtUGV1Y2tlciBzaW1wbGlmaWNhdGlvbi5cclxuLy8gSW1wcm92ZXMgcmVuZGVyaW5nIHBlcmZvcm1hbmNlIGRyYW1hdGljYWxseSBieSBsZXNzZW5pbmcgdGhlIG51bWJlciBvZiBwb2ludHMgdG8gZHJhdy5cclxuXHJcbi8vIEBmdW5jdGlvbiBzaW1wbGlmeShwb2ludHM6IFBvaW50W10sIHRvbGVyYW5jZTogTnVtYmVyKTogUG9pbnRbXVxyXG4vLyBEcmFtYXRpY2FsbHkgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHBvaW50cyBpbiBhIHBvbHlsaW5lIHdoaWxlIHJldGFpbmluZ1xyXG4vLyBpdHMgc2hhcGUgYW5kIHJldHVybnMgYSBuZXcgYXJyYXkgb2Ygc2ltcGxpZmllZCBwb2ludHMsIHVzaW5nIHRoZVxyXG4vLyBbUmFtZXItRG91Z2xhcy1QZXVja2VyIGFsZ29yaXRobV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXItRG91Z2xhcy1QZXVja2VyX2FsZ29yaXRobSkuXHJcbi8vIFVzZWQgZm9yIGEgaHVnZSBwZXJmb3JtYW5jZSBib29zdCB3aGVuIHByb2Nlc3NpbmcvZGlzcGxheWluZyBMZWFmbGV0IHBvbHlsaW5lcyBmb3JcclxuLy8gZWFjaCB6b29tIGxldmVsIGFuZCBhbHNvIHJlZHVjaW5nIHZpc3VhbCBub2lzZS4gdG9sZXJhbmNlIGFmZmVjdHMgdGhlIGFtb3VudCBvZlxyXG4vLyBzaW1wbGlmaWNhdGlvbiAobGVzc2VyIHZhbHVlIG1lYW5zIGhpZ2hlciBxdWFsaXR5IGJ1dCBzbG93ZXIgYW5kIHdpdGggbW9yZSBwb2ludHMpLlxyXG4vLyBBbHNvIHJlbGVhc2VkIGFzIGEgc2VwYXJhdGVkIG1pY3JvLWxpYnJhcnkgW1NpbXBsaWZ5LmpzXShodHRwczovL21vdXJuZXIuZ2l0aHViLmlvL3NpbXBsaWZ5LWpzLykuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGlmeShwb2ludHMsIHRvbGVyYW5jZSkge1xyXG5cdGlmICghdG9sZXJhbmNlIHx8ICFwb2ludHMubGVuZ3RoKSB7XHJcblx0XHRyZXR1cm4gcG9pbnRzLnNsaWNlKCk7XHJcblx0fVxyXG5cclxuXHR2YXIgc3FUb2xlcmFuY2UgPSB0b2xlcmFuY2UgKiB0b2xlcmFuY2U7XHJcblxyXG5cdCAgICAvLyBzdGFnZSAxOiB2ZXJ0ZXggcmVkdWN0aW9uXHJcblx0ICAgIHBvaW50cyA9IF9yZWR1Y2VQb2ludHMocG9pbnRzLCBzcVRvbGVyYW5jZSk7XHJcblxyXG5cdCAgICAvLyBzdGFnZSAyOiBEb3VnbGFzLVBldWNrZXIgc2ltcGxpZmljYXRpb25cclxuXHQgICAgcG9pbnRzID0gX3NpbXBsaWZ5RFAocG9pbnRzLCBzcVRvbGVyYW5jZSk7XHJcblxyXG5cdHJldHVybiBwb2ludHM7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBwb2ludFRvU2VnbWVudERpc3RhbmNlKHA6IFBvaW50LCBwMTogUG9pbnQsIHAyOiBQb2ludCk6IE51bWJlclxyXG4vLyBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHBvaW50IGBwYCBhbmQgc2VnbWVudCBgcDFgIHRvIGBwMmAuXHJcbmV4cG9ydCBmdW5jdGlvbiBwb2ludFRvU2VnbWVudERpc3RhbmNlKHAsIHAxLCBwMikge1xyXG5cdHJldHVybiBNYXRoLnNxcnQoX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHAsIHAxLCBwMiwgdHJ1ZSkpO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gY2xvc2VzdFBvaW50T25TZWdtZW50KHA6IFBvaW50LCBwMTogUG9pbnQsIHAyOiBQb2ludCk6IE51bWJlclxyXG4vLyBSZXR1cm5zIHRoZSBjbG9zZXN0IHBvaW50IGZyb20gYSBwb2ludCBgcGAgb24gYSBzZWdtZW50IGBwMWAgdG8gYHAyYC5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RQb2ludE9uU2VnbWVudChwLCBwMSwgcDIpIHtcclxuXHRyZXR1cm4gX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHAsIHAxLCBwMik7XHJcbn1cclxuXHJcbi8vIFJhbWVyLURvdWdsYXMtUGV1Y2tlciBzaW1wbGlmaWNhdGlvbiwgc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbWVyLURvdWdsYXMtUGV1Y2tlcl9hbGdvcml0aG1cclxuZnVuY3Rpb24gX3NpbXBsaWZ5RFAocG9pbnRzLCBzcVRvbGVyYW5jZSkge1xyXG5cclxuXHR2YXIgbGVuID0gcG9pbnRzLmxlbmd0aCxcclxuXHQgICAgQXJyYXlDb25zdHJ1Y3RvciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSB1bmRlZmluZWQgKyAnJyA/IFVpbnQ4QXJyYXkgOiBBcnJheSxcclxuXHQgICAgbWFya2VycyA9IG5ldyBBcnJheUNvbnN0cnVjdG9yKGxlbik7XHJcblxyXG5cdCAgICBtYXJrZXJzWzBdID0gbWFya2Vyc1tsZW4gLSAxXSA9IDE7XHJcblxyXG5cdF9zaW1wbGlmeURQU3RlcChwb2ludHMsIG1hcmtlcnMsIHNxVG9sZXJhbmNlLCAwLCBsZW4gLSAxKTtcclxuXHJcblx0dmFyIGksXHJcblx0ICAgIG5ld1BvaW50cyA9IFtdO1xyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdGlmIChtYXJrZXJzW2ldKSB7XHJcblx0XHRcdG5ld1BvaW50cy5wdXNoKHBvaW50c1tpXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gbmV3UG9pbnRzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfc2ltcGxpZnlEUFN0ZXAocG9pbnRzLCBtYXJrZXJzLCBzcVRvbGVyYW5jZSwgZmlyc3QsIGxhc3QpIHtcclxuXHJcblx0dmFyIG1heFNxRGlzdCA9IDAsXHJcblx0aW5kZXgsIGksIHNxRGlzdDtcclxuXHJcblx0Zm9yIChpID0gZmlyc3QgKyAxOyBpIDw9IGxhc3QgLSAxOyBpKyspIHtcclxuXHRcdHNxRGlzdCA9IF9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudChwb2ludHNbaV0sIHBvaW50c1tmaXJzdF0sIHBvaW50c1tsYXN0XSwgdHJ1ZSk7XHJcblxyXG5cdFx0aWYgKHNxRGlzdCA+IG1heFNxRGlzdCkge1xyXG5cdFx0XHRpbmRleCA9IGk7XHJcblx0XHRcdG1heFNxRGlzdCA9IHNxRGlzdDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmIChtYXhTcURpc3QgPiBzcVRvbGVyYW5jZSkge1xyXG5cdFx0bWFya2Vyc1tpbmRleF0gPSAxO1xyXG5cclxuXHRcdF9zaW1wbGlmeURQU3RlcChwb2ludHMsIG1hcmtlcnMsIHNxVG9sZXJhbmNlLCBmaXJzdCwgaW5kZXgpO1xyXG5cdFx0X3NpbXBsaWZ5RFBTdGVwKHBvaW50cywgbWFya2Vycywgc3FUb2xlcmFuY2UsIGluZGV4LCBsYXN0KTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIHJlZHVjZSBwb2ludHMgdGhhdCBhcmUgdG9vIGNsb3NlIHRvIGVhY2ggb3RoZXIgdG8gYSBzaW5nbGUgcG9pbnRcclxuZnVuY3Rpb24gX3JlZHVjZVBvaW50cyhwb2ludHMsIHNxVG9sZXJhbmNlKSB7XHJcblx0dmFyIHJlZHVjZWRQb2ludHMgPSBbcG9pbnRzWzBdXTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDEsIHByZXYgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdGlmIChfc3FEaXN0KHBvaW50c1tpXSwgcG9pbnRzW3ByZXZdKSA+IHNxVG9sZXJhbmNlKSB7XHJcblx0XHRcdHJlZHVjZWRQb2ludHMucHVzaChwb2ludHNbaV0pO1xyXG5cdFx0XHRwcmV2ID0gaTtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHByZXYgPCBsZW4gLSAxKSB7XHJcblx0XHRyZWR1Y2VkUG9pbnRzLnB1c2gocG9pbnRzW2xlbiAtIDFdKTtcclxuXHR9XHJcblx0cmV0dXJuIHJlZHVjZWRQb2ludHM7XHJcbn1cclxuXHJcbnZhciBfbGFzdENvZGU7XHJcblxyXG4vLyBAZnVuY3Rpb24gY2xpcFNlZ21lbnQoYTogUG9pbnQsIGI6IFBvaW50LCBib3VuZHM6IEJvdW5kcywgdXNlTGFzdENvZGU/OiBCb29sZWFuLCByb3VuZD86IEJvb2xlYW4pOiBQb2ludFtdfEJvb2xlYW5cclxuLy8gQ2xpcHMgdGhlIHNlZ21lbnQgYSB0byBiIGJ5IHJlY3Rhbmd1bGFyIGJvdW5kcyB3aXRoIHRoZVxyXG4vLyBbQ29oZW4tU3V0aGVybGFuZCBhbGdvcml0aG1dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvaGVuJUUyJTgwJTkzU3V0aGVybGFuZF9hbGdvcml0aG0pXHJcbi8vIChtb2RpZnlpbmcgdGhlIHNlZ21lbnQgcG9pbnRzIGRpcmVjdGx5ISkuIFVzZWQgYnkgTGVhZmxldCB0byBvbmx5IHNob3cgcG9seWxpbmVcclxuLy8gcG9pbnRzIHRoYXQgYXJlIG9uIHRoZSBzY3JlZW4gb3IgbmVhciwgaW5jcmVhc2luZyBwZXJmb3JtYW5jZS5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsaXBTZWdtZW50KGEsIGIsIGJvdW5kcywgdXNlTGFzdENvZGUsIHJvdW5kKSB7XHJcblx0dmFyIGNvZGVBID0gdXNlTGFzdENvZGUgPyBfbGFzdENvZGUgOiBfZ2V0Qml0Q29kZShhLCBib3VuZHMpLFxyXG5cdCAgICBjb2RlQiA9IF9nZXRCaXRDb2RlKGIsIGJvdW5kcyksXHJcblxyXG5cdCAgICBjb2RlT3V0LCBwLCBuZXdDb2RlO1xyXG5cclxuXHQgICAgLy8gc2F2ZSAybmQgY29kZSB0byBhdm9pZCBjYWxjdWxhdGluZyBpdCBvbiB0aGUgbmV4dCBzZWdtZW50XHJcblx0ICAgIF9sYXN0Q29kZSA9IGNvZGVCO1xyXG5cclxuXHR3aGlsZSAodHJ1ZSkge1xyXG5cdFx0Ly8gaWYgYSxiIGlzIGluc2lkZSB0aGUgY2xpcCB3aW5kb3cgKHRyaXZpYWwgYWNjZXB0KVxyXG5cdFx0aWYgKCEoY29kZUEgfCBjb2RlQikpIHtcclxuXHRcdFx0cmV0dXJuIFthLCBiXTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBpZiBhLGIgaXMgb3V0c2lkZSB0aGUgY2xpcCB3aW5kb3cgKHRyaXZpYWwgcmVqZWN0KVxyXG5cdFx0aWYgKGNvZGVBICYgY29kZUIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG90aGVyIGNhc2VzXHJcblx0XHRjb2RlT3V0ID0gY29kZUEgfHwgY29kZUI7XHJcblx0XHRwID0gX2dldEVkZ2VJbnRlcnNlY3Rpb24oYSwgYiwgY29kZU91dCwgYm91bmRzLCByb3VuZCk7XHJcblx0XHRuZXdDb2RlID0gX2dldEJpdENvZGUocCwgYm91bmRzKTtcclxuXHJcblx0XHRpZiAoY29kZU91dCA9PT0gY29kZUEpIHtcclxuXHRcdFx0YSA9IHA7XHJcblx0XHRcdGNvZGVBID0gbmV3Q29kZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGIgPSBwO1xyXG5cdFx0XHRjb2RlQiA9IG5ld0NvZGU7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX2dldEVkZ2VJbnRlcnNlY3Rpb24oYSwgYiwgY29kZSwgYm91bmRzLCByb3VuZCkge1xyXG5cdHZhciBkeCA9IGIueCAtIGEueCxcclxuXHQgICAgZHkgPSBiLnkgLSBhLnksXHJcblx0ICAgIG1pbiA9IGJvdW5kcy5taW4sXHJcblx0ICAgIG1heCA9IGJvdW5kcy5tYXgsXHJcblx0ICAgIHgsIHk7XHJcblxyXG5cdGlmIChjb2RlICYgOCkgeyAvLyB0b3BcclxuXHRcdHggPSBhLnggKyBkeCAqIChtYXgueSAtIGEueSkgLyBkeTtcclxuXHRcdHkgPSBtYXgueTtcclxuXHJcblx0fSBlbHNlIGlmIChjb2RlICYgNCkgeyAvLyBib3R0b21cclxuXHRcdHggPSBhLnggKyBkeCAqIChtaW4ueSAtIGEueSkgLyBkeTtcclxuXHRcdHkgPSBtaW4ueTtcclxuXHJcblx0fSBlbHNlIGlmIChjb2RlICYgMikgeyAvLyByaWdodFxyXG5cdFx0eCA9IG1heC54O1xyXG5cdFx0eSA9IGEueSArIGR5ICogKG1heC54IC0gYS54KSAvIGR4O1xyXG5cclxuXHR9IGVsc2UgaWYgKGNvZGUgJiAxKSB7IC8vIGxlZnRcclxuXHRcdHggPSBtaW4ueDtcclxuXHRcdHkgPSBhLnkgKyBkeSAqIChtaW4ueCAtIGEueCkgLyBkeDtcclxuXHR9XHJcblxyXG5cdHJldHVybiBuZXcgUG9pbnQoeCwgeSwgcm91bmQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX2dldEJpdENvZGUocCwgYm91bmRzKSB7XHJcblx0dmFyIGNvZGUgPSAwO1xyXG5cclxuXHRpZiAocC54IDwgYm91bmRzLm1pbi54KSB7IC8vIGxlZnRcclxuXHRcdGNvZGUgfD0gMTtcclxuXHR9IGVsc2UgaWYgKHAueCA+IGJvdW5kcy5tYXgueCkgeyAvLyByaWdodFxyXG5cdFx0Y29kZSB8PSAyO1xyXG5cdH1cclxuXHJcblx0aWYgKHAueSA8IGJvdW5kcy5taW4ueSkgeyAvLyBib3R0b21cclxuXHRcdGNvZGUgfD0gNDtcclxuXHR9IGVsc2UgaWYgKHAueSA+IGJvdW5kcy5tYXgueSkgeyAvLyB0b3BcclxuXHRcdGNvZGUgfD0gODtcclxuXHR9XHJcblxyXG5cdHJldHVybiBjb2RlO1xyXG59XHJcblxyXG4vLyBzcXVhcmUgZGlzdGFuY2UgKHRvIGF2b2lkIHVubmVjZXNzYXJ5IE1hdGguc3FydCBjYWxscylcclxuZnVuY3Rpb24gX3NxRGlzdChwMSwgcDIpIHtcclxuXHR2YXIgZHggPSBwMi54IC0gcDEueCxcclxuXHQgICAgZHkgPSBwMi55IC0gcDEueTtcclxuXHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XHJcbn1cclxuXHJcbi8vIHJldHVybiBjbG9zZXN0IHBvaW50IG9uIHNlZ21lbnQgb3IgZGlzdGFuY2UgdG8gdGhhdCBwb2ludFxyXG5leHBvcnQgZnVuY3Rpb24gX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHAsIHAxLCBwMiwgc3FEaXN0KSB7XHJcblx0dmFyIHggPSBwMS54LFxyXG5cdCAgICB5ID0gcDEueSxcclxuXHQgICAgZHggPSBwMi54IC0geCxcclxuXHQgICAgZHkgPSBwMi55IC0geSxcclxuXHQgICAgZG90ID0gZHggKiBkeCArIGR5ICogZHksXHJcblx0ICAgIHQ7XHJcblxyXG5cdGlmIChkb3QgPiAwKSB7XHJcblx0XHR0ID0gKChwLnggLSB4KSAqIGR4ICsgKHAueSAtIHkpICogZHkpIC8gZG90O1xyXG5cclxuXHRcdGlmICh0ID4gMSkge1xyXG5cdFx0XHR4ID0gcDIueDtcclxuXHRcdFx0eSA9IHAyLnk7XHJcblx0XHR9IGVsc2UgaWYgKHQgPiAwKSB7XHJcblx0XHRcdHggKz0gZHggKiB0O1xyXG5cdFx0XHR5ICs9IGR5ICogdDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGR4ID0gcC54IC0geDtcclxuXHRkeSA9IHAueSAtIHk7XHJcblxyXG5cdHJldHVybiBzcURpc3QgPyBkeCAqIGR4ICsgZHkgKiBkeSA6IG5ldyBQb2ludCh4LCB5KTtcclxufVxyXG5cclxuXHJcbi8vIEBmdW5jdGlvbiBpc0ZsYXQobGF0bG5nczogTGF0TG5nW10pOiBCb29sZWFuXHJcbi8vIFJldHVybnMgdHJ1ZSBpZiBgbGF0bG5nc2AgaXMgYSBmbGF0IGFycmF5LCBmYWxzZSBpcyBuZXN0ZWQuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0ZsYXQobGF0bG5ncykge1xyXG5cdHJldHVybiAhVXRpbC5pc0FycmF5KGxhdGxuZ3NbMF0pIHx8ICh0eXBlb2YgbGF0bG5nc1swXVswXSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGxhdGxuZ3NbMF1bMF0gIT09ICd1bmRlZmluZWQnKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9mbGF0KGxhdGxuZ3MpIHtcclxuXHRjb25zb2xlLndhcm4oJ0RlcHJlY2F0ZWQgdXNlIG9mIF9mbGF0LCBwbGVhc2UgdXNlIEwuTGluZVV0aWwuaXNGbGF0IGluc3RlYWQuJyk7XHJcblx0cmV0dXJuIGlzRmxhdChsYXRsbmdzKTtcclxufVxyXG5cclxuLyogQGZ1bmN0aW9uIHBvbHlsaW5lQ2VudGVyKGxhdGxuZ3M6IExhdExuZ1tdLCBjcnM6IENSUyk6IExhdExuZ1xyXG4gKiBSZXR1cm5zIHRoZSBjZW50ZXIgKFtjZW50cm9pZF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cm9pZCkpIG9mIHRoZSBwYXNzZWQgTGF0TG5ncyAoZmlyc3QgcmluZykgZnJvbSBhIHBvbHlsaW5lLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBvbHlsaW5lQ2VudGVyKGxhdGxuZ3MsIGNycykge1xyXG5cdHZhciBpLCBoYWxmRGlzdCwgc2VnRGlzdCwgZGlzdCwgcDEsIHAyLCByYXRpbywgY2VudGVyO1xyXG5cclxuXHRpZiAoIWxhdGxuZ3MgfHwgbGF0bG5ncy5sZW5ndGggPT09IDApIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignbGF0bG5ncyBub3QgcGFzc2VkJyk7XHJcblx0fVxyXG5cclxuXHRpZiAoIWlzRmxhdChsYXRsbmdzKSkge1xyXG5cdFx0Y29uc29sZS53YXJuKCdsYXRsbmdzIGFyZSBub3QgZmxhdCEgT25seSB0aGUgZmlyc3QgcmluZyB3aWxsIGJlIHVzZWQnKTtcclxuXHRcdGxhdGxuZ3MgPSBsYXRsbmdzWzBdO1xyXG5cdH1cclxuXHJcblx0dmFyIGNlbnRyb2lkTGF0TG5nID0gdG9MYXRMbmcoWzAsIDBdKTtcclxuXHJcblx0dmFyIGJvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGxhdGxuZ3MpO1xyXG5cdHZhciBhcmVhQm91bmRzID0gYm91bmRzLmdldE5vcnRoV2VzdCgpLmRpc3RhbmNlVG8oYm91bmRzLmdldFNvdXRoV2VzdCgpKSAqIGJvdW5kcy5nZXROb3J0aEVhc3QoKS5kaXN0YW5jZVRvKGJvdW5kcy5nZXROb3J0aFdlc3QoKSk7XHJcblx0Ly8gdGVzdHMgc2hvd2VkIHRoYXQgYmVsb3cgMTcwMCByb3VuZGluZyBlcnJvcnMgYXJlIGhhcHBlbmluZ1xyXG5cdGlmIChhcmVhQm91bmRzIDwgMTcwMCkge1xyXG5cdFx0Ly8gZ2V0dGluZyBhIGluZXhhY3QgY2VudGVyLCB0byBtb3ZlIHRoZSBsYXRsbmdzIG5lYXIgdG8gWzAsIDBdIHRvIHByZXZlbnQgcm91bmRpbmcgZXJyb3JzXHJcblx0XHRjZW50cm9pZExhdExuZyA9IGNlbnRyb2lkKGxhdGxuZ3MpO1xyXG5cdH1cclxuXHJcblx0dmFyIGxlbiA9IGxhdGxuZ3MubGVuZ3RoO1xyXG5cdHZhciBwb2ludHMgPSBbXTtcclxuXHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdHZhciBsYXRsbmcgPSB0b0xhdExuZyhsYXRsbmdzW2ldKTtcclxuXHRcdHBvaW50cy5wdXNoKGNycy5wcm9qZWN0KHRvTGF0TG5nKFtsYXRsbmcubGF0IC0gY2VudHJvaWRMYXRMbmcubGF0LCBsYXRsbmcubG5nIC0gY2VudHJvaWRMYXRMbmcubG5nXSkpKTtcclxuXHR9XHJcblxyXG5cdGZvciAoaSA9IDAsIGhhbGZEaXN0ID0gMDsgaSA8IGxlbiAtIDE7IGkrKykge1xyXG5cdFx0aGFsZkRpc3QgKz0gcG9pbnRzW2ldLmRpc3RhbmNlVG8ocG9pbnRzW2kgKyAxXSkgLyAyO1xyXG5cdH1cclxuXHJcblx0Ly8gVGhlIGxpbmUgaXMgc28gc21hbGwgaW4gdGhlIGN1cnJlbnQgdmlldyB0aGF0IGFsbCBwb2ludHMgYXJlIG9uIHRoZSBzYW1lIHBpeGVsLlxyXG5cdGlmIChoYWxmRGlzdCA9PT0gMCkge1xyXG5cdFx0Y2VudGVyID0gcG9pbnRzWzBdO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRmb3IgKGkgPSAwLCBkaXN0ID0gMDsgaSA8IGxlbiAtIDE7IGkrKykge1xyXG5cdFx0XHRwMSA9IHBvaW50c1tpXTtcclxuXHRcdFx0cDIgPSBwb2ludHNbaSArIDFdO1xyXG5cdFx0XHRzZWdEaXN0ID0gcDEuZGlzdGFuY2VUbyhwMik7XHJcblx0XHRcdGRpc3QgKz0gc2VnRGlzdDtcclxuXHJcblx0XHRcdGlmIChkaXN0ID4gaGFsZkRpc3QpIHtcclxuXHRcdFx0XHRyYXRpbyA9IChkaXN0IC0gaGFsZkRpc3QpIC8gc2VnRGlzdDtcclxuXHRcdFx0XHRjZW50ZXIgPSBbXHJcblx0XHRcdFx0XHRwMi54IC0gcmF0aW8gKiAocDIueCAtIHAxLngpLFxyXG5cdFx0XHRcdFx0cDIueSAtIHJhdGlvICogKHAyLnkgLSBwMS55KVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBsYXRsbmdDZW50ZXIgPSBjcnMudW5wcm9qZWN0KHRvUG9pbnQoY2VudGVyKSk7XHJcblx0cmV0dXJuIHRvTGF0TG5nKFtsYXRsbmdDZW50ZXIubGF0ICsgY2VudHJvaWRMYXRMbmcubGF0LCBsYXRsbmdDZW50ZXIubG5nICsgY2VudHJvaWRMYXRMbmcubG5nXSk7XHJcbn1cclxuIiwgImltcG9ydCB7TGF0TG5nfSBmcm9tICcuLi9MYXRMbmcnO1xyXG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcclxuaW1wb3J0IHtQb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBQcm9qZWN0aW9uXHJcbiAqIEBzZWN0aW9uXHJcbiAqIExlYWZsZXQgY29tZXMgd2l0aCBhIHNldCBvZiBhbHJlYWR5IGRlZmluZWQgUHJvamVjdGlvbnMgb3V0IG9mIHRoZSBib3g6XHJcbiAqXHJcbiAqIEBwcm9qZWN0aW9uIEwuUHJvamVjdGlvbi5Mb25MYXRcclxuICpcclxuICogRXF1aXJlY3Rhbmd1bGFyLCBvciBQbGF0ZSBDYXJyZWUgcHJvamVjdGlvbiDigJQgdGhlIG1vc3Qgc2ltcGxlIHByb2plY3Rpb24sXHJcbiAqIG1vc3RseSB1c2VkIGJ5IEdJUyBlbnRodXNpYXN0cy4gRGlyZWN0bHkgbWFwcyBgeGAgYXMgbG9uZ2l0dWRlLCBhbmQgYHlgIGFzXHJcbiAqIGxhdGl0dWRlLiBBbHNvIHN1aXRhYmxlIGZvciBmbGF0IHdvcmxkcywgZS5nLiBnYW1lIG1hcHMuIFVzZWQgYnkgdGhlXHJcbiAqIGBFUFNHOjQzMjZgIGFuZCBgU2ltcGxlYCBDUlMuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBMb25MYXQgPSB7XHJcblx0cHJvamVjdDogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludChsYXRsbmcubG5nLCBsYXRsbmcubGF0KTtcclxuXHR9LFxyXG5cclxuXHR1bnByb2plY3Q6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmcocG9pbnQueSwgcG9pbnQueCk7XHJcblx0fSxcclxuXHJcblx0Ym91bmRzOiBuZXcgQm91bmRzKFstMTgwLCAtOTBdLCBbMTgwLCA5MF0pXHJcbn07XHJcbiIsICJpbXBvcnQge0xhdExuZ30gZnJvbSAnLi4vTGF0TG5nJztcclxuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XHJcbmltcG9ydCB7UG9pbnR9IGZyb20gJy4uLy4uL2dlb21ldHJ5L1BvaW50JztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgUHJvamVjdGlvblxyXG4gKiBAcHJvamVjdGlvbiBMLlByb2plY3Rpb24uTWVyY2F0b3JcclxuICpcclxuICogRWxsaXB0aWNhbCBNZXJjYXRvciBwcm9qZWN0aW9uIOKAlCBtb3JlIGNvbXBsZXggdGhhbiBTcGhlcmljYWwgTWVyY2F0b3IuIEFzc3VtZXMgdGhhdCBFYXJ0aCBpcyBhbiBlbGxpcHNvaWQuIFVzZWQgYnkgdGhlIEVQU0c6MzM5NSBDUlMuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBNZXJjYXRvciA9IHtcclxuXHRSOiA2Mzc4MTM3LFxyXG5cdFJfTUlOT1I6IDYzNTY3NTIuMzE0MjQ1MTc5LFxyXG5cclxuXHRib3VuZHM6IG5ldyBCb3VuZHMoWy0yMDAzNzUwOC4zNDI3OSwgLTE1NDk2NTcwLjczOTcyXSwgWzIwMDM3NTA4LjM0Mjc5LCAxODc2NDY1Ni4yMzEzOF0pLFxyXG5cclxuXHRwcm9qZWN0OiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHR2YXIgZCA9IE1hdGguUEkgLyAxODAsXHJcblx0XHQgICAgciA9IHRoaXMuUixcclxuXHRcdCAgICB5ID0gbGF0bG5nLmxhdCAqIGQsXHJcblx0XHQgICAgdG1wID0gdGhpcy5SX01JTk9SIC8gcixcclxuXHRcdCAgICBlID0gTWF0aC5zcXJ0KDEgLSB0bXAgKiB0bXApLFxyXG5cdFx0ICAgIGNvbiA9IGUgKiBNYXRoLnNpbih5KTtcclxuXHJcblx0XHR2YXIgdHMgPSBNYXRoLnRhbihNYXRoLlBJIC8gNCAtIHkgLyAyKSAvIE1hdGgucG93KCgxIC0gY29uKSAvICgxICsgY29uKSwgZSAvIDIpO1xyXG5cdFx0eSA9IC1yICogTWF0aC5sb2coTWF0aC5tYXgodHMsIDFFLTEwKSk7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBQb2ludChsYXRsbmcubG5nICogZCAqIHIsIHkpO1xyXG5cdH0sXHJcblxyXG5cdHVucHJvamVjdDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHR2YXIgZCA9IDE4MCAvIE1hdGguUEksXHJcblx0XHQgICAgciA9IHRoaXMuUixcclxuXHRcdCAgICB0bXAgPSB0aGlzLlJfTUlOT1IgLyByLFxyXG5cdFx0ICAgIGUgPSBNYXRoLnNxcnQoMSAtIHRtcCAqIHRtcCksXHJcblx0XHQgICAgdHMgPSBNYXRoLmV4cCgtcG9pbnQueSAvIHIpLFxyXG5cdFx0ICAgIHBoaSA9IE1hdGguUEkgLyAyIC0gMiAqIE1hdGguYXRhbih0cyk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGRwaGkgPSAwLjEsIGNvbjsgaSA8IDE1ICYmIE1hdGguYWJzKGRwaGkpID4gMWUtNzsgaSsrKSB7XHJcblx0XHRcdGNvbiA9IGUgKiBNYXRoLnNpbihwaGkpO1xyXG5cdFx0XHRjb24gPSBNYXRoLnBvdygoMSAtIGNvbikgLyAoMSArIGNvbiksIGUgLyAyKTtcclxuXHRcdFx0ZHBoaSA9IE1hdGguUEkgLyAyIC0gMiAqIE1hdGguYXRhbih0cyAqIGNvbikgLSBwaGk7XHJcblx0XHRcdHBoaSArPSBkcGhpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKHBoaSAqIGQsIHBvaW50LnggKiBkIC8gcik7XHJcblx0fVxyXG59O1xyXG4iLCAiLypcbiAqIEBjbGFzcyBQcm9qZWN0aW9uXG5cbiAqIEFuIG9iamVjdCB3aXRoIG1ldGhvZHMgZm9yIHByb2plY3RpbmcgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSB3b3JsZCBvbnRvXG4gKiBhIGZsYXQgc3VyZmFjZSAoYW5kIGJhY2spLiBTZWUgW01hcCBwcm9qZWN0aW9uXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NYXBfcHJvamVjdGlvbikuXG5cbiAqIEBwcm9wZXJ0eSBib3VuZHM6IEJvdW5kc1xuICogVGhlIGJvdW5kcyAoc3BlY2lmaWVkIGluIENSUyB1bml0cykgd2hlcmUgdGhlIHByb2plY3Rpb24gaXMgdmFsaWRcblxuICogQG1ldGhvZCBwcm9qZWN0KGxhdGxuZzogTGF0TG5nKTogUG9pbnRcbiAqIFByb2plY3RzIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyBpbnRvIGEgMkQgcG9pbnQuXG4gKiBPbmx5IGFjY2VwdHMgYWN0dWFsIGBMLkxhdExuZ2AgaW5zdGFuY2VzLCBub3QgYXJyYXlzLlxuXG4gKiBAbWV0aG9kIHVucHJvamVjdChwb2ludDogUG9pbnQpOiBMYXRMbmdcbiAqIFRoZSBpbnZlcnNlIG9mIGBwcm9qZWN0YC4gUHJvamVjdHMgYSAyRCBwb2ludCBpbnRvIGEgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLlxuICogT25seSBhY2NlcHRzIGFjdHVhbCBgTC5Qb2ludGAgaW5zdGFuY2VzLCBub3QgYXJyYXlzLlxuXG4gKiBOb3RlIHRoYXQgdGhlIHByb2plY3Rpb24gaW5zdGFuY2VzIGRvIG5vdCBpbmhlcml0IGZyb20gTGVhZmxldCdzIGBDbGFzc2Agb2JqZWN0LFxuICogYW5kIGNhbid0IGJlIGluc3RhbnRpYXRlZC4gQWxzbywgbmV3IGNsYXNzZXMgY2FuJ3QgaW5oZXJpdCBmcm9tIHRoZW0sXG4gKiBhbmQgbWV0aG9kcyBjYW4ndCBiZSBhZGRlZCB0byB0aGVtIHdpdGggdGhlIGBpbmNsdWRlYCBmdW5jdGlvbi5cblxuICovXG5cbmV4cG9ydCB7TG9uTGF0fSBmcm9tICcuL1Byb2plY3Rpb24uTG9uTGF0JztcbmV4cG9ydCB7TWVyY2F0b3J9IGZyb20gJy4vUHJvamVjdGlvbi5NZXJjYXRvcic7XG5leHBvcnQge1NwaGVyaWNhbE1lcmNhdG9yfSBmcm9tICcuL1Byb2plY3Rpb24uU3BoZXJpY2FsTWVyY2F0b3InO1xuIiwgImltcG9ydCB7RWFydGh9IGZyb20gJy4vQ1JTLkVhcnRoJztcclxuaW1wb3J0IHtNZXJjYXRvcn0gZnJvbSAnLi4vcHJvamVjdGlvbi9Qcm9qZWN0aW9uLk1lcmNhdG9yJztcclxuaW1wb3J0IHt0b1RyYW5zZm9ybWF0aW9ufSBmcm9tICcuLi8uLi9nZW9tZXRyeS9UcmFuc2Zvcm1hdGlvbic7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgQ1JTXHJcbiAqIEBjcnMgTC5DUlMuRVBTRzMzOTVcclxuICpcclxuICogUmFyZWx5IHVzZWQgYnkgc29tZSBjb21tZXJjaWFsIHRpbGUgcHJvdmlkZXJzLiBVc2VzIEVsbGlwdGljYWwgTWVyY2F0b3IgcHJvamVjdGlvbi5cclxuICovXHJcbmV4cG9ydCB2YXIgRVBTRzMzOTUgPSBVdGlsLmV4dGVuZCh7fSwgRWFydGgsIHtcclxuXHRjb2RlOiAnRVBTRzozMzk1JyxcclxuXHRwcm9qZWN0aW9uOiBNZXJjYXRvcixcclxuXHJcblx0dHJhbnNmb3JtYXRpb246IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgc2NhbGUgPSAwLjUgLyAoTWF0aC5QSSAqIE1lcmNhdG9yLlIpO1xyXG5cdFx0cmV0dXJuIHRvVHJhbnNmb3JtYXRpb24oc2NhbGUsIDAuNSwgLXNjYWxlLCAwLjUpO1xyXG5cdH0oKSlcclxufSk7XHJcbiIsICJpbXBvcnQge0VhcnRofSBmcm9tICcuL0NSUy5FYXJ0aCc7XHJcbmltcG9ydCB7TG9uTGF0fSBmcm9tICcuLi9wcm9qZWN0aW9uL1Byb2plY3Rpb24uTG9uTGF0JztcclxuaW1wb3J0IHt0b1RyYW5zZm9ybWF0aW9ufSBmcm9tICcuLi8uLi9nZW9tZXRyeS9UcmFuc2Zvcm1hdGlvbic7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgQ1JTXHJcbiAqIEBjcnMgTC5DUlMuRVBTRzQzMjZcclxuICpcclxuICogQSBjb21tb24gQ1JTIGFtb25nIEdJUyBlbnRodXNpYXN0cy4gVXNlcyBzaW1wbGUgRXF1aXJlY3Rhbmd1bGFyIHByb2plY3Rpb24uXHJcbiAqXHJcbiAqIExlYWZsZXQgMS4wLnggY29tcGxpZXMgd2l0aCB0aGUgW1RNUyBjb29yZGluYXRlIHNjaGVtZSBmb3IgRVBTRzo0MzI2XShodHRwczovL3dpa2kub3NnZW8ub3JnL3dpa2kvVGlsZV9NYXBfU2VydmljZV9TcGVjaWZpY2F0aW9uI2dsb2JhbC1nZW9kZXRpYyksXHJcbiAqIHdoaWNoIGlzIGEgYnJlYWtpbmcgY2hhbmdlIGZyb20gMC43LnggYmVoYXZpb3VyLiAgSWYgeW91IGFyZSB1c2luZyBhIGBUaWxlTGF5ZXJgXHJcbiAqIHdpdGggdGhpcyBDUlMsIGVuc3VyZSB0aGF0IHRoZXJlIGFyZSB0d28gMjU2eDI1NiBwaXhlbCB0aWxlcyBjb3ZlcmluZyB0aGVcclxuICogd2hvbGUgZWFydGggYXQgem9vbSBsZXZlbCB6ZXJvLCBhbmQgdGhhdCB0aGUgdGlsZSBjb29yZGluYXRlIG9yaWdpbiBpcyAoLTE4MCwrOTApLFxyXG4gKiBvciAoLTE4MCwtOTApIGZvciBgVGlsZUxheWVyYHMgd2l0aCBbdGhlIGB0bXNgIG9wdGlvbl0oI3RpbGVsYXllci10bXMpIHNldC5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIEVQU0c0MzI2ID0gVXRpbC5leHRlbmQoe30sIEVhcnRoLCB7XHJcblx0Y29kZTogJ0VQU0c6NDMyNicsXHJcblx0cHJvamVjdGlvbjogTG9uTGF0LFxyXG5cdHRyYW5zZm9ybWF0aW9uOiB0b1RyYW5zZm9ybWF0aW9uKDEgLyAxODAsIDEsIC0xIC8gMTgwLCAwLjUpXHJcbn0pO1xyXG4iLCAiaW1wb3J0IHtDUlN9IGZyb20gJy4vQ1JTJztcbmltcG9ydCB7TG9uTGF0fSBmcm9tICcuLi9wcm9qZWN0aW9uL1Byb2plY3Rpb24uTG9uTGF0JztcbmltcG9ydCB7dG9UcmFuc2Zvcm1hdGlvbn0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvVHJhbnNmb3JtYXRpb24nO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuXG4vKlxuICogQG5hbWVzcGFjZSBDUlNcbiAqIEBjcnMgTC5DUlMuU2ltcGxlXG4gKlxuICogQSBzaW1wbGUgQ1JTIHRoYXQgbWFwcyBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIGludG8gYHhgIGFuZCBgeWAgZGlyZWN0bHkuXG4gKiBNYXkgYmUgdXNlZCBmb3IgbWFwcyBvZiBmbGF0IHN1cmZhY2VzIChlLmcuIGdhbWUgbWFwcykuIE5vdGUgdGhhdCB0aGUgYHlgXG4gKiBheGlzIHNob3VsZCBzdGlsbCBiZSBpbnZlcnRlZCAoZ29pbmcgZnJvbSBib3R0b20gdG8gdG9wKS4gYGRpc3RhbmNlKClgIHJldHVybnNcbiAqIHNpbXBsZSBldWNsaWRlYW4gZGlzdGFuY2UuXG4gKi9cblxuZXhwb3J0IHZhciBTaW1wbGUgPSBVdGlsLmV4dGVuZCh7fSwgQ1JTLCB7XG5cdHByb2plY3Rpb246IExvbkxhdCxcblx0dHJhbnNmb3JtYXRpb246IHRvVHJhbnNmb3JtYXRpb24oMSwgMCwgLTEsIDApLFxuXG5cdHNjYWxlOiBmdW5jdGlvbiAoem9vbSkge1xuXHRcdHJldHVybiBNYXRoLnBvdygyLCB6b29tKTtcblx0fSxcblxuXHR6b29tOiBmdW5jdGlvbiAoc2NhbGUpIHtcblx0XHRyZXR1cm4gTWF0aC5sb2coc2NhbGUpIC8gTWF0aC5MTjI7XG5cdH0sXG5cblx0ZGlzdGFuY2U6IGZ1bmN0aW9uIChsYXRsbmcxLCBsYXRsbmcyKSB7XG5cdFx0dmFyIGR4ID0gbGF0bG5nMi5sbmcgLSBsYXRsbmcxLmxuZyxcblx0XHQgICAgZHkgPSBsYXRsbmcyLmxhdCAtIGxhdGxuZzEubGF0O1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cdH0sXG5cblx0aW5maW5pdGU6IHRydWVcbn0pO1xuIiwgImltcG9ydCB7Q1JTfSBmcm9tICcuL0NSUyc7XG5pbXBvcnQge0VhcnRofSBmcm9tICcuL0NSUy5FYXJ0aCc7XG5pbXBvcnQge0VQU0czMzk1fSBmcm9tICcuL0NSUy5FUFNHMzM5NSc7XG5pbXBvcnQge0VQU0czODU3LCBFUFNHOTAwOTEzfSBmcm9tICcuL0NSUy5FUFNHMzg1Nyc7XG5pbXBvcnQge0VQU0c0MzI2fSBmcm9tICcuL0NSUy5FUFNHNDMyNic7XG5pbXBvcnQge1NpbXBsZX0gZnJvbSAnLi9DUlMuU2ltcGxlJztcblxuQ1JTLkVhcnRoID0gRWFydGg7XG5DUlMuRVBTRzMzOTUgPSBFUFNHMzM5NTtcbkNSUy5FUFNHMzg1NyA9IEVQU0czODU3O1xuQ1JTLkVQU0c5MDA5MTMgPSBFUFNHOTAwOTEzO1xuQ1JTLkVQU0c0MzI2ID0gRVBTRzQzMjY7XG5DUlMuU2ltcGxlID0gU2ltcGxlO1xuXG5leHBvcnQge0NSU307XG4iLCAiaW1wb3J0IHtFdmVudGVkfSBmcm9tICcuLi9jb3JlL0V2ZW50cyc7XG5pbXBvcnQge01hcH0gZnJvbSAnLi4vbWFwL01hcCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XG5cbi8qXG4gKiBAY2xhc3MgTGF5ZXJcbiAqIEBpbmhlcml0cyBFdmVudGVkXG4gKiBAYWthIEwuTGF5ZXJcbiAqIEBha2EgSUxheWVyXG4gKlxuICogQSBzZXQgb2YgbWV0aG9kcyBmcm9tIHRoZSBMYXllciBiYXNlIGNsYXNzIHRoYXQgYWxsIExlYWZsZXQgbGF5ZXJzIHVzZS5cbiAqIEluaGVyaXRzIGFsbCBtZXRob2RzLCBvcHRpb25zIGFuZCBldmVudHMgZnJvbSBgTC5FdmVudGVkYC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbGF5ZXIgPSBMLm1hcmtlcihsYXRsbmcpLmFkZFRvKG1hcCk7XG4gKiBsYXllci5hZGRUbyhtYXApO1xuICogbGF5ZXIucmVtb3ZlKCk7XG4gKiBgYGBcbiAqXG4gKiBAZXZlbnQgYWRkOiBFdmVudFxuICogRmlyZWQgYWZ0ZXIgdGhlIGxheWVyIGlzIGFkZGVkIHRvIGEgbWFwXG4gKlxuICogQGV2ZW50IHJlbW92ZTogRXZlbnRcbiAqIEZpcmVkIGFmdGVyIHRoZSBsYXllciBpcyByZW1vdmVkIGZyb20gYSBtYXBcbiAqL1xuXG5cbmV4cG9ydCB2YXIgTGF5ZXIgPSBFdmVudGVkLmV4dGVuZCh7XG5cblx0Ly8gQ2xhc3NlcyBleHRlbmRpbmcgYEwuTGF5ZXJgIHdpbGwgaW5oZXJpdCB0aGUgZm9sbG93aW5nIG9wdGlvbnM6XG5cdG9wdGlvbnM6IHtcblx0XHQvLyBAb3B0aW9uIHBhbmU6IFN0cmluZyA9ICdvdmVybGF5UGFuZSdcblx0XHQvLyBCeSBkZWZhdWx0IHRoZSBsYXllciB3aWxsIGJlIGFkZGVkIHRvIHRoZSBtYXAncyBbb3ZlcmxheSBwYW5lXSgjbWFwLW92ZXJsYXlwYW5lKS4gT3ZlcnJpZGluZyB0aGlzIG9wdGlvbiB3aWxsIGNhdXNlIHRoZSBsYXllciB0byBiZSBwbGFjZWQgb24gYW5vdGhlciBwYW5lIGJ5IGRlZmF1bHQuXG5cdFx0cGFuZTogJ292ZXJsYXlQYW5lJyxcblxuXHRcdC8vIEBvcHRpb24gYXR0cmlidXRpb246IFN0cmluZyA9IG51bGxcblx0XHQvLyBTdHJpbmcgdG8gYmUgc2hvd24gaW4gdGhlIGF0dHJpYnV0aW9uIGNvbnRyb2wsIGUuZy4gXCLCqSBPcGVuU3RyZWV0TWFwIGNvbnRyaWJ1dG9yc1wiLiBJdCBkZXNjcmliZXMgdGhlIGxheWVyIGRhdGEgYW5kIGlzIG9mdGVuIGEgbGVnYWwgb2JsaWdhdGlvbiB0b3dhcmRzIGNvcHlyaWdodCBob2xkZXJzIGFuZCB0aWxlIHByb3ZpZGVycy5cblx0XHRhdHRyaWJ1dGlvbjogbnVsbCxcblxuXHRcdGJ1YmJsaW5nTW91c2VFdmVudHM6IHRydWVcblx0fSxcblxuXHQvKiBAc2VjdGlvblxuXHQgKiBDbGFzc2VzIGV4dGVuZGluZyBgTC5MYXllcmAgd2lsbCBpbmhlcml0IHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcblx0ICpcblx0ICogQG1ldGhvZCBhZGRUbyhtYXA6IE1hcHxMYXllckdyb3VwKTogdGhpc1xuXHQgKiBBZGRzIHRoZSBsYXllciB0byB0aGUgZ2l2ZW4gbWFwIG9yIGxheWVyIGdyb3VwLlxuXHQgKi9cblx0YWRkVG86IGZ1bmN0aW9uIChtYXApIHtcblx0XHRtYXAuYWRkTGF5ZXIodGhpcyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCByZW1vdmU6IHRoaXNcblx0Ly8gUmVtb3ZlcyB0aGUgbGF5ZXIgZnJvbSB0aGUgbWFwIGl0IGlzIGN1cnJlbnRseSBhY3RpdmUgb24uXG5cdHJlbW92ZTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLnJlbW92ZUZyb20odGhpcy5fbWFwIHx8IHRoaXMuX21hcFRvQWRkKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIHJlbW92ZUZyb20obWFwOiBNYXApOiB0aGlzXG5cdC8vIFJlbW92ZXMgdGhlIGxheWVyIGZyb20gdGhlIGdpdmVuIG1hcFxuXHQvL1xuXHQvLyBAYWx0ZXJuYXRpdmVcblx0Ly8gQG1ldGhvZCByZW1vdmVGcm9tKGdyb3VwOiBMYXllckdyb3VwKTogdGhpc1xuXHQvLyBSZW1vdmVzIHRoZSBsYXllciBmcm9tIHRoZSBnaXZlbiBgTGF5ZXJHcm91cGBcblx0cmVtb3ZlRnJvbTogZnVuY3Rpb24gKG9iaikge1xuXHRcdGlmIChvYmopIHtcblx0XHRcdG9iai5yZW1vdmVMYXllcih0aGlzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRQYW5lKG5hbWU/IDogU3RyaW5nKTogSFRNTEVsZW1lbnRcblx0Ly8gUmV0dXJucyB0aGUgYEhUTUxFbGVtZW50YCByZXByZXNlbnRpbmcgdGhlIG5hbWVkIHBhbmUgb24gdGhlIG1hcC4gSWYgYG5hbWVgIGlzIG9taXR0ZWQsIHJldHVybnMgdGhlIHBhbmUgZm9yIHRoaXMgbGF5ZXIuXG5cdGdldFBhbmU6IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0cmV0dXJuIHRoaXMuX21hcC5nZXRQYW5lKG5hbWUgPyAodGhpcy5vcHRpb25zW25hbWVdIHx8IG5hbWUpIDogdGhpcy5vcHRpb25zLnBhbmUpO1xuXHR9LFxuXG5cdGFkZEludGVyYWN0aXZlVGFyZ2V0OiBmdW5jdGlvbiAodGFyZ2V0RWwpIHtcblx0XHR0aGlzLl9tYXAuX3RhcmdldHNbVXRpbC5zdGFtcCh0YXJnZXRFbCldID0gdGhpcztcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVJbnRlcmFjdGl2ZVRhcmdldDogZnVuY3Rpb24gKHRhcmdldEVsKSB7XG5cdFx0ZGVsZXRlIHRoaXMuX21hcC5fdGFyZ2V0c1tVdGlsLnN0YW1wKHRhcmdldEVsKV07XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRBdHRyaWJ1dGlvbjogU3RyaW5nXG5cdC8vIFVzZWQgYnkgdGhlIGBhdHRyaWJ1dGlvbiBjb250cm9sYCwgcmV0dXJucyB0aGUgW2F0dHJpYnV0aW9uIG9wdGlvbl0oI2dyaWRsYXllci1hdHRyaWJ1dGlvbikuXG5cdGdldEF0dHJpYnV0aW9uOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbjtcblx0fSxcblxuXHRfbGF5ZXJBZGQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIG1hcCA9IGUudGFyZ2V0O1xuXG5cdFx0Ly8gY2hlY2sgaW4gY2FzZSBsYXllciBnZXRzIGFkZGVkIGFuZCB0aGVuIHJlbW92ZWQgYmVmb3JlIHRoZSBtYXAgaXMgcmVhZHlcblx0XHRpZiAoIW1hcC5oYXNMYXllcih0aGlzKSkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX21hcCA9IG1hcDtcblx0XHR0aGlzLl96b29tQW5pbWF0ZWQgPSBtYXAuX3pvb21BbmltYXRlZDtcblxuXHRcdGlmICh0aGlzLmdldEV2ZW50cykge1xuXHRcdFx0dmFyIGV2ZW50cyA9IHRoaXMuZ2V0RXZlbnRzKCk7XG5cdFx0XHRtYXAub24oZXZlbnRzLCB0aGlzKTtcblx0XHRcdHRoaXMub25jZSgncmVtb3ZlJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRtYXAub2ZmKGV2ZW50cywgdGhpcyk7XG5cdFx0XHR9LCB0aGlzKTtcblx0XHR9XG5cblx0XHR0aGlzLm9uQWRkKG1hcCk7XG5cblx0XHR0aGlzLmZpcmUoJ2FkZCcpO1xuXHRcdG1hcC5maXJlKCdsYXllcmFkZCcsIHtsYXllcjogdGhpc30pO1xuXHR9XG59KTtcblxuLyogQHNlY3Rpb24gRXh0ZW5zaW9uIG1ldGhvZHNcbiAqIEB1bmluaGVyaXRhYmxlXG4gKlxuICogRXZlcnkgbGF5ZXIgc2hvdWxkIGV4dGVuZCBmcm9tIGBMLkxheWVyYCBhbmQgKHJlLSlpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBtZXRob2RzLlxuICpcbiAqIEBtZXRob2Qgb25BZGQobWFwOiBNYXApOiB0aGlzXG4gKiBTaG91bGQgY29udGFpbiBjb2RlIHRoYXQgY3JlYXRlcyBET00gZWxlbWVudHMgZm9yIHRoZSBsYXllciwgYWRkcyB0aGVtIHRvIGBtYXAgcGFuZXNgIHdoZXJlIHRoZXkgc2hvdWxkIGJlbG9uZyBhbmQgcHV0cyBsaXN0ZW5lcnMgb24gcmVsZXZhbnQgbWFwIGV2ZW50cy4gQ2FsbGVkIG9uIFtgbWFwLmFkZExheWVyKGxheWVyKWBdKCNtYXAtYWRkbGF5ZXIpLlxuICpcbiAqIEBtZXRob2Qgb25SZW1vdmUobWFwOiBNYXApOiB0aGlzXG4gKiBTaG91bGQgY29udGFpbiBhbGwgY2xlYW4gdXAgY29kZSB0aGF0IHJlbW92ZXMgdGhlIGxheWVyJ3MgZWxlbWVudHMgZnJvbSB0aGUgRE9NIGFuZCByZW1vdmVzIGxpc3RlbmVycyBwcmV2aW91c2x5IGFkZGVkIGluIFtgb25BZGRgXSgjbGF5ZXItb25hZGQpLiBDYWxsZWQgb24gW2BtYXAucmVtb3ZlTGF5ZXIobGF5ZXIpYF0oI21hcC1yZW1vdmVsYXllcikuXG4gKlxuICogQG1ldGhvZCBnZXRFdmVudHMoKTogT2JqZWN0XG4gKiBUaGlzIG9wdGlvbmFsIG1ldGhvZCBzaG91bGQgcmV0dXJuIGFuIG9iamVjdCBsaWtlIGB7IHZpZXdyZXNldDogdGhpcy5fcmVzZXQgfWAgZm9yIFtgYWRkRXZlbnRMaXN0ZW5lcmBdKCNldmVudGVkLWFkZGV2ZW50bGlzdGVuZXIpLiBUaGUgZXZlbnQgaGFuZGxlcnMgaW4gdGhpcyBvYmplY3Qgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGFkZGVkIGFuZCByZW1vdmVkIGZyb20gdGhlIG1hcCB3aXRoIHlvdXIgbGF5ZXIuXG4gKlxuICogQG1ldGhvZCBnZXRBdHRyaWJ1dGlvbigpOiBTdHJpbmdcbiAqIFRoaXMgb3B0aW9uYWwgbWV0aG9kIHNob3VsZCByZXR1cm4gYSBzdHJpbmcgY29udGFpbmluZyBIVE1MIHRvIGJlIHNob3duIG9uIHRoZSBgQXR0cmlidXRpb24gY29udHJvbGAgd2hlbmV2ZXIgdGhlIGxheWVyIGlzIHZpc2libGUuXG4gKlxuICogQG1ldGhvZCBiZWZvcmVBZGQobWFwOiBNYXApOiB0aGlzXG4gKiBPcHRpb25hbCBtZXRob2QuIENhbGxlZCBvbiBbYG1hcC5hZGRMYXllcihsYXllcilgXSgjbWFwLWFkZGxheWVyKSwgYmVmb3JlIHRoZSBsYXllciBpcyBhZGRlZCB0byB0aGUgbWFwLCBiZWZvcmUgZXZlbnRzIGFyZSBpbml0aWFsaXplZCwgd2l0aG91dCB3YWl0aW5nIHVudGlsIHRoZSBtYXAgaXMgaW4gYSB1c2FibGUgc3RhdGUuIFVzZSBmb3IgZWFybHkgaW5pdGlhbGl6YXRpb24gb25seS5cbiAqL1xuXG5cbi8qIEBuYW1lc3BhY2UgTWFwXG4gKiBAc2VjdGlvbiBMYXllciBldmVudHNcbiAqXG4gKiBAZXZlbnQgbGF5ZXJhZGQ6IExheWVyRXZlbnRcbiAqIEZpcmVkIHdoZW4gYSBuZXcgbGF5ZXIgaXMgYWRkZWQgdG8gdGhlIG1hcC5cbiAqXG4gKiBAZXZlbnQgbGF5ZXJyZW1vdmU6IExheWVyRXZlbnRcbiAqIEZpcmVkIHdoZW4gc29tZSBsYXllciBpcyByZW1vdmVkIGZyb20gdGhlIG1hcFxuICpcbiAqIEBzZWN0aW9uIE1ldGhvZHMgZm9yIExheWVycyBhbmQgQ29udHJvbHNcbiAqL1xuTWFwLmluY2x1ZGUoe1xuXHQvLyBAbWV0aG9kIGFkZExheWVyKGxheWVyOiBMYXllcik6IHRoaXNcblx0Ly8gQWRkcyB0aGUgZ2l2ZW4gbGF5ZXIgdG8gdGhlIG1hcFxuXHRhZGRMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0aWYgKCFsYXllci5fbGF5ZXJBZGQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVGhlIHByb3ZpZGVkIG9iamVjdCBpcyBub3QgYSBMYXllci4nKTtcblx0XHR9XG5cblx0XHR2YXIgaWQgPSBVdGlsLnN0YW1wKGxheWVyKTtcblx0XHRpZiAodGhpcy5fbGF5ZXJzW2lkXSkgeyByZXR1cm4gdGhpczsgfVxuXHRcdHRoaXMuX2xheWVyc1tpZF0gPSBsYXllcjtcblxuXHRcdGxheWVyLl9tYXBUb0FkZCA9IHRoaXM7XG5cblx0XHRpZiAobGF5ZXIuYmVmb3JlQWRkKSB7XG5cdFx0XHRsYXllci5iZWZvcmVBZGQodGhpcyk7XG5cdFx0fVxuXG5cdFx0dGhpcy53aGVuUmVhZHkobGF5ZXIuX2xheWVyQWRkLCBsYXllcik7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHJlbW92ZUxheWVyKGxheWVyOiBMYXllcik6IHRoaXNcblx0Ly8gUmVtb3ZlcyB0aGUgZ2l2ZW4gbGF5ZXIgZnJvbSB0aGUgbWFwLlxuXHRyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIGlkID0gVXRpbC5zdGFtcChsYXllcik7XG5cblx0XHRpZiAoIXRoaXMuX2xheWVyc1tpZF0pIHsgcmV0dXJuIHRoaXM7IH1cblxuXHRcdGlmICh0aGlzLl9sb2FkZWQpIHtcblx0XHRcdGxheWVyLm9uUmVtb3ZlKHRoaXMpO1xuXHRcdH1cblxuXHRcdGRlbGV0ZSB0aGlzLl9sYXllcnNbaWRdO1xuXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCkge1xuXHRcdFx0dGhpcy5maXJlKCdsYXllcnJlbW92ZScsIHtsYXllcjogbGF5ZXJ9KTtcblx0XHRcdGxheWVyLmZpcmUoJ3JlbW92ZScpO1xuXHRcdH1cblxuXHRcdGxheWVyLl9tYXAgPSBsYXllci5fbWFwVG9BZGQgPSBudWxsO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBoYXNMYXllcihsYXllcjogTGF5ZXIpOiBCb29sZWFuXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiBsYXllciBpcyBjdXJyZW50bHkgYWRkZWQgdG8gdGhlIG1hcFxuXHRoYXNMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0cmV0dXJuIFV0aWwuc3RhbXAobGF5ZXIpIGluIHRoaXMuX2xheWVycztcblx0fSxcblxuXHQvKiBAbWV0aG9kIGVhY2hMYXllcihmbjogRnVuY3Rpb24sIGNvbnRleHQ/OiBPYmplY3QpOiB0aGlzXG5cdCAqIEl0ZXJhdGVzIG92ZXIgdGhlIGxheWVycyBvZiB0aGUgbWFwLCBvcHRpb25hbGx5IHNwZWNpZnlpbmcgY29udGV4dCBvZiB0aGUgaXRlcmF0b3IgZnVuY3Rpb24uXG5cdCAqIGBgYFxuXHQgKiBtYXAuZWFjaExheWVyKGZ1bmN0aW9uKGxheWVyKXtcblx0ICogICAgIGxheWVyLmJpbmRQb3B1cCgnSGVsbG8nKTtcblx0ICogfSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0ZWFjaExheWVyOiBmdW5jdGlvbiAobWV0aG9kLCBjb250ZXh0KSB7XG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLl9sYXllcnMpIHtcblx0XHRcdG1ldGhvZC5jYWxsKGNvbnRleHQsIHRoaXMuX2xheWVyc1tpXSk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9hZGRMYXllcnM6IGZ1bmN0aW9uIChsYXllcnMpIHtcblx0XHRsYXllcnMgPSBsYXllcnMgPyAoVXRpbC5pc0FycmF5KGxheWVycykgPyBsYXllcnMgOiBbbGF5ZXJzXSkgOiBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBsYXllcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHRoaXMuYWRkTGF5ZXIobGF5ZXJzW2ldKTtcblx0XHR9XG5cdH0sXG5cblx0X2FkZFpvb21MaW1pdDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0aWYgKCFpc05hTihsYXllci5vcHRpb25zLm1heFpvb20pIHx8ICFpc05hTihsYXllci5vcHRpb25zLm1pblpvb20pKSB7XG5cdFx0XHR0aGlzLl96b29tQm91bmRMYXllcnNbVXRpbC5zdGFtcChsYXllcildID0gbGF5ZXI7XG5cdFx0XHR0aGlzLl91cGRhdGVab29tTGV2ZWxzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZW1vdmVab29tTGltaXQ6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBpZCA9IFV0aWwuc3RhbXAobGF5ZXIpO1xuXG5cdFx0aWYgKHRoaXMuX3pvb21Cb3VuZExheWVyc1tpZF0pIHtcblx0XHRcdGRlbGV0ZSB0aGlzLl96b29tQm91bmRMYXllcnNbaWRdO1xuXHRcdFx0dGhpcy5fdXBkYXRlWm9vbUxldmVscygpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlWm9vbUxldmVsczogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBtaW5ab29tID0gSW5maW5pdHksXG5cdFx0ICAgIG1heFpvb20gPSAtSW5maW5pdHksXG5cdFx0ICAgIG9sZFpvb21TcGFuID0gdGhpcy5fZ2V0Wm9vbVNwYW4oKTtcblxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fem9vbUJvdW5kTGF5ZXJzKSB7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMuX3pvb21Cb3VuZExheWVyc1tpXS5vcHRpb25zO1xuXG5cdFx0XHRtaW5ab29tID0gb3B0aW9ucy5taW5ab29tID09PSB1bmRlZmluZWQgPyBtaW5ab29tIDogTWF0aC5taW4obWluWm9vbSwgb3B0aW9ucy5taW5ab29tKTtcblx0XHRcdG1heFpvb20gPSBvcHRpb25zLm1heFpvb20gPT09IHVuZGVmaW5lZCA/IG1heFpvb20gOiBNYXRoLm1heChtYXhab29tLCBvcHRpb25zLm1heFpvb20pO1xuXHRcdH1cblxuXHRcdHRoaXMuX2xheWVyc01heFpvb20gPSBtYXhab29tID09PSAtSW5maW5pdHkgPyB1bmRlZmluZWQgOiBtYXhab29tO1xuXHRcdHRoaXMuX2xheWVyc01pblpvb20gPSBtaW5ab29tID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IG1pblpvb207XG5cblx0XHQvLyBAc2VjdGlvbiBNYXAgc3RhdGUgY2hhbmdlIGV2ZW50c1xuXHRcdC8vIEBldmVudCB6b29tbGV2ZWxzY2hhbmdlOiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG51bWJlciBvZiB6b29tbGV2ZWxzIG9uIHRoZSBtYXAgaXMgY2hhbmdlZCBkdWVcblx0XHQvLyB0byBhZGRpbmcgb3IgcmVtb3ZpbmcgYSBsYXllci5cblx0XHRpZiAob2xkWm9vbVNwYW4gIT09IHRoaXMuX2dldFpvb21TcGFuKCkpIHtcblx0XHRcdHRoaXMuZmlyZSgnem9vbWxldmVsc2NoYW5nZScpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLm9wdGlvbnMubWF4Wm9vbSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX2xheWVyc01heFpvb20gJiYgdGhpcy5nZXRab29tKCkgPiB0aGlzLl9sYXllcnNNYXhab29tKSB7XG5cdFx0XHR0aGlzLnNldFpvb20odGhpcy5fbGF5ZXJzTWF4Wm9vbSk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLm9wdGlvbnMubWluWm9vbSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX2xheWVyc01pblpvb20gJiYgdGhpcy5nZXRab29tKCkgPCB0aGlzLl9sYXllcnNNaW5ab29tKSB7XG5cdFx0XHR0aGlzLnNldFpvb20odGhpcy5fbGF5ZXJzTWluWm9vbSk7XG5cdFx0fVxuXHR9XG59KTtcbiIsICJcclxuaW1wb3J0IHtMYXllcn0gZnJvbSAnLi9MYXllcic7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBMYXllckdyb3VwXHJcbiAqIEBha2EgTC5MYXllckdyb3VwXHJcbiAqIEBpbmhlcml0cyBJbnRlcmFjdGl2ZSBsYXllclxyXG4gKlxyXG4gKiBVc2VkIHRvIGdyb3VwIHNldmVyYWwgbGF5ZXJzIGFuZCBoYW5kbGUgdGhlbSBhcyBvbmUuIElmIHlvdSBhZGQgaXQgdG8gdGhlIG1hcCxcclxuICogYW55IGxheWVycyBhZGRlZCBvciByZW1vdmVkIGZyb20gdGhlIGdyb3VwIHdpbGwgYmUgYWRkZWQvcmVtb3ZlZCBvbiB0aGUgbWFwIGFzXHJcbiAqIHdlbGwuIEV4dGVuZHMgYExheWVyYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogTC5sYXllckdyb3VwKFttYXJrZXIxLCBtYXJrZXIyXSlcclxuICogXHQuYWRkTGF5ZXIocG9seWxpbmUpXHJcbiAqIFx0LmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgTGF5ZXJHcm91cCA9IExheWVyLmV4dGVuZCh7XHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXllcnMsIG9wdGlvbnMpIHtcclxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHJcblx0XHR0aGlzLl9sYXllcnMgPSB7fTtcclxuXHJcblx0XHR2YXIgaSwgbGVuO1xyXG5cclxuXHRcdGlmIChsYXllcnMpIHtcclxuXHRcdFx0Zm9yIChpID0gMCwgbGVuID0gbGF5ZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0dGhpcy5hZGRMYXllcihsYXllcnNbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGRMYXllcihsYXllcjogTGF5ZXIpOiB0aGlzXHJcblx0Ly8gQWRkcyB0aGUgZ2l2ZW4gbGF5ZXIgdG8gdGhlIGdyb3VwLlxyXG5cdGFkZExheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdHZhciBpZCA9IHRoaXMuZ2V0TGF5ZXJJZChsYXllcik7XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJzW2lkXSA9IGxheWVyO1xyXG5cclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0dGhpcy5fbWFwLmFkZExheWVyKGxheWVyKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUxheWVyKGxheWVyOiBMYXllcik6IHRoaXNcclxuXHQvLyBSZW1vdmVzIHRoZSBnaXZlbiBsYXllciBmcm9tIHRoZSBncm91cC5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIHJlbW92ZUxheWVyKGlkOiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyB0aGUgbGF5ZXIgd2l0aCB0aGUgZ2l2ZW4gaW50ZXJuYWwgSUQgZnJvbSB0aGUgZ3JvdXAuXHJcblx0cmVtb3ZlTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0dmFyIGlkID0gbGF5ZXIgaW4gdGhpcy5fbGF5ZXJzID8gbGF5ZXIgOiB0aGlzLmdldExheWVySWQobGF5ZXIpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9tYXAgJiYgdGhpcy5fbGF5ZXJzW2lkXSkge1xyXG5cdFx0XHR0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGF5ZXJzW2lkXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBoYXNMYXllcihsYXllcjogTGF5ZXIpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGxheWVyIGlzIGN1cnJlbnRseSBhZGRlZCB0byB0aGUgZ3JvdXAuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBoYXNMYXllcihpZDogTnVtYmVyKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiBpbnRlcm5hbCBJRCBpcyBjdXJyZW50bHkgYWRkZWQgdG8gdGhlIGdyb3VwLlxyXG5cdGhhc0xheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdHZhciBsYXllcklkID0gdHlwZW9mIGxheWVyID09PSAnbnVtYmVyJyA/IGxheWVyIDogdGhpcy5nZXRMYXllcklkKGxheWVyKTtcclxuXHRcdHJldHVybiBsYXllcklkIGluIHRoaXMuX2xheWVycztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNsZWFyTGF5ZXJzKCk6IHRoaXNcclxuXHQvLyBSZW1vdmVzIGFsbCB0aGUgbGF5ZXJzIGZyb20gdGhlIGdyb3VwLlxyXG5cdGNsZWFyTGF5ZXJzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoTGF5ZXIodGhpcy5yZW1vdmVMYXllciwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpbnZva2UobWV0aG9kTmFtZTogU3RyaW5nLCDigKYpOiB0aGlzXHJcblx0Ly8gQ2FsbHMgYG1ldGhvZE5hbWVgIG9uIGV2ZXJ5IGxheWVyIGNvbnRhaW5lZCBpbiB0aGlzIGdyb3VwLCBwYXNzaW5nIGFueVxyXG5cdC8vIGFkZGl0aW9uYWwgcGFyYW1ldGVycy4gSGFzIG5vIGVmZmVjdCBpZiB0aGUgbGF5ZXJzIGNvbnRhaW5lZCBkbyBub3RcclxuXHQvLyBpbXBsZW1lbnQgYG1ldGhvZE5hbWVgLlxyXG5cdGludm9rZTogZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcclxuXHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcclxuXHRcdCAgICBpLCBsYXllcjtcclxuXHJcblx0XHRmb3IgKGkgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdGxheWVyID0gdGhpcy5fbGF5ZXJzW2ldO1xyXG5cclxuXHRcdFx0aWYgKGxheWVyW21ldGhvZE5hbWVdKSB7XHJcblx0XHRcdFx0bGF5ZXJbbWV0aG9kTmFtZV0uYXBwbHkobGF5ZXIsIGFyZ3MpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdHRoaXMuZWFjaExheWVyKG1hcC5hZGRMYXllciwgbWFwKTtcclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dGhpcy5lYWNoTGF5ZXIobWFwLnJlbW92ZUxheWVyLCBtYXApO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZWFjaExheWVyKGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuXHQvLyBJdGVyYXRlcyBvdmVyIHRoZSBsYXllcnMgb2YgdGhlIGdyb3VwLCBvcHRpb25hbGx5IHNwZWNpZnlpbmcgY29udGV4dCBvZiB0aGUgaXRlcmF0b3IgZnVuY3Rpb24uXHJcblx0Ly8gYGBganNcclxuXHQvLyBncm91cC5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0Ly8gXHRsYXllci5iaW5kUG9wdXAoJ0hlbGxvJyk7XHJcblx0Ly8gfSk7XHJcblx0Ly8gYGBgXHJcblx0ZWFjaExheWVyOiBmdW5jdGlvbiAobWV0aG9kLCBjb250ZXh0KSB7XHJcblx0XHRmb3IgKHZhciBpIGluIHRoaXMuX2xheWVycykge1xyXG5cdFx0XHRtZXRob2QuY2FsbChjb250ZXh0LCB0aGlzLl9sYXllcnNbaV0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRMYXllcihpZDogTnVtYmVyKTogTGF5ZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBsYXllciB3aXRoIHRoZSBnaXZlbiBpbnRlcm5hbCBJRC5cclxuXHRnZXRMYXllcjogZnVuY3Rpb24gKGlkKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbGF5ZXJzW2lkXTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldExheWVycygpOiBMYXllcltdXHJcblx0Ly8gUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgdGhlIGxheWVycyBhZGRlZCB0byB0aGUgZ3JvdXAuXHJcblx0Z2V0TGF5ZXJzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgbGF5ZXJzID0gW107XHJcblx0XHR0aGlzLmVhY2hMYXllcihsYXllcnMucHVzaCwgbGF5ZXJzKTtcclxuXHRcdHJldHVybiBsYXllcnM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRaSW5kZXgoekluZGV4OiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gQ2FsbHMgYHNldFpJbmRleGAgb24gZXZlcnkgbGF5ZXIgY29udGFpbmVkIGluIHRoaXMgZ3JvdXAsIHBhc3NpbmcgdGhlIHotaW5kZXguXHJcblx0c2V0WkluZGV4OiBmdW5jdGlvbiAoekluZGV4KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnZva2UoJ3NldFpJbmRleCcsIHpJbmRleCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRMYXllcklkKGxheWVyOiBMYXllcik6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIGludGVybmFsIElEIGZvciBhIGxheWVyXHJcblx0Z2V0TGF5ZXJJZDogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRyZXR1cm4gVXRpbC5zdGFtcChsYXllcik7XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLmxheWVyR3JvdXAobGF5ZXJzPzogTGF5ZXJbXSwgb3B0aW9ucz86IE9iamVjdClcclxuLy8gQ3JlYXRlIGEgbGF5ZXIgZ3JvdXAsIG9wdGlvbmFsbHkgZ2l2ZW4gYW4gaW5pdGlhbCBzZXQgb2YgbGF5ZXJzIGFuZCBhbiBgb3B0aW9uc2Agb2JqZWN0LlxyXG5leHBvcnQgdmFyIGxheWVyR3JvdXAgPSBmdW5jdGlvbiAobGF5ZXJzLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBMYXllckdyb3VwKGxheWVycywgb3B0aW9ucyk7XHJcbn07XHJcbiIsICJpbXBvcnQge0xheWVyR3JvdXB9IGZyb20gJy4vTGF5ZXJHcm91cCc7XHJcbmltcG9ydCB7TGF0TG5nQm91bmRzfSBmcm9tICcuLi9nZW8vTGF0TG5nQm91bmRzJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBGZWF0dXJlR3JvdXBcclxuICogQGFrYSBMLkZlYXR1cmVHcm91cFxyXG4gKiBAaW5oZXJpdHMgTGF5ZXJHcm91cFxyXG4gKlxyXG4gKiBFeHRlbmRlZCBgTGF5ZXJHcm91cGAgdGhhdCBtYWtlcyBpdCBlYXNpZXIgdG8gZG8gdGhlIHNhbWUgdGhpbmcgdG8gYWxsIGl0cyBtZW1iZXIgbGF5ZXJzOlxyXG4gKiAgKiBbYGJpbmRQb3B1cGBdKCNsYXllci1iaW5kcG9wdXApIGJpbmRzIGEgcG9wdXAgdG8gYWxsIG9mIHRoZSBsYXllcnMgYXQgb25jZSAobGlrZXdpc2Ugd2l0aCBbYGJpbmRUb29sdGlwYF0oI2xheWVyLWJpbmR0b29sdGlwKSlcclxuICogICogRXZlbnRzIGFyZSBwcm9wYWdhdGVkIHRvIHRoZSBgRmVhdHVyZUdyb3VwYCwgc28gaWYgdGhlIGdyb3VwIGhhcyBhbiBldmVudFxyXG4gKiBoYW5kbGVyLCBpdCB3aWxsIGhhbmRsZSBldmVudHMgZnJvbSBhbnkgb2YgdGhlIGxheWVycy4gVGhpcyBpbmNsdWRlcyBtb3VzZSBldmVudHNcclxuICogYW5kIGN1c3RvbSBldmVudHMuXHJcbiAqICAqIEhhcyBgbGF5ZXJhZGRgIGFuZCBgbGF5ZXJyZW1vdmVgIGV2ZW50c1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBMLmZlYXR1cmVHcm91cChbbWFya2VyMSwgbWFya2VyMiwgcG9seWxpbmVdKVxyXG4gKiBcdC5iaW5kUG9wdXAoJ0hlbGxvIHdvcmxkIScpXHJcbiAqIFx0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyBhbGVydCgnQ2xpY2tlZCBvbiBhIG1lbWJlciBvZiB0aGUgZ3JvdXAhJyk7IH0pXHJcbiAqIFx0LmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgRmVhdHVyZUdyb3VwID0gTGF5ZXJHcm91cC5leHRlbmQoe1xyXG5cclxuXHRhZGRMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAodGhpcy5oYXNMYXllcihsYXllcikpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0bGF5ZXIuYWRkRXZlbnRQYXJlbnQodGhpcyk7XHJcblxyXG5cdFx0TGF5ZXJHcm91cC5wcm90b3R5cGUuYWRkTGF5ZXIuY2FsbCh0aGlzLCBsYXllcik7XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGxheWVyYWRkOiBMYXllckV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGEgbGF5ZXIgaXMgYWRkZWQgdG8gdGhpcyBgRmVhdHVyZUdyb3VwYFxyXG5cdFx0cmV0dXJuIHRoaXMuZmlyZSgnbGF5ZXJhZGQnLCB7bGF5ZXI6IGxheWVyfSk7XHJcblx0fSxcclxuXHJcblx0cmVtb3ZlTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0aWYgKCF0aGlzLmhhc0xheWVyKGxheWVyKSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdGlmIChsYXllciBpbiB0aGlzLl9sYXllcnMpIHtcclxuXHRcdFx0bGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxheWVyLnJlbW92ZUV2ZW50UGFyZW50KHRoaXMpO1xyXG5cclxuXHRcdExheWVyR3JvdXAucHJvdG90eXBlLnJlbW92ZUxheWVyLmNhbGwodGhpcywgbGF5ZXIpO1xyXG5cclxuXHRcdC8vIEBldmVudCBsYXllcnJlbW92ZTogTGF5ZXJFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBhIGxheWVyIGlzIHJlbW92ZWQgZnJvbSB0aGlzIGBGZWF0dXJlR3JvdXBgXHJcblx0XHRyZXR1cm4gdGhpcy5maXJlKCdsYXllcnJlbW92ZScsIHtsYXllcjogbGF5ZXJ9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFN0eWxlKHN0eWxlOiBQYXRoIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgZ2l2ZW4gcGF0aCBvcHRpb25zIHRvIGVhY2ggbGF5ZXIgb2YgdGhlIGdyb3VwIHRoYXQgaGFzIGEgYHNldFN0eWxlYCBtZXRob2QuXHJcblx0c2V0U3R5bGU6IGZ1bmN0aW9uIChzdHlsZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW52b2tlKCdzZXRTdHlsZScsIHN0eWxlKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9Gcm9udCgpOiB0aGlzXHJcblx0Ly8gQnJpbmdzIHRoZSBsYXllciBncm91cCB0byB0aGUgdG9wIG9mIGFsbCBvdGhlciBsYXllcnNcclxuXHRicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmludm9rZSgnYnJpbmdUb0Zyb250Jyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBicmluZ1RvQmFjaygpOiB0aGlzXHJcblx0Ly8gQnJpbmdzIHRoZSBsYXllciBncm91cCB0byB0aGUgYmFjayBvZiBhbGwgb3RoZXIgbGF5ZXJzXHJcblx0YnJpbmdUb0JhY2s6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmludm9rZSgnYnJpbmdUb0JhY2snKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEJvdW5kcygpOiBMYXRMbmdCb3VuZHNcclxuXHQvLyBSZXR1cm5zIHRoZSBMYXRMbmdCb3VuZHMgb2YgdGhlIEZlYXR1cmUgR3JvdXAgKGNyZWF0ZWQgZnJvbSBib3VuZHMgYW5kIGNvb3JkaW5hdGVzIG9mIGl0cyBjaGlsZHJlbikuXHJcblx0Z2V0Qm91bmRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgYm91bmRzID0gbmV3IExhdExuZ0JvdW5kcygpO1xyXG5cclxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2xheWVycykge1xyXG5cdFx0XHR2YXIgbGF5ZXIgPSB0aGlzLl9sYXllcnNbaWRdO1xyXG5cdFx0XHRib3VuZHMuZXh0ZW5kKGxheWVyLmdldEJvdW5kcyA/IGxheWVyLmdldEJvdW5kcygpIDogbGF5ZXIuZ2V0TGF0TG5nKCkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGJvdW5kcztcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQGZhY3RvcnkgTC5mZWF0dXJlR3JvdXAobGF5ZXJzPzogTGF5ZXJbXSwgb3B0aW9ucz86IE9iamVjdClcclxuLy8gQ3JlYXRlIGEgZmVhdHVyZSBncm91cCwgb3B0aW9uYWxseSBnaXZlbiBhbiBpbml0aWFsIHNldCBvZiBsYXllcnMgYW5kIGFuIGBvcHRpb25zYCBvYmplY3QuXHJcbmV4cG9ydCB2YXIgZmVhdHVyZUdyb3VwID0gZnVuY3Rpb24gKGxheWVycywgb3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgRmVhdHVyZUdyb3VwKGxheWVycywgb3B0aW9ucyk7XHJcbn07XHJcbiIsICJpbXBvcnQge0NsYXNzfSBmcm9tICcuLi8uLi9jb3JlL0NsYXNzJztcclxuaW1wb3J0IHtzZXRPcHRpb25zfSBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge3RvUG9pbnQgYXMgcG9pbnR9IGZyb20gJy4uLy4uL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBJY29uXHJcbiAqIEBha2EgTC5JY29uXHJcbiAqXHJcbiAqIFJlcHJlc2VudHMgYW4gaWNvbiB0byBwcm92aWRlIHdoZW4gY3JlYXRpbmcgYSBtYXJrZXIuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBteUljb24gPSBMLmljb24oe1xyXG4gKiAgICAgaWNvblVybDogJ215LWljb24ucG5nJyxcclxuICogICAgIGljb25SZXRpbmFVcmw6ICdteS1pY29uQDJ4LnBuZycsXHJcbiAqICAgICBpY29uU2l6ZTogWzM4LCA5NV0sXHJcbiAqICAgICBpY29uQW5jaG9yOiBbMjIsIDk0XSxcclxuICogICAgIHBvcHVwQW5jaG9yOiBbLTMsIC03Nl0sXHJcbiAqICAgICBzaGFkb3dVcmw6ICdteS1pY29uLXNoYWRvdy5wbmcnLFxyXG4gKiAgICAgc2hhZG93UmV0aW5hVXJsOiAnbXktaWNvbi1zaGFkb3dAMngucG5nJyxcclxuICogICAgIHNoYWRvd1NpemU6IFs2OCwgOTVdLFxyXG4gKiAgICAgc2hhZG93QW5jaG9yOiBbMjIsIDk0XVxyXG4gKiB9KTtcclxuICpcclxuICogTC5tYXJrZXIoWzUwLjUwNSwgMzAuNTddLCB7aWNvbjogbXlJY29ufSkuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIGBMLkljb24uRGVmYXVsdGAgZXh0ZW5kcyBgTC5JY29uYCBhbmQgaXMgdGhlIGJsdWUgaWNvbiBMZWFmbGV0IHVzZXMgZm9yIG1hcmtlcnMgYnkgZGVmYXVsdC5cclxuICpcclxuICovXHJcblxyXG5leHBvcnQgdmFyIEljb24gPSBDbGFzcy5leHRlbmQoe1xyXG5cclxuXHQvKiBAc2VjdGlvblxyXG5cdCAqIEBha2EgSWNvbiBvcHRpb25zXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGljb25Vcmw6IFN0cmluZyA9IG51bGxcclxuXHQgKiAqKihyZXF1aXJlZCkqKiBUaGUgVVJMIHRvIHRoZSBpY29uIGltYWdlIChhYnNvbHV0ZSBvciByZWxhdGl2ZSB0byB5b3VyIHNjcmlwdCBwYXRoKS5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gaWNvblJldGluYVVybDogU3RyaW5nID0gbnVsbFxyXG5cdCAqIFRoZSBVUkwgdG8gYSByZXRpbmEgc2l6ZWQgdmVyc2lvbiBvZiB0aGUgaWNvbiBpbWFnZSAoYWJzb2x1dGUgb3IgcmVsYXRpdmUgdG8geW91clxyXG5cdCAqIHNjcmlwdCBwYXRoKS4gVXNlZCBmb3IgUmV0aW5hIHNjcmVlbiBkZXZpY2VzLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBpY29uU2l6ZTogUG9pbnQgPSBudWxsXHJcblx0ICogU2l6ZSBvZiB0aGUgaWNvbiBpbWFnZSBpbiBwaXhlbHMuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGljb25BbmNob3I6IFBvaW50ID0gbnVsbFxyXG5cdCAqIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgXCJ0aXBcIiBvZiB0aGUgaWNvbiAocmVsYXRpdmUgdG8gaXRzIHRvcCBsZWZ0IGNvcm5lcikuIFRoZSBpY29uXHJcblx0ICogd2lsbCBiZSBhbGlnbmVkIHNvIHRoYXQgdGhpcyBwb2ludCBpcyBhdCB0aGUgbWFya2VyJ3MgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLiBDZW50ZXJlZFxyXG5cdCAqIGJ5IGRlZmF1bHQgaWYgc2l6ZSBpcyBzcGVjaWZpZWQsIGFsc28gY2FuIGJlIHNldCBpbiBDU1Mgd2l0aCBuZWdhdGl2ZSBtYXJnaW5zLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBwb3B1cEFuY2hvcjogUG9pbnQgPSBbMCwgMF1cclxuXHQgKiBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvaW50IGZyb20gd2hpY2ggcG9wdXBzIHdpbGwgXCJvcGVuXCIsIHJlbGF0aXZlIHRvIHRoZSBpY29uIGFuY2hvci5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gdG9vbHRpcEFuY2hvcjogUG9pbnQgPSBbMCwgMF1cclxuXHQgKiBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvaW50IGZyb20gd2hpY2ggdG9vbHRpcHMgd2lsbCBcIm9wZW5cIiwgcmVsYXRpdmUgdG8gdGhlIGljb24gYW5jaG9yLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBzaGFkb3dVcmw6IFN0cmluZyA9IG51bGxcclxuXHQgKiBUaGUgVVJMIHRvIHRoZSBpY29uIHNoYWRvdyBpbWFnZS4gSWYgbm90IHNwZWNpZmllZCwgbm8gc2hhZG93IGltYWdlIHdpbGwgYmUgY3JlYXRlZC5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gc2hhZG93UmV0aW5hVXJsOiBTdHJpbmcgPSBudWxsXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHNoYWRvd1NpemU6IFBvaW50ID0gbnVsbFxyXG5cdCAqIFNpemUgb2YgdGhlIHNoYWRvdyBpbWFnZSBpbiBwaXhlbHMuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHNoYWRvd0FuY2hvcjogUG9pbnQgPSBudWxsXHJcblx0ICogVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBcInRpcFwiIG9mIHRoZSBzaGFkb3cgKHJlbGF0aXZlIHRvIGl0cyB0b3AgbGVmdCBjb3JuZXIpICh0aGUgc2FtZVxyXG5cdCAqIGFzIGljb25BbmNob3IgaWYgbm90IHNwZWNpZmllZCkuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gJydcclxuXHQgKiBBIGN1c3RvbSBjbGFzcyBuYW1lIHRvIGFzc2lnbiB0byBib3RoIGljb24gYW5kIHNoYWRvdyBpbWFnZXMuIEVtcHR5IGJ5IGRlZmF1bHQuXHJcblx0ICovXHJcblxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdHBvcHVwQW5jaG9yOiBbMCwgMF0sXHJcblx0XHR0b29sdGlwQW5jaG9yOiBbMCwgMF0sXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjcm9zc09yaWdpbjogQm9vbGVhbnxTdHJpbmcgPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgY3Jvc3NPcmlnaW4gYXR0cmlidXRlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHRpbGVzLlxyXG5cdFx0Ly8gSWYgYSBTdHJpbmcgaXMgcHJvdmlkZWQsIGFsbCB0aWxlcyB3aWxsIGhhdmUgdGhlaXIgY3Jvc3NPcmlnaW4gYXR0cmlidXRlIHNldCB0byB0aGUgU3RyaW5nIHByb3ZpZGVkLiBUaGlzIGlzIG5lZWRlZCBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgdGlsZSBwaXhlbCBkYXRhLlxyXG5cdFx0Ly8gUmVmZXIgdG8gW0NPUlMgU2V0dGluZ3NdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19zZXR0aW5nc19hdHRyaWJ1dGVzKSBmb3IgdmFsaWQgU3RyaW5nIHZhbHVlcy5cclxuXHRcdGNyb3NzT3JpZ2luOiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRzZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY3JlYXRlSWNvbihvbGRJY29uPzogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudFxyXG5cdC8vIENhbGxlZCBpbnRlcm5hbGx5IHdoZW4gdGhlIGljb24gaGFzIHRvIGJlIHNob3duLCByZXR1cm5zIGEgYDxpbWc+YCBIVE1MIGVsZW1lbnRcclxuXHQvLyBzdHlsZWQgYWNjb3JkaW5nIHRvIHRoZSBvcHRpb25zLlxyXG5cdGNyZWF0ZUljb246IGZ1bmN0aW9uIChvbGRJY29uKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY3JlYXRlSWNvbignaWNvbicsIG9sZEljb24pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY3JlYXRlU2hhZG93KG9sZEljb24/OiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50XHJcblx0Ly8gQXMgYGNyZWF0ZUljb25gLCBidXQgZm9yIHRoZSBzaGFkb3cgYmVuZWF0aCBpdC5cclxuXHRjcmVhdGVTaGFkb3c6IGZ1bmN0aW9uIChvbGRJY29uKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY3JlYXRlSWNvbignc2hhZG93Jywgb2xkSWNvbik7XHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZUljb246IGZ1bmN0aW9uIChuYW1lLCBvbGRJY29uKSB7XHJcblx0XHR2YXIgc3JjID0gdGhpcy5fZ2V0SWNvblVybChuYW1lKTtcclxuXHJcblx0XHRpZiAoIXNyYykge1xyXG5cdFx0XHRpZiAobmFtZSA9PT0gJ2ljb24nKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpY29uVXJsIG5vdCBzZXQgaW4gSWNvbiBvcHRpb25zIChzZWUgdGhlIGRvY3MpLicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBpbWcgPSB0aGlzLl9jcmVhdGVJbWcoc3JjLCBvbGRJY29uICYmIG9sZEljb24udGFnTmFtZSA9PT0gJ0lNRycgPyBvbGRJY29uIDogbnVsbCk7XHJcblx0XHR0aGlzLl9zZXRJY29uU3R5bGVzKGltZywgbmFtZSk7XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiB8fCB0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09ICcnKSB7XHJcblx0XHRcdGltZy5jcm9zc09yaWdpbiA9IHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICcnIDogdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpbWc7XHJcblx0fSxcclxuXHJcblx0X3NldEljb25TdHlsZXM6IGZ1bmN0aW9uIChpbWcsIG5hbWUpIHtcclxuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG5cdFx0dmFyIHNpemVPcHRpb24gPSBvcHRpb25zW25hbWUgKyAnU2l6ZSddO1xyXG5cclxuXHRcdGlmICh0eXBlb2Ygc2l6ZU9wdGlvbiA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0c2l6ZU9wdGlvbiA9IFtzaXplT3B0aW9uLCBzaXplT3B0aW9uXTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc2l6ZSA9IHBvaW50KHNpemVPcHRpb24pLFxyXG5cdFx0ICAgIGFuY2hvciA9IHBvaW50KG5hbWUgPT09ICdzaGFkb3cnICYmIG9wdGlvbnMuc2hhZG93QW5jaG9yIHx8IG9wdGlvbnMuaWNvbkFuY2hvciB8fFxyXG5cdFx0ICAgICAgICAgICAgc2l6ZSAmJiBzaXplLmRpdmlkZUJ5KDIsIHRydWUpKTtcclxuXHJcblx0XHRpbWcuY2xhc3NOYW1lID0gJ2xlYWZsZXQtbWFya2VyLScgKyBuYW1lICsgJyAnICsgKG9wdGlvbnMuY2xhc3NOYW1lIHx8ICcnKTtcclxuXHJcblx0XHRpZiAoYW5jaG9yKSB7XHJcblx0XHRcdGltZy5zdHlsZS5tYXJnaW5MZWZ0ID0gKC1hbmNob3IueCkgKyAncHgnO1xyXG5cdFx0XHRpbWcuc3R5bGUubWFyZ2luVG9wICA9ICgtYW5jaG9yLnkpICsgJ3B4JztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc2l6ZSkge1xyXG5cdFx0XHRpbWcuc3R5bGUud2lkdGggID0gc2l6ZS54ICsgJ3B4JztcclxuXHRcdFx0aW1nLnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZUltZzogZnVuY3Rpb24gKHNyYywgZWwpIHtcclxuXHRcdGVsID0gZWwgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblx0XHRlbC5zcmMgPSBzcmM7XHJcblx0XHRyZXR1cm4gZWw7XHJcblx0fSxcclxuXHJcblx0X2dldEljb25Vcmw6IGZ1bmN0aW9uIChuYW1lKSB7XHJcblx0XHRyZXR1cm4gQnJvd3Nlci5yZXRpbmEgJiYgdGhpcy5vcHRpb25zW25hbWUgKyAnUmV0aW5hVXJsJ10gfHwgdGhpcy5vcHRpb25zW25hbWUgKyAnVXJsJ107XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLmljb24ob3B0aW9uczogSWNvbiBvcHRpb25zKVxyXG4vLyBDcmVhdGVzIGFuIGljb24gaW5zdGFuY2Ugd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cclxuZXhwb3J0IGZ1bmN0aW9uIGljb24ob3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgSWNvbihvcHRpb25zKTtcclxufVxyXG4iLCAiaW1wb3J0IHtJY29ufSBmcm9tICcuL0ljb24nO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5cbi8qXG4gKiBAbWluaWNsYXNzIEljb24uRGVmYXVsdCAoSWNvbilcbiAqIEBha2EgTC5JY29uLkRlZmF1bHRcbiAqIEBzZWN0aW9uXG4gKlxuICogQSB0cml2aWFsIHN1YmNsYXNzIG9mIGBJY29uYCwgcmVwcmVzZW50cyB0aGUgaWNvbiB0byB1c2UgaW4gYE1hcmtlcmBzIHdoZW5cbiAqIG5vIGljb24gaXMgc3BlY2lmaWVkLiBQb2ludHMgdG8gdGhlIGJsdWUgbWFya2VyIGltYWdlIGRpc3RyaWJ1dGVkIHdpdGggTGVhZmxldFxuICogcmVsZWFzZXMuXG4gKlxuICogSW4gb3JkZXIgdG8gY3VzdG9taXplIHRoZSBkZWZhdWx0IGljb24sIGp1c3QgY2hhbmdlIHRoZSBwcm9wZXJ0aWVzIG9mIGBMLkljb24uRGVmYXVsdC5wcm90b3R5cGUub3B0aW9uc2BcbiAqICh3aGljaCBpcyBhIHNldCBvZiBgSWNvbiBvcHRpb25zYCkuXG4gKlxuICogSWYgeW91IHdhbnQgdG8gX2NvbXBsZXRlbHlfIHJlcGxhY2UgdGhlIGRlZmF1bHQgaWNvbiwgb3ZlcnJpZGUgdGhlXG4gKiBgTC5NYXJrZXIucHJvdG90eXBlLm9wdGlvbnMuaWNvbmAgd2l0aCB5b3VyIG93biBpY29uIGluc3RlYWQuXG4gKi9cblxuZXhwb3J0IHZhciBJY29uRGVmYXVsdCA9IEljb24uZXh0ZW5kKHtcblxuXHRvcHRpb25zOiB7XG5cdFx0aWNvblVybDogICAgICAgJ21hcmtlci1pY29uLnBuZycsXG5cdFx0aWNvblJldGluYVVybDogJ21hcmtlci1pY29uLTJ4LnBuZycsXG5cdFx0c2hhZG93VXJsOiAgICAgJ21hcmtlci1zaGFkb3cucG5nJyxcblx0XHRpY29uU2l6ZTogICAgWzI1LCA0MV0sXG5cdFx0aWNvbkFuY2hvcjogIFsxMiwgNDFdLFxuXHRcdHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcblx0XHR0b29sdGlwQW5jaG9yOiBbMTYsIC0yOF0sXG5cdFx0c2hhZG93U2l6ZTogIFs0MSwgNDFdXG5cdH0sXG5cblx0X2dldEljb25Vcmw6IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0aWYgKHR5cGVvZiBJY29uRGVmYXVsdC5pbWFnZVBhdGggIT09ICdzdHJpbmcnKSB7XHQvLyBEZXByZWNhdGVkLCBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBvbmx5XG5cdFx0XHRJY29uRGVmYXVsdC5pbWFnZVBhdGggPSB0aGlzLl9kZXRlY3RJY29uUGF0aCgpO1xuXHRcdH1cblxuXHRcdC8vIEBvcHRpb24gaW1hZ2VQYXRoOiBTdHJpbmdcblx0XHQvLyBgSWNvbi5EZWZhdWx0YCB3aWxsIHRyeSB0byBhdXRvLWRldGVjdCB0aGUgbG9jYXRpb24gb2YgdGhlXG5cdFx0Ly8gYmx1ZSBpY29uIGltYWdlcy4gSWYgeW91IGFyZSBwbGFjaW5nIHRoZXNlIGltYWdlcyBpbiBhIG5vbi1zdGFuZGFyZFxuXHRcdC8vIHdheSwgc2V0IHRoaXMgb3B0aW9uIHRvIHBvaW50IHRvIHRoZSByaWdodCBwYXRoLlxuXHRcdHJldHVybiAodGhpcy5vcHRpb25zLmltYWdlUGF0aCB8fCBJY29uRGVmYXVsdC5pbWFnZVBhdGgpICsgSWNvbi5wcm90b3R5cGUuX2dldEljb25VcmwuY2FsbCh0aGlzLCBuYW1lKTtcblx0fSxcblxuXHRfc3RyaXBVcmw6IGZ1bmN0aW9uIChwYXRoKSB7XHQvLyBzZXBhcmF0ZSBmdW5jdGlvbiB0byB1c2UgaW4gdGVzdHNcblx0XHR2YXIgc3RyaXAgPSBmdW5jdGlvbiAoc3RyLCByZSwgaWR4KSB7XG5cdFx0XHR2YXIgbWF0Y2ggPSByZS5leGVjKHN0cik7XG5cdFx0XHRyZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbaWR4XTtcblx0XHR9O1xuXHRcdHBhdGggPSBzdHJpcChwYXRoLCAvXnVybFxcKChbJ1wiXSk/KC4rKVxcMVxcKSQvLCAyKTtcblx0XHRyZXR1cm4gcGF0aCAmJiBzdHJpcChwYXRoLCAvXiguKiltYXJrZXItaWNvblxcLnBuZyQvLCAxKTtcblx0fSxcblxuXHRfZGV0ZWN0SWNvblBhdGg6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZWwgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgICdsZWFmbGV0LWRlZmF1bHQtaWNvbi1wYXRoJywgZG9jdW1lbnQuYm9keSk7XG5cdFx0dmFyIHBhdGggPSBEb21VdGlsLmdldFN0eWxlKGVsLCAnYmFja2dyb3VuZC1pbWFnZScpIHx8XG5cdFx0ICAgICAgICAgICBEb21VdGlsLmdldFN0eWxlKGVsLCAnYmFja2dyb3VuZEltYWdlJyk7XHQvLyBJRThcblxuXHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xuXHRcdHBhdGggPSB0aGlzLl9zdHJpcFVybChwYXRoKTtcblx0XHRpZiAocGF0aCkgeyByZXR1cm4gcGF0aDsgfVxuXHRcdHZhciBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGlua1tocmVmJD1cImxlYWZsZXQuY3NzXCJdJyk7XG5cdFx0aWYgKCFsaW5rKSB7IHJldHVybiAnJzsgfVxuXHRcdHJldHVybiBsaW5rLmhyZWYuc3Vic3RyaW5nKDAsIGxpbmsuaHJlZi5sZW5ndGggLSAnbGVhZmxldC5jc3MnLmxlbmd0aCAtIDEpO1xuXHR9XG59KTtcbiIsICJpbXBvcnQge0hhbmRsZXJ9IGZyb20gJy4uLy4uL2NvcmUvSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcbmltcG9ydCB7RHJhZ2dhYmxlfSBmcm9tICcuLi8uLi9kb20vRHJhZ2dhYmxlJztcbmltcG9ydCB7dG9Cb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XG5pbXBvcnQge3RvUG9pbnR9IGZyb20gJy4uLy4uL2dlb21ldHJ5L1BvaW50JztcbmltcG9ydCB7cmVxdWVzdEFuaW1GcmFtZSwgY2FuY2VsQW5pbUZyYW1lfSBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuXG4vKlxuICogTC5IYW5kbGVyLk1hcmtlckRyYWcgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IEwuTWFya2VyIHRvIG1ha2UgdGhlIG1hcmtlcnMgZHJhZ2dhYmxlLlxuICovXG5cblxuLyogQG5hbWVzcGFjZSBNYXJrZXJcbiAqIEBzZWN0aW9uIEludGVyYWN0aW9uIGhhbmRsZXJzXG4gKlxuICogSW50ZXJhY3Rpb24gaGFuZGxlcnMgYXJlIHByb3BlcnRpZXMgb2YgYSBtYXJrZXIgaW5zdGFuY2UgdGhhdCBhbGxvdyB5b3UgdG8gY29udHJvbCBpbnRlcmFjdGlvbiBiZWhhdmlvciBpbiBydW50aW1lLCBlbmFibGluZyBvciBkaXNhYmxpbmcgY2VydGFpbiBmZWF0dXJlcyBzdWNoIGFzIGRyYWdnaW5nIChzZWUgYEhhbmRsZXJgIG1ldGhvZHMpLiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBtYXJrZXIuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICogYGBgXG4gKlxuICogQHByb3BlcnR5IGRyYWdnaW5nOiBIYW5kbGVyXG4gKiBNYXJrZXIgZHJhZ2dpbmcgaGFuZGxlciAoYnkgYm90aCBtb3VzZSBhbmQgdG91Y2gpLiBPbmx5IHZhbGlkIHdoZW4gdGhlIG1hcmtlciBpcyBvbiB0aGUgbWFwIChPdGhlcndpc2Ugc2V0IFtgbWFya2VyLm9wdGlvbnMuZHJhZ2dhYmxlYF0oI21hcmtlci1kcmFnZ2FibGUpKS5cbiAqL1xuXG5leHBvcnQgdmFyIE1hcmtlckRyYWcgPSBIYW5kbGVyLmV4dGVuZCh7XG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChtYXJrZXIpIHtcblx0XHR0aGlzLl9tYXJrZXIgPSBtYXJrZXI7XG5cdH0sXG5cblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgaWNvbiA9IHRoaXMuX21hcmtlci5faWNvbjtcblxuXHRcdGlmICghdGhpcy5fZHJhZ2dhYmxlKSB7XG5cdFx0XHR0aGlzLl9kcmFnZ2FibGUgPSBuZXcgRHJhZ2dhYmxlKGljb24sIGljb24sIHRydWUpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2RyYWdnYWJsZS5vbih7XG5cdFx0XHRkcmFnc3RhcnQ6IHRoaXMuX29uRHJhZ1N0YXJ0LFxuXHRcdFx0cHJlZHJhZzogdGhpcy5fb25QcmVEcmFnLFxuXHRcdFx0ZHJhZzogdGhpcy5fb25EcmFnLFxuXHRcdFx0ZHJhZ2VuZDogdGhpcy5fb25EcmFnRW5kXG5cdFx0fSwgdGhpcykuZW5hYmxlKCk7XG5cblx0XHREb21VdGlsLmFkZENsYXNzKGljb24sICdsZWFmbGV0LW1hcmtlci1kcmFnZ2FibGUnKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2RyYWdnYWJsZS5vZmYoe1xuXHRcdFx0ZHJhZ3N0YXJ0OiB0aGlzLl9vbkRyYWdTdGFydCxcblx0XHRcdHByZWRyYWc6IHRoaXMuX29uUHJlRHJhZyxcblx0XHRcdGRyYWc6IHRoaXMuX29uRHJhZyxcblx0XHRcdGRyYWdlbmQ6IHRoaXMuX29uRHJhZ0VuZFxuXHRcdH0sIHRoaXMpLmRpc2FibGUoKTtcblxuXHRcdGlmICh0aGlzLl9tYXJrZXIuX2ljb24pIHtcblx0XHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFya2VyLl9pY29uLCAnbGVhZmxldC1tYXJrZXItZHJhZ2dhYmxlJyk7XG5cdFx0fVxuXHR9LFxuXG5cdG1vdmVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RyYWdnYWJsZSAmJiB0aGlzLl9kcmFnZ2FibGUuX21vdmVkO1xuXHR9LFxuXG5cdF9hZGp1c3RQYW46IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIG1hcmtlciA9IHRoaXMuX21hcmtlcixcblx0XHQgICAgbWFwID0gbWFya2VyLl9tYXAsXG5cdFx0ICAgIHNwZWVkID0gdGhpcy5fbWFya2VyLm9wdGlvbnMuYXV0b1BhblNwZWVkLFxuXHRcdCAgICBwYWRkaW5nID0gdGhpcy5fbWFya2VyLm9wdGlvbnMuYXV0b1BhblBhZGRpbmcsXG5cdFx0ICAgIGljb25Qb3MgPSBEb21VdGlsLmdldFBvc2l0aW9uKG1hcmtlci5faWNvbiksXG5cdFx0ICAgIGJvdW5kcyA9IG1hcC5nZXRQaXhlbEJvdW5kcygpLFxuXHRcdCAgICBvcmlnaW4gPSBtYXAuZ2V0UGl4ZWxPcmlnaW4oKTtcblxuXHRcdHZhciBwYW5Cb3VuZHMgPSB0b0JvdW5kcyhcblx0XHRcdGJvdW5kcy5taW4uX3N1YnRyYWN0KG9yaWdpbikuYWRkKHBhZGRpbmcpLFxuXHRcdFx0Ym91bmRzLm1heC5fc3VidHJhY3Qob3JpZ2luKS5zdWJ0cmFjdChwYWRkaW5nKVxuXHRcdCk7XG5cblx0XHRpZiAoIXBhbkJvdW5kcy5jb250YWlucyhpY29uUG9zKSkge1xuXHRcdFx0Ly8gQ29tcHV0ZSBpbmNyZW1lbnRhbCBtb3ZlbWVudFxuXHRcdFx0dmFyIG1vdmVtZW50ID0gdG9Qb2ludChcblx0XHRcdFx0KE1hdGgubWF4KHBhbkJvdW5kcy5tYXgueCwgaWNvblBvcy54KSAtIHBhbkJvdW5kcy5tYXgueCkgLyAoYm91bmRzLm1heC54IC0gcGFuQm91bmRzLm1heC54KSAtXG5cdFx0XHRcdChNYXRoLm1pbihwYW5Cb3VuZHMubWluLngsIGljb25Qb3MueCkgLSBwYW5Cb3VuZHMubWluLngpIC8gKGJvdW5kcy5taW4ueCAtIHBhbkJvdW5kcy5taW4ueCksXG5cblx0XHRcdFx0KE1hdGgubWF4KHBhbkJvdW5kcy5tYXgueSwgaWNvblBvcy55KSAtIHBhbkJvdW5kcy5tYXgueSkgLyAoYm91bmRzLm1heC55IC0gcGFuQm91bmRzLm1heC55KSAtXG5cdFx0XHRcdChNYXRoLm1pbihwYW5Cb3VuZHMubWluLnksIGljb25Qb3MueSkgLSBwYW5Cb3VuZHMubWluLnkpIC8gKGJvdW5kcy5taW4ueSAtIHBhbkJvdW5kcy5taW4ueSlcblx0XHRcdCkubXVsdGlwbHlCeShzcGVlZCk7XG5cblx0XHRcdG1hcC5wYW5CeShtb3ZlbWVudCwge2FuaW1hdGU6IGZhbHNlfSk7XG5cblx0XHRcdHRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLl9hZGQobW92ZW1lbnQpO1xuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlLl9zdGFydFBvcy5fYWRkKG1vdmVtZW50KTtcblxuXHRcdFx0RG9tVXRpbC5zZXRQb3NpdGlvbihtYXJrZXIuX2ljb24sIHRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zKTtcblx0XHRcdHRoaXMuX29uRHJhZyhlKTtcblxuXHRcdFx0dGhpcy5fcGFuUmVxdWVzdCA9IHJlcXVlc3RBbmltRnJhbWUodGhpcy5fYWRqdXN0UGFuLmJpbmQodGhpcywgZSkpO1xuXHRcdH1cblx0fSxcblxuXHRfb25EcmFnU3RhcnQ6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBAc2VjdGlvbiBEcmFnZ2luZyBldmVudHNcblx0XHQvLyBAZXZlbnQgZHJhZ3N0YXJ0OiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgc3RhcnRzIGRyYWdnaW5nIHRoZSBtYXJrZXIuXG5cblx0XHQvLyBAZXZlbnQgbW92ZXN0YXJ0OiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcmtlciBzdGFydHMgbW92aW5nIChiZWNhdXNlIG9mIGRyYWdnaW5nKS5cblxuXHRcdHRoaXMuX29sZExhdExuZyA9IHRoaXMuX21hcmtlci5nZXRMYXRMbmcoKTtcblxuXHRcdC8vIFdoZW4gdXNpbmcgRVM2IGltcG9ydHMgaXQgY291bGQgbm90IGJlIHNldCB3aGVuIGBQb3B1cGAgd2FzIG5vdCBpbXBvcnRlZCBhcyB3ZWxsXG5cdFx0dGhpcy5fbWFya2VyLmNsb3NlUG9wdXAgJiYgdGhpcy5fbWFya2VyLmNsb3NlUG9wdXAoKTtcblxuXHRcdHRoaXMuX21hcmtlclxuXHRcdFx0LmZpcmUoJ21vdmVzdGFydCcpXG5cdFx0XHQuZmlyZSgnZHJhZ3N0YXJ0Jyk7XG5cdH0sXG5cblx0X29uUHJlRHJhZzogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAodGhpcy5fbWFya2VyLm9wdGlvbnMuYXV0b1Bhbikge1xuXHRcdFx0Y2FuY2VsQW5pbUZyYW1lKHRoaXMuX3BhblJlcXVlc3QpO1xuXHRcdFx0dGhpcy5fcGFuUmVxdWVzdCA9IHJlcXVlc3RBbmltRnJhbWUodGhpcy5fYWRqdXN0UGFuLmJpbmQodGhpcywgZSkpO1xuXHRcdH1cblx0fSxcblxuXHRfb25EcmFnOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBtYXJrZXIgPSB0aGlzLl9tYXJrZXIsXG5cdFx0ICAgIHNoYWRvdyA9IG1hcmtlci5fc2hhZG93LFxuXHRcdCAgICBpY29uUG9zID0gRG9tVXRpbC5nZXRQb3NpdGlvbihtYXJrZXIuX2ljb24pLFxuXHRcdCAgICBsYXRsbmcgPSBtYXJrZXIuX21hcC5sYXllclBvaW50VG9MYXRMbmcoaWNvblBvcyk7XG5cblx0XHQvLyB1cGRhdGUgc2hhZG93IHBvc2l0aW9uXG5cdFx0aWYgKHNoYWRvdykge1xuXHRcdFx0RG9tVXRpbC5zZXRQb3NpdGlvbihzaGFkb3csIGljb25Qb3MpO1xuXHRcdH1cblxuXHRcdG1hcmtlci5fbGF0bG5nID0gbGF0bG5nO1xuXHRcdGUubGF0bG5nID0gbGF0bG5nO1xuXHRcdGUub2xkTGF0TG5nID0gdGhpcy5fb2xkTGF0TG5nO1xuXG5cdFx0Ly8gQGV2ZW50IGRyYWc6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgcmVwZWF0ZWRseSB3aGlsZSB0aGUgdXNlciBkcmFncyB0aGUgbWFya2VyLlxuXHRcdG1hcmtlclxuXHRcdCAgICAuZmlyZSgnbW92ZScsIGUpXG5cdFx0ICAgIC5maXJlKCdkcmFnJywgZSk7XG5cdH0sXG5cblx0X29uRHJhZ0VuZDogZnVuY3Rpb24gKGUpIHtcblx0XHQvLyBAZXZlbnQgZHJhZ2VuZDogRHJhZ0VuZEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBzdG9wcyBkcmFnZ2luZyB0aGUgbWFya2VyLlxuXG5cdFx0IGNhbmNlbEFuaW1GcmFtZSh0aGlzLl9wYW5SZXF1ZXN0KTtcblxuXHRcdC8vIEBldmVudCBtb3ZlZW5kOiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcmtlciBzdG9wcyBtb3ZpbmcgKGJlY2F1c2Ugb2YgZHJhZ2dpbmcpLlxuXHRcdGRlbGV0ZSB0aGlzLl9vbGRMYXRMbmc7XG5cdFx0dGhpcy5fbWFya2VyXG5cdFx0ICAgIC5maXJlKCdtb3ZlZW5kJylcblx0XHQgICAgLmZpcmUoJ2RyYWdlbmQnLCBlKTtcblx0fVxufSk7XG4iLCAiaW1wb3J0IHtMYXllcn0gZnJvbSAnLi4vTGF5ZXInO1xyXG5pbXBvcnQge0ljb25EZWZhdWx0fSBmcm9tICcuL0ljb24uRGVmYXVsdCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcclxuaW1wb3J0IHt0b0xhdExuZyBhcyBsYXRMbmd9IGZyb20gJy4uLy4uL2dlby9MYXRMbmcnO1xyXG5pbXBvcnQge3RvUG9pbnQgYXMgcG9pbnR9IGZyb20gJy4uLy4uL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XHJcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uLy4uL2RvbS9Eb21FdmVudCc7XHJcbmltcG9ydCB7TWFya2VyRHJhZ30gZnJvbSAnLi9NYXJrZXIuRHJhZyc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgTWFya2VyXHJcbiAqIEBpbmhlcml0cyBJbnRlcmFjdGl2ZSBsYXllclxyXG4gKiBAYWthIEwuTWFya2VyXHJcbiAqIEwuTWFya2VyIGlzIHVzZWQgdG8gZGlzcGxheSBjbGlja2FibGUvZHJhZ2dhYmxlIGljb25zIG9uIHRoZSBtYXAuIEV4dGVuZHMgYExheWVyYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogTC5tYXJrZXIoWzUwLjUsIDMwLjVdKS5hZGRUbyhtYXApO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5leHBvcnQgdmFyIE1hcmtlciA9IExheWVyLmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBNYXJrZXIgb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gaWNvbjogSWNvbiA9ICpcclxuXHRcdC8vIEljb24gaW5zdGFuY2UgdG8gdXNlIGZvciByZW5kZXJpbmcgdGhlIG1hcmtlci5cclxuXHRcdC8vIFNlZSBbSWNvbiBkb2N1bWVudGF0aW9uXSgjTC5JY29uKSBmb3IgZGV0YWlscyBvbiBob3cgdG8gY3VzdG9taXplIHRoZSBtYXJrZXIgaWNvbi5cclxuXHRcdC8vIElmIG5vdCBzcGVjaWZpZWQsIGEgY29tbW9uIGluc3RhbmNlIG9mIGBMLkljb24uRGVmYXVsdGAgaXMgdXNlZC5cclxuXHRcdGljb246IG5ldyBJY29uRGVmYXVsdCgpLFxyXG5cclxuXHRcdC8vIE9wdGlvbiBpbmhlcml0ZWQgZnJvbSBcIkludGVyYWN0aXZlIGxheWVyXCIgYWJzdHJhY3QgY2xhc3NcclxuXHRcdGludGVyYWN0aXZlOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24ga2V5Ym9hcmQ6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSBtYXJrZXIgY2FuIGJlIHRhYmJlZCB0byB3aXRoIGEga2V5Ym9hcmQgYW5kIGNsaWNrZWQgYnkgcHJlc3NpbmcgZW50ZXIuXHJcblx0XHRrZXlib2FyZDogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHRpdGxlOiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gVGV4dCBmb3IgdGhlIGJyb3dzZXIgdG9vbHRpcCB0aGF0IGFwcGVhciBvbiBtYXJrZXIgaG92ZXIgKG5vIHRvb2x0aXAgYnkgZGVmYXVsdCkuXHJcblx0XHQvLyBbVXNlZnVsIGZvciBhY2Nlc3NpYmlsaXR5XShodHRwczovL2xlYWZsZXRqcy5jb20vZXhhbXBsZXMvYWNjZXNzaWJpbGl0eS8jbWFya2Vycy1tdXN0LWJlLWxhYmVsbGVkKS5cclxuXHRcdHRpdGxlOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGFsdDogU3RyaW5nID0gJ01hcmtlcidcclxuXHRcdC8vIFRleHQgZm9yIHRoZSBgYWx0YCBhdHRyaWJ1dGUgb2YgdGhlIGljb24gaW1hZ2UuXHJcblx0XHQvLyBbVXNlZnVsIGZvciBhY2Nlc3NpYmlsaXR5XShodHRwczovL2xlYWZsZXRqcy5jb20vZXhhbXBsZXMvYWNjZXNzaWJpbGl0eS8jbWFya2Vycy1tdXN0LWJlLWxhYmVsbGVkKS5cclxuXHRcdGFsdDogJ01hcmtlcicsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6SW5kZXhPZmZzZXQ6IE51bWJlciA9IDBcclxuXHRcdC8vIEJ5IGRlZmF1bHQsIG1hcmtlciBpbWFnZXMgekluZGV4IGlzIHNldCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIGl0cyBsYXRpdHVkZS4gVXNlIHRoaXMgb3B0aW9uIGlmIHlvdSB3YW50IHRvIHB1dCB0aGUgbWFya2VyIG9uIHRvcCBvZiBhbGwgb3RoZXJzIChvciBiZWxvdyksIHNwZWNpZnlpbmcgYSBoaWdoIHZhbHVlIGxpa2UgYDEwMDBgIChvciBoaWdoIG5lZ2F0aXZlIHZhbHVlLCByZXNwZWN0aXZlbHkpLlxyXG5cdFx0ekluZGV4T2Zmc2V0OiAwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gb3BhY2l0eTogTnVtYmVyID0gMS4wXHJcblx0XHQvLyBUaGUgb3BhY2l0eSBvZiB0aGUgbWFya2VyLlxyXG5cdFx0b3BhY2l0eTogMSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHJpc2VPbkhvdmVyOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIGB0cnVlYCwgdGhlIG1hcmtlciB3aWxsIGdldCBvbiB0b3Agb2Ygb3RoZXJzIHdoZW4geW91IGhvdmVyIHRoZSBtb3VzZSBvdmVyIGl0LlxyXG5cdFx0cmlzZU9uSG92ZXI6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gcmlzZU9mZnNldDogTnVtYmVyID0gMjUwXHJcblx0XHQvLyBUaGUgei1pbmRleCBvZmZzZXQgdXNlZCBmb3IgdGhlIGByaXNlT25Ib3ZlcmAgZmVhdHVyZS5cclxuXHRcdHJpc2VPZmZzZXQ6IDI1MCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHBhbmU6IFN0cmluZyA9ICdtYXJrZXJQYW5lJ1xyXG5cdFx0Ly8gYE1hcCBwYW5lYCB3aGVyZSB0aGUgbWFya2VycyBpY29uIHdpbGwgYmUgYWRkZWQuXHJcblx0XHRwYW5lOiAnbWFya2VyUGFuZScsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBzaGFkb3dQYW5lOiBTdHJpbmcgPSAnc2hhZG93UGFuZSdcclxuXHRcdC8vIGBNYXAgcGFuZWAgd2hlcmUgdGhlIG1hcmtlcnMgc2hhZG93IHdpbGwgYmUgYWRkZWQuXHJcblx0XHRzaGFkb3dQYW5lOiAnc2hhZG93UGFuZScsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBidWJibGluZ01vdXNlRXZlbnRzOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFdoZW4gYHRydWVgLCBhIG1vdXNlIGV2ZW50IG9uIHRoaXMgbWFya2VyIHdpbGwgdHJpZ2dlciB0aGUgc2FtZSBldmVudCBvbiB0aGUgbWFwXHJcblx0XHQvLyAodW5sZXNzIFtgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb25gXSgjZG9tZXZlbnQtc3RvcHByb3BhZ2F0aW9uKSBpcyB1c2VkKS5cclxuXHRcdGJ1YmJsaW5nTW91c2VFdmVudHM6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1Bhbk9uRm9jdXM6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGVuIGB0cnVlYCwgdGhlIG1hcCB3aWxsIHBhbiB3aGVuZXZlciB0aGUgbWFya2VyIGlzIGZvY3VzZWQgKHZpYVxyXG5cdFx0Ly8gZS5nLiBwcmVzc2luZyBgdGFiYCBvbiB0aGUga2V5Ym9hcmQpIHRvIGVuc3VyZSB0aGUgbWFya2VyIGlzXHJcblx0XHQvLyB2aXNpYmxlIHdpdGhpbiB0aGUgbWFwJ3MgYm91bmRzXHJcblx0XHRhdXRvUGFuT25Gb2N1czogdHJ1ZSxcclxuXHJcblx0XHQvLyBAc2VjdGlvbiBEcmFnZ2FibGUgbWFya2VyIG9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gZHJhZ2dhYmxlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFdoZXRoZXIgdGhlIG1hcmtlciBpcyBkcmFnZ2FibGUgd2l0aCBtb3VzZS90b3VjaCBvciBub3QuXHJcblx0XHRkcmFnZ2FibGU6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1BhbjogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBXaGV0aGVyIHRvIHBhbiB0aGUgbWFwIHdoZW4gZHJhZ2dpbmcgdGhpcyBtYXJrZXIgbmVhciBpdHMgZWRnZSBvciBub3QuXHJcblx0XHRhdXRvUGFuOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nOiBQb2ludCA9IFBvaW50KDUwLCA1MClcclxuXHRcdC8vIERpc3RhbmNlIChpbiBwaXhlbHMgdG8gdGhlIGxlZnQvcmlnaHQgYW5kIHRvIHRoZSB0b3AvYm90dG9tKSBvZiB0aGVcclxuXHRcdC8vIG1hcCBlZGdlIHRvIHN0YXJ0IHBhbm5pbmcgdGhlIG1hcC5cclxuXHRcdGF1dG9QYW5QYWRkaW5nOiBbNTAsIDUwXSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5TcGVlZDogTnVtYmVyID0gMTBcclxuXHRcdC8vIE51bWJlciBvZiBwaXhlbHMgdGhlIG1hcCBzaG91bGQgcGFuIGJ5LlxyXG5cdFx0YXV0b1BhblNwZWVkOiAxMFxyXG5cdH0sXHJcblxyXG5cdC8qIEBzZWN0aW9uXHJcblx0ICpcclxuXHQgKiBJbiBhZGRpdGlvbiB0byBbc2hhcmVkIGxheWVyIG1ldGhvZHNdKCNMYXllcikgbGlrZSBgYWRkVG8oKWAgYW5kIGByZW1vdmUoKWAgYW5kIFtwb3B1cCBtZXRob2RzXSgjUG9wdXApIGxpa2UgYmluZFBvcHVwKCkgeW91IGNhbiBhbHNvIHVzZSB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XHJcblx0ICovXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmcsIG9wdGlvbnMpIHtcclxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHRcdHRoaXMuX2xhdGxuZyA9IGxhdExuZyhsYXRsbmcpO1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHR0aGlzLl96b29tQW5pbWF0ZWQgPSB0aGlzLl96b29tQW5pbWF0ZWQgJiYgbWFwLm9wdGlvbnMubWFya2VyWm9vbUFuaW1hdGlvbjtcclxuXHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdG1hcC5vbignem9vbWFuaW0nLCB0aGlzLl9hbmltYXRlWm9vbSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faW5pdEljb24oKTtcclxuXHRcdHRoaXMudXBkYXRlKCk7XHJcblx0fSxcclxuXHJcblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdGlmICh0aGlzLmRyYWdnaW5nICYmIHRoaXMuZHJhZ2dpbmcuZW5hYmxlZCgpKSB7XHJcblx0XHRcdHRoaXMub3B0aW9ucy5kcmFnZ2FibGUgPSB0cnVlO1xyXG5cdFx0XHR0aGlzLmRyYWdnaW5nLnJlbW92ZUhvb2tzKCk7XHJcblx0XHR9XHJcblx0XHRkZWxldGUgdGhpcy5kcmFnZ2luZztcclxuXHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdG1hcC5vZmYoJ3pvb21hbmltJywgdGhpcy5fYW5pbWF0ZVpvb20sIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3JlbW92ZUljb24oKTtcclxuXHRcdHRoaXMuX3JlbW92ZVNoYWRvdygpO1xyXG5cdH0sXHJcblxyXG5cdGdldEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0em9vbTogdGhpcy51cGRhdGUsXHJcblx0XHRcdHZpZXdyZXNldDogdGhpcy51cGRhdGVcclxuXHRcdH07XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRMYXRMbmc6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgZ2VvZ3JhcGhpY2FsIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIuXHJcblx0Z2V0TGF0TG5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbGF0bG5nO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0TGF0TG5nKGxhdGxuZzogTGF0TG5nKTogdGhpc1xyXG5cdC8vIENoYW5nZXMgdGhlIG1hcmtlciBwb3NpdGlvbiB0byB0aGUgZ2l2ZW4gcG9pbnQuXHJcblx0c2V0TGF0TG5nOiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHR2YXIgb2xkTGF0TG5nID0gdGhpcy5fbGF0bG5nO1xyXG5cdFx0dGhpcy5fbGF0bG5nID0gbGF0TG5nKGxhdGxuZyk7XHJcblx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cclxuXHRcdC8vIEBldmVudCBtb3ZlOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFya2VyIGlzIG1vdmVkIHZpYSBbYHNldExhdExuZ2BdKCNtYXJrZXItc2V0bGF0bG5nKSBvciBieSBbZHJhZ2dpbmddKCNtYXJrZXItZHJhZ2dpbmcpLiBPbGQgYW5kIG5ldyBjb29yZGluYXRlcyBhcmUgaW5jbHVkZWQgaW4gZXZlbnQgYXJndW1lbnRzIGFzIGBvbGRMYXRMbmdgLCBgbGF0bG5nYC5cclxuXHRcdHJldHVybiB0aGlzLmZpcmUoJ21vdmUnLCB7b2xkTGF0TG5nOiBvbGRMYXRMbmcsIGxhdGxuZzogdGhpcy5fbGF0bG5nfSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRaSW5kZXhPZmZzZXQob2Zmc2V0OiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gQ2hhbmdlcyB0aGUgW3pJbmRleCBvZmZzZXRdKCNtYXJrZXItemluZGV4b2Zmc2V0KSBvZiB0aGUgbWFya2VyLlxyXG5cdHNldFpJbmRleE9mZnNldDogZnVuY3Rpb24gKG9mZnNldCkge1xyXG5cdFx0dGhpcy5vcHRpb25zLnpJbmRleE9mZnNldCA9IG9mZnNldDtcclxuXHRcdHJldHVybiB0aGlzLnVwZGF0ZSgpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0SWNvbjogSWNvblxyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgaWNvbiB1c2VkIGJ5IHRoZSBtYXJrZXJcclxuXHRnZXRJY29uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmljb247XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRJY29uKGljb246IEljb24pOiB0aGlzXHJcblx0Ly8gQ2hhbmdlcyB0aGUgbWFya2VyIGljb24uXHJcblx0c2V0SWNvbjogZnVuY3Rpb24gKGljb24pIHtcclxuXHJcblx0XHR0aGlzLm9wdGlvbnMuaWNvbiA9IGljb247XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl9pbml0SWNvbigpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9wb3B1cCkge1xyXG5cdFx0XHR0aGlzLmJpbmRQb3B1cCh0aGlzLl9wb3B1cCwgdGhpcy5fcG9wdXAub3B0aW9ucyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Z2V0RWxlbWVudDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2ljb247XHJcblx0fSxcclxuXHJcblx0dXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2ljb24gJiYgdGhpcy5fbWFwKSB7XHJcblx0XHRcdHZhciBwb3MgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZykucm91bmQoKTtcclxuXHRcdFx0dGhpcy5fc2V0UG9zKHBvcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X2luaXRJY29uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcclxuXHRcdCAgICBjbGFzc1RvQWRkID0gJ2xlYWZsZXQtem9vbS0nICsgKHRoaXMuX3pvb21BbmltYXRlZCA/ICdhbmltYXRlZCcgOiAnaGlkZScpO1xyXG5cclxuXHRcdHZhciBpY29uID0gb3B0aW9ucy5pY29uLmNyZWF0ZUljb24odGhpcy5faWNvbiksXHJcblx0XHQgICAgYWRkSWNvbiA9IGZhbHNlO1xyXG5cclxuXHRcdC8vIGlmIHdlJ3JlIG5vdCByZXVzaW5nIHRoZSBpY29uLCByZW1vdmUgdGhlIG9sZCBvbmUgYW5kIGluaXQgbmV3IG9uZVxyXG5cdFx0aWYgKGljb24gIT09IHRoaXMuX2ljb24pIHtcclxuXHRcdFx0aWYgKHRoaXMuX2ljb24pIHtcclxuXHRcdFx0XHR0aGlzLl9yZW1vdmVJY29uKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0YWRkSWNvbiA9IHRydWU7XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy50aXRsZSkge1xyXG5cdFx0XHRcdGljb24udGl0bGUgPSBvcHRpb25zLnRpdGxlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoaWNvbi50YWdOYW1lID09PSAnSU1HJykge1xyXG5cdFx0XHRcdGljb24uYWx0ID0gb3B0aW9ucy5hbHQgfHwgJyc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHREb21VdGlsLmFkZENsYXNzKGljb24sIGNsYXNzVG9BZGQpO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLmtleWJvYXJkKSB7XHJcblx0XHRcdGljb24udGFiSW5kZXggPSAnMCc7XHJcblx0XHRcdGljb24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2ljb24gPSBpY29uO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLnJpc2VPbkhvdmVyKSB7XHJcblx0XHRcdHRoaXMub24oe1xyXG5cdFx0XHRcdG1vdXNlb3ZlcjogdGhpcy5fYnJpbmdUb0Zyb250LFxyXG5cdFx0XHRcdG1vdXNlb3V0OiB0aGlzLl9yZXNldFpJbmRleFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmF1dG9QYW5PbkZvY3VzKSB7XHJcblx0XHRcdERvbUV2ZW50Lm9uKGljb24sICdmb2N1cycsIHRoaXMuX3Bhbk9uRm9jdXMsIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBuZXdTaGFkb3cgPSBvcHRpb25zLmljb24uY3JlYXRlU2hhZG93KHRoaXMuX3NoYWRvdyksXHJcblx0XHQgICAgYWRkU2hhZG93ID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKG5ld1NoYWRvdyAhPT0gdGhpcy5fc2hhZG93KSB7XHJcblx0XHRcdHRoaXMuX3JlbW92ZVNoYWRvdygpO1xyXG5cdFx0XHRhZGRTaGFkb3cgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChuZXdTaGFkb3cpIHtcclxuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyhuZXdTaGFkb3csIGNsYXNzVG9BZGQpO1xyXG5cdFx0XHRuZXdTaGFkb3cuYWx0ID0gJyc7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9zaGFkb3cgPSBuZXdTaGFkb3c7XHJcblxyXG5cclxuXHRcdGlmIChvcHRpb25zLm9wYWNpdHkgPCAxKSB7XHJcblx0XHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0aWYgKGFkZEljb24pIHtcclxuXHRcdFx0dGhpcy5nZXRQYW5lKCkuYXBwZW5kQ2hpbGQodGhpcy5faWNvbik7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9pbml0SW50ZXJhY3Rpb24oKTtcclxuXHRcdGlmIChuZXdTaGFkb3cgJiYgYWRkU2hhZG93KSB7XHJcblx0XHRcdHRoaXMuZ2V0UGFuZShvcHRpb25zLnNoYWRvd1BhbmUpLmFwcGVuZENoaWxkKHRoaXMuX3NoYWRvdyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3JlbW92ZUljb246IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLm9wdGlvbnMucmlzZU9uSG92ZXIpIHtcclxuXHRcdFx0dGhpcy5vZmYoe1xyXG5cdFx0XHRcdG1vdXNlb3ZlcjogdGhpcy5fYnJpbmdUb0Zyb250LFxyXG5cdFx0XHRcdG1vdXNlb3V0OiB0aGlzLl9yZXNldFpJbmRleFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmF1dG9QYW5PbkZvY3VzKSB7XHJcblx0XHRcdERvbUV2ZW50Lm9mZih0aGlzLl9pY29uLCAnZm9jdXMnLCB0aGlzLl9wYW5PbkZvY3VzLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9pY29uKTtcclxuXHRcdHRoaXMucmVtb3ZlSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5faWNvbik7XHJcblxyXG5cdFx0dGhpcy5faWNvbiA9IG51bGw7XHJcblx0fSxcclxuXHJcblx0X3JlbW92ZVNoYWRvdzogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX3NoYWRvdykge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9zaGFkb3cpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fc2hhZG93ID0gbnVsbDtcclxuXHR9LFxyXG5cclxuXHRfc2V0UG9zOiBmdW5jdGlvbiAocG9zKSB7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2ljb24pIHtcclxuXHRcdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9pY29uLCBwb3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9zaGFkb3cpIHtcclxuXHRcdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9zaGFkb3csIHBvcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fekluZGV4ID0gcG9zLnkgKyB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0O1xyXG5cclxuXHRcdHRoaXMuX3Jlc2V0WkluZGV4KCk7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZVpJbmRleDogZnVuY3Rpb24gKG9mZnNldCkge1xyXG5cdFx0aWYgKHRoaXMuX2ljb24pIHtcclxuXHRcdFx0dGhpcy5faWNvbi5zdHlsZS56SW5kZXggPSB0aGlzLl96SW5kZXggKyBvZmZzZXQ7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2FuaW1hdGVab29tOiBmdW5jdGlvbiAob3B0KSB7XHJcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLCBvcHQuem9vbSwgb3B0LmNlbnRlcikucm91bmQoKTtcclxuXHJcblx0XHR0aGlzLl9zZXRQb3MocG9zKTtcclxuXHR9LFxyXG5cclxuXHRfaW5pdEludGVyYWN0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9pY29uLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xyXG5cclxuXHRcdHRoaXMuYWRkSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5faWNvbik7XHJcblxyXG5cdFx0aWYgKE1hcmtlckRyYWcpIHtcclxuXHRcdFx0dmFyIGRyYWdnYWJsZSA9IHRoaXMub3B0aW9ucy5kcmFnZ2FibGU7XHJcblx0XHRcdGlmICh0aGlzLmRyYWdnaW5nKSB7XHJcblx0XHRcdFx0ZHJhZ2dhYmxlID0gdGhpcy5kcmFnZ2luZy5lbmFibGVkKCk7XHJcblx0XHRcdFx0dGhpcy5kcmFnZ2luZy5kaXNhYmxlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuZHJhZ2dpbmcgPSBuZXcgTWFya2VyRHJhZyh0aGlzKTtcclxuXHJcblx0XHRcdGlmIChkcmFnZ2FibGUpIHtcclxuXHRcdFx0XHR0aGlzLmRyYWdnaW5nLmVuYWJsZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRPcGFjaXR5KG9wYWNpdHk6IE51bWJlcik6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHRoZSBvcGFjaXR5IG9mIHRoZSBtYXJrZXIuXHJcblx0c2V0T3BhY2l0eTogZnVuY3Rpb24gKG9wYWNpdHkpIHtcclxuXHRcdHRoaXMub3B0aW9ucy5vcGFjaXR5ID0gb3BhY2l0eTtcclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlT3BhY2l0eSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVPcGFjaXR5OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgb3BhY2l0eSA9IHRoaXMub3B0aW9ucy5vcGFjaXR5O1xyXG5cclxuXHRcdGlmICh0aGlzLl9pY29uKSB7XHJcblx0XHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9pY29uLCBvcGFjaXR5KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5fc2hhZG93KSB7XHJcblx0XHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9zaGFkb3csIG9wYWNpdHkpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9icmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX3VwZGF0ZVpJbmRleCh0aGlzLm9wdGlvbnMucmlzZU9mZnNldCk7XHJcblx0fSxcclxuXHJcblx0X3Jlc2V0WkluZGV4OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLl91cGRhdGVaSW5kZXgoMCk7XHJcblx0fSxcclxuXHJcblx0X3Bhbk9uRm9jdXM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXA7XHJcblx0XHRpZiAoIW1hcCkgeyByZXR1cm47IH1cclxuXHJcblx0XHR2YXIgaWNvbk9wdHMgPSB0aGlzLm9wdGlvbnMuaWNvbi5vcHRpb25zO1xyXG5cdFx0dmFyIHNpemUgPSBpY29uT3B0cy5pY29uU2l6ZSA/IHBvaW50KGljb25PcHRzLmljb25TaXplKSA6IHBvaW50KDAsIDApO1xyXG5cdFx0dmFyIGFuY2hvciA9IGljb25PcHRzLmljb25BbmNob3IgPyBwb2ludChpY29uT3B0cy5pY29uQW5jaG9yKSA6IHBvaW50KDAsIDApO1xyXG5cclxuXHRcdG1hcC5wYW5JbnNpZGUodGhpcy5fbGF0bG5nLCB7XHJcblx0XHRcdHBhZGRpbmdUb3BMZWZ0OiBhbmNob3IsXHJcblx0XHRcdHBhZGRpbmdCb3R0b21SaWdodDogc2l6ZS5zdWJ0cmFjdChhbmNob3IpXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0UG9wdXBBbmNob3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaWNvbi5vcHRpb25zLnBvcHVwQW5jaG9yO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRUb29sdGlwQW5jaG9yOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmljb24ub3B0aW9ucy50b29sdGlwQW5jaG9yO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gZmFjdG9yeSBMLm1hcmtlcihsYXRsbmc6IExhdExuZywgb3B0aW9ucz8gOiBNYXJrZXIgb3B0aW9ucylcclxuXHJcbi8vIEBmYWN0b3J5IEwubWFya2VyKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPyA6IE1hcmtlciBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBNYXJrZXIgb2JqZWN0IGdpdmVuIGEgZ2VvZ3JhcGhpY2FsIHBvaW50IGFuZCBvcHRpb25hbGx5IGFuIG9wdGlvbnMgb2JqZWN0LlxyXG5leHBvcnQgZnVuY3Rpb24gbWFya2VyKGxhdGxuZywgb3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgTWFya2VyKGxhdGxuZywgb3B0aW9ucyk7XHJcbn1cclxuIiwgImltcG9ydCB7TGF5ZXJ9IGZyb20gJy4uL0xheWVyJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcblxuLypcbiAqIEBjbGFzcyBQYXRoXG4gKiBAYWthIEwuUGF0aFxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXG4gKlxuICogQW4gYWJzdHJhY3QgY2xhc3MgdGhhdCBjb250YWlucyBvcHRpb25zIGFuZCBjb25zdGFudHMgc2hhcmVkIGJldHdlZW4gdmVjdG9yXG4gKiBvdmVybGF5cyAoUG9seWdvbiwgUG9seWxpbmUsIENpcmNsZSkuIERvIG5vdCB1c2UgaXQgZGlyZWN0bHkuIEV4dGVuZHMgYExheWVyYC5cbiAqL1xuXG5leHBvcnQgdmFyIFBhdGggPSBMYXllci5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgUGF0aCBvcHRpb25zXG5cdG9wdGlvbnM6IHtcblx0XHQvLyBAb3B0aW9uIHN0cm9rZTogQm9vbGVhbiA9IHRydWVcblx0XHQvLyBXaGV0aGVyIHRvIGRyYXcgc3Ryb2tlIGFsb25nIHRoZSBwYXRoLiBTZXQgaXQgdG8gYGZhbHNlYCB0byBkaXNhYmxlIGJvcmRlcnMgb24gcG9seWdvbnMgb3IgY2lyY2xlcy5cblx0XHRzdHJva2U6IHRydWUsXG5cblx0XHQvLyBAb3B0aW9uIGNvbG9yOiBTdHJpbmcgPSAnIzMzODhmZidcblx0XHQvLyBTdHJva2UgY29sb3Jcblx0XHRjb2xvcjogJyMzMzg4ZmYnLFxuXG5cdFx0Ly8gQG9wdGlvbiB3ZWlnaHQ6IE51bWJlciA9IDNcblx0XHQvLyBTdHJva2Ugd2lkdGggaW4gcGl4ZWxzXG5cdFx0d2VpZ2h0OiAzLFxuXG5cdFx0Ly8gQG9wdGlvbiBvcGFjaXR5OiBOdW1iZXIgPSAxLjBcblx0XHQvLyBTdHJva2Ugb3BhY2l0eVxuXHRcdG9wYWNpdHk6IDEsXG5cblx0XHQvLyBAb3B0aW9uIGxpbmVDYXA6IFN0cmluZz0gJ3JvdW5kJ1xuXHRcdC8vIEEgc3RyaW5nIHRoYXQgZGVmaW5lcyBbc2hhcGUgdG8gYmUgdXNlZCBhdCB0aGUgZW5kXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3N0cm9rZS1saW5lY2FwKSBvZiB0aGUgc3Ryb2tlLlxuXHRcdGxpbmVDYXA6ICdyb3VuZCcsXG5cblx0XHQvLyBAb3B0aW9uIGxpbmVKb2luOiBTdHJpbmcgPSAncm91bmQnXG5cdFx0Ly8gQSBzdHJpbmcgdGhhdCBkZWZpbmVzIFtzaGFwZSB0byBiZSB1c2VkIGF0IHRoZSBjb3JuZXJzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3N0cm9rZS1saW5lam9pbikgb2YgdGhlIHN0cm9rZS5cblx0XHRsaW5lSm9pbjogJ3JvdW5kJyxcblxuXHRcdC8vIEBvcHRpb24gZGFzaEFycmF5OiBTdHJpbmcgPSBudWxsXG5cdFx0Ly8gQSBzdHJpbmcgdGhhdCBkZWZpbmVzIHRoZSBzdHJva2UgW2Rhc2ggcGF0dGVybl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS9zdHJva2UtZGFzaGFycmF5KS4gRG9lc24ndCB3b3JrIG9uIGBDYW52YXNgLXBvd2VyZWQgbGF5ZXJzIGluIFtzb21lIG9sZCBicm93c2Vyc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zZXRMaW5lRGFzaCNCcm93c2VyX2NvbXBhdGliaWxpdHkpLlxuXHRcdGRhc2hBcnJheTogbnVsbCxcblxuXHRcdC8vIEBvcHRpb24gZGFzaE9mZnNldDogU3RyaW5nID0gbnVsbFxuXHRcdC8vIEEgc3RyaW5nIHRoYXQgZGVmaW5lcyB0aGUgW2Rpc3RhbmNlIGludG8gdGhlIGRhc2ggcGF0dGVybiB0byBzdGFydCB0aGUgZGFzaF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS9zdHJva2UtZGFzaG9mZnNldCkuIERvZXNuJ3Qgd29yayBvbiBgQ2FudmFzYC1wb3dlcmVkIGxheWVycyBpbiBbc29tZSBvbGQgYnJvd3NlcnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc2V0TGluZURhc2gjQnJvd3Nlcl9jb21wYXRpYmlsaXR5KS5cblx0XHRkYXNoT2Zmc2V0OiBudWxsLFxuXG5cdFx0Ly8gQG9wdGlvbiBmaWxsOiBCb29sZWFuID0gZGVwZW5kc1xuXHRcdC8vIFdoZXRoZXIgdG8gZmlsbCB0aGUgcGF0aCB3aXRoIGNvbG9yLiBTZXQgaXQgdG8gYGZhbHNlYCB0byBkaXNhYmxlIGZpbGxpbmcgb24gcG9seWdvbnMgb3IgY2lyY2xlcy5cblx0XHRmaWxsOiBmYWxzZSxcblxuXHRcdC8vIEBvcHRpb24gZmlsbENvbG9yOiBTdHJpbmcgPSAqXG5cdFx0Ly8gRmlsbCBjb2xvci4gRGVmYXVsdHMgdG8gdGhlIHZhbHVlIG9mIHRoZSBbYGNvbG9yYF0oI3BhdGgtY29sb3IpIG9wdGlvblxuXHRcdGZpbGxDb2xvcjogbnVsbCxcblxuXHRcdC8vIEBvcHRpb24gZmlsbE9wYWNpdHk6IE51bWJlciA9IDAuMlxuXHRcdC8vIEZpbGwgb3BhY2l0eS5cblx0XHRmaWxsT3BhY2l0eTogMC4yLFxuXG5cdFx0Ly8gQG9wdGlvbiBmaWxsUnVsZTogU3RyaW5nID0gJ2V2ZW5vZGQnXG5cdFx0Ly8gQSBzdHJpbmcgdGhhdCBkZWZpbmVzIFtob3cgdGhlIGluc2lkZSBvZiBhIHNoYXBlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL2ZpbGwtcnVsZSkgaXMgZGV0ZXJtaW5lZC5cblx0XHRmaWxsUnVsZTogJ2V2ZW5vZGQnLFxuXG5cdFx0Ly8gY2xhc3NOYW1lOiAnJyxcblxuXHRcdC8vIE9wdGlvbiBpbmhlcml0ZWQgZnJvbSBcIkludGVyYWN0aXZlIGxheWVyXCIgYWJzdHJhY3QgY2xhc3Ncblx0XHRpbnRlcmFjdGl2ZTogdHJ1ZSxcblxuXHRcdC8vIEBvcHRpb24gYnViYmxpbmdNb3VzZUV2ZW50czogQm9vbGVhbiA9IHRydWVcblx0XHQvLyBXaGVuIGB0cnVlYCwgYSBtb3VzZSBldmVudCBvbiB0aGlzIHBhdGggd2lsbCB0cmlnZ2VyIHRoZSBzYW1lIGV2ZW50IG9uIHRoZSBtYXBcblx0XHQvLyAodW5sZXNzIFtgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb25gXSgjZG9tZXZlbnQtc3RvcHByb3BhZ2F0aW9uKSBpcyB1c2VkKS5cblx0XHRidWJibGluZ01vdXNlRXZlbnRzOiB0cnVlXG5cdH0sXG5cblx0YmVmb3JlQWRkOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0Ly8gUmVuZGVyZXIgaXMgc2V0IGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRvIGNhbGwgcmVuZGVyZXIuZ2V0RXZlbnRzXG5cdFx0Ly8gYmVmb3JlIHRoaXMuZ2V0RXZlbnRzLlxuXHRcdHRoaXMuX3JlbmRlcmVyID0gbWFwLmdldFJlbmRlcmVyKHRoaXMpO1xuXHR9LFxuXG5cdG9uQWRkOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVuZGVyZXIuX2luaXRQYXRoKHRoaXMpO1xuXHRcdHRoaXMuX3Jlc2V0KCk7XG5cdFx0dGhpcy5fcmVuZGVyZXIuX2FkZFBhdGgodGhpcyk7XG5cdH0sXG5cblx0b25SZW1vdmU6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZW5kZXJlci5fcmVtb3ZlUGF0aCh0aGlzKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIHJlZHJhdygpOiB0aGlzXG5cdC8vIFJlZHJhd3MgdGhlIGxheWVyLiBTb21ldGltZXMgdXNlZnVsIGFmdGVyIHlvdSBjaGFuZ2VkIHRoZSBjb29yZGluYXRlcyB0aGF0IHRoZSBwYXRoIHVzZXMuXG5cdHJlZHJhdzogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyLl91cGRhdGVQYXRoKHRoaXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldFN0eWxlKHN0eWxlOiBQYXRoIG9wdGlvbnMpOiB0aGlzXG5cdC8vIENoYW5nZXMgdGhlIGFwcGVhcmFuY2Ugb2YgYSBQYXRoIGJhc2VkIG9uIHRoZSBvcHRpb25zIGluIHRoZSBgUGF0aCBvcHRpb25zYCBvYmplY3QuXG5cdHNldFN0eWxlOiBmdW5jdGlvbiAoc3R5bGUpIHtcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgc3R5bGUpO1xuXHRcdGlmICh0aGlzLl9yZW5kZXJlcikge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuX3VwZGF0ZVN0eWxlKHRoaXMpO1xuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy5zdHJva2UgJiYgc3R5bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0eWxlLCAnd2VpZ2h0JykpIHtcblx0XHRcdFx0dGhpcy5fdXBkYXRlQm91bmRzKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgYnJpbmdUb0Zyb250KCk6IHRoaXNcblx0Ly8gQnJpbmdzIHRoZSBsYXllciB0byB0aGUgdG9wIG9mIGFsbCBwYXRoIGxheWVycy5cblx0YnJpbmdUb0Zyb250OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX3JlbmRlcmVyKSB7XG5cdFx0XHR0aGlzLl9yZW5kZXJlci5fYnJpbmdUb0Zyb250KHRoaXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGJyaW5nVG9CYWNrKCk6IHRoaXNcblx0Ly8gQnJpbmdzIHRoZSBsYXllciB0byB0aGUgYm90dG9tIG9mIGFsbCBwYXRoIGxheWVycy5cblx0YnJpbmdUb0JhY2s6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fcmVuZGVyZXIpIHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyLl9icmluZ1RvQmFjayh0aGlzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Z2V0RWxlbWVudDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9wYXRoO1xuXHR9LFxuXG5cdF9yZXNldDogZnVuY3Rpb24gKCkge1xuXHRcdC8vIGRlZmluZWQgaW4gY2hpbGQgY2xhc3Nlc1xuXHRcdHRoaXMuX3Byb2plY3QoKTtcblx0XHR0aGlzLl91cGRhdGUoKTtcblx0fSxcblxuXHRfY2xpY2tUb2xlcmFuY2U6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyB1c2VkIHdoZW4gZG9pbmcgaGl0IGRldGVjdGlvbiBmb3IgQ2FudmFzIGxheWVyc1xuXHRcdHJldHVybiAodGhpcy5vcHRpb25zLnN0cm9rZSA/IHRoaXMub3B0aW9ucy53ZWlnaHQgLyAyIDogMCkgK1xuXHRcdCAgKHRoaXMuX3JlbmRlcmVyLm9wdGlvbnMudG9sZXJhbmNlIHx8IDApO1xuXHR9XG59KTtcbiIsICJpbXBvcnQge1BhdGh9IGZyb20gJy4vUGF0aCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQge3RvTGF0TG5nfSBmcm9tICcuLi8uLi9nZW8vTGF0TG5nJztcbmltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xuXG5cbi8qXG4gKiBAY2xhc3MgQ2lyY2xlTWFya2VyXG4gKiBAYWthIEwuQ2lyY2xlTWFya2VyXG4gKiBAaW5oZXJpdHMgUGF0aFxuICpcbiAqIEEgY2lyY2xlIG9mIGEgZml4ZWQgc2l6ZSB3aXRoIHJhZGl1cyBzcGVjaWZpZWQgaW4gcGl4ZWxzLiBFeHRlbmRzIGBQYXRoYC5cbiAqL1xuXG5leHBvcnQgdmFyIENpcmNsZU1hcmtlciA9IFBhdGguZXh0ZW5kKHtcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIENpcmNsZU1hcmtlciBvcHRpb25zXG5cdG9wdGlvbnM6IHtcblx0XHRmaWxsOiB0cnVlLFxuXG5cdFx0Ly8gQG9wdGlvbiByYWRpdXM6IE51bWJlciA9IDEwXG5cdFx0Ly8gUmFkaXVzIG9mIHRoZSBjaXJjbGUgbWFya2VyLCBpbiBwaXhlbHNcblx0XHRyYWRpdXM6IDEwXG5cdH0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGxhdGxuZywgb3B0aW9ucykge1xuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblx0XHR0aGlzLl9sYXRsbmcgPSB0b0xhdExuZyhsYXRsbmcpO1xuXHRcdHRoaXMuX3JhZGl1cyA9IHRoaXMub3B0aW9ucy5yYWRpdXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzZXRMYXRMbmcobGF0TG5nOiBMYXRMbmcpOiB0aGlzXG5cdC8vIFNldHMgdGhlIHBvc2l0aW9uIG9mIGEgY2lyY2xlIG1hcmtlciB0byBhIG5ldyBsb2NhdGlvbi5cblx0c2V0TGF0TG5nOiBmdW5jdGlvbiAobGF0bG5nKSB7XG5cdFx0dmFyIG9sZExhdExuZyA9IHRoaXMuX2xhdGxuZztcblx0XHR0aGlzLl9sYXRsbmcgPSB0b0xhdExuZyhsYXRsbmcpO1xuXHRcdHRoaXMucmVkcmF3KCk7XG5cblx0XHQvLyBAZXZlbnQgbW92ZTogRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXJrZXIgaXMgbW92ZWQgdmlhIFtgc2V0TGF0TG5nYF0oI2NpcmNsZW1hcmtlci1zZXRsYXRsbmcpLiBPbGQgYW5kIG5ldyBjb29yZGluYXRlcyBhcmUgaW5jbHVkZWQgaW4gZXZlbnQgYXJndW1lbnRzIGFzIGBvbGRMYXRMbmdgLCBgbGF0bG5nYC5cblx0XHRyZXR1cm4gdGhpcy5maXJlKCdtb3ZlJywge29sZExhdExuZzogb2xkTGF0TG5nLCBsYXRsbmc6IHRoaXMuX2xhdGxuZ30pO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0TGF0TG5nKCk6IExhdExuZ1xuXHQvLyBSZXR1cm5zIHRoZSBjdXJyZW50IGdlb2dyYXBoaWNhbCBwb3NpdGlvbiBvZiB0aGUgY2lyY2xlIG1hcmtlclxuXHRnZXRMYXRMbmc6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbGF0bG5nO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0UmFkaXVzKHJhZGl1czogTnVtYmVyKTogdGhpc1xuXHQvLyBTZXRzIHRoZSByYWRpdXMgb2YgYSBjaXJjbGUgbWFya2VyLiBVbml0cyBhcmUgaW4gcGl4ZWxzLlxuXHRzZXRSYWRpdXM6IGZ1bmN0aW9uIChyYWRpdXMpIHtcblx0XHR0aGlzLm9wdGlvbnMucmFkaXVzID0gdGhpcy5fcmFkaXVzID0gcmFkaXVzO1xuXHRcdHJldHVybiB0aGlzLnJlZHJhdygpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0UmFkaXVzKCk6IE51bWJlclxuXHQvLyBSZXR1cm5zIHRoZSBjdXJyZW50IHJhZGl1cyBvZiB0aGUgY2lyY2xlXG5cdGdldFJhZGl1czogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9yYWRpdXM7XG5cdH0sXG5cblx0c2V0U3R5bGUgOiBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdHZhciByYWRpdXMgPSBvcHRpb25zICYmIG9wdGlvbnMucmFkaXVzIHx8IHRoaXMuX3JhZGl1cztcblx0XHRQYXRoLnByb3RvdHlwZS5zZXRTdHlsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuc2V0UmFkaXVzKHJhZGl1cyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X3Byb2plY3Q6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9wb2ludCA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKTtcblx0XHR0aGlzLl91cGRhdGVCb3VuZHMoKTtcblx0fSxcblxuXHRfdXBkYXRlQm91bmRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHIgPSB0aGlzLl9yYWRpdXMsXG5cdFx0ICAgIHIyID0gdGhpcy5fcmFkaXVzWSB8fCByLFxuXHRcdCAgICB3ID0gdGhpcy5fY2xpY2tUb2xlcmFuY2UoKSxcblx0XHQgICAgcCA9IFtyICsgdywgcjIgKyB3XTtcblx0XHR0aGlzLl9weEJvdW5kcyA9IG5ldyBCb3VuZHModGhpcy5fcG9pbnQuc3VidHJhY3QocCksIHRoaXMuX3BvaW50LmFkZChwKSk7XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdHRoaXMuX3VwZGF0ZVBhdGgoKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZVBhdGg6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZW5kZXJlci5fdXBkYXRlQ2lyY2xlKHRoaXMpO1xuXHR9LFxuXG5cdF9lbXB0eTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9yYWRpdXMgJiYgIXRoaXMuX3JlbmRlcmVyLl9ib3VuZHMuaW50ZXJzZWN0cyh0aGlzLl9weEJvdW5kcyk7XG5cdH0sXG5cblx0Ly8gTmVlZGVkIGJ5IHRoZSBgQ2FudmFzYCByZW5kZXJlciBmb3IgaW50ZXJhY3Rpdml0eVxuXHRfY29udGFpbnNQb2ludDogZnVuY3Rpb24gKHApIHtcblx0XHRyZXR1cm4gcC5kaXN0YW5jZVRvKHRoaXMuX3BvaW50KSA8PSB0aGlzLl9yYWRpdXMgKyB0aGlzLl9jbGlja1RvbGVyYW5jZSgpO1xuXHR9XG59KTtcblxuXG4vLyBAZmFjdG9yeSBMLmNpcmNsZU1hcmtlcihsYXRsbmc6IExhdExuZywgb3B0aW9ucz86IENpcmNsZU1hcmtlciBvcHRpb25zKVxuLy8gSW5zdGFudGlhdGVzIGEgY2lyY2xlIG1hcmtlciBvYmplY3QgZ2l2ZW4gYSBnZW9ncmFwaGljYWwgcG9pbnQsIGFuZCBhbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdC5cbmV4cG9ydCBmdW5jdGlvbiBjaXJjbGVNYXJrZXIobGF0bG5nLCBvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgQ2lyY2xlTWFya2VyKGxhdGxuZywgb3B0aW9ucyk7XG59XG4iLCAiaW1wb3J0IHtDaXJjbGVNYXJrZXJ9IGZyb20gJy4vQ2lyY2xlTWFya2VyJztcbmltcG9ydCB7UGF0aH0gZnJvbSAnLi9QYXRoJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCB7dG9MYXRMbmd9IGZyb20gJy4uLy4uL2dlby9MYXRMbmcnO1xuaW1wb3J0IHtMYXRMbmdCb3VuZHN9IGZyb20gJy4uLy4uL2dlby9MYXRMbmdCb3VuZHMnO1xuaW1wb3J0IHtFYXJ0aH0gZnJvbSAnLi4vLi4vZ2VvL2Nycy9DUlMuRWFydGgnO1xuXG5cbi8qXG4gKiBAY2xhc3MgQ2lyY2xlXG4gKiBAYWthIEwuQ2lyY2xlXG4gKiBAaW5oZXJpdHMgQ2lyY2xlTWFya2VyXG4gKlxuICogQSBjbGFzcyBmb3IgZHJhd2luZyBjaXJjbGUgb3ZlcmxheXMgb24gYSBtYXAuIEV4dGVuZHMgYENpcmNsZU1hcmtlcmAuXG4gKlxuICogSXQncyBhbiBhcHByb3hpbWF0aW9uIGFuZCBzdGFydHMgdG8gZGl2ZXJnZSBmcm9tIGEgcmVhbCBjaXJjbGUgY2xvc2VyIHRvIHBvbGVzIChkdWUgdG8gcHJvamVjdGlvbiBkaXN0b3J0aW9uKS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiBMLmNpcmNsZShbNTAuNSwgMzAuNV0sIHtyYWRpdXM6IDIwMH0pLmFkZFRvKG1hcCk7XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgdmFyIENpcmNsZSA9IENpcmNsZU1hcmtlci5leHRlbmQoe1xuXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmcsIG9wdGlvbnMsIGxlZ2FjeU9wdGlvbnMpIHtcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG5cdFx0XHQvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIDAuNy54IGZhY3RvcnkgKGxhdGxuZywgcmFkaXVzLCBvcHRpb25zPylcblx0XHRcdG9wdGlvbnMgPSBVdGlsLmV4dGVuZCh7fSwgbGVnYWN5T3B0aW9ucywge3JhZGl1czogb3B0aW9uc30pO1xuXHRcdH1cblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cdFx0dGhpcy5fbGF0bG5nID0gdG9MYXRMbmcobGF0bG5nKTtcblxuXHRcdGlmIChpc05hTih0aGlzLm9wdGlvbnMucmFkaXVzKSkgeyB0aHJvdyBuZXcgRXJyb3IoJ0NpcmNsZSByYWRpdXMgY2Fubm90IGJlIE5hTicpOyB9XG5cblx0XHQvLyBAc2VjdGlvblxuXHRcdC8vIEBha2EgQ2lyY2xlIG9wdGlvbnNcblx0XHQvLyBAb3B0aW9uIHJhZGl1czogTnVtYmVyOyBSYWRpdXMgb2YgdGhlIGNpcmNsZSwgaW4gbWV0ZXJzLlxuXHRcdHRoaXMuX21SYWRpdXMgPSB0aGlzLm9wdGlvbnMucmFkaXVzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0UmFkaXVzKHJhZGl1czogTnVtYmVyKTogdGhpc1xuXHQvLyBTZXRzIHRoZSByYWRpdXMgb2YgYSBjaXJjbGUuIFVuaXRzIGFyZSBpbiBtZXRlcnMuXG5cdHNldFJhZGl1czogZnVuY3Rpb24gKHJhZGl1cykge1xuXHRcdHRoaXMuX21SYWRpdXMgPSByYWRpdXM7XG5cdFx0cmV0dXJuIHRoaXMucmVkcmF3KCk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRSYWRpdXMoKTogTnVtYmVyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgcmFkaXVzIG9mIGEgY2lyY2xlLiBVbml0cyBhcmUgaW4gbWV0ZXJzLlxuXHRnZXRSYWRpdXM6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbVJhZGl1cztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldEJvdW5kcygpOiBMYXRMbmdCb3VuZHNcblx0Ly8gUmV0dXJucyB0aGUgYExhdExuZ0JvdW5kc2Agb2YgdGhlIHBhdGguXG5cdGdldEJvdW5kczogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBoYWxmID0gW3RoaXMuX3JhZGl1cywgdGhpcy5fcmFkaXVzWSB8fCB0aGlzLl9yYWRpdXNdO1xuXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmdCb3VuZHMoXG5cdFx0XHR0aGlzLl9tYXAubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMuX3BvaW50LnN1YnRyYWN0KGhhbGYpKSxcblx0XHRcdHRoaXMuX21hcC5sYXllclBvaW50VG9MYXRMbmcodGhpcy5fcG9pbnQuYWRkKGhhbGYpKSk7XG5cdH0sXG5cblx0c2V0U3R5bGU6IFBhdGgucHJvdG90eXBlLnNldFN0eWxlLFxuXG5cdF9wcm9qZWN0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHR2YXIgbG5nID0gdGhpcy5fbGF0bG5nLmxuZyxcblx0XHQgICAgbGF0ID0gdGhpcy5fbGF0bG5nLmxhdCxcblx0XHQgICAgbWFwID0gdGhpcy5fbWFwLFxuXHRcdCAgICBjcnMgPSBtYXAub3B0aW9ucy5jcnM7XG5cblx0XHRpZiAoY3JzLmRpc3RhbmNlID09PSBFYXJ0aC5kaXN0YW5jZSkge1xuXHRcdFx0dmFyIGQgPSBNYXRoLlBJIC8gMTgwLFxuXHRcdFx0ICAgIGxhdFIgPSAodGhpcy5fbVJhZGl1cyAvIEVhcnRoLlIpIC8gZCxcblx0XHRcdCAgICB0b3AgPSBtYXAucHJvamVjdChbbGF0ICsgbGF0UiwgbG5nXSksXG5cdFx0XHQgICAgYm90dG9tID0gbWFwLnByb2plY3QoW2xhdCAtIGxhdFIsIGxuZ10pLFxuXHRcdFx0ICAgIHAgPSB0b3AuYWRkKGJvdHRvbSkuZGl2aWRlQnkoMiksXG5cdFx0XHQgICAgbGF0MiA9IG1hcC51bnByb2plY3QocCkubGF0LFxuXHRcdFx0ICAgIGxuZ1IgPSBNYXRoLmFjb3MoKE1hdGguY29zKGxhdFIgKiBkKSAtIE1hdGguc2luKGxhdCAqIGQpICogTWF0aC5zaW4obGF0MiAqIGQpKSAvXG5cdFx0XHQgICAgICAgICAgICAoTWF0aC5jb3MobGF0ICogZCkgKiBNYXRoLmNvcyhsYXQyICogZCkpKSAvIGQ7XG5cblx0XHRcdGlmIChpc05hTihsbmdSKSB8fCBsbmdSID09PSAwKSB7XG5cdFx0XHRcdGxuZ1IgPSBsYXRSIC8gTWF0aC5jb3MoTWF0aC5QSSAvIDE4MCAqIGxhdCk7IC8vIEZhbGxiYWNrIGZvciBlZGdlIGNhc2UsICMyNDI1XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3BvaW50ID0gcC5zdWJ0cmFjdChtYXAuZ2V0UGl4ZWxPcmlnaW4oKSk7XG5cdFx0XHR0aGlzLl9yYWRpdXMgPSBpc05hTihsbmdSKSA/IDAgOiBwLnggLSBtYXAucHJvamVjdChbbGF0MiwgbG5nIC0gbG5nUl0pLng7XG5cdFx0XHR0aGlzLl9yYWRpdXNZID0gcC55IC0gdG9wLnk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGxhdGxuZzIgPSBjcnMudW5wcm9qZWN0KGNycy5wcm9qZWN0KHRoaXMuX2xhdGxuZykuc3VidHJhY3QoW3RoaXMuX21SYWRpdXMsIDBdKSk7XG5cblx0XHRcdHRoaXMuX3BvaW50ID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpO1xuXHRcdFx0dGhpcy5fcmFkaXVzID0gdGhpcy5fcG9pbnQueCAtIG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nMikueDtcblx0XHR9XG5cblx0XHR0aGlzLl91cGRhdGVCb3VuZHMoKTtcblx0fVxufSk7XG5cbi8vIEBmYWN0b3J5IEwuY2lyY2xlKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogQ2lyY2xlIG9wdGlvbnMpXG4vLyBJbnN0YW50aWF0ZXMgYSBjaXJjbGUgb2JqZWN0IGdpdmVuIGEgZ2VvZ3JhcGhpY2FsIHBvaW50LCBhbmQgYW4gb3B0aW9ucyBvYmplY3Rcbi8vIHdoaWNoIGNvbnRhaW5zIHRoZSBjaXJjbGUgcmFkaXVzLlxuLy8gQGFsdGVybmF0aXZlXG4vLyBAZmFjdG9yeSBMLmNpcmNsZShsYXRsbmc6IExhdExuZywgcmFkaXVzOiBOdW1iZXIsIG9wdGlvbnM/OiBDaXJjbGUgb3B0aW9ucylcbi8vIE9ic29sZXRlIHdheSBvZiBpbnN0YW50aWF0aW5nIGEgY2lyY2xlLCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIDAuNy54IGNvZGUuXG4vLyBEbyBub3QgdXNlIGluIG5ldyBhcHBsaWNhdGlvbnMgb3IgcGx1Z2lucy5cbmV4cG9ydCBmdW5jdGlvbiBjaXJjbGUobGF0bG5nLCBvcHRpb25zLCBsZWdhY3lPcHRpb25zKSB7XG5cdHJldHVybiBuZXcgQ2lyY2xlKGxhdGxuZywgb3B0aW9ucywgbGVnYWN5T3B0aW9ucyk7XG59XG4iLCAiaW1wb3J0IHtQYXRofSBmcm9tICcuL1BhdGgnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0ICogYXMgTGluZVV0aWwgZnJvbSAnLi4vLi4vZ2VvbWV0cnkvTGluZVV0aWwnO1xuaW1wb3J0IHtMYXRMbmcsIHRvTGF0TG5nfSBmcm9tICcuLi8uLi9nZW8vTGF0TG5nJztcbmltcG9ydCB7TGF0TG5nQm91bmRzfSBmcm9tICcuLi8uLi9nZW8vTGF0TG5nQm91bmRzJztcbmltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xuaW1wb3J0IHtQb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xuXG4vKlxuICogQGNsYXNzIFBvbHlsaW5lXG4gKiBAYWthIEwuUG9seWxpbmVcbiAqIEBpbmhlcml0cyBQYXRoXG4gKlxuICogQSBjbGFzcyBmb3IgZHJhd2luZyBwb2x5bGluZSBvdmVybGF5cyBvbiBhIG1hcC4gRXh0ZW5kcyBgUGF0aGAuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogLy8gY3JlYXRlIGEgcmVkIHBvbHlsaW5lIGZyb20gYW4gYXJyYXkgb2YgTGF0TG5nIHBvaW50c1xuICogdmFyIGxhdGxuZ3MgPSBbXG4gKiBcdFs0NS41MSwgLTEyMi42OF0sXG4gKiBcdFszNy43NywgLTEyMi40M10sXG4gKiBcdFszNC4wNCwgLTExOC4yXVxuICogXTtcbiAqXG4gKiB2YXIgcG9seWxpbmUgPSBMLnBvbHlsaW5lKGxhdGxuZ3MsIHtjb2xvcjogJ3JlZCd9KS5hZGRUbyhtYXApO1xuICpcbiAqIC8vIHpvb20gdGhlIG1hcCB0byB0aGUgcG9seWxpbmVcbiAqIG1hcC5maXRCb3VuZHMocG9seWxpbmUuZ2V0Qm91bmRzKCkpO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBhbHNvIHBhc3MgYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSB0byByZXByZXNlbnQgYSBgTXVsdGlQb2x5bGluZWAgc2hhcGU6XG4gKlxuICogYGBganNcbiAqIC8vIGNyZWF0ZSBhIHJlZCBwb2x5bGluZSBmcm9tIGFuIGFycmF5IG9mIGFycmF5cyBvZiBMYXRMbmcgcG9pbnRzXG4gKiB2YXIgbGF0bG5ncyA9IFtcbiAqIFx0W1s0NS41MSwgLTEyMi42OF0sXG4gKiBcdCBbMzcuNzcsIC0xMjIuNDNdLFxuICogXHQgWzM0LjA0LCAtMTE4LjJdXSxcbiAqIFx0W1s0MC43OCwgLTczLjkxXSxcbiAqIFx0IFs0MS44MywgLTg3LjYyXSxcbiAqIFx0IFszMi43NiwgLTk2LjcyXV1cbiAqIF07XG4gKiBgYGBcbiAqL1xuXG5cbmV4cG9ydCB2YXIgUG9seWxpbmUgPSBQYXRoLmV4dGVuZCh7XG5cblx0Ly8gQHNlY3Rpb25cblx0Ly8gQGFrYSBQb2x5bGluZSBvcHRpb25zXG5cdG9wdGlvbnM6IHtcblx0XHQvLyBAb3B0aW9uIHNtb290aEZhY3RvcjogTnVtYmVyID0gMS4wXG5cdFx0Ly8gSG93IG11Y2ggdG8gc2ltcGxpZnkgdGhlIHBvbHlsaW5lIG9uIGVhY2ggem9vbSBsZXZlbC4gTW9yZSBtZWFuc1xuXHRcdC8vIGJldHRlciBwZXJmb3JtYW5jZSBhbmQgc21vb3RoZXIgbG9vaywgYW5kIGxlc3MgbWVhbnMgbW9yZSBhY2N1cmF0ZSByZXByZXNlbnRhdGlvbi5cblx0XHRzbW9vdGhGYWN0b3I6IDEuMCxcblxuXHRcdC8vIEBvcHRpb24gbm9DbGlwOiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBEaXNhYmxlIHBvbHlsaW5lIGNsaXBwaW5nLlxuXHRcdG5vQ2xpcDogZmFsc2Vcblx0fSxcblxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAobGF0bG5ncywgb3B0aW9ucykge1xuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblx0XHR0aGlzLl9zZXRMYXRMbmdzKGxhdGxuZ3MpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0TGF0TG5ncygpOiBMYXRMbmdbXVxuXHQvLyBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBwb2ludHMgaW4gdGhlIHBhdGgsIG9yIG5lc3RlZCBhcnJheXMgb2YgcG9pbnRzIGluIGNhc2Ugb2YgbXVsdGktcG9seWxpbmUuXG5cdGdldExhdExuZ3M6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbGF0bG5ncztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldExhdExuZ3MobGF0bG5nczogTGF0TG5nW10pOiB0aGlzXG5cdC8vIFJlcGxhY2VzIGFsbCB0aGUgcG9pbnRzIGluIHRoZSBwb2x5bGluZSB3aXRoIHRoZSBnaXZlbiBhcnJheSBvZiBnZW9ncmFwaGljYWwgcG9pbnRzLlxuXHRzZXRMYXRMbmdzOiBmdW5jdGlvbiAobGF0bG5ncykge1xuXHRcdHRoaXMuX3NldExhdExuZ3MobGF0bG5ncyk7XG5cdFx0cmV0dXJuIHRoaXMucmVkcmF3KCk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBpc0VtcHR5KCk6IEJvb2xlYW5cblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFBvbHlsaW5lIGhhcyBubyBMYXRMbmdzLlxuXHRpc0VtcHR5OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICF0aGlzLl9sYXRsbmdzLmxlbmd0aDtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGNsb3Nlc3RMYXllclBvaW50KHA6IFBvaW50KTogUG9pbnRcblx0Ly8gUmV0dXJucyB0aGUgcG9pbnQgY2xvc2VzdCB0byBgcGAgb24gdGhlIFBvbHlsaW5lLlxuXHRjbG9zZXN0TGF5ZXJQb2ludDogZnVuY3Rpb24gKHApIHtcblx0XHR2YXIgbWluRGlzdGFuY2UgPSBJbmZpbml0eSxcblx0XHQgICAgbWluUG9pbnQgPSBudWxsLFxuXHRcdCAgICBjbG9zZXN0ID0gTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50LFxuXHRcdCAgICBwMSwgcDI7XG5cblx0XHRmb3IgKHZhciBqID0gMCwgakxlbiA9IHRoaXMuX3BhcnRzLmxlbmd0aDsgaiA8IGpMZW47IGorKykge1xuXHRcdFx0dmFyIHBvaW50cyA9IHRoaXMuX3BhcnRzW2pdO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMSwgbGVuID0gcG9pbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdHAxID0gcG9pbnRzW2kgLSAxXTtcblx0XHRcdFx0cDIgPSBwb2ludHNbaV07XG5cblx0XHRcdFx0dmFyIHNxRGlzdCA9IGNsb3Nlc3QocCwgcDEsIHAyLCB0cnVlKTtcblxuXHRcdFx0XHRpZiAoc3FEaXN0IDwgbWluRGlzdGFuY2UpIHtcblx0XHRcdFx0XHRtaW5EaXN0YW5jZSA9IHNxRGlzdDtcblx0XHRcdFx0XHRtaW5Qb2ludCA9IGNsb3Nlc3QocCwgcDEsIHAyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAobWluUG9pbnQpIHtcblx0XHRcdG1pblBvaW50LmRpc3RhbmNlID0gTWF0aC5zcXJ0KG1pbkRpc3RhbmNlKTtcblx0XHR9XG5cdFx0cmV0dXJuIG1pblBvaW50O1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0Q2VudGVyKCk6IExhdExuZ1xuXHQvLyBSZXR1cm5zIHRoZSBjZW50ZXIgKFtjZW50cm9pZF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2VudHJvaWQpKSBvZiB0aGUgcG9seWxpbmUuXG5cdGdldENlbnRlcjogZnVuY3Rpb24gKCkge1xuXHRcdC8vIHRocm93cyBlcnJvciB3aGVuIG5vdCB5ZXQgYWRkZWQgdG8gbWFwIGFzIHRoaXMgY2VudGVyIGNhbGN1bGF0aW9uIHJlcXVpcmVzIHByb2plY3RlZCBjb29yZGluYXRlc1xuXHRcdGlmICghdGhpcy5fbWFwKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ011c3QgYWRkIGxheWVyIHRvIG1hcCBiZWZvcmUgdXNpbmcgZ2V0Q2VudGVyKCknKTtcblx0XHR9XG5cdFx0cmV0dXJuIExpbmVVdGlsLnBvbHlsaW5lQ2VudGVyKHRoaXMuX2RlZmF1bHRTaGFwZSgpLCB0aGlzLl9tYXAub3B0aW9ucy5jcnMpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0Qm91bmRzKCk6IExhdExuZ0JvdW5kc1xuXHQvLyBSZXR1cm5zIHRoZSBgTGF0TG5nQm91bmRzYCBvZiB0aGUgcGF0aC5cblx0Z2V0Qm91bmRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2JvdW5kcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGFkZExhdExuZyhsYXRsbmc6IExhdExuZywgbGF0bG5ncz86IExhdExuZ1tdKTogdGhpc1xuXHQvLyBBZGRzIGEgZ2l2ZW4gcG9pbnQgdG8gdGhlIHBvbHlsaW5lLiBCeSBkZWZhdWx0LCBhZGRzIHRvIHRoZSBmaXJzdCByaW5nIG9mXG5cdC8vIHRoZSBwb2x5bGluZSBpbiBjYXNlIG9mIGEgbXVsdGktcG9seWxpbmUsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBwYXNzaW5nXG5cdC8vIGEgc3BlY2lmaWMgcmluZyBhcyBhIExhdExuZyBhcnJheSAodGhhdCB5b3UgY2FuIGVhcmxpZXIgYWNjZXNzIHdpdGggW2BnZXRMYXRMbmdzYF0oI3BvbHlsaW5lLWdldGxhdGxuZ3MpKS5cblx0YWRkTGF0TG5nOiBmdW5jdGlvbiAobGF0bG5nLCBsYXRsbmdzKSB7XG5cdFx0bGF0bG5ncyA9IGxhdGxuZ3MgfHwgdGhpcy5fZGVmYXVsdFNoYXBlKCk7XG5cdFx0bGF0bG5nID0gdG9MYXRMbmcobGF0bG5nKTtcblx0XHRsYXRsbmdzLnB1c2gobGF0bG5nKTtcblx0XHR0aGlzLl9ib3VuZHMuZXh0ZW5kKGxhdGxuZyk7XG5cdFx0cmV0dXJuIHRoaXMucmVkcmF3KCk7XG5cdH0sXG5cblx0X3NldExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7XG5cdFx0dGhpcy5fYm91bmRzID0gbmV3IExhdExuZ0JvdW5kcygpO1xuXHRcdHRoaXMuX2xhdGxuZ3MgPSB0aGlzLl9jb252ZXJ0TGF0TG5ncyhsYXRsbmdzKTtcblx0fSxcblxuXHRfZGVmYXVsdFNoYXBlOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIExpbmVVdGlsLmlzRmxhdCh0aGlzLl9sYXRsbmdzKSA/IHRoaXMuX2xhdGxuZ3MgOiB0aGlzLl9sYXRsbmdzWzBdO1xuXHR9LFxuXG5cdC8vIHJlY3Vyc2l2ZWx5IGNvbnZlcnQgbGF0bG5ncyBpbnB1dCBpbnRvIGFjdHVhbCBMYXRMbmcgaW5zdGFuY2VzOyBjYWxjdWxhdGUgYm91bmRzIGFsb25nIHRoZSB3YXlcblx0X2NvbnZlcnRMYXRMbmdzOiBmdW5jdGlvbiAobGF0bG5ncykge1xuXHRcdHZhciByZXN1bHQgPSBbXSxcblx0XHQgICAgZmxhdCA9IExpbmVVdGlsLmlzRmxhdChsYXRsbmdzKTtcblxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBsYXRsbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoZmxhdCkge1xuXHRcdFx0XHRyZXN1bHRbaV0gPSB0b0xhdExuZyhsYXRsbmdzW2ldKTtcblx0XHRcdFx0dGhpcy5fYm91bmRzLmV4dGVuZChyZXN1bHRbaV0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzdWx0W2ldID0gdGhpcy5fY29udmVydExhdExuZ3MobGF0bG5nc1tpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHRfcHJvamVjdDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBweEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcblx0XHR0aGlzLl9yaW5ncyA9IFtdO1xuXHRcdHRoaXMuX3Byb2plY3RMYXRsbmdzKHRoaXMuX2xhdGxuZ3MsIHRoaXMuX3JpbmdzLCBweEJvdW5kcyk7XG5cblx0XHRpZiAodGhpcy5fYm91bmRzLmlzVmFsaWQoKSAmJiBweEJvdW5kcy5pc1ZhbGlkKCkpIHtcblx0XHRcdHRoaXMuX3Jhd1B4Qm91bmRzID0gcHhCb3VuZHM7XG5cdFx0XHR0aGlzLl91cGRhdGVCb3VuZHMoKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZUJvdW5kczogZnVuY3Rpb24gKCkge1xuXHRcdHZhciB3ID0gdGhpcy5fY2xpY2tUb2xlcmFuY2UoKSxcblx0XHQgICAgcCA9IG5ldyBQb2ludCh3LCB3KTtcblxuXHRcdGlmICghdGhpcy5fcmF3UHhCb3VuZHMpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9weEJvdW5kcyA9IG5ldyBCb3VuZHMoW1xuXHRcdFx0dGhpcy5fcmF3UHhCb3VuZHMubWluLnN1YnRyYWN0KHApLFxuXHRcdFx0dGhpcy5fcmF3UHhCb3VuZHMubWF4LmFkZChwKVxuXHRcdF0pO1xuXHR9LFxuXG5cdC8vIHJlY3Vyc2l2ZWx5IHR1cm5zIGxhdGxuZ3MgaW50byBhIHNldCBvZiByaW5ncyB3aXRoIHByb2plY3RlZCBjb29yZGluYXRlc1xuXHRfcHJvamVjdExhdGxuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzLCByZXN1bHQsIHByb2plY3RlZEJvdW5kcykge1xuXHRcdHZhciBmbGF0ID0gbGF0bG5nc1swXSBpbnN0YW5jZW9mIExhdExuZyxcblx0XHQgICAgbGVuID0gbGF0bG5ncy5sZW5ndGgsXG5cdFx0ICAgIGksIHJpbmc7XG5cblx0XHRpZiAoZmxhdCkge1xuXHRcdFx0cmluZyA9IFtdO1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdHJpbmdbaV0gPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ3NbaV0pO1xuXHRcdFx0XHRwcm9qZWN0ZWRCb3VuZHMuZXh0ZW5kKHJpbmdbaV0pO1xuXHRcdFx0fVxuXHRcdFx0cmVzdWx0LnB1c2gocmluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHR0aGlzLl9wcm9qZWN0TGF0bG5ncyhsYXRsbmdzW2ldLCByZXN1bHQsIHByb2plY3RlZEJvdW5kcyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIGNsaXAgcG9seWxpbmUgYnkgcmVuZGVyZXIgYm91bmRzIHNvIHRoYXQgd2UgaGF2ZSBsZXNzIHRvIHJlbmRlciBmb3IgcGVyZm9ybWFuY2Vcblx0X2NsaXBQb2ludHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgYm91bmRzID0gdGhpcy5fcmVuZGVyZXIuX2JvdW5kcztcblxuXHRcdHRoaXMuX3BhcnRzID0gW107XG5cdFx0aWYgKCF0aGlzLl9weEJvdW5kcyB8fCAhdGhpcy5fcHhCb3VuZHMuaW50ZXJzZWN0cyhib3VuZHMpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5ub0NsaXApIHtcblx0XHRcdHRoaXMuX3BhcnRzID0gdGhpcy5fcmluZ3M7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHBhcnRzID0gdGhpcy5fcGFydHMsXG5cdFx0ICAgIGksIGosIGssIGxlbiwgbGVuMiwgc2VnbWVudCwgcG9pbnRzO1xuXG5cdFx0Zm9yIChpID0gMCwgayA9IDAsIGxlbiA9IHRoaXMuX3JpbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRwb2ludHMgPSB0aGlzLl9yaW5nc1tpXTtcblxuXHRcdFx0Zm9yIChqID0gMCwgbGVuMiA9IHBvaW50cy5sZW5ndGg7IGogPCBsZW4yIC0gMTsgaisrKSB7XG5cdFx0XHRcdHNlZ21lbnQgPSBMaW5lVXRpbC5jbGlwU2VnbWVudChwb2ludHNbal0sIHBvaW50c1tqICsgMV0sIGJvdW5kcywgaiwgdHJ1ZSk7XG5cblx0XHRcdFx0aWYgKCFzZWdtZW50KSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdFx0cGFydHNba10gPSBwYXJ0c1trXSB8fCBbXTtcblx0XHRcdFx0cGFydHNba10ucHVzaChzZWdtZW50WzBdKTtcblxuXHRcdFx0XHQvLyBpZiBzZWdtZW50IGdvZXMgb3V0IG9mIHNjcmVlbiwgb3IgaXQncyB0aGUgbGFzdCBvbmUsIGl0J3MgdGhlIGVuZCBvZiB0aGUgbGluZSBwYXJ0XG5cdFx0XHRcdGlmICgoc2VnbWVudFsxXSAhPT0gcG9pbnRzW2ogKyAxXSkgfHwgKGogPT09IGxlbjIgLSAyKSkge1xuXHRcdFx0XHRcdHBhcnRzW2tdLnB1c2goc2VnbWVudFsxXSk7XG5cdFx0XHRcdFx0aysrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIHNpbXBsaWZ5IGVhY2ggY2xpcHBlZCBwYXJ0IG9mIHRoZSBwb2x5bGluZSBmb3IgcGVyZm9ybWFuY2Vcblx0X3NpbXBsaWZ5UG9pbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHBhcnRzID0gdGhpcy5fcGFydHMsXG5cdFx0ICAgIHRvbGVyYW5jZSA9IHRoaXMub3B0aW9ucy5zbW9vdGhGYWN0b3I7XG5cblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gcGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHBhcnRzW2ldID0gTGluZVV0aWwuc2ltcGxpZnkocGFydHNbaV0sIHRvbGVyYW5jZSk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2NsaXBQb2ludHMoKTtcblx0XHR0aGlzLl9zaW1wbGlmeVBvaW50cygpO1xuXHRcdHRoaXMuX3VwZGF0ZVBhdGgoKTtcblx0fSxcblxuXHRfdXBkYXRlUGF0aDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlbmRlcmVyLl91cGRhdGVQb2x5KHRoaXMpO1xuXHR9LFxuXG5cdC8vIE5lZWRlZCBieSB0aGUgYENhbnZhc2AgcmVuZGVyZXIgZm9yIGludGVyYWN0aXZpdHlcblx0X2NvbnRhaW5zUG9pbnQ6IGZ1bmN0aW9uIChwLCBjbG9zZWQpIHtcblx0XHR2YXIgaSwgaiwgaywgbGVuLCBsZW4yLCBwYXJ0LFxuXHRcdCAgICB3ID0gdGhpcy5fY2xpY2tUb2xlcmFuY2UoKTtcblxuXHRcdGlmICghdGhpcy5fcHhCb3VuZHMgfHwgIXRoaXMuX3B4Qm91bmRzLmNvbnRhaW5zKHApKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdFx0Ly8gaGl0IGRldGVjdGlvbiBmb3IgcG9seWxpbmVzXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gdGhpcy5fcGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHBhcnQgPSB0aGlzLl9wYXJ0c1tpXTtcblxuXHRcdFx0Zm9yIChqID0gMCwgbGVuMiA9IHBhcnQubGVuZ3RoLCBrID0gbGVuMiAtIDE7IGogPCBsZW4yOyBrID0gaisrKSB7XG5cdFx0XHRcdGlmICghY2xvc2VkICYmIChqID09PSAwKSkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHRcdGlmIChMaW5lVXRpbC5wb2ludFRvU2VnbWVudERpc3RhbmNlKHAsIHBhcnRba10sIHBhcnRbal0pIDw9IHcpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn0pO1xuXG4vLyBAZmFjdG9yeSBMLnBvbHlsaW5lKGxhdGxuZ3M6IExhdExuZ1tdLCBvcHRpb25zPzogUG9seWxpbmUgb3B0aW9ucylcbi8vIEluc3RhbnRpYXRlcyBhIHBvbHlsaW5lIG9iamVjdCBnaXZlbiBhbiBhcnJheSBvZiBnZW9ncmFwaGljYWwgcG9pbnRzIGFuZFxuLy8gb3B0aW9uYWxseSBhbiBvcHRpb25zIG9iamVjdC4gWW91IGNhbiBjcmVhdGUgYSBgUG9seWxpbmVgIG9iamVjdCB3aXRoXG4vLyBtdWx0aXBsZSBzZXBhcmF0ZSBsaW5lcyAoYE11bHRpUG9seWxpbmVgKSBieSBwYXNzaW5nIGFuIGFycmF5IG9mIGFycmF5c1xuLy8gb2YgZ2VvZ3JhcGhpYyBwb2ludHMuXG5leHBvcnQgZnVuY3Rpb24gcG9seWxpbmUobGF0bG5ncywgb3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IFBvbHlsaW5lKGxhdGxuZ3MsIG9wdGlvbnMpO1xufVxuXG4vLyBSZXRyb2NvbXBhdC4gQWxsb3cgcGx1Z2lucyB0byBzdXBwb3J0IExlYWZsZXQgdmVyc2lvbnMgYmVmb3JlIGFuZCBhZnRlciAxLjEuXG5Qb2x5bGluZS5fZmxhdCA9IExpbmVVdGlsLl9mbGF0O1xuIiwgImltcG9ydCB7UG9seWxpbmV9IGZyb20gJy4vUG9seWxpbmUnO1xuaW1wb3J0IHtMYXRMbmd9IGZyb20gJy4uLy4uL2dlby9MYXRMbmcnO1xuaW1wb3J0ICogYXMgTGluZVV0aWwgZnJvbSAnLi4vLi4vZ2VvbWV0cnkvTGluZVV0aWwnO1xuaW1wb3J0IHtQb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XG5pbXBvcnQgKiBhcyBQb2x5VXRpbCBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2x5VXRpbCc7XG5cbi8qXG4gKiBAY2xhc3MgUG9seWdvblxuICogQGFrYSBMLlBvbHlnb25cbiAqIEBpbmhlcml0cyBQb2x5bGluZVxuICpcbiAqIEEgY2xhc3MgZm9yIGRyYXdpbmcgcG9seWdvbiBvdmVybGF5cyBvbiBhIG1hcC4gRXh0ZW5kcyBgUG9seWxpbmVgLlxuICpcbiAqIE5vdGUgdGhhdCBwb2ludHMgeW91IHBhc3Mgd2hlbiBjcmVhdGluZyBhIHBvbHlnb24gc2hvdWxkbid0IGhhdmUgYW4gYWRkaXRpb25hbCBsYXN0IHBvaW50IGVxdWFsIHRvIHRoZSBmaXJzdCBvbmUg4oCUIGl0J3MgYmV0dGVyIHRvIGZpbHRlciBvdXQgc3VjaCBwb2ludHMuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIC8vIGNyZWF0ZSBhIHJlZCBwb2x5Z29uIGZyb20gYW4gYXJyYXkgb2YgTGF0TG5nIHBvaW50c1xuICogdmFyIGxhdGxuZ3MgPSBbWzM3LCAtMTA5LjA1XSxbNDEsIC0xMDkuMDNdLFs0MSwgLTEwMi4wNV0sWzM3LCAtMTAyLjA0XV07XG4gKlxuICogdmFyIHBvbHlnb24gPSBMLnBvbHlnb24obGF0bG5ncywge2NvbG9yOiAncmVkJ30pLmFkZFRvKG1hcCk7XG4gKlxuICogLy8gem9vbSB0aGUgbWFwIHRvIHRoZSBwb2x5Z29uXG4gKiBtYXAuZml0Qm91bmRzKHBvbHlnb24uZ2V0Qm91bmRzKCkpO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2YgYXJyYXlzIG9mIGxhdGxuZ3MsIHdpdGggdGhlIGZpcnN0IGFycmF5IHJlcHJlc2VudGluZyB0aGUgb3V0ZXIgc2hhcGUgYW5kIHRoZSBvdGhlciBhcnJheXMgcmVwcmVzZW50aW5nIGhvbGVzIGluIHRoZSBvdXRlciBzaGFwZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIGxhdGxuZ3MgPSBbXG4gKiAgIFtbMzcsIC0xMDkuMDVdLFs0MSwgLTEwOS4wM10sWzQxLCAtMTAyLjA1XSxbMzcsIC0xMDIuMDRdXSwgLy8gb3V0ZXIgcmluZ1xuICogICBbWzM3LjI5LCAtMTA4LjU4XSxbNDAuNzEsIC0xMDguNThdLFs0MC43MSwgLTEwMi41MF0sWzM3LjI5LCAtMTAyLjUwXV0gLy8gaG9sZVxuICogXTtcbiAqIGBgYFxuICpcbiAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiBwYXNzIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgdG8gcmVwcmVzZW50IGEgTXVsdGlQb2x5Z29uIHNoYXBlLlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbGF0bG5ncyA9IFtcbiAqICAgWyAvLyBmaXJzdCBwb2x5Z29uXG4gKiAgICAgW1szNywgLTEwOS4wNV0sWzQxLCAtMTA5LjAzXSxbNDEsIC0xMDIuMDVdLFszNywgLTEwMi4wNF1dLCAvLyBvdXRlciByaW5nXG4gKiAgICAgW1szNy4yOSwgLTEwOC41OF0sWzQwLjcxLCAtMTA4LjU4XSxbNDAuNzEsIC0xMDIuNTBdLFszNy4yOSwgLTEwMi41MF1dIC8vIGhvbGVcbiAqICAgXSxcbiAqICAgWyAvLyBzZWNvbmQgcG9seWdvblxuICogICAgIFtbNDEsIC0xMTEuMDNdLFs0NSwgLTExMS4wNF0sWzQ1LCAtMTA0LjA1XSxbNDEsIC0xMDQuMDVdXVxuICogICBdXG4gKiBdO1xuICogYGBgXG4gKi9cblxuZXhwb3J0IHZhciBQb2x5Z29uID0gUG9seWxpbmUuZXh0ZW5kKHtcblxuXHRvcHRpb25zOiB7XG5cdFx0ZmlsbDogdHJ1ZVxuXHR9LFxuXG5cdGlzRW1wdHk6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gIXRoaXMuX2xhdGxuZ3MubGVuZ3RoIHx8ICF0aGlzLl9sYXRsbmdzWzBdLmxlbmd0aDtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldENlbnRlcigpOiBMYXRMbmdcblx0Ly8gUmV0dXJucyB0aGUgY2VudGVyIChbY2VudHJvaWRdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2VudHJvaWQpKSBvZiB0aGUgUG9seWdvbi5cblx0Z2V0Q2VudGVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gdGhyb3dzIGVycm9yIHdoZW4gbm90IHlldCBhZGRlZCB0byBtYXAgYXMgdGhpcyBjZW50ZXIgY2FsY3VsYXRpb24gcmVxdWlyZXMgcHJvamVjdGVkIGNvb3JkaW5hdGVzXG5cdFx0aWYgKCF0aGlzLl9tYXApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTXVzdCBhZGQgbGF5ZXIgdG8gbWFwIGJlZm9yZSB1c2luZyBnZXRDZW50ZXIoKScpO1xuXHRcdH1cblx0XHRyZXR1cm4gUG9seVV0aWwucG9seWdvbkNlbnRlcih0aGlzLl9kZWZhdWx0U2hhcGUoKSwgdGhpcy5fbWFwLm9wdGlvbnMuY3JzKTtcblx0fSxcblxuXHRfY29udmVydExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFBvbHlsaW5lLnByb3RvdHlwZS5fY29udmVydExhdExuZ3MuY2FsbCh0aGlzLCBsYXRsbmdzKSxcblx0XHQgICAgbGVuID0gcmVzdWx0Lmxlbmd0aDtcblxuXHRcdC8vIHJlbW92ZSBsYXN0IHBvaW50IGlmIGl0IGVxdWFscyBmaXJzdCBvbmVcblx0XHRpZiAobGVuID49IDIgJiYgcmVzdWx0WzBdIGluc3RhbmNlb2YgTGF0TG5nICYmIHJlc3VsdFswXS5lcXVhbHMocmVzdWx0W2xlbiAtIDFdKSkge1xuXHRcdFx0cmVzdWx0LnBvcCgpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdF9zZXRMYXRMbmdzOiBmdW5jdGlvbiAobGF0bG5ncykge1xuXHRcdFBvbHlsaW5lLnByb3RvdHlwZS5fc2V0TGF0TG5ncy5jYWxsKHRoaXMsIGxhdGxuZ3MpO1xuXHRcdGlmIChMaW5lVXRpbC5pc0ZsYXQodGhpcy5fbGF0bG5ncykpIHtcblx0XHRcdHRoaXMuX2xhdGxuZ3MgPSBbdGhpcy5fbGF0bG5nc107XG5cdFx0fVxuXHR9LFxuXG5cdF9kZWZhdWx0U2hhcGU6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gTGluZVV0aWwuaXNGbGF0KHRoaXMuX2xhdGxuZ3NbMF0pID8gdGhpcy5fbGF0bG5nc1swXSA6IHRoaXMuX2xhdGxuZ3NbMF1bMF07XG5cdH0sXG5cblx0X2NsaXBQb2ludHM6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBwb2x5Z29ucyBuZWVkIGEgZGlmZmVyZW50IGNsaXBwaW5nIGFsZ29yaXRobSBzbyB3ZSByZWRlZmluZSB0aGF0XG5cblx0XHR2YXIgYm91bmRzID0gdGhpcy5fcmVuZGVyZXIuX2JvdW5kcyxcblx0XHQgICAgdyA9IHRoaXMub3B0aW9ucy53ZWlnaHQsXG5cdFx0ICAgIHAgPSBuZXcgUG9pbnQodywgdyk7XG5cblx0XHQvLyBpbmNyZWFzZSBjbGlwIHBhZGRpbmcgYnkgc3Ryb2tlIHdpZHRoIHRvIGF2b2lkIHN0cm9rZSBvbiBjbGlwIGVkZ2VzXG5cdFx0Ym91bmRzID0gbmV3IEJvdW5kcyhib3VuZHMubWluLnN1YnRyYWN0KHApLCBib3VuZHMubWF4LmFkZChwKSk7XG5cblx0XHR0aGlzLl9wYXJ0cyA9IFtdO1xuXHRcdGlmICghdGhpcy5fcHhCb3VuZHMgfHwgIXRoaXMuX3B4Qm91bmRzLmludGVyc2VjdHMoYm91bmRzKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLm9wdGlvbnMubm9DbGlwKSB7XG5cdFx0XHR0aGlzLl9wYXJ0cyA9IHRoaXMuX3JpbmdzO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9yaW5ncy5sZW5ndGgsIGNsaXBwZWQ7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0Y2xpcHBlZCA9IFBvbHlVdGlsLmNsaXBQb2x5Z29uKHRoaXMuX3JpbmdzW2ldLCBib3VuZHMsIHRydWUpO1xuXHRcdFx0aWYgKGNsaXBwZWQubGVuZ3RoKSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLnB1c2goY2xpcHBlZCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVQYXRoOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVuZGVyZXIuX3VwZGF0ZVBvbHkodGhpcywgdHJ1ZSk7XG5cdH0sXG5cblx0Ly8gTmVlZGVkIGJ5IHRoZSBgQ2FudmFzYCByZW5kZXJlciBmb3IgaW50ZXJhY3Rpdml0eVxuXHRfY29udGFpbnNQb2ludDogZnVuY3Rpb24gKHApIHtcblx0XHR2YXIgaW5zaWRlID0gZmFsc2UsXG5cdFx0ICAgIHBhcnQsIHAxLCBwMiwgaSwgaiwgaywgbGVuLCBsZW4yO1xuXG5cdFx0aWYgKCF0aGlzLl9weEJvdW5kcyB8fCAhdGhpcy5fcHhCb3VuZHMuY29udGFpbnMocCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0XHQvLyByYXkgY2FzdGluZyBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBpZiBwb2ludCBpcyBpbiBwb2x5Z29uXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gdGhpcy5fcGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHBhcnQgPSB0aGlzLl9wYXJ0c1tpXTtcblxuXHRcdFx0Zm9yIChqID0gMCwgbGVuMiA9IHBhcnQubGVuZ3RoLCBrID0gbGVuMiAtIDE7IGogPCBsZW4yOyBrID0gaisrKSB7XG5cdFx0XHRcdHAxID0gcGFydFtqXTtcblx0XHRcdFx0cDIgPSBwYXJ0W2tdO1xuXG5cdFx0XHRcdGlmICgoKHAxLnkgPiBwLnkpICE9PSAocDIueSA+IHAueSkpICYmIChwLnggPCAocDIueCAtIHAxLngpICogKHAueSAtIHAxLnkpIC8gKHAyLnkgLSBwMS55KSArIHAxLngpKSB7XG5cdFx0XHRcdFx0aW5zaWRlID0gIWluc2lkZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGFsc28gY2hlY2sgaWYgaXQncyBvbiBwb2x5Z29uIHN0cm9rZVxuXHRcdHJldHVybiBpbnNpZGUgfHwgUG9seWxpbmUucHJvdG90eXBlLl9jb250YWluc1BvaW50LmNhbGwodGhpcywgcCwgdHJ1ZSk7XG5cdH1cblxufSk7XG5cblxuLy8gQGZhY3RvcnkgTC5wb2x5Z29uKGxhdGxuZ3M6IExhdExuZ1tdLCBvcHRpb25zPzogUG9seWxpbmUgb3B0aW9ucylcbmV4cG9ydCBmdW5jdGlvbiBwb2x5Z29uKGxhdGxuZ3MsIG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBQb2x5Z29uKGxhdGxuZ3MsIG9wdGlvbnMpO1xufVxuIiwgImltcG9ydCB7TGF5ZXJHcm91cH0gZnJvbSAnLi9MYXllckdyb3VwJztcclxuaW1wb3J0IHtGZWF0dXJlR3JvdXB9IGZyb20gJy4vRmVhdHVyZUdyb3VwJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge01hcmtlcn0gZnJvbSAnLi9tYXJrZXIvTWFya2VyJztcclxuaW1wb3J0IHtDaXJjbGV9IGZyb20gJy4vdmVjdG9yL0NpcmNsZSc7XHJcbmltcG9ydCB7Q2lyY2xlTWFya2VyfSBmcm9tICcuL3ZlY3Rvci9DaXJjbGVNYXJrZXInO1xyXG5pbXBvcnQge1BvbHlsaW5lfSBmcm9tICcuL3ZlY3Rvci9Qb2x5bGluZSc7XHJcbmltcG9ydCB7UG9seWdvbn0gZnJvbSAnLi92ZWN0b3IvUG9seWdvbic7XHJcbmltcG9ydCB7TGF0TG5nfSBmcm9tICcuLi9nZW8vTGF0TG5nJztcclxuaW1wb3J0ICogYXMgTGluZVV0aWwgZnJvbSAnLi4vZ2VvbWV0cnkvTGluZVV0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nfSBmcm9tICcuLi9nZW8vTGF0TG5nJztcclxuXHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgR2VvSlNPTlxyXG4gKiBAYWthIEwuR2VvSlNPTlxyXG4gKiBAaW5oZXJpdHMgRmVhdHVyZUdyb3VwXHJcbiAqXHJcbiAqIFJlcHJlc2VudHMgYSBHZW9KU09OIG9iamVjdCBvciBhbiBhcnJheSBvZiBHZW9KU09OIG9iamVjdHMuIEFsbG93cyB5b3UgdG8gcGFyc2VcclxuICogR2VvSlNPTiBkYXRhIGFuZCBkaXNwbGF5IGl0IG9uIHRoZSBtYXAuIEV4dGVuZHMgYEZlYXR1cmVHcm91cGAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIEwuZ2VvSlNPTihkYXRhLCB7XHJcbiAqIFx0c3R5bGU6IGZ1bmN0aW9uIChmZWF0dXJlKSB7XHJcbiAqIFx0XHRyZXR1cm4ge2NvbG9yOiBmZWF0dXJlLnByb3BlcnRpZXMuY29sb3J9O1xyXG4gKiBcdH1cclxuICogfSkuYmluZFBvcHVwKGZ1bmN0aW9uIChsYXllcikge1xyXG4gKiBcdHJldHVybiBsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuZGVzY3JpcHRpb247XHJcbiAqIH0pLmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgR2VvSlNPTiA9IEZlYXR1cmVHcm91cC5leHRlbmQoe1xyXG5cclxuXHQvKiBAc2VjdGlvblxyXG5cdCAqIEBha2EgR2VvSlNPTiBvcHRpb25zXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHBvaW50VG9MYXllcjogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIGRlZmluaW5nIGhvdyBHZW9KU09OIHBvaW50cyBzcGF3biBMZWFmbGV0IGxheWVycy4gSXQgaXMgaW50ZXJuYWxseVxyXG5cdCAqIGNhbGxlZCB3aGVuIGRhdGEgaXMgYWRkZWQsIHBhc3NpbmcgdGhlIEdlb0pTT04gcG9pbnQgZmVhdHVyZSBhbmQgaXRzIGBMYXRMbmdgLlxyXG5cdCAqIFRoZSBkZWZhdWx0IGlzIHRvIHNwYXduIGEgZGVmYXVsdCBgTWFya2VyYDpcclxuXHQgKiBgYGBqc1xyXG5cdCAqIGZ1bmN0aW9uKGdlb0pzb25Qb2ludCwgbGF0bG5nKSB7XHJcblx0ICogXHRyZXR1cm4gTC5tYXJrZXIobGF0bG5nKTtcclxuXHQgKiB9XHJcblx0ICogYGBgXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHN0eWxlOiBGdW5jdGlvbiA9ICpcclxuXHQgKiBBIGBGdW5jdGlvbmAgZGVmaW5pbmcgdGhlIGBQYXRoIG9wdGlvbnNgIGZvciBzdHlsaW5nIEdlb0pTT04gbGluZXMgYW5kIHBvbHlnb25zLFxyXG5cdCAqIGNhbGxlZCBpbnRlcm5hbGx5IHdoZW4gZGF0YSBpcyBhZGRlZC5cclxuXHQgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0byBub3Qgb3ZlcnJpZGUgYW55IGRlZmF1bHRzOlxyXG5cdCAqIGBgYGpzXHJcblx0ICogZnVuY3Rpb24gKGdlb0pzb25GZWF0dXJlKSB7XHJcblx0ICogXHRyZXR1cm4ge31cclxuXHQgKiB9XHJcblx0ICogYGBgXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIG9uRWFjaEZlYXR1cmU6IEZ1bmN0aW9uID0gKlxyXG5cdCAqIEEgYEZ1bmN0aW9uYCB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uY2UgZm9yIGVhY2ggY3JlYXRlZCBgRmVhdHVyZWAsIGFmdGVyIGl0IGhhc1xyXG5cdCAqIGJlZW4gY3JlYXRlZCBhbmQgc3R5bGVkLiBVc2VmdWwgZm9yIGF0dGFjaGluZyBldmVudHMgYW5kIHBvcHVwcyB0byBmZWF0dXJlcy5cclxuXHQgKiBUaGUgZGVmYXVsdCBpcyB0byBkbyBub3RoaW5nIHdpdGggdGhlIG5ld2x5IGNyZWF0ZWQgbGF5ZXJzOlxyXG5cdCAqIGBgYGpzXHJcblx0ICogZnVuY3Rpb24gKGZlYXR1cmUsIGxheWVyKSB7fVxyXG5cdCAqIGBgYFxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBmaWx0ZXI6IEZ1bmN0aW9uID0gKlxyXG5cdCAqIEEgYEZ1bmN0aW9uYCB0aGF0IHdpbGwgYmUgdXNlZCB0byBkZWNpZGUgd2hldGhlciB0byBpbmNsdWRlIGEgZmVhdHVyZSBvciBub3QuXHJcblx0ICogVGhlIGRlZmF1bHQgaXMgdG8gaW5jbHVkZSBhbGwgZmVhdHVyZXM6XHJcblx0ICogYGBganNcclxuXHQgKiBmdW5jdGlvbiAoZ2VvSnNvbkZlYXR1cmUpIHtcclxuXHQgKiBcdHJldHVybiB0cnVlO1xyXG5cdCAqIH1cclxuXHQgKiBgYGBcclxuXHQgKiBOb3RlOiBkeW5hbWljYWxseSBjaGFuZ2luZyB0aGUgYGZpbHRlcmAgb3B0aW9uIHdpbGwgaGF2ZSBlZmZlY3Qgb25seSBvbiBuZXdseVxyXG5cdCAqIGFkZGVkIGRhdGEuIEl0IHdpbGwgX25vdF8gcmUtZXZhbHVhdGUgYWxyZWFkeSBpbmNsdWRlZCBmZWF0dXJlcy5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gY29vcmRzVG9MYXRMbmc6IEZ1bmN0aW9uID0gKlxyXG5cdCAqIEEgYEZ1bmN0aW9uYCB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgY29udmVydGluZyBHZW9KU09OIGNvb3JkaW5hdGVzIHRvIGBMYXRMbmdgcy5cclxuXHQgKiBUaGUgZGVmYXVsdCBpcyB0aGUgYGNvb3Jkc1RvTGF0TG5nYCBzdGF0aWMgbWV0aG9kLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBtYXJrZXJzSW5oZXJpdE9wdGlvbnM6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdCAqIFdoZXRoZXIgZGVmYXVsdCBNYXJrZXJzIGZvciBcIlBvaW50XCIgdHlwZSBGZWF0dXJlcyBpbmhlcml0IGZyb20gZ3JvdXAgb3B0aW9ucy5cclxuXHQgKi9cclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGdlb2pzb24sIG9wdGlvbnMpIHtcclxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHJcblx0XHR0aGlzLl9sYXllcnMgPSB7fTtcclxuXHJcblx0XHRpZiAoZ2VvanNvbikge1xyXG5cdFx0XHR0aGlzLmFkZERhdGEoZ2VvanNvbik7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGREYXRhKCA8R2VvSlNPTj4gZGF0YSApOiB0aGlzXHJcblx0Ly8gQWRkcyBhIEdlb0pTT04gb2JqZWN0IHRvIHRoZSBsYXllci5cclxuXHRhZGREYXRhOiBmdW5jdGlvbiAoZ2VvanNvbikge1xyXG5cdFx0dmFyIGZlYXR1cmVzID0gVXRpbC5pc0FycmF5KGdlb2pzb24pID8gZ2VvanNvbiA6IGdlb2pzb24uZmVhdHVyZXMsXHJcblx0XHQgICAgaSwgbGVuLCBmZWF0dXJlO1xyXG5cclxuXHRcdGlmIChmZWF0dXJlcykge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBsZW4gPSBmZWF0dXJlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdC8vIG9ubHkgYWRkIHRoaXMgaWYgZ2VvbWV0cnkgb3IgZ2VvbWV0cmllcyBhcmUgc2V0IGFuZCBub3QgbnVsbFxyXG5cdFx0XHRcdGZlYXR1cmUgPSBmZWF0dXJlc1tpXTtcclxuXHRcdFx0XHRpZiAoZmVhdHVyZS5nZW9tZXRyaWVzIHx8IGZlYXR1cmUuZ2VvbWV0cnkgfHwgZmVhdHVyZS5mZWF0dXJlcyB8fCBmZWF0dXJlLmNvb3JkaW5hdGVzKSB7XHJcblx0XHRcdFx0XHR0aGlzLmFkZERhdGEoZmVhdHVyZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLmZpbHRlciAmJiAhb3B0aW9ucy5maWx0ZXIoZ2VvanNvbikpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHR2YXIgbGF5ZXIgPSBnZW9tZXRyeVRvTGF5ZXIoZ2VvanNvbiwgb3B0aW9ucyk7XHJcblx0XHRpZiAoIWxheWVyKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0bGF5ZXIuZmVhdHVyZSA9IGFzRmVhdHVyZShnZW9qc29uKTtcclxuXHJcblx0XHRsYXllci5kZWZhdWx0T3B0aW9ucyA9IGxheWVyLm9wdGlvbnM7XHJcblx0XHR0aGlzLnJlc2V0U3R5bGUobGF5ZXIpO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLm9uRWFjaEZlYXR1cmUpIHtcclxuXHRcdFx0b3B0aW9ucy5vbkVhY2hGZWF0dXJlKGdlb2pzb24sIGxheWVyKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5hZGRMYXllcihsYXllcik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZXNldFN0eWxlKCA8UGF0aD4gbGF5ZXI/ICk6IHRoaXNcclxuXHQvLyBSZXNldHMgdGhlIGdpdmVuIHZlY3RvciBsYXllcidzIHN0eWxlIHRvIHRoZSBvcmlnaW5hbCBHZW9KU09OIHN0eWxlLCB1c2VmdWwgZm9yIHJlc2V0dGluZyBzdHlsZSBhZnRlciBob3ZlciBldmVudHMuXHJcblx0Ly8gSWYgYGxheWVyYCBpcyBvbWl0dGVkLCB0aGUgc3R5bGUgb2YgYWxsIGZlYXR1cmVzIGluIHRoZSBjdXJyZW50IGxheWVyIGlzIHJlc2V0LlxyXG5cdHJlc2V0U3R5bGU6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0aWYgKGxheWVyID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaExheWVyKHRoaXMucmVzZXRTdHlsZSwgdGhpcyk7XHJcblx0XHR9XHJcblx0XHQvLyByZXNldCBhbnkgY3VzdG9tIHN0eWxlc1xyXG5cdFx0bGF5ZXIub3B0aW9ucyA9IFV0aWwuZXh0ZW5kKHt9LCBsYXllci5kZWZhdWx0T3B0aW9ucyk7XHJcblx0XHR0aGlzLl9zZXRMYXllclN0eWxlKGxheWVyLCB0aGlzLm9wdGlvbnMuc3R5bGUpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRTdHlsZSggPEZ1bmN0aW9uPiBzdHlsZSApOiB0aGlzXHJcblx0Ly8gQ2hhbmdlcyBzdHlsZXMgb2YgR2VvSlNPTiB2ZWN0b3IgbGF5ZXJzIHdpdGggdGhlIGdpdmVuIHN0eWxlIGZ1bmN0aW9uLlxyXG5cdHNldFN0eWxlOiBmdW5jdGlvbiAoc3R5bGUpIHtcclxuXHRcdHJldHVybiB0aGlzLmVhY2hMYXllcihmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdFx0dGhpcy5fc2V0TGF5ZXJTdHlsZShsYXllciwgc3R5bGUpO1xyXG5cdFx0fSwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0X3NldExheWVyU3R5bGU6IGZ1bmN0aW9uIChsYXllciwgc3R5bGUpIHtcclxuXHRcdGlmIChsYXllci5zZXRTdHlsZSkge1xyXG5cdFx0XHRpZiAodHlwZW9mIHN0eWxlID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0c3R5bGUgPSBzdHlsZShsYXllci5mZWF0dXJlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRsYXllci5zZXRTdHlsZShzdHlsZSk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBzZWN0aW9uXHJcbi8vIFRoZXJlIGFyZSBzZXZlcmFsIHN0YXRpYyBmdW5jdGlvbnMgd2hpY2ggY2FuIGJlIGNhbGxlZCB3aXRob3V0IGluc3RhbnRpYXRpbmcgTC5HZW9KU09OOlxyXG5cclxuLy8gQGZ1bmN0aW9uIGdlb21ldHJ5VG9MYXllcihmZWF0dXJlRGF0YTogT2JqZWN0LCBvcHRpb25zPzogR2VvSlNPTiBvcHRpb25zKTogTGF5ZXJcclxuLy8gQ3JlYXRlcyBhIGBMYXllcmAgZnJvbSBhIGdpdmVuIEdlb0pTT04gZmVhdHVyZS4gQ2FuIHVzZSBhIGN1c3RvbVxyXG4vLyBbYHBvaW50VG9MYXllcmBdKCNnZW9qc29uLXBvaW50dG9sYXllcikgYW5kL29yIFtgY29vcmRzVG9MYXRMbmdgXSgjZ2VvanNvbi1jb29yZHN0b2xhdGxuZylcclxuLy8gZnVuY3Rpb25zIGlmIHByb3ZpZGVkIGFzIG9wdGlvbnMuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW9tZXRyeVRvTGF5ZXIoZ2VvanNvbiwgb3B0aW9ucykge1xyXG5cclxuXHR2YXIgZ2VvbWV0cnkgPSBnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlJyA/IGdlb2pzb24uZ2VvbWV0cnkgOiBnZW9qc29uLFxyXG5cdCAgICBjb29yZHMgPSBnZW9tZXRyeSA/IGdlb21ldHJ5LmNvb3JkaW5hdGVzIDogbnVsbCxcclxuXHQgICAgbGF5ZXJzID0gW10sXHJcblx0ICAgIHBvaW50VG9MYXllciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wb2ludFRvTGF5ZXIsXHJcblx0ICAgIF9jb29yZHNUb0xhdExuZyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jb29yZHNUb0xhdExuZyB8fCBjb29yZHNUb0xhdExuZyxcclxuXHQgICAgbGF0bG5nLCBsYXRsbmdzLCBpLCBsZW47XHJcblxyXG5cdGlmICghY29vcmRzICYmICFnZW9tZXRyeSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcclxuXHRjYXNlICdQb2ludCc6XHJcblx0XHRsYXRsbmcgPSBfY29vcmRzVG9MYXRMbmcoY29vcmRzKTtcclxuXHRcdHJldHVybiBfcG9pbnRUb0xheWVyKHBvaW50VG9MYXllciwgZ2VvanNvbiwgbGF0bG5nLCBvcHRpb25zKTtcclxuXHJcblx0Y2FzZSAnTXVsdGlQb2ludCc6XHJcblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb29yZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0bGF0bG5nID0gX2Nvb3Jkc1RvTGF0TG5nKGNvb3Jkc1tpXSk7XHJcblx0XHRcdGxheWVycy5wdXNoKF9wb2ludFRvTGF5ZXIocG9pbnRUb0xheWVyLCBnZW9qc29uLCBsYXRsbmcsIG9wdGlvbnMpKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBuZXcgRmVhdHVyZUdyb3VwKGxheWVycyk7XHJcblxyXG5cdGNhc2UgJ0xpbmVTdHJpbmcnOlxyXG5cdGNhc2UgJ011bHRpTGluZVN0cmluZyc6XHJcblx0XHRsYXRsbmdzID0gY29vcmRzVG9MYXRMbmdzKGNvb3JkcywgZ2VvbWV0cnkudHlwZSA9PT0gJ0xpbmVTdHJpbmcnID8gMCA6IDEsIF9jb29yZHNUb0xhdExuZyk7XHJcblx0XHRyZXR1cm4gbmV3IFBvbHlsaW5lKGxhdGxuZ3MsIG9wdGlvbnMpO1xyXG5cclxuXHRjYXNlICdQb2x5Z29uJzpcclxuXHRjYXNlICdNdWx0aVBvbHlnb24nOlxyXG5cdFx0bGF0bG5ncyA9IGNvb3Jkc1RvTGF0TG5ncyhjb29yZHMsIGdlb21ldHJ5LnR5cGUgPT09ICdQb2x5Z29uJyA/IDEgOiAyLCBfY29vcmRzVG9MYXRMbmcpO1xyXG5cdFx0cmV0dXJuIG5ldyBQb2x5Z29uKGxhdGxuZ3MsIG9wdGlvbnMpO1xyXG5cclxuXHRjYXNlICdHZW9tZXRyeUNvbGxlY3Rpb24nOlxyXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHR2YXIgZ2VvTGF5ZXIgPSBnZW9tZXRyeVRvTGF5ZXIoe1xyXG5cdFx0XHRcdGdlb21ldHJ5OiBnZW9tZXRyeS5nZW9tZXRyaWVzW2ldLFxyXG5cdFx0XHRcdHR5cGU6ICdGZWF0dXJlJyxcclxuXHRcdFx0XHRwcm9wZXJ0aWVzOiBnZW9qc29uLnByb3BlcnRpZXNcclxuXHRcdFx0fSwgb3B0aW9ucyk7XHJcblxyXG5cdFx0XHRpZiAoZ2VvTGF5ZXIpIHtcclxuXHRcdFx0XHRsYXllcnMucHVzaChnZW9MYXllcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBuZXcgRmVhdHVyZUdyb3VwKGxheWVycyk7XHJcblxyXG5cdGNhc2UgJ0ZlYXR1cmVDb2xsZWN0aW9uJzpcclxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGdlb21ldHJ5LmZlYXR1cmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdHZhciBmZWF0dXJlTGF5ZXIgPSBnZW9tZXRyeVRvTGF5ZXIoZ2VvbWV0cnkuZmVhdHVyZXNbaV0sIG9wdGlvbnMpO1xyXG5cclxuXHRcdFx0aWYgKGZlYXR1cmVMYXllcikge1xyXG5cdFx0XHRcdGxheWVycy5wdXNoKGZlYXR1cmVMYXllcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBuZXcgRmVhdHVyZUdyb3VwKGxheWVycyk7XHJcblxyXG5cdGRlZmF1bHQ6XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgR2VvSlNPTiBvYmplY3QuJyk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBfcG9pbnRUb0xheWVyKHBvaW50VG9MYXllckZuLCBnZW9qc29uLCBsYXRsbmcsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gcG9pbnRUb0xheWVyRm4gP1xyXG5cdFx0cG9pbnRUb0xheWVyRm4oZ2VvanNvbiwgbGF0bG5nKSA6XHJcblx0XHRuZXcgTWFya2VyKGxhdGxuZywgb3B0aW9ucyAmJiBvcHRpb25zLm1hcmtlcnNJbmhlcml0T3B0aW9ucyAmJiBvcHRpb25zKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGNvb3Jkc1RvTGF0TG5nKGNvb3JkczogQXJyYXkpOiBMYXRMbmdcclxuLy8gQ3JlYXRlcyBhIGBMYXRMbmdgIG9iamVjdCBmcm9tIGFuIGFycmF5IG9mIDIgbnVtYmVycyAobG9uZ2l0dWRlLCBsYXRpdHVkZSlcclxuLy8gb3IgMyBudW1iZXJzIChsb25naXR1ZGUsIGxhdGl0dWRlLCBhbHRpdHVkZSkgdXNlZCBpbiBHZW9KU09OIGZvciBwb2ludHMuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb29yZHNUb0xhdExuZyhjb29yZHMpIHtcclxuXHRyZXR1cm4gbmV3IExhdExuZyhjb29yZHNbMV0sIGNvb3Jkc1swXSwgY29vcmRzWzJdKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGNvb3Jkc1RvTGF0TG5ncyhjb29yZHM6IEFycmF5LCBsZXZlbHNEZWVwPzogTnVtYmVyLCBjb29yZHNUb0xhdExuZz86IEZ1bmN0aW9uKTogQXJyYXlcclxuLy8gQ3JlYXRlcyBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkgb2YgYExhdExuZ2BzIGZyb20gYSBHZW9KU09OIGNvb3JkaW5hdGVzIGFycmF5LlxyXG4vLyBgbGV2ZWxzRGVlcGAgc3BlY2lmaWVzIHRoZSBuZXN0aW5nIGxldmVsICgwIGlzIGZvciBhbiBhcnJheSBvZiBwb2ludHMsIDEgZm9yIGFuIGFycmF5IG9mIGFycmF5cyBvZiBwb2ludHMsIGV0Yy4sIDAgYnkgZGVmYXVsdCkuXHJcbi8vIENhbiB1c2UgYSBjdXN0b20gW2Bjb29yZHNUb0xhdExuZ2BdKCNnZW9qc29uLWNvb3Jkc3RvbGF0bG5nKSBmdW5jdGlvbi5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvb3Jkc1RvTGF0TG5ncyhjb29yZHMsIGxldmVsc0RlZXAsIF9jb29yZHNUb0xhdExuZykge1xyXG5cdHZhciBsYXRsbmdzID0gW107XHJcblxyXG5cdGZvciAodmFyIGkgPSAwLCBsZW4gPSBjb29yZHMubGVuZ3RoLCBsYXRsbmc7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0bGF0bG5nID0gbGV2ZWxzRGVlcCA/XHJcblx0XHRcdGNvb3Jkc1RvTGF0TG5ncyhjb29yZHNbaV0sIGxldmVsc0RlZXAgLSAxLCBfY29vcmRzVG9MYXRMbmcpIDpcclxuXHRcdFx0KF9jb29yZHNUb0xhdExuZyB8fCBjb29yZHNUb0xhdExuZykoY29vcmRzW2ldKTtcclxuXHJcblx0XHRsYXRsbmdzLnB1c2gobGF0bG5nKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBsYXRsbmdzO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gbGF0TG5nVG9Db29yZHMobGF0bG5nOiBMYXRMbmcsIHByZWNpc2lvbj86IE51bWJlcnxmYWxzZSk6IEFycmF5XHJcbi8vIFJldmVyc2Ugb2YgW2Bjb29yZHNUb0xhdExuZ2BdKCNnZW9qc29uLWNvb3Jkc3RvbGF0bG5nKVxyXG4vLyBDb29yZGluYXRlcyB2YWx1ZXMgYXJlIHJvdW5kZWQgd2l0aCBbYGZvcm1hdE51bWBdKCN1dGlsLWZvcm1hdG51bSkgZnVuY3Rpb24uXHJcbmV4cG9ydCBmdW5jdGlvbiBsYXRMbmdUb0Nvb3JkcyhsYXRsbmcsIHByZWNpc2lvbikge1xyXG5cdGxhdGxuZyA9IHRvTGF0TG5nKGxhdGxuZyk7XHJcblx0cmV0dXJuIGxhdGxuZy5hbHQgIT09IHVuZGVmaW5lZCA/XHJcblx0XHRbVXRpbC5mb3JtYXROdW0obGF0bG5nLmxuZywgcHJlY2lzaW9uKSwgVXRpbC5mb3JtYXROdW0obGF0bG5nLmxhdCwgcHJlY2lzaW9uKSwgVXRpbC5mb3JtYXROdW0obGF0bG5nLmFsdCwgcHJlY2lzaW9uKV0gOlxyXG5cdFx0W1V0aWwuZm9ybWF0TnVtKGxhdGxuZy5sbmcsIHByZWNpc2lvbiksIFV0aWwuZm9ybWF0TnVtKGxhdGxuZy5sYXQsIHByZWNpc2lvbildO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gbGF0TG5nc1RvQ29vcmRzKGxhdGxuZ3M6IEFycmF5LCBsZXZlbHNEZWVwPzogTnVtYmVyLCBjbG9zZWQ/OiBCb29sZWFuLCBwcmVjaXNpb24/OiBOdW1iZXJ8ZmFsc2UpOiBBcnJheVxyXG4vLyBSZXZlcnNlIG9mIFtgY29vcmRzVG9MYXRMbmdzYF0oI2dlb2pzb24tY29vcmRzdG9sYXRsbmdzKVxyXG4vLyBgY2xvc2VkYCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGZpcnN0IHBvaW50IHNob3VsZCBiZSBhcHBlbmRlZCB0byB0aGUgZW5kIG9mIHRoZSBhcnJheSB0byBjbG9zZSB0aGUgZmVhdHVyZSwgb25seSB1c2VkIHdoZW4gYGxldmVsc0RlZXBgIGlzIDAuIEZhbHNlIGJ5IGRlZmF1bHQuXHJcbi8vIENvb3JkaW5hdGVzIHZhbHVlcyBhcmUgcm91bmRlZCB3aXRoIFtgZm9ybWF0TnVtYF0oI3V0aWwtZm9ybWF0bnVtKSBmdW5jdGlvbi5cclxuZXhwb3J0IGZ1bmN0aW9uIGxhdExuZ3NUb0Nvb3JkcyhsYXRsbmdzLCBsZXZlbHNEZWVwLCBjbG9zZWQsIHByZWNpc2lvbikge1xyXG5cdHZhciBjb29yZHMgPSBbXTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhdGxuZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdC8vIENoZWNrIGZvciBmbGF0IGFycmF5cyByZXF1aXJlZCB0byBlbnN1cmUgdW5iYWxhbmNlZCBhcnJheXMgYXJlIGNvcnJlY3RseSBjb252ZXJ0ZWQgaW4gcmVjdXJzaW9uXHJcblx0XHRjb29yZHMucHVzaChsZXZlbHNEZWVwID9cclxuXHRcdFx0bGF0TG5nc1RvQ29vcmRzKGxhdGxuZ3NbaV0sIExpbmVVdGlsLmlzRmxhdChsYXRsbmdzW2ldKSA/IDAgOiBsZXZlbHNEZWVwIC0gMSwgY2xvc2VkLCBwcmVjaXNpb24pIDpcclxuXHRcdFx0bGF0TG5nVG9Db29yZHMobGF0bG5nc1tpXSwgcHJlY2lzaW9uKSk7XHJcblx0fVxyXG5cclxuXHRpZiAoIWxldmVsc0RlZXAgJiYgY2xvc2VkICYmIGNvb3Jkcy5sZW5ndGggPiAwKSB7XHJcblx0XHRjb29yZHMucHVzaChjb29yZHNbMF0uc2xpY2UoKSk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY29vcmRzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmVhdHVyZShsYXllciwgbmV3R2VvbWV0cnkpIHtcclxuXHRyZXR1cm4gbGF5ZXIuZmVhdHVyZSA/XHJcblx0XHRVdGlsLmV4dGVuZCh7fSwgbGF5ZXIuZmVhdHVyZSwge2dlb21ldHJ5OiBuZXdHZW9tZXRyeX0pIDpcclxuXHRcdGFzRmVhdHVyZShuZXdHZW9tZXRyeSk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBhc0ZlYXR1cmUoZ2VvanNvbjogT2JqZWN0KTogT2JqZWN0XHJcbi8vIE5vcm1hbGl6ZSBHZW9KU09OIGdlb21ldHJpZXMvZmVhdHVyZXMgaW50byBHZW9KU09OIGZlYXR1cmVzLlxyXG5leHBvcnQgZnVuY3Rpb24gYXNGZWF0dXJlKGdlb2pzb24pIHtcclxuXHRpZiAoZ2VvanNvbi50eXBlID09PSAnRmVhdHVyZScgfHwgZ2VvanNvbi50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSB7XHJcblx0XHRyZXR1cm4gZ2VvanNvbjtcclxuXHR9XHJcblxyXG5cdHJldHVybiB7XHJcblx0XHR0eXBlOiAnRmVhdHVyZScsXHJcblx0XHRwcm9wZXJ0aWVzOiB7fSxcclxuXHRcdGdlb21ldHJ5OiBnZW9qc29uXHJcblx0fTtcclxufVxyXG5cclxudmFyIFBvaW50VG9HZW9KU09OID0ge1xyXG5cdHRvR2VvSlNPTjogZnVuY3Rpb24gKHByZWNpc2lvbikge1xyXG5cdFx0cmV0dXJuIGdldEZlYXR1cmUodGhpcywge1xyXG5cdFx0XHR0eXBlOiAnUG9pbnQnLFxyXG5cdFx0XHRjb29yZGluYXRlczogbGF0TG5nVG9Db29yZHModGhpcy5nZXRMYXRMbmcoKSwgcHJlY2lzaW9uKVxyXG5cdFx0fSk7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gQG5hbWVzcGFjZSBNYXJrZXJcclxuLy8gQHNlY3Rpb24gT3RoZXIgbWV0aG9kc1xyXG4vLyBAbWV0aG9kIHRvR2VvSlNPTihwcmVjaXNpb24/OiBOdW1iZXJ8ZmFsc2UpOiBPYmplY3RcclxuLy8gQ29vcmRpbmF0ZXMgdmFsdWVzIGFyZSByb3VuZGVkIHdpdGggW2Bmb3JtYXROdW1gXSgjdXRpbC1mb3JtYXRudW0pIGZ1bmN0aW9uIHdpdGggZ2l2ZW4gYHByZWNpc2lvbmAuXHJcbi8vIFJldHVybnMgYSBbYEdlb0pTT05gXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HZW9KU09OKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWFya2VyIChhcyBhIEdlb0pTT04gYFBvaW50YCBGZWF0dXJlKS5cclxuTWFya2VyLmluY2x1ZGUoUG9pbnRUb0dlb0pTT04pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBDaXJjbGVNYXJrZXJcclxuLy8gQG1ldGhvZCB0b0dlb0pTT04ocHJlY2lzaW9uPzogTnVtYmVyfGZhbHNlKTogT2JqZWN0XHJcbi8vIENvb3JkaW5hdGVzIHZhbHVlcyBhcmUgcm91bmRlZCB3aXRoIFtgZm9ybWF0TnVtYF0oI3V0aWwtZm9ybWF0bnVtKSBmdW5jdGlvbiB3aXRoIGdpdmVuIGBwcmVjaXNpb25gLlxyXG4vLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2VvSlNPTikgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNpcmNsZSBtYXJrZXIgKGFzIGEgR2VvSlNPTiBgUG9pbnRgIEZlYXR1cmUpLlxyXG5DaXJjbGUuaW5jbHVkZShQb2ludFRvR2VvSlNPTik7XHJcbkNpcmNsZU1hcmtlci5pbmNsdWRlKFBvaW50VG9HZW9KU09OKTtcclxuXHJcblxyXG4vLyBAbmFtZXNwYWNlIFBvbHlsaW5lXHJcbi8vIEBtZXRob2QgdG9HZW9KU09OKHByZWNpc2lvbj86IE51bWJlcnxmYWxzZSk6IE9iamVjdFxyXG4vLyBDb29yZGluYXRlcyB2YWx1ZXMgYXJlIHJvdW5kZWQgd2l0aCBbYGZvcm1hdE51bWBdKCN1dGlsLWZvcm1hdG51bSkgZnVuY3Rpb24gd2l0aCBnaXZlbiBgcHJlY2lzaW9uYC5cclxuLy8gUmV0dXJucyBhIFtgR2VvSlNPTmBdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dlb0pTT04pIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwb2x5bGluZSAoYXMgYSBHZW9KU09OIGBMaW5lU3RyaW5nYCBvciBgTXVsdGlMaW5lU3RyaW5nYCBGZWF0dXJlKS5cclxuUG9seWxpbmUuaW5jbHVkZSh7XHJcblx0dG9HZW9KU09OOiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XHJcblx0XHR2YXIgbXVsdGkgPSAhTGluZVV0aWwuaXNGbGF0KHRoaXMuX2xhdGxuZ3MpO1xyXG5cclxuXHRcdHZhciBjb29yZHMgPSBsYXRMbmdzVG9Db29yZHModGhpcy5fbGF0bG5ncywgbXVsdGkgPyAxIDogMCwgZmFsc2UsIHByZWNpc2lvbik7XHJcblxyXG5cdFx0cmV0dXJuIGdldEZlYXR1cmUodGhpcywge1xyXG5cdFx0XHR0eXBlOiAobXVsdGkgPyAnTXVsdGknIDogJycpICsgJ0xpbmVTdHJpbmcnLFxyXG5cdFx0XHRjb29yZGluYXRlczogY29vcmRzXHJcblx0XHR9KTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBQb2x5Z29uXHJcbi8vIEBtZXRob2QgdG9HZW9KU09OKHByZWNpc2lvbj86IE51bWJlcnxmYWxzZSk6IE9iamVjdFxyXG4vLyBDb29yZGluYXRlcyB2YWx1ZXMgYXJlIHJvdW5kZWQgd2l0aCBbYGZvcm1hdE51bWBdKCN1dGlsLWZvcm1hdG51bSkgZnVuY3Rpb24gd2l0aCBnaXZlbiBgcHJlY2lzaW9uYC5cclxuLy8gUmV0dXJucyBhIFtgR2VvSlNPTmBdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dlb0pTT04pIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwb2x5Z29uIChhcyBhIEdlb0pTT04gYFBvbHlnb25gIG9yIGBNdWx0aVBvbHlnb25gIEZlYXR1cmUpLlxyXG5Qb2x5Z29uLmluY2x1ZGUoe1xyXG5cdHRvR2VvSlNPTjogZnVuY3Rpb24gKHByZWNpc2lvbikge1xyXG5cdFx0dmFyIGhvbGVzID0gIUxpbmVVdGlsLmlzRmxhdCh0aGlzLl9sYXRsbmdzKSxcclxuXHRcdCAgICBtdWx0aSA9IGhvbGVzICYmICFMaW5lVXRpbC5pc0ZsYXQodGhpcy5fbGF0bG5nc1swXSk7XHJcblxyXG5cdFx0dmFyIGNvb3JkcyA9IGxhdExuZ3NUb0Nvb3Jkcyh0aGlzLl9sYXRsbmdzLCBtdWx0aSA/IDIgOiBob2xlcyA/IDEgOiAwLCB0cnVlLCBwcmVjaXNpb24pO1xyXG5cclxuXHRcdGlmICghaG9sZXMpIHtcclxuXHRcdFx0Y29vcmRzID0gW2Nvb3Jkc107XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGdldEZlYXR1cmUodGhpcywge1xyXG5cdFx0XHR0eXBlOiAobXVsdGkgPyAnTXVsdGknIDogJycpICsgJ1BvbHlnb24nLFxyXG5cdFx0XHRjb29yZGluYXRlczogY29vcmRzXHJcblx0XHR9KTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbi8vIEBuYW1lc3BhY2UgTGF5ZXJHcm91cFxyXG5MYXllckdyb3VwLmluY2x1ZGUoe1xyXG5cdHRvTXVsdGlQb2ludDogZnVuY3Rpb24gKHByZWNpc2lvbikge1xyXG5cdFx0dmFyIGNvb3JkcyA9IFtdO1xyXG5cclxuXHRcdHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0XHRjb29yZHMucHVzaChsYXllci50b0dlb0pTT04ocHJlY2lzaW9uKS5nZW9tZXRyeS5jb29yZGluYXRlcyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHRcdHR5cGU6ICdNdWx0aVBvaW50JyxcclxuXHRcdFx0Y29vcmRpbmF0ZXM6IGNvb3Jkc1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b0dlb0pTT04ocHJlY2lzaW9uPzogTnVtYmVyfGZhbHNlKTogT2JqZWN0XHJcblx0Ly8gQ29vcmRpbmF0ZXMgdmFsdWVzIGFyZSByb3VuZGVkIHdpdGggW2Bmb3JtYXROdW1gXSgjdXRpbC1mb3JtYXRudW0pIGZ1bmN0aW9uIHdpdGggZ2l2ZW4gYHByZWNpc2lvbmAuXHJcblx0Ly8gUmV0dXJucyBhIFtgR2VvSlNPTmBdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dlb0pTT04pIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBsYXllciBncm91cCAoYXMgYSBHZW9KU09OIGBGZWF0dXJlQ29sbGVjdGlvbmAsIGBHZW9tZXRyeUNvbGxlY3Rpb25gLCBvciBgTXVsdGlQb2ludGApLlxyXG5cdHRvR2VvSlNPTjogZnVuY3Rpb24gKHByZWNpc2lvbikge1xyXG5cclxuXHRcdHZhciB0eXBlID0gdGhpcy5mZWF0dXJlICYmIHRoaXMuZmVhdHVyZS5nZW9tZXRyeSAmJiB0aGlzLmZlYXR1cmUuZ2VvbWV0cnkudHlwZTtcclxuXHJcblx0XHRpZiAodHlwZSA9PT0gJ011bHRpUG9pbnQnKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnRvTXVsdGlQb2ludChwcmVjaXNpb24pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBpc0dlb21ldHJ5Q29sbGVjdGlvbiA9IHR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nLFxyXG5cdFx0ICAgIGpzb25zID0gW107XHJcblxyXG5cdFx0dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRcdGlmIChsYXllci50b0dlb0pTT04pIHtcclxuXHRcdFx0XHR2YXIganNvbiA9IGxheWVyLnRvR2VvSlNPTihwcmVjaXNpb24pO1xyXG5cdFx0XHRcdGlmIChpc0dlb21ldHJ5Q29sbGVjdGlvbikge1xyXG5cdFx0XHRcdFx0anNvbnMucHVzaChqc29uLmdlb21ldHJ5KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dmFyIGZlYXR1cmUgPSBhc0ZlYXR1cmUoanNvbik7XHJcblx0XHRcdFx0XHQvLyBTcXVhc2ggbmVzdGVkIGZlYXR1cmUgY29sbGVjdGlvbnNcclxuXHRcdFx0XHRcdGlmIChmZWF0dXJlLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicpIHtcclxuXHRcdFx0XHRcdFx0anNvbnMucHVzaC5hcHBseShqc29ucywgZmVhdHVyZS5mZWF0dXJlcyk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRqc29ucy5wdXNoKGZlYXR1cmUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKGlzR2VvbWV0cnlDb2xsZWN0aW9uKSB7XHJcblx0XHRcdHJldHVybiBnZXRGZWF0dXJlKHRoaXMsIHtcclxuXHRcdFx0XHRnZW9tZXRyaWVzOiBqc29ucyxcclxuXHRcdFx0XHR0eXBlOiAnR2VvbWV0cnlDb2xsZWN0aW9uJ1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxyXG5cdFx0XHRmZWF0dXJlczoganNvbnNcclxuXHRcdH07XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBuYW1lc3BhY2UgR2VvSlNPTlxyXG4vLyBAZmFjdG9yeSBMLmdlb0pTT04oZ2VvanNvbj86IE9iamVjdCwgb3B0aW9ucz86IEdlb0pTT04gb3B0aW9ucylcclxuLy8gQ3JlYXRlcyBhIEdlb0pTT04gbGF5ZXIuIE9wdGlvbmFsbHkgYWNjZXB0cyBhbiBvYmplY3QgaW5cclxuLy8gW0dlb0pTT04gZm9ybWF0XShodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzk0NikgdG8gZGlzcGxheSBvbiB0aGUgbWFwXHJcbi8vICh5b3UgY2FuIGFsdGVybmF0aXZlbHkgYWRkIGl0IGxhdGVyIHdpdGggYGFkZERhdGFgIG1ldGhvZCkgYW5kIGFuIGBvcHRpb25zYCBvYmplY3QuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW9KU09OKGdlb2pzb24sIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IEdlb0pTT04oZ2VvanNvbiwgb3B0aW9ucyk7XHJcbn1cclxuXHJcbi8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXHJcbmV4cG9ydCB2YXIgZ2VvSnNvbiA9IGdlb0pTT047XHJcbiIsICJpbXBvcnQge0xheWVyfSBmcm9tICcuL0xheWVyJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nQm91bmRzfSBmcm9tICcuLi9nZW8vTGF0TG5nQm91bmRzJztcclxuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uL2dlb21ldHJ5L0JvdW5kcyc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xyXG5cclxuLypcclxuICogQGNsYXNzIEltYWdlT3ZlcmxheVxyXG4gKiBAYWthIEwuSW1hZ2VPdmVybGF5XHJcbiAqIEBpbmhlcml0cyBJbnRlcmFjdGl2ZSBsYXllclxyXG4gKlxyXG4gKiBVc2VkIHRvIGxvYWQgYW5kIGRpc3BsYXkgYSBzaW5nbGUgaW1hZ2Ugb3ZlciBzcGVjaWZpYyBib3VuZHMgb2YgdGhlIG1hcC4gRXh0ZW5kcyBgTGF5ZXJgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgaW1hZ2VVcmwgPSAnaHR0cHM6Ly9tYXBzLmxpYi51dGV4YXMuZWR1L21hcHMvaGlzdG9yaWNhbC9uZXdhcmtfbmpfMTkyMi5qcGcnLFxyXG4gKiBcdGltYWdlQm91bmRzID0gW1s0MC43MTIyMTYsIC03NC4yMjY1NV0sIFs0MC43NzM5NDEsIC03NC4xMjU0NF1dO1xyXG4gKiBMLmltYWdlT3ZlcmxheShpbWFnZVVybCwgaW1hZ2VCb3VuZHMpLmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgSW1hZ2VPdmVybGF5ID0gTGF5ZXIuZXh0ZW5kKHtcclxuXHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIEltYWdlT3ZlcmxheSBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBvcGFjaXR5OiBOdW1iZXIgPSAxLjBcclxuXHRcdC8vIFRoZSBvcGFjaXR5IG9mIHRoZSBpbWFnZSBvdmVybGF5LlxyXG5cdFx0b3BhY2l0eTogMSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGFsdDogU3RyaW5nID0gJydcclxuXHRcdC8vIFRleHQgZm9yIHRoZSBgYWx0YCBhdHRyaWJ1dGUgb2YgdGhlIGltYWdlICh1c2VmdWwgZm9yIGFjY2Vzc2liaWxpdHkpLlxyXG5cdFx0YWx0OiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGludGVyYWN0aXZlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIGB0cnVlYCwgdGhlIGltYWdlIG92ZXJsYXkgd2lsbCBlbWl0IFttb3VzZSBldmVudHNdKCNpbnRlcmFjdGl2ZS1sYXllcikgd2hlbiBjbGlja2VkIG9yIGhvdmVyZWQuXHJcblx0XHRpbnRlcmFjdGl2ZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjcm9zc09yaWdpbjogQm9vbGVhbnxTdHJpbmcgPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgY3Jvc3NPcmlnaW4gYXR0cmlidXRlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGltYWdlLlxyXG5cdFx0Ly8gSWYgYSBTdHJpbmcgaXMgcHJvdmlkZWQsIHRoZSBpbWFnZSB3aWxsIGhhdmUgaXRzIGNyb3NzT3JpZ2luIGF0dHJpYnV0ZSBzZXQgdG8gdGhlIFN0cmluZyBwcm92aWRlZC4gVGhpcyBpcyBuZWVkZWQgaWYgeW91IHdhbnQgdG8gYWNjZXNzIGltYWdlIHBpeGVsIGRhdGEuXHJcblx0XHQvLyBSZWZlciB0byBbQ09SUyBTZXR0aW5nc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX3NldHRpbmdzX2F0dHJpYnV0ZXMpIGZvciB2YWxpZCBTdHJpbmcgdmFsdWVzLlxyXG5cdFx0Y3Jvc3NPcmlnaW46IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gZXJyb3JPdmVybGF5VXJsOiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gVVJMIHRvIHRoZSBvdmVybGF5IGltYWdlIHRvIHNob3cgaW4gcGxhY2Ugb2YgdGhlIG92ZXJsYXkgdGhhdCBmYWlsZWQgdG8gbG9hZC5cclxuXHRcdGVycm9yT3ZlcmxheVVybDogJycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6SW5kZXg6IE51bWJlciA9IDFcclxuXHRcdC8vIFRoZSBleHBsaWNpdCBbekluZGV4XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9DU1MvQ1NTX1Bvc2l0aW9uaW5nL1VuZGVyc3RhbmRpbmdfel9pbmRleCkgb2YgdGhlIG92ZXJsYXkgbGF5ZXIuXHJcblx0XHR6SW5kZXg6IDEsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjbGFzc05hbWU6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBBIGN1c3RvbSBjbGFzcyBuYW1lIHRvIGFzc2lnbiB0byB0aGUgaW1hZ2UuIEVtcHR5IGJ5IGRlZmF1bHQuXHJcblx0XHRjbGFzc05hbWU6ICcnXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKHVybCwgYm91bmRzLCBvcHRpb25zKSB7IC8vIChTdHJpbmcsIExhdExuZ0JvdW5kcywgT2JqZWN0KVxyXG5cdFx0dGhpcy5fdXJsID0gdXJsO1xyXG5cdFx0dGhpcy5fYm91bmRzID0gdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5faW1hZ2UpIHtcclxuXHRcdFx0dGhpcy5faW5pdEltYWdlKCk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLm9wYWNpdHkgPCAxKSB7XHJcblx0XHRcdFx0dGhpcy5fdXBkYXRlT3BhY2l0eSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX2ltYWdlLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xyXG5cdFx0XHR0aGlzLmFkZEludGVyYWN0aXZlVGFyZ2V0KHRoaXMuX2ltYWdlKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmdldFBhbmUoKS5hcHBlbmRDaGlsZCh0aGlzLl9pbWFnZSk7XHJcblx0XHR0aGlzLl9yZXNldCgpO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9pbWFnZSk7XHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmludGVyYWN0aXZlKSB7XHJcblx0XHRcdHRoaXMucmVtb3ZlSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5faW1hZ2UpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0T3BhY2l0eShvcGFjaXR5OiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgb3BhY2l0eSBvZiB0aGUgb3ZlcmxheS5cclxuXHRzZXRPcGFjaXR5OiBmdW5jdGlvbiAob3BhY2l0eSkge1xyXG5cdFx0dGhpcy5vcHRpb25zLm9wYWNpdHkgPSBvcGFjaXR5O1xyXG5cclxuXHRcdGlmICh0aGlzLl9pbWFnZSkge1xyXG5cdFx0XHR0aGlzLl91cGRhdGVPcGFjaXR5KCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRzZXRTdHlsZTogZnVuY3Rpb24gKHN0eWxlT3B0cykge1xyXG5cdFx0aWYgKHN0eWxlT3B0cy5vcGFjaXR5KSB7XHJcblx0XHRcdHRoaXMuc2V0T3BhY2l0eShzdHlsZU9wdHMub3BhY2l0eSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9Gcm9udCgpOiB0aGlzXHJcblx0Ly8gQnJpbmdzIHRoZSBsYXllciB0byB0aGUgdG9wIG9mIGFsbCBvdmVybGF5cy5cclxuXHRicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0RG9tVXRpbC50b0Zyb250KHRoaXMuX2ltYWdlKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYnJpbmdUb0JhY2soKTogdGhpc1xyXG5cdC8vIEJyaW5ncyB0aGUgbGF5ZXIgdG8gdGhlIGJvdHRvbSBvZiBhbGwgb3ZlcmxheXMuXHJcblx0YnJpbmdUb0JhY2s6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0RG9tVXRpbC50b0JhY2sodGhpcy5faW1hZ2UpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRVcmwodXJsOiBTdHJpbmcpOiB0aGlzXHJcblx0Ly8gQ2hhbmdlcyB0aGUgVVJMIG9mIHRoZSBpbWFnZS5cclxuXHRzZXRVcmw6IGZ1bmN0aW9uICh1cmwpIHtcclxuXHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHJcblx0XHRpZiAodGhpcy5faW1hZ2UpIHtcclxuXHRcdFx0dGhpcy5faW1hZ2Uuc3JjID0gdXJsO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRCb3VuZHMoYm91bmRzOiBMYXRMbmdCb3VuZHMpOiB0aGlzXHJcblx0Ly8gVXBkYXRlIHRoZSBib3VuZHMgdGhhdCB0aGlzIEltYWdlT3ZlcmxheSBjb3ZlcnNcclxuXHRzZXRCb3VuZHM6IGZ1bmN0aW9uIChib3VuZHMpIHtcclxuXHRcdHRoaXMuX2JvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl9yZXNldCgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZXZlbnRzID0ge1xyXG5cdFx0XHR6b29tOiB0aGlzLl9yZXNldCxcclxuXHRcdFx0dmlld3Jlc2V0OiB0aGlzLl9yZXNldFxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdGV2ZW50cy56b29tYW5pbSA9IHRoaXMuX2FuaW1hdGVab29tO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBldmVudHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRaSW5kZXgodmFsdWU6IE51bWJlcik6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHRoZSBbekluZGV4XSgjaW1hZ2VvdmVybGF5LXppbmRleCkgb2YgdGhlIGltYWdlIG92ZXJsYXkuXHJcblx0c2V0WkluZGV4OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdHRoaXMub3B0aW9ucy56SW5kZXggPSB2YWx1ZTtcclxuXHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRCb3VuZHMoKTogTGF0TG5nQm91bmRzXHJcblx0Ly8gR2V0IHRoZSBib3VuZHMgdGhhdCB0aGlzIEltYWdlT3ZlcmxheSBjb3ZlcnNcclxuXHRnZXRCb3VuZHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9ib3VuZHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRFbGVtZW50KCk6IEhUTUxFbGVtZW50XHJcblx0Ly8gUmV0dXJucyB0aGUgaW5zdGFuY2Ugb2YgW2BIVE1MSW1hZ2VFbGVtZW50YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0hUTUxJbWFnZUVsZW1lbnQpXHJcblx0Ly8gdXNlZCBieSB0aGlzIG92ZXJsYXkuXHJcblx0Z2V0RWxlbWVudDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2ltYWdlO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0SW1hZ2U6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciB3YXNFbGVtZW50U3VwcGxpZWQgPSB0aGlzLl91cmwudGFnTmFtZSA9PT0gJ0lNRyc7XHJcblx0XHR2YXIgaW1nID0gdGhpcy5faW1hZ2UgPSB3YXNFbGVtZW50U3VwcGxpZWQgPyB0aGlzLl91cmwgOiBEb21VdGlsLmNyZWF0ZSgnaW1nJyk7XHJcblxyXG5cdFx0RG9tVXRpbC5hZGRDbGFzcyhpbWcsICdsZWFmbGV0LWltYWdlLWxheWVyJyk7XHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7IERvbVV0aWwuYWRkQ2xhc3MoaW1nLCAnbGVhZmxldC16b29tLWFuaW1hdGVkJyk7IH1cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKSB7IERvbVV0aWwuYWRkQ2xhc3MoaW1nLCB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKTsgfVxyXG5cclxuXHRcdGltZy5vbnNlbGVjdHN0YXJ0ID0gVXRpbC5mYWxzZUZuO1xyXG5cdFx0aW1nLm9ubW91c2Vtb3ZlID0gVXRpbC5mYWxzZUZuO1xyXG5cclxuXHRcdC8vIEBldmVudCBsb2FkOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgSW1hZ2VPdmVybGF5IGxheWVyIGhhcyBsb2FkZWQgaXRzIGltYWdlXHJcblx0XHRpbWcub25sb2FkID0gVXRpbC5iaW5kKHRoaXMuZmlyZSwgdGhpcywgJ2xvYWQnKTtcclxuXHRcdGltZy5vbmVycm9yID0gVXRpbC5iaW5kKHRoaXMuX292ZXJsYXlPbkVycm9yLCB0aGlzLCAnZXJyb3InKTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luIHx8IHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gJycpIHtcclxuXHRcdFx0aW1nLmNyb3NzT3JpZ2luID0gdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJycgOiB0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy56SW5kZXgpIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlWkluZGV4KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHdhc0VsZW1lbnRTdXBwbGllZCkge1xyXG5cdFx0XHR0aGlzLl91cmwgPSBpbWcuc3JjO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aW1nLnNyYyA9IHRoaXMuX3VybDtcclxuXHRcdGltZy5hbHQgPSB0aGlzLm9wdGlvbnMuYWx0O1xyXG5cdH0sXHJcblxyXG5cdF9hbmltYXRlWm9vbTogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHZhciBzY2FsZSA9IHRoaXMuX21hcC5nZXRab29tU2NhbGUoZS56b29tKSxcclxuXHRcdCAgICBvZmZzZXQgPSB0aGlzLl9tYXAuX2xhdExuZ0JvdW5kc1RvTmV3TGF5ZXJCb3VuZHModGhpcy5fYm91bmRzLCBlLnpvb20sIGUuY2VudGVyKS5taW47XHJcblxyXG5cdFx0RG9tVXRpbC5zZXRUcmFuc2Zvcm0odGhpcy5faW1hZ2UsIG9mZnNldCwgc2NhbGUpO1xyXG5cdH0sXHJcblxyXG5cdF9yZXNldDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGltYWdlID0gdGhpcy5faW1hZ2UsXHJcblx0XHQgICAgYm91bmRzID0gbmV3IEJvdW5kcyhcclxuXHRcdCAgICAgICAgdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9ib3VuZHMuZ2V0Tm9ydGhXZXN0KCkpLFxyXG5cdFx0ICAgICAgICB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2JvdW5kcy5nZXRTb3V0aEVhc3QoKSkpLFxyXG5cdFx0ICAgIHNpemUgPSBib3VuZHMuZ2V0U2l6ZSgpO1xyXG5cclxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24oaW1hZ2UsIGJvdW5kcy5taW4pO1xyXG5cclxuXHRcdGltYWdlLnN0eWxlLndpZHRoICA9IHNpemUueCArICdweCc7XHJcblx0XHRpbWFnZS5zdHlsZS5oZWlnaHQgPSBzaXplLnkgKyAncHgnO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVPcGFjaXR5OiBmdW5jdGlvbiAoKSB7XHJcblx0XHREb21VdGlsLnNldE9wYWNpdHkodGhpcy5faW1hZ2UsIHRoaXMub3B0aW9ucy5vcGFjaXR5KTtcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlWkluZGV4OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5faW1hZ2UgJiYgdGhpcy5vcHRpb25zLnpJbmRleCAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3B0aW9ucy56SW5kZXggIT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy5faW1hZ2Uuc3R5bGUuekluZGV4ID0gdGhpcy5vcHRpb25zLnpJbmRleDtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfb3ZlcmxheU9uRXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdC8vIEBldmVudCBlcnJvcjogRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIEltYWdlT3ZlcmxheSBsYXllciBmYWlscyB0byBsb2FkIGl0cyBpbWFnZVxyXG5cdFx0dGhpcy5maXJlKCdlcnJvcicpO1xyXG5cclxuXHRcdHZhciBlcnJvclVybCA9IHRoaXMub3B0aW9ucy5lcnJvck92ZXJsYXlVcmw7XHJcblx0XHRpZiAoZXJyb3JVcmwgJiYgdGhpcy5fdXJsICE9PSBlcnJvclVybCkge1xyXG5cdFx0XHR0aGlzLl91cmwgPSBlcnJvclVybDtcclxuXHRcdFx0dGhpcy5faW1hZ2Uuc3JjID0gZXJyb3JVcmw7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRDZW50ZXIoKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgY2VudGVyIG9mIHRoZSBJbWFnZU92ZXJsYXkuXHJcblx0Z2V0Q2VudGVyOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fYm91bmRzLmdldENlbnRlcigpO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAZmFjdG9yeSBMLmltYWdlT3ZlcmxheShpbWFnZVVybDogU3RyaW5nLCBib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IEltYWdlT3ZlcmxheSBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYW4gaW1hZ2Ugb3ZlcmxheSBvYmplY3QgZ2l2ZW4gdGhlIFVSTCBvZiB0aGUgaW1hZ2UgYW5kIHRoZVxyXG4vLyBnZW9ncmFwaGljYWwgYm91bmRzIGl0IGlzIHRpZWQgdG8uXHJcbmV4cG9ydCB2YXIgaW1hZ2VPdmVybGF5ID0gZnVuY3Rpb24gKHVybCwgYm91bmRzLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBJbWFnZU92ZXJsYXkodXJsLCBib3VuZHMsIG9wdGlvbnMpO1xyXG59O1xyXG4iLCAiaW1wb3J0IHtJbWFnZU92ZXJsYXl9IGZyb20gJy4vSW1hZ2VPdmVybGF5JztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBWaWRlb092ZXJsYXlcclxuICogQGFrYSBMLlZpZGVvT3ZlcmxheVxyXG4gKiBAaW5oZXJpdHMgSW1hZ2VPdmVybGF5XHJcbiAqXHJcbiAqIFVzZWQgdG8gbG9hZCBhbmQgZGlzcGxheSBhIHZpZGVvIHBsYXllciBvdmVyIHNwZWNpZmljIGJvdW5kcyBvZiB0aGUgbWFwLiBFeHRlbmRzIGBJbWFnZU92ZXJsYXlgLlxyXG4gKlxyXG4gKiBBIHZpZGVvIG92ZXJsYXkgdXNlcyB0aGUgW2A8dmlkZW8+YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSFRNTC9FbGVtZW50L3ZpZGVvKVxyXG4gKiBIVE1MNSBlbGVtZW50LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgdmlkZW9VcmwgPSAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9iaXRlcy8wMDE4OC9wYXRyaWNpYV9uYXNhLndlYm0nLFxyXG4gKiBcdHZpZGVvQm91bmRzID0gW1sgMzIsIC0xMzBdLCBbIDEzLCAtMTAwXV07XHJcbiAqIEwudmlkZW9PdmVybGF5KHZpZGVvVXJsLCB2aWRlb0JvdW5kcyApLmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgVmlkZW9PdmVybGF5ID0gSW1hZ2VPdmVybGF5LmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBWaWRlb092ZXJsYXkgb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gYXV0b3BsYXk6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSB2aWRlbyBzdGFydHMgcGxheWluZyBhdXRvbWF0aWNhbGx5IHdoZW4gbG9hZGVkLlxyXG5cdFx0Ly8gT24gc29tZSBicm93c2VycyBhdXRvcGxheSB3aWxsIG9ubHkgd29yayB3aXRoIGBtdXRlZDogdHJ1ZWBcclxuXHRcdGF1dG9wbGF5OiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbG9vcDogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIHZpZGVvIHdpbGwgbG9vcCBiYWNrIHRvIHRoZSBiZWdpbm5pbmcgd2hlbiBwbGF5ZWQuXHJcblx0XHRsb29wOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24ga2VlcEFzcGVjdFJhdGlvOiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgdmlkZW8gd2lsbCBzYXZlIGFzcGVjdCByYXRpbyBhZnRlciB0aGUgcHJvamVjdGlvbi5cclxuXHRcdC8vIFJlbGV2YW50IGZvciBzdXBwb3J0ZWQgYnJvd3NlcnMuIFNlZSBbYnJvd3NlciBjb21wYXRpYmlsaXR5XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1Mvb2JqZWN0LWZpdClcclxuXHRcdGtlZXBBc3BlY3RSYXRpbzogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG11dGVkOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFdoZXRoZXIgdGhlIHZpZGVvIHN0YXJ0cyBvbiBtdXRlIHdoZW4gbG9hZGVkLlxyXG5cdFx0bXV0ZWQ6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gcGxheXNJbmxpbmU6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBNb2JpbGUgYnJvd3NlcnMgd2lsbCBwbGF5IHRoZSB2aWRlbyByaWdodCB3aGVyZSBpdCBpcyBpbnN0ZWFkIG9mIG9wZW4gaXQgdXAgaW4gZnVsbHNjcmVlbiBtb2RlLlxyXG5cdFx0cGxheXNJbmxpbmU6IHRydWVcclxuXHR9LFxyXG5cclxuXHRfaW5pdEltYWdlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgd2FzRWxlbWVudFN1cHBsaWVkID0gdGhpcy5fdXJsLnRhZ05hbWUgPT09ICdWSURFTyc7XHJcblx0XHR2YXIgdmlkID0gdGhpcy5faW1hZ2UgPSB3YXNFbGVtZW50U3VwcGxpZWQgPyB0aGlzLl91cmwgOiBEb21VdGlsLmNyZWF0ZSgndmlkZW8nKTtcclxuXHJcblx0XHREb21VdGlsLmFkZENsYXNzKHZpZCwgJ2xlYWZsZXQtaW1hZ2UtbGF5ZXInKTtcclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHsgRG9tVXRpbC5hZGRDbGFzcyh2aWQsICdsZWFmbGV0LXpvb20tYW5pbWF0ZWQnKTsgfVxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUpIHsgRG9tVXRpbC5hZGRDbGFzcyh2aWQsIHRoaXMub3B0aW9ucy5jbGFzc05hbWUpOyB9XHJcblxyXG5cdFx0dmlkLm9uc2VsZWN0c3RhcnQgPSBVdGlsLmZhbHNlRm47XHJcblx0XHR2aWQub25tb3VzZW1vdmUgPSBVdGlsLmZhbHNlRm47XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGxvYWQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB2aWRlbyBoYXMgZmluaXNoZWQgbG9hZGluZyB0aGUgZmlyc3QgZnJhbWVcclxuXHRcdHZpZC5vbmxvYWRlZGRhdGEgPSBVdGlsLmJpbmQodGhpcy5maXJlLCB0aGlzLCAnbG9hZCcpO1xyXG5cclxuXHRcdGlmICh3YXNFbGVtZW50U3VwcGxpZWQpIHtcclxuXHRcdFx0dmFyIHNvdXJjZUVsZW1lbnRzID0gdmlkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzb3VyY2UnKTtcclxuXHRcdFx0dmFyIHNvdXJjZXMgPSBbXTtcclxuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBzb3VyY2VFbGVtZW50cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdHNvdXJjZXMucHVzaChzb3VyY2VFbGVtZW50c1tqXS5zcmMpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLl91cmwgPSAoc291cmNlRWxlbWVudHMubGVuZ3RoID4gMCkgPyBzb3VyY2VzIDogW3ZpZC5zcmNdO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFVdGlsLmlzQXJyYXkodGhpcy5fdXJsKSkgeyB0aGlzLl91cmwgPSBbdGhpcy5fdXJsXTsgfVxyXG5cclxuXHRcdGlmICghdGhpcy5vcHRpb25zLmtlZXBBc3BlY3RSYXRpbyAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmlkLnN0eWxlLCAnb2JqZWN0Rml0JykpIHtcclxuXHRcdFx0dmlkLnN0eWxlWydvYmplY3RGaXQnXSA9ICdmaWxsJztcclxuXHRcdH1cclxuXHRcdHZpZC5hdXRvcGxheSA9ICEhdGhpcy5vcHRpb25zLmF1dG9wbGF5O1xyXG5cdFx0dmlkLmxvb3AgPSAhIXRoaXMub3B0aW9ucy5sb29wO1xyXG5cdFx0dmlkLm11dGVkID0gISF0aGlzLm9wdGlvbnMubXV0ZWQ7XHJcblx0XHR2aWQucGxheXNJbmxpbmUgPSAhIXRoaXMub3B0aW9ucy5wbGF5c0lubGluZTtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fdXJsLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBzb3VyY2UgPSBEb21VdGlsLmNyZWF0ZSgnc291cmNlJyk7XHJcblx0XHRcdHNvdXJjZS5zcmMgPSB0aGlzLl91cmxbaV07XHJcblx0XHRcdHZpZC5hcHBlbmRDaGlsZChzb3VyY2UpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRFbGVtZW50KCk6IEhUTUxWaWRlb0VsZW1lbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBpbnN0YW5jZSBvZiBbYEhUTUxWaWRlb0VsZW1lbnRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvSFRNTFZpZGVvRWxlbWVudClcclxuXHQvLyB1c2VkIGJ5IHRoaXMgb3ZlcmxheS5cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC52aWRlb092ZXJsYXkodmlkZW86IFN0cmluZ3xBcnJheXxIVE1MVmlkZW9FbGVtZW50LCBib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IFZpZGVvT3ZlcmxheSBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYW4gaW1hZ2Ugb3ZlcmxheSBvYmplY3QgZ2l2ZW4gdGhlIFVSTCBvZiB0aGUgdmlkZW8gKG9yIGFycmF5IG9mIFVSTHMsIG9yIGV2ZW4gYSB2aWRlbyBlbGVtZW50KSBhbmQgdGhlXHJcbi8vIGdlb2dyYXBoaWNhbCBib3VuZHMgaXQgaXMgdGllZCB0by5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2aWRlb092ZXJsYXkodmlkZW8sIGJvdW5kcywgb3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgVmlkZW9PdmVybGF5KHZpZGVvLCBib3VuZHMsIG9wdGlvbnMpO1xyXG59XHJcbiIsICJpbXBvcnQge0ltYWdlT3ZlcmxheX0gZnJvbSAnLi9JbWFnZU92ZXJsYXknO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XG5cbi8qXG4gKiBAY2xhc3MgU1ZHT3ZlcmxheVxuICogQGFrYSBMLlNWR092ZXJsYXlcbiAqIEBpbmhlcml0cyBJbWFnZU92ZXJsYXlcbiAqXG4gKiBVc2VkIHRvIGxvYWQsIGRpc3BsYXkgYW5kIHByb3ZpZGUgRE9NIGFjY2VzcyB0byBhbiBTVkcgZmlsZSBvdmVyIHNwZWNpZmljIGJvdW5kcyBvZiB0aGUgbWFwLiBFeHRlbmRzIGBJbWFnZU92ZXJsYXlgLlxuICpcbiAqIEFuIFNWRyBvdmVybGF5IHVzZXMgdGhlIFtgPHN2Zz5gXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvRWxlbWVudC9zdmcpIGVsZW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogdmFyIHN2Z0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAqIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCd4bWxucycsIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIik7XG4gKiBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZSgndmlld0JveCcsIFwiMCAwIDIwMCAyMDBcIik7XG4gKiBzdmdFbGVtZW50LmlubmVySFRNTCA9ICc8cmVjdCB3aWR0aD1cIjIwMFwiIGhlaWdodD1cIjIwMFwiLz48cmVjdCB4PVwiNzVcIiB5PVwiMjNcIiB3aWR0aD1cIjUwXCIgaGVpZ2h0PVwiNTBcIiBzdHlsZT1cImZpbGw6cmVkXCIvPjxyZWN0IHg9XCI3NVwiIHk9XCIxMjNcIiB3aWR0aD1cIjUwXCIgaGVpZ2h0PVwiNTBcIiBzdHlsZT1cImZpbGw6IzAwMTNmZlwiLz4nO1xuICogdmFyIHN2Z0VsZW1lbnRCb3VuZHMgPSBbIFsgMzIsIC0xMzAgXSwgWyAxMywgLTEwMCBdIF07XG4gKiBMLnN2Z092ZXJsYXkoc3ZnRWxlbWVudCwgc3ZnRWxlbWVudEJvdW5kcykuYWRkVG8obWFwKTtcbiAqIGBgYFxuICovXG5cbmV4cG9ydCB2YXIgU1ZHT3ZlcmxheSA9IEltYWdlT3ZlcmxheS5leHRlbmQoe1xuXHRfaW5pdEltYWdlOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGVsID0gdGhpcy5faW1hZ2UgPSB0aGlzLl91cmw7XG5cblx0XHREb21VdGlsLmFkZENsYXNzKGVsLCAnbGVhZmxldC1pbWFnZS1sYXllcicpO1xuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHsgRG9tVXRpbC5hZGRDbGFzcyhlbCwgJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpOyB9XG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUpIHsgRG9tVXRpbC5hZGRDbGFzcyhlbCwgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSk7IH1cblxuXHRcdGVsLm9uc2VsZWN0c3RhcnQgPSBVdGlsLmZhbHNlRm47XG5cdFx0ZWwub25tb3VzZW1vdmUgPSBVdGlsLmZhbHNlRm47XG5cdH1cblxuXHQvLyBAbWV0aG9kIGdldEVsZW1lbnQoKTogU1ZHRWxlbWVudFxuXHQvLyBSZXR1cm5zIHRoZSBpbnN0YW5jZSBvZiBbYFNWR0VsZW1lbnRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvU1ZHRWxlbWVudClcblx0Ly8gdXNlZCBieSB0aGlzIG92ZXJsYXkuXG59KTtcblxuXG4vLyBAZmFjdG9yeSBMLnN2Z092ZXJsYXkoc3ZnOiBTdHJpbmd8U1ZHRWxlbWVudCwgYm91bmRzOiBMYXRMbmdCb3VuZHMsIG9wdGlvbnM/OiBTVkdPdmVybGF5IG9wdGlvbnMpXG4vLyBJbnN0YW50aWF0ZXMgYW4gaW1hZ2Ugb3ZlcmxheSBvYmplY3QgZ2l2ZW4gYW4gU1ZHIGVsZW1lbnQgYW5kIHRoZSBnZW9ncmFwaGljYWwgYm91bmRzIGl0IGlzIHRpZWQgdG8uXG4vLyBBIHZpZXdCb3ggYXR0cmlidXRlIGlzIHJlcXVpcmVkIG9uIHRoZSBTVkcgZWxlbWVudCB0byB6b29tIGluIGFuZCBvdXQgcHJvcGVybHkuXG5cbmV4cG9ydCBmdW5jdGlvbiBzdmdPdmVybGF5KGVsLCBib3VuZHMsIG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBTVkdPdmVybGF5KGVsLCBib3VuZHMsIG9wdGlvbnMpO1xufVxuIiwgImltcG9ydCB7TWFwfSBmcm9tICcuLi9tYXAvTWFwJztcclxuaW1wb3J0IHtMYXllcn0gZnJvbSAnLi9MYXllcic7XHJcbmltcG9ydCB7RmVhdHVyZUdyb3VwfSBmcm9tICcuL0ZlYXR1cmVHcm91cCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuaW1wb3J0IHt0b0xhdExuZywgTGF0TG5nfSBmcm9tICcuLi9nZW8vTGF0TG5nJztcclxuaW1wb3J0IHt0b1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xyXG5cclxuLypcclxuICogQGNsYXNzIERpdk92ZXJsYXlcclxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXHJcbiAqIEBha2EgTC5EaXZPdmVybGF5XHJcbiAqIEJhc2UgbW9kZWwgZm9yIEwuUG9wdXAgYW5kIEwuVG9vbHRpcC4gSW5oZXJpdCBmcm9tIGl0IGZvciBjdXN0b20gb3ZlcmxheXMgbGlrZSBwbHVnaW5zLlxyXG4gKi9cclxuXHJcbi8vIEBuYW1lc3BhY2UgRGl2T3ZlcmxheVxyXG5leHBvcnQgdmFyIERpdk92ZXJsYXkgPSBMYXllci5leHRlbmQoe1xyXG5cclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgRGl2T3ZlcmxheSBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBpbnRlcmFjdGl2ZTogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiB0cnVlLCB0aGUgcG9wdXAvdG9vbHRpcCB3aWxsIGxpc3RlbiB0byB0aGUgbW91c2UgZXZlbnRzLlxyXG5cdFx0aW50ZXJhY3RpdmU6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gb2Zmc2V0OiBQb2ludCA9IFBvaW50KDAsIDApXHJcblx0XHQvLyBUaGUgb2Zmc2V0IG9mIHRoZSBvdmVybGF5IHBvc2l0aW9uLlxyXG5cdFx0b2Zmc2V0OiBbMCwgMF0sXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjbGFzc05hbWU6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBBIGN1c3RvbSBDU1MgY2xhc3MgbmFtZSB0byBhc3NpZ24gdG8gdGhlIG92ZXJsYXkuXHJcblx0XHRjbGFzc05hbWU6ICcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gdW5kZWZpbmVkXHJcblx0XHQvLyBgTWFwIHBhbmVgIHdoZXJlIHRoZSBvdmVybGF5IHdpbGwgYmUgYWRkZWQuXHJcblx0XHRwYW5lOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjb250ZW50OiBTdHJpbmd8SFRNTEVsZW1lbnR8RnVuY3Rpb24gPSAnJ1xyXG5cdFx0Ly8gU2V0cyB0aGUgSFRNTCBjb250ZW50IG9mIHRoZSBvdmVybGF5IHdoaWxlIGluaXRpYWxpemluZy4gSWYgYSBmdW5jdGlvbiBpcyBwYXNzZWQgdGhlIHNvdXJjZSBsYXllciB3aWxsIGJlXHJcblx0XHQvLyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uLiBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIGBTdHJpbmdgIG9yIGBIVE1MRWxlbWVudGAgdG8gYmUgdXNlZCBpbiB0aGUgb3ZlcmxheS5cclxuXHRcdGNvbnRlbnQ6ICcnXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkge1xyXG5cdFx0aWYgKG9wdGlvbnMgJiYgKG9wdGlvbnMgaW5zdGFuY2VvZiBMYXRMbmcgfHwgVXRpbC5pc0FycmF5KG9wdGlvbnMpKSkge1xyXG5cdFx0XHR0aGlzLl9sYXRsbmcgPSB0b0xhdExuZyhvcHRpb25zKTtcclxuXHRcdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIHNvdXJjZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblx0XHRcdHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuY29udGVudCkge1xyXG5cdFx0XHR0aGlzLl9jb250ZW50ID0gdGhpcy5vcHRpb25zLmNvbnRlbnQ7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBvcGVuT24obWFwOiBNYXApOiB0aGlzXHJcblx0Ly8gQWRkcyB0aGUgb3ZlcmxheSB0byB0aGUgbWFwLlxyXG5cdC8vIEFsdGVybmF0aXZlIHRvIGBtYXAub3BlblBvcHVwKHBvcHVwKWAvYC5vcGVuVG9vbHRpcCh0b29sdGlwKWAuXHJcblx0b3Blbk9uOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRtYXAgPSBhcmd1bWVudHMubGVuZ3RoID8gbWFwIDogdGhpcy5fc291cmNlLl9tYXA7IC8vIGV4cGVyaW1lbnRhbCwgbm90IHRoZSBwYXJ0IG9mIHB1YmxpYyBhcGlcclxuXHRcdGlmICghbWFwLmhhc0xheWVyKHRoaXMpKSB7XHJcblx0XHRcdG1hcC5hZGRMYXllcih0aGlzKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY2xvc2UoKTogdGhpc1xyXG5cdC8vIENsb3NlcyB0aGUgb3ZlcmxheS5cclxuXHQvLyBBbHRlcm5hdGl2ZSB0byBgbWFwLmNsb3NlUG9wdXAocG9wdXApYC9gLmNsb3NlVG9vbHRpcCh0b29sdGlwKWBcclxuXHQvLyBhbmQgYGxheWVyLmNsb3NlUG9wdXAoKWAvYC5jbG9zZVRvb2x0aXAoKWAuXHJcblx0Y2xvc2U6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0dGhpcy5fbWFwLnJlbW92ZUxheWVyKHRoaXMpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b2dnbGUobGF5ZXI/OiBMYXllcik6IHRoaXNcclxuXHQvLyBPcGVucyBvciBjbG9zZXMgdGhlIG92ZXJsYXkgYm91bmQgdG8gbGF5ZXIgZGVwZW5kaW5nIG9uIGl0cyBjdXJyZW50IHN0YXRlLlxyXG5cdC8vIEFyZ3VtZW50IG1heSBiZSBvbWl0dGVkIG9ubHkgZm9yIG92ZXJsYXkgYm91bmQgdG8gbGF5ZXIuXHJcblx0Ly8gQWx0ZXJuYXRpdmUgdG8gYGxheWVyLnRvZ2dsZVBvcHVwKClgL2AudG9nZ2xlVG9vbHRpcCgpYC5cclxuXHR0b2dnbGU6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHRoaXMuX3NvdXJjZSA9IGxheWVyO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGxheWVyID0gdGhpcy5fc291cmNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuX3ByZXBhcmVPcGVuKCk7XHJcblxyXG5cdFx0XHQvLyBvcGVuIHRoZSBvdmVybGF5IG9uIHRoZSBtYXBcclxuXHRcdFx0dGhpcy5vcGVuT24obGF5ZXIuX21hcCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dGhpcy5fem9vbUFuaW1hdGVkID0gbWFwLl96b29tQW5pbWF0ZWQ7XHJcblxyXG5cdFx0aWYgKCF0aGlzLl9jb250YWluZXIpIHtcclxuXHRcdFx0dGhpcy5faW5pdExheW91dCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChtYXAuX2ZhZGVBbmltYXRlZCkge1xyXG5cdFx0XHREb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLCAwKTtcclxuXHRcdH1cclxuXHJcblx0XHRjbGVhclRpbWVvdXQodGhpcy5fcmVtb3ZlVGltZW91dCk7XHJcblx0XHR0aGlzLmdldFBhbmUoKS5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpO1xyXG5cdFx0dGhpcy51cGRhdGUoKTtcclxuXHJcblx0XHRpZiAobWFwLl9mYWRlQW5pbWF0ZWQpIHtcclxuXHRcdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwgMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5icmluZ1RvRnJvbnQoKTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmludGVyYWN0aXZlKSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xyXG5cdFx0XHR0aGlzLmFkZEludGVyYWN0aXZlVGFyZ2V0KHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdGlmIChtYXAuX2ZhZGVBbmltYXRlZCkge1xyXG5cdFx0XHREb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLCAwKTtcclxuXHRcdFx0dGhpcy5fcmVtb3ZlVGltZW91dCA9IHNldFRpbWVvdXQoVXRpbC5iaW5kKERvbVV0aWwucmVtb3ZlLCB1bmRlZmluZWQsIHRoaXMuX2NvbnRhaW5lciksIDIwMCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcclxuXHRcdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XHJcblx0XHRcdHRoaXMucmVtb3ZlSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5fY29udGFpbmVyKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbmFtZXNwYWNlIERpdk92ZXJsYXlcclxuXHQvLyBAbWV0aG9kIGdldExhdExuZzogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIHBvaW50IG9mIHRoZSBvdmVybGF5LlxyXG5cdGdldExhdExuZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2xhdGxuZztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldExhdExuZyhsYXRsbmc6IExhdExuZyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBnZW9ncmFwaGljYWwgcG9pbnQgd2hlcmUgdGhlIG92ZXJsYXkgd2lsbCBvcGVuLlxyXG5cdHNldExhdExuZzogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0dGhpcy5fbGF0bG5nID0gdG9MYXRMbmcobGF0bG5nKTtcclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcclxuXHRcdFx0dGhpcy5fYWRqdXN0UGFuKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudFxyXG5cdC8vIFJldHVybnMgdGhlIGNvbnRlbnQgb2YgdGhlIG92ZXJsYXkuXHJcblx0Z2V0Q29udGVudDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRlbnQ7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRDb250ZW50KGh0bWxDb250ZW50OiBTdHJpbmd8SFRNTEVsZW1lbnR8RnVuY3Rpb24pOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgSFRNTCBjb250ZW50IG9mIHRoZSBvdmVybGF5LiBJZiBhIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgc291cmNlIGxheWVyIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbi5cclxuXHQvLyBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIGBTdHJpbmdgIG9yIGBIVE1MRWxlbWVudGAgdG8gYmUgdXNlZCBpbiB0aGUgb3ZlcmxheS5cclxuXHRzZXRDb250ZW50OiBmdW5jdGlvbiAoY29udGVudCkge1xyXG5cdFx0dGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRFbGVtZW50OiBTdHJpbmd8SFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBIVE1MIGNvbnRhaW5lciBvZiB0aGUgb3ZlcmxheS5cclxuXHRnZXRFbGVtZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdXBkYXRlOiBudWxsXHJcblx0Ly8gVXBkYXRlcyB0aGUgb3ZlcmxheSBjb250ZW50LCBsYXlvdXQgYW5kIHBvc2l0aW9uLiBVc2VmdWwgZm9yIHVwZGF0aW5nIHRoZSBvdmVybGF5IGFmdGVyIHNvbWV0aGluZyBpbnNpZGUgY2hhbmdlZCwgZS5nLiBpbWFnZSBsb2FkZWQuXHJcblx0dXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cclxuXHJcblx0XHR0aGlzLl9jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG5cclxuXHRcdHRoaXMuX3VwZGF0ZUNvbnRlbnQoKTtcclxuXHRcdHRoaXMuX3VwZGF0ZUxheW91dCgpO1xyXG5cdFx0dGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcclxuXHJcblx0XHR0aGlzLl9jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xyXG5cclxuXHRcdHRoaXMuX2FkanVzdFBhbigpO1xyXG5cdH0sXHJcblxyXG5cdGdldEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGV2ZW50cyA9IHtcclxuXHRcdFx0em9vbTogdGhpcy5fdXBkYXRlUG9zaXRpb24sXHJcblx0XHRcdHZpZXdyZXNldDogdGhpcy5fdXBkYXRlUG9zaXRpb25cclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkge1xyXG5cdFx0XHRldmVudHMuem9vbWFuaW0gPSB0aGlzLl9hbmltYXRlWm9vbTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBldmVudHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpc09wZW46IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCB3aGVuIHRoZSBvdmVybGF5IGlzIHZpc2libGUgb24gdGhlIG1hcC5cclxuXHRpc09wZW46IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAhIXRoaXMuX21hcCAmJiB0aGlzLl9tYXAuaGFzTGF5ZXIodGhpcyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBicmluZ1RvRnJvbnQ6IHRoaXNcclxuXHQvLyBCcmluZ3MgdGhpcyBvdmVybGF5IGluIGZyb250IG9mIG90aGVyIG92ZXJsYXlzIChpbiB0aGUgc2FtZSBtYXAgcGFuZSkuXHJcblx0YnJpbmdUb0Zyb250OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdERvbVV0aWwudG9Gcm9udCh0aGlzLl9jb250YWluZXIpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBicmluZ1RvQmFjazogdGhpc1xyXG5cdC8vIEJyaW5ncyB0aGlzIG92ZXJsYXkgdG8gdGhlIGJhY2sgb2Ygb3RoZXIgb3ZlcmxheXMgKGluIHRoZSBzYW1lIG1hcCBwYW5lKS5cclxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHREb21VdGlsLnRvQmFjayh0aGlzLl9jb250YWluZXIpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gcHJlcGFyZSBib3VuZCBvdmVybGF5IHRvIG9wZW46IHVwZGF0ZSBsYXRsbmcgcG9zIC8gY29udGVudCBzb3VyY2UgKGZvciBGZWF0dXJlR3JvdXApXHJcblx0X3ByZXBhcmVPcGVuOiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHR2YXIgc291cmNlID0gdGhpcy5fc291cmNlO1xyXG5cdFx0aWYgKCFzb3VyY2UuX21hcCkgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcblx0XHRpZiAoc291cmNlIGluc3RhbmNlb2YgRmVhdHVyZUdyb3VwKSB7XHJcblx0XHRcdHNvdXJjZSA9IG51bGw7XHJcblx0XHRcdHZhciBsYXllcnMgPSB0aGlzLl9zb3VyY2UuX2xheWVycztcclxuXHRcdFx0Zm9yICh2YXIgaWQgaW4gbGF5ZXJzKSB7XHJcblx0XHRcdFx0aWYgKGxheWVyc1tpZF0uX21hcCkge1xyXG5cdFx0XHRcdFx0c291cmNlID0gbGF5ZXJzW2lkXTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXNvdXJjZSkgeyByZXR1cm4gZmFsc2U7IH0gLy8gVW5hYmxlIHRvIGdldCBzb3VyY2UgbGF5ZXIuXHJcblxyXG5cdFx0XHQvLyBzZXQgb3ZlcmxheSBzb3VyY2UgdG8gdGhpcyBsYXllclxyXG5cdFx0XHR0aGlzLl9zb3VyY2UgPSBzb3VyY2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFsYXRsbmcpIHtcclxuXHRcdFx0aWYgKHNvdXJjZS5nZXRDZW50ZXIpIHtcclxuXHRcdFx0XHRsYXRsbmcgPSBzb3VyY2UuZ2V0Q2VudGVyKCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc291cmNlLmdldExhdExuZykge1xyXG5cdFx0XHRcdGxhdGxuZyA9IHNvdXJjZS5nZXRMYXRMbmcoKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzb3VyY2UuZ2V0Qm91bmRzKSB7XHJcblx0XHRcdFx0bGF0bG5nID0gc291cmNlLmdldEJvdW5kcygpLmdldENlbnRlcigpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBzb3VyY2UgbGF5ZXIgTGF0TG5nLicpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR0aGlzLnNldExhdExuZyhsYXRsbmcpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0Ly8gdXBkYXRlIHRoZSBvdmVybGF5IChjb250ZW50LCBsYXlvdXQsIGV0Yy4uLilcclxuXHRcdFx0dGhpcy51cGRhdGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlQ29udGVudDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9jb250ZW50KSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHZhciBub2RlID0gdGhpcy5fY29udGVudE5vZGU7XHJcblx0XHR2YXIgY29udGVudCA9ICh0eXBlb2YgdGhpcy5fY29udGVudCA9PT0gJ2Z1bmN0aW9uJykgPyB0aGlzLl9jb250ZW50KHRoaXMuX3NvdXJjZSB8fCB0aGlzKSA6IHRoaXMuX2NvbnRlbnQ7XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRub2RlLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZSAobm9kZS5oYXNDaGlsZE5vZGVzKCkpIHtcclxuXHRcdFx0XHRub2RlLnJlbW92ZUNoaWxkKG5vZGUuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0bm9kZS5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBAbmFtZXNwYWNlIERpdk92ZXJsYXlcclxuXHRcdC8vIEBzZWN0aW9uIERpdk92ZXJsYXkgZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgY29udGVudHVwZGF0ZTogRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIGNvbnRlbnQgb2YgdGhlIG92ZXJsYXkgaXMgdXBkYXRlZFxyXG5cdFx0dGhpcy5maXJlKCdjb250ZW50dXBkYXRlJyk7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cclxuXHJcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpLFxyXG5cdFx0ICAgIG9mZnNldCA9IHRvUG9pbnQodGhpcy5vcHRpb25zLm9mZnNldCksXHJcblx0XHQgICAgYW5jaG9yID0gdGhpcy5fZ2V0QW5jaG9yKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkge1xyXG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lciwgcG9zLmFkZChhbmNob3IpKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG9mZnNldCA9IG9mZnNldC5hZGQocG9zKS5hZGQoYW5jaG9yKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgYm90dG9tID0gdGhpcy5fY29udGFpbmVyQm90dG9tID0gLW9mZnNldC55LFxyXG5cdFx0ICAgIGxlZnQgPSB0aGlzLl9jb250YWluZXJMZWZ0ID0gLU1hdGgucm91bmQodGhpcy5fY29udGFpbmVyV2lkdGggLyAyKSArIG9mZnNldC54O1xyXG5cclxuXHRcdC8vIGJvdHRvbSBwb3NpdGlvbiB0aGUgb3ZlcmxheSBpbiBjYXNlIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJsYXkgY2hhbmdlcyAoaW1hZ2VzIGxvYWRpbmcgZXRjKVxyXG5cdFx0dGhpcy5fY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9IGJvdHRvbSArICdweCc7XHJcblx0XHR0aGlzLl9jb250YWluZXIuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRBbmNob3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBbMCwgMF07XHJcblx0fVxyXG5cclxufSk7XHJcblxyXG5NYXAuaW5jbHVkZSh7XHJcblx0X2luaXRPdmVybGF5OiBmdW5jdGlvbiAoT3ZlcmxheUNsYXNzLCBjb250ZW50LCBsYXRsbmcsIG9wdGlvbnMpIHtcclxuXHRcdHZhciBvdmVybGF5ID0gY29udGVudDtcclxuXHRcdGlmICghKG92ZXJsYXkgaW5zdGFuY2VvZiBPdmVybGF5Q2xhc3MpKSB7XHJcblx0XHRcdG92ZXJsYXkgPSBuZXcgT3ZlcmxheUNsYXNzKG9wdGlvbnMpLnNldENvbnRlbnQoY29udGVudCk7XHJcblx0XHR9XHJcblx0XHRpZiAobGF0bG5nKSB7XHJcblx0XHRcdG92ZXJsYXkuc2V0TGF0TG5nKGxhdGxuZyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gb3ZlcmxheTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbkxheWVyLmluY2x1ZGUoe1xyXG5cdF9pbml0T3ZlcmxheTogZnVuY3Rpb24gKE92ZXJsYXlDbGFzcywgb2xkLCBjb250ZW50LCBvcHRpb25zKSB7XHJcblx0XHR2YXIgb3ZlcmxheSA9IGNvbnRlbnQ7XHJcblx0XHRpZiAob3ZlcmxheSBpbnN0YW5jZW9mIE92ZXJsYXlDbGFzcykge1xyXG5cdFx0XHRVdGlsLnNldE9wdGlvbnMob3ZlcmxheSwgb3B0aW9ucyk7XHJcblx0XHRcdG92ZXJsYXkuX3NvdXJjZSA9IHRoaXM7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvdmVybGF5ID0gKG9sZCAmJiAhb3B0aW9ucykgPyBvbGQgOiBuZXcgT3ZlcmxheUNsYXNzKG9wdGlvbnMsIHRoaXMpO1xyXG5cdFx0XHRvdmVybGF5LnNldENvbnRlbnQoY29udGVudCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gb3ZlcmxheTtcclxuXHR9XHJcbn0pO1xyXG4iLCAiaW1wb3J0IHtEaXZPdmVybGF5fSBmcm9tICcuL0Rpdk92ZXJsYXknO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi9kb20vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcclxuaW1wb3J0IHtQb2ludCwgdG9Qb2ludH0gZnJvbSAnLi4vZ2VvbWV0cnkvUG9pbnQnO1xyXG5pbXBvcnQge01hcH0gZnJvbSAnLi4vbWFwL01hcCc7XHJcbmltcG9ydCB7TGF5ZXJ9IGZyb20gJy4vTGF5ZXInO1xyXG5pbXBvcnQge1BhdGh9IGZyb20gJy4vdmVjdG9yL1BhdGgnO1xyXG5pbXBvcnQge0ZlYXR1cmVHcm91cH0gZnJvbSAnLi9GZWF0dXJlR3JvdXAnO1xyXG5cclxuLypcclxuICogQGNsYXNzIFBvcHVwXHJcbiAqIEBpbmhlcml0cyBEaXZPdmVybGF5XHJcbiAqIEBha2EgTC5Qb3B1cFxyXG4gKiBVc2VkIHRvIG9wZW4gcG9wdXBzIGluIGNlcnRhaW4gcGxhY2VzIG9mIHRoZSBtYXAuIFVzZSBbTWFwLm9wZW5Qb3B1cF0oI21hcC1vcGVucG9wdXApIHRvXHJcbiAqIG9wZW4gcG9wdXBzIHdoaWxlIG1ha2luZyBzdXJlIHRoYXQgb25seSBvbmUgcG9wdXAgaXMgb3BlbiBhdCBvbmUgdGltZVxyXG4gKiAocmVjb21tZW5kZWQgZm9yIHVzYWJpbGl0eSksIG9yIHVzZSBbTWFwLmFkZExheWVyXSgjbWFwLWFkZGxheWVyKSB0byBvcGVuIGFzIG1hbnkgYXMgeW91IHdhbnQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIElmIHlvdSB3YW50IHRvIGp1c3QgYmluZCBhIHBvcHVwIHRvIG1hcmtlciBjbGljayBhbmQgdGhlbiBvcGVuIGl0LCBpdCdzIHJlYWxseSBlYXN5OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBtYXJrZXIuYmluZFBvcHVwKHBvcHVwQ29udGVudCkub3BlblBvcHVwKCk7XHJcbiAqIGBgYFxyXG4gKiBQYXRoIG92ZXJsYXlzIGxpa2UgcG9seWxpbmVzIGFsc28gaGF2ZSBhIGBiaW5kUG9wdXBgIG1ldGhvZC5cclxuICpcclxuICogQSBwb3B1cCBjYW4gYmUgYWxzbyBzdGFuZGFsb25lOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgcG9wdXAgPSBMLnBvcHVwKClcclxuICogXHQuc2V0TGF0TG5nKGxhdGxuZylcclxuICogXHQuc2V0Q29udGVudCgnPHA+SGVsbG8gd29ybGQhPGJyIC8+VGhpcyBpcyBhIG5pY2UgcG9wdXAuPC9wPicpXHJcbiAqIFx0Lm9wZW5PbihtYXApO1xyXG4gKiBgYGBcclxuICogb3JcclxuICogYGBganNcclxuICogdmFyIHBvcHVwID0gTC5wb3B1cChsYXRsbmcsIHtjb250ZW50OiAnPHA+SGVsbG8gd29ybGQhPGJyIC8+VGhpcyBpcyBhIG5pY2UgcG9wdXAuPC9wPicpXHJcbiAqIFx0Lm9wZW5PbihtYXApO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLy8gQG5hbWVzcGFjZSBQb3B1cFxyXG5leHBvcnQgdmFyIFBvcHVwID0gRGl2T3ZlcmxheS5leHRlbmQoe1xyXG5cclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgUG9wdXAgb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gJ3BvcHVwUGFuZSdcclxuXHRcdC8vIGBNYXAgcGFuZWAgd2hlcmUgdGhlIHBvcHVwIHdpbGwgYmUgYWRkZWQuXHJcblx0XHRwYW5lOiAncG9wdXBQYW5lJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG9mZnNldDogUG9pbnQgPSBQb2ludCgwLCA3KVxyXG5cdFx0Ly8gVGhlIG9mZnNldCBvZiB0aGUgcG9wdXAgcG9zaXRpb24uXHJcblx0XHRvZmZzZXQ6IFswLCA3XSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1heFdpZHRoOiBOdW1iZXIgPSAzMDBcclxuXHRcdC8vIE1heCB3aWR0aCBvZiB0aGUgcG9wdXAsIGluIHBpeGVscy5cclxuXHRcdG1heFdpZHRoOiAzMDAsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBtaW5XaWR0aDogTnVtYmVyID0gNTBcclxuXHRcdC8vIE1pbiB3aWR0aCBvZiB0aGUgcG9wdXAsIGluIHBpeGVscy5cclxuXHRcdG1pbldpZHRoOiA1MCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1heEhlaWdodDogTnVtYmVyID0gbnVsbFxyXG5cdFx0Ly8gSWYgc2V0LCBjcmVhdGVzIGEgc2Nyb2xsYWJsZSBjb250YWluZXIgb2YgdGhlIGdpdmVuIGhlaWdodFxyXG5cdFx0Ly8gaW5zaWRlIGEgcG9wdXAgaWYgaXRzIGNvbnRlbnQgZXhjZWVkcyBpdC5cclxuXHRcdC8vIFRoZSBzY3JvbGxhYmxlIGNvbnRhaW5lciBjYW4gYmUgc3R5bGVkIHVzaW5nIHRoZVxyXG5cdFx0Ly8gYGxlYWZsZXQtcG9wdXAtc2Nyb2xsZWRgIENTUyBjbGFzcyBzZWxlY3Rvci5cclxuXHRcdG1heEhlaWdodDogbnVsbCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW46IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBTZXQgaXQgdG8gYGZhbHNlYCBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgbWFwIHRvIGRvIHBhbm5pbmcgYW5pbWF0aW9uXHJcblx0XHQvLyB0byBmaXQgdGhlIG9wZW5lZCBwb3B1cC5cclxuXHRcdGF1dG9QYW46IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvUGFuUGFkZGluZ1RvcExlZnQ6IFBvaW50ID0gbnVsbFxyXG5cdFx0Ly8gVGhlIG1hcmdpbiBiZXR3ZWVuIHRoZSBwb3B1cCBhbmQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgbWFwXHJcblx0XHQvLyB2aWV3IGFmdGVyIGF1dG9wYW5uaW5nIHdhcyBwZXJmb3JtZWQuXHJcblx0XHRhdXRvUGFuUGFkZGluZ1RvcExlZnQ6IG51bGwsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0OiBQb2ludCA9IG51bGxcclxuXHRcdC8vIFRoZSBtYXJnaW4gYmV0d2VlbiB0aGUgcG9wdXAgYW5kIHRoZSBib3R0b20gcmlnaHQgY29ybmVyIG9mIHRoZSBtYXBcclxuXHRcdC8vIHZpZXcgYWZ0ZXIgYXV0b3Bhbm5pbmcgd2FzIHBlcmZvcm1lZC5cclxuXHRcdGF1dG9QYW5QYWRkaW5nQm90dG9tUmlnaHQ6IG51bGwsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvUGFuUGFkZGluZzogUG9pbnQgPSBQb2ludCg1LCA1KVxyXG5cdFx0Ly8gRXF1aXZhbGVudCBvZiBzZXR0aW5nIGJvdGggdG9wIGxlZnQgYW5kIGJvdHRvbSByaWdodCBhdXRvcGFuIHBhZGRpbmcgdG8gdGhlIHNhbWUgdmFsdWUuXHJcblx0XHRhdXRvUGFuUGFkZGluZzogWzUsIDVdLFxyXG5cclxuXHRcdC8vIEBvcHRpb24ga2VlcEluVmlldzogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBTZXQgaXQgdG8gYHRydWVgIGlmIHlvdSB3YW50IHRvIHByZXZlbnQgdXNlcnMgZnJvbSBwYW5uaW5nIHRoZSBwb3B1cFxyXG5cdFx0Ly8gb2ZmIG9mIHRoZSBzY3JlZW4gd2hpbGUgaXQgaXMgb3Blbi5cclxuXHRcdGtlZXBJblZpZXc6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gY2xvc2VCdXR0b246IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBDb250cm9scyB0aGUgcHJlc2VuY2Ugb2YgYSBjbG9zZSBidXR0b24gaW4gdGhlIHBvcHVwLlxyXG5cdFx0Y2xvc2VCdXR0b246IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvQ2xvc2U6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBTZXQgaXQgdG8gYGZhbHNlYCBpZiB5b3Ugd2FudCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZlxyXG5cdFx0Ly8gdGhlIHBvcHVwIGNsb3Npbmcgd2hlbiBhbm90aGVyIHBvcHVwIGlzIG9wZW5lZC5cclxuXHRcdGF1dG9DbG9zZTogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNsb3NlT25Fc2NhcGVLZXk6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBTZXQgaXQgdG8gYGZhbHNlYCBpZiB5b3Ugd2FudCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZlxyXG5cdFx0Ly8gdGhlIEVTQyBrZXkgZm9yIGNsb3Npbmcgb2YgdGhlIHBvcHVwLlxyXG5cdFx0Y2xvc2VPbkVzY2FwZUtleTogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNsb3NlT25DbGljazogQm9vbGVhbiA9ICpcclxuXHRcdC8vIFNldCBpdCBpZiB5b3Ugd2FudCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgcG9wdXAgY2xvc2luZyB3aGVuIHVzZXIgY2xpY2tzXHJcblx0XHQvLyBvbiB0aGUgbWFwLiBEZWZhdWx0cyB0byB0aGUgbWFwJ3MgW2BjbG9zZVBvcHVwT25DbGlja2BdKCNtYXAtY2xvc2Vwb3B1cG9uY2xpY2spIG9wdGlvbi5cclxuXHJcblx0XHQvLyBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gJydcclxuXHRcdC8vIEEgY3VzdG9tIENTUyBjbGFzcyBuYW1lIHRvIGFzc2lnbiB0byB0aGUgcG9wdXAuXHJcblx0XHRjbGFzc05hbWU6ICcnXHJcblx0fSxcclxuXHJcblx0Ly8gQG5hbWVzcGFjZSBQb3B1cFxyXG5cdC8vIEBtZXRob2Qgb3Blbk9uKG1hcDogTWFwKTogdGhpc1xyXG5cdC8vIEFsdGVybmF0aXZlIHRvIGBtYXAub3BlblBvcHVwKHBvcHVwKWAuXHJcblx0Ly8gQWRkcyB0aGUgcG9wdXAgdG8gdGhlIG1hcCBhbmQgY2xvc2VzIHRoZSBwcmV2aW91cyBvbmUuXHJcblx0b3Blbk9uOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRtYXAgPSBhcmd1bWVudHMubGVuZ3RoID8gbWFwIDogdGhpcy5fc291cmNlLl9tYXA7IC8vIGV4cGVyaW1lbnRhbCwgbm90IHRoZSBwYXJ0IG9mIHB1YmxpYyBhcGlcclxuXHJcblx0XHRpZiAoIW1hcC5oYXNMYXllcih0aGlzKSAmJiBtYXAuX3BvcHVwICYmIG1hcC5fcG9wdXAub3B0aW9ucy5hdXRvQ2xvc2UpIHtcclxuXHRcdFx0bWFwLnJlbW92ZUxheWVyKG1hcC5fcG9wdXApO1xyXG5cdFx0fVxyXG5cdFx0bWFwLl9wb3B1cCA9IHRoaXM7XHJcblxyXG5cdFx0cmV0dXJuIERpdk92ZXJsYXkucHJvdG90eXBlLm9wZW5Pbi5jYWxsKHRoaXMsIG1hcCk7XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdERpdk92ZXJsYXkucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcclxuXHJcblx0XHQvLyBAbmFtZXNwYWNlIE1hcFxyXG5cdFx0Ly8gQHNlY3Rpb24gUG9wdXAgZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgcG9wdXBvcGVuOiBQb3B1cEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGEgcG9wdXAgaXMgb3BlbmVkIGluIHRoZSBtYXBcclxuXHRcdG1hcC5maXJlKCdwb3B1cG9wZW4nLCB7cG9wdXA6IHRoaXN9KTtcclxuXHJcblx0XHRpZiAodGhpcy5fc291cmNlKSB7XHJcblx0XHRcdC8vIEBuYW1lc3BhY2UgTGF5ZXJcclxuXHRcdFx0Ly8gQHNlY3Rpb24gUG9wdXAgZXZlbnRzXHJcblx0XHRcdC8vIEBldmVudCBwb3B1cG9wZW46IFBvcHVwRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgd2hlbiBhIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaXMgb3BlbmVkXHJcblx0XHRcdHRoaXMuX3NvdXJjZS5maXJlKCdwb3B1cG9wZW4nLCB7cG9wdXA6IHRoaXN9LCB0cnVlKTtcclxuXHRcdFx0Ly8gRm9yIG5vbi1wYXRoIGxheWVycywgd2UgdG9nZ2xlIHRoZSBwb3B1cCB3aGVuIGNsaWNraW5nXHJcblx0XHRcdC8vIGFnYWluIHRoZSBsYXllciwgc28gcHJldmVudCB0aGUgbWFwIHRvIHJlb3BlbiBpdC5cclxuXHRcdFx0aWYgKCEodGhpcy5fc291cmNlIGluc3RhbmNlb2YgUGF0aCkpIHtcclxuXHRcdFx0XHR0aGlzLl9zb3VyY2Uub24oJ3ByZWNsaWNrJywgRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHREaXZPdmVybGF5LnByb3RvdHlwZS5vblJlbW92ZS5jYWxsKHRoaXMsIG1hcCk7XHJcblxyXG5cdFx0Ly8gQG5hbWVzcGFjZSBNYXBcclxuXHRcdC8vIEBzZWN0aW9uIFBvcHVwIGV2ZW50c1xyXG5cdFx0Ly8gQGV2ZW50IHBvcHVwY2xvc2U6IFBvcHVwRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gYSBwb3B1cCBpbiB0aGUgbWFwIGlzIGNsb3NlZFxyXG5cdFx0bWFwLmZpcmUoJ3BvcHVwY2xvc2UnLCB7cG9wdXA6IHRoaXN9KTtcclxuXHJcblx0XHRpZiAodGhpcy5fc291cmNlKSB7XHJcblx0XHRcdC8vIEBuYW1lc3BhY2UgTGF5ZXJcclxuXHRcdFx0Ly8gQHNlY3Rpb24gUG9wdXAgZXZlbnRzXHJcblx0XHRcdC8vIEBldmVudCBwb3B1cGNsb3NlOiBQb3B1cEV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIHdoZW4gYSBwb3B1cCBib3VuZCB0byB0aGlzIGxheWVyIGlzIGNsb3NlZFxyXG5cdFx0XHR0aGlzLl9zb3VyY2UuZmlyZSgncG9wdXBjbG9zZScsIHtwb3B1cDogdGhpc30sIHRydWUpO1xyXG5cdFx0XHRpZiAoISh0aGlzLl9zb3VyY2UgaW5zdGFuY2VvZiBQYXRoKSkge1xyXG5cdFx0XHRcdHRoaXMuX3NvdXJjZS5vZmYoJ3ByZWNsaWNrJywgRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdGdldEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGV2ZW50cyA9IERpdk92ZXJsYXkucHJvdG90eXBlLmdldEV2ZW50cy5jYWxsKHRoaXMpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrICE9PSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrIDogdGhpcy5fbWFwLm9wdGlvbnMuY2xvc2VQb3B1cE9uQ2xpY2spIHtcclxuXHRcdFx0ZXZlbnRzLnByZWNsaWNrID0gdGhpcy5jbG9zZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmtlZXBJblZpZXcpIHtcclxuXHRcdFx0ZXZlbnRzLm1vdmVlbmQgPSB0aGlzLl9hZGp1c3RQYW47XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGV2ZW50cztcclxuXHR9LFxyXG5cclxuXHRfaW5pdExheW91dDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHByZWZpeCA9ICdsZWFmbGV0LXBvcHVwJyxcclxuXHRcdCAgICBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JyxcclxuXHRcdFx0cHJlZml4ICsgJyAnICsgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUgfHwgJycpICtcclxuXHRcdFx0JyBsZWFmbGV0LXpvb20tYW5pbWF0ZWQnKTtcclxuXHJcblx0XHR2YXIgd3JhcHBlciA9IHRoaXMuX3dyYXBwZXIgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgcHJlZml4ICsgJy1jb250ZW50LXdyYXBwZXInLCBjb250YWluZXIpO1xyXG5cdFx0dGhpcy5fY29udGVudE5vZGUgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgcHJlZml4ICsgJy1jb250ZW50Jywgd3JhcHBlcik7XHJcblxyXG5cdFx0RG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24oY29udGFpbmVyKTtcclxuXHRcdERvbUV2ZW50LmRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbih0aGlzLl9jb250ZW50Tm9kZSk7XHJcblx0XHREb21FdmVudC5vbihjb250YWluZXIsICdjb250ZXh0bWVudScsIERvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XHJcblxyXG5cdFx0dGhpcy5fdGlwQ29udGFpbmVyID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIHByZWZpeCArICctdGlwLWNvbnRhaW5lcicsIGNvbnRhaW5lcik7XHJcblx0XHR0aGlzLl90aXAgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgcHJlZml4ICsgJy10aXAnLCB0aGlzLl90aXBDb250YWluZXIpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b24pIHtcclxuXHRcdFx0dmFyIGNsb3NlQnV0dG9uID0gdGhpcy5fY2xvc2VCdXR0b24gPSBEb21VdGlsLmNyZWF0ZSgnYScsIHByZWZpeCArICctY2xvc2UtYnV0dG9uJywgY29udGFpbmVyKTtcclxuXHRcdFx0Y2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpOyAvLyBvdmVycmlkZXMgdGhlIGltcGxpY2l0IHJvbGU9bGluayBvZiA8YT4gZWxlbWVudHMgIzczOTlcclxuXHRcdFx0Y2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0Nsb3NlIHBvcHVwJyk7XHJcblx0XHRcdGNsb3NlQnV0dG9uLmhyZWYgPSAnI2Nsb3NlJztcclxuXHRcdFx0Y2xvc2VCdXR0b24uaW5uZXJIVE1MID0gJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiYjMjE1Ozwvc3Bhbj4nO1xyXG5cclxuXHRcdFx0RG9tRXZlbnQub24oY2xvc2VCdXR0b24sICdjbGljaycsIGZ1bmN0aW9uIChldikge1xyXG5cdFx0XHRcdERvbUV2ZW50LnByZXZlbnREZWZhdWx0KGV2KTtcclxuXHRcdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVMYXlvdXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl9jb250ZW50Tm9kZSxcclxuXHRcdCAgICBzdHlsZSA9IGNvbnRhaW5lci5zdHlsZTtcclxuXHJcblx0XHRzdHlsZS53aWR0aCA9ICcnO1xyXG5cdFx0c3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnO1xyXG5cclxuXHRcdHZhciB3aWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuXHRcdHdpZHRoID0gTWF0aC5taW4od2lkdGgsIHRoaXMub3B0aW9ucy5tYXhXaWR0aCk7XHJcblx0XHR3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCB0aGlzLm9wdGlvbnMubWluV2lkdGgpO1xyXG5cclxuXHRcdHN0eWxlLndpZHRoID0gKHdpZHRoICsgMSkgKyAncHgnO1xyXG5cdFx0c3R5bGUud2hpdGVTcGFjZSA9ICcnO1xyXG5cclxuXHRcdHN0eWxlLmhlaWdodCA9ICcnO1xyXG5cclxuXHRcdHZhciBoZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0LFxyXG5cdFx0ICAgIG1heEhlaWdodCA9IHRoaXMub3B0aW9ucy5tYXhIZWlnaHQsXHJcblx0XHQgICAgc2Nyb2xsZWRDbGFzcyA9ICdsZWFmbGV0LXBvcHVwLXNjcm9sbGVkJztcclxuXHJcblx0XHRpZiAobWF4SGVpZ2h0ICYmIGhlaWdodCA+IG1heEhlaWdodCkge1xyXG5cdFx0XHRzdHlsZS5oZWlnaHQgPSBtYXhIZWlnaHQgKyAncHgnO1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgc2Nyb2xsZWRDbGFzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgc2Nyb2xsZWRDbGFzcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fY29udGFpbmVyV2lkdGggPSB0aGlzLl9jb250YWluZXIub2Zmc2V0V2lkdGg7XHJcblx0fSxcclxuXHJcblx0X2FuaW1hdGVab29tOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0dmFyIHBvcyA9IHRoaXMuX21hcC5fbGF0TG5nVG9OZXdMYXllclBvaW50KHRoaXMuX2xhdGxuZywgZS56b29tLCBlLmNlbnRlciksXHJcblx0XHQgICAgYW5jaG9yID0gdGhpcy5fZ2V0QW5jaG9yKCk7XHJcblx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lciwgcG9zLmFkZChhbmNob3IpKTtcclxuXHR9LFxyXG5cclxuXHRfYWRqdXN0UGFuOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMub3B0aW9ucy5hdXRvUGFuKSB7IHJldHVybjsgfVxyXG5cdFx0aWYgKHRoaXMuX21hcC5fcGFuQW5pbSkgeyB0aGlzLl9tYXAuX3BhbkFuaW0uc3RvcCgpOyB9XHJcblxyXG5cdFx0Ly8gV2UgY2FuIGVuZGxlc3NseSByZWN1cnNlIGlmIGtlZXBJblZpZXcgaXMgc2V0IGFuZCB0aGUgdmlldyByZXNldHMuXHJcblx0XHQvLyBMZXQncyBndWFyZCBhZ2FpbnN0IHRoYXQgYnkgZXhpdGluZyBlYXJseSBpZiB3ZSdyZSByZXNwb25kaW5nIHRvIG91ciBvd24gYXV0b3Bhbi5cclxuXHRcdGlmICh0aGlzLl9hdXRvcGFubmluZykge1xyXG5cdFx0XHR0aGlzLl9hdXRvcGFubmluZyA9IGZhbHNlO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcclxuXHRcdCAgICBtYXJnaW5Cb3R0b20gPSBwYXJzZUludChEb21VdGlsLmdldFN0eWxlKHRoaXMuX2NvbnRhaW5lciwgJ21hcmdpbkJvdHRvbScpLCAxMCkgfHwgMCxcclxuXHRcdCAgICBjb250YWluZXJIZWlnaHQgPSB0aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0ICsgbWFyZ2luQm90dG9tLFxyXG5cdFx0ICAgIGNvbnRhaW5lcldpZHRoID0gdGhpcy5fY29udGFpbmVyV2lkdGgsXHJcblx0XHQgICAgbGF5ZXJQb3MgPSBuZXcgUG9pbnQodGhpcy5fY29udGFpbmVyTGVmdCwgLWNvbnRhaW5lckhlaWdodCAtIHRoaXMuX2NvbnRhaW5lckJvdHRvbSk7XHJcblxyXG5cdFx0bGF5ZXJQb3MuX2FkZChEb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcikpO1xyXG5cclxuXHRcdHZhciBjb250YWluZXJQb3MgPSBtYXAubGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQobGF5ZXJQb3MpLFxyXG5cdFx0ICAgIHBhZGRpbmcgPSB0b1BvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZyksXHJcblx0XHQgICAgcGFkZGluZ1RMID0gdG9Qb2ludCh0aGlzLm9wdGlvbnMuYXV0b1BhblBhZGRpbmdUb3BMZWZ0IHx8IHBhZGRpbmcpLFxyXG5cdFx0ICAgIHBhZGRpbmdCUiA9IHRvUG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nQm90dG9tUmlnaHQgfHwgcGFkZGluZyksXHJcblx0XHQgICAgc2l6ZSA9IG1hcC5nZXRTaXplKCksXHJcblx0XHQgICAgZHggPSAwLFxyXG5cdFx0ICAgIGR5ID0gMDtcclxuXHJcblx0XHRpZiAoY29udGFpbmVyUG9zLnggKyBjb250YWluZXJXaWR0aCArIHBhZGRpbmdCUi54ID4gc2l6ZS54KSB7IC8vIHJpZ2h0XHJcblx0XHRcdGR4ID0gY29udGFpbmVyUG9zLnggKyBjb250YWluZXJXaWR0aCAtIHNpemUueCArIHBhZGRpbmdCUi54O1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNvbnRhaW5lclBvcy54IC0gZHggLSBwYWRkaW5nVEwueCA8IDApIHsgLy8gbGVmdFxyXG5cdFx0XHRkeCA9IGNvbnRhaW5lclBvcy54IC0gcGFkZGluZ1RMLng7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyUG9zLnkgKyBjb250YWluZXJIZWlnaHQgKyBwYWRkaW5nQlIueSA+IHNpemUueSkgeyAvLyBib3R0b21cclxuXHRcdFx0ZHkgPSBjb250YWluZXJQb3MueSArIGNvbnRhaW5lckhlaWdodCAtIHNpemUueSArIHBhZGRpbmdCUi55O1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNvbnRhaW5lclBvcy55IC0gZHkgLSBwYWRkaW5nVEwueSA8IDApIHsgLy8gdG9wXHJcblx0XHRcdGR5ID0gY29udGFpbmVyUG9zLnkgLSBwYWRkaW5nVEwueTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBAbmFtZXNwYWNlIE1hcFxyXG5cdFx0Ly8gQHNlY3Rpb24gUG9wdXAgZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgYXV0b3BhbnN0YXJ0OiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFwIHN0YXJ0cyBhdXRvcGFubmluZyB3aGVuIG9wZW5pbmcgYSBwb3B1cC5cclxuXHRcdGlmIChkeCB8fCBkeSkge1xyXG5cdFx0XHQvLyBUcmFjayB0aGF0IHdlJ3JlIGF1dG9wYW5uaW5nLCBhcyB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgcmUtcmFuIG9uIG1vdmVlbmRcclxuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy5rZWVwSW5WaWV3KSB7XHJcblx0XHRcdFx0dGhpcy5fYXV0b3Bhbm5pbmcgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRtYXBcclxuXHRcdFx0ICAgIC5maXJlKCdhdXRvcGFuc3RhcnQnKVxyXG5cdFx0XHQgICAgLnBhbkJ5KFtkeCwgZHldKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZ2V0QW5jaG9yOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBXaGVyZSBzaG91bGQgd2UgYW5jaG9yIHRoZSBwb3B1cCBvbiB0aGUgc291cmNlIGxheWVyP1xyXG5cdFx0cmV0dXJuIHRvUG9pbnQodGhpcy5fc291cmNlICYmIHRoaXMuX3NvdXJjZS5fZ2V0UG9wdXBBbmNob3IgPyB0aGlzLl9zb3VyY2UuX2dldFBvcHVwQW5jaG9yKCkgOiBbMCwgMF0pO1xyXG5cdH1cclxuXHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBQb3B1cFxyXG4vLyBAZmFjdG9yeSBMLnBvcHVwKG9wdGlvbnM/OiBQb3B1cCBvcHRpb25zLCBzb3VyY2U/OiBMYXllcilcclxuLy8gSW5zdGFudGlhdGVzIGEgYFBvcHVwYCBvYmplY3QgZ2l2ZW4gYW4gb3B0aW9uYWwgYG9wdGlvbnNgIG9iamVjdCB0aGF0IGRlc2NyaWJlcyBpdHMgYXBwZWFyYW5jZSBhbmQgbG9jYXRpb24gYW5kIGFuIG9wdGlvbmFsIGBzb3VyY2VgIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gdGFnIHRoZSBwb3B1cCB3aXRoIGEgcmVmZXJlbmNlIHRvIHRoZSBMYXllciB0byB3aGljaCBpdCByZWZlcnMuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLnBvcHVwKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogUG9wdXAgb3B0aW9ucylcclxuLy8gSW5zdGFudGlhdGVzIGEgYFBvcHVwYCBvYmplY3QgZ2l2ZW4gYGxhdGxuZ2Agd2hlcmUgdGhlIHBvcHVwIHdpbGwgb3BlbiBhbmQgYW4gb3B0aW9uYWwgYG9wdGlvbnNgIG9iamVjdCB0aGF0IGRlc2NyaWJlcyBpdHMgYXBwZWFyYW5jZSBhbmQgbG9jYXRpb24uXHJcbmV4cG9ydCB2YXIgcG9wdXAgPSBmdW5jdGlvbiAob3B0aW9ucywgc291cmNlKSB7XHJcblx0cmV0dXJuIG5ldyBQb3B1cChvcHRpb25zLCBzb3VyY2UpO1xyXG59O1xyXG5cclxuXHJcbi8qIEBuYW1lc3BhY2UgTWFwXHJcbiAqIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcclxuICogQG9wdGlvbiBjbG9zZVBvcHVwT25DbGljazogQm9vbGVhbiA9IHRydWVcclxuICogU2V0IGl0IHRvIGBmYWxzZWAgaWYgeW91IGRvbid0IHdhbnQgcG9wdXBzIHRvIGNsb3NlIHdoZW4gdXNlciBjbGlja3MgdGhlIG1hcC5cclxuICovXHJcbk1hcC5tZXJnZU9wdGlvbnMoe1xyXG5cdGNsb3NlUG9wdXBPbkNsaWNrOiB0cnVlXHJcbn0pO1xyXG5cclxuXHJcbi8vIEBuYW1lc3BhY2UgTWFwXHJcbi8vIEBzZWN0aW9uIE1ldGhvZHMgZm9yIExheWVycyBhbmQgQ29udHJvbHNcclxuTWFwLmluY2x1ZGUoe1xyXG5cdC8vIEBtZXRob2Qgb3BlblBvcHVwKHBvcHVwOiBQb3B1cCk6IHRoaXNcclxuXHQvLyBPcGVucyB0aGUgc3BlY2lmaWVkIHBvcHVwIHdoaWxlIGNsb3NpbmcgdGhlIHByZXZpb3VzbHkgb3BlbmVkICh0byBtYWtlIHN1cmUgb25seSBvbmUgaXMgb3BlbmVkIGF0IG9uZSB0aW1lIGZvciB1c2FiaWxpdHkpLlxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2Qgb3BlblBvcHVwKGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudCwgbGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/OiBQb3B1cCBvcHRpb25zKTogdGhpc1xyXG5cdC8vIENyZWF0ZXMgYSBwb3B1cCB3aXRoIHRoZSBzcGVjaWZpZWQgY29udGVudCBhbmQgb3B0aW9ucyBhbmQgb3BlbnMgaXQgaW4gdGhlIGdpdmVuIHBvaW50IG9uIGEgbWFwLlxyXG5cdG9wZW5Qb3B1cDogZnVuY3Rpb24gKHBvcHVwLCBsYXRsbmcsIG9wdGlvbnMpIHtcclxuXHRcdHRoaXMuX2luaXRPdmVybGF5KFBvcHVwLCBwb3B1cCwgbGF0bG5nLCBvcHRpb25zKVxyXG5cdFx0ICAub3Blbk9uKHRoaXMpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY2xvc2VQb3B1cChwb3B1cD86IFBvcHVwKTogdGhpc1xyXG5cdC8vIENsb3NlcyB0aGUgcG9wdXAgcHJldmlvdXNseSBvcGVuZWQgd2l0aCBbb3BlblBvcHVwXSgjbWFwLW9wZW5wb3B1cCkgKG9yIHRoZSBnaXZlbiBvbmUpLlxyXG5cdGNsb3NlUG9wdXA6IGZ1bmN0aW9uIChwb3B1cCkge1xyXG5cdFx0cG9wdXAgPSBhcmd1bWVudHMubGVuZ3RoID8gcG9wdXAgOiB0aGlzLl9wb3B1cDtcclxuXHRcdGlmIChwb3B1cCkge1xyXG5cdFx0XHRwb3B1cC5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59KTtcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgTGF5ZXJcclxuICogQHNlY3Rpb24gUG9wdXAgbWV0aG9kcyBleGFtcGxlXHJcbiAqXHJcbiAqIEFsbCBsYXllcnMgc2hhcmUgYSBzZXQgb2YgbWV0aG9kcyBjb252ZW5pZW50IGZvciBiaW5kaW5nIHBvcHVwcyB0byBpdC5cclxuICpcclxuICogYGBganNcclxuICogdmFyIGxheWVyID0gTC5Qb2x5Z29uKGxhdGxuZ3MpLmJpbmRQb3B1cCgnSGkgVGhlcmUhJykuYWRkVG8obWFwKTtcclxuICogbGF5ZXIub3BlblBvcHVwKCk7XHJcbiAqIGxheWVyLmNsb3NlUG9wdXAoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFBvcHVwcyB3aWxsIGFsc28gYmUgYXV0b21hdGljYWxseSBvcGVuZWQgd2hlbiB0aGUgbGF5ZXIgaXMgY2xpY2tlZCBvbiBhbmQgY2xvc2VkIHdoZW4gdGhlIGxheWVyIGlzIHJlbW92ZWQgZnJvbSB0aGUgbWFwIG9yIGFub3RoZXIgcG9wdXAgaXMgb3BlbmVkLlxyXG4gKi9cclxuXHJcbi8vIEBzZWN0aW9uIFBvcHVwIG1ldGhvZHNcclxuTGF5ZXIuaW5jbHVkZSh7XHJcblxyXG5cdC8vIEBtZXRob2QgYmluZFBvcHVwKGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxGdW5jdGlvbnxQb3B1cCwgb3B0aW9ucz86IFBvcHVwIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gQmluZHMgYSBwb3B1cCB0byB0aGUgbGF5ZXIgd2l0aCB0aGUgcGFzc2VkIGBjb250ZW50YCBhbmQgc2V0cyB1cCB0aGVcclxuXHQvLyBuZWNlc3NhcnkgZXZlbnQgbGlzdGVuZXJzLiBJZiBhIGBGdW5jdGlvbmAgaXMgcGFzc2VkIGl0IHdpbGwgcmVjZWl2ZVxyXG5cdC8vIHRoZSBsYXllciBhcyB0aGUgZmlyc3QgYXJndW1lbnQgYW5kIHNob3VsZCByZXR1cm4gYSBgU3RyaW5nYCBvciBgSFRNTEVsZW1lbnRgLlxyXG5cdGJpbmRQb3B1cDogZnVuY3Rpb24gKGNvbnRlbnQsIG9wdGlvbnMpIHtcclxuXHRcdHRoaXMuX3BvcHVwID0gdGhpcy5faW5pdE92ZXJsYXkoUG9wdXAsIHRoaXMuX3BvcHVwLCBjb250ZW50LCBvcHRpb25zKTtcclxuXHRcdGlmICghdGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkKSB7XHJcblx0XHRcdHRoaXMub24oe1xyXG5cdFx0XHRcdGNsaWNrOiB0aGlzLl9vcGVuUG9wdXAsXHJcblx0XHRcdFx0a2V5cHJlc3M6IHRoaXMuX29uS2V5UHJlc3MsXHJcblx0XHRcdFx0cmVtb3ZlOiB0aGlzLmNsb3NlUG9wdXAsXHJcblx0XHRcdFx0bW92ZTogdGhpcy5fbW92ZVBvcHVwXHJcblx0XHRcdH0pO1xyXG5cdFx0XHR0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdW5iaW5kUG9wdXAoKTogdGhpc1xyXG5cdC8vIFJlbW92ZXMgdGhlIHBvcHVwIHByZXZpb3VzbHkgYm91bmQgd2l0aCBgYmluZFBvcHVwYC5cclxuXHR1bmJpbmRQb3B1cDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX3BvcHVwKSB7XHJcblx0XHRcdHRoaXMub2ZmKHtcclxuXHRcdFx0XHRjbGljazogdGhpcy5fb3BlblBvcHVwLFxyXG5cdFx0XHRcdGtleXByZXNzOiB0aGlzLl9vbktleVByZXNzLFxyXG5cdFx0XHRcdHJlbW92ZTogdGhpcy5jbG9zZVBvcHVwLFxyXG5cdFx0XHRcdG1vdmU6IHRoaXMuX21vdmVQb3B1cFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuX3BvcHVwID0gbnVsbDtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgb3BlblBvcHVwKGxhdGxuZz86IExhdExuZyk6IHRoaXNcclxuXHQvLyBPcGVucyB0aGUgYm91bmQgcG9wdXAgYXQgdGhlIHNwZWNpZmllZCBgbGF0bG5nYCBvciBhdCB0aGUgZGVmYXVsdCBwb3B1cCBhbmNob3IgaWYgbm8gYGxhdGxuZ2AgaXMgcGFzc2VkLlxyXG5cdG9wZW5Qb3B1cDogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0aWYgKHRoaXMuX3BvcHVwKSB7XHJcblx0XHRcdGlmICghKHRoaXMgaW5zdGFuY2VvZiBGZWF0dXJlR3JvdXApKSB7XHJcblx0XHRcdFx0dGhpcy5fcG9wdXAuX3NvdXJjZSA9IHRoaXM7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMuX3BvcHVwLl9wcmVwYXJlT3BlbihsYXRsbmcgfHwgdGhpcy5fbGF0bG5nKSkge1xyXG5cdFx0XHRcdC8vIG9wZW4gdGhlIHBvcHVwIG9uIHRoZSBtYXBcclxuXHRcdFx0XHR0aGlzLl9wb3B1cC5vcGVuT24odGhpcy5fbWFwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjbG9zZVBvcHVwKCk6IHRoaXNcclxuXHQvLyBDbG9zZXMgdGhlIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaWYgaXQgaXMgb3Blbi5cclxuXHRjbG9zZVBvcHVwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fcG9wdXApIHtcclxuXHRcdFx0dGhpcy5fcG9wdXAuY2xvc2UoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdG9nZ2xlUG9wdXAoKTogdGhpc1xyXG5cdC8vIE9wZW5zIG9yIGNsb3NlcyB0aGUgcG9wdXAgYm91bmQgdG8gdGhpcyBsYXllciBkZXBlbmRpbmcgb24gaXRzIGN1cnJlbnQgc3RhdGUuXHJcblx0dG9nZ2xlUG9wdXA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9wb3B1cCkge1xyXG5cdFx0XHR0aGlzLl9wb3B1cC50b2dnbGUodGhpcyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGlzUG9wdXBPcGVuKCk6IGJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcG9wdXAgYm91bmQgdG8gdGhpcyBsYXllciBpcyBjdXJyZW50bHkgb3Blbi5cclxuXHRpc1BvcHVwT3BlbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICh0aGlzLl9wb3B1cCA/IHRoaXMuX3BvcHVwLmlzT3BlbigpIDogZmFsc2UpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0UG9wdXBDb250ZW50KGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxQb3B1cCk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBjb250ZW50IG9mIHRoZSBwb3B1cCBib3VuZCB0byB0aGlzIGxheWVyLlxyXG5cdHNldFBvcHVwQ29udGVudDogZnVuY3Rpb24gKGNvbnRlbnQpIHtcclxuXHRcdGlmICh0aGlzLl9wb3B1cCkge1xyXG5cdFx0XHR0aGlzLl9wb3B1cC5zZXRDb250ZW50KGNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRQb3B1cCgpOiBQb3B1cFxyXG5cdC8vIFJldHVybnMgdGhlIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIuXHJcblx0Z2V0UG9wdXA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9wb3B1cDtcclxuXHR9LFxyXG5cclxuXHRfb3BlblBvcHVwOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0aWYgKCF0aGlzLl9wb3B1cCB8fCAhdGhpcy5fbWFwKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdC8vIHByZXZlbnQgbWFwIGNsaWNrXHJcblx0XHREb21FdmVudC5zdG9wKGUpO1xyXG5cclxuXHRcdHZhciB0YXJnZXQgPSBlLmxheWVyIHx8IGUudGFyZ2V0O1xyXG5cdFx0aWYgKHRoaXMuX3BvcHVwLl9zb3VyY2UgPT09IHRhcmdldCAmJiAhKHRhcmdldCBpbnN0YW5jZW9mIFBhdGgpKSB7XHJcblx0XHRcdC8vIHRyZWF0IGl0IGxpa2UgYSBtYXJrZXIgYW5kIGZpZ3VyZSBvdXRcclxuXHRcdFx0Ly8gaWYgd2Ugc2hvdWxkIHRvZ2dsZSBpdCBvcGVuL2Nsb3NlZFxyXG5cdFx0XHRpZiAodGhpcy5fbWFwLmhhc0xheWVyKHRoaXMuX3BvcHVwKSkge1xyXG5cdFx0XHRcdHRoaXMuY2xvc2VQb3B1cCgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMub3BlblBvcHVwKGUubGF0bG5nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHR0aGlzLl9wb3B1cC5fc291cmNlID0gdGFyZ2V0O1xyXG5cdFx0dGhpcy5vcGVuUG9wdXAoZS5sYXRsbmcpO1xyXG5cdH0sXHJcblxyXG5cdF9tb3ZlUG9wdXA6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHR0aGlzLl9wb3B1cC5zZXRMYXRMbmcoZS5sYXRsbmcpO1xyXG5cdH0sXHJcblxyXG5cdF9vbktleVByZXNzOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0aWYgKGUub3JpZ2luYWxFdmVudC5rZXlDb2RlID09PSAxMykge1xyXG5cdFx0XHR0aGlzLl9vcGVuUG9wdXAoZSk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuIiwgImltcG9ydCB7RGl2T3ZlcmxheX0gZnJvbSAnLi9EaXZPdmVybGF5JztcbmltcG9ydCB7dG9Qb2ludH0gZnJvbSAnLi4vZ2VvbWV0cnkvUG9pbnQnO1xuaW1wb3J0IHtNYXB9IGZyb20gJy4uL21hcC9NYXAnO1xuaW1wb3J0IHtMYXllcn0gZnJvbSAnLi9MYXllcic7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uL2RvbS9Eb21FdmVudCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQge0ZlYXR1cmVHcm91cH0gZnJvbSAnLi9GZWF0dXJlR3JvdXAnO1xuXG4vKlxuICogQGNsYXNzIFRvb2x0aXBcbiAqIEBpbmhlcml0cyBEaXZPdmVybGF5XG4gKiBAYWthIEwuVG9vbHRpcFxuICogVXNlZCB0byBkaXNwbGF5IHNtYWxsIHRleHRzIG9uIHRvcCBvZiBtYXAgbGF5ZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBJZiB5b3Ugd2FudCB0byBqdXN0IGJpbmQgYSB0b29sdGlwIHRvIG1hcmtlcjpcbiAqXG4gKiBgYGBqc1xuICogbWFya2VyLmJpbmRUb29sdGlwKFwibXkgdG9vbHRpcCB0ZXh0XCIpLm9wZW5Ub29sdGlwKCk7XG4gKiBgYGBcbiAqIFBhdGggb3ZlcmxheXMgbGlrZSBwb2x5bGluZXMgYWxzbyBoYXZlIGEgYGJpbmRUb29sdGlwYCBtZXRob2QuXG4gKlxuICogQSB0b29sdGlwIGNhbiBiZSBhbHNvIHN0YW5kYWxvbmU6XG4gKlxuICogYGBganNcbiAqIHZhciB0b29sdGlwID0gTC50b29sdGlwKClcbiAqIFx0LnNldExhdExuZyhsYXRsbmcpXG4gKiBcdC5zZXRDb250ZW50KCdIZWxsbyB3b3JsZCE8YnIgLz5UaGlzIGlzIGEgbmljZSB0b29sdGlwLicpXG4gKiBcdC5hZGRUbyhtYXApO1xuICogYGBgXG4gKiBvclxuICogYGBganNcbiAqIHZhciB0b29sdGlwID0gTC50b29sdGlwKGxhdGxuZywge2NvbnRlbnQ6ICdIZWxsbyB3b3JsZCE8YnIgLz5UaGlzIGlzIGEgbmljZSB0b29sdGlwLid9KVxuICogXHQuYWRkVG8obWFwKTtcbiAqIGBgYFxuICpcbiAqXG4gKiBOb3RlIGFib3V0IHRvb2x0aXAgb2Zmc2V0LiBMZWFmbGV0IHRha2VzIHR3byBvcHRpb25zIGluIGNvbnNpZGVyYXRpb25cbiAqIGZvciBjb21wdXRpbmcgdG9vbHRpcCBvZmZzZXR0aW5nOlxuICogLSB0aGUgYG9mZnNldGAgVG9vbHRpcCBvcHRpb246IGl0IGRlZmF1bHRzIHRvIFswLCAwXSwgYW5kIGl0J3Mgc3BlY2lmaWMgdG8gb25lIHRvb2x0aXAuXG4gKiAgIEFkZCBhIHBvc2l0aXZlIHggb2Zmc2V0IHRvIG1vdmUgdGhlIHRvb2x0aXAgdG8gdGhlIHJpZ2h0LCBhbmQgYSBwb3NpdGl2ZSB5IG9mZnNldCB0b1xuICogICBtb3ZlIGl0IHRvIHRoZSBib3R0b20uIE5lZ2F0aXZlcyB3aWxsIG1vdmUgdG8gdGhlIGxlZnQgYW5kIHRvcC5cbiAqIC0gdGhlIGB0b29sdGlwQW5jaG9yYCBJY29uIG9wdGlvbjogdGhpcyB3aWxsIG9ubHkgYmUgY29uc2lkZXJlZCBmb3IgTWFya2VyLiBZb3VcbiAqICAgc2hvdWxkIGFkYXB0IHRoaXMgdmFsdWUgaWYgeW91IHVzZSBhIGN1c3RvbSBpY29uLlxuICovXG5cblxuLy8gQG5hbWVzcGFjZSBUb29sdGlwXG5leHBvcnQgdmFyIFRvb2x0aXAgPSBEaXZPdmVybGF5LmV4dGVuZCh7XG5cblx0Ly8gQHNlY3Rpb25cblx0Ly8gQGFrYSBUb29sdGlwIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gJ3Rvb2x0aXBQYW5lJ1xuXHRcdC8vIGBNYXAgcGFuZWAgd2hlcmUgdGhlIHRvb2x0aXAgd2lsbCBiZSBhZGRlZC5cblx0XHRwYW5lOiAndG9vbHRpcFBhbmUnLFxuXG5cdFx0Ly8gQG9wdGlvbiBvZmZzZXQ6IFBvaW50ID0gUG9pbnQoMCwgMClcblx0XHQvLyBPcHRpb25hbCBvZmZzZXQgb2YgdGhlIHRvb2x0aXAgcG9zaXRpb24uXG5cdFx0b2Zmc2V0OiBbMCwgMF0sXG5cblx0XHQvLyBAb3B0aW9uIGRpcmVjdGlvbjogU3RyaW5nID0gJ2F1dG8nXG5cdFx0Ly8gRGlyZWN0aW9uIHdoZXJlIHRvIG9wZW4gdGhlIHRvb2x0aXAuIFBvc3NpYmxlIHZhbHVlcyBhcmU6IGByaWdodGAsIGBsZWZ0YCxcblx0XHQvLyBgdG9wYCwgYGJvdHRvbWAsIGBjZW50ZXJgLCBgYXV0b2AuXG5cdFx0Ly8gYGF1dG9gIHdpbGwgZHluYW1pY2FsbHkgc3dpdGNoIGJldHdlZW4gYHJpZ2h0YCBhbmQgYGxlZnRgIGFjY29yZGluZyB0byB0aGUgdG9vbHRpcFxuXHRcdC8vIHBvc2l0aW9uIG9uIHRoZSBtYXAuXG5cdFx0ZGlyZWN0aW9uOiAnYXV0bycsXG5cblx0XHQvLyBAb3B0aW9uIHBlcm1hbmVudDogQm9vbGVhbiA9IGZhbHNlXG5cdFx0Ly8gV2hldGhlciB0byBvcGVuIHRoZSB0b29sdGlwIHBlcm1hbmVudGx5IG9yIG9ubHkgb24gbW91c2VvdmVyLlxuXHRcdHBlcm1hbmVudDogZmFsc2UsXG5cblx0XHQvLyBAb3B0aW9uIHN0aWNreTogQm9vbGVhbiA9IGZhbHNlXG5cdFx0Ly8gSWYgdHJ1ZSwgdGhlIHRvb2x0aXAgd2lsbCBmb2xsb3cgdGhlIG1vdXNlIGluc3RlYWQgb2YgYmVpbmcgZml4ZWQgYXQgdGhlIGZlYXR1cmUgY2VudGVyLlxuXHRcdHN0aWNreTogZmFsc2UsXG5cblx0XHQvLyBAb3B0aW9uIG9wYWNpdHk6IE51bWJlciA9IDAuOVxuXHRcdC8vIFRvb2x0aXAgY29udGFpbmVyIG9wYWNpdHkuXG5cdFx0b3BhY2l0eTogMC45XG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcblx0XHREaXZPdmVybGF5LnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsIG1hcCk7XG5cdFx0dGhpcy5zZXRPcGFjaXR5KHRoaXMub3B0aW9ucy5vcGFjaXR5KTtcblxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXG5cdFx0Ly8gQHNlY3Rpb24gVG9vbHRpcCBldmVudHNcblx0XHQvLyBAZXZlbnQgdG9vbHRpcG9wZW46IFRvb2x0aXBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gYSB0b29sdGlwIGlzIG9wZW5lZCBpbiB0aGUgbWFwLlxuXHRcdG1hcC5maXJlKCd0b29sdGlwb3BlbicsIHt0b29sdGlwOiB0aGlzfSk7XG5cblx0XHRpZiAodGhpcy5fc291cmNlKSB7XG5cdFx0XHR0aGlzLmFkZEV2ZW50UGFyZW50KHRoaXMuX3NvdXJjZSk7XG5cblx0XHRcdC8vIEBuYW1lc3BhY2UgTGF5ZXJcblx0XHRcdC8vIEBzZWN0aW9uIFRvb2x0aXAgZXZlbnRzXG5cdFx0XHQvLyBAZXZlbnQgdG9vbHRpcG9wZW46IFRvb2x0aXBFdmVudFxuXHRcdFx0Ly8gRmlyZWQgd2hlbiBhIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllciBpcyBvcGVuZWQuXG5cdFx0XHR0aGlzLl9zb3VyY2UuZmlyZSgndG9vbHRpcG9wZW4nLCB7dG9vbHRpcDogdGhpc30sIHRydWUpO1xuXHRcdH1cblx0fSxcblxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdERpdk92ZXJsYXkucHJvdG90eXBlLm9uUmVtb3ZlLmNhbGwodGhpcywgbWFwKTtcblxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXG5cdFx0Ly8gQHNlY3Rpb24gVG9vbHRpcCBldmVudHNcblx0XHQvLyBAZXZlbnQgdG9vbHRpcGNsb3NlOiBUb29sdGlwRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIGEgdG9vbHRpcCBpbiB0aGUgbWFwIGlzIGNsb3NlZC5cblx0XHRtYXAuZmlyZSgndG9vbHRpcGNsb3NlJywge3Rvb2x0aXA6IHRoaXN9KTtcblxuXHRcdGlmICh0aGlzLl9zb3VyY2UpIHtcblx0XHRcdHRoaXMucmVtb3ZlRXZlbnRQYXJlbnQodGhpcy5fc291cmNlKTtcblxuXHRcdFx0Ly8gQG5hbWVzcGFjZSBMYXllclxuXHRcdFx0Ly8gQHNlY3Rpb24gVG9vbHRpcCBldmVudHNcblx0XHRcdC8vIEBldmVudCB0b29sdGlwY2xvc2U6IFRvb2x0aXBFdmVudFxuXHRcdFx0Ly8gRmlyZWQgd2hlbiBhIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllciBpcyBjbG9zZWQuXG5cdFx0XHR0aGlzLl9zb3VyY2UuZmlyZSgndG9vbHRpcGNsb3NlJywge3Rvb2x0aXA6IHRoaXN9LCB0cnVlKTtcblx0XHR9XG5cdH0sXG5cblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGV2ZW50cyA9IERpdk92ZXJsYXkucHJvdG90eXBlLmdldEV2ZW50cy5jYWxsKHRoaXMpO1xuXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMucGVybWFuZW50KSB7XG5cdFx0XHRldmVudHMucHJlY2xpY2sgPSB0aGlzLmNsb3NlO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudHM7XG5cdH0sXG5cblx0X2luaXRMYXlvdXQ6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcHJlZml4ID0gJ2xlYWZsZXQtdG9vbHRpcCcsXG5cdFx0ICAgIGNsYXNzTmFtZSA9IHByZWZpeCArICcgJyArICh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lIHx8ICcnKSArICcgbGVhZmxldC16b29tLScgKyAodGhpcy5fem9vbUFuaW1hdGVkID8gJ2FuaW1hdGVkJyA6ICdoaWRlJyk7XG5cblx0XHR0aGlzLl9jb250ZW50Tm9kZSA9IHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUpO1xuXG5cdFx0dGhpcy5fY29udGFpbmVyLnNldEF0dHJpYnV0ZSgncm9sZScsICd0b29sdGlwJyk7XG5cdFx0dGhpcy5fY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnbGVhZmxldC10b29sdGlwLScgKyBVdGlsLnN0YW1wKHRoaXMpKTtcblx0fSxcblxuXHRfdXBkYXRlTGF5b3V0OiBmdW5jdGlvbiAoKSB7fSxcblxuXHRfYWRqdXN0UGFuOiBmdW5jdGlvbiAoKSB7fSxcblxuXHRfc2V0UG9zaXRpb246IGZ1bmN0aW9uIChwb3MpIHtcblx0XHR2YXIgc3ViWCwgc3ViWSxcblx0XHQgICAgbWFwID0gdGhpcy5fbWFwLFxuXHRcdCAgICBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIsXG5cdFx0ICAgIGNlbnRlclBvaW50ID0gbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQobWFwLmdldENlbnRlcigpKSxcblx0XHQgICAgdG9vbHRpcFBvaW50ID0gbWFwLmxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50KHBvcyksXG5cdFx0ICAgIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24sXG5cdFx0ICAgIHRvb2x0aXBXaWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aCxcblx0XHQgICAgdG9vbHRpcEhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQsXG5cdFx0ICAgIG9mZnNldCA9IHRvUG9pbnQodGhpcy5vcHRpb25zLm9mZnNldCksXG5cdFx0ICAgIGFuY2hvciA9IHRoaXMuX2dldEFuY2hvcigpO1xuXG5cdFx0aWYgKGRpcmVjdGlvbiA9PT0gJ3RvcCcpIHtcblx0XHRcdHN1YlggPSB0b29sdGlwV2lkdGggLyAyO1xuXHRcdFx0c3ViWSA9IHRvb2x0aXBIZWlnaHQ7XG5cdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdib3R0b20nKSB7XG5cdFx0XHRzdWJYID0gdG9vbHRpcFdpZHRoIC8gMjtcblx0XHRcdHN1YlkgPSAwO1xuXHRcdH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnY2VudGVyJykge1xuXHRcdFx0c3ViWCA9IHRvb2x0aXBXaWR0aCAvIDI7XG5cdFx0XHRzdWJZID0gdG9vbHRpcEhlaWdodCAvIDI7XG5cdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcblx0XHRcdHN1YlggPSAwO1xuXHRcdFx0c3ViWSA9IHRvb2x0aXBIZWlnaHQgLyAyO1xuXHRcdH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcblx0XHRcdHN1YlggPSB0b29sdGlwV2lkdGg7XG5cdFx0XHRzdWJZID0gdG9vbHRpcEhlaWdodCAvIDI7XG5cdFx0fSBlbHNlIGlmICh0b29sdGlwUG9pbnQueCA8IGNlbnRlclBvaW50LngpIHtcblx0XHRcdGRpcmVjdGlvbiA9ICdyaWdodCc7XG5cdFx0XHRzdWJYID0gMDtcblx0XHRcdHN1YlkgPSB0b29sdGlwSGVpZ2h0IC8gMjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGlyZWN0aW9uID0gJ2xlZnQnO1xuXHRcdFx0c3ViWCA9IHRvb2x0aXBXaWR0aCArIChvZmZzZXQueCArIGFuY2hvci54KSAqIDI7XG5cdFx0XHRzdWJZID0gdG9vbHRpcEhlaWdodCAvIDI7XG5cdFx0fVxuXG5cdFx0cG9zID0gcG9zLnN1YnRyYWN0KHRvUG9pbnQoc3ViWCwgc3ViWSwgdHJ1ZSkpLmFkZChvZmZzZXQpLmFkZChhbmNob3IpO1xuXG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LXRvb2x0aXAtcmlnaHQnKTtcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC1sZWZ0Jyk7XG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LXRvb2x0aXAtdG9wJyk7XG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LXRvb2x0aXAtYm90dG9tJyk7XG5cdFx0RG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LXRvb2x0aXAtJyArIGRpcmVjdGlvbik7XG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbihjb250YWluZXIsIHBvcyk7XG5cdH0sXG5cblx0X3VwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHBvcyA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKTtcblx0XHR0aGlzLl9zZXRQb3NpdGlvbihwb3MpO1xuXHR9LFxuXG5cdHNldE9wYWNpdHk6IGZ1bmN0aW9uIChvcGFjaXR5KSB7XG5cdFx0dGhpcy5vcHRpb25zLm9wYWNpdHkgPSBvcGFjaXR5O1xuXG5cdFx0aWYgKHRoaXMuX2NvbnRhaW5lcikge1xuXHRcdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwgb3BhY2l0eSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hbmltYXRlWm9vbTogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLCBlLnpvb20sIGUuY2VudGVyKTtcblx0XHR0aGlzLl9zZXRQb3NpdGlvbihwb3MpO1xuXHR9LFxuXG5cdF9nZXRBbmNob3I6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBXaGVyZSBzaG91bGQgd2UgYW5jaG9yIHRoZSB0b29sdGlwIG9uIHRoZSBzb3VyY2UgbGF5ZXI/XG5cdFx0cmV0dXJuIHRvUG9pbnQodGhpcy5fc291cmNlICYmIHRoaXMuX3NvdXJjZS5fZ2V0VG9vbHRpcEFuY2hvciAmJiAhdGhpcy5vcHRpb25zLnN0aWNreSA/IHRoaXMuX3NvdXJjZS5fZ2V0VG9vbHRpcEFuY2hvcigpIDogWzAsIDBdKTtcblx0fVxuXG59KTtcblxuLy8gQG5hbWVzcGFjZSBUb29sdGlwXG4vLyBAZmFjdG9yeSBMLnRvb2x0aXAob3B0aW9ucz86IFRvb2x0aXAgb3B0aW9ucywgc291cmNlPzogTGF5ZXIpXG4vLyBJbnN0YW50aWF0ZXMgYSBgVG9vbHRpcGAgb2JqZWN0IGdpdmVuIGFuIG9wdGlvbmFsIGBvcHRpb25zYCBvYmplY3QgdGhhdCBkZXNjcmliZXMgaXRzIGFwcGVhcmFuY2UgYW5kIGxvY2F0aW9uIGFuZCBhbiBvcHRpb25hbCBgc291cmNlYCBvYmplY3QgdGhhdCBpcyB1c2VkIHRvIHRhZyB0aGUgdG9vbHRpcCB3aXRoIGEgcmVmZXJlbmNlIHRvIHRoZSBMYXllciB0byB3aGljaCBpdCByZWZlcnMuXG4vLyBAYWx0ZXJuYXRpdmVcbi8vIEBmYWN0b3J5IEwudG9vbHRpcChsYXRsbmc6IExhdExuZywgb3B0aW9ucz86IFRvb2x0aXAgb3B0aW9ucylcbi8vIEluc3RhbnRpYXRlcyBhIGBUb29sdGlwYCBvYmplY3QgZ2l2ZW4gYGxhdGxuZ2Agd2hlcmUgdGhlIHRvb2x0aXAgd2lsbCBvcGVuIGFuZCBhbiBvcHRpb25hbCBgb3B0aW9uc2Agb2JqZWN0IHRoYXQgZGVzY3JpYmVzIGl0cyBhcHBlYXJhbmNlIGFuZCBsb2NhdGlvbi5cbmV4cG9ydCB2YXIgdG9vbHRpcCA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcblx0cmV0dXJuIG5ldyBUb29sdGlwKG9wdGlvbnMsIHNvdXJjZSk7XG59O1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gTWV0aG9kcyBmb3IgTGF5ZXJzIGFuZCBDb250cm9sc1xuTWFwLmluY2x1ZGUoe1xuXG5cdC8vIEBtZXRob2Qgb3BlblRvb2x0aXAodG9vbHRpcDogVG9vbHRpcCk6IHRoaXNcblx0Ly8gT3BlbnMgdGhlIHNwZWNpZmllZCB0b29sdGlwLlxuXHQvLyBAYWx0ZXJuYXRpdmVcblx0Ly8gQG1ldGhvZCBvcGVuVG9vbHRpcChjb250ZW50OiBTdHJpbmd8SFRNTEVsZW1lbnQsIGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogVG9vbHRpcCBvcHRpb25zKTogdGhpc1xuXHQvLyBDcmVhdGVzIGEgdG9vbHRpcCB3aXRoIHRoZSBzcGVjaWZpZWQgY29udGVudCBhbmQgb3B0aW9ucyBhbmQgb3BlbiBpdC5cblx0b3BlblRvb2x0aXA6IGZ1bmN0aW9uICh0b29sdGlwLCBsYXRsbmcsIG9wdGlvbnMpIHtcblx0XHR0aGlzLl9pbml0T3ZlcmxheShUb29sdGlwLCB0b29sdGlwLCBsYXRsbmcsIG9wdGlvbnMpXG5cdFx0ICAub3Blbk9uKHRoaXMpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBjbG9zZVRvb2x0aXAodG9vbHRpcDogVG9vbHRpcCk6IHRoaXNcblx0Ly8gQ2xvc2VzIHRoZSB0b29sdGlwIGdpdmVuIGFzIHBhcmFtZXRlci5cblx0Y2xvc2VUb29sdGlwOiBmdW5jdGlvbiAodG9vbHRpcCkge1xuXHRcdHRvb2x0aXAuY2xvc2UoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG59KTtcblxuLypcbiAqIEBuYW1lc3BhY2UgTGF5ZXJcbiAqIEBzZWN0aW9uIFRvb2x0aXAgbWV0aG9kcyBleGFtcGxlXG4gKlxuICogQWxsIGxheWVycyBzaGFyZSBhIHNldCBvZiBtZXRob2RzIGNvbnZlbmllbnQgZm9yIGJpbmRpbmcgdG9vbHRpcHMgdG8gaXQuXG4gKlxuICogYGBganNcbiAqIHZhciBsYXllciA9IEwuUG9seWdvbihsYXRsbmdzKS5iaW5kVG9vbHRpcCgnSGkgVGhlcmUhJykuYWRkVG8obWFwKTtcbiAqIGxheWVyLm9wZW5Ub29sdGlwKCk7XG4gKiBsYXllci5jbG9zZVRvb2x0aXAoKTtcbiAqIGBgYFxuICovXG5cbi8vIEBzZWN0aW9uIFRvb2x0aXAgbWV0aG9kc1xuTGF5ZXIuaW5jbHVkZSh7XG5cblx0Ly8gQG1ldGhvZCBiaW5kVG9vbHRpcChjb250ZW50OiBTdHJpbmd8SFRNTEVsZW1lbnR8RnVuY3Rpb258VG9vbHRpcCwgb3B0aW9ucz86IFRvb2x0aXAgb3B0aW9ucyk6IHRoaXNcblx0Ly8gQmluZHMgYSB0b29sdGlwIHRvIHRoZSBsYXllciB3aXRoIHRoZSBwYXNzZWQgYGNvbnRlbnRgIGFuZCBzZXRzIHVwIHRoZVxuXHQvLyBuZWNlc3NhcnkgZXZlbnQgbGlzdGVuZXJzLiBJZiBhIGBGdW5jdGlvbmAgaXMgcGFzc2VkIGl0IHdpbGwgcmVjZWl2ZVxuXHQvLyB0aGUgbGF5ZXIgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IGFuZCBzaG91bGQgcmV0dXJuIGEgYFN0cmluZ2Agb3IgYEhUTUxFbGVtZW50YC5cblx0YmluZFRvb2x0aXA6IGZ1bmN0aW9uIChjb250ZW50LCBvcHRpb25zKSB7XG5cblx0XHRpZiAodGhpcy5fdG9vbHRpcCAmJiB0aGlzLmlzVG9vbHRpcE9wZW4oKSkge1xuXHRcdFx0dGhpcy51bmJpbmRUb29sdGlwKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdG9vbHRpcCA9IHRoaXMuX2luaXRPdmVybGF5KFRvb2x0aXAsIHRoaXMuX3Rvb2x0aXAsIGNvbnRlbnQsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX2luaXRUb29sdGlwSW50ZXJhY3Rpb25zKCk7XG5cblx0XHRpZiAodGhpcy5fdG9vbHRpcC5vcHRpb25zLnBlcm1hbmVudCAmJiB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLmhhc0xheWVyKHRoaXMpKSB7XG5cdFx0XHR0aGlzLm9wZW5Ub29sdGlwKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCB1bmJpbmRUb29sdGlwKCk6IHRoaXNcblx0Ly8gUmVtb3ZlcyB0aGUgdG9vbHRpcCBwcmV2aW91c2x5IGJvdW5kIHdpdGggYGJpbmRUb29sdGlwYC5cblx0dW5iaW5kVG9vbHRpcDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl90b29sdGlwKSB7XG5cdFx0XHR0aGlzLl9pbml0VG9vbHRpcEludGVyYWN0aW9ucyh0cnVlKTtcblx0XHRcdHRoaXMuY2xvc2VUb29sdGlwKCk7XG5cdFx0XHR0aGlzLl90b29sdGlwID0gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2luaXRUb29sdGlwSW50ZXJhY3Rpb25zOiBmdW5jdGlvbiAocmVtb3ZlKSB7XG5cdFx0aWYgKCFyZW1vdmUgJiYgdGhpcy5fdG9vbHRpcEhhbmRsZXJzQWRkZWQpIHsgcmV0dXJuOyB9XG5cdFx0dmFyIG9uT2ZmID0gcmVtb3ZlID8gJ29mZicgOiAnb24nLFxuXHRcdCAgICBldmVudHMgPSB7XG5cdFx0XHRyZW1vdmU6IHRoaXMuY2xvc2VUb29sdGlwLFxuXHRcdFx0bW92ZTogdGhpcy5fbW92ZVRvb2x0aXBcblx0XHQgICAgfTtcblx0XHRpZiAoIXRoaXMuX3Rvb2x0aXAub3B0aW9ucy5wZXJtYW5lbnQpIHtcblx0XHRcdGV2ZW50cy5tb3VzZW92ZXIgPSB0aGlzLl9vcGVuVG9vbHRpcDtcblx0XHRcdGV2ZW50cy5tb3VzZW91dCA9IHRoaXMuY2xvc2VUb29sdGlwO1xuXHRcdFx0ZXZlbnRzLmNsaWNrID0gdGhpcy5fb3BlblRvb2x0aXA7XG5cdFx0XHRpZiAodGhpcy5fbWFwKSB7XG5cdFx0XHRcdHRoaXMuX2FkZEZvY3VzTGlzdGVuZXJzKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRldmVudHMuYWRkID0gdGhpcy5fYWRkRm9jdXNMaXN0ZW5lcnM7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV2ZW50cy5hZGQgPSB0aGlzLl9vcGVuVG9vbHRpcDtcblx0XHR9XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXAub3B0aW9ucy5zdGlja3kpIHtcblx0XHRcdGV2ZW50cy5tb3VzZW1vdmUgPSB0aGlzLl9tb3ZlVG9vbHRpcDtcblx0XHR9XG5cdFx0dGhpc1tvbk9mZl0oZXZlbnRzKTtcblx0XHR0aGlzLl90b29sdGlwSGFuZGxlcnNBZGRlZCA9ICFyZW1vdmU7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBvcGVuVG9vbHRpcChsYXRsbmc/OiBMYXRMbmcpOiB0aGlzXG5cdC8vIE9wZW5zIHRoZSBib3VuZCB0b29sdGlwIGF0IHRoZSBzcGVjaWZpZWQgYGxhdGxuZ2Agb3IgYXQgdGhlIGRlZmF1bHQgdG9vbHRpcCBhbmNob3IgaWYgbm8gYGxhdGxuZ2AgaXMgcGFzc2VkLlxuXHRvcGVuVG9vbHRpcDogZnVuY3Rpb24gKGxhdGxuZykge1xuXHRcdGlmICh0aGlzLl90b29sdGlwKSB7XG5cdFx0XHRpZiAoISh0aGlzIGluc3RhbmNlb2YgRmVhdHVyZUdyb3VwKSkge1xuXHRcdFx0XHR0aGlzLl90b29sdGlwLl9zb3VyY2UgPSB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuX3Rvb2x0aXAuX3ByZXBhcmVPcGVuKGxhdGxuZykpIHtcblx0XHRcdFx0Ly8gb3BlbiB0aGUgdG9vbHRpcCBvbiB0aGUgbWFwXG5cdFx0XHRcdHRoaXMuX3Rvb2x0aXAub3Blbk9uKHRoaXMuX21hcCk7XG5cblx0XHRcdFx0aWYgKHRoaXMuZ2V0RWxlbWVudCkge1xuXHRcdFx0XHRcdHRoaXMuX3NldEFyaWFEZXNjcmliZWRCeU9uTGF5ZXIodGhpcyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5lYWNoTGF5ZXIpIHtcblx0XHRcdFx0XHR0aGlzLmVhY2hMYXllcih0aGlzLl9zZXRBcmlhRGVzY3JpYmVkQnlPbkxheWVyLCB0aGlzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGNsb3NlVG9vbHRpcCgpOiB0aGlzXG5cdC8vIENsb3NlcyB0aGUgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyIGlmIGl0IGlzIG9wZW4uXG5cdGNsb3NlVG9vbHRpcDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl90b29sdGlwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fdG9vbHRpcC5jbG9zZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBAbWV0aG9kIHRvZ2dsZVRvb2x0aXAoKTogdGhpc1xuXHQvLyBPcGVucyBvciBjbG9zZXMgdGhlIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllciBkZXBlbmRpbmcgb24gaXRzIGN1cnJlbnQgc3RhdGUuXG5cdHRvZ2dsZVRvb2x0aXA6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fdG9vbHRpcCkge1xuXHRcdFx0dGhpcy5fdG9vbHRpcC50b2dnbGUodGhpcyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgaXNUb29sdGlwT3BlbigpOiBib29sZWFuXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSB0b29sdGlwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaXMgY3VycmVudGx5IG9wZW4uXG5cdGlzVG9vbHRpcE9wZW46IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fdG9vbHRpcC5pc09wZW4oKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldFRvb2x0aXBDb250ZW50KGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxUb29sdGlwKTogdGhpc1xuXHQvLyBTZXRzIHRoZSBjb250ZW50IG9mIHRoZSB0b29sdGlwIGJvdW5kIHRvIHRoaXMgbGF5ZXIuXG5cdHNldFRvb2x0aXBDb250ZW50OiBmdW5jdGlvbiAoY29udGVudCkge1xuXHRcdGlmICh0aGlzLl90b29sdGlwKSB7XG5cdFx0XHR0aGlzLl90b29sdGlwLnNldENvbnRlbnQoY29udGVudCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0VG9vbHRpcCgpOiBUb29sdGlwXG5cdC8vIFJldHVybnMgdGhlIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllci5cblx0Z2V0VG9vbHRpcDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl90b29sdGlwO1xuXHR9LFxuXG5cdF9hZGRGb2N1c0xpc3RlbmVyczogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLmdldEVsZW1lbnQpIHtcblx0XHRcdHRoaXMuX2FkZEZvY3VzTGlzdGVuZXJzT25MYXllcih0aGlzKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuZWFjaExheWVyKSB7XG5cdFx0XHR0aGlzLmVhY2hMYXllcih0aGlzLl9hZGRGb2N1c0xpc3RlbmVyc09uTGF5ZXIsIHRoaXMpO1xuXHRcdH1cblx0fSxcblxuXHRfYWRkRm9jdXNMaXN0ZW5lcnNPbkxheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgZWwgPSB0eXBlb2YgbGF5ZXIuZ2V0RWxlbWVudCA9PT0gJ2Z1bmN0aW9uJyAmJiBsYXllci5nZXRFbGVtZW50KCk7XG5cdFx0aWYgKGVsKSB7XG5cdFx0XHREb21FdmVudC5vbihlbCwgJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGlzLl90b29sdGlwLl9zb3VyY2UgPSBsYXllcjtcblx0XHRcdFx0dGhpcy5vcGVuVG9vbHRpcCgpO1xuXHRcdFx0fSwgdGhpcyk7XG5cdFx0XHREb21FdmVudC5vbihlbCwgJ2JsdXInLCB0aGlzLmNsb3NlVG9vbHRpcCwgdGhpcyk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRBcmlhRGVzY3JpYmVkQnlPbkxheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgZWwgPSB0eXBlb2YgbGF5ZXIuZ2V0RWxlbWVudCA9PT0gJ2Z1bmN0aW9uJyAmJiBsYXllci5nZXRFbGVtZW50KCk7XG5cdFx0aWYgKGVsKSB7XG5cdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aGlzLl90b29sdGlwLl9jb250YWluZXIuaWQpO1xuXHRcdH1cblx0fSxcblxuXG5cdF9vcGVuVG9vbHRpcDogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoIXRoaXMuX3Rvb2x0aXAgfHwgIXRoaXMuX21hcCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZSBtYXAgaXMgbW92aW5nLCB3ZSB3aWxsIHNob3cgdGhlIHRvb2x0aXAgYWZ0ZXIgaXQncyBkb25lLlxuXHRcdGlmICh0aGlzLl9tYXAuZHJhZ2dpbmcgJiYgdGhpcy5fbWFwLmRyYWdnaW5nLm1vdmluZygpICYmICF0aGlzLl9vcGVuT25jZUZsYWcpIHtcblx0XHRcdHRoaXMuX29wZW5PbmNlRmxhZyA9IHRydWU7XG5cdFx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0XHR0aGlzLl9tYXAub25jZSgnbW92ZWVuZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dGhhdC5fb3Blbk9uY2VGbGFnID0gZmFsc2U7XG5cdFx0XHRcdHRoYXQuX29wZW5Ub29sdGlwKGUpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fdG9vbHRpcC5fc291cmNlID0gZS5sYXllciB8fCBlLnRhcmdldDtcblxuXHRcdHRoaXMub3BlblRvb2x0aXAodGhpcy5fdG9vbHRpcC5vcHRpb25zLnN0aWNreSA/IGUubGF0bG5nIDogdW5kZWZpbmVkKTtcblx0fSxcblxuXHRfbW92ZVRvb2x0aXA6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIGxhdGxuZyA9IGUubGF0bG5nLCBjb250YWluZXJQb2ludCwgbGF5ZXJQb2ludDtcblx0XHRpZiAodGhpcy5fdG9vbHRpcC5vcHRpb25zLnN0aWNreSAmJiBlLm9yaWdpbmFsRXZlbnQpIHtcblx0XHRcdGNvbnRhaW5lclBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUub3JpZ2luYWxFdmVudCk7XG5cdFx0XHRsYXllclBvaW50ID0gdGhpcy5fbWFwLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KGNvbnRhaW5lclBvaW50KTtcblx0XHRcdGxhdGxuZyA9IHRoaXMuX21hcC5sYXllclBvaW50VG9MYXRMbmcobGF5ZXJQb2ludCk7XG5cdFx0fVxuXHRcdHRoaXMuX3Rvb2x0aXAuc2V0TGF0TG5nKGxhdGxuZyk7XG5cdH1cbn0pO1xuIiwgImltcG9ydCB7SWNvbn0gZnJvbSAnLi9JY29uJztcbmltcG9ydCB7dG9Qb2ludCBhcyBwb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xuaW1wb3J0IHtlbXB0eX0gZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuXG4vKlxuICogQGNsYXNzIERpdkljb25cbiAqIEBha2EgTC5EaXZJY29uXG4gKiBAaW5oZXJpdHMgSWNvblxuICpcbiAqIFJlcHJlc2VudHMgYSBsaWdodHdlaWdodCBpY29uIGZvciBtYXJrZXJzIHRoYXQgdXNlcyBhIHNpbXBsZSBgPGRpdj5gXG4gKiBlbGVtZW50IGluc3RlYWQgb2YgYW4gaW1hZ2UuIEluaGVyaXRzIGZyb20gYEljb25gIGJ1dCBpZ25vcmVzIHRoZSBgaWNvblVybGAgYW5kIHNoYWRvdyBvcHRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogdmFyIG15SWNvbiA9IEwuZGl2SWNvbih7Y2xhc3NOYW1lOiAnbXktZGl2LWljb24nfSk7XG4gKiAvLyB5b3UgY2FuIHNldCAubXktZGl2LWljb24gc3R5bGVzIGluIENTU1xuICpcbiAqIEwubWFya2VyKFs1MC41MDUsIDMwLjU3XSwge2ljb246IG15SWNvbn0pLmFkZFRvKG1hcCk7XG4gKiBgYGBcbiAqXG4gKiBCeSBkZWZhdWx0LCBpdCBoYXMgYSAnbGVhZmxldC1kaXYtaWNvbicgQ1NTIGNsYXNzIGFuZCBpcyBzdHlsZWQgYXMgYSBsaXR0bGUgd2hpdGUgc3F1YXJlIHdpdGggYSBzaGFkb3cuXG4gKi9cblxuZXhwb3J0IHZhciBEaXZJY29uID0gSWNvbi5leHRlbmQoe1xuXHRvcHRpb25zOiB7XG5cdFx0Ly8gQHNlY3Rpb25cblx0XHQvLyBAYWthIERpdkljb24gb3B0aW9uc1xuXHRcdGljb25TaXplOiBbMTIsIDEyXSwgLy8gYWxzbyBjYW4gYmUgc2V0IHRocm91Z2ggQ1NTXG5cblx0XHQvLyBpY29uQW5jaG9yOiAoUG9pbnQpLFxuXHRcdC8vIHBvcHVwQW5jaG9yOiAoUG9pbnQpLFxuXG5cdFx0Ly8gQG9wdGlvbiBodG1sOiBTdHJpbmd8SFRNTEVsZW1lbnQgPSAnJ1xuXHRcdC8vIEN1c3RvbSBIVE1MIGNvZGUgdG8gcHV0IGluc2lkZSB0aGUgZGl2IGVsZW1lbnQsIGVtcHR5IGJ5IGRlZmF1bHQuIEFsdGVybmF0aXZlbHksXG5cdFx0Ly8gYW4gaW5zdGFuY2Ugb2YgYEhUTUxFbGVtZW50YC5cblx0XHRodG1sOiBmYWxzZSxcblxuXHRcdC8vIEBvcHRpb24gYmdQb3M6IFBvaW50ID0gWzAsIDBdXG5cdFx0Ly8gT3B0aW9uYWwgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGJhY2tncm91bmQsIGluIHBpeGVsc1xuXHRcdGJnUG9zOiBudWxsLFxuXG5cdFx0Y2xhc3NOYW1lOiAnbGVhZmxldC1kaXYtaWNvbidcblx0fSxcblxuXHRjcmVhdGVJY29uOiBmdW5jdGlvbiAob2xkSWNvbikge1xuXHRcdHZhciBkaXYgPSAob2xkSWNvbiAmJiBvbGRJY29uLnRhZ05hbWUgPT09ICdESVYnKSA/IG9sZEljb24gOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0XHQgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdGlmIChvcHRpb25zLmh0bWwgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG5cdFx0XHRlbXB0eShkaXYpO1xuXHRcdFx0ZGl2LmFwcGVuZENoaWxkKG9wdGlvbnMuaHRtbCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRpdi5pbm5lckhUTUwgPSBvcHRpb25zLmh0bWwgIT09IGZhbHNlID8gb3B0aW9ucy5odG1sIDogJyc7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuYmdQb3MpIHtcblx0XHRcdHZhciBiZ1BvcyA9IHBvaW50KG9wdGlvbnMuYmdQb3MpO1xuXHRcdFx0ZGl2LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICgtYmdQb3MueCkgKyAncHggJyArICgtYmdQb3MueSkgKyAncHgnO1xuXHRcdH1cblx0XHR0aGlzLl9zZXRJY29uU3R5bGVzKGRpdiwgJ2ljb24nKTtcblxuXHRcdHJldHVybiBkaXY7XG5cdH0sXG5cblx0Y3JlYXRlU2hhZG93OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn0pO1xuXG4vLyBAZmFjdG9yeSBMLmRpdkljb24ob3B0aW9uczogRGl2SWNvbiBvcHRpb25zKVxuLy8gQ3JlYXRlcyBhIGBEaXZJY29uYCBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuZXhwb3J0IGZ1bmN0aW9uIGRpdkljb24ob3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IERpdkljb24ob3B0aW9ucyk7XG59XG4iLCAiaW1wb3J0IHtJY29ufSBmcm9tICcuL0ljb24nO1xuZXhwb3J0IHtpY29ufSBmcm9tICcuL0ljb24nO1xuaW1wb3J0IHtJY29uRGVmYXVsdH0gZnJvbSAnLi9JY29uLkRlZmF1bHQnO1xuSWNvbi5EZWZhdWx0ID0gSWNvbkRlZmF1bHQ7XG5leHBvcnQge0ljb259O1xuXG5leHBvcnQge0Rpdkljb24sIGRpdkljb259IGZyb20gJy4vRGl2SWNvbic7XG5leHBvcnQge01hcmtlciwgbWFya2VyfSBmcm9tICcuL01hcmtlcic7XG4iLCAiaW1wb3J0IHtMYXllcn0gZnJvbSAnLi4vTGF5ZXInO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0IHtQb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XG5pbXBvcnQge0xhdExuZ0JvdW5kcywgdG9MYXRMbmdCb3VuZHMgYXMgbGF0TG5nQm91bmRzfSBmcm9tICcuLi8uLi9nZW8vTGF0TG5nQm91bmRzJztcblxuLypcbiAqIEBjbGFzcyBHcmlkTGF5ZXJcbiAqIEBpbmhlcml0cyBMYXllclxuICogQGFrYSBMLkdyaWRMYXllclxuICpcbiAqIEdlbmVyaWMgY2xhc3MgZm9yIGhhbmRsaW5nIGEgdGlsZWQgZ3JpZCBvZiBIVE1MIGVsZW1lbnRzLiBUaGlzIGlzIHRoZSBiYXNlIGNsYXNzIGZvciBhbGwgdGlsZSBsYXllcnMgYW5kIHJlcGxhY2VzIGBUaWxlTGF5ZXIuQ2FudmFzYC5cbiAqIEdyaWRMYXllciBjYW4gYmUgZXh0ZW5kZWQgdG8gY3JlYXRlIGEgdGlsZWQgZ3JpZCBvZiBIVE1MIGVsZW1lbnRzIGxpa2UgYDxjYW52YXM+YCwgYDxpbWc+YCBvciBgPGRpdj5gLiBHcmlkTGF5ZXIgd2lsbCBoYW5kbGUgY3JlYXRpbmcgYW5kIGFuaW1hdGluZyB0aGVzZSBET00gZWxlbWVudHMgZm9yIHlvdS5cbiAqXG4gKlxuICogQHNlY3Rpb24gU3luY2hyb25vdXMgdXNhZ2VcbiAqIEBleGFtcGxlXG4gKlxuICogVG8gY3JlYXRlIGEgY3VzdG9tIGxheWVyLCBleHRlbmQgR3JpZExheWVyIGFuZCBpbXBsZW1lbnQgdGhlIGBjcmVhdGVUaWxlKClgIG1ldGhvZCwgd2hpY2ggd2lsbCBiZSBwYXNzZWQgYSBgUG9pbnRgIG9iamVjdCB3aXRoIHRoZSBgeGAsIGB5YCwgYW5kIGB6YCAoem9vbSBsZXZlbCkgY29vcmRpbmF0ZXMgdG8gZHJhdyB5b3VyIHRpbGUuXG4gKlxuICogYGBganNcbiAqIHZhciBDYW52YXNMYXllciA9IEwuR3JpZExheWVyLmV4dGVuZCh7XG4gKiAgICAgY3JlYXRlVGlsZTogZnVuY3Rpb24oY29vcmRzKXtcbiAqICAgICAgICAgLy8gY3JlYXRlIGEgPGNhbnZhcz4gZWxlbWVudCBmb3IgZHJhd2luZ1xuICogICAgICAgICB2YXIgdGlsZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2NhbnZhcycsICdsZWFmbGV0LXRpbGUnKTtcbiAqXG4gKiAgICAgICAgIC8vIHNldHVwIHRpbGUgd2lkdGggYW5kIGhlaWdodCBhY2NvcmRpbmcgdG8gdGhlIG9wdGlvbnNcbiAqICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFRpbGVTaXplKCk7XG4gKiAgICAgICAgIHRpbGUud2lkdGggPSBzaXplLng7XG4gKiAgICAgICAgIHRpbGUuaGVpZ2h0ID0gc2l6ZS55O1xuICpcbiAqICAgICAgICAgLy8gZ2V0IGEgY2FudmFzIGNvbnRleHQgYW5kIGRyYXcgc29tZXRoaW5nIG9uIGl0IHVzaW5nIGNvb3Jkcy54LCBjb29yZHMueSBhbmQgY29vcmRzLnpcbiAqICAgICAgICAgdmFyIGN0eCA9IHRpbGUuZ2V0Q29udGV4dCgnMmQnKTtcbiAqXG4gKiAgICAgICAgIC8vIHJldHVybiB0aGUgdGlsZSBzbyBpdCBjYW4gYmUgcmVuZGVyZWQgb24gc2NyZWVuXG4gKiAgICAgICAgIHJldHVybiB0aWxlO1xuICogICAgIH1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlY3Rpb24gQXN5bmNocm9ub3VzIHVzYWdlXG4gKiBAZXhhbXBsZVxuICpcbiAqIFRpbGUgY3JlYXRpb24gY2FuIGFsc28gYmUgYXN5bmNocm9ub3VzLCB0aGlzIGlzIHVzZWZ1bCB3aGVuIHVzaW5nIGEgdGhpcmQtcGFydHkgZHJhd2luZyBsaWJyYXJ5LiBPbmNlIHRoZSB0aWxlIGlzIGZpbmlzaGVkIGRyYXdpbmcgaXQgY2FuIGJlIHBhc3NlZCB0byB0aGUgYGRvbmUoKWAgY2FsbGJhY2suXG4gKlxuICogYGBganNcbiAqIHZhciBDYW52YXNMYXllciA9IEwuR3JpZExheWVyLmV4dGVuZCh7XG4gKiAgICAgY3JlYXRlVGlsZTogZnVuY3Rpb24oY29vcmRzLCBkb25lKXtcbiAqICAgICAgICAgdmFyIGVycm9yO1xuICpcbiAqICAgICAgICAgLy8gY3JlYXRlIGEgPGNhbnZhcz4gZWxlbWVudCBmb3IgZHJhd2luZ1xuICogICAgICAgICB2YXIgdGlsZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2NhbnZhcycsICdsZWFmbGV0LXRpbGUnKTtcbiAqXG4gKiAgICAgICAgIC8vIHNldHVwIHRpbGUgd2lkdGggYW5kIGhlaWdodCBhY2NvcmRpbmcgdG8gdGhlIG9wdGlvbnNcbiAqICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFRpbGVTaXplKCk7XG4gKiAgICAgICAgIHRpbGUud2lkdGggPSBzaXplLng7XG4gKiAgICAgICAgIHRpbGUuaGVpZ2h0ID0gc2l6ZS55O1xuICpcbiAqICAgICAgICAgLy8gZHJhdyBzb21ldGhpbmcgYXN5bmNocm9ub3VzbHkgYW5kIHBhc3MgdGhlIHRpbGUgdG8gdGhlIGRvbmUoKSBjYWxsYmFja1xuICogICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgZG9uZShlcnJvciwgdGlsZSk7XG4gKiAgICAgICAgIH0sIDEwMDApO1xuICpcbiAqICAgICAgICAgcmV0dXJuIHRpbGU7XG4gKiAgICAgfVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VjdGlvblxuICovXG5cblxuZXhwb3J0IHZhciBHcmlkTGF5ZXIgPSBMYXllci5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgR3JpZExheWVyIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gdGlsZVNpemU6IE51bWJlcnxQb2ludCA9IDI1NlxuXHRcdC8vIFdpZHRoIGFuZCBoZWlnaHQgb2YgdGlsZXMgaW4gdGhlIGdyaWQuIFVzZSBhIG51bWJlciBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBlcXVhbCwgb3IgYEwucG9pbnQod2lkdGgsIGhlaWdodClgIG90aGVyd2lzZS5cblx0XHR0aWxlU2l6ZTogMjU2LFxuXG5cdFx0Ly8gQG9wdGlvbiBvcGFjaXR5OiBOdW1iZXIgPSAxLjBcblx0XHQvLyBPcGFjaXR5IG9mIHRoZSB0aWxlcy4gQ2FuIGJlIHVzZWQgaW4gdGhlIGBjcmVhdGVUaWxlKClgIGZ1bmN0aW9uLlxuXHRcdG9wYWNpdHk6IDEsXG5cblx0XHQvLyBAb3B0aW9uIHVwZGF0ZVdoZW5JZGxlOiBCb29sZWFuID0gKGRlcGVuZHMpXG5cdFx0Ly8gTG9hZCBuZXcgdGlsZXMgb25seSB3aGVuIHBhbm5pbmcgZW5kcy5cblx0XHQvLyBgdHJ1ZWAgYnkgZGVmYXVsdCBvbiBtb2JpbGUgYnJvd3NlcnMsIGluIG9yZGVyIHRvIGF2b2lkIHRvbyBtYW55IHJlcXVlc3RzIGFuZCBrZWVwIHNtb290aCBuYXZpZ2F0aW9uLlxuXHRcdC8vIGBmYWxzZWAgb3RoZXJ3aXNlIGluIG9yZGVyIHRvIGRpc3BsYXkgbmV3IHRpbGVzIF9kdXJpbmdfIHBhbm5pbmcsIHNpbmNlIGl0IGlzIGVhc3kgdG8gcGFuIG91dHNpZGUgdGhlXG5cdFx0Ly8gW2BrZWVwQnVmZmVyYF0oI2dyaWRsYXllci1rZWVwYnVmZmVyKSBvcHRpb24gaW4gZGVza3RvcCBicm93c2Vycy5cblx0XHR1cGRhdGVXaGVuSWRsZTogQnJvd3Nlci5tb2JpbGUsXG5cblx0XHQvLyBAb3B0aW9uIHVwZGF0ZVdoZW5ab29taW5nOiBCb29sZWFuID0gdHJ1ZVxuXHRcdC8vIEJ5IGRlZmF1bHQsIGEgc21vb3RoIHpvb20gYW5pbWF0aW9uIChkdXJpbmcgYSBbdG91Y2ggem9vbV0oI21hcC10b3VjaHpvb20pIG9yIGEgW2BmbHlUbygpYF0oI21hcC1mbHl0bykpIHdpbGwgdXBkYXRlIGdyaWQgbGF5ZXJzIGV2ZXJ5IGludGVnZXIgem9vbSBsZXZlbC4gU2V0dGluZyB0aGlzIG9wdGlvbiB0byBgZmFsc2VgIHdpbGwgdXBkYXRlIHRoZSBncmlkIGxheWVyIG9ubHkgd2hlbiB0aGUgc21vb3RoIGFuaW1hdGlvbiBlbmRzLlxuXHRcdHVwZGF0ZVdoZW5ab29taW5nOiB0cnVlLFxuXG5cdFx0Ly8gQG9wdGlvbiB1cGRhdGVJbnRlcnZhbDogTnVtYmVyID0gMjAwXG5cdFx0Ly8gVGlsZXMgd2lsbCBub3QgdXBkYXRlIG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IGB1cGRhdGVJbnRlcnZhbGAgbWlsbGlzZWNvbmRzIHdoZW4gcGFubmluZy5cblx0XHR1cGRhdGVJbnRlcnZhbDogMjAwLFxuXG5cdFx0Ly8gQG9wdGlvbiB6SW5kZXg6IE51bWJlciA9IDFcblx0XHQvLyBUaGUgZXhwbGljaXQgekluZGV4IG9mIHRoZSB0aWxlIGxheWVyLlxuXHRcdHpJbmRleDogMSxcblxuXHRcdC8vIEBvcHRpb24gYm91bmRzOiBMYXRMbmdCb3VuZHMgPSB1bmRlZmluZWRcblx0XHQvLyBJZiBzZXQsIHRpbGVzIHdpbGwgb25seSBiZSBsb2FkZWQgaW5zaWRlIHRoZSBzZXQgYExhdExuZ0JvdW5kc2AuXG5cdFx0Ym91bmRzOiBudWxsLFxuXG5cdFx0Ly8gQG9wdGlvbiBtaW5ab29tOiBOdW1iZXIgPSAwXG5cdFx0Ly8gVGhlIG1pbmltdW0gem9vbSBsZXZlbCBkb3duIHRvIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZSBkaXNwbGF5ZWQgKGluY2x1c2l2ZSkuXG5cdFx0bWluWm9vbTogMCxcblxuXHRcdC8vIEBvcHRpb24gbWF4Wm9vbTogTnVtYmVyID0gdW5kZWZpbmVkXG5cdFx0Ly8gVGhlIG1heGltdW0gem9vbSBsZXZlbCB1cCB0byB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmUgZGlzcGxheWVkIChpbmNsdXNpdmUpLlxuXHRcdG1heFpvb206IHVuZGVmaW5lZCxcblxuXHRcdC8vIEBvcHRpb24gbWF4TmF0aXZlWm9vbTogTnVtYmVyID0gdW5kZWZpbmVkXG5cdFx0Ly8gTWF4aW11bSB6b29tIG51bWJlciB0aGUgdGlsZSBzb3VyY2UgaGFzIGF2YWlsYWJsZS4gSWYgaXQgaXMgc3BlY2lmaWVkLFxuXHRcdC8vIHRoZSB0aWxlcyBvbiBhbGwgem9vbSBsZXZlbHMgaGlnaGVyIHRoYW4gYG1heE5hdGl2ZVpvb21gIHdpbGwgYmUgbG9hZGVkXG5cdFx0Ly8gZnJvbSBgbWF4TmF0aXZlWm9vbWAgbGV2ZWwgYW5kIGF1dG8tc2NhbGVkLlxuXHRcdG1heE5hdGl2ZVpvb206IHVuZGVmaW5lZCxcblxuXHRcdC8vIEBvcHRpb24gbWluTmF0aXZlWm9vbTogTnVtYmVyID0gdW5kZWZpbmVkXG5cdFx0Ly8gTWluaW11bSB6b29tIG51bWJlciB0aGUgdGlsZSBzb3VyY2UgaGFzIGF2YWlsYWJsZS4gSWYgaXQgaXMgc3BlY2lmaWVkLFxuXHRcdC8vIHRoZSB0aWxlcyBvbiBhbGwgem9vbSBsZXZlbHMgbG93ZXIgdGhhbiBgbWluTmF0aXZlWm9vbWAgd2lsbCBiZSBsb2FkZWRcblx0XHQvLyBmcm9tIGBtaW5OYXRpdmVab29tYCBsZXZlbCBhbmQgYXV0by1zY2FsZWQuXG5cdFx0bWluTmF0aXZlWm9vbTogdW5kZWZpbmVkLFxuXG5cdFx0Ly8gQG9wdGlvbiBub1dyYXA6IEJvb2xlYW4gPSBmYWxzZVxuXHRcdC8vIFdoZXRoZXIgdGhlIGxheWVyIGlzIHdyYXBwZWQgYXJvdW5kIHRoZSBhbnRpbWVyaWRpYW4uIElmIGB0cnVlYCwgdGhlXG5cdFx0Ly8gR3JpZExheWVyIHdpbGwgb25seSBiZSBkaXNwbGF5ZWQgb25jZSBhdCBsb3cgem9vbSBsZXZlbHMuIEhhcyBub1xuXHRcdC8vIGVmZmVjdCB3aGVuIHRoZSBbbWFwIENSU10oI21hcC1jcnMpIGRvZXNuJ3Qgd3JhcCBhcm91bmQuIENhbiBiZSB1c2VkXG5cdFx0Ly8gaW4gY29tYmluYXRpb24gd2l0aCBbYGJvdW5kc2BdKCNncmlkbGF5ZXItYm91bmRzKSB0byBwcmV2ZW50IHJlcXVlc3Rpbmdcblx0XHQvLyB0aWxlcyBvdXRzaWRlIHRoZSBDUlMgbGltaXRzLlxuXHRcdG5vV3JhcDogZmFsc2UsXG5cblx0XHQvLyBAb3B0aW9uIHBhbmU6IFN0cmluZyA9ICd0aWxlUGFuZSdcblx0XHQvLyBgTWFwIHBhbmVgIHdoZXJlIHRoZSBncmlkIGxheWVyIHdpbGwgYmUgYWRkZWQuXG5cdFx0cGFuZTogJ3RpbGVQYW5lJyxcblxuXHRcdC8vIEBvcHRpb24gY2xhc3NOYW1lOiBTdHJpbmcgPSAnJ1xuXHRcdC8vIEEgY3VzdG9tIGNsYXNzIG5hbWUgdG8gYXNzaWduIHRvIHRoZSB0aWxlIGxheWVyLiBFbXB0eSBieSBkZWZhdWx0LlxuXHRcdGNsYXNzTmFtZTogJycsXG5cblx0XHQvLyBAb3B0aW9uIGtlZXBCdWZmZXI6IE51bWJlciA9IDJcblx0XHQvLyBXaGVuIHBhbm5pbmcgdGhlIG1hcCwga2VlcCB0aGlzIG1hbnkgcm93cyBhbmQgY29sdW1ucyBvZiB0aWxlcyBiZWZvcmUgdW5sb2FkaW5nIHRoZW0uXG5cdFx0a2VlcEJ1ZmZlcjogMlxuXHR9LFxuXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXHR9LFxuXG5cdG9uQWRkOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5faW5pdENvbnRhaW5lcigpO1xuXG5cdFx0dGhpcy5fbGV2ZWxzID0ge307XG5cdFx0dGhpcy5fdGlsZXMgPSB7fTtcblxuXHRcdHRoaXMuX3Jlc2V0VmlldygpOyAvLyBpbXBsaWNpdCBfdXBkYXRlKCkgY2FsbFxuXHR9LFxuXG5cdGJlZm9yZUFkZDogZnVuY3Rpb24gKG1hcCkge1xuXHRcdG1hcC5fYWRkWm9vbUxpbWl0KHRoaXMpO1xuXHR9LFxuXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0dGhpcy5fcmVtb3ZlQWxsVGlsZXMoKTtcblx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuXHRcdG1hcC5fcmVtb3ZlWm9vbUxpbWl0KHRoaXMpO1xuXHRcdHRoaXMuX2NvbnRhaW5lciA9IG51bGw7XG5cdFx0dGhpcy5fdGlsZVpvb20gPSB1bmRlZmluZWQ7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBicmluZ1RvRnJvbnQ6IHRoaXNcblx0Ly8gQnJpbmdzIHRoZSB0aWxlIGxheWVyIHRvIHRoZSB0b3Agb2YgYWxsIHRpbGUgbGF5ZXJzLlxuXHRicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwKSB7XG5cdFx0XHREb21VdGlsLnRvRnJvbnQodGhpcy5fY29udGFpbmVyKTtcblx0XHRcdHRoaXMuX3NldEF1dG9aSW5kZXgoTWF0aC5tYXgpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGJyaW5nVG9CYWNrOiB0aGlzXG5cdC8vIEJyaW5ncyB0aGUgdGlsZSBsYXllciB0byB0aGUgYm90dG9tIG9mIGFsbCB0aWxlIGxheWVycy5cblx0YnJpbmdUb0JhY2s6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwKSB7XG5cdFx0XHREb21VdGlsLnRvQmFjayh0aGlzLl9jb250YWluZXIpO1xuXHRcdFx0dGhpcy5fc2V0QXV0b1pJbmRleChNYXRoLm1pbik7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0Q29udGFpbmVyOiBIVE1MRWxlbWVudFxuXHQvLyBSZXR1cm5zIHRoZSBIVE1MIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgdGlsZXMgZm9yIHRoaXMgbGF5ZXIuXG5cdGdldENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9jb250YWluZXI7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzZXRPcGFjaXR5KG9wYWNpdHk6IE51bWJlcik6IHRoaXNcblx0Ly8gQ2hhbmdlcyB0aGUgW29wYWNpdHldKCNncmlkbGF5ZXItb3BhY2l0eSkgb2YgdGhlIGdyaWQgbGF5ZXIuXG5cdHNldE9wYWNpdHk6IGZ1bmN0aW9uIChvcGFjaXR5KSB7XG5cdFx0dGhpcy5vcHRpb25zLm9wYWNpdHkgPSBvcGFjaXR5O1xuXHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldFpJbmRleCh6SW5kZXg6IE51bWJlcik6IHRoaXNcblx0Ly8gQ2hhbmdlcyB0aGUgW3pJbmRleF0oI2dyaWRsYXllci16aW5kZXgpIG9mIHRoZSBncmlkIGxheWVyLlxuXHRzZXRaSW5kZXg6IGZ1bmN0aW9uICh6SW5kZXgpIHtcblx0XHR0aGlzLm9wdGlvbnMuekluZGV4ID0gekluZGV4O1xuXHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBpc0xvYWRpbmc6IEJvb2xlYW5cblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IHRpbGUgaW4gdGhlIGdyaWQgbGF5ZXIgaGFzIG5vdCBmaW5pc2hlZCBsb2FkaW5nLlxuXHRpc0xvYWRpbmc6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbG9hZGluZztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHJlZHJhdzogdGhpc1xuXHQvLyBDYXVzZXMgdGhlIGxheWVyIHRvIGNsZWFyIGFsbCB0aGUgdGlsZXMgYW5kIHJlcXVlc3QgdGhlbSBhZ2Fpbi5cblx0cmVkcmF3OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcCkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlQWxsVGlsZXMoKTtcblx0XHRcdHZhciB0aWxlWm9vbSA9IHRoaXMuX2NsYW1wWm9vbSh0aGlzLl9tYXAuZ2V0Wm9vbSgpKTtcblx0XHRcdGlmICh0aWxlWm9vbSAhPT0gdGhpcy5fdGlsZVpvb20pIHtcblx0XHRcdFx0dGhpcy5fdGlsZVpvb20gPSB0aWxlWm9vbTtcblx0XHRcdFx0dGhpcy5fdXBkYXRlTGV2ZWxzKCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl91cGRhdGUoKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGV2ZW50cyA9IHtcblx0XHRcdHZpZXdwcmVyZXNldDogdGhpcy5faW52YWxpZGF0ZUFsbCxcblx0XHRcdHZpZXdyZXNldDogdGhpcy5fcmVzZXRWaWV3LFxuXHRcdFx0em9vbTogdGhpcy5fcmVzZXRWaWV3LFxuXHRcdFx0bW92ZWVuZDogdGhpcy5fb25Nb3ZlRW5kXG5cdFx0fTtcblxuXHRcdGlmICghdGhpcy5vcHRpb25zLnVwZGF0ZVdoZW5JZGxlKSB7XG5cdFx0XHQvLyB1cGRhdGUgdGlsZXMgb24gbW92ZSwgYnV0IG5vdCBtb3JlIG9mdGVuIHRoYW4gb25jZSBwZXIgZ2l2ZW4gaW50ZXJ2YWxcblx0XHRcdGlmICghdGhpcy5fb25Nb3ZlKSB7XG5cdFx0XHRcdHRoaXMuX29uTW92ZSA9IFV0aWwudGhyb3R0bGUodGhpcy5fb25Nb3ZlRW5kLCB0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwsIHRoaXMpO1xuXHRcdFx0fVxuXG5cdFx0XHRldmVudHMubW92ZSA9IHRoaXMuX29uTW92ZTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XG5cdFx0XHRldmVudHMuem9vbWFuaW0gPSB0aGlzLl9hbmltYXRlWm9vbTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnRzO1xuXHR9LFxuXG5cdC8vIEBzZWN0aW9uIEV4dGVuc2lvbiBtZXRob2RzXG5cdC8vIExheWVycyBleHRlbmRpbmcgYEdyaWRMYXllcmAgc2hhbGwgcmVpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBtZXRob2QuXG5cdC8vIEBtZXRob2QgY3JlYXRlVGlsZShjb29yZHM6IE9iamVjdCwgZG9uZT86IEZ1bmN0aW9uKTogSFRNTEVsZW1lbnRcblx0Ly8gQ2FsbGVkIG9ubHkgaW50ZXJuYWxseSwgbXVzdCBiZSBvdmVycmlkZGVuIGJ5IGNsYXNzZXMgZXh0ZW5kaW5nIGBHcmlkTGF5ZXJgLlxuXHQvLyBSZXR1cm5zIHRoZSBgSFRNTEVsZW1lbnRgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIGBjb29yZHNgLiBJZiB0aGUgYGRvbmVgIGNhbGxiYWNrXG5cdC8vIGlzIHNwZWNpZmllZCwgaXQgbXVzdCBiZSBjYWxsZWQgd2hlbiB0aGUgdGlsZSBoYXMgZmluaXNoZWQgbG9hZGluZyBhbmQgZHJhd2luZy5cblx0Y3JlYXRlVGlsZTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0fSxcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAbWV0aG9kIGdldFRpbGVTaXplOiBQb2ludFxuXHQvLyBOb3JtYWxpemVzIHRoZSBbdGlsZVNpemUgb3B0aW9uXSgjZ3JpZGxheWVyLXRpbGVzaXplKSBpbnRvIGEgcG9pbnQuIFVzZWQgYnkgdGhlIGBjcmVhdGVUaWxlKClgIG1ldGhvZC5cblx0Z2V0VGlsZVNpemU6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcyA9IHRoaXMub3B0aW9ucy50aWxlU2l6ZTtcblx0XHRyZXR1cm4gcyBpbnN0YW5jZW9mIFBvaW50ID8gcyA6IG5ldyBQb2ludChzLCBzKTtcblx0fSxcblxuXHRfdXBkYXRlWkluZGV4OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX2NvbnRhaW5lciAmJiB0aGlzLm9wdGlvbnMuekluZGV4ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vcHRpb25zLnpJbmRleCAhPT0gbnVsbCkge1xuXHRcdFx0dGhpcy5fY29udGFpbmVyLnN0eWxlLnpJbmRleCA9IHRoaXMub3B0aW9ucy56SW5kZXg7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRBdXRvWkluZGV4OiBmdW5jdGlvbiAoY29tcGFyZSkge1xuXHRcdC8vIGdvIHRocm91Z2ggYWxsIG90aGVyIGxheWVycyBvZiB0aGUgc2FtZSBwYW5lLCBzZXQgekluZGV4IHRvIG1heCArIDEgKGZyb250KSBvciBtaW4gLSAxIChiYWNrKVxuXG5cdFx0dmFyIGxheWVycyA9IHRoaXMuZ2V0UGFuZSgpLmNoaWxkcmVuLFxuXHRcdCAgICBlZGdlWkluZGV4ID0gLWNvbXBhcmUoLUluZmluaXR5LCBJbmZpbml0eSk7IC8vIC1JbmZpbml0eSBmb3IgbWF4LCBJbmZpbml0eSBmb3IgbWluXG5cblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGF5ZXJzLmxlbmd0aCwgekluZGV4OyBpIDwgbGVuOyBpKyspIHtcblxuXHRcdFx0ekluZGV4ID0gbGF5ZXJzW2ldLnN0eWxlLnpJbmRleDtcblxuXHRcdFx0aWYgKGxheWVyc1tpXSAhPT0gdGhpcy5fY29udGFpbmVyICYmIHpJbmRleCkge1xuXHRcdFx0XHRlZGdlWkluZGV4ID0gY29tcGFyZShlZGdlWkluZGV4LCArekluZGV4KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoaXNGaW5pdGUoZWRnZVpJbmRleCkpIHtcblx0XHRcdHRoaXMub3B0aW9ucy56SW5kZXggPSBlZGdlWkluZGV4ICsgY29tcGFyZSgtMSwgMSk7XG5cdFx0XHR0aGlzLl91cGRhdGVaSW5kZXgoKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZU9wYWNpdHk6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cblxuXHRcdC8vIElFIGRvZXNuJ3QgaW5oZXJpdCBmaWx0ZXIgb3BhY2l0eSBwcm9wZXJseSwgc28gd2UncmUgZm9yY2VkIHRvIHNldCBpdCBvbiB0aWxlc1xuXHRcdGlmIChCcm93c2VyLmllbHQ5KSB7IHJldHVybjsgfVxuXG5cdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwgdGhpcy5vcHRpb25zLm9wYWNpdHkpO1xuXG5cdFx0dmFyIG5vdyA9ICtuZXcgRGF0ZSgpLFxuXHRcdCAgICBuZXh0RnJhbWUgPSBmYWxzZSxcblx0XHQgICAgd2lsbFBydW5lID0gZmFsc2U7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdHZhciB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblx0XHRcdGlmICghdGlsZS5jdXJyZW50IHx8ICF0aWxlLmxvYWRlZCkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHR2YXIgZmFkZSA9IE1hdGgubWluKDEsIChub3cgLSB0aWxlLmxvYWRlZCkgLyAyMDApO1xuXG5cdFx0XHREb21VdGlsLnNldE9wYWNpdHkodGlsZS5lbCwgZmFkZSk7XG5cdFx0XHRpZiAoZmFkZSA8IDEpIHtcblx0XHRcdFx0bmV4dEZyYW1lID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICh0aWxlLmFjdGl2ZSkge1xuXHRcdFx0XHRcdHdpbGxQcnVuZSA9IHRydWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5fb25PcGFxdWVUaWxlKHRpbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRpbGUuYWN0aXZlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAod2lsbFBydW5lICYmICF0aGlzLl9ub1BydW5lKSB7IHRoaXMuX3BydW5lVGlsZXMoKTsgfVxuXG5cdFx0aWYgKG5leHRGcmFtZSkge1xuXHRcdFx0VXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fZmFkZUZyYW1lKTtcblx0XHRcdHRoaXMuX2ZhZGVGcmFtZSA9IFV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl91cGRhdGVPcGFjaXR5LCB0aGlzKTtcblx0XHR9XG5cdH0sXG5cblx0X29uT3BhcXVlVGlsZTogVXRpbC5mYWxzZUZuLFxuXG5cdF9pbml0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX2NvbnRhaW5lcikgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC1sYXllciAnICsgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUgfHwgJycpKTtcblx0XHR0aGlzLl91cGRhdGVaSW5kZXgoKTtcblxuXHRcdGlmICh0aGlzLm9wdGlvbnMub3BhY2l0eSA8IDEpIHtcblx0XHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcblx0XHR9XG5cblx0XHR0aGlzLmdldFBhbmUoKS5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuXHR9LFxuXG5cdF91cGRhdGVMZXZlbHM6IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciB6b29tID0gdGhpcy5fdGlsZVpvb20sXG5cdFx0ICAgIG1heFpvb20gPSB0aGlzLm9wdGlvbnMubWF4Wm9vbTtcblxuXHRcdGlmICh6b29tID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfVxuXG5cdFx0Zm9yICh2YXIgeiBpbiB0aGlzLl9sZXZlbHMpIHtcblx0XHRcdHogPSBOdW1iZXIoeik7XG5cdFx0XHRpZiAodGhpcy5fbGV2ZWxzW3pdLmVsLmNoaWxkcmVuLmxlbmd0aCB8fCB6ID09PSB6b29tKSB7XG5cdFx0XHRcdHRoaXMuX2xldmVsc1t6XS5lbC5zdHlsZS56SW5kZXggPSBtYXhab29tIC0gTWF0aC5hYnMoem9vbSAtIHopO1xuXHRcdFx0XHR0aGlzLl9vblVwZGF0ZUxldmVsKHopO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fbGV2ZWxzW3pdLmVsKTtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlVGlsZXNBdFpvb20oeik7XG5cdFx0XHRcdHRoaXMuX29uUmVtb3ZlTGV2ZWwoeik7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLl9sZXZlbHNbel07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGxldmVsID0gdGhpcy5fbGV2ZWxzW3pvb21dLFxuXHRcdCAgICBtYXAgPSB0aGlzLl9tYXA7XG5cblx0XHRpZiAoIWxldmVsKSB7XG5cdFx0XHRsZXZlbCA9IHRoaXMuX2xldmVsc1t6b29tXSA9IHt9O1xuXG5cdFx0XHRsZXZlbC5lbCA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC10aWxlLWNvbnRhaW5lciBsZWFmbGV0LXpvb20tYW5pbWF0ZWQnLCB0aGlzLl9jb250YWluZXIpO1xuXHRcdFx0bGV2ZWwuZWwuc3R5bGUuekluZGV4ID0gbWF4Wm9vbTtcblxuXHRcdFx0bGV2ZWwub3JpZ2luID0gbWFwLnByb2plY3QobWFwLnVucHJvamVjdChtYXAuZ2V0UGl4ZWxPcmlnaW4oKSksIHpvb20pLnJvdW5kKCk7XG5cdFx0XHRsZXZlbC56b29tID0gem9vbTtcblxuXHRcdFx0dGhpcy5fc2V0Wm9vbVRyYW5zZm9ybShsZXZlbCwgbWFwLmdldENlbnRlcigpLCBtYXAuZ2V0Wm9vbSgpKTtcblxuXHRcdFx0Ly8gZm9yY2UgdGhlIGJyb3dzZXIgdG8gY29uc2lkZXIgdGhlIG5ld2x5IGFkZGVkIGVsZW1lbnQgZm9yIHRyYW5zaXRpb25cblx0XHRcdFV0aWwuZmFsc2VGbihsZXZlbC5lbC5vZmZzZXRXaWR0aCk7XG5cblx0XHRcdHRoaXMuX29uQ3JlYXRlTGV2ZWwobGV2ZWwpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2xldmVsID0gbGV2ZWw7XG5cblx0XHRyZXR1cm4gbGV2ZWw7XG5cdH0sXG5cblx0X29uVXBkYXRlTGV2ZWw6IFV0aWwuZmFsc2VGbixcblxuXHRfb25SZW1vdmVMZXZlbDogVXRpbC5mYWxzZUZuLFxuXG5cdF9vbkNyZWF0ZUxldmVsOiBVdGlsLmZhbHNlRm4sXG5cblx0X3BydW5lVGlsZXM6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX21hcCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBrZXksIHRpbGU7XG5cblx0XHR2YXIgem9vbSA9IHRoaXMuX21hcC5nZXRab29tKCk7XG5cdFx0aWYgKHpvb20gPiB0aGlzLm9wdGlvbnMubWF4Wm9vbSB8fFxuXHRcdFx0em9vbSA8IHRoaXMub3B0aW9ucy5taW5ab29tKSB7XG5cdFx0XHR0aGlzLl9yZW1vdmVBbGxUaWxlcygpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGZvciAoa2V5IGluIHRoaXMuX3RpbGVzKSB7XG5cdFx0XHR0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblx0XHRcdHRpbGUucmV0YWluID0gdGlsZS5jdXJyZW50O1xuXHRcdH1cblxuXHRcdGZvciAoa2V5IGluIHRoaXMuX3RpbGVzKSB7XG5cdFx0XHR0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblx0XHRcdGlmICh0aWxlLmN1cnJlbnQgJiYgIXRpbGUuYWN0aXZlKSB7XG5cdFx0XHRcdHZhciBjb29yZHMgPSB0aWxlLmNvb3Jkcztcblx0XHRcdFx0aWYgKCF0aGlzLl9yZXRhaW5QYXJlbnQoY29vcmRzLngsIGNvb3Jkcy55LCBjb29yZHMueiwgY29vcmRzLnogLSA1KSkge1xuXHRcdFx0XHRcdHRoaXMuX3JldGFpbkNoaWxkcmVuKGNvb3Jkcy54LCBjb29yZHMueSwgY29vcmRzLnosIGNvb3Jkcy56ICsgMik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0aWYgKCF0aGlzLl90aWxlc1trZXldLnJldGFpbikge1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVUaWxlKGtleSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9yZW1vdmVUaWxlc0F0Wm9vbTogZnVuY3Rpb24gKHpvb20pIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdGlmICh0aGlzLl90aWxlc1trZXldLmNvb3Jkcy56ICE9PSB6b29tKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fcmVtb3ZlVGlsZShrZXkpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVtb3ZlQWxsVGlsZXM6IGZ1bmN0aW9uICgpIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdHRoaXMuX3JlbW92ZVRpbGUoa2V5KTtcblx0XHR9XG5cdH0sXG5cblx0X2ludmFsaWRhdGVBbGw6IGZ1bmN0aW9uICgpIHtcblx0XHRmb3IgKHZhciB6IGluIHRoaXMuX2xldmVscykge1xuXHRcdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fbGV2ZWxzW3pdLmVsKTtcblx0XHRcdHRoaXMuX29uUmVtb3ZlTGV2ZWwoTnVtYmVyKHopKTtcblx0XHRcdGRlbGV0ZSB0aGlzLl9sZXZlbHNbel07XG5cdFx0fVxuXHRcdHRoaXMuX3JlbW92ZUFsbFRpbGVzKCk7XG5cblx0XHR0aGlzLl90aWxlWm9vbSA9IHVuZGVmaW5lZDtcblx0fSxcblxuXHRfcmV0YWluUGFyZW50OiBmdW5jdGlvbiAoeCwgeSwgeiwgbWluWm9vbSkge1xuXHRcdHZhciB4MiA9IE1hdGguZmxvb3IoeCAvIDIpLFxuXHRcdCAgICB5MiA9IE1hdGguZmxvb3IoeSAvIDIpLFxuXHRcdCAgICB6MiA9IHogLSAxLFxuXHRcdCAgICBjb29yZHMyID0gbmV3IFBvaW50KCt4MiwgK3kyKTtcblx0XHRjb29yZHMyLnogPSArejI7XG5cblx0XHR2YXIga2V5ID0gdGhpcy5fdGlsZUNvb3Jkc1RvS2V5KGNvb3JkczIpLFxuXHRcdCAgICB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblxuXHRcdGlmICh0aWxlICYmIHRpbGUuYWN0aXZlKSB7XG5cdFx0XHR0aWxlLnJldGFpbiA9IHRydWU7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH0gZWxzZSBpZiAodGlsZSAmJiB0aWxlLmxvYWRlZCkge1xuXHRcdFx0dGlsZS5yZXRhaW4gPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICh6MiA+IG1pblpvb20pIHtcblx0XHRcdHJldHVybiB0aGlzLl9yZXRhaW5QYXJlbnQoeDIsIHkyLCB6MiwgbWluWm9vbSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9yZXRhaW5DaGlsZHJlbjogZnVuY3Rpb24gKHgsIHksIHosIG1heFpvb20pIHtcblxuXHRcdGZvciAodmFyIGkgPSAyICogeDsgaSA8IDIgKiB4ICsgMjsgaSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqID0gMiAqIHk7IGogPCAyICogeSArIDI7IGorKykge1xuXG5cdFx0XHRcdHZhciBjb29yZHMgPSBuZXcgUG9pbnQoaSwgaik7XG5cdFx0XHRcdGNvb3Jkcy56ID0geiArIDE7XG5cblx0XHRcdFx0dmFyIGtleSA9IHRoaXMuX3RpbGVDb29yZHNUb0tleShjb29yZHMpLFxuXHRcdFx0XHQgICAgdGlsZSA9IHRoaXMuX3RpbGVzW2tleV07XG5cblx0XHRcdFx0aWYgKHRpbGUgJiYgdGlsZS5hY3RpdmUpIHtcblx0XHRcdFx0XHR0aWxlLnJldGFpbiA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0fSBlbHNlIGlmICh0aWxlICYmIHRpbGUubG9hZGVkKSB7XG5cdFx0XHRcdFx0dGlsZS5yZXRhaW4gPSB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHogKyAxIDwgbWF4Wm9vbSkge1xuXHRcdFx0XHRcdHRoaXMuX3JldGFpbkNoaWxkcmVuKGksIGosIHogKyAxLCBtYXhab29tKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfcmVzZXRWaWV3OiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBhbmltYXRpbmcgPSBlICYmIChlLnBpbmNoIHx8IGUuZmx5VG8pO1xuXHRcdHRoaXMuX3NldFZpZXcodGhpcy5fbWFwLmdldENlbnRlcigpLCB0aGlzLl9tYXAuZ2V0Wm9vbSgpLCBhbmltYXRpbmcsIGFuaW1hdGluZyk7XG5cdH0sXG5cblx0X2FuaW1hdGVab29tOiBmdW5jdGlvbiAoZSkge1xuXHRcdHRoaXMuX3NldFZpZXcoZS5jZW50ZXIsIGUuem9vbSwgdHJ1ZSwgZS5ub1VwZGF0ZSk7XG5cdH0sXG5cblx0X2NsYW1wWm9vbTogZnVuY3Rpb24gKHpvb20pIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdGlmICh1bmRlZmluZWQgIT09IG9wdGlvbnMubWluTmF0aXZlWm9vbSAmJiB6b29tIDwgb3B0aW9ucy5taW5OYXRpdmVab29tKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5taW5OYXRpdmVab29tO1xuXHRcdH1cblxuXHRcdGlmICh1bmRlZmluZWQgIT09IG9wdGlvbnMubWF4TmF0aXZlWm9vbSAmJiBvcHRpb25zLm1heE5hdGl2ZVpvb20gPCB6b29tKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5tYXhOYXRpdmVab29tO1xuXHRcdH1cblxuXHRcdHJldHVybiB6b29tO1xuXHR9LFxuXG5cdF9zZXRWaWV3OiBmdW5jdGlvbiAoY2VudGVyLCB6b29tLCBub1BydW5lLCBub1VwZGF0ZSkge1xuXHRcdHZhciB0aWxlWm9vbSA9IE1hdGgucm91bmQoem9vbSk7XG5cdFx0aWYgKCh0aGlzLm9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkICYmIHRpbGVab29tID4gdGhpcy5vcHRpb25zLm1heFpvb20pIHx8XG5cdFx0ICAgICh0aGlzLm9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkICYmIHRpbGVab29tIDwgdGhpcy5vcHRpb25zLm1pblpvb20pKSB7XG5cdFx0XHR0aWxlWm9vbSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGlsZVpvb20gPSB0aGlzLl9jbGFtcFpvb20odGlsZVpvb20pO1xuXHRcdH1cblxuXHRcdHZhciB0aWxlWm9vbUNoYW5nZWQgPSB0aGlzLm9wdGlvbnMudXBkYXRlV2hlblpvb21pbmcgJiYgKHRpbGVab29tICE9PSB0aGlzLl90aWxlWm9vbSk7XG5cblx0XHRpZiAoIW5vVXBkYXRlIHx8IHRpbGVab29tQ2hhbmdlZCkge1xuXG5cdFx0XHR0aGlzLl90aWxlWm9vbSA9IHRpbGVab29tO1xuXG5cdFx0XHRpZiAodGhpcy5fYWJvcnRMb2FkaW5nKSB7XG5cdFx0XHRcdHRoaXMuX2Fib3J0TG9hZGluZygpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl91cGRhdGVMZXZlbHMoKTtcblx0XHRcdHRoaXMuX3Jlc2V0R3JpZCgpO1xuXG5cdFx0XHRpZiAodGlsZVpvb20gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aGlzLl91cGRhdGUoY2VudGVyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFub1BydW5lKSB7XG5cdFx0XHRcdHRoaXMuX3BydW5lVGlsZXMoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRmxhZyB0byBwcmV2ZW50IF91cGRhdGVPcGFjaXR5IGZyb20gcHJ1bmluZyB0aWxlcyBkdXJpbmdcblx0XHRcdC8vIGEgem9vbSBhbmltIG9yIGEgcGluY2ggZ2VzdHVyZVxuXHRcdFx0dGhpcy5fbm9QcnVuZSA9ICEhbm9QcnVuZTtcblx0XHR9XG5cblx0XHR0aGlzLl9zZXRab29tVHJhbnNmb3JtcyhjZW50ZXIsIHpvb20pO1xuXHR9LFxuXG5cdF9zZXRab29tVHJhbnNmb3JtczogZnVuY3Rpb24gKGNlbnRlciwgem9vbSkge1xuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fbGV2ZWxzKSB7XG5cdFx0XHR0aGlzLl9zZXRab29tVHJhbnNmb3JtKHRoaXMuX2xldmVsc1tpXSwgY2VudGVyLCB6b29tKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldFpvb21UcmFuc2Zvcm06IGZ1bmN0aW9uIChsZXZlbCwgY2VudGVyLCB6b29tKSB7XG5cdFx0dmFyIHNjYWxlID0gdGhpcy5fbWFwLmdldFpvb21TY2FsZSh6b29tLCBsZXZlbC56b29tKSxcblx0XHQgICAgdHJhbnNsYXRlID0gbGV2ZWwub3JpZ2luLm11bHRpcGx5Qnkoc2NhbGUpXG5cdFx0ICAgICAgICAuc3VidHJhY3QodGhpcy5fbWFwLl9nZXROZXdQaXhlbE9yaWdpbihjZW50ZXIsIHpvb20pKS5yb3VuZCgpO1xuXG5cdFx0aWYgKEJyb3dzZXIuYW55M2QpIHtcblx0XHRcdERvbVV0aWwuc2V0VHJhbnNmb3JtKGxldmVsLmVsLCB0cmFuc2xhdGUsIHNjYWxlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0RG9tVXRpbC5zZXRQb3NpdGlvbihsZXZlbC5lbCwgdHJhbnNsYXRlKTtcblx0XHR9XG5cdH0sXG5cblx0X3Jlc2V0R3JpZDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIGNycyA9IG1hcC5vcHRpb25zLmNycyxcblx0XHQgICAgdGlsZVNpemUgPSB0aGlzLl90aWxlU2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUoKSxcblx0XHQgICAgdGlsZVpvb20gPSB0aGlzLl90aWxlWm9vbTtcblxuXHRcdHZhciBib3VuZHMgPSB0aGlzLl9tYXAuZ2V0UGl4ZWxXb3JsZEJvdW5kcyh0aGlzLl90aWxlWm9vbSk7XG5cdFx0aWYgKGJvdW5kcykge1xuXHRcdFx0dGhpcy5fZ2xvYmFsVGlsZVJhbmdlID0gdGhpcy5fcHhCb3VuZHNUb1RpbGVSYW5nZShib3VuZHMpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3dyYXBYID0gY3JzLndyYXBMbmcgJiYgIXRoaXMub3B0aW9ucy5ub1dyYXAgJiYgW1xuXHRcdFx0TWF0aC5mbG9vcihtYXAucHJvamVjdChbMCwgY3JzLndyYXBMbmdbMF1dLCB0aWxlWm9vbSkueCAvIHRpbGVTaXplLngpLFxuXHRcdFx0TWF0aC5jZWlsKG1hcC5wcm9qZWN0KFswLCBjcnMud3JhcExuZ1sxXV0sIHRpbGVab29tKS54IC8gdGlsZVNpemUueSlcblx0XHRdO1xuXHRcdHRoaXMuX3dyYXBZID0gY3JzLndyYXBMYXQgJiYgIXRoaXMub3B0aW9ucy5ub1dyYXAgJiYgW1xuXHRcdFx0TWF0aC5mbG9vcihtYXAucHJvamVjdChbY3JzLndyYXBMYXRbMF0sIDBdLCB0aWxlWm9vbSkueSAvIHRpbGVTaXplLngpLFxuXHRcdFx0TWF0aC5jZWlsKG1hcC5wcm9qZWN0KFtjcnMud3JhcExhdFsxXSwgMF0sIHRpbGVab29tKS55IC8gdGlsZVNpemUueSlcblx0XHRdO1xuXHR9LFxuXG5cdF9vbk1vdmVFbmQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX21hcCB8fCB0aGlzLl9tYXAuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuOyB9XG5cblx0XHR0aGlzLl91cGRhdGUoKTtcblx0fSxcblxuXHRfZ2V0VGlsZWRQaXhlbEJvdW5kczogZnVuY3Rpb24gKGNlbnRlcikge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIG1hcFpvb20gPSBtYXAuX2FuaW1hdGluZ1pvb20gPyBNYXRoLm1heChtYXAuX2FuaW1hdGVUb1pvb20sIG1hcC5nZXRab29tKCkpIDogbWFwLmdldFpvb20oKSxcblx0XHQgICAgc2NhbGUgPSBtYXAuZ2V0Wm9vbVNjYWxlKG1hcFpvb20sIHRoaXMuX3RpbGVab29tKSxcblx0XHQgICAgcGl4ZWxDZW50ZXIgPSBtYXAucHJvamVjdChjZW50ZXIsIHRoaXMuX3RpbGVab29tKS5mbG9vcigpLFxuXHRcdCAgICBoYWxmU2l6ZSA9IG1hcC5nZXRTaXplKCkuZGl2aWRlQnkoc2NhbGUgKiAyKTtcblxuXHRcdHJldHVybiBuZXcgQm91bmRzKHBpeGVsQ2VudGVyLnN1YnRyYWN0KGhhbGZTaXplKSwgcGl4ZWxDZW50ZXIuYWRkKGhhbGZTaXplKSk7XG5cdH0sXG5cblx0Ly8gUHJpdmF0ZSBtZXRob2QgdG8gbG9hZCB0aWxlcyBpbiB0aGUgZ3JpZCdzIGFjdGl2ZSB6b29tIGxldmVsIGFjY29yZGluZyB0byBtYXAgYm91bmRzXG5cdF91cGRhdGU6IGZ1bmN0aW9uIChjZW50ZXIpIHtcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwO1xuXHRcdGlmICghbWFwKSB7IHJldHVybjsgfVxuXHRcdHZhciB6b29tID0gdGhpcy5fY2xhbXBab29tKG1hcC5nZXRab29tKCkpO1xuXG5cdFx0aWYgKGNlbnRlciA9PT0gdW5kZWZpbmVkKSB7IGNlbnRlciA9IG1hcC5nZXRDZW50ZXIoKTsgfVxuXHRcdGlmICh0aGlzLl90aWxlWm9vbSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybjsgfVx0Ly8gaWYgb3V0IG9mIG1pbnpvb20vbWF4em9vbVxuXG5cdFx0dmFyIHBpeGVsQm91bmRzID0gdGhpcy5fZ2V0VGlsZWRQaXhlbEJvdW5kcyhjZW50ZXIpLFxuXHRcdCAgICB0aWxlUmFuZ2UgPSB0aGlzLl9weEJvdW5kc1RvVGlsZVJhbmdlKHBpeGVsQm91bmRzKSxcblx0XHQgICAgdGlsZUNlbnRlciA9IHRpbGVSYW5nZS5nZXRDZW50ZXIoKSxcblx0XHQgICAgcXVldWUgPSBbXSxcblx0XHQgICAgbWFyZ2luID0gdGhpcy5vcHRpb25zLmtlZXBCdWZmZXIsXG5cdFx0ICAgIG5vUHJ1bmVSYW5nZSA9IG5ldyBCb3VuZHModGlsZVJhbmdlLmdldEJvdHRvbUxlZnQoKS5zdWJ0cmFjdChbbWFyZ2luLCAtbWFyZ2luXSksXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVJhbmdlLmdldFRvcFJpZ2h0KCkuYWRkKFttYXJnaW4sIC1tYXJnaW5dKSk7XG5cblx0XHQvLyBTYW5pdHkgY2hlY2s6IHBhbmljIGlmIHRoZSB0aWxlIHJhbmdlIGNvbnRhaW5zIEluZmluaXR5IHNvbWV3aGVyZS5cblx0XHRpZiAoIShpc0Zpbml0ZSh0aWxlUmFuZ2UubWluLngpICYmXG5cdFx0ICAgICAgaXNGaW5pdGUodGlsZVJhbmdlLm1pbi55KSAmJlxuXHRcdCAgICAgIGlzRmluaXRlKHRpbGVSYW5nZS5tYXgueCkgJiZcblx0XHQgICAgICBpc0Zpbml0ZSh0aWxlUmFuZ2UubWF4LnkpKSkgeyB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byBsb2FkIGFuIGluZmluaXRlIG51bWJlciBvZiB0aWxlcycpOyB9XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdHZhciBjID0gdGhpcy5fdGlsZXNba2V5XS5jb29yZHM7XG5cdFx0XHRpZiAoYy56ICE9PSB0aGlzLl90aWxlWm9vbSB8fCAhbm9QcnVuZVJhbmdlLmNvbnRhaW5zKG5ldyBQb2ludChjLngsIGMueSkpKSB7XG5cdFx0XHRcdHRoaXMuX3RpbGVzW2tleV0uY3VycmVudCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIF91cGRhdGUganVzdCBsb2FkcyBtb3JlIHRpbGVzLiBJZiB0aGUgdGlsZSB6b29tIGxldmVsIGRpZmZlcnMgdG9vIG11Y2hcblx0XHQvLyBmcm9tIHRoZSBtYXAncywgbGV0IF9zZXRWaWV3IHJlc2V0IGxldmVscyBhbmQgcHJ1bmUgb2xkIHRpbGVzLlxuXHRcdGlmIChNYXRoLmFicyh6b29tIC0gdGhpcy5fdGlsZVpvb20pID4gMSkgeyB0aGlzLl9zZXRWaWV3KGNlbnRlciwgem9vbSk7IHJldHVybjsgfVxuXG5cdFx0Ly8gY3JlYXRlIGEgcXVldWUgb2YgY29vcmRpbmF0ZXMgdG8gbG9hZCB0aWxlcyBmcm9tXG5cdFx0Zm9yICh2YXIgaiA9IHRpbGVSYW5nZS5taW4ueTsgaiA8PSB0aWxlUmFuZ2UubWF4Lnk7IGorKykge1xuXHRcdFx0Zm9yICh2YXIgaSA9IHRpbGVSYW5nZS5taW4ueDsgaSA8PSB0aWxlUmFuZ2UubWF4Lng7IGkrKykge1xuXHRcdFx0XHR2YXIgY29vcmRzID0gbmV3IFBvaW50KGksIGopO1xuXHRcdFx0XHRjb29yZHMueiA9IHRoaXMuX3RpbGVab29tO1xuXG5cdFx0XHRcdGlmICghdGhpcy5faXNWYWxpZFRpbGUoY29vcmRzKSkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHRcdHZhciB0aWxlID0gdGhpcy5fdGlsZXNbdGhpcy5fdGlsZUNvb3Jkc1RvS2V5KGNvb3JkcyldO1xuXHRcdFx0XHRpZiAodGlsZSkge1xuXHRcdFx0XHRcdHRpbGUuY3VycmVudCA9IHRydWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaChjb29yZHMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gc29ydCB0aWxlIHF1ZXVlIHRvIGxvYWQgdGlsZXMgaW4gb3JkZXIgb2YgdGhlaXIgZGlzdGFuY2UgdG8gY2VudGVyXG5cdFx0cXVldWUuc29ydChmdW5jdGlvbiAoYSwgYikge1xuXHRcdFx0cmV0dXJuIGEuZGlzdGFuY2VUbyh0aWxlQ2VudGVyKSAtIGIuZGlzdGFuY2VUbyh0aWxlQ2VudGVyKTtcblx0XHR9KTtcblxuXHRcdGlmIChxdWV1ZS5sZW5ndGggIT09IDApIHtcblx0XHRcdC8vIGlmIGl0J3MgdGhlIGZpcnN0IGJhdGNoIG9mIHRpbGVzIHRvIGxvYWRcblx0XHRcdGlmICghdGhpcy5fbG9hZGluZykge1xuXHRcdFx0XHR0aGlzLl9sb2FkaW5nID0gdHJ1ZTtcblx0XHRcdFx0Ly8gQGV2ZW50IGxvYWRpbmc6IEV2ZW50XG5cdFx0XHRcdC8vIEZpcmVkIHdoZW4gdGhlIGdyaWQgbGF5ZXIgc3RhcnRzIGxvYWRpbmcgdGlsZXMuXG5cdFx0XHRcdHRoaXMuZmlyZSgnbG9hZGluZycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjcmVhdGUgRE9NIGZyYWdtZW50IHRvIGFwcGVuZCB0aWxlcyBpbiBvbmUgYmF0Y2hcblx0XHRcdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuX2FkZFRpbGUocXVldWVbaV0sIGZyYWdtZW50KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fbGV2ZWwuZWwuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXHRcdH1cblx0fSxcblxuXHRfaXNWYWxpZFRpbGU6IGZ1bmN0aW9uIChjb29yZHMpIHtcblx0XHR2YXIgY3JzID0gdGhpcy5fbWFwLm9wdGlvbnMuY3JzO1xuXG5cdFx0aWYgKCFjcnMuaW5maW5pdGUpIHtcblx0XHRcdC8vIGRvbid0IGxvYWQgdGlsZSBpZiBpdCdzIG91dCBvZiBib3VuZHMgYW5kIG5vdCB3cmFwcGVkXG5cdFx0XHR2YXIgYm91bmRzID0gdGhpcy5fZ2xvYmFsVGlsZVJhbmdlO1xuXHRcdFx0aWYgKCghY3JzLndyYXBMbmcgJiYgKGNvb3Jkcy54IDwgYm91bmRzLm1pbi54IHx8IGNvb3Jkcy54ID4gYm91bmRzLm1heC54KSkgfHxcblx0XHRcdCAgICAoIWNycy53cmFwTGF0ICYmIChjb29yZHMueSA8IGJvdW5kcy5taW4ueSB8fCBjb29yZHMueSA+IGJvdW5kcy5tYXgueSkpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdH1cblxuXHRcdGlmICghdGhpcy5vcHRpb25zLmJvdW5kcykgeyByZXR1cm4gdHJ1ZTsgfVxuXG5cdFx0Ly8gZG9uJ3QgbG9hZCB0aWxlIGlmIGl0IGRvZXNuJ3QgaW50ZXJzZWN0IHRoZSBib3VuZHMgaW4gb3B0aW9uc1xuXHRcdHZhciB0aWxlQm91bmRzID0gdGhpcy5fdGlsZUNvb3Jkc1RvQm91bmRzKGNvb3Jkcyk7XG5cdFx0cmV0dXJuIGxhdExuZ0JvdW5kcyh0aGlzLm9wdGlvbnMuYm91bmRzKS5vdmVybGFwcyh0aWxlQm91bmRzKTtcblx0fSxcblxuXHRfa2V5VG9Cb3VuZHM6IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRyZXR1cm4gdGhpcy5fdGlsZUNvb3Jkc1RvQm91bmRzKHRoaXMuX2tleVRvVGlsZUNvb3JkcyhrZXkpKTtcblx0fSxcblxuXHRfdGlsZUNvb3Jkc1RvTndTZTogZnVuY3Rpb24gKGNvb3Jkcykge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpLFxuXHRcdCAgICBud1BvaW50ID0gY29vcmRzLnNjYWxlQnkodGlsZVNpemUpLFxuXHRcdCAgICBzZVBvaW50ID0gbndQb2ludC5hZGQodGlsZVNpemUpLFxuXHRcdCAgICBudyA9IG1hcC51bnByb2plY3QobndQb2ludCwgY29vcmRzLnopLFxuXHRcdCAgICBzZSA9IG1hcC51bnByb2plY3Qoc2VQb2ludCwgY29vcmRzLnopO1xuXHRcdHJldHVybiBbbncsIHNlXTtcblx0fSxcblxuXHQvLyBjb252ZXJ0cyB0aWxlIGNvb3JkaW5hdGVzIHRvIGl0cyBnZW9ncmFwaGljYWwgYm91bmRzXG5cdF90aWxlQ29vcmRzVG9Cb3VuZHM6IGZ1bmN0aW9uIChjb29yZHMpIHtcblx0XHR2YXIgYnAgPSB0aGlzLl90aWxlQ29vcmRzVG9Od1NlKGNvb3JkcyksXG5cdFx0ICAgIGJvdW5kcyA9IG5ldyBMYXRMbmdCb3VuZHMoYnBbMF0sIGJwWzFdKTtcblxuXHRcdGlmICghdGhpcy5vcHRpb25zLm5vV3JhcCkge1xuXHRcdFx0Ym91bmRzID0gdGhpcy5fbWFwLndyYXBMYXRMbmdCb3VuZHMoYm91bmRzKTtcblx0XHR9XG5cdFx0cmV0dXJuIGJvdW5kcztcblx0fSxcblx0Ly8gY29udmVydHMgdGlsZSBjb29yZGluYXRlcyB0byBrZXkgZm9yIHRoZSB0aWxlIGNhY2hlXG5cdF90aWxlQ29vcmRzVG9LZXk6IGZ1bmN0aW9uIChjb29yZHMpIHtcblx0XHRyZXR1cm4gY29vcmRzLnggKyAnOicgKyBjb29yZHMueSArICc6JyArIGNvb3Jkcy56O1xuXHR9LFxuXG5cdC8vIGNvbnZlcnRzIHRpbGUgY2FjaGUga2V5IHRvIGNvb3JkaW5hdGVzXG5cdF9rZXlUb1RpbGVDb29yZHM6IGZ1bmN0aW9uIChrZXkpIHtcblx0XHR2YXIgayA9IGtleS5zcGxpdCgnOicpLFxuXHRcdCAgICBjb29yZHMgPSBuZXcgUG9pbnQoK2tbMF0sICtrWzFdKTtcblx0XHRjb29yZHMueiA9ICtrWzJdO1xuXHRcdHJldHVybiBjb29yZHM7XG5cdH0sXG5cblx0X3JlbW92ZVRpbGU6IGZ1bmN0aW9uIChrZXkpIHtcblx0XHR2YXIgdGlsZSA9IHRoaXMuX3RpbGVzW2tleV07XG5cdFx0aWYgKCF0aWxlKSB7IHJldHVybjsgfVxuXG5cdFx0RG9tVXRpbC5yZW1vdmUodGlsZS5lbCk7XG5cblx0XHRkZWxldGUgdGhpcy5fdGlsZXNba2V5XTtcblxuXHRcdC8vIEBldmVudCB0aWxldW5sb2FkOiBUaWxlRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIGEgdGlsZSBpcyByZW1vdmVkIChlLmcuIHdoZW4gYSB0aWxlIGdvZXMgb2ZmIHRoZSBzY3JlZW4pLlxuXHRcdHRoaXMuZmlyZSgndGlsZXVubG9hZCcsIHtcblx0XHRcdHRpbGU6IHRpbGUuZWwsXG5cdFx0XHRjb29yZHM6IHRoaXMuX2tleVRvVGlsZUNvb3JkcyhrZXkpXG5cdFx0fSk7XG5cdH0sXG5cblx0X2luaXRUaWxlOiBmdW5jdGlvbiAodGlsZSkge1xuXHRcdERvbVV0aWwuYWRkQ2xhc3ModGlsZSwgJ2xlYWZsZXQtdGlsZScpO1xuXG5cdFx0dmFyIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpO1xuXHRcdHRpbGUuc3R5bGUud2lkdGggPSB0aWxlU2l6ZS54ICsgJ3B4Jztcblx0XHR0aWxlLnN0eWxlLmhlaWdodCA9IHRpbGVTaXplLnkgKyAncHgnO1xuXG5cdFx0dGlsZS5vbnNlbGVjdHN0YXJ0ID0gVXRpbC5mYWxzZUZuO1xuXHRcdHRpbGUub25tb3VzZW1vdmUgPSBVdGlsLmZhbHNlRm47XG5cblx0XHQvLyB1cGRhdGUgb3BhY2l0eSBvbiB0aWxlcyBpbiBJRTctOCBiZWNhdXNlIG9mIGZpbHRlciBpbmhlcml0YW5jZSBwcm9ibGVtc1xuXHRcdGlmIChCcm93c2VyLmllbHQ5ICYmIHRoaXMub3B0aW9ucy5vcGFjaXR5IDwgMSkge1xuXHRcdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRpbGUsIHRoaXMub3B0aW9ucy5vcGFjaXR5KTtcblx0XHR9XG5cdH0sXG5cblx0X2FkZFRpbGU6IGZ1bmN0aW9uIChjb29yZHMsIGNvbnRhaW5lcikge1xuXHRcdHZhciB0aWxlUG9zID0gdGhpcy5fZ2V0VGlsZVBvcyhjb29yZHMpLFxuXHRcdCAgICBrZXkgPSB0aGlzLl90aWxlQ29vcmRzVG9LZXkoY29vcmRzKTtcblxuXHRcdHZhciB0aWxlID0gdGhpcy5jcmVhdGVUaWxlKHRoaXMuX3dyYXBDb29yZHMoY29vcmRzKSwgVXRpbC5iaW5kKHRoaXMuX3RpbGVSZWFkeSwgdGhpcywgY29vcmRzKSk7XG5cblx0XHR0aGlzLl9pbml0VGlsZSh0aWxlKTtcblxuXHRcdC8vIGlmIGNyZWF0ZVRpbGUgaXMgZGVmaW5lZCB3aXRoIGEgc2Vjb25kIGFyZ3VtZW50IChcImRvbmVcIiBjYWxsYmFjayksXG5cdFx0Ly8gd2Uga25vdyB0aGF0IHRpbGUgaXMgYXN5bmMgYW5kIHdpbGwgYmUgcmVhZHkgbGF0ZXI7IG90aGVyd2lzZVxuXHRcdGlmICh0aGlzLmNyZWF0ZVRpbGUubGVuZ3RoIDwgMikge1xuXHRcdFx0Ly8gbWFyayB0aWxlIGFzIHJlYWR5LCBidXQgZGVsYXkgb25lIGZyYW1lIGZvciBvcGFjaXR5IGFuaW1hdGlvbiB0byBoYXBwZW5cblx0XHRcdFV0aWwucmVxdWVzdEFuaW1GcmFtZShVdGlsLmJpbmQodGhpcy5fdGlsZVJlYWR5LCB0aGlzLCBjb29yZHMsIG51bGwsIHRpbGUpKTtcblx0XHR9XG5cblx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRpbGUsIHRpbGVQb3MpO1xuXG5cdFx0Ly8gc2F2ZSB0aWxlIGluIGNhY2hlXG5cdFx0dGhpcy5fdGlsZXNba2V5XSA9IHtcblx0XHRcdGVsOiB0aWxlLFxuXHRcdFx0Y29vcmRzOiBjb29yZHMsXG5cdFx0XHRjdXJyZW50OiB0cnVlXG5cdFx0fTtcblxuXHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aWxlKTtcblx0XHQvLyBAZXZlbnQgdGlsZWxvYWRzdGFydDogVGlsZUV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiBhIHRpbGUgaXMgcmVxdWVzdGVkIGFuZCBzdGFydHMgbG9hZGluZy5cblx0XHR0aGlzLmZpcmUoJ3RpbGVsb2Fkc3RhcnQnLCB7XG5cdFx0XHR0aWxlOiB0aWxlLFxuXHRcdFx0Y29vcmRzOiBjb29yZHNcblx0XHR9KTtcblx0fSxcblxuXHRfdGlsZVJlYWR5OiBmdW5jdGlvbiAoY29vcmRzLCBlcnIsIHRpbGUpIHtcblx0XHRpZiAoZXJyKSB7XG5cdFx0XHQvLyBAZXZlbnQgdGlsZWVycm9yOiBUaWxlRXJyb3JFdmVudFxuXHRcdFx0Ly8gRmlyZWQgd2hlbiB0aGVyZSBpcyBhbiBlcnJvciBsb2FkaW5nIGEgdGlsZS5cblx0XHRcdHRoaXMuZmlyZSgndGlsZWVycm9yJywge1xuXHRcdFx0XHRlcnJvcjogZXJyLFxuXHRcdFx0XHR0aWxlOiB0aWxlLFxuXHRcdFx0XHRjb29yZHM6IGNvb3Jkc1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dmFyIGtleSA9IHRoaXMuX3RpbGVDb29yZHNUb0tleShjb29yZHMpO1xuXG5cdFx0dGlsZSA9IHRoaXMuX3RpbGVzW2tleV07XG5cdFx0aWYgKCF0aWxlKSB7IHJldHVybjsgfVxuXG5cdFx0dGlsZS5sb2FkZWQgPSArbmV3IERhdGUoKTtcblx0XHRpZiAodGhpcy5fbWFwLl9mYWRlQW5pbWF0ZWQpIHtcblx0XHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aWxlLmVsLCAwKTtcblx0XHRcdFV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2ZhZGVGcmFtZSk7XG5cdFx0XHR0aGlzLl9mYWRlRnJhbWUgPSBVdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fdXBkYXRlT3BhY2l0eSwgdGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRpbGUuYWN0aXZlID0gdHJ1ZTtcblx0XHRcdHRoaXMuX3BydW5lVGlsZXMoKTtcblx0XHR9XG5cblx0XHRpZiAoIWVycikge1xuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aWxlLmVsLCAnbGVhZmxldC10aWxlLWxvYWRlZCcpO1xuXG5cdFx0XHQvLyBAZXZlbnQgdGlsZWxvYWQ6IFRpbGVFdmVudFxuXHRcdFx0Ly8gRmlyZWQgd2hlbiBhIHRpbGUgbG9hZHMuXG5cdFx0XHR0aGlzLmZpcmUoJ3RpbGVsb2FkJywge1xuXHRcdFx0XHR0aWxlOiB0aWxlLmVsLFxuXHRcdFx0XHRjb29yZHM6IGNvb3Jkc1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX25vVGlsZXNUb0xvYWQoKSkge1xuXHRcdFx0dGhpcy5fbG9hZGluZyA9IGZhbHNlO1xuXHRcdFx0Ly8gQGV2ZW50IGxvYWQ6IEV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIHRoZSBncmlkIGxheWVyIGxvYWRlZCBhbGwgdmlzaWJsZSB0aWxlcy5cblx0XHRcdHRoaXMuZmlyZSgnbG9hZCcpO1xuXG5cdFx0XHRpZiAoQnJvd3Nlci5pZWx0OSB8fCAhdGhpcy5fbWFwLl9mYWRlQW5pbWF0ZWQpIHtcblx0XHRcdFx0VXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3BydW5lVGlsZXMsIHRoaXMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gV2FpdCBhIGJpdCBtb3JlIHRoYW4gMC4yIHNlY3MgKHRoZSBkdXJhdGlvbiBvZiB0aGUgdGlsZSBmYWRlLWluKVxuXHRcdFx0XHQvLyB0byB0cmlnZ2VyIGEgcHJ1bmluZy5cblx0XHRcdFx0c2V0VGltZW91dChVdGlsLmJpbmQodGhpcy5fcHJ1bmVUaWxlcywgdGhpcyksIDI1MCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9nZXRUaWxlUG9zOiBmdW5jdGlvbiAoY29vcmRzKSB7XG5cdFx0cmV0dXJuIGNvb3Jkcy5zY2FsZUJ5KHRoaXMuZ2V0VGlsZVNpemUoKSkuc3VidHJhY3QodGhpcy5fbGV2ZWwub3JpZ2luKTtcblx0fSxcblxuXHRfd3JhcENvb3JkczogZnVuY3Rpb24gKGNvb3Jkcykge1xuXHRcdHZhciBuZXdDb29yZHMgPSBuZXcgUG9pbnQoXG5cdFx0XHR0aGlzLl93cmFwWCA/IFV0aWwud3JhcE51bShjb29yZHMueCwgdGhpcy5fd3JhcFgpIDogY29vcmRzLngsXG5cdFx0XHR0aGlzLl93cmFwWSA/IFV0aWwud3JhcE51bShjb29yZHMueSwgdGhpcy5fd3JhcFkpIDogY29vcmRzLnkpO1xuXHRcdG5ld0Nvb3Jkcy56ID0gY29vcmRzLno7XG5cdFx0cmV0dXJuIG5ld0Nvb3Jkcztcblx0fSxcblxuXHRfcHhCb3VuZHNUb1RpbGVSYW5nZTogZnVuY3Rpb24gKGJvdW5kcykge1xuXHRcdHZhciB0aWxlU2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUoKTtcblx0XHRyZXR1cm4gbmV3IEJvdW5kcyhcblx0XHRcdGJvdW5kcy5taW4udW5zY2FsZUJ5KHRpbGVTaXplKS5mbG9vcigpLFxuXHRcdFx0Ym91bmRzLm1heC51bnNjYWxlQnkodGlsZVNpemUpLmNlaWwoKS5zdWJ0cmFjdChbMSwgMV0pKTtcblx0fSxcblxuXHRfbm9UaWxlc1RvTG9hZDogZnVuY3Rpb24gKCkge1xuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0aWYgKCF0aGlzLl90aWxlc1trZXldLmxvYWRlZCkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn0pO1xuXG4vLyBAZmFjdG9yeSBMLmdyaWRMYXllcihvcHRpb25zPzogR3JpZExheWVyIG9wdGlvbnMpXG4vLyBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIEdyaWRMYXllciB3aXRoIHRoZSBzdXBwbGllZCBvcHRpb25zLlxuZXhwb3J0IGZ1bmN0aW9uIGdyaWRMYXllcihvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgR3JpZExheWVyKG9wdGlvbnMpO1xufVxuIiwgImltcG9ydCB7R3JpZExheWVyfSBmcm9tICcuL0dyaWRMYXllcic7XHJcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uLy4uL2NvcmUvQnJvd3Nlcic7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcclxuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vLi4vZG9tL0RvbUV2ZW50JztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XHJcblxyXG5cclxuLypcclxuICogQGNsYXNzIFRpbGVMYXllclxyXG4gKiBAaW5oZXJpdHMgR3JpZExheWVyXHJcbiAqIEBha2EgTC5UaWxlTGF5ZXJcclxuICogVXNlZCB0byBsb2FkIGFuZCBkaXNwbGF5IHRpbGUgbGF5ZXJzIG9uIHRoZSBtYXAuIE5vdGUgdGhhdCBtb3N0IHRpbGUgc2VydmVycyByZXF1aXJlIGF0dHJpYnV0aW9uLCB3aGljaCB5b3UgY2FuIHNldCB1bmRlciBgTGF5ZXJgLiBFeHRlbmRzIGBHcmlkTGF5ZXJgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBMLnRpbGVMYXllcignaHR0cHM6Ly90aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZz97Zm9vfScsIHtmb286ICdiYXInLCBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJ30pLmFkZFRvKG1hcCk7XG4gKiBgYGBcclxuICpcclxuICogQHNlY3Rpb24gVVJMIHRlbXBsYXRlXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIEEgc3RyaW5nIG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcclxuICpcclxuICogYGBgXHJcbiAqICdodHRwczovL3tzfS5zb21lZG9tYWluLmNvbS9ibGFibGEve3p9L3t4fS97eX17cn0ucG5nJ1xyXG4gKiBgYGBcclxuICpcclxuICogYHtzfWAgbWVhbnMgb25lIG9mIHRoZSBhdmFpbGFibGUgc3ViZG9tYWlucyAodXNlZCBzZXF1ZW50aWFsbHkgdG8gaGVscCB3aXRoIGJyb3dzZXIgcGFyYWxsZWwgcmVxdWVzdHMgcGVyIGRvbWFpbiBsaW1pdGF0aW9uOyBzdWJkb21haW4gdmFsdWVzIGFyZSBzcGVjaWZpZWQgaW4gb3B0aW9uczsgYGFgLCBgYmAgb3IgYGNgIGJ5IGRlZmF1bHQsIGNhbiBiZSBvbWl0dGVkKSwgYHt6fWAg4oCUIHpvb20gbGV2ZWwsIGB7eH1gIGFuZCBge3l9YCDigJQgdGlsZSBjb29yZGluYXRlcy4gYHtyfWAgY2FuIGJlIHVzZWQgdG8gYWRkIFwiJmNvbW1hdDsyeFwiIHRvIHRoZSBVUkwgdG8gbG9hZCByZXRpbmEgdGlsZXMuXHJcbiAqXHJcbiAqIFlvdSBjYW4gdXNlIGN1c3RvbSBrZXlzIGluIHRoZSB0ZW1wbGF0ZSwgd2hpY2ggd2lsbCBiZSBbZXZhbHVhdGVkXSgjdXRpbC10ZW1wbGF0ZSkgZnJvbSBUaWxlTGF5ZXIgb3B0aW9ucywgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBcclxuICogTC50aWxlTGF5ZXIoJ2h0dHBzOi8ve3N9LnNvbWVkb21haW4uY29tL3tmb299L3t6fS97eH0ve3l9LnBuZycsIHtmb286ICdiYXInfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcblxyXG5leHBvcnQgdmFyIFRpbGVMYXllciA9IEdyaWRMYXllci5leHRlbmQoe1xyXG5cclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgVGlsZUxheWVyIG9wdGlvbnNcclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIG1pblpvb206IE51bWJlciA9IDBcclxuXHRcdC8vIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZG93biB0byB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmUgZGlzcGxheWVkIChpbmNsdXNpdmUpLlxyXG5cdFx0bWluWm9vbTogMCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1heFpvb206IE51bWJlciA9IDE4XHJcblx0XHQvLyBUaGUgbWF4aW11bSB6b29tIGxldmVsIHVwIHRvIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZSBkaXNwbGF5ZWQgKGluY2x1c2l2ZSkuXHJcblx0XHRtYXhab29tOiAxOCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHN1YmRvbWFpbnM6IFN0cmluZ3xTdHJpbmdbXSA9ICdhYmMnXHJcblx0XHQvLyBTdWJkb21haW5zIG9mIHRoZSB0aWxlIHNlcnZpY2UuIENhbiBiZSBwYXNzZWQgaW4gdGhlIGZvcm0gb2Ygb25lIHN0cmluZyAod2hlcmUgZWFjaCBsZXR0ZXIgaXMgYSBzdWJkb21haW4gbmFtZSkgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cclxuXHRcdHN1YmRvbWFpbnM6ICdhYmMnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gZXJyb3JUaWxlVXJsOiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gVVJMIHRvIHRoZSB0aWxlIGltYWdlIHRvIHNob3cgaW4gcGxhY2Ugb2YgdGhlIHRpbGUgdGhhdCBmYWlsZWQgdG8gbG9hZC5cclxuXHRcdGVycm9yVGlsZVVybDogJycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tT2Zmc2V0OiBOdW1iZXIgPSAwXHJcblx0XHQvLyBUaGUgem9vbSBudW1iZXIgdXNlZCBpbiB0aWxlIFVSTHMgd2lsbCBiZSBvZmZzZXQgd2l0aCB0aGlzIHZhbHVlLlxyXG5cdFx0em9vbU9mZnNldDogMCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHRtczogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIGludmVyc2VzIFkgYXhpcyBudW1iZXJpbmcgZm9yIHRpbGVzICh0dXJuIHRoaXMgb24gZm9yIFtUTVNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RpbGVfTWFwX1NlcnZpY2UpIHNlcnZpY2VzKS5cclxuXHRcdHRtczogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tUmV2ZXJzZTogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIHpvb20gbnVtYmVyIHVzZWQgaW4gdGlsZSBVUkxzIHdpbGwgYmUgcmV2ZXJzZWQgKGBtYXhab29tIC0gem9vbWAgaW5zdGVhZCBvZiBgem9vbWApXHJcblx0XHR6b29tUmV2ZXJzZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBkZXRlY3RSZXRpbmE6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgYHRydWVgIGFuZCB1c2VyIGlzIG9uIGEgcmV0aW5hIGRpc3BsYXksIGl0IHdpbGwgcmVxdWVzdCBmb3VyIHRpbGVzIG9mIGhhbGYgdGhlIHNwZWNpZmllZCBzaXplIGFuZCBhIGJpZ2dlciB6b29tIGxldmVsIGluIHBsYWNlIG9mIG9uZSB0byB1dGlsaXplIHRoZSBoaWdoIHJlc29sdXRpb24uXHJcblx0XHRkZXRlY3RSZXRpbmE6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gY3Jvc3NPcmlnaW46IEJvb2xlYW58U3RyaW5nID0gZmFsc2VcclxuXHRcdC8vIFdoZXRoZXIgdGhlIGNyb3NzT3JpZ2luIGF0dHJpYnV0ZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSB0aWxlcy5cclxuXHRcdC8vIElmIGEgU3RyaW5nIGlzIHByb3ZpZGVkLCBhbGwgdGlsZXMgd2lsbCBoYXZlIHRoZWlyIGNyb3NzT3JpZ2luIGF0dHJpYnV0ZSBzZXQgdG8gdGhlIFN0cmluZyBwcm92aWRlZC4gVGhpcyBpcyBuZWVkZWQgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHRpbGUgcGl4ZWwgZGF0YS5cclxuXHRcdC8vIFJlZmVyIHRvIFtDT1JTIFNldHRpbmdzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfc2V0dGluZ3NfYXR0cmlidXRlcykgZm9yIHZhbGlkIFN0cmluZyB2YWx1ZXMuXHJcblx0XHRjcm9zc09yaWdpbjogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiByZWZlcnJlclBvbGljeTogQm9vbGVhbnxTdHJpbmcgPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgcmVmZXJyZXJQb2xpY3kgYXR0cmlidXRlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHRpbGVzLlxyXG5cdFx0Ly8gSWYgYSBTdHJpbmcgaXMgcHJvdmlkZWQsIGFsbCB0aWxlcyB3aWxsIGhhdmUgdGhlaXIgcmVmZXJyZXJQb2xpY3kgYXR0cmlidXRlIHNldCB0byB0aGUgU3RyaW5nIHByb3ZpZGVkLlxyXG5cdFx0Ly8gVGhpcyBtYXkgYmUgbmVlZGVkIGlmIHlvdXIgbWFwJ3MgcmVuZGVyaW5nIGNvbnRleHQgaGFzIGEgc3RyaWN0IGRlZmF1bHQgYnV0IHlvdXIgdGlsZSBwcm92aWRlciBleHBlY3RzIGEgdmFsaWQgcmVmZXJyZXJcclxuXHRcdC8vIChlLmcuIHRvIHZhbGlkYXRlIGFuIEFQSSB0b2tlbikuXHJcblx0XHQvLyBSZWZlciB0byBbSFRNTEltYWdlRWxlbWVudC5yZWZlcnJlclBvbGljeV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxJbWFnZUVsZW1lbnQvcmVmZXJyZXJQb2xpY3kpIGZvciB2YWxpZCBTdHJpbmcgdmFsdWVzLlxyXG5cdFx0cmVmZXJyZXJQb2xpY3k6IGZhbHNlXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHJcblx0XHRvcHRpb25zID0gVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdC8vIGRldGVjdGluZyByZXRpbmEgZGlzcGxheXMsIGFkanVzdGluZyB0aWxlU2l6ZSBhbmQgem9vbSBsZXZlbHNcclxuXHRcdGlmIChvcHRpb25zLmRldGVjdFJldGluYSAmJiBCcm93c2VyLnJldGluYSAmJiBvcHRpb25zLm1heFpvb20gPiAwKSB7XHJcblxyXG5cdFx0XHRvcHRpb25zLnRpbGVTaXplID0gTWF0aC5mbG9vcihvcHRpb25zLnRpbGVTaXplIC8gMik7XHJcblxyXG5cdFx0XHRpZiAoIW9wdGlvbnMuem9vbVJldmVyc2UpIHtcclxuXHRcdFx0XHRvcHRpb25zLnpvb21PZmZzZXQrKztcclxuXHRcdFx0XHRvcHRpb25zLm1heFpvb20gPSBNYXRoLm1heChvcHRpb25zLm1pblpvb20sIG9wdGlvbnMubWF4Wm9vbSAtIDEpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG9wdGlvbnMuem9vbU9mZnNldC0tO1xyXG5cdFx0XHRcdG9wdGlvbnMubWluWm9vbSA9IE1hdGgubWluKG9wdGlvbnMubWF4Wm9vbSwgb3B0aW9ucy5taW5ab29tICsgMSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG9wdGlvbnMubWluWm9vbSA9IE1hdGgubWF4KDAsIG9wdGlvbnMubWluWm9vbSk7XHJcblx0XHR9IGVsc2UgaWYgKCFvcHRpb25zLnpvb21SZXZlcnNlKSB7XHJcblx0XHRcdC8vIG1ha2Ugc3VyZSBtYXhab29tIGlzIGd0ZSBtaW5ab29tXHJcblx0XHRcdG9wdGlvbnMubWF4Wm9vbSA9IE1hdGgubWF4KG9wdGlvbnMubWluWm9vbSwgb3B0aW9ucy5tYXhab29tKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIG1ha2Ugc3VyZSBtaW5ab29tIGlzIGx0ZSBtYXhab29tXHJcblx0XHRcdG9wdGlvbnMubWluWm9vbSA9IE1hdGgubWluKG9wdGlvbnMubWF4Wm9vbSwgb3B0aW9ucy5taW5ab29tKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuc3ViZG9tYWlucyA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0b3B0aW9ucy5zdWJkb21haW5zID0gb3B0aW9ucy5zdWJkb21haW5zLnNwbGl0KCcnKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLm9uKCd0aWxldW5sb2FkJywgdGhpcy5fb25UaWxlUmVtb3ZlKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFVybCh1cmw6IFN0cmluZywgbm9SZWRyYXc/OiBCb29sZWFuKTogdGhpc1xyXG5cdC8vIFVwZGF0ZXMgdGhlIGxheWVyJ3MgVVJMIHRlbXBsYXRlIGFuZCByZWRyYXdzIGl0ICh1bmxlc3MgYG5vUmVkcmF3YCBpcyBzZXQgdG8gYHRydWVgKS5cclxuXHQvLyBJZiB0aGUgVVJMIGRvZXMgbm90IGNoYW5nZSwgdGhlIGxheWVyIHdpbGwgbm90IGJlIHJlZHJhd24gdW5sZXNzXHJcblx0Ly8gdGhlIG5vUmVkcmF3IHBhcmFtZXRlciBpcyBzZXQgdG8gZmFsc2UuXHJcblx0c2V0VXJsOiBmdW5jdGlvbiAodXJsLCBub1JlZHJhdykge1xyXG5cdFx0aWYgKHRoaXMuX3VybCA9PT0gdXJsICYmIG5vUmVkcmF3ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0bm9SZWRyYXcgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHJcblx0XHRpZiAoIW5vUmVkcmF3KSB7XHJcblx0XHRcdHRoaXMucmVkcmF3KCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNyZWF0ZVRpbGUoY29vcmRzOiBPYmplY3QsIGRvbmU/OiBGdW5jdGlvbik6IEhUTUxFbGVtZW50XHJcblx0Ly8gQ2FsbGVkIG9ubHkgaW50ZXJuYWxseSwgb3ZlcnJpZGVzIEdyaWRMYXllcidzIFtgY3JlYXRlVGlsZSgpYF0oI2dyaWRsYXllci1jcmVhdGV0aWxlKVxyXG5cdC8vIHRvIHJldHVybiBhbiBgPGltZz5gIEhUTUwgZWxlbWVudCB3aXRoIHRoZSBhcHByb3ByaWF0ZSBpbWFnZSBVUkwgZ2l2ZW4gYGNvb3Jkc2AuIFRoZSBgZG9uZWBcclxuXHQvLyBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiB0aGUgdGlsZSBoYXMgYmVlbiBsb2FkZWQuXHJcblx0Y3JlYXRlVGlsZTogZnVuY3Rpb24gKGNvb3JkcywgZG9uZSkge1xyXG5cdFx0dmFyIHRpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHJcblx0XHREb21FdmVudC5vbih0aWxlLCAnbG9hZCcsIFV0aWwuYmluZCh0aGlzLl90aWxlT25Mb2FkLCB0aGlzLCBkb25lLCB0aWxlKSk7XHJcblx0XHREb21FdmVudC5vbih0aWxlLCAnZXJyb3InLCBVdGlsLmJpbmQodGhpcy5fdGlsZU9uRXJyb3IsIHRoaXMsIGRvbmUsIHRpbGUpKTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luIHx8IHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gJycpIHtcclxuXHRcdFx0dGlsZS5jcm9zc09yaWdpbiA9IHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICcnIDogdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGZvciB0aGlzIG5ldyBvcHRpb24gd2UgZm9sbG93IHRoZSBkb2N1bWVudGVkIGJlaGF2aW9yXHJcblx0XHQvLyBtb3JlIGNsb3NlbHkgYnkgb25seSBzZXR0aW5nIHRoZSBwcm9wZXJ0eSB3aGVuIHN0cmluZ1xyXG5cdFx0aWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMucmVmZXJyZXJQb2xpY3kgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHRpbGUucmVmZXJyZXJQb2xpY3kgPSB0aGlzLm9wdGlvbnMucmVmZXJyZXJQb2xpY3k7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVGhlIGFsdCBhdHRyaWJ1dGUgaXMgc2V0IHRvIHRoZSBlbXB0eSBzdHJpbmcsXHJcblx0XHQvLyBhbGxvd2luZyBzY3JlZW4gcmVhZGVycyB0byBpZ25vcmUgdGhlIGRlY29yYXRpdmUgaW1hZ2UgdGlsZXMuXHJcblx0XHQvLyBodHRwczovL3d3dy53My5vcmcvV0FJL3R1dG9yaWFscy9pbWFnZXMvZGVjb3JhdGl2ZS9cclxuXHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sLWFyaWEvI2VsLWltZy1lbXB0eS1hbHRcclxuXHRcdHRpbGUuYWx0ID0gJyc7XHJcblxyXG5cdFx0dGlsZS5zcmMgPSB0aGlzLmdldFRpbGVVcmwoY29vcmRzKTtcclxuXHJcblx0XHRyZXR1cm4gdGlsZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAc2VjdGlvbiBFeHRlbnNpb24gbWV0aG9kc1xyXG5cdC8vIEB1bmluaGVyaXRhYmxlXHJcblx0Ly8gTGF5ZXJzIGV4dGVuZGluZyBgVGlsZUxheWVyYCBtaWdodCByZWltcGxlbWVudCB0aGUgZm9sbG93aW5nIG1ldGhvZC5cclxuXHQvLyBAbWV0aG9kIGdldFRpbGVVcmwoY29vcmRzOiBPYmplY3QpOiBTdHJpbmdcclxuXHQvLyBDYWxsZWQgb25seSBpbnRlcm5hbGx5LCByZXR1cm5zIHRoZSBVUkwgZm9yIGEgdGlsZSBnaXZlbiBpdHMgY29vcmRpbmF0ZXMuXHJcblx0Ly8gQ2xhc3NlcyBleHRlbmRpbmcgYFRpbGVMYXllcmAgY2FuIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gdG8gcHJvdmlkZSBjdXN0b20gdGlsZSBVUkwgbmFtaW5nIHNjaGVtZXMuXHJcblx0Z2V0VGlsZVVybDogZnVuY3Rpb24gKGNvb3Jkcykge1xyXG5cdFx0dmFyIGRhdGEgPSB7XHJcblx0XHRcdHI6IEJyb3dzZXIucmV0aW5hID8gJ0AyeCcgOiAnJyxcclxuXHRcdFx0czogdGhpcy5fZ2V0U3ViZG9tYWluKGNvb3JkcyksXHJcblx0XHRcdHg6IGNvb3Jkcy54LFxyXG5cdFx0XHR5OiBjb29yZHMueSxcclxuXHRcdFx0ejogdGhpcy5fZ2V0Wm9vbUZvclVybCgpXHJcblx0XHR9O1xyXG5cdFx0aWYgKHRoaXMuX21hcCAmJiAhdGhpcy5fbWFwLm9wdGlvbnMuY3JzLmluZmluaXRlKSB7XHJcblx0XHRcdHZhciBpbnZlcnRlZFkgPSB0aGlzLl9nbG9iYWxUaWxlUmFuZ2UubWF4LnkgLSBjb29yZHMueTtcclxuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy50bXMpIHtcclxuXHRcdFx0XHRkYXRhWyd5J10gPSBpbnZlcnRlZFk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZGF0YVsnLXknXSA9IGludmVydGVkWTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gVXRpbC50ZW1wbGF0ZSh0aGlzLl91cmwsIFV0aWwuZXh0ZW5kKGRhdGEsIHRoaXMub3B0aW9ucykpO1xyXG5cdH0sXHJcblxyXG5cdF90aWxlT25Mb2FkOiBmdW5jdGlvbiAoZG9uZSwgdGlsZSkge1xyXG5cdFx0Ly8gRm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzMzMzJcclxuXHRcdGlmIChCcm93c2VyLmllbHQ5KSB7XHJcblx0XHRcdHNldFRpbWVvdXQoVXRpbC5iaW5kKGRvbmUsIHRoaXMsIG51bGwsIHRpbGUpLCAwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGRvbmUobnVsbCwgdGlsZSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3RpbGVPbkVycm9yOiBmdW5jdGlvbiAoZG9uZSwgdGlsZSwgZSkge1xyXG5cdFx0dmFyIGVycm9yVXJsID0gdGhpcy5vcHRpb25zLmVycm9yVGlsZVVybDtcclxuXHRcdGlmIChlcnJvclVybCAmJiB0aWxlLmdldEF0dHJpYnV0ZSgnc3JjJykgIT09IGVycm9yVXJsKSB7XHJcblx0XHRcdHRpbGUuc3JjID0gZXJyb3JVcmw7XHJcblx0XHR9XHJcblx0XHRkb25lKGUsIHRpbGUpO1xyXG5cdH0sXHJcblxyXG5cdF9vblRpbGVSZW1vdmU6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRlLnRpbGUub25sb2FkID0gbnVsbDtcclxuXHR9LFxyXG5cclxuXHRfZ2V0Wm9vbUZvclVybDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHpvb20gPSB0aGlzLl90aWxlWm9vbSxcclxuXHRcdG1heFpvb20gPSB0aGlzLm9wdGlvbnMubWF4Wm9vbSxcclxuXHRcdHpvb21SZXZlcnNlID0gdGhpcy5vcHRpb25zLnpvb21SZXZlcnNlLFxyXG5cdFx0em9vbU9mZnNldCA9IHRoaXMub3B0aW9ucy56b29tT2Zmc2V0O1xyXG5cclxuXHRcdGlmICh6b29tUmV2ZXJzZSkge1xyXG5cdFx0XHR6b29tID0gbWF4Wm9vbSAtIHpvb207XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHpvb20gKyB6b29tT2Zmc2V0O1xyXG5cdH0sXHJcblxyXG5cdF9nZXRTdWJkb21haW46IGZ1bmN0aW9uICh0aWxlUG9pbnQpIHtcclxuXHRcdHZhciBpbmRleCA9IE1hdGguYWJzKHRpbGVQb2ludC54ICsgdGlsZVBvaW50LnkpICUgdGhpcy5vcHRpb25zLnN1YmRvbWFpbnMubGVuZ3RoO1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5zdWJkb21haW5zW2luZGV4XTtcclxuXHR9LFxyXG5cclxuXHQvLyBzdG9wcyBsb2FkaW5nIGFsbCB0aWxlcyBpbiB0aGUgYmFja2dyb3VuZCBsYXllclxyXG5cdF9hYm9ydExvYWRpbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBpLCB0aWxlO1xyXG5cdFx0Zm9yIChpIGluIHRoaXMuX3RpbGVzKSB7XHJcblx0XHRcdGlmICh0aGlzLl90aWxlc1tpXS5jb29yZHMueiAhPT0gdGhpcy5fdGlsZVpvb20pIHtcclxuXHRcdFx0XHR0aWxlID0gdGhpcy5fdGlsZXNbaV0uZWw7XHJcblxyXG5cdFx0XHRcdHRpbGUub25sb2FkID0gVXRpbC5mYWxzZUZuO1xyXG5cdFx0XHRcdHRpbGUub25lcnJvciA9IFV0aWwuZmFsc2VGbjtcclxuXHJcblx0XHRcdFx0aWYgKCF0aWxlLmNvbXBsZXRlKSB7XHJcblx0XHRcdFx0XHR0aWxlLnNyYyA9IFV0aWwuZW1wdHlJbWFnZVVybDtcclxuXHRcdFx0XHRcdHZhciBjb29yZHMgPSB0aGlzLl90aWxlc1tpXS5jb29yZHM7XHJcblx0XHRcdFx0XHREb21VdGlsLnJlbW92ZSh0aWxlKTtcclxuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLl90aWxlc1tpXTtcclxuXHRcdFx0XHRcdC8vIEBldmVudCB0aWxlYWJvcnQ6IFRpbGVFdmVudFxyXG5cdFx0XHRcdFx0Ly8gRmlyZWQgd2hlbiBhIHRpbGUgd2FzIGxvYWRpbmcgYnV0IGlzIG5vdyBub3Qgd2FudGVkLlxyXG5cdFx0XHRcdFx0dGhpcy5maXJlKCd0aWxlYWJvcnQnLCB7XHJcblx0XHRcdFx0XHRcdHRpbGU6IHRpbGUsXHJcblx0XHRcdFx0XHRcdGNvb3JkczogY29vcmRzXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfcmVtb3ZlVGlsZTogZnVuY3Rpb24gKGtleSkge1xyXG5cdFx0dmFyIHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xyXG5cdFx0aWYgKCF0aWxlKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdC8vIENhbmNlbHMgYW55IHBlbmRpbmcgaHR0cCByZXF1ZXN0cyBhc3NvY2lhdGVkIHdpdGggdGhlIHRpbGVcclxuXHRcdHRpbGUuZWwuc2V0QXR0cmlidXRlKCdzcmMnLCBVdGlsLmVtcHR5SW1hZ2VVcmwpO1xyXG5cclxuXHRcdHJldHVybiBHcmlkTGF5ZXIucHJvdG90eXBlLl9yZW1vdmVUaWxlLmNhbGwodGhpcywga2V5KTtcclxuXHR9LFxyXG5cclxuXHRfdGlsZVJlYWR5OiBmdW5jdGlvbiAoY29vcmRzLCBlcnIsIHRpbGUpIHtcclxuXHRcdGlmICghdGhpcy5fbWFwIHx8ICh0aWxlICYmIHRpbGUuZ2V0QXR0cmlidXRlKCdzcmMnKSA9PT0gVXRpbC5lbXB0eUltYWdlVXJsKSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIEdyaWRMYXllci5wcm90b3R5cGUuX3RpbGVSZWFkeS5jYWxsKHRoaXMsIGNvb3JkcywgZXJyLCB0aWxlKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbi8vIEBmYWN0b3J5IEwudGlsZWxheWVyKHVybFRlbXBsYXRlOiBTdHJpbmcsIG9wdGlvbnM/OiBUaWxlTGF5ZXIgb3B0aW9ucylcclxuLy8gSW5zdGFudGlhdGVzIGEgdGlsZSBsYXllciBvYmplY3QgZ2l2ZW4gYSBgVVJMIHRlbXBsYXRlYCBhbmQgb3B0aW9uYWxseSBhbiBvcHRpb25zIG9iamVjdC5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0aWxlTGF5ZXIodXJsLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBUaWxlTGF5ZXIodXJsLCBvcHRpb25zKTtcclxufVxyXG4iLCAiaW1wb3J0IHtUaWxlTGF5ZXJ9IGZyb20gJy4vVGlsZUxheWVyJztcclxuaW1wb3J0IHtleHRlbmQsIHNldE9wdGlvbnMsIGdldFBhcmFtU3RyaW5nfSBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi8uLi9jb3JlL0Jyb3dzZXInO1xyXG5pbXBvcnQge0VQU0c0MzI2fSBmcm9tICcuLi8uLi9nZW8vY3JzL0NSUy5FUFNHNDMyNic7XHJcbmltcG9ydCB7dG9Cb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgVGlsZUxheWVyLldNU1xyXG4gKiBAaW5oZXJpdHMgVGlsZUxheWVyXHJcbiAqIEBha2EgTC5UaWxlTGF5ZXIuV01TXHJcbiAqIFVzZWQgdG8gZGlzcGxheSBbV01TXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWJfTWFwX1NlcnZpY2UpIHNlcnZpY2VzIGFzIHRpbGUgbGF5ZXJzIG9uIHRoZSBtYXAuIEV4dGVuZHMgYFRpbGVMYXllcmAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBuZXhyYWQgPSBMLnRpbGVMYXllci53bXMoXCJodHRwOi8vbWVzb25ldC5hZ3Jvbi5pYXN0YXRlLmVkdS9jZ2ktYmluL3dtcy9uZXhyYWQvbjByLmNnaVwiLCB7XHJcbiAqIFx0bGF5ZXJzOiAnbmV4cmFkLW4wci05MDA5MTMnLFxyXG4gKiBcdGZvcm1hdDogJ2ltYWdlL3BuZycsXHJcbiAqIFx0dHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAqIFx0YXR0cmlidXRpb246IFwiV2VhdGhlciBkYXRhIMKpIDIwMTIgSUVNIE5leHJhZFwiXHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5leHBvcnQgdmFyIFRpbGVMYXllcldNUyA9IFRpbGVMYXllci5leHRlbmQoe1xyXG5cclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgVGlsZUxheWVyLldNUyBvcHRpb25zXHJcblx0Ly8gSWYgYW55IGN1c3RvbSBvcHRpb25zIG5vdCBkb2N1bWVudGVkIGhlcmUgYXJlIHVzZWQsIHRoZXkgd2lsbCBiZSBzZW50IHRvIHRoZVxyXG5cdC8vIFdNUyBzZXJ2ZXIgYXMgZXh0cmEgcGFyYW1ldGVycyBpbiBlYWNoIHJlcXVlc3QgVVJMLiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yXHJcblx0Ly8gW25vbi1zdGFuZGFyZCB2ZW5kb3IgV01TIHBhcmFtZXRlcnNdKGh0dHBzOi8vZG9jcy5nZW9zZXJ2ZXIub3JnL3N0YWJsZS9lbi91c2VyL3NlcnZpY2VzL3dtcy92ZW5kb3IuaHRtbCkuXHJcblx0ZGVmYXVsdFdtc1BhcmFtczoge1xyXG5cdFx0c2VydmljZTogJ1dNUycsXHJcblx0XHRyZXF1ZXN0OiAnR2V0TWFwJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGxheWVyczogU3RyaW5nID0gJydcclxuXHRcdC8vICoqKHJlcXVpcmVkKSoqIENvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIFdNUyBsYXllcnMgdG8gc2hvdy5cclxuXHRcdGxheWVyczogJycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBzdHlsZXM6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBDb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiBXTVMgc3R5bGVzLlxyXG5cdFx0c3R5bGVzOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGZvcm1hdDogU3RyaW5nID0gJ2ltYWdlL2pwZWcnXHJcblx0XHQvLyBXTVMgaW1hZ2UgZm9ybWF0ICh1c2UgYCdpbWFnZS9wbmcnYCBmb3IgbGF5ZXJzIHdpdGggdHJhbnNwYXJlbmN5KS5cclxuXHRcdGZvcm1hdDogJ2ltYWdlL2pwZWcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdHJhbnNwYXJlbnQ6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgYHRydWVgLCB0aGUgV01TIHNlcnZpY2Ugd2lsbCByZXR1cm4gaW1hZ2VzIHdpdGggdHJhbnNwYXJlbmN5LlxyXG5cdFx0dHJhbnNwYXJlbnQ6IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdmVyc2lvbjogU3RyaW5nID0gJzEuMS4xJ1xyXG5cdFx0Ly8gVmVyc2lvbiBvZiB0aGUgV01TIHNlcnZpY2UgdG8gdXNlXHJcblx0XHR2ZXJzaW9uOiAnMS4xLjEnXHJcblx0fSxcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBjcnM6IENSUyA9IG51bGxcclxuXHRcdC8vIENvb3JkaW5hdGUgUmVmZXJlbmNlIFN5c3RlbSB0byB1c2UgZm9yIHRoZSBXTVMgcmVxdWVzdHMsIGRlZmF1bHRzIHRvXHJcblx0XHQvLyBtYXAgQ1JTLiBEb24ndCBjaGFuZ2UgdGhpcyBpZiB5b3UncmUgbm90IHN1cmUgd2hhdCBpdCBtZWFucy5cclxuXHRcdGNyczogbnVsbCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHVwcGVyY2FzZTogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIFdNUyByZXF1ZXN0IHBhcmFtZXRlciBrZXlzIHdpbGwgYmUgdXBwZXJjYXNlLlxyXG5cdFx0dXBwZXJjYXNlOiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHR0aGlzLl91cmwgPSB1cmw7XHJcblxyXG5cdFx0dmFyIHdtc1BhcmFtcyA9IGV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0V21zUGFyYW1zKTtcclxuXHJcblx0XHQvLyBhbGwga2V5cyB0aGF0IGFyZSBub3QgVGlsZUxheWVyIG9wdGlvbnMgZ28gdG8gV01TIHBhcmFtc1xyXG5cdFx0Zm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XHJcblx0XHRcdGlmICghKGkgaW4gdGhpcy5vcHRpb25zKSkge1xyXG5cdFx0XHRcdHdtc1BhcmFtc1tpXSA9IG9wdGlvbnNbaV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRvcHRpb25zID0gc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHJcblx0XHR2YXIgcmVhbFJldGluYSA9IG9wdGlvbnMuZGV0ZWN0UmV0aW5hICYmIEJyb3dzZXIucmV0aW5hID8gMiA6IDE7XHJcblx0XHR2YXIgdGlsZVNpemUgPSB0aGlzLmdldFRpbGVTaXplKCk7XHJcblx0XHR3bXNQYXJhbXMud2lkdGggPSB0aWxlU2l6ZS54ICogcmVhbFJldGluYTtcclxuXHRcdHdtc1BhcmFtcy5oZWlnaHQgPSB0aWxlU2l6ZS55ICogcmVhbFJldGluYTtcclxuXHJcblx0XHR0aGlzLndtc1BhcmFtcyA9IHdtc1BhcmFtcztcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cclxuXHRcdHRoaXMuX2NycyA9IHRoaXMub3B0aW9ucy5jcnMgfHwgbWFwLm9wdGlvbnMuY3JzO1xyXG5cdFx0dGhpcy5fd21zVmVyc2lvbiA9IHBhcnNlRmxvYXQodGhpcy53bXNQYXJhbXMudmVyc2lvbik7XHJcblxyXG5cdFx0dmFyIHByb2plY3Rpb25LZXkgPSB0aGlzLl93bXNWZXJzaW9uID49IDEuMyA/ICdjcnMnIDogJ3Nycyc7XHJcblx0XHR0aGlzLndtc1BhcmFtc1twcm9qZWN0aW9uS2V5XSA9IHRoaXMuX2Nycy5jb2RlO1xyXG5cclxuXHRcdFRpbGVMYXllci5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzLCBtYXApO1xyXG5cdH0sXHJcblxyXG5cdGdldFRpbGVVcmw6IGZ1bmN0aW9uIChjb29yZHMpIHtcclxuXHJcblx0XHR2YXIgdGlsZUJvdW5kcyA9IHRoaXMuX3RpbGVDb29yZHNUb053U2UoY29vcmRzKSxcclxuXHRcdCAgICBjcnMgPSB0aGlzLl9jcnMsXHJcblx0XHQgICAgYm91bmRzID0gdG9Cb3VuZHMoY3JzLnByb2plY3QodGlsZUJvdW5kc1swXSksIGNycy5wcm9qZWN0KHRpbGVCb3VuZHNbMV0pKSxcclxuXHRcdCAgICBtaW4gPSBib3VuZHMubWluLFxyXG5cdFx0ICAgIG1heCA9IGJvdW5kcy5tYXgsXHJcblx0XHQgICAgYmJveCA9ICh0aGlzLl93bXNWZXJzaW9uID49IDEuMyAmJiB0aGlzLl9jcnMgPT09IEVQU0c0MzI2ID9cclxuXHRcdCAgICBbbWluLnksIG1pbi54LCBtYXgueSwgbWF4LnhdIDpcclxuXHRcdCAgICBbbWluLngsIG1pbi55LCBtYXgueCwgbWF4LnldKS5qb2luKCcsJyksXHJcblx0XHQgICAgdXJsID0gVGlsZUxheWVyLnByb3RvdHlwZS5nZXRUaWxlVXJsLmNhbGwodGhpcywgY29vcmRzKTtcclxuXHRcdHJldHVybiB1cmwgK1xyXG5cdFx0XHRnZXRQYXJhbVN0cmluZyh0aGlzLndtc1BhcmFtcywgdXJsLCB0aGlzLm9wdGlvbnMudXBwZXJjYXNlKSArXHJcblx0XHRcdCh0aGlzLm9wdGlvbnMudXBwZXJjYXNlID8gJyZCQk9YPScgOiAnJmJib3g9JykgKyBiYm94O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0UGFyYW1zKHBhcmFtczogT2JqZWN0LCBub1JlZHJhdz86IEJvb2xlYW4pOiB0aGlzXHJcblx0Ly8gTWVyZ2VzIGFuIG9iamVjdCB3aXRoIHRoZSBuZXcgcGFyYW1ldGVycyBhbmQgcmUtcmVxdWVzdHMgdGlsZXMgb24gdGhlIGN1cnJlbnQgc2NyZWVuICh1bmxlc3MgYG5vUmVkcmF3YCB3YXMgc2V0IHRvIHRydWUpLlxyXG5cdHNldFBhcmFtczogZnVuY3Rpb24gKHBhcmFtcywgbm9SZWRyYXcpIHtcclxuXHJcblx0XHRleHRlbmQodGhpcy53bXNQYXJhbXMsIHBhcmFtcyk7XHJcblxyXG5cdFx0aWYgKCFub1JlZHJhdykge1xyXG5cdFx0XHR0aGlzLnJlZHJhdygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC50aWxlTGF5ZXIud21zKGJhc2VVcmw6IFN0cmluZywgb3B0aW9uczogVGlsZUxheWVyLldNUyBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBXTVMgdGlsZSBsYXllciBvYmplY3QgZ2l2ZW4gYSBiYXNlIFVSTCBvZiB0aGUgV01TIHNlcnZpY2UgYW5kIGEgV01TIHBhcmFtZXRlcnMvb3B0aW9ucyBvYmplY3QuXHJcbmV4cG9ydCBmdW5jdGlvbiB0aWxlTGF5ZXJXTVModXJsLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBUaWxlTGF5ZXJXTVModXJsLCBvcHRpb25zKTtcclxufVxyXG4iLCAiZXhwb3J0IHtHcmlkTGF5ZXIsIGdyaWRMYXllcn0gZnJvbSAnLi9HcmlkTGF5ZXInO1xuaW1wb3J0IHtUaWxlTGF5ZXIsIHRpbGVMYXllcn0gZnJvbSAnLi9UaWxlTGF5ZXInO1xuaW1wb3J0IHtUaWxlTGF5ZXJXTVMsIHRpbGVMYXllcldNU30gZnJvbSAnLi9UaWxlTGF5ZXIuV01TJztcblRpbGVMYXllci5XTVMgPSBUaWxlTGF5ZXJXTVM7XG50aWxlTGF5ZXIud21zID0gdGlsZUxheWVyV01TO1xuZXhwb3J0IHtUaWxlTGF5ZXIsIHRpbGVMYXllcn07XG4iLCAiaW1wb3J0IHtMYXllcn0gZnJvbSAnLi4vTGF5ZXInO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi8uLi9jb3JlL0Jyb3dzZXInO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XG5cblxuXG4vKlxuICogQGNsYXNzIFJlbmRlcmVyXG4gKiBAaW5oZXJpdHMgTGF5ZXJcbiAqIEBha2EgTC5SZW5kZXJlclxuICpcbiAqIEJhc2UgY2xhc3MgZm9yIHZlY3RvciByZW5kZXJlciBpbXBsZW1lbnRhdGlvbnMgKGBTVkdgLCBgQ2FudmFzYCkuIEhhbmRsZXMgdGhlXG4gKiBET00gY29udGFpbmVyIG9mIHRoZSByZW5kZXJlciwgaXRzIGJvdW5kcywgYW5kIGl0cyB6b29tIGFuaW1hdGlvbi5cbiAqXG4gKiBBIGBSZW5kZXJlcmAgd29ya3MgYXMgYW4gaW1wbGljaXQgbGF5ZXIgZ3JvdXAgZm9yIGFsbCBgUGF0aGBzIC0gdGhlIHJlbmRlcmVyXG4gKiBpdHNlbGYgY2FuIGJlIGFkZGVkIG9yIHJlbW92ZWQgdG8gdGhlIG1hcC4gQWxsIHBhdGhzIHVzZSBhIHJlbmRlcmVyLCB3aGljaCBjYW5cbiAqIGJlIGltcGxpY2l0ICh0aGUgbWFwIHdpbGwgZGVjaWRlIHRoZSB0eXBlIG9mIHJlbmRlcmVyIGFuZCB1c2UgaXQgYXV0b21hdGljYWxseSlcbiAqIG9yIGV4cGxpY2l0ICh1c2luZyB0aGUgW2ByZW5kZXJlcmBdKCNwYXRoLXJlbmRlcmVyKSBvcHRpb24gb2YgdGhlIHBhdGgpLlxuICpcbiAqIERvIG5vdCB1c2UgdGhpcyBjbGFzcyBkaXJlY3RseSwgdXNlIGBTVkdgIGFuZCBgQ2FudmFzYCBpbnN0ZWFkLlxuICpcbiAqIEBldmVudCB1cGRhdGU6IEV2ZW50XG4gKiBGaXJlZCB3aGVuIHRoZSByZW5kZXJlciB1cGRhdGVzIGl0cyBib3VuZHMsIGNlbnRlciBhbmQgem9vbSwgZm9yIGV4YW1wbGUgd2hlblxuICogaXRzIG1hcCBoYXMgbW92ZWRcbiAqL1xuXG5leHBvcnQgdmFyIFJlbmRlcmVyID0gTGF5ZXIuZXh0ZW5kKHtcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIFJlbmRlcmVyIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gcGFkZGluZzogTnVtYmVyID0gMC4xXG5cdFx0Ly8gSG93IG11Y2ggdG8gZXh0ZW5kIHRoZSBjbGlwIGFyZWEgYXJvdW5kIHRoZSBtYXAgdmlldyAocmVsYXRpdmUgdG8gaXRzIHNpemUpXG5cdFx0Ly8gZS5nLiAwLjEgd291bGQgYmUgMTAlIG9mIG1hcCB2aWV3IGluIGVhY2ggZGlyZWN0aW9uXG5cdFx0cGFkZGluZzogMC4xXG5cdH0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cdFx0VXRpbC5zdGFtcCh0aGlzKTtcblx0XHR0aGlzLl9sYXllcnMgPSB0aGlzLl9sYXllcnMgfHwge307XG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xuXHRcdFx0dGhpcy5faW5pdENvbnRhaW5lcigpOyAvLyBkZWZpbmVkIGJ5IHJlbmRlcmVyIGltcGxlbWVudGF0aW9uc1xuXG5cdFx0XHQvLyBhbHdheXMga2VlcCB0cmFuc2Zvcm0tb3JpZ2luIGFzIDAgMFxuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LXpvb20tYW5pbWF0ZWQnKTtcblx0XHR9XG5cblx0XHR0aGlzLmdldFBhbmUoKS5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuXHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHRcdHRoaXMub24oJ3VwZGF0ZScsIHRoaXMuX3VwZGF0ZVBhdGhzLCB0aGlzKTtcblx0fSxcblxuXHRvblJlbW92ZTogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMub2ZmKCd1cGRhdGUnLCB0aGlzLl91cGRhdGVQYXRocywgdGhpcyk7XG5cdFx0dGhpcy5fZGVzdHJveUNvbnRhaW5lcigpO1xuXHR9LFxuXG5cdGdldEV2ZW50czogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBldmVudHMgPSB7XG5cdFx0XHR2aWV3cmVzZXQ6IHRoaXMuX3Jlc2V0LFxuXHRcdFx0em9vbTogdGhpcy5fb25ab29tLFxuXHRcdFx0bW92ZWVuZDogdGhpcy5fdXBkYXRlLFxuXHRcdFx0em9vbWVuZDogdGhpcy5fb25ab29tRW5kXG5cdFx0fTtcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XG5cdFx0XHRldmVudHMuem9vbWFuaW0gPSB0aGlzLl9vbkFuaW1ab29tO1xuXHRcdH1cblx0XHRyZXR1cm4gZXZlbnRzO1xuXHR9LFxuXG5cdF9vbkFuaW1ab29tOiBmdW5jdGlvbiAoZXYpIHtcblx0XHR0aGlzLl91cGRhdGVUcmFuc2Zvcm0oZXYuY2VudGVyLCBldi56b29tKTtcblx0fSxcblxuXHRfb25ab29tOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fdXBkYXRlVHJhbnNmb3JtKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwgdGhpcy5fbWFwLmdldFpvb20oKSk7XG5cdH0sXG5cblx0X3VwZGF0ZVRyYW5zZm9ybTogZnVuY3Rpb24gKGNlbnRlciwgem9vbSkge1xuXHRcdHZhciBzY2FsZSA9IHRoaXMuX21hcC5nZXRab29tU2NhbGUoem9vbSwgdGhpcy5fem9vbSksXG5cdFx0ICAgIHZpZXdIYWxmID0gdGhpcy5fbWFwLmdldFNpemUoKS5tdWx0aXBseUJ5KDAuNSArIHRoaXMub3B0aW9ucy5wYWRkaW5nKSxcblx0XHQgICAgY3VycmVudENlbnRlclBvaW50ID0gdGhpcy5fbWFwLnByb2plY3QodGhpcy5fY2VudGVyLCB6b29tKSxcblxuXHRcdCAgICB0b3BMZWZ0T2Zmc2V0ID0gdmlld0hhbGYubXVsdGlwbHlCeSgtc2NhbGUpLmFkZChjdXJyZW50Q2VudGVyUG9pbnQpXG5cdFx0XHRcdCAgLnN1YnRyYWN0KHRoaXMuX21hcC5fZ2V0TmV3UGl4ZWxPcmlnaW4oY2VudGVyLCB6b29tKSk7XG5cblx0XHRpZiAoQnJvd3Nlci5hbnkzZCkge1xuXHRcdFx0RG9tVXRpbC5zZXRUcmFuc2Zvcm0odGhpcy5fY29udGFpbmVyLCB0b3BMZWZ0T2Zmc2V0LCBzY2FsZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyLCB0b3BMZWZ0T2Zmc2V0KTtcblx0XHR9XG5cdH0sXG5cblx0X3Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fdXBkYXRlKCk7XG5cdFx0dGhpcy5fdXBkYXRlVHJhbnNmb3JtKHRoaXMuX2NlbnRlciwgdGhpcy5fem9vbSk7XG5cblx0XHRmb3IgKHZhciBpZCBpbiB0aGlzLl9sYXllcnMpIHtcblx0XHRcdHRoaXMuX2xheWVyc1tpZF0uX3Jlc2V0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vblpvb21FbmQ6IGZ1bmN0aW9uICgpIHtcblx0XHRmb3IgKHZhciBpZCBpbiB0aGlzLl9sYXllcnMpIHtcblx0XHRcdHRoaXMuX2xheWVyc1tpZF0uX3Byb2plY3QoKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZVBhdGhzOiBmdW5jdGlvbiAoKSB7XG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG5cdFx0XHR0aGlzLl9sYXllcnNbaWRdLl91cGRhdGUoKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdC8vIFVwZGF0ZSBwaXhlbCBib3VuZHMgb2YgcmVuZGVyZXIgY29udGFpbmVyIChmb3IgcG9zaXRpb25pbmcvc2l6aW5nL2NsaXBwaW5nIGxhdGVyKVxuXHRcdC8vIFN1YmNsYXNzZXMgYXJlIHJlc3BvbnNpYmxlIG9mIGZpcmluZyB0aGUgJ3VwZGF0ZScgZXZlbnQuXG5cdFx0dmFyIHAgPSB0aGlzLm9wdGlvbnMucGFkZGluZyxcblx0XHQgICAgc2l6ZSA9IHRoaXMuX21hcC5nZXRTaXplKCksXG5cdFx0ICAgIG1pbiA9IHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludChzaXplLm11bHRpcGx5QnkoLXApKS5yb3VuZCgpO1xuXG5cdFx0dGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcyhtaW4sIG1pbi5hZGQoc2l6ZS5tdWx0aXBseUJ5KDEgKyBwICogMikpLnJvdW5kKCkpO1xuXG5cdFx0dGhpcy5fY2VudGVyID0gdGhpcy5fbWFwLmdldENlbnRlcigpO1xuXHRcdHRoaXMuX3pvb20gPSB0aGlzLl9tYXAuZ2V0Wm9vbSgpO1xuXHR9XG59KTtcbiIsICJpbXBvcnQge1JlbmRlcmVyfSBmcm9tICcuL1JlbmRlcmVyJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vLi4vZG9tL0RvbUV2ZW50JztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uLy4uL2NvcmUvQnJvd3Nlcic7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcblxuLypcbiAqIEBjbGFzcyBDYW52YXNcbiAqIEBpbmhlcml0cyBSZW5kZXJlclxuICogQGFrYSBMLkNhbnZhc1xuICpcbiAqIEFsbG93cyB2ZWN0b3IgbGF5ZXJzIHRvIGJlIGRpc3BsYXllZCB3aXRoIFtgPGNhbnZhcz5gXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQ2FudmFzX0FQSSkuXG4gKiBJbmhlcml0cyBgUmVuZGVyZXJgLlxuICpcbiAqIER1ZSB0byBbdGVjaG5pY2FsIGxpbWl0YXRpb25zXShodHRwczovL2Nhbml1c2UuY29tL2NhbnZhcyksIENhbnZhcyBpcyBub3RcbiAqIGF2YWlsYWJsZSBpbiBhbGwgd2ViIGJyb3dzZXJzLCBub3RhYmx5IElFOCwgYW5kIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMgbWlnaHRcbiAqIG5vdCBkaXNwbGF5IHByb3Blcmx5IGluIHNvbWUgZWRnZSBjYXNlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIFVzZSBDYW52YXMgYnkgZGVmYXVsdCBmb3IgYWxsIHBhdGhzIGluIHRoZSBtYXA6XG4gKlxuICogYGBganNcbiAqIHZhciBtYXAgPSBMLm1hcCgnbWFwJywge1xuICogXHRyZW5kZXJlcjogTC5jYW52YXMoKVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBVc2UgYSBDYW52YXMgcmVuZGVyZXIgd2l0aCBleHRyYSBwYWRkaW5nIGZvciBzcGVjaWZpYyB2ZWN0b3IgZ2VvbWV0cmllczpcbiAqXG4gKiBgYGBqc1xuICogdmFyIG1hcCA9IEwubWFwKCdtYXAnKTtcbiAqIHZhciBteVJlbmRlcmVyID0gTC5jYW52YXMoeyBwYWRkaW5nOiAwLjUgfSk7XG4gKiB2YXIgbGluZSA9IEwucG9seWxpbmUoIGNvb3JkaW5hdGVzLCB7IHJlbmRlcmVyOiBteVJlbmRlcmVyIH0gKTtcbiAqIHZhciBjaXJjbGUgPSBMLmNpcmNsZSggY2VudGVyLCB7IHJlbmRlcmVyOiBteVJlbmRlcmVyIH0gKTtcbiAqIGBgYFxuICovXG5cbmV4cG9ydCB2YXIgQ2FudmFzID0gUmVuZGVyZXIuZXh0ZW5kKHtcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIENhbnZhcyBvcHRpb25zXG5cdG9wdGlvbnM6IHtcblx0XHQvLyBAb3B0aW9uIHRvbGVyYW5jZTogTnVtYmVyID0gMFxuXHRcdC8vIEhvdyBtdWNoIHRvIGV4dGVuZCB0aGUgY2xpY2sgdG9sZXJhbmNlIGFyb3VuZCBhIHBhdGgvb2JqZWN0IG9uIHRoZSBtYXAuXG5cdFx0dG9sZXJhbmNlOiAwXG5cdH0sXG5cblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGV2ZW50cyA9IFJlbmRlcmVyLnByb3RvdHlwZS5nZXRFdmVudHMuY2FsbCh0aGlzKTtcblx0XHRldmVudHMudmlld3ByZXJlc2V0ID0gdGhpcy5fb25WaWV3UHJlUmVzZXQ7XG5cdFx0cmV0dXJuIGV2ZW50cztcblx0fSxcblxuXHRfb25WaWV3UHJlUmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBTZXQgYSBmbGFnIHNvIHRoYXQgYSB2aWV3cHJlcmVzZXQrbW92ZWVuZCt2aWV3cmVzZXQgb25seSB1cGRhdGVzJnJlZHJhd3Mgb25jZVxuXHRcdHRoaXMuX3Bvc3Rwb25lVXBkYXRlUGF0aHMgPSB0cnVlO1xuXHR9LFxuXG5cdG9uQWRkOiBmdW5jdGlvbiAoKSB7XG5cdFx0UmVuZGVyZXIucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcyk7XG5cblx0XHQvLyBSZWRyYXcgdmVjdG9ycyBzaW5jZSBjYW52YXMgaXMgY2xlYXJlZCB1cG9uIHJlbW92YWwsXG5cdFx0Ly8gaW4gY2FzZSBvZiByZW1vdmluZyB0aGUgcmVuZGVyZXIgaXRzZWxmIGZyb20gdGhlIG1hcC5cblx0XHR0aGlzLl9kcmF3KCk7XG5cdH0sXG5cblx0X2luaXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cblx0XHREb21FdmVudC5vbihjb250YWluZXIsICdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdGhpcyk7XG5cdFx0RG9tRXZlbnQub24oY29udGFpbmVyLCAnY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgY29udGV4dG1lbnUnLCB0aGlzLl9vbkNsaWNrLCB0aGlzKTtcblx0XHREb21FdmVudC5vbihjb250YWluZXIsICdtb3VzZW91dCcsIHRoaXMuX2hhbmRsZU1vdXNlT3V0LCB0aGlzKTtcblx0XHRjb250YWluZXJbJ19sZWFmbGV0X2Rpc2FibGVfZXZlbnRzJ10gPSB0cnVlO1xuXG5cdFx0dGhpcy5fY3R4ID0gY29udGFpbmVyLmdldENvbnRleHQoJzJkJyk7XG5cdH0sXG5cblx0X2Rlc3Ryb3lDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9yZWRyYXdSZXF1ZXN0KTtcblx0XHRkZWxldGUgdGhpcy5fY3R4O1xuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0RG9tRXZlbnQub2ZmKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0ZGVsZXRlIHRoaXMuX2NvbnRhaW5lcjtcblx0fSxcblxuXHRfdXBkYXRlUGF0aHM6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fcG9zdHBvbmVVcGRhdGVQYXRocykgeyByZXR1cm47IH1cblxuXHRcdHZhciBsYXllcjtcblx0XHR0aGlzLl9yZWRyYXdCb3VuZHMgPSBudWxsO1xuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2xheWVycykge1xuXHRcdFx0bGF5ZXIgPSB0aGlzLl9sYXllcnNbaWRdO1xuXHRcdFx0bGF5ZXIuX3VwZGF0ZSgpO1xuXHRcdH1cblx0XHR0aGlzLl9yZWRyYXcoKTtcblx0fSxcblxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSAmJiB0aGlzLl9ib3VuZHMpIHsgcmV0dXJuOyB9XG5cblx0XHRSZW5kZXJlci5wcm90b3R5cGUuX3VwZGF0ZS5jYWxsKHRoaXMpO1xuXG5cdFx0dmFyIGIgPSB0aGlzLl9ib3VuZHMsXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcixcblx0XHQgICAgc2l6ZSA9IGIuZ2V0U2l6ZSgpLFxuXHRcdCAgICBtID0gQnJvd3Nlci5yZXRpbmEgPyAyIDogMTtcblxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24oY29udGFpbmVyLCBiLm1pbik7XG5cblx0XHQvLyBzZXQgY2FudmFzIHNpemUgKGFsc28gY2xlYXJpbmcgaXQpOyB1c2UgZG91YmxlIHNpemUgb24gcmV0aW5hXG5cdFx0Y29udGFpbmVyLndpZHRoID0gbSAqIHNpemUueDtcblx0XHRjb250YWluZXIuaGVpZ2h0ID0gbSAqIHNpemUueTtcblx0XHRjb250YWluZXIuc3R5bGUud2lkdGggPSBzaXplLnggKyAncHgnO1xuXHRcdGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBzaXplLnkgKyAncHgnO1xuXG5cdFx0aWYgKEJyb3dzZXIucmV0aW5hKSB7XG5cdFx0XHR0aGlzLl9jdHguc2NhbGUoMiwgMik7XG5cdFx0fVxuXG5cdFx0Ly8gdHJhbnNsYXRlIHNvIHdlIHVzZSB0aGUgc2FtZSBwYXRoIGNvb3JkaW5hdGVzIGFmdGVyIGNhbnZhcyBlbGVtZW50IG1vdmVzXG5cdFx0dGhpcy5fY3R4LnRyYW5zbGF0ZSgtYi5taW4ueCwgLWIubWluLnkpO1xuXG5cdFx0Ly8gVGVsbCBwYXRocyB0byByZWRyYXcgdGhlbXNlbHZlc1xuXHRcdHRoaXMuZmlyZSgndXBkYXRlJyk7XG5cdH0sXG5cblx0X3Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0UmVuZGVyZXIucHJvdG90eXBlLl9yZXNldC5jYWxsKHRoaXMpO1xuXG5cdFx0aWYgKHRoaXMuX3Bvc3Rwb25lVXBkYXRlUGF0aHMpIHtcblx0XHRcdHRoaXMuX3Bvc3Rwb25lVXBkYXRlUGF0aHMgPSBmYWxzZTtcblx0XHRcdHRoaXMuX3VwZGF0ZVBhdGhzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9pbml0UGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dGhpcy5fdXBkYXRlRGFzaEFycmF5KGxheWVyKTtcblx0XHR0aGlzLl9sYXllcnNbVXRpbC5zdGFtcChsYXllcildID0gbGF5ZXI7XG5cblx0XHR2YXIgb3JkZXIgPSBsYXllci5fb3JkZXIgPSB7XG5cdFx0XHRsYXllcjogbGF5ZXIsXG5cdFx0XHRwcmV2OiB0aGlzLl9kcmF3TGFzdCxcblx0XHRcdG5leHQ6IG51bGxcblx0XHR9O1xuXHRcdGlmICh0aGlzLl9kcmF3TGFzdCkgeyB0aGlzLl9kcmF3TGFzdC5uZXh0ID0gb3JkZXI7IH1cblx0XHR0aGlzLl9kcmF3TGFzdCA9IG9yZGVyO1xuXHRcdHRoaXMuX2RyYXdGaXJzdCA9IHRoaXMuX2RyYXdGaXJzdCB8fCB0aGlzLl9kcmF3TGFzdDtcblx0fSxcblxuXHRfYWRkUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dGhpcy5fcmVxdWVzdFJlZHJhdyhsYXllcik7XG5cdH0sXG5cblx0X3JlbW92ZVBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBvcmRlciA9IGxheWVyLl9vcmRlcjtcblx0XHR2YXIgbmV4dCA9IG9yZGVyLm5leHQ7XG5cdFx0dmFyIHByZXYgPSBvcmRlci5wcmV2O1xuXG5cdFx0aWYgKG5leHQpIHtcblx0XHRcdG5leHQucHJldiA9IHByZXY7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2RyYXdMYXN0ID0gcHJldjtcblx0XHR9XG5cdFx0aWYgKHByZXYpIHtcblx0XHRcdHByZXYubmV4dCA9IG5leHQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2RyYXdGaXJzdCA9IG5leHQ7XG5cdFx0fVxuXG5cdFx0ZGVsZXRlIGxheWVyLl9vcmRlcjtcblxuXHRcdGRlbGV0ZSB0aGlzLl9sYXllcnNbVXRpbC5zdGFtcChsYXllcildO1xuXG5cdFx0dGhpcy5fcmVxdWVzdFJlZHJhdyhsYXllcik7XG5cdH0sXG5cblx0X3VwZGF0ZVBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdC8vIFJlZHJhdyB0aGUgdW5pb24gb2YgdGhlIGxheWVyJ3Mgb2xkIHBpeGVsXG5cdFx0Ly8gYm91bmRzIGFuZCB0aGUgbmV3IHBpeGVsIGJvdW5kcy5cblx0XHR0aGlzLl9leHRlbmRSZWRyYXdCb3VuZHMobGF5ZXIpO1xuXHRcdGxheWVyLl9wcm9qZWN0KCk7XG5cdFx0bGF5ZXIuX3VwZGF0ZSgpO1xuXHRcdC8vIFRoZSByZWRyYXcgd2lsbCBleHRlbmQgdGhlIHJlZHJhdyBib3VuZHNcblx0XHQvLyB3aXRoIHRoZSBuZXcgcGl4ZWwgYm91bmRzLlxuXHRcdHRoaXMuX3JlcXVlc3RSZWRyYXcobGF5ZXIpO1xuXHR9LFxuXG5cdF91cGRhdGVTdHlsZTogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dGhpcy5fdXBkYXRlRGFzaEFycmF5KGxheWVyKTtcblx0XHR0aGlzLl9yZXF1ZXN0UmVkcmF3KGxheWVyKTtcblx0fSxcblxuXHRfdXBkYXRlRGFzaEFycmF5OiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAodHlwZW9mIGxheWVyLm9wdGlvbnMuZGFzaEFycmF5ID09PSAnc3RyaW5nJykge1xuXHRcdFx0dmFyIHBhcnRzID0gbGF5ZXIub3B0aW9ucy5kYXNoQXJyYXkuc3BsaXQoL1ssIF0rLyksXG5cdFx0XHQgICAgZGFzaEFycmF5ID0gW10sXG5cdFx0XHQgICAgZGFzaFZhbHVlLFxuXHRcdFx0ICAgIGk7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0ZGFzaFZhbHVlID0gTnVtYmVyKHBhcnRzW2ldKTtcblx0XHRcdFx0Ly8gSWdub3JlIGRhc2ggYXJyYXkgY29udGFpbmluZyBpbnZhbGlkIGxlbmd0aHNcblx0XHRcdFx0aWYgKGlzTmFOKGRhc2hWYWx1ZSkpIHsgcmV0dXJuOyB9XG5cdFx0XHRcdGRhc2hBcnJheS5wdXNoKGRhc2hWYWx1ZSk7XG5cdFx0XHR9XG5cdFx0XHRsYXllci5vcHRpb25zLl9kYXNoQXJyYXkgPSBkYXNoQXJyYXk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxheWVyLm9wdGlvbnMuX2Rhc2hBcnJheSA9IGxheWVyLm9wdGlvbnMuZGFzaEFycmF5O1xuXHRcdH1cblx0fSxcblxuXHRfcmVxdWVzdFJlZHJhdzogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0aWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9XG5cblx0XHR0aGlzLl9leHRlbmRSZWRyYXdCb3VuZHMobGF5ZXIpO1xuXHRcdHRoaXMuX3JlZHJhd1JlcXVlc3QgPSB0aGlzLl9yZWRyYXdSZXF1ZXN0IHx8IFV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9yZWRyYXcsIHRoaXMpO1xuXHR9LFxuXG5cdF9leHRlbmRSZWRyYXdCb3VuZHM6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdGlmIChsYXllci5fcHhCb3VuZHMpIHtcblx0XHRcdHZhciBwYWRkaW5nID0gKGxheWVyLm9wdGlvbnMud2VpZ2h0IHx8IDApICsgMTtcblx0XHRcdHRoaXMuX3JlZHJhd0JvdW5kcyA9IHRoaXMuX3JlZHJhd0JvdW5kcyB8fCBuZXcgQm91bmRzKCk7XG5cdFx0XHR0aGlzLl9yZWRyYXdCb3VuZHMuZXh0ZW5kKGxheWVyLl9weEJvdW5kcy5taW4uc3VidHJhY3QoW3BhZGRpbmcsIHBhZGRpbmddKSk7XG5cdFx0XHR0aGlzLl9yZWRyYXdCb3VuZHMuZXh0ZW5kKGxheWVyLl9weEJvdW5kcy5tYXguYWRkKFtwYWRkaW5nLCBwYWRkaW5nXSkpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVkcmF3OiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVkcmF3UmVxdWVzdCA9IG51bGw7XG5cblx0XHRpZiAodGhpcy5fcmVkcmF3Qm91bmRzKSB7XG5cdFx0XHR0aGlzLl9yZWRyYXdCb3VuZHMubWluLl9mbG9vcigpO1xuXHRcdFx0dGhpcy5fcmVkcmF3Qm91bmRzLm1heC5fY2VpbCgpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2NsZWFyKCk7IC8vIGNsZWFyIGxheWVycyBpbiByZWRyYXcgYm91bmRzXG5cdFx0dGhpcy5fZHJhdygpOyAvLyBkcmF3IGxheWVyc1xuXG5cdFx0dGhpcy5fcmVkcmF3Qm91bmRzID0gbnVsbDtcblx0fSxcblxuXHRfY2xlYXI6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgYm91bmRzID0gdGhpcy5fcmVkcmF3Qm91bmRzO1xuXHRcdGlmIChib3VuZHMpIHtcblx0XHRcdHZhciBzaXplID0gYm91bmRzLmdldFNpemUoKTtcblx0XHRcdHRoaXMuX2N0eC5jbGVhclJlY3QoYm91bmRzLm1pbi54LCBib3VuZHMubWluLnksIHNpemUueCwgc2l6ZS55KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fY3R4LnNhdmUoKTtcblx0XHRcdHRoaXMuX2N0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG5cdFx0XHR0aGlzLl9jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2NvbnRhaW5lci53aWR0aCwgdGhpcy5fY29udGFpbmVyLmhlaWdodCk7XG5cdFx0XHR0aGlzLl9jdHgucmVzdG9yZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfZHJhdzogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBsYXllciwgYm91bmRzID0gdGhpcy5fcmVkcmF3Qm91bmRzO1xuXHRcdHRoaXMuX2N0eC5zYXZlKCk7XG5cdFx0aWYgKGJvdW5kcykge1xuXHRcdFx0dmFyIHNpemUgPSBib3VuZHMuZ2V0U2l6ZSgpO1xuXHRcdFx0dGhpcy5fY3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0dGhpcy5fY3R4LnJlY3QoYm91bmRzLm1pbi54LCBib3VuZHMubWluLnksIHNpemUueCwgc2l6ZS55KTtcblx0XHRcdHRoaXMuX2N0eC5jbGlwKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZHJhd2luZyA9IHRydWU7XG5cblx0XHRmb3IgKHZhciBvcmRlciA9IHRoaXMuX2RyYXdGaXJzdDsgb3JkZXI7IG9yZGVyID0gb3JkZXIubmV4dCkge1xuXHRcdFx0bGF5ZXIgPSBvcmRlci5sYXllcjtcblx0XHRcdGlmICghYm91bmRzIHx8IChsYXllci5fcHhCb3VuZHMgJiYgbGF5ZXIuX3B4Qm91bmRzLmludGVyc2VjdHMoYm91bmRzKSkpIHtcblx0XHRcdFx0bGF5ZXIuX3VwZGF0ZVBhdGgoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9kcmF3aW5nID0gZmFsc2U7XG5cblx0XHR0aGlzLl9jdHgucmVzdG9yZSgpOyAgLy8gUmVzdG9yZSBzdGF0ZSBiZWZvcmUgY2xpcHBpbmcuXG5cdH0sXG5cblx0X3VwZGF0ZVBvbHk6IGZ1bmN0aW9uIChsYXllciwgY2xvc2VkKSB7XG5cdFx0aWYgKCF0aGlzLl9kcmF3aW5nKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIGksIGosIGxlbjIsIHAsXG5cdFx0ICAgIHBhcnRzID0gbGF5ZXIuX3BhcnRzLFxuXHRcdCAgICBsZW4gPSBwYXJ0cy5sZW5ndGgsXG5cdFx0ICAgIGN0eCA9IHRoaXMuX2N0eDtcblxuXHRcdGlmICghbGVuKSB7IHJldHVybjsgfVxuXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRmb3IgKGogPSAwLCBsZW4yID0gcGFydHNbaV0ubGVuZ3RoOyBqIDwgbGVuMjsgaisrKSB7XG5cdFx0XHRcdHAgPSBwYXJ0c1tpXVtqXTtcblx0XHRcdFx0Y3R4W2ogPyAnbGluZVRvJyA6ICdtb3ZlVG8nXShwLngsIHAueSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoY2xvc2VkKSB7XG5cdFx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9maWxsU3Ryb2tlKGN0eCwgbGF5ZXIpO1xuXG5cdFx0Ly8gVE9ETyBvcHRpbWl6YXRpb246IDEgZmlsbC9zdHJva2UgZm9yIGFsbCBmZWF0dXJlcyB3aXRoIGVxdWFsIHN0eWxlIGluc3RlYWQgb2YgMSBmb3IgZWFjaCBmZWF0dXJlXG5cdH0sXG5cblx0X3VwZGF0ZUNpcmNsZTogZnVuY3Rpb24gKGxheWVyKSB7XG5cblx0XHRpZiAoIXRoaXMuX2RyYXdpbmcgfHwgbGF5ZXIuX2VtcHR5KCkpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgcCA9IGxheWVyLl9wb2ludCxcblx0XHQgICAgY3R4ID0gdGhpcy5fY3R4LFxuXHRcdCAgICByID0gTWF0aC5tYXgoTWF0aC5yb3VuZChsYXllci5fcmFkaXVzKSwgMSksXG5cdFx0ICAgIHMgPSAoTWF0aC5tYXgoTWF0aC5yb3VuZChsYXllci5fcmFkaXVzWSksIDEpIHx8IHIpIC8gcjtcblxuXHRcdGlmIChzICE9PSAxKSB7XG5cdFx0XHRjdHguc2F2ZSgpO1xuXHRcdFx0Y3R4LnNjYWxlKDEsIHMpO1xuXHRcdH1cblxuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRjdHguYXJjKHAueCwgcC55IC8gcywgciwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcblxuXHRcdGlmIChzICE9PSAxKSB7XG5cdFx0XHRjdHgucmVzdG9yZSgpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2ZpbGxTdHJva2UoY3R4LCBsYXllcik7XG5cdH0sXG5cblx0X2ZpbGxTdHJva2U6IGZ1bmN0aW9uIChjdHgsIGxheWVyKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSBsYXllci5vcHRpb25zO1xuXG5cdFx0aWYgKG9wdGlvbnMuZmlsbCkge1xuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gb3B0aW9ucy5maWxsT3BhY2l0eTtcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmZpbGxDb2xvciB8fCBvcHRpb25zLmNvbG9yO1xuXHRcdFx0Y3R4LmZpbGwob3B0aW9ucy5maWxsUnVsZSB8fCAnZXZlbm9kZCcpO1xuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLnN0cm9rZSAmJiBvcHRpb25zLndlaWdodCAhPT0gMCkge1xuXHRcdFx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xuXHRcdFx0XHRjdHguc2V0TGluZURhc2gobGF5ZXIub3B0aW9ucyAmJiBsYXllci5vcHRpb25zLl9kYXNoQXJyYXkgfHwgW10pO1xuXHRcdFx0fVxuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gb3B0aW9ucy5vcGFjaXR5O1xuXHRcdFx0Y3R4LmxpbmVXaWR0aCA9IG9wdGlvbnMud2VpZ2h0O1xuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gb3B0aW9ucy5jb2xvcjtcblx0XHRcdGN0eC5saW5lQ2FwID0gb3B0aW9ucy5saW5lQ2FwO1xuXHRcdFx0Y3R4LmxpbmVKb2luID0gb3B0aW9ucy5saW5lSm9pbjtcblx0XHRcdGN0eC5zdHJva2UoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gQ2FudmFzIG9idmlvdXNseSBkb2Vzbid0IGhhdmUgbW91c2UgZXZlbnRzIGZvciBpbmRpdmlkdWFsIGRyYXduIG9iamVjdHMsXG5cdC8vIHNvIHdlIGVtdWxhdGUgdGhhdCBieSBjYWxjdWxhdGluZyB3aGF0J3MgdW5kZXIgdGhlIG1vdXNlIG9uIG1vdXNlbW92ZS9jbGljayBtYW51YWxseVxuXG5cdF9vbkNsaWNrOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBwb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9MYXllclBvaW50KGUpLCBsYXllciwgY2xpY2tlZExheWVyO1xuXG5cdFx0Zm9yICh2YXIgb3JkZXIgPSB0aGlzLl9kcmF3Rmlyc3Q7IG9yZGVyOyBvcmRlciA9IG9yZGVyLm5leHQpIHtcblx0XHRcdGxheWVyID0gb3JkZXIubGF5ZXI7XG5cdFx0XHRpZiAobGF5ZXIub3B0aW9ucy5pbnRlcmFjdGl2ZSAmJiBsYXllci5fY29udGFpbnNQb2ludChwb2ludCkpIHtcblx0XHRcdFx0aWYgKCEoZS50eXBlID09PSAnY2xpY2snIHx8IGUudHlwZSA9PT0gJ3ByZWNsaWNrJykgfHwgIXRoaXMuX21hcC5fZHJhZ2dhYmxlTW92ZWQobGF5ZXIpKSB7XG5cdFx0XHRcdFx0Y2xpY2tlZExheWVyID0gbGF5ZXI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5fZmlyZUV2ZW50KGNsaWNrZWRMYXllciA/IFtjbGlja2VkTGF5ZXJdIDogZmFsc2UsIGUpO1xuXHR9LFxuXG5cdF9vbk1vdXNlTW92ZTogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoIXRoaXMuX21hcCB8fCB0aGlzLl9tYXAuZHJhZ2dpbmcubW92aW5nKCkgfHwgdGhpcy5fbWFwLl9hbmltYXRpbmdab29tKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIHBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQoZSk7XG5cdFx0dGhpcy5faGFuZGxlTW91c2VIb3ZlcihlLCBwb2ludCk7XG5cdH0sXG5cblxuXHRfaGFuZGxlTW91c2VPdXQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIGxheWVyID0gdGhpcy5faG92ZXJlZExheWVyO1xuXHRcdGlmIChsYXllcikge1xuXHRcdFx0Ly8gaWYgd2UncmUgbGVhdmluZyB0aGUgbGF5ZXIsIGZpcmUgbW91c2VvdXRcblx0XHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xuXHRcdFx0dGhpcy5fZmlyZUV2ZW50KFtsYXllcl0sIGUsICdtb3VzZW91dCcpO1xuXHRcdFx0dGhpcy5faG92ZXJlZExheWVyID0gbnVsbDtcblx0XHRcdHRoaXMuX21vdXNlSG92ZXJUaHJvdHRsZWQgPSBmYWxzZTtcblx0XHR9XG5cdH0sXG5cblx0X2hhbmRsZU1vdXNlSG92ZXI6IGZ1bmN0aW9uIChlLCBwb2ludCkge1xuXHRcdGlmICh0aGlzLl9tb3VzZUhvdmVyVGhyb3R0bGVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGxheWVyLCBjYW5kaWRhdGVIb3ZlcmVkTGF5ZXI7XG5cblx0XHRmb3IgKHZhciBvcmRlciA9IHRoaXMuX2RyYXdGaXJzdDsgb3JkZXI7IG9yZGVyID0gb3JkZXIubmV4dCkge1xuXHRcdFx0bGF5ZXIgPSBvcmRlci5sYXllcjtcblx0XHRcdGlmIChsYXllci5vcHRpb25zLmludGVyYWN0aXZlICYmIGxheWVyLl9jb250YWluc1BvaW50KHBvaW50KSkge1xuXHRcdFx0XHRjYW5kaWRhdGVIb3ZlcmVkTGF5ZXIgPSBsYXllcjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoY2FuZGlkYXRlSG92ZXJlZExheWVyICE9PSB0aGlzLl9ob3ZlcmVkTGF5ZXIpIHtcblx0XHRcdHRoaXMuX2hhbmRsZU1vdXNlT3V0KGUpO1xuXG5cdFx0XHRpZiAoY2FuZGlkYXRlSG92ZXJlZExheWVyKSB7XG5cdFx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpOyAvLyBjaGFuZ2UgY3Vyc29yXG5cdFx0XHRcdHRoaXMuX2ZpcmVFdmVudChbY2FuZGlkYXRlSG92ZXJlZExheWVyXSwgZSwgJ21vdXNlb3ZlcicpO1xuXHRcdFx0XHR0aGlzLl9ob3ZlcmVkTGF5ZXIgPSBjYW5kaWRhdGVIb3ZlcmVkTGF5ZXI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fZmlyZUV2ZW50KHRoaXMuX2hvdmVyZWRMYXllciA/IFt0aGlzLl9ob3ZlcmVkTGF5ZXJdIDogZmFsc2UsIGUpO1xuXG5cdFx0dGhpcy5fbW91c2VIb3ZlclRocm90dGxlZCA9IHRydWU7XG5cdFx0c2V0VGltZW91dChVdGlsLmJpbmQoZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5fbW91c2VIb3ZlclRocm90dGxlZCA9IGZhbHNlO1xuXHRcdH0sIHRoaXMpLCAzMik7XG5cdH0sXG5cblx0X2ZpcmVFdmVudDogZnVuY3Rpb24gKGxheWVycywgZSwgdHlwZSkge1xuXHRcdHRoaXMuX21hcC5fZmlyZURPTUV2ZW50KGUsIHR5cGUgfHwgZS50eXBlLCBsYXllcnMpO1xuXHR9LFxuXG5cdF9icmluZ1RvRnJvbnQ6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBvcmRlciA9IGxheWVyLl9vcmRlcjtcblxuXHRcdGlmICghb3JkZXIpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgbmV4dCA9IG9yZGVyLm5leHQ7XG5cdFx0dmFyIHByZXYgPSBvcmRlci5wcmV2O1xuXG5cdFx0aWYgKG5leHQpIHtcblx0XHRcdG5leHQucHJldiA9IHByZXY7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEFscmVhZHkgbGFzdFxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAocHJldikge1xuXHRcdFx0cHJldi5uZXh0ID0gbmV4dDtcblx0XHR9IGVsc2UgaWYgKG5leHQpIHtcblx0XHRcdC8vIFVwZGF0ZSBmaXJzdCBlbnRyeSB1bmxlc3MgdGhpcyBpcyB0aGVcblx0XHRcdC8vIHNpbmdsZSBlbnRyeVxuXHRcdFx0dGhpcy5fZHJhd0ZpcnN0ID0gbmV4dDtcblx0XHR9XG5cblx0XHRvcmRlci5wcmV2ID0gdGhpcy5fZHJhd0xhc3Q7XG5cdFx0dGhpcy5fZHJhd0xhc3QubmV4dCA9IG9yZGVyO1xuXG5cdFx0b3JkZXIubmV4dCA9IG51bGw7XG5cdFx0dGhpcy5fZHJhd0xhc3QgPSBvcmRlcjtcblxuXHRcdHRoaXMuX3JlcXVlc3RSZWRyYXcobGF5ZXIpO1xuXHR9LFxuXG5cdF9icmluZ1RvQmFjazogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIG9yZGVyID0gbGF5ZXIuX29yZGVyO1xuXG5cdFx0aWYgKCFvcmRlcikgeyByZXR1cm47IH1cblxuXHRcdHZhciBuZXh0ID0gb3JkZXIubmV4dDtcblx0XHR2YXIgcHJldiA9IG9yZGVyLnByZXY7XG5cblx0XHRpZiAocHJldikge1xuXHRcdFx0cHJldi5uZXh0ID0gbmV4dDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gQWxyZWFkeSBmaXJzdFxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAobmV4dCkge1xuXHRcdFx0bmV4dC5wcmV2ID0gcHJldjtcblx0XHR9IGVsc2UgaWYgKHByZXYpIHtcblx0XHRcdC8vIFVwZGF0ZSBsYXN0IGVudHJ5IHVubGVzcyB0aGlzIGlzIHRoZVxuXHRcdFx0Ly8gc2luZ2xlIGVudHJ5XG5cdFx0XHR0aGlzLl9kcmF3TGFzdCA9IHByZXY7XG5cdFx0fVxuXG5cdFx0b3JkZXIucHJldiA9IG51bGw7XG5cblx0XHRvcmRlci5uZXh0ID0gdGhpcy5fZHJhd0ZpcnN0O1xuXHRcdHRoaXMuX2RyYXdGaXJzdC5wcmV2ID0gb3JkZXI7XG5cdFx0dGhpcy5fZHJhd0ZpcnN0ID0gb3JkZXI7XG5cblx0XHR0aGlzLl9yZXF1ZXN0UmVkcmF3KGxheWVyKTtcblx0fVxufSk7XG5cbi8vIEBmYWN0b3J5IEwuY2FudmFzKG9wdGlvbnM/OiBSZW5kZXJlciBvcHRpb25zKVxuLy8gQ3JlYXRlcyBhIENhbnZhcyByZW5kZXJlciB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuZXhwb3J0IGZ1bmN0aW9uIGNhbnZhcyhvcHRpb25zKSB7XG5cdHJldHVybiBCcm93c2VyLmNhbnZhcyA/IG5ldyBDYW52YXMob3B0aW9ucykgOiBudWxsO1xufVxuIiwgImltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0IHtSZW5kZXJlcn0gZnJvbSAnLi9SZW5kZXJlcic7XG5cbi8qXG4gKiBUaGFua3MgdG8gRG1pdHJ5IEJhcmFub3Zza3kgYW5kIGhpcyBSYXBoYWVsIGxpYnJhcnkgZm9yIGluc3BpcmF0aW9uIVxuICovXG5cblxuZXhwb3J0IHZhciB2bWxDcmVhdGUgPSAoZnVuY3Rpb24gKCkge1xuXHR0cnkge1xuXHRcdGRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKCdsdm1sJywgJ3VybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sJyk7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnPGx2bWw6JyArIG5hbWUgKyAnIGNsYXNzPVwibHZtbFwiPicpO1xuXHRcdH07XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBEbyBub3QgcmV0dXJuIGZuIGZyb20gY2F0Y2ggYmxvY2sgc28gYGVgIGNhbiBiZSBnYXJiYWdlIGNvbGxlY3RlZFxuXHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L3B1bGwvNzI3OVxuXHR9XG5cdHJldHVybiBmdW5jdGlvbiAobmFtZSkge1xuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCc8JyArIG5hbWUgKyAnIHhtbG5zPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LmNvbTp2bWxcIiBjbGFzcz1cImx2bWxcIj4nKTtcblx0fTtcbn0pKCk7XG5cblxuLypcbiAqIEBjbGFzcyBTVkdcbiAqXG4gKlxuICogVk1MIHdhcyBkZXByZWNhdGVkIGluIDIwMTIsIHdoaWNoIG1lYW5zIFZNTCBmdW5jdGlvbmFsaXR5IGV4aXN0cyBvbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICogd2l0aCBvbGQgdmVyc2lvbnMgb2YgSW50ZXJuZXQgRXhwbG9yZXIuXG4gKi9cblxuLy8gbWl4aW4gdG8gcmVkZWZpbmUgc29tZSBTVkcgbWV0aG9kcyB0byBoYW5kbGUgVk1MIHN5bnRheCB3aGljaCBpcyBzaW1pbGFyIGJ1dCB3aXRoIHNvbWUgZGlmZmVyZW5jZXNcbmV4cG9ydCB2YXIgdm1sTWl4aW4gPSB7XG5cblx0X2luaXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9jb250YWluZXIgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtdm1sLWNvbnRhaW5lcicpO1xuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwLl9hbmltYXRpbmdab29tKSB7IHJldHVybjsgfVxuXHRcdFJlbmRlcmVyLnByb3RvdHlwZS5fdXBkYXRlLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5maXJlKCd1cGRhdGUnKTtcblx0fSxcblxuXHRfaW5pdFBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBjb250YWluZXIgPSBsYXllci5fY29udGFpbmVyID0gdm1sQ3JlYXRlKCdzaGFwZScpO1xuXG5cdFx0RG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LXZtbC1zaGFwZSAnICsgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUgfHwgJycpKTtcblxuXHRcdGNvbnRhaW5lci5jb29yZHNpemUgPSAnMSAxJztcblxuXHRcdGxheWVyLl9wYXRoID0gdm1sQ3JlYXRlKCdwYXRoJyk7XG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGxheWVyLl9wYXRoKTtcblxuXHRcdHRoaXMuX3VwZGF0ZVN0eWxlKGxheWVyKTtcblx0XHR0aGlzLl9sYXllcnNbVXRpbC5zdGFtcChsYXllcildID0gbGF5ZXI7XG5cdH0sXG5cblx0X2FkZFBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBjb250YWluZXIgPSBsYXllci5fY29udGFpbmVyO1xuXHRcdHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG5cdFx0aWYgKGxheWVyLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcblx0XHRcdGxheWVyLmFkZEludGVyYWN0aXZlVGFyZ2V0KGNvbnRhaW5lcik7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZW1vdmVQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgY29udGFpbmVyID0gbGF5ZXIuX2NvbnRhaW5lcjtcblx0XHREb21VdGlsLnJlbW92ZShjb250YWluZXIpO1xuXHRcdGxheWVyLnJlbW92ZUludGVyYWN0aXZlVGFyZ2V0KGNvbnRhaW5lcik7XG5cdFx0ZGVsZXRlIHRoaXMuX2xheWVyc1tVdGlsLnN0YW1wKGxheWVyKV07XG5cdH0sXG5cblx0X3VwZGF0ZVN0eWxlOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgc3Ryb2tlID0gbGF5ZXIuX3N0cm9rZSxcblx0XHQgICAgZmlsbCA9IGxheWVyLl9maWxsLFxuXHRcdCAgICBvcHRpb25zID0gbGF5ZXIub3B0aW9ucyxcblx0XHQgICAgY29udGFpbmVyID0gbGF5ZXIuX2NvbnRhaW5lcjtcblxuXHRcdGNvbnRhaW5lci5zdHJva2VkID0gISFvcHRpb25zLnN0cm9rZTtcblx0XHRjb250YWluZXIuZmlsbGVkID0gISFvcHRpb25zLmZpbGw7XG5cblx0XHRpZiAob3B0aW9ucy5zdHJva2UpIHtcblx0XHRcdGlmICghc3Ryb2tlKSB7XG5cdFx0XHRcdHN0cm9rZSA9IGxheWVyLl9zdHJva2UgPSB2bWxDcmVhdGUoJ3N0cm9rZScpO1xuXHRcdFx0fVxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHN0cm9rZSk7XG5cdFx0XHRzdHJva2Uud2VpZ2h0ID0gb3B0aW9ucy53ZWlnaHQgKyAncHgnO1xuXHRcdFx0c3Ryb2tlLmNvbG9yID0gb3B0aW9ucy5jb2xvcjtcblx0XHRcdHN0cm9rZS5vcGFjaXR5ID0gb3B0aW9ucy5vcGFjaXR5O1xuXG5cdFx0XHRpZiAob3B0aW9ucy5kYXNoQXJyYXkpIHtcblx0XHRcdFx0c3Ryb2tlLmRhc2hTdHlsZSA9IFV0aWwuaXNBcnJheShvcHRpb25zLmRhc2hBcnJheSkgP1xuXHRcdFx0XHQgICAgb3B0aW9ucy5kYXNoQXJyYXkuam9pbignICcpIDpcblx0XHRcdFx0ICAgIG9wdGlvbnMuZGFzaEFycmF5LnJlcGxhY2UoLyggKiwgKikvZywgJyAnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0cm9rZS5kYXNoU3R5bGUgPSAnJztcblx0XHRcdH1cblx0XHRcdHN0cm9rZS5lbmRjYXAgPSBvcHRpb25zLmxpbmVDYXAucmVwbGFjZSgnYnV0dCcsICdmbGF0Jyk7XG5cdFx0XHRzdHJva2Uuam9pbnN0eWxlID0gb3B0aW9ucy5saW5lSm9pbjtcblxuXHRcdH0gZWxzZSBpZiAoc3Ryb2tlKSB7XG5cdFx0XHRjb250YWluZXIucmVtb3ZlQ2hpbGQoc3Ryb2tlKTtcblx0XHRcdGxheWVyLl9zdHJva2UgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLmZpbGwpIHtcblx0XHRcdGlmICghZmlsbCkge1xuXHRcdFx0XHRmaWxsID0gbGF5ZXIuX2ZpbGwgPSB2bWxDcmVhdGUoJ2ZpbGwnKTtcblx0XHRcdH1cblx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChmaWxsKTtcblx0XHRcdGZpbGwuY29sb3IgPSBvcHRpb25zLmZpbGxDb2xvciB8fCBvcHRpb25zLmNvbG9yO1xuXHRcdFx0ZmlsbC5vcGFjaXR5ID0gb3B0aW9ucy5maWxsT3BhY2l0eTtcblxuXHRcdH0gZWxzZSBpZiAoZmlsbCkge1xuXHRcdFx0Y29udGFpbmVyLnJlbW92ZUNoaWxkKGZpbGwpO1xuXHRcdFx0bGF5ZXIuX2ZpbGwgPSBudWxsO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlQ2lyY2xlOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgcCA9IGxheWVyLl9wb2ludC5yb3VuZCgpLFxuXHRcdCAgICByID0gTWF0aC5yb3VuZChsYXllci5fcmFkaXVzKSxcblx0XHQgICAgcjIgPSBNYXRoLnJvdW5kKGxheWVyLl9yYWRpdXNZIHx8IHIpO1xuXG5cdFx0dGhpcy5fc2V0UGF0aChsYXllciwgbGF5ZXIuX2VtcHR5KCkgPyAnTTAgMCcgOlxuXHRcdFx0J0FMICcgKyBwLnggKyAnLCcgKyBwLnkgKyAnICcgKyByICsgJywnICsgcjIgKyAnIDAsJyArICg2NTUzNSAqIDM2MCkpO1xuXHR9LFxuXG5cdF9zZXRQYXRoOiBmdW5jdGlvbiAobGF5ZXIsIHBhdGgpIHtcblx0XHRsYXllci5fcGF0aC52ID0gcGF0aDtcblx0fSxcblxuXHRfYnJpbmdUb0Zyb250OiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHREb21VdGlsLnRvRnJvbnQobGF5ZXIuX2NvbnRhaW5lcik7XG5cdH0sXG5cblx0X2JyaW5nVG9CYWNrOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHREb21VdGlsLnRvQmFjayhsYXllci5fY29udGFpbmVyKTtcblx0fVxufTtcbiIsICJpbXBvcnQge1JlbmRlcmVyfSBmcm9tICcuL1JlbmRlcmVyJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vLi4vZG9tL0RvbUV2ZW50JztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uLy4uL2NvcmUvQnJvd3Nlcic7XG5pbXBvcnQge3N0YW1wfSBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0IHtzdmdDcmVhdGUsIHBvaW50c1RvUGF0aH0gZnJvbSAnLi9TVkcuVXRpbCc7XG5leHBvcnQge3BvaW50c1RvUGF0aH07XG5pbXBvcnQge3ZtbE1peGluLCB2bWxDcmVhdGV9IGZyb20gJy4vU1ZHLlZNTCc7XG5cbmV4cG9ydCB2YXIgY3JlYXRlID0gQnJvd3Nlci52bWwgPyB2bWxDcmVhdGUgOiBzdmdDcmVhdGU7XG5cbi8qXG4gKiBAY2xhc3MgU1ZHXG4gKiBAaW5oZXJpdHMgUmVuZGVyZXJcbiAqIEBha2EgTC5TVkdcbiAqXG4gKiBBbGxvd3MgdmVjdG9yIGxheWVycyB0byBiZSBkaXNwbGF5ZWQgd2l0aCBbU1ZHXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcpLlxuICogSW5oZXJpdHMgYFJlbmRlcmVyYC5cbiAqXG4gKiBEdWUgdG8gW3RlY2huaWNhbCBsaW1pdGF0aW9uc10oaHR0cHM6Ly9jYW5pdXNlLmNvbS9zdmcpLCBTVkcgaXMgbm90XG4gKiBhdmFpbGFibGUgaW4gYWxsIHdlYiBicm93c2Vycywgbm90YWJseSBBbmRyb2lkIDIueCBhbmQgMy54LlxuICpcbiAqIEFsdGhvdWdoIFNWRyBpcyBub3QgYXZhaWxhYmxlIG9uIElFNyBhbmQgSUU4LCB0aGVzZSBicm93c2VycyBzdXBwb3J0XG4gKiBbVk1MXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WZWN0b3JfTWFya3VwX0xhbmd1YWdlKVxuICogKGEgbm93IGRlcHJlY2F0ZWQgdGVjaG5vbG9neSksIGFuZCB0aGUgU1ZHIHJlbmRlcmVyIHdpbGwgZmFsbCBiYWNrIHRvIFZNTCBpblxuICogdGhpcyBjYXNlLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogVXNlIFNWRyBieSBkZWZhdWx0IGZvciBhbGwgcGF0aHMgaW4gdGhlIG1hcDpcbiAqXG4gKiBgYGBqc1xuICogdmFyIG1hcCA9IEwubWFwKCdtYXAnLCB7XG4gKiBcdHJlbmRlcmVyOiBMLnN2ZygpXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFVzZSBhIFNWRyByZW5kZXJlciB3aXRoIGV4dHJhIHBhZGRpbmcgZm9yIHNwZWNpZmljIHZlY3RvciBnZW9tZXRyaWVzOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbWFwID0gTC5tYXAoJ21hcCcpO1xuICogdmFyIG15UmVuZGVyZXIgPSBMLnN2Zyh7IHBhZGRpbmc6IDAuNSB9KTtcbiAqIHZhciBsaW5lID0gTC5wb2x5bGluZSggY29vcmRpbmF0ZXMsIHsgcmVuZGVyZXI6IG15UmVuZGVyZXIgfSApO1xuICogdmFyIGNpcmNsZSA9IEwuY2lyY2xlKCBjZW50ZXIsIHsgcmVuZGVyZXI6IG15UmVuZGVyZXIgfSApO1xuICogYGBgXG4gKi9cblxuZXhwb3J0IHZhciBTVkcgPSBSZW5kZXJlci5leHRlbmQoe1xuXG5cdF9pbml0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fY29udGFpbmVyID0gY3JlYXRlKCdzdmcnKTtcblxuXHRcdC8vIG1ha2VzIGl0IHBvc3NpYmxlIHRvIGNsaWNrIHRocm91Z2ggc3ZnIHJvb3Q7IHdlJ2xsIHJlc2V0IGl0IGJhY2sgaW4gaW5kaXZpZHVhbCBwYXRoc1xuXHRcdHRoaXMuX2NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKTtcblxuXHRcdHRoaXMuX3Jvb3RHcm91cCA9IGNyZWF0ZSgnZycpO1xuXHRcdHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9yb290R3JvdXApO1xuXHR9LFxuXG5cdF9kZXN0cm95Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcblx0XHREb21FdmVudC5vZmYodGhpcy5fY29udGFpbmVyKTtcblx0XHRkZWxldGUgdGhpcy5fY29udGFpbmVyO1xuXHRcdGRlbGV0ZSB0aGlzLl9yb290R3JvdXA7XG5cdFx0ZGVsZXRlIHRoaXMuX3N2Z1NpemU7XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXAuX2FuaW1hdGluZ1pvb20gJiYgdGhpcy5fYm91bmRzKSB7IHJldHVybjsgfVxuXG5cdFx0UmVuZGVyZXIucHJvdG90eXBlLl91cGRhdGUuY2FsbCh0aGlzKTtcblxuXHRcdHZhciBiID0gdGhpcy5fYm91bmRzLFxuXHRcdCAgICBzaXplID0gYi5nZXRTaXplKCksXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcblxuXHRcdC8vIHNldCBzaXplIG9mIHN2Zy1jb250YWluZXIgaWYgY2hhbmdlZFxuXHRcdGlmICghdGhpcy5fc3ZnU2l6ZSB8fCAhdGhpcy5fc3ZnU2l6ZS5lcXVhbHMoc2l6ZSkpIHtcblx0XHRcdHRoaXMuX3N2Z1NpemUgPSBzaXplO1xuXHRcdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzaXplLngpO1xuXHRcdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZS55KTtcblx0XHR9XG5cblx0XHQvLyBtb3ZlbWVudDogdXBkYXRlIGNvbnRhaW5lciB2aWV3Qm94IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgaW5kaXZpZHVhbCBsYXllcnNcblx0XHREb21VdGlsLnNldFBvc2l0aW9uKGNvbnRhaW5lciwgYi5taW4pO1xuXHRcdGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCBbYi5taW4ueCwgYi5taW4ueSwgc2l6ZS54LCBzaXplLnldLmpvaW4oJyAnKSk7XG5cblx0XHR0aGlzLmZpcmUoJ3VwZGF0ZScpO1xuXHR9LFxuXG5cdC8vIG1ldGhvZHMgYmVsb3cgYXJlIGNhbGxlZCBieSB2ZWN0b3IgbGF5ZXJzIGltcGxlbWVudGF0aW9uc1xuXG5cdF9pbml0UGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIHBhdGggPSBsYXllci5fcGF0aCA9IGNyZWF0ZSgncGF0aCcpO1xuXG5cdFx0Ly8gQG5hbWVzcGFjZSBQYXRoXG5cdFx0Ly8gQG9wdGlvbiBjbGFzc05hbWU6IFN0cmluZyA9IG51bGxcblx0XHQvLyBDdXN0b20gY2xhc3MgbmFtZSBzZXQgb24gYW4gZWxlbWVudC4gT25seSBmb3IgU1ZHIHJlbmRlcmVyLlxuXHRcdGlmIChsYXllci5vcHRpb25zLmNsYXNzTmFtZSkge1xuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyhwYXRoLCBsYXllci5vcHRpb25zLmNsYXNzTmFtZSk7XG5cdFx0fVxuXG5cdFx0aWYgKGxheWVyLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3MocGF0aCwgJ2xlYWZsZXQtaW50ZXJhY3RpdmUnKTtcblx0XHR9XG5cblx0XHR0aGlzLl91cGRhdGVTdHlsZShsYXllcik7XG5cdFx0dGhpcy5fbGF5ZXJzW3N0YW1wKGxheWVyKV0gPSBsYXllcjtcblx0fSxcblxuXHRfYWRkUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0aWYgKCF0aGlzLl9yb290R3JvdXApIHsgdGhpcy5faW5pdENvbnRhaW5lcigpOyB9XG5cdFx0dGhpcy5fcm9vdEdyb3VwLmFwcGVuZENoaWxkKGxheWVyLl9wYXRoKTtcblx0XHRsYXllci5hZGRJbnRlcmFjdGl2ZVRhcmdldChsYXllci5fcGF0aCk7XG5cdH0sXG5cblx0X3JlbW92ZVBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdERvbVV0aWwucmVtb3ZlKGxheWVyLl9wYXRoKTtcblx0XHRsYXllci5yZW1vdmVJbnRlcmFjdGl2ZVRhcmdldChsYXllci5fcGF0aCk7XG5cdFx0ZGVsZXRlIHRoaXMuX2xheWVyc1tzdGFtcChsYXllcildO1xuXHR9LFxuXG5cdF91cGRhdGVQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRsYXllci5fcHJvamVjdCgpO1xuXHRcdGxheWVyLl91cGRhdGUoKTtcblx0fSxcblxuXHRfdXBkYXRlU3R5bGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBwYXRoID0gbGF5ZXIuX3BhdGgsXG5cdFx0ICAgIG9wdGlvbnMgPSBsYXllci5vcHRpb25zO1xuXG5cdFx0aWYgKCFwYXRoKSB7IHJldHVybjsgfVxuXG5cdFx0aWYgKG9wdGlvbnMuc3Ryb2tlKSB7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgb3B0aW9ucy5jb2xvcik7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLW9wYWNpdHknLCBvcHRpb25zLm9wYWNpdHkpO1xuXHRcdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIG9wdGlvbnMud2VpZ2h0KTtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsIG9wdGlvbnMubGluZUNhcCk7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVqb2luJywgb3B0aW9ucy5saW5lSm9pbik7XG5cblx0XHRcdGlmIChvcHRpb25zLmRhc2hBcnJheSkge1xuXHRcdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsIG9wdGlvbnMuZGFzaEFycmF5KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBhdGgucmVtb3ZlQXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvcHRpb25zLmRhc2hPZmZzZXQpIHtcblx0XHRcdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNob2Zmc2V0Jywgb3B0aW9ucy5kYXNoT2Zmc2V0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBhdGgucmVtb3ZlQXR0cmlidXRlKCdzdHJva2UtZGFzaG9mZnNldCcpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ25vbmUnKTtcblx0XHR9XG5cblx0XHRpZiAob3B0aW9ucy5maWxsKSB7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbCcsIG9wdGlvbnMuZmlsbENvbG9yIHx8IG9wdGlvbnMuY29sb3IpO1xuXHRcdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ2ZpbGwtb3BhY2l0eScsIG9wdGlvbnMuZmlsbE9wYWNpdHkpO1xuXHRcdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ2ZpbGwtcnVsZScsIG9wdGlvbnMuZmlsbFJ1bGUgfHwgJ2V2ZW5vZGQnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlUG9seTogZnVuY3Rpb24gKGxheWVyLCBjbG9zZWQpIHtcblx0XHR0aGlzLl9zZXRQYXRoKGxheWVyLCBwb2ludHNUb1BhdGgobGF5ZXIuX3BhcnRzLCBjbG9zZWQpKTtcblx0fSxcblxuXHRfdXBkYXRlQ2lyY2xlOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgcCA9IGxheWVyLl9wb2ludCxcblx0XHQgICAgciA9IE1hdGgubWF4KE1hdGgucm91bmQobGF5ZXIuX3JhZGl1cyksIDEpLFxuXHRcdCAgICByMiA9IE1hdGgubWF4KE1hdGgucm91bmQobGF5ZXIuX3JhZGl1c1kpLCAxKSB8fCByLFxuXHRcdCAgICBhcmMgPSAnYScgKyByICsgJywnICsgcjIgKyAnIDAgMSwwICc7XG5cblx0XHQvLyBkcmF3aW5nIGEgY2lyY2xlIHdpdGggdHdvIGhhbGYtYXJjc1xuXHRcdHZhciBkID0gbGF5ZXIuX2VtcHR5KCkgPyAnTTAgMCcgOlxuXHRcdFx0J00nICsgKHAueCAtIHIpICsgJywnICsgcC55ICtcblx0XHRcdGFyYyArIChyICogMikgKyAnLDAgJyArXG5cdFx0XHRhcmMgKyAoLXIgKiAyKSArICcsMCAnO1xuXG5cdFx0dGhpcy5fc2V0UGF0aChsYXllciwgZCk7XG5cdH0sXG5cblx0X3NldFBhdGg6IGZ1bmN0aW9uIChsYXllciwgcGF0aCkge1xuXHRcdGxheWVyLl9wYXRoLnNldEF0dHJpYnV0ZSgnZCcsIHBhdGgpO1xuXHR9LFxuXG5cdC8vIFNWRyBkb2VzIG5vdCBoYXZlIHRoZSBjb25jZXB0IG9mIHpJbmRleCBzbyB3ZSByZXNvcnQgdG8gY2hhbmdpbmcgdGhlIERPTSBvcmRlciBvZiBlbGVtZW50c1xuXHRfYnJpbmdUb0Zyb250OiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHREb21VdGlsLnRvRnJvbnQobGF5ZXIuX3BhdGgpO1xuXHR9LFxuXG5cdF9icmluZ1RvQmFjazogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0RG9tVXRpbC50b0JhY2sobGF5ZXIuX3BhdGgpO1xuXHR9XG59KTtcblxuaWYgKEJyb3dzZXIudm1sKSB7XG5cdFNWRy5pbmNsdWRlKHZtbE1peGluKTtcbn1cblxuLy8gQG5hbWVzcGFjZSBTVkdcbi8vIEBmYWN0b3J5IEwuc3ZnKG9wdGlvbnM/OiBSZW5kZXJlciBvcHRpb25zKVxuLy8gQ3JlYXRlcyBhIFNWRyByZW5kZXJlciB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuZXhwb3J0IGZ1bmN0aW9uIHN2ZyhvcHRpb25zKSB7XG5cdHJldHVybiBCcm93c2VyLnN2ZyB8fCBCcm93c2VyLnZtbCA/IG5ldyBTVkcob3B0aW9ucykgOiBudWxsO1xufVxuIiwgImltcG9ydCB7TWFwfSBmcm9tICcuLi8uLi9tYXAvTWFwJztcbmltcG9ydCB7Y2FudmFzfSBmcm9tICcuL0NhbnZhcyc7XG5pbXBvcnQge3N2Z30gZnJvbSAnLi9TVkcnO1xuXG5NYXAuaW5jbHVkZSh7XG5cdC8vIEBuYW1lc3BhY2UgTWFwOyBAbWV0aG9kIGdldFJlbmRlcmVyKGxheWVyOiBQYXRoKTogUmVuZGVyZXJcblx0Ly8gUmV0dXJucyB0aGUgaW5zdGFuY2Ugb2YgYFJlbmRlcmVyYCB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHJlbmRlciB0aGUgZ2l2ZW5cblx0Ly8gYFBhdGhgLiBJdCB3aWxsIGVuc3VyZSB0aGF0IHRoZSBgcmVuZGVyZXJgIG9wdGlvbnMgb2YgdGhlIG1hcCBhbmQgcGF0aHNcblx0Ly8gYXJlIHJlc3BlY3RlZCwgYW5kIHRoYXQgdGhlIHJlbmRlcmVycyBkbyBleGlzdCBvbiB0aGUgbWFwLlxuXHRnZXRSZW5kZXJlcjogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0Ly8gQG5hbWVzcGFjZSBQYXRoOyBAb3B0aW9uIHJlbmRlcmVyOiBSZW5kZXJlclxuXHRcdC8vIFVzZSB0aGlzIHNwZWNpZmljIGluc3RhbmNlIG9mIGBSZW5kZXJlcmAgZm9yIHRoaXMgcGF0aC4gVGFrZXNcblx0XHQvLyBwcmVjZWRlbmNlIG92ZXIgdGhlIG1hcCdzIFtkZWZhdWx0IHJlbmRlcmVyXSgjbWFwLXJlbmRlcmVyKS5cblx0XHR2YXIgcmVuZGVyZXIgPSBsYXllci5vcHRpb25zLnJlbmRlcmVyIHx8IHRoaXMuX2dldFBhbmVSZW5kZXJlcihsYXllci5vcHRpb25zLnBhbmUpIHx8IHRoaXMub3B0aW9ucy5yZW5kZXJlciB8fCB0aGlzLl9yZW5kZXJlcjtcblxuXHRcdGlmICghcmVuZGVyZXIpIHtcblx0XHRcdHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXIgPSB0aGlzLl9jcmVhdGVSZW5kZXJlcigpO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5oYXNMYXllcihyZW5kZXJlcikpIHtcblx0XHRcdHRoaXMuYWRkTGF5ZXIocmVuZGVyZXIpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVuZGVyZXI7XG5cdH0sXG5cblx0X2dldFBhbmVSZW5kZXJlcjogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRpZiAobmFtZSA9PT0gJ292ZXJsYXlQYW5lJyB8fCBuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR2YXIgcmVuZGVyZXIgPSB0aGlzLl9wYW5lUmVuZGVyZXJzW25hbWVdO1xuXHRcdGlmIChyZW5kZXJlciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZW5kZXJlciA9IHRoaXMuX2NyZWF0ZVJlbmRlcmVyKHtwYW5lOiBuYW1lfSk7XG5cdFx0XHR0aGlzLl9wYW5lUmVuZGVyZXJzW25hbWVdID0gcmVuZGVyZXI7XG5cdFx0fVxuXHRcdHJldHVybiByZW5kZXJlcjtcblx0fSxcblxuXHRfY3JlYXRlUmVuZGVyZXI6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0Ly8gQG5hbWVzcGFjZSBNYXA7IEBvcHRpb24gcHJlZmVyQ2FudmFzOiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBXaGV0aGVyIGBQYXRoYHMgc2hvdWxkIGJlIHJlbmRlcmVkIG9uIGEgYENhbnZhc2AgcmVuZGVyZXIuXG5cdFx0Ly8gQnkgZGVmYXVsdCwgYWxsIGBQYXRoYHMgYXJlIHJlbmRlcmVkIGluIGEgYFNWR2AgcmVuZGVyZXIuXG5cdFx0cmV0dXJuICh0aGlzLm9wdGlvbnMucHJlZmVyQ2FudmFzICYmIGNhbnZhcyhvcHRpb25zKSkgfHwgc3ZnKG9wdGlvbnMpO1xuXHR9XG59KTtcbiIsICJpbXBvcnQge1BvbHlnb259IGZyb20gJy4vUG9seWdvbic7XG5pbXBvcnQge3RvTGF0TG5nQm91bmRzfSBmcm9tICcuLi8uLi9nZW8vTGF0TG5nQm91bmRzJztcblxuLypcbiAqIEwuUmVjdGFuZ2xlIGV4dGVuZHMgUG9seWdvbiBhbmQgY3JlYXRlcyBhIHJlY3RhbmdsZSB3aGVuIHBhc3NlZCBhIExhdExuZ0JvdW5kcyBvYmplY3QuXG4gKi9cblxuLypcbiAqIEBjbGFzcyBSZWN0YW5nbGVcbiAqIEBha2EgTC5SZWN0YW5nbGVcbiAqIEBpbmhlcml0cyBQb2x5Z29uXG4gKlxuICogQSBjbGFzcyBmb3IgZHJhd2luZyByZWN0YW5nbGUgb3ZlcmxheXMgb24gYSBtYXAuIEV4dGVuZHMgYFBvbHlnb25gLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIC8vIGRlZmluZSByZWN0YW5nbGUgZ2VvZ3JhcGhpY2FsIGJvdW5kc1xuICogdmFyIGJvdW5kcyA9IFtbNTQuNTU5MzIyLCAtNS43Njc4MjJdLCBbNTYuMTIxMDYwNCwgLTMuMDIxMjQwXV07XG4gKlxuICogLy8gY3JlYXRlIGFuIG9yYW5nZSByZWN0YW5nbGVcbiAqIEwucmVjdGFuZ2xlKGJvdW5kcywge2NvbG9yOiBcIiNmZjc4MDBcIiwgd2VpZ2h0OiAxfSkuYWRkVG8obWFwKTtcbiAqXG4gKiAvLyB6b29tIHRoZSBtYXAgdG8gdGhlIHJlY3RhbmdsZSBib3VuZHNcbiAqIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAqIGBgYFxuICpcbiAqL1xuXG5cbmV4cG9ydCB2YXIgUmVjdGFuZ2xlID0gUG9seWdvbi5leHRlbmQoe1xuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAobGF0TG5nQm91bmRzLCBvcHRpb25zKSB7XG5cdFx0UG9seWdvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIHRoaXMuX2JvdW5kc1RvTGF0TG5ncyhsYXRMbmdCb3VuZHMpLCBvcHRpb25zKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldEJvdW5kcyhsYXRMbmdCb3VuZHM6IExhdExuZ0JvdW5kcyk6IHRoaXNcblx0Ly8gUmVkcmF3cyB0aGUgcmVjdGFuZ2xlIHdpdGggdGhlIHBhc3NlZCBib3VuZHMuXG5cdHNldEJvdW5kczogZnVuY3Rpb24gKGxhdExuZ0JvdW5kcykge1xuXHRcdHJldHVybiB0aGlzLnNldExhdExuZ3ModGhpcy5fYm91bmRzVG9MYXRMbmdzKGxhdExuZ0JvdW5kcykpO1xuXHR9LFxuXG5cdF9ib3VuZHNUb0xhdExuZ3M6IGZ1bmN0aW9uIChsYXRMbmdCb3VuZHMpIHtcblx0XHRsYXRMbmdCb3VuZHMgPSB0b0xhdExuZ0JvdW5kcyhsYXRMbmdCb3VuZHMpO1xuXHRcdHJldHVybiBbXG5cdFx0XHRsYXRMbmdCb3VuZHMuZ2V0U291dGhXZXN0KCksXG5cdFx0XHRsYXRMbmdCb3VuZHMuZ2V0Tm9ydGhXZXN0KCksXG5cdFx0XHRsYXRMbmdCb3VuZHMuZ2V0Tm9ydGhFYXN0KCksXG5cdFx0XHRsYXRMbmdCb3VuZHMuZ2V0U291dGhFYXN0KClcblx0XHRdO1xuXHR9XG59KTtcblxuXG4vLyBAZmFjdG9yeSBMLnJlY3RhbmdsZShsYXRMbmdCb3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IFBvbHlsaW5lIG9wdGlvbnMpXG5leHBvcnQgZnVuY3Rpb24gcmVjdGFuZ2xlKGxhdExuZ0JvdW5kcywgb3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IFJlY3RhbmdsZShsYXRMbmdCb3VuZHMsIG9wdGlvbnMpO1xufVxuIiwgImV4cG9ydCB7UmVuZGVyZXJ9IGZyb20gJy4vUmVuZGVyZXInO1xuZXhwb3J0IHtDYW52YXMsIGNhbnZhc30gZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IHtTVkcsIGNyZWF0ZSwgcG9pbnRzVG9QYXRoLCBzdmd9IGZyb20gJy4vU1ZHJztcblNWRy5jcmVhdGUgPSBjcmVhdGU7XG5TVkcucG9pbnRzVG9QYXRoID0gcG9pbnRzVG9QYXRoO1xuZXhwb3J0IHtTVkcsIHN2Z307XG5pbXBvcnQgJy4vUmVuZGVyZXIuZ2V0UmVuZGVyZXInO1x0Ly8gVGhpcyBpcyBhIGJpdCBvZiBhIGhhY2ssIGJ1dCBuZWVkZWQgYmVjYXVzZSBjaXJjdWxhciBkZXBlbmRlbmNpZXNcblxuZXhwb3J0IHtQYXRofSBmcm9tICcuL1BhdGgnO1xuZXhwb3J0IHtDaXJjbGVNYXJrZXIsIGNpcmNsZU1hcmtlcn0gZnJvbSAnLi9DaXJjbGVNYXJrZXInO1xuZXhwb3J0IHtDaXJjbGUsIGNpcmNsZX0gZnJvbSAnLi9DaXJjbGUnO1xuZXhwb3J0IHtQb2x5bGluZSwgcG9seWxpbmV9IGZyb20gJy4vUG9seWxpbmUnO1xuZXhwb3J0IHtQb2x5Z29uLCBwb2x5Z29ufSBmcm9tICcuL1BvbHlnb24nO1xuZXhwb3J0IHtSZWN0YW5nbGUsIHJlY3RhbmdsZX0gZnJvbSAnLi9SZWN0YW5nbGUnO1xuIiwgImV4cG9ydCB7TGF5ZXJ9IGZyb20gJy4vTGF5ZXInO1xuZXhwb3J0IHtMYXllckdyb3VwLCBsYXllckdyb3VwfSBmcm9tICcuL0xheWVyR3JvdXAnO1xuZXhwb3J0IHtGZWF0dXJlR3JvdXAsIGZlYXR1cmVHcm91cH0gZnJvbSAnLi9GZWF0dXJlR3JvdXAnO1xuaW1wb3J0IHtHZW9KU09OLCBnZW9KU09OLCBnZW9Kc29uLCBnZW9tZXRyeVRvTGF5ZXIsIGNvb3Jkc1RvTGF0TG5nLCBjb29yZHNUb0xhdExuZ3MsIGxhdExuZ1RvQ29vcmRzLCBsYXRMbmdzVG9Db29yZHMsIGdldEZlYXR1cmUsIGFzRmVhdHVyZX0gZnJvbSAnLi9HZW9KU09OJztcbkdlb0pTT04uZ2VvbWV0cnlUb0xheWVyID0gZ2VvbWV0cnlUb0xheWVyO1xuR2VvSlNPTi5jb29yZHNUb0xhdExuZyA9IGNvb3Jkc1RvTGF0TG5nO1xuR2VvSlNPTi5jb29yZHNUb0xhdExuZ3MgPSBjb29yZHNUb0xhdExuZ3M7XG5HZW9KU09OLmxhdExuZ1RvQ29vcmRzID0gbGF0TG5nVG9Db29yZHM7XG5HZW9KU09OLmxhdExuZ3NUb0Nvb3JkcyA9IGxhdExuZ3NUb0Nvb3Jkcztcbkdlb0pTT04uZ2V0RmVhdHVyZSA9IGdldEZlYXR1cmU7XG5HZW9KU09OLmFzRmVhdHVyZSA9IGFzRmVhdHVyZTtcbmV4cG9ydCB7R2VvSlNPTiwgZ2VvSlNPTiwgZ2VvSnNvbn07XG5cbmV4cG9ydCB7SW1hZ2VPdmVybGF5LCBpbWFnZU92ZXJsYXl9IGZyb20gJy4vSW1hZ2VPdmVybGF5JztcbmV4cG9ydCB7VmlkZW9PdmVybGF5LCB2aWRlb092ZXJsYXl9IGZyb20gJy4vVmlkZW9PdmVybGF5JztcbmV4cG9ydCB7U1ZHT3ZlcmxheSwgc3ZnT3ZlcmxheX0gZnJvbSAnLi9TVkdPdmVybGF5JztcblxuZXhwb3J0IHtEaXZPdmVybGF5fSBmcm9tICcuL0Rpdk92ZXJsYXknO1xuZXhwb3J0IHtQb3B1cCwgcG9wdXB9IGZyb20gJy4vUG9wdXAnO1xuZXhwb3J0IHtUb29sdGlwLCB0b29sdGlwfSBmcm9tICcuL1Rvb2x0aXAnO1xuXG5leHBvcnQgKiBmcm9tICcuL21hcmtlci9pbmRleCc7XG5leHBvcnQgKiBmcm9tICcuL3RpbGUvaW5kZXgnO1xuZXhwb3J0ICogZnJvbSAnLi92ZWN0b3IvaW5kZXgnO1xuIiwgImltcG9ydCB7TWFwfSBmcm9tICcuLi9NYXAnO1xuaW1wb3J0IHtIYW5kbGVyfSBmcm9tICcuLi8uLi9jb3JlL0hhbmRsZXInO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi8uLi9kb20vRG9tRXZlbnQnO1xuaW1wb3J0IHtMYXRMbmdCb3VuZHN9IGZyb20gJy4uLy4uL2dlby9MYXRMbmdCb3VuZHMnO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XG5cbi8qXG4gKiBMLkhhbmRsZXIuQm94Wm9vbSBpcyB1c2VkIHRvIGFkZCBzaGlmdC1kcmFnIHpvb20gaW50ZXJhY3Rpb24gdG8gdGhlIG1hcFxuICogKHpvb20gdG8gYSBzZWxlY3RlZCBib3VuZGluZyBib3gpLCBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcbk1hcC5tZXJnZU9wdGlvbnMoe1xuXHQvLyBAb3B0aW9uIGJveFpvb206IEJvb2xlYW4gPSB0cnVlXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBjYW4gYmUgem9vbWVkIHRvIGEgcmVjdGFuZ3VsYXIgYXJlYSBzcGVjaWZpZWQgYnlcblx0Ly8gZHJhZ2dpbmcgdGhlIG1vdXNlIHdoaWxlIHByZXNzaW5nIHRoZSBzaGlmdCBrZXkuXG5cdGJveFpvb206IHRydWVcbn0pO1xuXG5leHBvcnQgdmFyIEJveFpvb20gPSBIYW5kbGVyLmV4dGVuZCh7XG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChtYXApIHtcblx0XHR0aGlzLl9tYXAgPSBtYXA7XG5cdFx0dGhpcy5fY29udGFpbmVyID0gbWFwLl9jb250YWluZXI7XG5cdFx0dGhpcy5fcGFuZSA9IG1hcC5fcGFuZXMub3ZlcmxheVBhbmU7XG5cdFx0dGhpcy5fcmVzZXRTdGF0ZVRpbWVvdXQgPSAwO1xuXHRcdG1hcC5vbigndW5sb2FkJywgdGhpcy5fZGVzdHJveSwgdGhpcyk7XG5cdH0sXG5cblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21FdmVudC5vbih0aGlzLl9jb250YWluZXIsICdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93biwgdGhpcyk7XG5cdH0sXG5cblx0cmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21FdmVudC5vZmYodGhpcy5fY29udGFpbmVyLCAnbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd24sIHRoaXMpO1xuXHR9LFxuXG5cdG1vdmVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX21vdmVkO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fcGFuZSk7XG5cdFx0ZGVsZXRlIHRoaXMuX3BhbmU7XG5cdH0sXG5cblx0X3Jlc2V0U3RhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZXNldFN0YXRlVGltZW91dCA9IDA7XG5cdFx0dGhpcy5fbW92ZWQgPSBmYWxzZTtcblx0fSxcblxuXHRfY2xlYXJEZWZlcnJlZFJlc2V0U3RhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fcmVzZXRTdGF0ZVRpbWVvdXQgIT09IDApIHtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9yZXNldFN0YXRlVGltZW91dCk7XG5cdFx0XHR0aGlzLl9yZXNldFN0YXRlVGltZW91dCA9IDA7XG5cdFx0fVxuXHR9LFxuXG5cdF9vbk1vdXNlRG93bjogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoIWUuc2hpZnRLZXkgfHwgKChlLndoaWNoICE9PSAxKSAmJiAoZS5idXR0b24gIT09IDEpKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRcdC8vIENsZWFyIHRoZSBkZWZlcnJlZCByZXNldFN0YXRlIGlmIGl0IGhhc24ndCBleGVjdXRlZCB5ZXQsIG90aGVyd2lzZSBpdFxuXHRcdC8vIHdpbGwgaW50ZXJydXB0IHRoZSBpbnRlcmFjdGlvbiBhbmQgb3JwaGFuIGEgYm94IGVsZW1lbnQgaW4gdGhlIGNvbnRhaW5lci5cblx0XHR0aGlzLl9jbGVhckRlZmVycmVkUmVzZXRTdGF0ZSgpO1xuXHRcdHRoaXMuX3Jlc2V0U3RhdGUoKTtcblxuXHRcdERvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKTtcblx0XHREb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKTtcblxuXHRcdHRoaXMuX3N0YXJ0UG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSk7XG5cblx0XHREb21FdmVudC5vbihkb2N1bWVudCwge1xuXHRcdFx0Y29udGV4dG1lbnU6IERvbUV2ZW50LnN0b3AsXG5cdFx0XHRtb3VzZW1vdmU6IHRoaXMuX29uTW91c2VNb3ZlLFxuXHRcdFx0bW91c2V1cDogdGhpcy5fb25Nb3VzZVVwLFxuXHRcdFx0a2V5ZG93bjogdGhpcy5fb25LZXlEb3duXG5cdFx0fSwgdGhpcyk7XG5cdH0sXG5cblx0X29uTW91c2VNb3ZlOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghdGhpcy5fbW92ZWQpIHtcblx0XHRcdHRoaXMuX21vdmVkID0gdHJ1ZTtcblxuXHRcdFx0dGhpcy5fYm94ID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LXpvb20tYm94JywgdGhpcy5fY29udGFpbmVyKTtcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbGVhZmxldC1jcm9zc2hhaXInKTtcblxuXHRcdFx0dGhpcy5fbWFwLmZpcmUoJ2JveHpvb21zdGFydCcpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3BvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUpO1xuXG5cdFx0dmFyIGJvdW5kcyA9IG5ldyBCb3VuZHModGhpcy5fcG9pbnQsIHRoaXMuX3N0YXJ0UG9pbnQpLFxuXHRcdCAgICBzaXplID0gYm91bmRzLmdldFNpemUoKTtcblxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fYm94LCBib3VuZHMubWluKTtcblxuXHRcdHRoaXMuX2JveC5zdHlsZS53aWR0aCAgPSBzaXplLnggKyAncHgnO1xuXHRcdHRoaXMuX2JveC5zdHlsZS5oZWlnaHQgPSBzaXplLnkgKyAncHgnO1xuXHR9LFxuXG5cdF9maW5pc2g6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbW92ZWQpIHtcblx0XHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2JveCk7XG5cdFx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY3Jvc3NoYWlyJyk7XG5cdFx0fVxuXG5cdFx0RG9tVXRpbC5lbmFibGVUZXh0U2VsZWN0aW9uKCk7XG5cdFx0RG9tVXRpbC5lbmFibGVJbWFnZURyYWcoKTtcblxuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwge1xuXHRcdFx0Y29udGV4dG1lbnU6IERvbUV2ZW50LnN0b3AsXG5cdFx0XHRtb3VzZW1vdmU6IHRoaXMuX29uTW91c2VNb3ZlLFxuXHRcdFx0bW91c2V1cDogdGhpcy5fb25Nb3VzZVVwLFxuXHRcdFx0a2V5ZG93bjogdGhpcy5fb25LZXlEb3duXG5cdFx0fSwgdGhpcyk7XG5cdH0sXG5cblx0X29uTW91c2VVcDogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoKGUud2hpY2ggIT09IDEpICYmIChlLmJ1dHRvbiAhPT0gMSkpIHsgcmV0dXJuOyB9XG5cblx0XHR0aGlzLl9maW5pc2goKTtcblxuXHRcdGlmICghdGhpcy5fbW92ZWQpIHsgcmV0dXJuOyB9XG5cdFx0Ly8gUG9zdHBvbmUgdG8gbmV4dCBKUyB0aWNrIHNvIGludGVybmFsIGNsaWNrIGV2ZW50IGhhbmRsaW5nXG5cdFx0Ly8gc3RpbGwgc2VlIGl0IGFzIFwibW92ZWRcIi5cblx0XHR0aGlzLl9jbGVhckRlZmVycmVkUmVzZXRTdGF0ZSgpO1xuXHRcdHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0ID0gc2V0VGltZW91dChVdGlsLmJpbmQodGhpcy5fcmVzZXRTdGF0ZSwgdGhpcyksIDApO1xuXG5cdFx0dmFyIGJvdW5kcyA9IG5ldyBMYXRMbmdCb3VuZHMoXG5cdFx0ICAgICAgICB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyh0aGlzLl9zdGFydFBvaW50KSxcblx0XHQgICAgICAgIHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKHRoaXMuX3BvaW50KSk7XG5cblx0XHR0aGlzLl9tYXBcblx0XHRcdC5maXRCb3VuZHMoYm91bmRzKVxuXHRcdFx0LmZpcmUoJ2JveHpvb21lbmQnLCB7Ym94Wm9vbUJvdW5kczogYm91bmRzfSk7XG5cdH0sXG5cblx0X29uS2V5RG93bjogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoZS5rZXlDb2RlID09PSAyNykge1xuXHRcdFx0dGhpcy5fZmluaXNoKCk7XG5cdFx0XHR0aGlzLl9jbGVhckRlZmVycmVkUmVzZXRTdGF0ZSgpO1xuXHRcdFx0dGhpcy5fcmVzZXRTdGF0ZSgpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgYm94Wm9vbTogSGFuZGxlclxuLy8gQm94IChzaGlmdC1kcmFnIHdpdGggbW91c2UpIHpvb20gaGFuZGxlci5cbk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICdib3hab29tJywgQm94Wm9vbSk7XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uL01hcCc7XG5pbXBvcnQge0hhbmRsZXJ9IGZyb20gJy4uLy4uL2NvcmUvSGFuZGxlcic7XG5cbi8qXG4gKiBMLkhhbmRsZXIuRG91YmxlQ2xpY2tab29tIGlzIHVzZWQgdG8gaGFuZGxlIGRvdWJsZS1jbGljayB6b29tIG9uIHRoZSBtYXAsIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xuXG5NYXAubWVyZ2VPcHRpb25zKHtcblx0Ly8gQG9wdGlvbiBkb3VibGVDbGlja1pvb206IEJvb2xlYW58U3RyaW5nID0gdHJ1ZVxuXHQvLyBXaGV0aGVyIHRoZSBtYXAgY2FuIGJlIHpvb21lZCBpbiBieSBkb3VibGUgY2xpY2tpbmcgb24gaXQgYW5kXG5cdC8vIHpvb21lZCBvdXQgYnkgZG91YmxlIGNsaWNraW5nIHdoaWxlIGhvbGRpbmcgc2hpZnQuIElmIHBhc3NlZFxuXHQvLyBgJ2NlbnRlcidgLCBkb3VibGUtY2xpY2sgem9vbSB3aWxsIHpvb20gdG8gdGhlIGNlbnRlciBvZiB0aGVcblx0Ly8gIHZpZXcgcmVnYXJkbGVzcyBvZiB3aGVyZSB0aGUgbW91c2Ugd2FzLlxuXHRkb3VibGVDbGlja1pvb206IHRydWVcbn0pO1xuXG5leHBvcnQgdmFyIERvdWJsZUNsaWNrWm9vbSA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9tYXAub24oJ2RibGNsaWNrJywgdGhpcy5fb25Eb3VibGVDbGljaywgdGhpcyk7XG5cdH0sXG5cblx0cmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9tYXAub2ZmKCdkYmxjbGljaycsIHRoaXMuX29uRG91YmxlQ2xpY2ssIHRoaXMpO1xuXHR9LFxuXG5cdF9vbkRvdWJsZUNsaWNrOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIG9sZFpvb20gPSBtYXAuZ2V0Wm9vbSgpLFxuXHRcdCAgICBkZWx0YSA9IG1hcC5vcHRpb25zLnpvb21EZWx0YSxcblx0XHQgICAgem9vbSA9IGUub3JpZ2luYWxFdmVudC5zaGlmdEtleSA/IG9sZFpvb20gLSBkZWx0YSA6IG9sZFpvb20gKyBkZWx0YTtcblxuXHRcdGlmIChtYXAub3B0aW9ucy5kb3VibGVDbGlja1pvb20gPT09ICdjZW50ZXInKSB7XG5cdFx0XHRtYXAuc2V0Wm9vbSh6b29tKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWFwLnNldFpvb21Bcm91bmQoZS5jb250YWluZXJQb2ludCwgem9vbSk7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vXG4vLyBNYXAgcHJvcGVydGllcyBpbmNsdWRlIGludGVyYWN0aW9uIGhhbmRsZXJzIHRoYXQgYWxsb3cgeW91IHRvIGNvbnRyb2xcbi8vIGludGVyYWN0aW9uIGJlaGF2aW9yIGluIHJ1bnRpbWUsIGVuYWJsaW5nIG9yIGRpc2FibGluZyBjZXJ0YWluIGZlYXR1cmVzIHN1Y2hcbi8vIGFzIGRyYWdnaW5nIG9yIHRvdWNoIHpvb20gKHNlZSBgSGFuZGxlcmAgbWV0aG9kcykuIEZvciBleGFtcGxlOlxuLy9cbi8vIGBgYGpzXG4vLyBtYXAuZG91YmxlQ2xpY2tab29tLmRpc2FibGUoKTtcbi8vIGBgYFxuLy9cbi8vIEBwcm9wZXJ0eSBkb3VibGVDbGlja1pvb206IEhhbmRsZXJcbi8vIERvdWJsZSBjbGljayB6b29tIGhhbmRsZXIuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnZG91YmxlQ2xpY2tab29tJywgRG91YmxlQ2xpY2tab29tKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCB7RHJhZ2dhYmxlfSBmcm9tICcuLi8uLi9kb20vRHJhZ2dhYmxlJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0IHt0b0xhdExuZ0JvdW5kcyBhcyBsYXRMbmdCb3VuZHN9IGZyb20gJy4uLy4uL2dlby9MYXRMbmdCb3VuZHMnO1xuaW1wb3J0IHt0b0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcblxuLypcbiAqIEwuSGFuZGxlci5NYXBEcmFnIGlzIHVzZWQgdG8gbWFrZSB0aGUgbWFwIGRyYWdnYWJsZSAod2l0aCBwYW5uaW5nIGluZXJ0aWEpLCBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcbk1hcC5tZXJnZU9wdGlvbnMoe1xuXHQvLyBAb3B0aW9uIGRyYWdnaW5nOiBCb29sZWFuID0gdHJ1ZVxuXHQvLyBXaGV0aGVyIHRoZSBtYXAgaXMgZHJhZ2dhYmxlIHdpdGggbW91c2UvdG91Y2ggb3Igbm90LlxuXHRkcmFnZ2luZzogdHJ1ZSxcblxuXHQvLyBAc2VjdGlvbiBQYW5uaW5nIEluZXJ0aWEgT3B0aW9uc1xuXHQvLyBAb3B0aW9uIGluZXJ0aWE6IEJvb2xlYW4gPSAqXG5cdC8vIElmIGVuYWJsZWQsIHBhbm5pbmcgb2YgdGhlIG1hcCB3aWxsIGhhdmUgYW4gaW5lcnRpYSBlZmZlY3Qgd2hlcmVcblx0Ly8gdGhlIG1hcCBidWlsZHMgbW9tZW50dW0gd2hpbGUgZHJhZ2dpbmcgYW5kIGNvbnRpbnVlcyBtb3ZpbmcgaW5cblx0Ly8gdGhlIHNhbWUgZGlyZWN0aW9uIGZvciBzb21lIHRpbWUuIEZlZWxzIGVzcGVjaWFsbHkgbmljZSBvbiB0b3VjaFxuXHQvLyBkZXZpY2VzLiBFbmFibGVkIGJ5IGRlZmF1bHQuXG5cdGluZXJ0aWE6IHRydWUsXG5cblx0Ly8gQG9wdGlvbiBpbmVydGlhRGVjZWxlcmF0aW9uOiBOdW1iZXIgPSAzMDAwXG5cdC8vIFRoZSByYXRlIHdpdGggd2hpY2ggdGhlIGluZXJ0aWFsIG1vdmVtZW50IHNsb3dzIGRvd24sIGluIHBpeGVscy9zZWNvbmTCsi5cblx0aW5lcnRpYURlY2VsZXJhdGlvbjogMzQwMCwgLy8gcHgvc14yXG5cblx0Ly8gQG9wdGlvbiBpbmVydGlhTWF4U3BlZWQ6IE51bWJlciA9IEluZmluaXR5XG5cdC8vIE1heCBzcGVlZCBvZiB0aGUgaW5lcnRpYWwgbW92ZW1lbnQsIGluIHBpeGVscy9zZWNvbmQuXG5cdGluZXJ0aWFNYXhTcGVlZDogSW5maW5pdHksIC8vIHB4L3NcblxuXHQvLyBAb3B0aW9uIGVhc2VMaW5lYXJpdHk6IE51bWJlciA9IDAuMlxuXHRlYXNlTGluZWFyaXR5OiAwLjIsXG5cblx0Ly8gVE9ETyByZWZhY3RvciwgbW92ZSB0byBDUlNcblx0Ly8gQG9wdGlvbiB3b3JsZENvcHlKdW1wOiBCb29sZWFuID0gZmFsc2Vcblx0Ly8gV2l0aCB0aGlzIG9wdGlvbiBlbmFibGVkLCB0aGUgbWFwIHRyYWNrcyB3aGVuIHlvdSBwYW4gdG8gYW5vdGhlciBcImNvcHlcIlxuXHQvLyBvZiB0aGUgd29ybGQgYW5kIHNlYW1sZXNzbHkganVtcHMgdG8gdGhlIG9yaWdpbmFsIG9uZSBzbyB0aGF0IGFsbCBvdmVybGF5c1xuXHQvLyBsaWtlIG1hcmtlcnMgYW5kIHZlY3RvciBsYXllcnMgYXJlIHN0aWxsIHZpc2libGUuXG5cdHdvcmxkQ29weUp1bXA6IGZhbHNlLFxuXG5cdC8vIEBvcHRpb24gbWF4Qm91bmRzVmlzY29zaXR5OiBOdW1iZXIgPSAwLjBcblx0Ly8gSWYgYG1heEJvdW5kc2AgaXMgc2V0LCB0aGlzIG9wdGlvbiB3aWxsIGNvbnRyb2wgaG93IHNvbGlkIHRoZSBib3VuZHNcblx0Ly8gYXJlIHdoZW4gZHJhZ2dpbmcgdGhlIG1hcCBhcm91bmQuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIGAwLjBgIGFsbG93cyB0aGVcblx0Ly8gdXNlciB0byBkcmFnIG91dHNpZGUgdGhlIGJvdW5kcyBhdCBub3JtYWwgc3BlZWQsIGhpZ2hlciB2YWx1ZXMgd2lsbFxuXHQvLyBzbG93IGRvd24gbWFwIGRyYWdnaW5nIG91dHNpZGUgYm91bmRzLCBhbmQgYDEuMGAgbWFrZXMgdGhlIGJvdW5kcyBmdWxseVxuXHQvLyBzb2xpZCwgcHJldmVudGluZyB0aGUgdXNlciBmcm9tIGRyYWdnaW5nIG91dHNpZGUgdGhlIGJvdW5kcy5cblx0bWF4Qm91bmRzVmlzY29zaXR5OiAwLjBcbn0pO1xuXG5leHBvcnQgdmFyIERyYWcgPSBIYW5kbGVyLmV4dGVuZCh7XG5cdGFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9kcmFnZ2FibGUpIHtcblx0XHRcdHZhciBtYXAgPSB0aGlzLl9tYXA7XG5cblx0XHRcdHRoaXMuX2RyYWdnYWJsZSA9IG5ldyBEcmFnZ2FibGUobWFwLl9tYXBQYW5lLCBtYXAuX2NvbnRhaW5lcik7XG5cblx0XHRcdHRoaXMuX2RyYWdnYWJsZS5vbih7XG5cdFx0XHRcdGRyYWdzdGFydDogdGhpcy5fb25EcmFnU3RhcnQsXG5cdFx0XHRcdGRyYWc6IHRoaXMuX29uRHJhZyxcblx0XHRcdFx0ZHJhZ2VuZDogdGhpcy5fb25EcmFnRW5kXG5cdFx0XHR9LCB0aGlzKTtcblxuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlLm9uKCdwcmVkcmFnJywgdGhpcy5fb25QcmVEcmFnTGltaXQsIHRoaXMpO1xuXHRcdFx0aWYgKG1hcC5vcHRpb25zLndvcmxkQ29weUp1bXApIHtcblx0XHRcdFx0dGhpcy5fZHJhZ2dhYmxlLm9uKCdwcmVkcmFnJywgdGhpcy5fb25QcmVEcmFnV3JhcCwgdGhpcyk7XG5cdFx0XHRcdG1hcC5vbignem9vbWVuZCcsIHRoaXMuX29uWm9vbUVuZCwgdGhpcyk7XG5cblx0XHRcdFx0bWFwLndoZW5SZWFkeSh0aGlzLl9vblpvb21FbmQsIHRoaXMpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcC5fY29udGFpbmVyLCAnbGVhZmxldC1ncmFiIGxlYWZsZXQtdG91Y2gtZHJhZycpO1xuXHRcdHRoaXMuX2RyYWdnYWJsZS5lbmFibGUoKTtcblx0XHR0aGlzLl9wb3NpdGlvbnMgPSBbXTtcblx0XHR0aGlzLl90aW1lcyA9IFtdO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ2xlYWZsZXQtZ3JhYicpO1xuXHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwLl9jb250YWluZXIsICdsZWFmbGV0LXRvdWNoLWRyYWcnKTtcblx0XHR0aGlzLl9kcmFnZ2FibGUuZGlzYWJsZSgpO1xuXHR9LFxuXG5cdG1vdmVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RyYWdnYWJsZSAmJiB0aGlzLl9kcmFnZ2FibGUuX21vdmVkO1xuXHR9LFxuXG5cdG1vdmluZzogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9kcmFnZ2FibGUgJiYgdGhpcy5fZHJhZ2dhYmxlLl9tb3Zpbmc7XG5cdH0sXG5cblx0X29uRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblxuXHRcdG1hcC5fc3RvcCgpO1xuXHRcdGlmICh0aGlzLl9tYXAub3B0aW9ucy5tYXhCb3VuZHMgJiYgdGhpcy5fbWFwLm9wdGlvbnMubWF4Qm91bmRzVmlzY29zaXR5KSB7XG5cdFx0XHR2YXIgYm91bmRzID0gbGF0TG5nQm91bmRzKHRoaXMuX21hcC5vcHRpb25zLm1heEJvdW5kcyk7XG5cblx0XHRcdHRoaXMuX29mZnNldExpbWl0ID0gdG9Cb3VuZHMoXG5cdFx0XHRcdHRoaXMuX21hcC5sYXRMbmdUb0NvbnRhaW5lclBvaW50KGJvdW5kcy5nZXROb3J0aFdlc3QoKSkubXVsdGlwbHlCeSgtMSksXG5cdFx0XHRcdHRoaXMuX21hcC5sYXRMbmdUb0NvbnRhaW5lclBvaW50KGJvdW5kcy5nZXRTb3V0aEVhc3QoKSkubXVsdGlwbHlCeSgtMSlcblx0XHRcdFx0XHQuYWRkKHRoaXMuX21hcC5nZXRTaXplKCkpKTtcblxuXHRcdFx0dGhpcy5fdmlzY29zaXR5ID0gTWF0aC5taW4oMS4wLCBNYXRoLm1heCgwLjAsIHRoaXMuX21hcC5vcHRpb25zLm1heEJvdW5kc1Zpc2Nvc2l0eSkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9vZmZzZXRMaW1pdCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0bWFwXG5cdFx0ICAgIC5maXJlKCdtb3Zlc3RhcnQnKVxuXHRcdCAgICAuZmlyZSgnZHJhZ3N0YXJ0Jyk7XG5cblx0XHRpZiAobWFwLm9wdGlvbnMuaW5lcnRpYSkge1xuXHRcdFx0dGhpcy5fcG9zaXRpb25zID0gW107XG5cdFx0XHR0aGlzLl90aW1lcyA9IFtdO1xuXHRcdH1cblx0fSxcblxuXHRfb25EcmFnOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICh0aGlzLl9tYXAub3B0aW9ucy5pbmVydGlhKSB7XG5cdFx0XHR2YXIgdGltZSA9IHRoaXMuX2xhc3RUaW1lID0gK25ldyBEYXRlKCksXG5cdFx0XHQgICAgcG9zID0gdGhpcy5fbGFzdFBvcyA9IHRoaXMuX2RyYWdnYWJsZS5fYWJzUG9zIHx8IHRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zO1xuXG5cdFx0XHR0aGlzLl9wb3NpdGlvbnMucHVzaChwb3MpO1xuXHRcdFx0dGhpcy5fdGltZXMucHVzaCh0aW1lKTtcblxuXHRcdFx0dGhpcy5fcHJ1bmVQb3NpdGlvbnModGltZSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fbWFwXG5cdFx0ICAgIC5maXJlKCdtb3ZlJywgZSlcblx0XHQgICAgLmZpcmUoJ2RyYWcnLCBlKTtcblx0fSxcblxuXHRfcHJ1bmVQb3NpdGlvbnM6IGZ1bmN0aW9uICh0aW1lKSB7XG5cdFx0d2hpbGUgKHRoaXMuX3Bvc2l0aW9ucy5sZW5ndGggPiAxICYmIHRpbWUgLSB0aGlzLl90aW1lc1swXSA+IDUwKSB7XG5cdFx0XHR0aGlzLl9wb3NpdGlvbnMuc2hpZnQoKTtcblx0XHRcdHRoaXMuX3RpbWVzLnNoaWZ0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vblpvb21FbmQ6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcHhDZW50ZXIgPSB0aGlzLl9tYXAuZ2V0U2l6ZSgpLmRpdmlkZUJ5KDIpLFxuXHRcdCAgICBweFdvcmxkQ2VudGVyID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChbMCwgMF0pO1xuXG5cdFx0dGhpcy5faW5pdGlhbFdvcmxkT2Zmc2V0ID0gcHhXb3JsZENlbnRlci5zdWJ0cmFjdChweENlbnRlcikueDtcblx0XHR0aGlzLl93b3JsZFdpZHRoID0gdGhpcy5fbWFwLmdldFBpeGVsV29ybGRCb3VuZHMoKS5nZXRTaXplKCkueDtcblx0fSxcblxuXHRfdmlzY291c0xpbWl0OiBmdW5jdGlvbiAodmFsdWUsIHRocmVzaG9sZCkge1xuXHRcdHJldHVybiB2YWx1ZSAtICh2YWx1ZSAtIHRocmVzaG9sZCkgKiB0aGlzLl92aXNjb3NpdHk7XG5cdH0sXG5cblx0X29uUHJlRHJhZ0xpbWl0OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl92aXNjb3NpdHkgfHwgIXRoaXMuX29mZnNldExpbWl0KSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIG9mZnNldCA9IHRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLnN1YnRyYWN0KHRoaXMuX2RyYWdnYWJsZS5fc3RhcnRQb3MpO1xuXG5cdFx0dmFyIGxpbWl0ID0gdGhpcy5fb2Zmc2V0TGltaXQ7XG5cdFx0aWYgKG9mZnNldC54IDwgbGltaXQubWluLngpIHsgb2Zmc2V0LnggPSB0aGlzLl92aXNjb3VzTGltaXQob2Zmc2V0LngsIGxpbWl0Lm1pbi54KTsgfVxuXHRcdGlmIChvZmZzZXQueSA8IGxpbWl0Lm1pbi55KSB7IG9mZnNldC55ID0gdGhpcy5fdmlzY291c0xpbWl0KG9mZnNldC55LCBsaW1pdC5taW4ueSk7IH1cblx0XHRpZiAob2Zmc2V0LnggPiBsaW1pdC5tYXgueCkgeyBvZmZzZXQueCA9IHRoaXMuX3Zpc2NvdXNMaW1pdChvZmZzZXQueCwgbGltaXQubWF4LngpOyB9XG5cdFx0aWYgKG9mZnNldC55ID4gbGltaXQubWF4LnkpIHsgb2Zmc2V0LnkgPSB0aGlzLl92aXNjb3VzTGltaXQob2Zmc2V0LnksIGxpbWl0Lm1heC55KTsgfVxuXG5cdFx0dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MgPSB0aGlzLl9kcmFnZ2FibGUuX3N0YXJ0UG9zLmFkZChvZmZzZXQpO1xuXHR9LFxuXG5cdF9vblByZURyYWdXcmFwOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gVE9ETyByZWZhY3RvciB0byBiZSBhYmxlIHRvIGFkanVzdCBtYXAgcGFuZSBwb3NpdGlvbiBhZnRlciB6b29tXG5cdFx0dmFyIHdvcmxkV2lkdGggPSB0aGlzLl93b3JsZFdpZHRoLFxuXHRcdCAgICBoYWxmV2lkdGggPSBNYXRoLnJvdW5kKHdvcmxkV2lkdGggLyAyKSxcblx0XHQgICAgZHggPSB0aGlzLl9pbml0aWFsV29ybGRPZmZzZXQsXG5cdFx0ICAgIHggPSB0aGlzLl9kcmFnZ2FibGUuX25ld1Bvcy54LFxuXHRcdCAgICBuZXdYMSA9ICh4IC0gaGFsZldpZHRoICsgZHgpICUgd29ybGRXaWR0aCArIGhhbGZXaWR0aCAtIGR4LFxuXHRcdCAgICBuZXdYMiA9ICh4ICsgaGFsZldpZHRoICsgZHgpICUgd29ybGRXaWR0aCAtIGhhbGZXaWR0aCAtIGR4LFxuXHRcdCAgICBuZXdYID0gTWF0aC5hYnMobmV3WDEgKyBkeCkgPCBNYXRoLmFicyhuZXdYMiArIGR4KSA/IG5ld1gxIDogbmV3WDI7XG5cblx0XHR0aGlzLl9kcmFnZ2FibGUuX2Fic1BvcyA9IHRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLmNsb25lKCk7XG5cdFx0dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MueCA9IG5ld1g7XG5cdH0sXG5cblx0X29uRHJhZ0VuZDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwLFxuXHRcdCAgICBvcHRpb25zID0gbWFwLm9wdGlvbnMsXG5cblx0XHQgICAgbm9JbmVydGlhID0gIW9wdGlvbnMuaW5lcnRpYSB8fCBlLm5vSW5lcnRpYSB8fCB0aGlzLl90aW1lcy5sZW5ndGggPCAyO1xuXG5cdFx0bWFwLmZpcmUoJ2RyYWdlbmQnLCBlKTtcblxuXHRcdGlmIChub0luZXJ0aWEpIHtcblx0XHRcdG1hcC5maXJlKCdtb3ZlZW5kJyk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fcHJ1bmVQb3NpdGlvbnMoK25ldyBEYXRlKCkpO1xuXG5cdFx0XHR2YXIgZGlyZWN0aW9uID0gdGhpcy5fbGFzdFBvcy5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbnNbMF0pLFxuXHRcdFx0ICAgIGR1cmF0aW9uID0gKHRoaXMuX2xhc3RUaW1lIC0gdGhpcy5fdGltZXNbMF0pIC8gMTAwMCxcblx0XHRcdCAgICBlYXNlID0gb3B0aW9ucy5lYXNlTGluZWFyaXR5LFxuXG5cdFx0XHQgICAgc3BlZWRWZWN0b3IgPSBkaXJlY3Rpb24ubXVsdGlwbHlCeShlYXNlIC8gZHVyYXRpb24pLFxuXHRcdFx0ICAgIHNwZWVkID0gc3BlZWRWZWN0b3IuZGlzdGFuY2VUbyhbMCwgMF0pLFxuXG5cdFx0XHQgICAgbGltaXRlZFNwZWVkID0gTWF0aC5taW4ob3B0aW9ucy5pbmVydGlhTWF4U3BlZWQsIHNwZWVkKSxcblx0XHRcdCAgICBsaW1pdGVkU3BlZWRWZWN0b3IgPSBzcGVlZFZlY3Rvci5tdWx0aXBseUJ5KGxpbWl0ZWRTcGVlZCAvIHNwZWVkKSxcblxuXHRcdFx0ICAgIGRlY2VsZXJhdGlvbkR1cmF0aW9uID0gbGltaXRlZFNwZWVkIC8gKG9wdGlvbnMuaW5lcnRpYURlY2VsZXJhdGlvbiAqIGVhc2UpLFxuXHRcdFx0ICAgIG9mZnNldCA9IGxpbWl0ZWRTcGVlZFZlY3Rvci5tdWx0aXBseUJ5KC1kZWNlbGVyYXRpb25EdXJhdGlvbiAvIDIpLnJvdW5kKCk7XG5cblx0XHRcdGlmICghb2Zmc2V0LnggJiYgIW9mZnNldC55KSB7XG5cdFx0XHRcdG1hcC5maXJlKCdtb3ZlZW5kJyk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9mZnNldCA9IG1hcC5fbGltaXRPZmZzZXQob2Zmc2V0LCBtYXAub3B0aW9ucy5tYXhCb3VuZHMpO1xuXG5cdFx0XHRcdFV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0bWFwLnBhbkJ5KG9mZnNldCwge1xuXHRcdFx0XHRcdFx0ZHVyYXRpb246IGRlY2VsZXJhdGlvbkR1cmF0aW9uLFxuXHRcdFx0XHRcdFx0ZWFzZUxpbmVhcml0eTogZWFzZSxcblx0XHRcdFx0XHRcdG5vTW92ZVN0YXJ0OiB0cnVlLFxuXHRcdFx0XHRcdFx0YW5pbWF0ZTogdHJ1ZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBAc2VjdGlvbiBIYW5kbGVyc1xuLy8gQHByb3BlcnR5IGRyYWdnaW5nOiBIYW5kbGVyXG4vLyBNYXAgZHJhZ2dpbmcgaGFuZGxlciAoYnkgYm90aCBtb3VzZSBhbmQgdG91Y2gpLlxuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ2RyYWdnaW5nJywgRHJhZyk7XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uL01hcCc7XG5pbXBvcnQge0hhbmRsZXJ9IGZyb20gJy4uLy4uL2NvcmUvSGFuZGxlcic7XG5pbXBvcnQge29uLCBvZmYsIHN0b3B9IGZyb20gJy4uLy4uL2RvbS9Eb21FdmVudCc7XG5pbXBvcnQge3RvUG9pbnR9IGZyb20gJy4uLy4uL2dlb21ldHJ5L1BvaW50JztcblxuXG4vKlxuICogTC5NYXAuS2V5Ym9hcmQgaXMgaGFuZGxpbmcga2V5Ym9hcmQgaW50ZXJhY3Rpb24gd2l0aCB0aGUgbWFwLCBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEtleWJvYXJkIE5hdmlnYXRpb24gT3B0aW9uc1xuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBvcHRpb24ga2V5Ym9hcmQ6IEJvb2xlYW4gPSB0cnVlXG5cdC8vIE1ha2VzIHRoZSBtYXAgZm9jdXNhYmxlIGFuZCBhbGxvd3MgdXNlcnMgdG8gbmF2aWdhdGUgdGhlIG1hcCB3aXRoIGtleWJvYXJkXG5cdC8vIGFycm93cyBhbmQgYCtgL2AtYCBrZXlzLlxuXHRrZXlib2FyZDogdHJ1ZSxcblxuXHQvLyBAb3B0aW9uIGtleWJvYXJkUGFuRGVsdGE6IE51bWJlciA9IDgwXG5cdC8vIEFtb3VudCBvZiBwaXhlbHMgdG8gcGFuIHdoZW4gcHJlc3NpbmcgYW4gYXJyb3cga2V5LlxuXHRrZXlib2FyZFBhbkRlbHRhOiA4MFxufSk7XG5cbmV4cG9ydCB2YXIgS2V5Ym9hcmQgPSBIYW5kbGVyLmV4dGVuZCh7XG5cblx0a2V5Q29kZXM6IHtcblx0XHRsZWZ0OiAgICBbMzddLFxuXHRcdHJpZ2h0OiAgIFszOV0sXG5cdFx0ZG93bjogICAgWzQwXSxcblx0XHR1cDogICAgICBbMzhdLFxuXHRcdHpvb21JbjogIFsxODcsIDEwNywgNjEsIDE3MV0sXG5cdFx0em9vbU91dDogWzE4OSwgMTA5LCA1NCwgMTczXVxuXHR9LFxuXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChtYXApIHtcblx0XHR0aGlzLl9tYXAgPSBtYXA7XG5cblx0XHR0aGlzLl9zZXRQYW5EZWx0YShtYXAub3B0aW9ucy5rZXlib2FyZFBhbkRlbHRhKTtcblx0XHR0aGlzLl9zZXRab29tRGVsdGEobWFwLm9wdGlvbnMuem9vbURlbHRhKTtcblx0fSxcblxuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl9tYXAuX2NvbnRhaW5lcjtcblxuXHRcdC8vIG1ha2UgdGhlIGNvbnRhaW5lciBmb2N1c2FibGUgYnkgdGFiYmluZ1xuXHRcdGlmIChjb250YWluZXIudGFiSW5kZXggPD0gMCkge1xuXHRcdFx0Y29udGFpbmVyLnRhYkluZGV4ID0gJzAnO1xuXHRcdH1cblxuXHRcdG9uKGNvbnRhaW5lciwge1xuXHRcdFx0Zm9jdXM6IHRoaXMuX29uRm9jdXMsXG5cdFx0XHRibHVyOiB0aGlzLl9vbkJsdXIsXG5cdFx0XHRtb3VzZWRvd246IHRoaXMuX29uTW91c2VEb3duXG5cdFx0fSwgdGhpcyk7XG5cblx0XHR0aGlzLl9tYXAub24oe1xuXHRcdFx0Zm9jdXM6IHRoaXMuX2FkZEhvb2tzLFxuXHRcdFx0Ymx1cjogdGhpcy5fcmVtb3ZlSG9va3Ncblx0XHR9LCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlbW92ZUhvb2tzKCk7XG5cblx0XHRvZmYodGhpcy5fbWFwLl9jb250YWluZXIsIHtcblx0XHRcdGZvY3VzOiB0aGlzLl9vbkZvY3VzLFxuXHRcdFx0Ymx1cjogdGhpcy5fb25CbHVyLFxuXHRcdFx0bW91c2Vkb3duOiB0aGlzLl9vbk1vdXNlRG93blxuXHRcdH0sIHRoaXMpO1xuXG5cdFx0dGhpcy5fbWFwLm9mZih7XG5cdFx0XHRmb2N1czogdGhpcy5fYWRkSG9va3MsXG5cdFx0XHRibHVyOiB0aGlzLl9yZW1vdmVIb29rc1xuXHRcdH0sIHRoaXMpO1xuXHR9LFxuXG5cdF9vbk1vdXNlRG93bjogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9mb2N1c2VkKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5LFxuXHRcdCAgICBkb2NFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcblx0XHQgICAgdG9wID0gYm9keS5zY3JvbGxUb3AgfHwgZG9jRWwuc2Nyb2xsVG9wLFxuXHRcdCAgICBsZWZ0ID0gYm9keS5zY3JvbGxMZWZ0IHx8IGRvY0VsLnNjcm9sbExlZnQ7XG5cblx0XHR0aGlzLl9tYXAuX2NvbnRhaW5lci5mb2N1cygpO1xuXG5cdFx0d2luZG93LnNjcm9sbFRvKGxlZnQsIHRvcCk7XG5cdH0sXG5cblx0X29uRm9jdXM6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9mb2N1c2VkID0gdHJ1ZTtcblx0XHR0aGlzLl9tYXAuZmlyZSgnZm9jdXMnKTtcblx0fSxcblxuXHRfb25CbHVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fZm9jdXNlZCA9IGZhbHNlO1xuXHRcdHRoaXMuX21hcC5maXJlKCdibHVyJyk7XG5cdH0sXG5cblx0X3NldFBhbkRlbHRhOiBmdW5jdGlvbiAocGFuRGVsdGEpIHtcblx0XHR2YXIga2V5cyA9IHRoaXMuX3BhbktleXMgPSB7fSxcblx0XHQgICAgY29kZXMgPSB0aGlzLmtleUNvZGVzLFxuXHRcdCAgICBpLCBsZW47XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy5sZWZ0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLmxlZnRbaV1dID0gWy0xICogcGFuRGVsdGEsIDBdO1xuXHRcdH1cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy5yaWdodC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0a2V5c1tjb2Rlcy5yaWdodFtpXV0gPSBbcGFuRGVsdGEsIDBdO1xuXHRcdH1cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy5kb3duLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLmRvd25baV1dID0gWzAsIHBhbkRlbHRhXTtcblx0XHR9XG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY29kZXMudXAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGtleXNbY29kZXMudXBbaV1dID0gWzAsIC0xICogcGFuRGVsdGFdO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0Wm9vbURlbHRhOiBmdW5jdGlvbiAoem9vbURlbHRhKSB7XG5cdFx0dmFyIGtleXMgPSB0aGlzLl96b29tS2V5cyA9IHt9LFxuXHRcdCAgICBjb2RlcyA9IHRoaXMua2V5Q29kZXMsXG5cdFx0ICAgIGksIGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLnpvb21Jbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0a2V5c1tjb2Rlcy56b29tSW5baV1dID0gem9vbURlbHRhO1xuXHRcdH1cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy56b29tT3V0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLnpvb21PdXRbaV1dID0gLXpvb21EZWx0YTtcblx0XHR9XG5cdH0sXG5cblx0X2FkZEhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0b24oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCB0aGlzKTtcblx0fSxcblxuXHRfcmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHRvZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCB0aGlzKTtcblx0fSxcblxuXHRfb25LZXlEb3duOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmIChlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIGtleSA9IGUua2V5Q29kZSxcblx0XHQgICAgbWFwID0gdGhpcy5fbWFwLFxuXHRcdCAgICBvZmZzZXQ7XG5cblx0XHRpZiAoa2V5IGluIHRoaXMuX3BhbktleXMpIHtcblx0XHRcdGlmICghbWFwLl9wYW5BbmltIHx8ICFtYXAuX3BhbkFuaW0uX2luUHJvZ3Jlc3MpIHtcblx0XHRcdFx0b2Zmc2V0ID0gdGhpcy5fcGFuS2V5c1trZXldO1xuXHRcdFx0XHRpZiAoZS5zaGlmdEtleSkge1xuXHRcdFx0XHRcdG9mZnNldCA9IHRvUG9pbnQob2Zmc2V0KS5tdWx0aXBseUJ5KDMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG1hcC5vcHRpb25zLm1heEJvdW5kcykge1xuXHRcdFx0XHRcdG9mZnNldCA9IG1hcC5fbGltaXRPZmZzZXQodG9Qb2ludChvZmZzZXQpLCBtYXAub3B0aW9ucy5tYXhCb3VuZHMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG1hcC5vcHRpb25zLndvcmxkQ29weUp1bXApIHtcblx0XHRcdFx0XHR2YXIgbmV3TGF0TG5nID0gbWFwLndyYXBMYXRMbmcobWFwLnVucHJvamVjdChtYXAucHJvamVjdChtYXAuZ2V0Q2VudGVyKCkpLmFkZChvZmZzZXQpKSk7XG5cdFx0XHRcdFx0bWFwLnBhblRvKG5ld0xhdExuZyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bWFwLnBhbkJ5KG9mZnNldCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGtleSBpbiB0aGlzLl96b29tS2V5cykge1xuXHRcdFx0bWFwLnNldFpvb20obWFwLmdldFpvb20oKSArIChlLnNoaWZ0S2V5ID8gMyA6IDEpICogdGhpcy5fem9vbUtleXNba2V5XSk7XG5cblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gMjcgJiYgbWFwLl9wb3B1cCAmJiBtYXAuX3BvcHVwLm9wdGlvbnMuY2xvc2VPbkVzY2FwZUtleSkge1xuXHRcdFx0bWFwLmNsb3NlUG9wdXAoKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0c3RvcChlKTtcblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAc2VjdGlvbiBIYW5kbGVyc1xuLy8gQHByb3BlcnR5IGtleWJvYXJkOiBIYW5kbGVyXG4vLyBLZXlib2FyZCBuYXZpZ2F0aW9uIGhhbmRsZXIuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAna2V5Ym9hcmQnLCBLZXlib2FyZCk7XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uL01hcCc7XG5pbXBvcnQge0hhbmRsZXJ9IGZyb20gJy4uLy4uL2NvcmUvSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi8uLi9kb20vRG9tRXZlbnQnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuXG4vKlxuICogTC5IYW5kbGVyLlNjcm9sbFdoZWVsWm9vbSBpcyB1c2VkIGJ5IEwuTWFwIHRvIGVuYWJsZSBtb3VzZSBzY3JvbGwgd2hlZWwgem9vbSBvbiB0aGUgbWFwLlxuICovXG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXG5NYXAubWVyZ2VPcHRpb25zKHtcblx0Ly8gQHNlY3Rpb24gTW91c2Ugd2hlZWwgb3B0aW9uc1xuXHQvLyBAb3B0aW9uIHNjcm9sbFdoZWVsWm9vbTogQm9vbGVhbnxTdHJpbmcgPSB0cnVlXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBjYW4gYmUgem9vbWVkIGJ5IHVzaW5nIHRoZSBtb3VzZSB3aGVlbC4gSWYgcGFzc2VkIGAnY2VudGVyJ2AsXG5cdC8vIGl0IHdpbGwgem9vbSB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3IHJlZ2FyZGxlc3Mgb2Ygd2hlcmUgdGhlIG1vdXNlIHdhcy5cblx0c2Nyb2xsV2hlZWxab29tOiB0cnVlLFxuXG5cdC8vIEBvcHRpb24gd2hlZWxEZWJvdW5jZVRpbWU6IE51bWJlciA9IDQwXG5cdC8vIExpbWl0cyB0aGUgcmF0ZSBhdCB3aGljaCBhIHdoZWVsIGNhbiBmaXJlIChpbiBtaWxsaXNlY29uZHMpLiBCeSBkZWZhdWx0XG5cdC8vIHVzZXIgY2FuJ3Qgem9vbSB2aWEgd2hlZWwgbW9yZSBvZnRlbiB0aGFuIG9uY2UgcGVyIDQwIG1zLlxuXHR3aGVlbERlYm91bmNlVGltZTogNDAsXG5cblx0Ly8gQG9wdGlvbiB3aGVlbFB4UGVyWm9vbUxldmVsOiBOdW1iZXIgPSA2MFxuXHQvLyBIb3cgbWFueSBzY3JvbGwgcGl4ZWxzIChhcyByZXBvcnRlZCBieSBbTC5Eb21FdmVudC5nZXRXaGVlbERlbHRhXSgjZG9tZXZlbnQtZ2V0d2hlZWxkZWx0YSkpXG5cdC8vIG1lYW4gYSBjaGFuZ2Ugb2Ygb25lIGZ1bGwgem9vbSBsZXZlbC4gU21hbGxlciB2YWx1ZXMgd2lsbCBtYWtlIHdoZWVsLXpvb21pbmdcblx0Ly8gZmFzdGVyIChhbmQgdmljZSB2ZXJzYSkuXG5cdHdoZWVsUHhQZXJab29tTGV2ZWw6IDYwXG59KTtcblxuZXhwb3J0IHZhciBTY3JvbGxXaGVlbFpvb20gPSBIYW5kbGVyLmV4dGVuZCh7XG5cdGFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsICd3aGVlbCcsIHRoaXMuX29uV2hlZWxTY3JvbGwsIHRoaXMpO1xuXG5cdFx0dGhpcy5fZGVsdGEgPSAwO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCAnd2hlZWwnLCB0aGlzLl9vbldoZWVsU2Nyb2xsLCB0aGlzKTtcblx0fSxcblxuXHRfb25XaGVlbFNjcm9sbDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgZGVsdGEgPSBEb21FdmVudC5nZXRXaGVlbERlbHRhKGUpO1xuXG5cdFx0dmFyIGRlYm91bmNlID0gdGhpcy5fbWFwLm9wdGlvbnMud2hlZWxEZWJvdW5jZVRpbWU7XG5cblx0XHR0aGlzLl9kZWx0YSArPSBkZWx0YTtcblx0XHR0aGlzLl9sYXN0TW91c2VQb3MgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSk7XG5cblx0XHRpZiAoIXRoaXMuX3N0YXJ0VGltZSkge1xuXHRcdFx0dGhpcy5fc3RhcnRUaW1lID0gK25ldyBEYXRlKCk7XG5cdFx0fVxuXG5cdFx0dmFyIGxlZnQgPSBNYXRoLm1heChkZWJvdW5jZSAtICgrbmV3IERhdGUoKSAtIHRoaXMuX3N0YXJ0VGltZSksIDApO1xuXG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcblx0XHR0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoVXRpbC5iaW5kKHRoaXMuX3BlcmZvcm1ab29tLCB0aGlzKSwgbGVmdCk7XG5cblx0XHREb21FdmVudC5zdG9wKGUpO1xuXHR9LFxuXG5cdF9wZXJmb3JtWm9vbTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIHpvb20gPSBtYXAuZ2V0Wm9vbSgpLFxuXHRcdCAgICBzbmFwID0gdGhpcy5fbWFwLm9wdGlvbnMuem9vbVNuYXAgfHwgMDtcblxuXHRcdG1hcC5fc3RvcCgpOyAvLyBzdG9wIHBhbm5pbmcgYW5kIGZseSBhbmltYXRpb25zIGlmIGFueVxuXG5cdFx0Ly8gbWFwIHRoZSBkZWx0YSB3aXRoIGEgc2lnbW9pZCBmdW5jdGlvbiB0byAtNC4uNCByYW5nZSBsZWFuaW5nIG9uIC0xLi4xXG5cdFx0dmFyIGQyID0gdGhpcy5fZGVsdGEgLyAodGhpcy5fbWFwLm9wdGlvbnMud2hlZWxQeFBlclpvb21MZXZlbCAqIDQpLFxuXHRcdCAgICBkMyA9IDQgKiBNYXRoLmxvZygyIC8gKDEgKyBNYXRoLmV4cCgtTWF0aC5hYnMoZDIpKSkpIC8gTWF0aC5MTjIsXG5cdFx0ICAgIGQ0ID0gc25hcCA/IE1hdGguY2VpbChkMyAvIHNuYXApICogc25hcCA6IGQzLFxuXHRcdCAgICBkZWx0YSA9IG1hcC5fbGltaXRab29tKHpvb20gKyAodGhpcy5fZGVsdGEgPiAwID8gZDQgOiAtZDQpKSAtIHpvb207XG5cblx0XHR0aGlzLl9kZWx0YSA9IDA7XG5cdFx0dGhpcy5fc3RhcnRUaW1lID0gbnVsbDtcblxuXHRcdGlmICghZGVsdGEpIHsgcmV0dXJuOyB9XG5cblx0XHRpZiAobWFwLm9wdGlvbnMuc2Nyb2xsV2hlZWxab29tID09PSAnY2VudGVyJykge1xuXHRcdFx0bWFwLnNldFpvb20oem9vbSArIGRlbHRhKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWFwLnNldFpvb21Bcm91bmQodGhpcy5fbGFzdE1vdXNlUG9zLCB6b29tICsgZGVsdGEpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgc2Nyb2xsV2hlZWxab29tOiBIYW5kbGVyXG4vLyBTY3JvbGwgd2hlZWwgem9vbSBoYW5kbGVyLlxuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ3Njcm9sbFdoZWVsWm9vbScsIFNjcm9sbFdoZWVsWm9vbSk7XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uL01hcCc7XG5pbXBvcnQge0hhbmRsZXJ9IGZyb20gJy4uLy4uL2NvcmUvSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi8uLi9kb20vRG9tRXZlbnQnO1xuaW1wb3J0IHtQb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcblxuLypcbiAqIEwuTWFwLlRhcEhvbGQgaXMgdXNlZCB0byBzaW11bGF0ZSBgY29udGV4dG1lbnVgIGV2ZW50IG9uIGxvbmcgaG9sZCxcbiAqIHdoaWNoIG90aGVyd2lzZSBpcyBub3QgZmlyZWQgYnkgbW9iaWxlIFNhZmFyaS5cbiAqL1xuXG52YXIgdGFwSG9sZERlbGF5ID0gNjAwO1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBzZWN0aW9uIFRvdWNoIGludGVyYWN0aW9uIG9wdGlvbnNcblx0Ly8gQG9wdGlvbiB0YXBIb2xkOiBCb29sZWFuXG5cdC8vIEVuYWJsZXMgc2ltdWxhdGlvbiBvZiBgY29udGV4dG1lbnVgIGV2ZW50LCBkZWZhdWx0IGlzIGB0cnVlYCBmb3IgbW9iaWxlIFNhZmFyaS5cblx0dGFwSG9sZDogQnJvd3Nlci50b3VjaE5hdGl2ZSAmJiBCcm93c2VyLnNhZmFyaSAmJiBCcm93c2VyLm1vYmlsZSxcblxuXHQvLyBAb3B0aW9uIHRhcFRvbGVyYW5jZTogTnVtYmVyID0gMTVcblx0Ly8gVGhlIG1heCBudW1iZXIgb2YgcGl4ZWxzIGEgdXNlciBjYW4gc2hpZnQgaGlzIGZpbmdlciBkdXJpbmcgdG91Y2hcblx0Ly8gZm9yIGl0IHRvIGJlIGNvbnNpZGVyZWQgYSB2YWxpZCB0YXAuXG5cdHRhcFRvbGVyYW5jZTogMTVcbn0pO1xuXG5leHBvcnQgdmFyIFRhcEhvbGQgPSBIYW5kbGVyLmV4dGVuZCh7XG5cdGFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25Eb3duLCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdERvbUV2ZW50Lm9mZih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vbkRvd24sIHRoaXMpO1xuXHR9LFxuXG5cdF9vbkRvd246IGZ1bmN0aW9uIChlKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KTtcblx0XHRpZiAoZS50b3VjaGVzLmxlbmd0aCAhPT0gMSkgeyByZXR1cm47IH1cblxuXHRcdHZhciBmaXJzdCA9IGUudG91Y2hlc1swXTtcblx0XHR0aGlzLl9zdGFydFBvcyA9IHRoaXMuX25ld1BvcyA9IG5ldyBQb2ludChmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZKTtcblxuXHRcdHRoaXMuX2hvbGRUaW1lb3V0ID0gc2V0VGltZW91dChVdGlsLmJpbmQoZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5fY2FuY2VsKCk7XG5cdFx0XHRpZiAoIXRoaXMuX2lzVGFwVmFsaWQoKSkgeyByZXR1cm47IH1cblxuXHRcdFx0Ly8gcHJldmVudCBzaW11bGF0ZWQgbW91c2UgZXZlbnRzIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby90b3VjaC1ldmVudHMvI21vdXNlLWV2ZW50c1xuXHRcdFx0RG9tRXZlbnQub24oZG9jdW1lbnQsICd0b3VjaGVuZCcsIERvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcblx0XHRcdERvbUV2ZW50Lm9uKGRvY3VtZW50LCAndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCB0aGlzLl9jYW5jZWxDbGlja1ByZXZlbnQpO1xuXHRcdFx0dGhpcy5fc2ltdWxhdGVFdmVudCgnY29udGV4dG1lbnUnLCBmaXJzdCk7XG5cdFx0fSwgdGhpcyksIHRhcEhvbGREZWxheSk7XG5cblx0XHREb21FdmVudC5vbihkb2N1bWVudCwgJ3RvdWNoZW5kIHRvdWNoY2FuY2VsIGNvbnRleHRtZW51JywgdGhpcy5fY2FuY2VsLCB0aGlzKTtcblx0XHREb21FdmVudC5vbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSwgdGhpcyk7XG5cdH0sXG5cblx0X2NhbmNlbENsaWNrUHJldmVudDogZnVuY3Rpb24gY2FuY2VsQ2xpY2tQcmV2ZW50KCkge1xuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ3RvdWNoZW5kJywgRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ3RvdWNoZW5kIHRvdWNoY2FuY2VsJywgY2FuY2VsQ2xpY2tQcmV2ZW50KTtcblx0fSxcblxuXHRfY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KTtcblx0XHREb21FdmVudC5vZmYoZG9jdW1lbnQsICd0b3VjaGVuZCB0b3VjaGNhbmNlbCBjb250ZXh0bWVudScsIHRoaXMuX2NhbmNlbCwgdGhpcyk7XG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB0aGlzKTtcblx0fSxcblxuXHRfb25Nb3ZlOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBmaXJzdCA9IGUudG91Y2hlc1swXTtcblx0XHR0aGlzLl9uZXdQb3MgPSBuZXcgUG9pbnQoZmlyc3QuY2xpZW50WCwgZmlyc3QuY2xpZW50WSk7XG5cdH0sXG5cblx0X2lzVGFwVmFsaWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbmV3UG9zLmRpc3RhbmNlVG8odGhpcy5fc3RhcnRQb3MpIDw9IHRoaXMuX21hcC5vcHRpb25zLnRhcFRvbGVyYW5jZTtcblx0fSxcblxuXHRfc2ltdWxhdGVFdmVudDogZnVuY3Rpb24gKHR5cGUsIGUpIHtcblx0XHR2YXIgc2ltdWxhdGVkRXZlbnQgPSBuZXcgTW91c2VFdmVudCh0eXBlLCB7XG5cdFx0XHRidWJibGVzOiB0cnVlLFxuXHRcdFx0Y2FuY2VsYWJsZTogdHJ1ZSxcblx0XHRcdHZpZXc6IHdpbmRvdyxcblx0XHRcdC8vIGRldGFpbDogMSxcblx0XHRcdHNjcmVlblg6IGUuc2NyZWVuWCxcblx0XHRcdHNjcmVlblk6IGUuc2NyZWVuWSxcblx0XHRcdGNsaWVudFg6IGUuY2xpZW50WCxcblx0XHRcdGNsaWVudFk6IGUuY2xpZW50WSxcblx0XHRcdC8vIGJ1dHRvbjogMixcblx0XHRcdC8vIGJ1dHRvbnM6IDJcblx0XHR9KTtcblxuXHRcdHNpbXVsYXRlZEV2ZW50Ll9zaW11bGF0ZWQgPSB0cnVlO1xuXG5cdFx0ZS50YXJnZXQuZGlzcGF0Y2hFdmVudChzaW11bGF0ZWRFdmVudCk7XG5cdH1cbn0pO1xuXG4vLyBAc2VjdGlvbiBIYW5kbGVyc1xuLy8gQHByb3BlcnR5IHRhcEhvbGQ6IEhhbmRsZXJcbi8vIExvbmcgdGFwIGhhbmRsZXIgdG8gc2ltdWxhdGUgYGNvbnRleHRtZW51YCBldmVudCAodXNlZnVsIGluIG1vYmlsZSBTYWZhcmkpLlxuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ3RhcEhvbGQnLCBUYXBIb2xkKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uLy4uL2RvbS9Eb21FdmVudCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uLy4uL2NvcmUvQnJvd3Nlcic7XG5cbi8qXG4gKiBMLkhhbmRsZXIuVG91Y2hab29tIGlzIHVzZWQgYnkgTC5NYXAgdG8gYWRkIHBpbmNoIHpvb20gb24gc3VwcG9ydGVkIG1vYmlsZSBicm93c2Vycy5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBzZWN0aW9uIFRvdWNoIGludGVyYWN0aW9uIG9wdGlvbnNcblx0Ly8gQG9wdGlvbiB0b3VjaFpvb206IEJvb2xlYW58U3RyaW5nID0gKlxuXHQvLyBXaGV0aGVyIHRoZSBtYXAgY2FuIGJlIHpvb21lZCBieSB0b3VjaC1kcmFnZ2luZyB3aXRoIHR3byBmaW5nZXJzLiBJZlxuXHQvLyBwYXNzZWQgYCdjZW50ZXInYCwgaXQgd2lsbCB6b29tIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcgcmVnYXJkbGVzcyBvZlxuXHQvLyB3aGVyZSB0aGUgdG91Y2ggZXZlbnRzIChmaW5nZXJzKSB3ZXJlLiBFbmFibGVkIGZvciB0b3VjaC1jYXBhYmxlIHdlYlxuXHQvLyBicm93c2Vycy5cblx0dG91Y2hab29tOiBCcm93c2VyLnRvdWNoLFxuXG5cdC8vIEBvcHRpb24gYm91bmNlQXRab29tTGltaXRzOiBCb29sZWFuID0gdHJ1ZVxuXHQvLyBTZXQgaXQgdG8gZmFsc2UgaWYgeW91IGRvbid0IHdhbnQgdGhlIG1hcCB0byB6b29tIGJleW9uZCBtaW4vbWF4IHpvb21cblx0Ly8gYW5kIHRoZW4gYm91bmNlIGJhY2sgd2hlbiBwaW5jaC16b29taW5nLlxuXHRib3VuY2VBdFpvb21MaW1pdHM6IHRydWVcbn0pO1xuXG5leHBvcnQgdmFyIFRvdWNoWm9vbSA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcC5fY29udGFpbmVyLCAnbGVhZmxldC10b3VjaC16b29tJyk7XG5cdFx0RG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0LCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwLl9jb250YWluZXIsICdsZWFmbGV0LXRvdWNoLXpvb20nKTtcblx0XHREb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0LCB0aGlzKTtcblx0fSxcblxuXHRfb25Ub3VjaFN0YXJ0OiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXA7XG5cdFx0aWYgKCFlLnRvdWNoZXMgfHwgZS50b3VjaGVzLmxlbmd0aCAhPT0gMiB8fCBtYXAuX2FuaW1hdGluZ1pvb20gfHwgdGhpcy5fem9vbWluZykgeyByZXR1cm47IH1cblxuXHRcdHZhciBwMSA9IG1hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlLnRvdWNoZXNbMF0pLFxuXHRcdCAgICBwMiA9IG1hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlLnRvdWNoZXNbMV0pO1xuXG5cdFx0dGhpcy5fY2VudGVyUG9pbnQgPSBtYXAuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKTtcblx0XHR0aGlzLl9zdGFydExhdExuZyA9IG1hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKHRoaXMuX2NlbnRlclBvaW50KTtcblx0XHRpZiAobWFwLm9wdGlvbnMudG91Y2hab29tICE9PSAnY2VudGVyJykge1xuXHRcdFx0dGhpcy5fcGluY2hTdGFydExhdExuZyA9IG1hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKHAxLmFkZChwMikuX2RpdmlkZUJ5KDIpKTtcblx0XHR9XG5cblx0XHR0aGlzLl9zdGFydERpc3QgPSBwMS5kaXN0YW5jZVRvKHAyKTtcblx0XHR0aGlzLl9zdGFydFpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuXG5cdFx0dGhpcy5fbW92ZWQgPSBmYWxzZTtcblx0XHR0aGlzLl96b29taW5nID0gdHJ1ZTtcblxuXHRcdG1hcC5fc3RvcCgpO1xuXG5cdFx0RG9tRXZlbnQub24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSwgdGhpcyk7XG5cdFx0RG9tRXZlbnQub24oZG9jdW1lbnQsICd0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuX29uVG91Y2hFbmQsIHRoaXMpO1xuXG5cdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XG5cdH0sXG5cblx0X29uVG91Y2hNb3ZlOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghZS50b3VjaGVzIHx8IGUudG91Y2hlcy5sZW5ndGggIT09IDIgfHwgIXRoaXMuX3pvb21pbmcpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwLFxuXHRcdCAgICBwMSA9IG1hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlLnRvdWNoZXNbMF0pLFxuXHRcdCAgICBwMiA9IG1hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlLnRvdWNoZXNbMV0pLFxuXHRcdCAgICBzY2FsZSA9IHAxLmRpc3RhbmNlVG8ocDIpIC8gdGhpcy5fc3RhcnREaXN0O1xuXG5cdFx0dGhpcy5fem9vbSA9IG1hcC5nZXRTY2FsZVpvb20oc2NhbGUsIHRoaXMuX3N0YXJ0Wm9vbSk7XG5cblx0XHRpZiAoIW1hcC5vcHRpb25zLmJvdW5jZUF0Wm9vbUxpbWl0cyAmJiAoXG5cdFx0XHQodGhpcy5fem9vbSA8IG1hcC5nZXRNaW5ab29tKCkgJiYgc2NhbGUgPCAxKSB8fFxuXHRcdFx0KHRoaXMuX3pvb20gPiBtYXAuZ2V0TWF4Wm9vbSgpICYmIHNjYWxlID4gMSkpKSB7XG5cdFx0XHR0aGlzLl96b29tID0gbWFwLl9saW1pdFpvb20odGhpcy5fem9vbSk7XG5cdFx0fVxuXG5cdFx0aWYgKG1hcC5vcHRpb25zLnRvdWNoWm9vbSA9PT0gJ2NlbnRlcicpIHtcblx0XHRcdHRoaXMuX2NlbnRlciA9IHRoaXMuX3N0YXJ0TGF0TG5nO1xuXHRcdFx0aWYgKHNjYWxlID09PSAxKSB7IHJldHVybjsgfVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHZXQgZGVsdGEgZnJvbSBwaW5jaCB0byBjZW50ZXIsIHNvIGNlbnRlckxhdExuZyBpcyBkZWx0YSBhcHBsaWVkIHRvIGluaXRpYWwgcGluY2hMYXRMbmdcblx0XHRcdHZhciBkZWx0YSA9IHAxLl9hZGQocDIpLl9kaXZpZGVCeSgyKS5fc3VidHJhY3QodGhpcy5fY2VudGVyUG9pbnQpO1xuXHRcdFx0aWYgKHNjYWxlID09PSAxICYmIGRlbHRhLnggPT09IDAgJiYgZGVsdGEueSA9PT0gMCkgeyByZXR1cm47IH1cblx0XHRcdHRoaXMuX2NlbnRlciA9IG1hcC51bnByb2plY3QobWFwLnByb2plY3QodGhpcy5fcGluY2hTdGFydExhdExuZywgdGhpcy5fem9vbSkuc3VidHJhY3QoZGVsdGEpLCB0aGlzLl96b29tKTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuX21vdmVkKSB7XG5cdFx0XHRtYXAuX21vdmVTdGFydCh0cnVlLCBmYWxzZSk7XG5cdFx0XHR0aGlzLl9tb3ZlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0VXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpO1xuXG5cdFx0dmFyIG1vdmVGbiA9IFV0aWwuYmluZChtYXAuX21vdmUsIG1hcCwgdGhpcy5fY2VudGVyLCB0aGlzLl96b29tLCB7cGluY2g6IHRydWUsIHJvdW5kOiBmYWxzZX0sIHVuZGVmaW5lZCk7XG5cdFx0dGhpcy5fYW5pbVJlcXVlc3QgPSBVdGlsLnJlcXVlc3RBbmltRnJhbWUobW92ZUZuLCB0aGlzLCB0cnVlKTtcblxuXHRcdERvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuXHR9LFxuXG5cdF9vblRvdWNoRW5kOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9tb3ZlZCB8fCAhdGhpcy5fem9vbWluZykge1xuXHRcdFx0dGhpcy5fem9vbWluZyA9IGZhbHNlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3pvb21pbmcgPSBmYWxzZTtcblx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCk7XG5cblx0XHREb21FdmVudC5vZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSwgdGhpcyk7XG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCAndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCB0aGlzLl9vblRvdWNoRW5kLCB0aGlzKTtcblxuXHRcdC8vIFBpbmNoIHVwZGF0ZXMgR3JpZExheWVycycgbGV2ZWxzIG9ubHkgd2hlbiB6b29tU25hcCBpcyBvZmYsIHNvIHpvb21TbmFwIGJlY29tZXMgbm9VcGRhdGUuXG5cdFx0aWYgKHRoaXMuX21hcC5vcHRpb25zLnpvb21BbmltYXRpb24pIHtcblx0XHRcdHRoaXMuX21hcC5fYW5pbWF0ZVpvb20odGhpcy5fY2VudGVyLCB0aGlzLl9tYXAuX2xpbWl0Wm9vbSh0aGlzLl96b29tKSwgdHJ1ZSwgdGhpcy5fbWFwLm9wdGlvbnMuem9vbVNuYXApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9tYXAuX3Jlc2V0Vmlldyh0aGlzLl9jZW50ZXIsIHRoaXMuX21hcC5fbGltaXRab29tKHRoaXMuX3pvb20pKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBAc2VjdGlvbiBIYW5kbGVyc1xuLy8gQHByb3BlcnR5IHRvdWNoWm9vbTogSGFuZGxlclxuLy8gVG91Y2ggem9vbSBoYW5kbGVyLlxuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ3RvdWNoWm9vbScsIFRvdWNoWm9vbSk7XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4vTWFwJztcbmltcG9ydCB7Qm94Wm9vbX0gZnJvbSAnLi9oYW5kbGVyL01hcC5Cb3hab29tJztcbk1hcC5Cb3hab29tID0gQm94Wm9vbTtcbmltcG9ydCB7RG91YmxlQ2xpY2tab29tfSBmcm9tICcuL2hhbmRsZXIvTWFwLkRvdWJsZUNsaWNrWm9vbSc7XG5NYXAuRG91YmxlQ2xpY2tab29tID0gRG91YmxlQ2xpY2tab29tO1xuaW1wb3J0IHtEcmFnfSBmcm9tICcuL2hhbmRsZXIvTWFwLkRyYWcnO1xuTWFwLkRyYWcgPSBEcmFnO1xuaW1wb3J0IHtLZXlib2FyZH0gZnJvbSAnLi9oYW5kbGVyL01hcC5LZXlib2FyZCc7XG5NYXAuS2V5Ym9hcmQgPSBLZXlib2FyZDtcbmltcG9ydCB7U2Nyb2xsV2hlZWxab29tfSBmcm9tICcuL2hhbmRsZXIvTWFwLlNjcm9sbFdoZWVsWm9vbSc7XG5NYXAuU2Nyb2xsV2hlZWxab29tID0gU2Nyb2xsV2hlZWxab29tO1xuaW1wb3J0IHtUYXBIb2xkfSBmcm9tICcuL2hhbmRsZXIvTWFwLlRhcEhvbGQnO1xuTWFwLlRhcEhvbGQgPSBUYXBIb2xkO1xuaW1wb3J0IHtUb3VjaFpvb219IGZyb20gJy4vaGFuZGxlci9NYXAuVG91Y2hab29tJztcbk1hcC5Ub3VjaFpvb20gPSBUb3VjaFpvb207XG5cbmV4cG9ydCB7TWFwLCBjcmVhdGVNYXAgYXMgbWFwfSBmcm9tICcuL01hcCc7XG4iLCAiaW1wb3J0ICogYXMgTCBmcm9tICdsZWFmbGV0JztcbmltcG9ydCAnbGVhZmxldC1mdWxsc2NyZWVuJztcbmltcG9ydCBcIkBnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZVwiO1xuaW1wb3J0ICdsZWFmbGV0LnBob3Rvbic7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgbWFwUGlja2VyID0gKCR3aXJlLCBjb25maWcsIHN0YXRlKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXA6IG51bGwsXG4gICAgICAgICAgICB0aWxlOiBudWxsLFxuICAgICAgICAgICAgbWFya2VyOiBudWxsLFxuICAgICAgICAgICAgcmFuZ2VDaXJjbGU6IG51bGwsXG4gICAgICAgICAgICBkcmF3SXRlbXM6IG51bGwsXG4gICAgICAgICAgICByYW5nZVNlbGVjdEZpZWxkOiBudWxsLFxuXG4gICAgICAgICAgICBjcmVhdGVNYXA6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tYXAgPSBMLm1hcChlbCwgY29uZmlnLmNvbnRyb2xzKTtcblxuICAgICAgICAgICAgICAgIGlmKGNvbmZpZy5ib3VuZHMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc291dGhXZXN0ID0gTC5sYXRMbmcoY29uZmlnLmJvdW5kcy5zdy5sYXQsIGNvbmZpZy5ib3VuZHMuc3cubG5nKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vcnRoRWFzdCA9IEwubGF0TG5nKGNvbmZpZy5ib3VuZHMubmUubGF0LCBjb25maWcuYm91bmRzLm5lLmxuZyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhzb3V0aFdlc3QsIG5vcnRoRWFzdCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLnNldE1heEJvdW5kcyhib3VuZHMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ2RyYWcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5wYW5JbnNpZGVCb3VuZHMoYm91bmRzLCB7IGFuaW1hdGU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5tYXAuaW52YWxpZGF0ZVNpemUodHJ1ZSksIDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnNob3dNYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFya2VyLnNldExhdExuZyh0aGlzLm1hcC5nZXRDZW50ZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmRyYWdnYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoY29uZmlnLmNsaWNrYWJsZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0Q29vcmRpbmF0ZXMoZS5sYXRsbmcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRpbGUgPSBMLnRpbGVMYXllcihjb25maWcudGlsZXNVcmwsIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRpb246IGNvbmZpZy5hdHRyaWJ1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgbWluWm9vbTogY29uZmlnLm1pblpvb20sXG4gICAgICAgICAgICAgICAgICAgIG1heFpvb206IGNvbmZpZy5tYXhab29tLFxuICAgICAgICAgICAgICAgICAgICB0aWxlU2l6ZTogY29uZmlnLnRpbGVTaXplLFxuICAgICAgICAgICAgICAgICAgICB6b29tT2Zmc2V0OiBjb25maWcuem9vbU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgZGV0ZWN0UmV0aW5hOiBjb25maWcuZGV0ZWN0UmV0aW5hLFxuICAgICAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb25maWcuc2hvd01hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXJrZXJDb2xvciA9IGNvbmZpZy5tYXJrZXJDb2xvciB8fCBcIiMzYjgyZjZcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ZnSWNvbiA9IEwuZGl2SWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3M9XCJtYXAtaWNvblwiIGZpbGw9XCIke21hcmtlckNvbG9yfVwiIHdpZHRoPVwiMzZcIiBoZWlnaHQ9XCIzNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTEyIDBjLTQuMTk4IDAtOCAzLjQwMy04IDcuNjAyIDAgNC4xOTggMy40NjkgOS4yMSA4IDE2LjM5OCA0LjUzMS03LjE4OCA4LTEyLjIgOC0xNi4zOTggMC00LjE5OS0zLjgwMS03LjYwMi04LTcuNjAyem0wIDExYy0xLjY1NyAwLTMtMS4zNDMtMy0zczEuMzQzLTMgMy0zIDMgMS4zNDMgMyAzLTEuMzQzIDMtMyAzelwiLz48L3N2Zz5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFszNiwgMzZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzE4LCAzNl0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtlciA9IEwubWFya2VyKFswLCAwXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogc3ZnSWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvUGFuOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNYXJrZXJSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZighY29uZmlnLmNsaWNrYWJsZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ21vdmUnLCAoKSA9PiB0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMubWFwLmdldENlbnRlcigpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5vbignbW92ZWVuZCcsICgpID0+IHNldFRpbWVvdXQoKCkgPT4gdGhpcy51cGRhdGVMb2NhdGlvbigpLCA1MDApKTtcblxuICAgICAgICAgICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGlvbmZvdW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Lm1hcC5zZXRab29tKGNvbmZpZy5jb250cm9scy56b29tKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IHN0YXRlID8/IHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxvY2F0aW9uLmxhdCAmJiAhbG9jYXRpb24ubG5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLmxvY2F0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWaWV3OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogY29uZmlnLmNvbnRyb2xzLm1heFpvb20sXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuc2V0VmlldyhuZXcgTC5MYXRMbmcobG9jYXRpb24ubGF0LCBsb2NhdGlvbi5sbmcpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnNob3dNeUxvY2F0aW9uQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTG9jYXRpb25CdXR0b24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmxpdmVMb2NhdGlvbi5zZW5kICYmIGNvbmZpZy5saXZlTG9jYXRpb24ucmVhbHRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEN1cnJlbnRMb2NhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9LCBjb25maWcubGl2ZUxvY2F0aW9uLm1pbGlzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHZW9tYW4gc2V0dXBcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmdlb01hbi5zaG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5wbS5hZGRDb250cm9scyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGNvbmZpZy5nZW9NYW4ucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0NpcmNsZU1hcmtlcjogY29uZmlnLmdlb01hbi5kcmF3Q2lyY2xlTWFya2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZU1vZGU6IGNvbmZpZy5nZW9NYW4ucm90YXRlTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3TWFya2VyOiBjb25maWcuZ2VvTWFuLmRyYXdNYXJrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd1BvbHlnb246IGNvbmZpZy5nZW9NYW4uZHJhd1BvbHlnb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd1BvbHlsaW5lOiBjb25maWcuZ2VvTWFuLmRyYXdQb2x5bGluZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3Q2lyY2xlOiBjb25maWcuZ2VvTWFuLmRyYXdDaXJjbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1vZGU6IGNvbmZpZy5nZW9NYW4uZWRpdE1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ01vZGU6IGNvbmZpZy5nZW9NYW4uZHJhZ01vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3V0UG9seWdvbjogY29uZmlnLmdlb01hbi5jdXRQb2x5Z29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRQb2x5Z29uOiBjb25maWcuZ2VvTWFuLmVkaXRQb2x5Z29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxheWVyOiBjb25maWcuZ2VvTWFuLmRlbGV0ZUxheWVyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SXRlbXMgPSBuZXcgTC5GZWF0dXJlR3JvdXAoKS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLm9uKCdwbTpjcmVhdGUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmxheWVyICYmIGUubGF5ZXIucG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5sYXllci5wbS5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SXRlbXMuYWRkTGF5ZXIoZS5sYXllcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlR2VvSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5vbigncG06ZWRpdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUdlb0pzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5vbigncG06cmVtb3ZlJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdJdGVtcy5yZW1vdmVMYXllcihlLmxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVHZW9Kc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyByZW1vdmFsIG9mIGxheWVyOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTG9hZCBleGlzdGluZyBHZW9KU09OIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0dlb0pzb24gPSB0aGlzLmdldEdlb0pzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nR2VvSnNvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0l0ZW1zID0gTC5nZW9KU09OKGV4aXN0aW5nR2VvSnNvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludFRvTGF5ZXI6IChmZWF0dXJlLCBsYXRsbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBMLmNpcmNsZU1hcmtlcihsYXRsbmcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDE1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzMzODhmZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzMzODhmZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBmdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5nZW9tZXRyeS50eXBlID09PSAnUG9seWdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29uZmlnLmdlb01hbi5jb2xvciB8fCBcIiMzMzg4ZmZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBjb25maWcuZ2VvTWFuLmZpbGxlZENvbG9yIHx8ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC40XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogKGZlYXR1cmUsIGxheWVyKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2x5Z29uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmJpbmRQb3B1cChcIlBvbHlnb24gQXJlYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmVhdHVyZS5nZW9tZXRyeS50eXBlID09PSAnUG9pbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuYmluZFBvcHVwKFwiUG9pbnQgTG9jYXRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5nZW9NYW4uZWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5nZW9tZXRyeS50eXBlID09PSAnUG9seWdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93U2VsZkludGVyc2VjdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2ludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLm9uKCdwbTplZGl0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlR2VvSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb25maWcuZ2VvTWFuLmVkaXRhYmxlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5hYmxlIGVkaXRpbmcgZm9yIGVhY2ggbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SXRlbXMuZWFjaExheWVyKGxheWVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLnBtLmVuYWJsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5maXRCb3VuZHModGhpcy5kcmF3SXRlbXMuZ2V0Qm91bmRzKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHVwZGF0ZUdlb0pzb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlb0pzb25EYXRhID0gdGhpcy5kcmF3SXRlbXMudG9HZW9KU09OKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ2VvSnNvbkRhdGEgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiR2VvSlNPTiBkYXRhIGlzIG5vdCBhbiBvYmplY3Q6XCIsIGdlb0pzb25EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICR3aXJlLnNldChjb25maWcuc3RhdGVQYXRoLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4kd2lyZS5nZXQoY29uZmlnLnN0YXRlUGF0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9qc29uOiBnZW9Kc29uRGF0YVxuICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBHZW9KU09OOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0R2VvSnNvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSAkd2lyZS5nZXQoY29uZmlnLnN0YXRlUGF0aCkgPz8ge307XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmdlb2pzb247XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB1cGRhdGVMb2NhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gdGhpcy5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Q2VudGVyID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29vcmRpbmF0ZXMubG5nICE9PSBjdXJyZW50Q2VudGVyLmxuZyB8fCBjb29yZGluYXRlcy5sYXQgIT09IGN1cnJlbnRDZW50ZXIubGF0KSB7XG4gICAgICAgICAgICAgICAgICAgICR3aXJlLnNldChjb25maWcuc3RhdGVQYXRoLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4kd2lyZS5nZXQoY29uZmlnLnN0YXRlUGF0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGN1cnJlbnRDZW50ZXIubGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBjdXJyZW50Q2VudGVyLmxuZ1xuICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5saXZlTG9jYXRpb24uc2VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHdpcmUuJHJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHJlbW92ZU1hcDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFya2VyLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudGlsZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLm9mZigpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFwID0gbnVsbDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGdldENvb3JkaW5hdGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxvY2F0aW9uID0gJHdpcmUuZ2V0KGNvbmZpZy5zdGF0ZVBhdGgpID8/IHt9O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzVmFsaWRDb29yZGluYXRlcyA9IGxvY2F0aW9uLmhhc093blByb3BlcnR5KCdsYXQnKSAmJiBsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eSgnbG5nJykgJiZcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ubGF0ICE9PSBudWxsICYmIGxvY2F0aW9uLmxuZyAhPT0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghaGFzVmFsaWRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogY29uZmlnLmRlZmF1bHQubGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBjb25maWcuZGVmYXVsdC5sbmdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzZXRDb29yZGluYXRlczogZnVuY3Rpb24gKGNvb3Jkcykge1xuXG4gICAgICAgICAgICAgICAgJHdpcmUuc2V0KGNvbmZpZy5zdGF0ZVBhdGgsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uJHdpcmUuZ2V0KGNvbmZpZy5zdGF0ZVBhdGgpLFxuICAgICAgICAgICAgICAgICAgICBsYXQ6IGNvb3Jkcy5sYXQsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogY29vcmRzLmxuZ1xuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb25maWcubGl2ZUxvY2F0aW9uLnNlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHdpcmUuJHJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29vcmRzO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYXR0YWNoOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU1hcChlbCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1hcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVNYXAoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU1hcChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcm9vdE1hcmdpbjogJzBweCcsXG4gICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogMS4wXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmZXRjaEN1cnJlbnRMb2NhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgnZ2VvbG9jYXRpb24nIGluIG5hdmlnYXRvcikge1xuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGFzeW5jIHBvc2l0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IG5ldyBMLkxhdExuZyhwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5tYXAuZmx5VG8oY3VycmVudFBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMb2NhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY3VycmVudCBsb2NhdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBhZGRMb2NhdGlvbkJ1dHRvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYXRpb25CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbkJ1dHRvbi5pbm5lckhUTUwgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTEyIDBDOC4yNSAwIDUgMy4yNSA1IDdjMCA1LjI1IDcgMTMgNyAxM3M3LTcuNzUgNy0xM2MwLTMuNzUtMy4yNS03LTctN3ptMCAxMGMtMS42NiAwLTMtMS4zNC0zLTNzMS4zNC0zIDMtMyAzIDEuMzQgMyAzLTEuMzQgMy0zIDN6bTAtNWMtMS4xMSAwLTIgLjg5LTIgMnMuODkgMiAyIDIgMi0uODkgMi0yLS44OS0yLTItMnpcIi8+PC9zdmc+JztcbiAgICAgICAgICAgICAgICBsb2NhdGlvbkJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgICAgICAgbG9jYXRpb25CdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwLWxvY2F0aW9uLWJ1dHRvbicpO1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmZldGNoQ3VycmVudExvY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuZ2V0Q29udGFpbmVyKCkuYXBwZW5kQ2hpbGQobG9jYXRpb25CdXR0b24pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc2V0TWFya2VyUmFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHBhcnNlSW50KHRoaXMucmFuZ2VTZWxlY3RGaWVsZD8udmFsdWUgfHwgMCApIDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYW5nZUNpcmNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmdlQ2lyY2xlLnNldExhdExuZyh0aGlzLmdldENvb3JkaW5hdGVzKCkpLnNldFJhZGl1cyhkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5nZUNpcmNsZSA9IEwuY2lyY2xlKHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyNmMDMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogZGlzdGFuY2UgLy8gVGhlIHJhZGl1cyBpbiBtZXRlcnNcbiAgICAgICAgICAgICAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHdpcmUgPSAkd2lyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5nZVNlbGVjdEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29uZmlnLnJhbmdlU2VsZWN0RmllbGQgfHwgJ2RhdGEuZGlzdGFuY2UnKTtcbiAgICAgICAgICAgICAgICBsZXQgdGhhdD10aGlzXG4gICAgICAgICAgICAgICAgdGhpcy5yYW5nZVNlbGVjdEZpZWxkPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7dGhhdC51cGRhdGVNYXJrZXIoKTsgfSk7XG4gICAgICAgICAgICAgICAgJHdpcmUub24oJ3JlZnJlc2hNYXAnLCB0aGlzLnJlZnJlc2hNYXAuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB1cGRhdGVNYXJrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcuc2hvd01hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtlci5zZXRMYXRMbmcodGhpcy5nZXRDb29yZGluYXRlcygpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNYXJrZXJSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMudXBkYXRlTG9jYXRpb24oKSwgNTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICByZWZyZXNoTWFwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5mbHlUbyh0aGlzLmdldENvb3JkaW5hdGVzKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWFya2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHdpbmRvdy5tYXBQaWNrZXIgPSBtYXBQaWNrZXI7XG5cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ21hcC1zY3JpcHQtbG9hZGVkJykpO1xufSk7XG4iLCAiTC5Db250cm9sLkZ1bGxzY3JlZW4gPSBMLkNvbnRyb2wuZXh0ZW5kKHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXG4gICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAnZmFsc2UnOiAnVmlldyBGdWxsc2NyZWVuJyxcbiAgICAgICAgICAgICd0cnVlJzogJ0V4aXQgRnVsbHNjcmVlbidcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtY29udHJvbC1mdWxsc2NyZWVuIGxlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbCcpO1xuXG4gICAgICAgIHRoaXMubGluayA9IEwuRG9tVXRpbC5jcmVhdGUoJ2EnLCAnbGVhZmxldC1jb250cm9sLWZ1bGxzY3JlZW4tYnV0dG9uIGxlYWZsZXQtYmFyLXBhcnQnLCBjb250YWluZXIpO1xuICAgICAgICB0aGlzLmxpbmsuaHJlZiA9ICcjJztcblxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX21hcC5vbignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuX3RvZ2dsZVRpdGxlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlVGl0bGUoKTtcblxuICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMubGluaywgJ2NsaWNrJywgdGhpcy5fY2xpY2ssIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfSxcblxuICAgIF9jbGljazogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZSk7XG4gICAgICAgIEwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIHRoaXMuX21hcC50b2dnbGVGdWxsc2NyZWVuKHRoaXMub3B0aW9ucyk7XG4gICAgfSxcblxuICAgIF90b2dnbGVUaXRsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubGluay50aXRsZSA9IHRoaXMub3B0aW9ucy50aXRsZVt0aGlzLl9tYXAuaXNGdWxsc2NyZWVuKCldO1xuICAgIH1cbn0pO1xuXG5MLk1hcC5pbmNsdWRlKHtcbiAgICBpc0Z1bGxzY3JlZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRnVsbHNjcmVlbiB8fCBmYWxzZTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlRnVsbHNjcmVlbjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbigpKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBzZXVkb0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlUHNldWRvRnVsbHNjcmVlbihjb250YWluZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVQc2V1ZG9GdWxsc2NyZWVuKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBzZXVkb0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVQc2V1ZG9GdWxsc2NyZWVuKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKEVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZVBzZXVkb0Z1bGxzY3JlZW4oY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSxcblxuICAgIF9lbmFibGVQc2V1ZG9GdWxsc2NyZWVuOiBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LXBzZXVkby1mdWxsc2NyZWVuJyk7XG4gICAgICAgIHRoaXMuX3NldEZ1bGxzY3JlZW4odHJ1ZSk7XG4gICAgICAgIHRoaXMuZmlyZSgnZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgIH0sXG5cbiAgICBfZGlzYWJsZVBzZXVkb0Z1bGxzY3JlZW46IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtcHNldWRvLWZ1bGxzY3JlZW4nKTtcbiAgICAgICAgdGhpcy5fc2V0RnVsbHNjcmVlbihmYWxzZSk7XG4gICAgICAgIHRoaXMuZmlyZSgnZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgIH0sXG5cbiAgICBfc2V0RnVsbHNjcmVlbjogZnVuY3Rpb24oZnVsbHNjcmVlbikge1xuICAgICAgICB0aGlzLl9pc0Z1bGxzY3JlZW4gPSBmdWxsc2NyZWVuO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5nZXRDb250YWluZXIoKTtcbiAgICAgICAgaWYgKGZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWZ1bGxzY3JlZW4tb24nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWZ1bGxzY3JlZW4tb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludmFsaWRhdGVTaXplKCk7XG4gICAgfSxcblxuICAgIF9vbkZ1bGxzY3JlZW5DaGFuZ2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBmdWxsc2NyZWVuRWxlbWVudCA9XG4gICAgICAgICAgICBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgfHxcbiAgICAgICAgICAgIGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50O1xuXG4gICAgICAgIGlmIChmdWxsc2NyZWVuRWxlbWVudCA9PT0gdGhpcy5nZXRDb250YWluZXIoKSAmJiAhdGhpcy5faXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRGdWxsc2NyZWVuKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5maXJlKCdmdWxsc2NyZWVuY2hhbmdlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZnVsbHNjcmVlbkVsZW1lbnQgIT09IHRoaXMuZ2V0Q29udGFpbmVyKCkgJiYgdGhpcy5faXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRGdWxsc2NyZWVuKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbkwuTWFwLm1lcmdlT3B0aW9ucyh7XG4gICAgZnVsbHNjcmVlbkNvbnRyb2w6IGZhbHNlXG59KTtcblxuTC5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbkNvbnRyb2wpIHtcbiAgICAgICAgdGhpcy5mdWxsc2NyZWVuQ29udHJvbCA9IG5ldyBMLkNvbnRyb2wuRnVsbHNjcmVlbih0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbkNvbnRyb2wpO1xuICAgICAgICB0aGlzLmFkZENvbnRyb2wodGhpcy5mdWxsc2NyZWVuQ29udHJvbCk7XG4gICAgfVxuXG4gICAgdmFyIGZ1bGxzY3JlZW5jaGFuZ2U7XG5cbiAgICBpZiAoJ29uZnVsbHNjcmVlbmNoYW5nZScgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZnVsbHNjcmVlbmNoYW5nZSA9ICdmdWxsc2NyZWVuY2hhbmdlJztcbiAgICB9IGVsc2UgaWYgKCdvbm1vemZ1bGxzY3JlZW5jaGFuZ2UnIGluIGRvY3VtZW50KSB7XG4gICAgICAgIGZ1bGxzY3JlZW5jaGFuZ2UgPSAnbW96ZnVsbHNjcmVlbmNoYW5nZSc7XG4gICAgfSBlbHNlIGlmICgnb253ZWJraXRmdWxsc2NyZWVuY2hhbmdlJyBpbiBkb2N1bWVudCkge1xuICAgICAgICBmdWxsc2NyZWVuY2hhbmdlID0gJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnO1xuICAgIH0gZWxzZSBpZiAoJ29ubXNmdWxsc2NyZWVuY2hhbmdlJyBpbiBkb2N1bWVudCkge1xuICAgICAgICBmdWxsc2NyZWVuY2hhbmdlID0gJ01TRnVsbHNjcmVlbkNoYW5nZSc7XG4gICAgfVxuXG4gICAgaWYgKGZ1bGxzY3JlZW5jaGFuZ2UpIHtcbiAgICAgICAgdmFyIG9uRnVsbHNjcmVlbkNoYW5nZSA9IEwuYmluZCh0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMud2hlblJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEwuRG9tRXZlbnQub24oZG9jdW1lbnQsIGZ1bGxzY3JlZW5jaGFuZ2UsIG9uRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ3VubG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEwuRG9tRXZlbnQub2ZmKGRvY3VtZW50LCBmdWxsc2NyZWVuY2hhbmdlLCBvbkZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuTC5jb250cm9sLmZ1bGxzY3JlZW4gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgTC5Db250cm9sLkZ1bGxzY3JlZW4ob3B0aW9ucyk7XG59O1xuIiwgIi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVDbGVhcjtcbiIsICIvKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcTtcbiIsICJ2YXIgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzb2NJbmRleE9mO1xuIiwgInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZURlbGV0ZTtcbiIsICJ2YXIgYXNzb2NJbmRleE9mID0gcmVxdWlyZSgnLi9fYXNzb2NJbmRleE9mJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlR2V0O1xuIiwgInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlSGFzO1xuIiwgInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZVNldDtcbiIsICJ2YXIgbGlzdENhY2hlQ2xlYXIgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVDbGVhcicpLFxuICAgIGxpc3RDYWNoZURlbGV0ZSA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZURlbGV0ZScpLFxuICAgIGxpc3RDYWNoZUdldCA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZUdldCcpLFxuICAgIGxpc3RDYWNoZUhhcyA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZUhhcycpLFxuICAgIGxpc3RDYWNoZVNldCA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZVNldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gTGlzdENhY2hlO1xuIiwgInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0NsZWFyO1xuIiwgIi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0RlbGV0ZTtcbiIsICIvKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RhY2tHZXQ7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0hhcztcbiIsICIvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZyZWVHbG9iYWw7XG4iLCAidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iLCAidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UmF3VGFnO1xuIiwgIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIiwgInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBnZXRSYXdUYWcgPSByZXF1aXJlKCcuL19nZXRSYXdUYWcnKSxcbiAgICBvYmplY3RUb1N0cmluZyA9IHJlcXVpcmUoJy4vX29iamVjdFRvU3RyaW5nJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VHZXRUYWc7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iLCAidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGdW5jdGlvbjtcbiIsICJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb3JlSnNEYXRhO1xuIiwgInZhciBjb3JlSnNEYXRhID0gcmVxdWlyZSgnLi9fY29yZUpzRGF0YScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTWFza2VkO1xuIiwgIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1NvdXJjZTtcbiIsICJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJy4vaXNGdW5jdGlvbicpLFxuICAgIGlzTWFza2VkID0gcmVxdWlyZSgnLi9faXNNYXNrZWQnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICB0b1NvdXJjZSA9IHJlcXVpcmUoJy4vX3RvU291cmNlJyk7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTmF0aXZlO1xuIiwgIi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZhbHVlO1xuIiwgInZhciBiYXNlSXNOYXRpdmUgPSByZXF1aXJlKCcuL19iYXNlSXNOYXRpdmUnKSxcbiAgICBnZXRWYWx1ZSA9IHJlcXVpcmUoJy4vX2dldFZhbHVlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TmF0aXZlO1xuIiwgInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKSxcbiAgICByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXA7XG4iLCAidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdGl2ZUNyZWF0ZTtcbiIsICJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hDbGVhcjtcbiIsICIvKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hEZWxldGU7XG4iLCAidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaEdldDtcbiIsICJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoSGFzO1xuIiwgInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaFNldDtcbiIsICJ2YXIgaGFzaENsZWFyID0gcmVxdWlyZSgnLi9faGFzaENsZWFyJyksXG4gICAgaGFzaERlbGV0ZSA9IHJlcXVpcmUoJy4vX2hhc2hEZWxldGUnKSxcbiAgICBoYXNoR2V0ID0gcmVxdWlyZSgnLi9faGFzaEdldCcpLFxuICAgIGhhc2hIYXMgPSByZXF1aXJlKCcuL19oYXNoSGFzJyksXG4gICAgaGFzaFNldCA9IHJlcXVpcmUoJy4vX2hhc2hTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gSGFzaDtcbiIsICJ2YXIgSGFzaCA9IHJlcXVpcmUoJy4vX0hhc2gnKSxcbiAgICBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlQ2xlYXI7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzS2V5YWJsZTtcbiIsICJ2YXIgaXNLZXlhYmxlID0gcmVxdWlyZSgnLi9faXNLZXlhYmxlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRNYXBEYXRhO1xuIiwgInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZURlbGV0ZTtcbiIsICJ2YXIgZ2V0TWFwRGF0YSA9IHJlcXVpcmUoJy4vX2dldE1hcERhdGEnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlR2V0O1xuIiwgInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlSGFzO1xuIiwgInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVTZXQ7XG4iLCAidmFyIG1hcENhY2hlQ2xlYXIgPSByZXF1aXJlKCcuL19tYXBDYWNoZUNsZWFyJyksXG4gICAgbWFwQ2FjaGVEZWxldGUgPSByZXF1aXJlKCcuL19tYXBDYWNoZURlbGV0ZScpLFxuICAgIG1hcENhY2hlR2V0ID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVHZXQnKSxcbiAgICBtYXBDYWNoZUhhcyA9IHJlcXVpcmUoJy4vX21hcENhY2hlSGFzJyksXG4gICAgbWFwQ2FjaGVTZXQgPSByZXF1aXJlKCcuL19tYXBDYWNoZVNldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXBDYWNoZTtcbiIsICJ2YXIgTGlzdENhY2hlID0gcmVxdWlyZSgnLi9fTGlzdENhY2hlJyksXG4gICAgTWFwID0gcmVxdWlyZSgnLi9fTWFwJyksXG4gICAgTWFwQ2FjaGUgPSByZXF1aXJlKCcuL19NYXBDYWNoZScpO1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja1NldDtcbiIsICJ2YXIgTGlzdENhY2hlID0gcmVxdWlyZSgnLi9fTGlzdENhY2hlJyksXG4gICAgc3RhY2tDbGVhciA9IHJlcXVpcmUoJy4vX3N0YWNrQ2xlYXInKSxcbiAgICBzdGFja0RlbGV0ZSA9IHJlcXVpcmUoJy4vX3N0YWNrRGVsZXRlJyksXG4gICAgc3RhY2tHZXQgPSByZXF1aXJlKCcuL19zdGFja0dldCcpLFxuICAgIHN0YWNrSGFzID0gcmVxdWlyZSgnLi9fc3RhY2tIYXMnKSxcbiAgICBzdGFja1NldCA9IHJlcXVpcmUoJy4vX3N0YWNrU2V0Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxubW9kdWxlLmV4cG9ydHMgPSBTdGFjaztcbiIsICJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZVByb3BlcnR5O1xuIiwgInZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAqIHZhbHVlIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUFzc2lnblZhbHVlO1xuIiwgInZhciBiYXNlQXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19iYXNlQXNzaWduVmFsdWUnKSxcbiAgICBlcSA9IHJlcXVpcmUoJy4vZXEnKTtcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ25NZXJnZVZhbHVlO1xuIiwgIi8qKlxuICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUJhc2VGb3I7XG4iLCAidmFyIGNyZWF0ZUJhc2VGb3IgPSByZXF1aXJlKCcuL19jcmVhdGVCYXNlRm9yJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG52YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlRm9yO1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgaWYgKGlzRGVlcCkge1xuICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICBidWZmZXIuY29weShyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lQnVmZmVyO1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVpbnQ4QXJyYXk7XG4iLCAidmFyIFVpbnQ4QXJyYXkgPSByZXF1aXJlKCcuL19VaW50OEFycmF5Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9uZUFycmF5QnVmZmVyO1xuIiwgInZhciBjbG9uZUFycmF5QnVmZmVyID0gcmVxdWlyZSgnLi9fY2xvbmVBcnJheUJ1ZmZlcicpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lVHlwZWRBcnJheTtcbiIsICIvKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb3B5QXJyYXk7XG4iLCAidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG52YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgfVxuICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VDcmVhdGU7XG4iLCAiLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcbiIsICJ2YXIgb3ZlckFyZyA9IHJlcXVpcmUoJy4vX292ZXJBcmcnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuIiwgIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1Byb3RvdHlwZTtcbiIsICJ2YXIgYmFzZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX2Jhc2VDcmVhdGUnKSxcbiAgICBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc1Byb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2lzUHJvdG90eXBlJyk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAqL1xuZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgOiB7fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbml0Q2xvbmVPYmplY3Q7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzQXJndW1lbnRzO1xuIiwgInZhciBiYXNlSXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL19iYXNlSXNBcmd1bWVudHMnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FyZ3VtZW50cztcbiIsICIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuIiwgIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0xlbmd0aDtcbiIsICJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJy4vaXNGdW5jdGlvbicpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5TGlrZTtcbiIsICJ2YXIgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuIiwgIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHViRmFsc2U7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290JyksXG4gICAgc3R1YkZhbHNlID0gcmVxdWlyZSgnLi9zdHViRmFsc2UnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQnVmZmVyO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNUeXBlZEFycmF5O1xuIiwgIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVW5hcnk7XG4iLCAidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICBpZiAodHlwZXMpIHtcbiAgICAgIHJldHVybiB0eXBlcztcbiAgICB9XG5cbiAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbm9kZVV0aWw7XG4iLCAidmFyIGJhc2VJc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL19iYXNlSXNUeXBlZEFycmF5JyksXG4gICAgYmFzZVVuYXJ5ID0gcmVxdWlyZSgnLi9fYmFzZVVuYXJ5JyksXG4gICAgbm9kZVV0aWwgPSByZXF1aXJlKCcuL19ub2RlVXRpbCcpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc1R5cGVkQXJyYXk7XG4iLCAiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gb2JqZWN0W2tleV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2FmZUdldDtcbiIsICJ2YXIgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduVmFsdWU7XG4iLCAidmFyIGFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduVmFsdWUnKSxcbiAgICBiYXNlQXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19iYXNlQXNzaWduVmFsdWUnKTtcblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgfVxuICAgIGlmIChpc05ldykge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29weU9iamVjdDtcbiIsICIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUaW1lcztcbiIsICIvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJbmRleDtcbiIsICJ2YXIgYmFzZVRpbWVzID0gcmVxdWlyZSgnLi9fYmFzZVRpbWVzJyksXG4gICAgaXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL2lzQXJndW1lbnRzJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzQnVmZmVyID0gcmVxdWlyZSgnLi9pc0J1ZmZlcicpLFxuICAgIGlzSW5kZXggPSByZXF1aXJlKCcuL19pc0luZGV4JyksXG4gICAgaXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9pc1R5cGVkQXJyYXknKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TGlrZUtleXM7XG4iLCAiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmF0aXZlS2V5c0luO1xuIiwgInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1Byb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2lzUHJvdG90eXBlJyksXG4gICAgbmF0aXZlS2V5c0luID0gcmVxdWlyZSgnLi9fbmF0aXZlS2V5c0luJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgfVxuICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUtleXNJbjtcbiIsICJ2YXIgYXJyYXlMaWtlS2V5cyA9IHJlcXVpcmUoJy4vX2FycmF5TGlrZUtleXMnKSxcbiAgICBiYXNlS2V5c0luID0gcmVxdWlyZSgnLi9fYmFzZUtleXNJbicpLFxuICAgIGlzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzSW4obmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqL1xuZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBrZXlzSW47XG4iLCAidmFyIGNvcHlPYmplY3QgPSByZXF1aXJlKCcuL19jb3B5T2JqZWN0JyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gKi9cbmZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvUGxhaW5PYmplY3Q7XG4iLCAidmFyIGFzc2lnbk1lcmdlVmFsdWUgPSByZXF1aXJlKCcuL19hc3NpZ25NZXJnZVZhbHVlJyksXG4gICAgY2xvbmVCdWZmZXIgPSByZXF1aXJlKCcuL19jbG9uZUJ1ZmZlcicpLFxuICAgIGNsb25lVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vX2Nsb25lVHlwZWRBcnJheScpLFxuICAgIGNvcHlBcnJheSA9IHJlcXVpcmUoJy4vX2NvcHlBcnJheScpLFxuICAgIGluaXRDbG9uZU9iamVjdCA9IHJlcXVpcmUoJy4vX2luaXRDbG9uZU9iamVjdCcpLFxuICAgIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0FycmF5TGlrZU9iamVjdCA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2VPYmplY3QnKSxcbiAgICBpc0J1ZmZlciA9IHJlcXVpcmUoJy4vaXNCdWZmZXInKSxcbiAgICBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJy4vaXNQbGFpbk9iamVjdCcpLFxuICAgIGlzVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vaXNUeXBlZEFycmF5JyksXG4gICAgc2FmZUdldCA9IHJlcXVpcmUoJy4vX3NhZmVHZXQnKSxcbiAgICB0b1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnLi90b1BsYWluT2JqZWN0Jyk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICBpZiAoc3RhY2tlZCkge1xuICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc0NvbW1vbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgfVxuICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZU1lcmdlRGVlcDtcbiIsICJ2YXIgU3RhY2sgPSByZXF1aXJlKCcuL19TdGFjaycpLFxuICAgIGFzc2lnbk1lcmdlVmFsdWUgPSByZXF1aXJlKCcuL19hc3NpZ25NZXJnZVZhbHVlJyksXG4gICAgYmFzZUZvciA9IHJlcXVpcmUoJy4vX2Jhc2VGb3InKSxcbiAgICBiYXNlTWVyZ2VEZWVwID0gcmVxdWlyZSgnLi9fYmFzZU1lcmdlRGVlcCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGtleXNJbiA9IHJlcXVpcmUoJy4va2V5c0luJyksXG4gICAgc2FmZUdldCA9IHJlcXVpcmUoJy4vX3NhZmVHZXQnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9LCBrZXlzSW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VNZXJnZTtcbiIsICIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlkZW50aXR5O1xuIiwgIi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcHBseTtcbiIsICJ2YXIgYXBwbHkgPSByZXF1aXJlKCcuL19hcHBseScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJSZXN0O1xuIiwgIi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnN0YW50O1xuIiwgInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiIsICIvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG52YXIgSE9UX0NPVU5UID0gODAwLFxuICAgIEhPVF9TUEFOID0gMTY7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvcnRPdXQ7XG4iLCAidmFyIGJhc2VTZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VTZXRUb1N0cmluZycpLFxuICAgIHNob3J0T3V0ID0gcmVxdWlyZSgnLi9fc2hvcnRPdXQnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRUb1N0cmluZztcbiIsICJ2YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5JyksXG4gICAgb3ZlclJlc3QgPSByZXF1aXJlKCcuL19vdmVyUmVzdCcpLFxuICAgIHNldFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fc2V0VG9TdHJpbmcnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVJlc3Q7XG4iLCAidmFyIGVxID0gcmVxdWlyZSgnLi9lcScpLFxuICAgIGlzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpLFxuICAgIGlzSW5kZXggPSByZXF1aXJlKCcuL19pc0luZGV4JyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICApIHtcbiAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0l0ZXJhdGVlQ2FsbDtcbiIsICJ2YXIgYmFzZVJlc3QgPSByZXF1aXJlKCcuL19iYXNlUmVzdCcpLFxuICAgIGlzSXRlcmF0ZWVDYWxsID0gcmVxdWlyZSgnLi9faXNJdGVyYXRlZUNhbGwnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICBsZW5ndGggPSAxO1xuICAgIH1cbiAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBc3NpZ25lcjtcbiIsICJ2YXIgYmFzZU1lcmdlID0gcmVxdWlyZSgnLi9fYmFzZU1lcmdlJyksXG4gICAgY3JlYXRlQXNzaWduZXIgPSByZXF1aXJlKCcuL19jcmVhdGVBc3NpZ25lcicpO1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC41LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHtcbiAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAqIH07XG4gKlxuICogdmFyIG90aGVyID0ge1xuICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICogfTtcbiAqXG4gKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICovXG52YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZTtcbiIsICJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNTeW1ib2w7XG4iLCAidmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzS2V5O1xuIiwgInZhciBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBFeHBvc2UgYE1hcENhY2hlYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZW1vaXplO1xuIiwgInZhciBtZW1vaXplID0gcmVxdWlyZSgnLi9tZW1vaXplJyk7XG5cbi8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbnZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH0pO1xuXG4gIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZW1vaXplQ2FwcGVkO1xuIiwgInZhciBtZW1vaXplQ2FwcGVkID0gcmVxdWlyZSgnLi9fbWVtb2l6ZUNhcHBlZCcpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgcmVzdWx0LnB1c2goJycpO1xuICB9XG4gIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gc3RyaW5nVG9QYXRoO1xuIiwgIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlNYXA7XG4iLCAidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGFycmF5TWFwID0gcmVxdWlyZSgnLi9fYXJyYXlNYXAnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDA7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVRvU3RyaW5nO1xuIiwgInZhciBiYXNlVG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlVG9TdHJpbmcnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU3RyaW5nO1xuIiwgInZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNLZXkgPSByZXF1aXJlKCcuL19pc0tleScpLFxuICAgIHN0cmluZ1RvUGF0aCA9IHJlcXVpcmUoJy4vX3N0cmluZ1RvUGF0aCcpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKipcbiAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhc3RQYXRoO1xuIiwgInZhciBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICovXG5mdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9LZXk7XG4iLCAidmFyIGNhc3RQYXRoID0gcmVxdWlyZSgnLi9fY2FzdFBhdGgnKSxcbiAgICB0b0tleSA9IHJlcXVpcmUoJy4vX3RvS2V5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICB2YXIgaW5kZXggPSAwLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgfVxuICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldDtcbiIsICJ2YXIgYmFzZUdldCA9IHJlcXVpcmUoJy4vX2Jhc2VHZXQnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjcuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gKlxuICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gKiAvLyA9PiAnZGVmYXVsdCdcbiAqL1xuZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldDtcbiIsICIhZnVuY3Rpb24odCxpKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1pKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShpKToodD10fHxzZWxmKS5SQnVzaD1pKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQscixlLGEsaCl7IWZ1bmN0aW9uIHQobixyLGUsYSxoKXtmb3IoO2E+ZTspe2lmKGEtZT42MDApe3ZhciBvPWEtZSsxLHM9ci1lKzEsbD1NYXRoLmxvZyhvKSxmPS41Kk1hdGguZXhwKDIqbC8zKSx1PS41Kk1hdGguc3FydChsKmYqKG8tZikvbykqKHMtby8yPDA/LTE6MSksbT1NYXRoLm1heChlLE1hdGguZmxvb3Ioci1zKmYvbyt1KSksYz1NYXRoLm1pbihhLE1hdGguZmxvb3Iocisoby1zKSpmL28rdSkpO3QobixyLG0sYyxoKX12YXIgcD1uW3JdLGQ9ZSx4PWE7Zm9yKGkobixlLHIpLGgoblthXSxwKT4wJiZpKG4sZSxhKTtkPHg7KXtmb3IoaShuLGQseCksZCsrLHgtLTtoKG5bZF0scCk8MDspZCsrO2Zvcig7aChuW3hdLHApPjA7KXgtLX0wPT09aChuW2VdLHApP2kobixlLHgpOmkobiwrK3gsYSkseDw9ciYmKGU9eCsxKSxyPD14JiYoYT14LTEpfX0odCxyLGV8fDAsYXx8dC5sZW5ndGgtMSxofHxuKX1mdW5jdGlvbiBpKHQsaSxuKXt2YXIgcj10W2ldO3RbaV09dFtuXSx0W25dPXJ9ZnVuY3Rpb24gbih0LGkpe3JldHVybiB0PGk/LTE6dD5pPzE6MH12YXIgcj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD05KSx0aGlzLl9tYXhFbnRyaWVzPU1hdGgubWF4KDQsdCksdGhpcy5fbWluRW50cmllcz1NYXRoLm1heCgyLE1hdGguY2VpbCguNCp0aGlzLl9tYXhFbnRyaWVzKSksdGhpcy5jbGVhcigpfTtmdW5jdGlvbiBlKHQsaSxuKXtpZighbilyZXR1cm4gaS5pbmRleE9mKHQpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKWlmKG4odCxpW3JdKSlyZXR1cm4gcjtyZXR1cm4tMX1mdW5jdGlvbiBhKHQsaSl7aCh0LDAsdC5jaGlsZHJlbi5sZW5ndGgsaSx0KX1mdW5jdGlvbiBoKHQsaSxuLHIsZSl7ZXx8KGU9cChudWxsKSksZS5taW5YPTEvMCxlLm1pblk9MS8wLGUubWF4WD0tMS8wLGUubWF4WT0tMS8wO2Zvcih2YXIgYT1pO2E8bjthKyspe3ZhciBoPXQuY2hpbGRyZW5bYV07byhlLHQubGVhZj9yKGgpOmgpfXJldHVybiBlfWZ1bmN0aW9uIG8odCxpKXtyZXR1cm4gdC5taW5YPU1hdGgubWluKHQubWluWCxpLm1pblgpLHQubWluWT1NYXRoLm1pbih0Lm1pblksaS5taW5ZKSx0Lm1heFg9TWF0aC5tYXgodC5tYXhYLGkubWF4WCksdC5tYXhZPU1hdGgubWF4KHQubWF4WSxpLm1heFkpLHR9ZnVuY3Rpb24gcyh0LGkpe3JldHVybiB0Lm1pblgtaS5taW5YfWZ1bmN0aW9uIGwodCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX1mdW5jdGlvbiBmKHQpe3JldHVybih0Lm1heFgtdC5taW5YKSoodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC5tYXhYLXQubWluWCsodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gbSh0LGkpe3JldHVybiB0Lm1pblg8PWkubWluWCYmdC5taW5ZPD1pLm1pblkmJmkubWF4WDw9dC5tYXhYJiZpLm1heFk8PXQubWF4WX1mdW5jdGlvbiBjKHQsaSl7cmV0dXJuIGkubWluWDw9dC5tYXhYJiZpLm1pblk8PXQubWF4WSYmaS5tYXhYPj10Lm1pblgmJmkubWF4WT49dC5taW5ZfWZ1bmN0aW9uIHAodCl7cmV0dXJue2NoaWxkcmVuOnQsaGVpZ2h0OjEsbGVhZjohMCxtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfX1mdW5jdGlvbiBkKGksbixyLGUsYSl7Zm9yKHZhciBoPVtuLHJdO2gubGVuZ3RoOylpZighKChyPWgucG9wKCkpLShuPWgucG9wKCkpPD1lKSl7dmFyIG89bitNYXRoLmNlaWwoKHItbikvZS8yKSplO3QoaSxvLG4scixhKSxoLnB1c2gobixvLG8scil9fXJldHVybiByLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxsKHRoaXMuZGF0YSxbXSl9LHIucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmRhdGEsbj1bXTtpZighYyh0LGkpKXJldHVybiBuO2Zvcih2YXIgcj10aGlzLnRvQkJveCxlPVtdO2k7KXtmb3IodmFyIGE9MDthPGkuY2hpbGRyZW4ubGVuZ3RoO2ErKyl7dmFyIGg9aS5jaGlsZHJlblthXSxvPWkubGVhZj9yKGgpOmg7Yyh0LG8pJiYoaS5sZWFmP24ucHVzaChoKTptKHQsbyk/dGhpcy5fYWxsKGgsbik6ZS5wdXNoKGgpKX1pPWUucG9wKCl9cmV0dXJuIG59LHIucHJvdG90eXBlLmNvbGxpZGVzPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YTtpZighYyh0LGkpKXJldHVybiExO2Zvcih2YXIgbj1bXTtpOyl7Zm9yKHZhciByPTA7cjxpLmNoaWxkcmVuLmxlbmd0aDtyKyspe3ZhciBlPWkuY2hpbGRyZW5bcl0sYT1pLmxlYWY/dGhpcy50b0JCb3goZSk6ZTtpZihjKHQsYSkpe2lmKGkubGVhZnx8bSh0LGEpKXJldHVybiEwO24ucHVzaChlKX19aT1uLnBvcCgpfXJldHVybiExfSxyLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodC5sZW5ndGg8dGhpcy5fbWluRW50cmllcyl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGhpcy5pbnNlcnQodFtpXSk7cmV0dXJuIHRoaXN9dmFyIG49dGhpcy5fYnVpbGQodC5zbGljZSgpLDAsdC5sZW5ndGgtMSwwKTtpZih0aGlzLmRhdGEuY2hpbGRyZW4ubGVuZ3RoKWlmKHRoaXMuZGF0YS5oZWlnaHQ9PT1uLmhlaWdodCl0aGlzLl9zcGxpdFJvb3QodGhpcy5kYXRhLG4pO2Vsc2V7aWYodGhpcy5kYXRhLmhlaWdodDxuLmhlaWdodCl7dmFyIHI9dGhpcy5kYXRhO3RoaXMuZGF0YT1uLG49cn10aGlzLl9pbnNlcnQobix0aGlzLmRhdGEuaGVpZ2h0LW4uaGVpZ2h0LTEsITApfWVsc2UgdGhpcy5kYXRhPW47cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5faW5zZXJ0KHQsdGhpcy5kYXRhLmhlaWdodC0xKSx0aGlzfSxyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGE9cChbXSksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsaSl7aWYoIXQpcmV0dXJuIHRoaXM7Zm9yKHZhciBuLHIsYSxoPXRoaXMuZGF0YSxvPXRoaXMudG9CQm94KHQpLHM9W10sbD1bXTtofHxzLmxlbmd0aDspe2lmKGh8fChoPXMucG9wKCkscj1zW3MubGVuZ3RoLTFdLG49bC5wb3AoKSxhPSEwKSxoLmxlYWYpe3ZhciBmPWUodCxoLmNoaWxkcmVuLGkpO2lmKC0xIT09ZilyZXR1cm4gaC5jaGlsZHJlbi5zcGxpY2UoZiwxKSxzLnB1c2goaCksdGhpcy5fY29uZGVuc2UocyksdGhpc31hfHxoLmxlYWZ8fCFtKGgsbyk/cj8obisrLGg9ci5jaGlsZHJlbltuXSxhPSExKTpoPW51bGw6KHMucHVzaChoKSxsLnB1c2gobiksbj0wLHI9aCxoPWguY2hpbGRyZW5bMF0pfXJldHVybiB0aGlzfSxyLnByb3RvdHlwZS50b0JCb3g9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHIucHJvdG90eXBlLmNvbXBhcmVNaW5YPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9LHIucHJvdG90eXBlLmNvbXBhcmVNaW5ZPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQubWluWS1pLm1pbll9LHIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LHIucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGE9dCx0aGlzfSxyLnByb3RvdHlwZS5fYWxsPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBuPVtdO3Q7KXQubGVhZj9pLnB1c2guYXBwbHkoaSx0LmNoaWxkcmVuKTpuLnB1c2guYXBwbHkobix0LmNoaWxkcmVuKSx0PW4ucG9wKCk7cmV0dXJuIGl9LHIucHJvdG90eXBlLl9idWlsZD1mdW5jdGlvbih0LGksbixyKXt2YXIgZSxoPW4taSsxLG89dGhpcy5fbWF4RW50cmllcztpZihoPD1vKXJldHVybiBhKGU9cCh0LnNsaWNlKGksbisxKSksdGhpcy50b0JCb3gpLGU7cnx8KHI9TWF0aC5jZWlsKE1hdGgubG9nKGgpL01hdGgubG9nKG8pKSxvPU1hdGguY2VpbChoL01hdGgucG93KG8sci0xKSkpLChlPXAoW10pKS5sZWFmPSExLGUuaGVpZ2h0PXI7dmFyIHM9TWF0aC5jZWlsKGgvbyksbD1zKk1hdGguY2VpbChNYXRoLnNxcnQobykpO2QodCxpLG4sbCx0aGlzLmNvbXBhcmVNaW5YKTtmb3IodmFyIGY9aTtmPD1uO2YrPWwpe3ZhciB1PU1hdGgubWluKGYrbC0xLG4pO2QodCxmLHUscyx0aGlzLmNvbXBhcmVNaW5ZKTtmb3IodmFyIG09ZjttPD11O20rPXMpe3ZhciBjPU1hdGgubWluKG0rcy0xLHUpO2UuY2hpbGRyZW4ucHVzaCh0aGlzLl9idWlsZCh0LG0sYyxyLTEpKX19cmV0dXJuIGEoZSx0aGlzLnRvQkJveCksZX0sci5wcm90b3R5cGUuX2Nob29zZVN1YnRyZWU9ZnVuY3Rpb24odCxpLG4scil7Zm9yKDtyLnB1c2goaSksIWkubGVhZiYmci5sZW5ndGgtMSE9PW47KXtmb3IodmFyIGU9MS8wLGE9MS8wLGg9dm9pZCAwLG89MDtvPGkuY2hpbGRyZW4ubGVuZ3RoO28rKyl7dmFyIHM9aS5jaGlsZHJlbltvXSxsPWYocyksdT0obT10LGM9cywoTWF0aC5tYXgoYy5tYXhYLG0ubWF4WCktTWF0aC5taW4oYy5taW5YLG0ubWluWCkpKihNYXRoLm1heChjLm1heFksbS5tYXhZKS1NYXRoLm1pbihjLm1pblksbS5taW5ZKSktbCk7dTxhPyhhPXUsZT1sPGU/bDplLGg9cyk6dT09PWEmJmw8ZSYmKGU9bCxoPXMpfWk9aHx8aS5jaGlsZHJlblswXX12YXIgbSxjO3JldHVybiBpfSxyLnByb3RvdHlwZS5faW5zZXJ0PWZ1bmN0aW9uKHQsaSxuKXt2YXIgcj1uP3Q6dGhpcy50b0JCb3godCksZT1bXSxhPXRoaXMuX2Nob29zZVN1YnRyZWUocix0aGlzLmRhdGEsaSxlKTtmb3IoYS5jaGlsZHJlbi5wdXNoKHQpLG8oYSxyKTtpPj0wJiZlW2ldLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzOyl0aGlzLl9zcGxpdChlLGkpLGktLTt0aGlzLl9hZGp1c3RQYXJlbnRCQm94ZXMocixlLGkpfSxyLnByb3RvdHlwZS5fc3BsaXQ9ZnVuY3Rpb24odCxpKXt2YXIgbj10W2ldLHI9bi5jaGlsZHJlbi5sZW5ndGgsZT10aGlzLl9taW5FbnRyaWVzO3RoaXMuX2Nob29zZVNwbGl0QXhpcyhuLGUscik7dmFyIGg9dGhpcy5fY2hvb3NlU3BsaXRJbmRleChuLGUsciksbz1wKG4uY2hpbGRyZW4uc3BsaWNlKGgsbi5jaGlsZHJlbi5sZW5ndGgtaCkpO28uaGVpZ2h0PW4uaGVpZ2h0LG8ubGVhZj1uLmxlYWYsYShuLHRoaXMudG9CQm94KSxhKG8sdGhpcy50b0JCb3gpLGk/dFtpLTFdLmNoaWxkcmVuLnB1c2gobyk6dGhpcy5fc3BsaXRSb290KG4sbyl9LHIucHJvdG90eXBlLl9zcGxpdFJvb3Q9ZnVuY3Rpb24odCxpKXt0aGlzLmRhdGE9cChbdCxpXSksdGhpcy5kYXRhLmhlaWdodD10LmhlaWdodCsxLHRoaXMuZGF0YS5sZWFmPSExLGEodGhpcy5kYXRhLHRoaXMudG9CQm94KX0sci5wcm90b3R5cGUuX2Nob29zZVNwbGl0SW5kZXg9ZnVuY3Rpb24odCxpLG4pe2Zvcih2YXIgcixlLGEsbyxzLGwsdSxtPTEvMCxjPTEvMCxwPWk7cDw9bi1pO3ArKyl7dmFyIGQ9aCh0LDAscCx0aGlzLnRvQkJveCkseD1oKHQscCxuLHRoaXMudG9CQm94KSx2PShlPWQsYT14LG89dm9pZCAwLHM9dm9pZCAwLGw9dm9pZCAwLHU9dm9pZCAwLG89TWF0aC5tYXgoZS5taW5YLGEubWluWCkscz1NYXRoLm1heChlLm1pblksYS5taW5ZKSxsPU1hdGgubWluKGUubWF4WCxhLm1heFgpLHU9TWF0aC5taW4oZS5tYXhZLGEubWF4WSksTWF0aC5tYXgoMCxsLW8pKk1hdGgubWF4KDAsdS1zKSksTT1mKGQpK2YoeCk7djxtPyhtPXYscj1wLGM9TTxjP006Yyk6dj09PW0mJk08YyYmKGM9TSxyPXApfXJldHVybiByfHxuLWl9LHIucHJvdG90eXBlLl9jaG9vc2VTcGxpdEF4aXM9ZnVuY3Rpb24odCxpLG4pe3ZhciByPXQubGVhZj90aGlzLmNvbXBhcmVNaW5YOnMsZT10LmxlYWY/dGhpcy5jb21wYXJlTWluWTpsO3RoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4scik8dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixlKSYmdC5jaGlsZHJlbi5zb3J0KHIpfSxyLnByb3RvdHlwZS5fYWxsRGlzdE1hcmdpbj1mdW5jdGlvbih0LGksbixyKXt0LmNoaWxkcmVuLnNvcnQocik7Zm9yKHZhciBlPXRoaXMudG9CQm94LGE9aCh0LDAsaSxlKSxzPWgodCxuLWksbixlKSxsPXUoYSkrdShzKSxmPWk7ZjxuLWk7ZisrKXt2YXIgbT10LmNoaWxkcmVuW2ZdO28oYSx0LmxlYWY/ZShtKTptKSxsKz11KGEpfWZvcih2YXIgYz1uLWktMTtjPj1pO2MtLSl7dmFyIHA9dC5jaGlsZHJlbltjXTtvKHMsdC5sZWFmP2UocCk6cCksbCs9dShzKX1yZXR1cm4gbH0sci5wcm90b3R5cGUuX2FkanVzdFBhcmVudEJCb3hlcz1mdW5jdGlvbih0LGksbil7Zm9yKHZhciByPW47cj49MDtyLS0pbyhpW3JdLHQpfSxyLnByb3RvdHlwZS5fY29uZGVuc2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXQubGVuZ3RoLTEsbj12b2lkIDA7aT49MDtpLS0pMD09PXRbaV0uY2hpbGRyZW4ubGVuZ3RoP2k+MD8obj10W2ktMV0uY2hpbGRyZW4pLnNwbGljZShuLmluZGV4T2YodFtpXSksMSk6dGhpcy5jbGVhcigpOmEodFtpXSx0aGlzLnRvQkJveCl9LHJ9KTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQG1vZHVsZSBoZWxwZXJzXG4gKi9cbi8qKlxuICogRWFydGggUmFkaXVzIHVzZWQgd2l0aCB0aGUgSGFydmVzaW5lIGZvcm11bGEgYW5kIGFwcHJveGltYXRlcyB1c2luZyBhIHNwaGVyaWNhbCAobm9uLWVsbGlwc29pZCkgRWFydGguXG4gKlxuICogQG1lbWJlcm9mIGhlbHBlcnNcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydHMuZWFydGhSYWRpdXMgPSA2MzcxMDA4Ljg7XG4vKipcbiAqIFVuaXQgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyB1c2luZyBhIHNwaGVyaWNhbCAobm9uLWVsbGlwc29pZCkgZWFydGggcmFkaXVzLlxuICpcbiAqIEBtZW1iZXJvZiBoZWxwZXJzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnRzLmZhY3RvcnMgPSB7XG4gICAgY2VudGltZXRlcnM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAxMDAsXG4gICAgY2VudGltZXRyZXM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAxMDAsXG4gICAgZGVncmVlczogZXhwb3J0cy5lYXJ0aFJhZGl1cyAvIDExMTMyNSxcbiAgICBmZWV0OiBleHBvcnRzLmVhcnRoUmFkaXVzICogMy4yODA4NCxcbiAgICBpbmNoZXM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAzOS4zNyxcbiAgICBraWxvbWV0ZXJzOiBleHBvcnRzLmVhcnRoUmFkaXVzIC8gMTAwMCxcbiAgICBraWxvbWV0cmVzOiBleHBvcnRzLmVhcnRoUmFkaXVzIC8gMTAwMCxcbiAgICBtZXRlcnM6IGV4cG9ydHMuZWFydGhSYWRpdXMsXG4gICAgbWV0cmVzOiBleHBvcnRzLmVhcnRoUmFkaXVzLFxuICAgIG1pbGVzOiBleHBvcnRzLmVhcnRoUmFkaXVzIC8gMTYwOS4zNDQsXG4gICAgbWlsbGltZXRlcnM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAxMDAwLFxuICAgIG1pbGxpbWV0cmVzOiBleHBvcnRzLmVhcnRoUmFkaXVzICogMTAwMCxcbiAgICBuYXV0aWNhbG1pbGVzOiBleHBvcnRzLmVhcnRoUmFkaXVzIC8gMTg1MixcbiAgICByYWRpYW5zOiAxLFxuICAgIHlhcmRzOiBleHBvcnRzLmVhcnRoUmFkaXVzICogMS4wOTM2LFxufTtcbi8qKlxuICogVW5pdHMgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyBiYXNlZCBvbiAxIG1ldGVyLlxuICpcbiAqIEBtZW1iZXJvZiBoZWxwZXJzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnRzLnVuaXRzRmFjdG9ycyA9IHtcbiAgICBjZW50aW1ldGVyczogMTAwLFxuICAgIGNlbnRpbWV0cmVzOiAxMDAsXG4gICAgZGVncmVlczogMSAvIDExMTMyNSxcbiAgICBmZWV0OiAzLjI4MDg0LFxuICAgIGluY2hlczogMzkuMzcsXG4gICAga2lsb21ldGVyczogMSAvIDEwMDAsXG4gICAga2lsb21ldHJlczogMSAvIDEwMDAsXG4gICAgbWV0ZXJzOiAxLFxuICAgIG1ldHJlczogMSxcbiAgICBtaWxlczogMSAvIDE2MDkuMzQ0LFxuICAgIG1pbGxpbWV0ZXJzOiAxMDAwLFxuICAgIG1pbGxpbWV0cmVzOiAxMDAwLFxuICAgIG5hdXRpY2FsbWlsZXM6IDEgLyAxODUyLFxuICAgIHJhZGlhbnM6IDEgLyBleHBvcnRzLmVhcnRoUmFkaXVzLFxuICAgIHlhcmRzOiAxLjA5MzYxMzMsXG59O1xuLyoqXG4gKiBBcmVhIG9mIG1lYXN1cmVtZW50IGZhY3RvcnMgYmFzZWQgb24gMSBzcXVhcmUgbWV0ZXIuXG4gKlxuICogQG1lbWJlcm9mIGhlbHBlcnNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuYXJlYUZhY3RvcnMgPSB7XG4gICAgYWNyZXM6IDAuMDAwMjQ3MTA1LFxuICAgIGNlbnRpbWV0ZXJzOiAxMDAwMCxcbiAgICBjZW50aW1ldHJlczogMTAwMDAsXG4gICAgZmVldDogMTAuNzYzOTEwNDE3LFxuICAgIGhlY3RhcmVzOiAwLjAwMDEsXG4gICAgaW5jaGVzOiAxNTUwLjAwMzEwMDAwNixcbiAgICBraWxvbWV0ZXJzOiAwLjAwMDAwMSxcbiAgICBraWxvbWV0cmVzOiAwLjAwMDAwMSxcbiAgICBtZXRlcnM6IDEsXG4gICAgbWV0cmVzOiAxLFxuICAgIG1pbGVzOiAzLjg2ZS03LFxuICAgIG1pbGxpbWV0ZXJzOiAxMDAwMDAwLFxuICAgIG1pbGxpbWV0cmVzOiAxMDAwMDAwLFxuICAgIHlhcmRzOiAxLjE5NTk5MDA0Nixcbn07XG4vKipcbiAqIFdyYXBzIGEgR2VvSlNPTiB7QGxpbmsgR2VvbWV0cnl9IGluIGEgR2VvSlNPTiB7QGxpbmsgRmVhdHVyZX0uXG4gKlxuICogQG5hbWUgZmVhdHVyZVxuICogQHBhcmFtIHtHZW9tZXRyeX0gZ2VvbWV0cnkgaW5wdXQgZ2VvbWV0cnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZX0gYSBHZW9KU09OIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgZ2VvbWV0cnkgPSB7XG4gKiAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgIFwiY29vcmRpbmF0ZXNcIjogWzExMCwgNTBdXG4gKiB9O1xuICpcbiAqIHZhciBmZWF0dXJlID0gdHVyZi5mZWF0dXJlKGdlb21ldHJ5KTtcbiAqXG4gKiAvLz1mZWF0dXJlXG4gKi9cbmZ1bmN0aW9uIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGZlYXQgPSB7IHR5cGU6IFwiRmVhdHVyZVwiIH07XG4gICAgaWYgKG9wdGlvbnMuaWQgPT09IDAgfHwgb3B0aW9ucy5pZCkge1xuICAgICAgICBmZWF0LmlkID0gb3B0aW9ucy5pZDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYmJveCkge1xuICAgICAgICBmZWF0LmJib3ggPSBvcHRpb25zLmJib3g7XG4gICAgfVxuICAgIGZlYXQucHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gICAgZmVhdC5nZW9tZXRyeSA9IGdlb207XG4gICAgcmV0dXJuIGZlYXQ7XG59XG5leHBvcnRzLmZlYXR1cmUgPSBmZWF0dXJlO1xuLyoqXG4gKiBDcmVhdGVzIGEgR2VvSlNPTiB7QGxpbmsgR2VvbWV0cnl9IGZyb20gYSBHZW9tZXRyeSBzdHJpbmcgdHlwZSAmIGNvb3JkaW5hdGVzLlxuICogRm9yIEdlb21ldHJ5Q29sbGVjdGlvbiB0eXBlIHVzZSBgaGVscGVycy5nZW9tZXRyeUNvbGxlY3Rpb25gXG4gKlxuICogQG5hbWUgZ2VvbWV0cnlcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEdlb21ldHJ5IFR5cGVcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHJldHVybnMge0dlb21ldHJ5fSBhIEdlb0pTT04gR2VvbWV0cnlcbiAqIEBleGFtcGxlXG4gKiB2YXIgdHlwZSA9IFwiUG9pbnRcIjtcbiAqIHZhciBjb29yZGluYXRlcyA9IFsxMTAsIDUwXTtcbiAqIHZhciBnZW9tZXRyeSA9IHR1cmYuZ2VvbWV0cnkodHlwZSwgY29vcmRpbmF0ZXMpO1xuICogLy8gPT4gZ2VvbWV0cnlcbiAqL1xuZnVuY3Rpb24gZ2VvbWV0cnkodHlwZSwgY29vcmRpbmF0ZXMsIF9vcHRpb25zKSB7XG4gICAgaWYgKF9vcHRpb25zID09PSB2b2lkIDApIHsgX29wdGlvbnMgPSB7fTsgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBwb2ludChjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gbGluZVN0cmluZyhjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgICAgICByZXR1cm4gcG9seWdvbihjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gbXVsdGlQb2ludChjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBtdWx0aUxpbmVTdHJpbmcoY29vcmRpbmF0ZXMpLmdlb21ldHJ5O1xuICAgICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgICAgICByZXR1cm4gbXVsdGlQb2x5Z29uKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0eXBlICsgXCIgaXMgaW52YWxpZFwiKTtcbiAgICB9XG59XG5leHBvcnRzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9pbnR9IHtAbGluayBGZWF0dXJlfSBmcm9tIGEgUG9zaXRpb24uXG4gKlxuICogQG5hbWUgcG9pbnRcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgbG9uZ2l0dWRlLCBsYXRpdHVkZSBwb3NpdGlvbiAoZWFjaCBpbiBkZWNpbWFsIGRlZ3JlZXMpXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8UG9pbnQ+fSBhIFBvaW50IGZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSB0dXJmLnBvaW50KFstNzUuMzQzLCAzOS45ODRdKTtcbiAqXG4gKiAvLz1wb2ludFxuICovXG5mdW5jdGlvbiBwb2ludChjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgaWYgKCFjb29yZGluYXRlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGJlIGFuIEFycmF5XCIpO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGJlIGF0IGxlYXN0IDIgbnVtYmVycyBsb25nXCIpO1xuICAgIH1cbiAgICBpZiAoIWlzTnVtYmVyKGNvb3JkaW5hdGVzWzBdKSB8fCAhaXNOdW1iZXIoY29vcmRpbmF0ZXNbMV0pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkaW5hdGVzIG11c3QgY29udGFpbiBudW1iZXJzXCIpO1xuICAgIH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJQb2ludFwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMucG9pbnQgPSBwb2ludDtcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBQb2ludH0ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIFBvaW50IGNvb3JkaW5hdGVzLlxuICpcbiAqIEBuYW1lIHBvaW50c1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIFRyYW5zbGF0ZSB0aGVzZSBwcm9wZXJ0aWVzIHRvIGVhY2ggRmVhdHVyZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9pbnQ+fSBQb2ludCBGZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50cyA9IHR1cmYucG9pbnRzKFtcbiAqICAgWy03NSwgMzldLFxuICogICBbLTgwLCA0NV0sXG4gKiAgIFstNzgsIDUwXVxuICogXSk7XG4gKlxuICogLy89cG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHBvaW50cyhjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKGNvb3JkaW5hdGVzLm1hcChmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICAgIHJldHVybiBwb2ludChjb29yZHMsIHByb3BlcnRpZXMpO1xuICAgIH0pLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMucG9pbnRzID0gcG9pbnRzO1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFBvbHlnb259IHtAbGluayBGZWF0dXJlfSBmcm9tIGFuIEFycmF5IG9mIExpbmVhclJpbmdzLlxuICpcbiAqIEBuYW1lIHBvbHlnb25cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvbHlnb24+fSBQb2x5Z29uIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNSwgNTJdLCBbLTQsIDU2XSwgWy0yLCA1MV0sIFstNywgNTRdLCBbLTUsIDUyXV1dLCB7IG5hbWU6ICdwb2x5MScgfSk7XG4gKlxuICogLy89cG9seWdvblxuICovXG5mdW5jdGlvbiBwb2x5Z29uKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBmb3IgKHZhciBfaSA9IDAsIGNvb3JkaW5hdGVzXzEgPSBjb29yZGluYXRlczsgX2kgPCBjb29yZGluYXRlc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcmluZyA9IGNvb3JkaW5hdGVzXzFbX2ldO1xuICAgICAgICBpZiAocmluZy5sZW5ndGggPCA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFYWNoIExpbmVhclJpbmcgb2YgYSBQb2x5Z29uIG11c3QgaGF2ZSA0IG9yIG1vcmUgUG9zaXRpb25zLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmdbcmluZy5sZW5ndGggLSAxXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZmlyc3QgcG9pbnQgb2YgUG9seWdvbiBjb250YWlucyB0d28gbnVtYmVyc1xuICAgICAgICAgICAgaWYgKHJpbmdbcmluZy5sZW5ndGggLSAxXVtqXSAhPT0gcmluZ1swXVtqXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFuZCBsYXN0IFBvc2l0aW9uIGFyZSBub3QgZXF1aXZhbGVudC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiUG9seWdvblwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMucG9seWdvbiA9IHBvbHlnb247XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9seWdvbn0ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIFBvbHlnb24gY29vcmRpbmF0ZXMuXG4gKlxuICogQG5hbWUgcG9seWdvbnNcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9seWdvbiBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9seWdvbj59IFBvbHlnb24gRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbnMgPSB0dXJmLnBvbHlnb25zKFtcbiAqICAgW1tbLTUsIDUyXSwgWy00LCA1Nl0sIFstMiwgNTFdLCBbLTcsIDU0XSwgWy01LCA1Ml1dXSxcbiAqICAgW1tbLTE1LCA0Ml0sIFstMTQsIDQ2XSwgWy0xMiwgNDFdLCBbLTE3LCA0NF0sIFstMTUsIDQyXV1dLFxuICogXSk7XG4gKlxuICogLy89cG9seWdvbnNcbiAqL1xuZnVuY3Rpb24gcG9seWdvbnMoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihjb29yZGluYXRlcy5tYXAoZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICByZXR1cm4gcG9seWdvbihjb29yZHMsIHByb3BlcnRpZXMpO1xuICAgIH0pLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMucG9seWdvbnMgPSBwb2x5Z29ucztcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBMaW5lU3RyaW5nfSB7QGxpbmsgRmVhdHVyZX0gZnJvbSBhbiBBcnJheSBvZiBQb3NpdGlvbnMuXG4gKlxuICogQG5hbWUgbGluZVN0cmluZ1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9zaXRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TGluZVN0cmluZz59IExpbmVTdHJpbmcgRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lc3RyaW5nMSA9IHR1cmYubGluZVN0cmluZyhbWy0yNCwgNjNdLCBbLTIzLCA2MF0sIFstMjUsIDY1XSwgWy0yMCwgNjldXSwge25hbWU6ICdsaW5lIDEnfSk7XG4gKiB2YXIgbGluZXN0cmluZzIgPSB0dXJmLmxpbmVTdHJpbmcoW1stMTQsIDQzXSwgWy0xMywgNDBdLCBbLTE1LCA0NV0sIFstMTAsIDQ5XV0sIHtuYW1lOiAnbGluZSAyJ30pO1xuICpcbiAqIC8vPWxpbmVzdHJpbmcxXG4gKiAvLz1saW5lc3RyaW5nMlxuICovXG5mdW5jdGlvbiBsaW5lU3RyaW5nKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGJlIGFuIGFycmF5IG9mIHR3byBvciBtb3JlIHBvc2l0aW9uc1wiKTtcbiAgICB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTGluZVN0cmluZ1wiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubGluZVN0cmluZyA9IGxpbmVTdHJpbmc7XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgTGluZVN0cmluZ30ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIExpbmVTdHJpbmcgY29vcmRpbmF0ZXMuXG4gKlxuICogQG5hbWUgbGluZVN0cmluZ3NcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxMaW5lU3RyaW5nPn0gTGluZVN0cmluZyBGZWF0dXJlQ29sbGVjdGlvblxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lc3RyaW5ncyA9IHR1cmYubGluZVN0cmluZ3MoW1xuICogICBbWy0yNCwgNjNdLCBbLTIzLCA2MF0sIFstMjUsIDY1XSwgWy0yMCwgNjldXSxcbiAqICAgW1stMTQsIDQzXSwgWy0xMywgNDBdLCBbLTE1LCA0NV0sIFstMTAsIDQ5XV1cbiAqIF0pO1xuICpcbiAqIC8vPWxpbmVzdHJpbmdzXG4gKi9cbmZ1bmN0aW9uIGxpbmVTdHJpbmdzKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGxpbmVTdHJpbmcoY29vcmRzLCBwcm9wZXJ0aWVzKTtcbiAgICB9KSwgb3B0aW9ucyk7XG59XG5leHBvcnRzLmxpbmVTdHJpbmdzID0gbGluZVN0cmluZ3M7XG4vKipcbiAqIFRha2VzIG9uZSBvciBtb3JlIHtAbGluayBGZWF0dXJlfEZlYXR1cmVzfSBhbmQgY3JlYXRlcyBhIHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0uXG4gKlxuICogQG5hbWUgZmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7RmVhdHVyZVtdfSBmZWF0dXJlcyBpbnB1dCBmZWF0dXJlc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb259IEZlYXR1cmVDb2xsZWN0aW9uIG9mIEZlYXR1cmVzXG4gKiBAZXhhbXBsZVxuICogdmFyIGxvY2F0aW9uQSA9IHR1cmYucG9pbnQoWy03NS4zNDMsIDM5Ljk4NF0sIHtuYW1lOiAnTG9jYXRpb24gQSd9KTtcbiAqIHZhciBsb2NhdGlvbkIgPSB0dXJmLnBvaW50KFstNzUuODMzLCAzOS4yODRdLCB7bmFtZTogJ0xvY2F0aW9uIEInfSk7XG4gKiB2YXIgbG9jYXRpb25DID0gdHVyZi5wb2ludChbLTc1LjUzNCwgMzkuMTIzXSwge25hbWU6ICdMb2NhdGlvbiBDJ30pO1xuICpcbiAqIHZhciBjb2xsZWN0aW9uID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIGxvY2F0aW9uQSxcbiAqICAgbG9jYXRpb25CLFxuICogICBsb2NhdGlvbkNcbiAqIF0pO1xuICpcbiAqIC8vPWNvbGxlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBmYyA9IHsgdHlwZTogXCJGZWF0dXJlQ29sbGVjdGlvblwiIH07XG4gICAgaWYgKG9wdGlvbnMuaWQpIHtcbiAgICAgICAgZmMuaWQgPSBvcHRpb25zLmlkO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5iYm94KSB7XG4gICAgICAgIGZjLmJib3ggPSBvcHRpb25zLmJib3g7XG4gICAgfVxuICAgIGZjLmZlYXR1cmVzID0gZmVhdHVyZXM7XG4gICAgcmV0dXJuIGZjO1xufVxuZXhwb3J0cy5mZWF0dXJlQ29sbGVjdGlvbiA9IGZlYXR1cmVDb2xsZWN0aW9uO1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8TXVsdGlMaW5lU3RyaW5nPn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBtdWx0aUxpbmVTdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lU3RyaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPE11bHRpTGluZVN0cmluZz59IGEgTXVsdGlMaW5lU3RyaW5nIGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtbWzAsMF0sWzEwLDEwXV1dKTtcbiAqXG4gKiAvLz1tdWx0aUxpbmVcbiAqL1xuZnVuY3Rpb24gbXVsdGlMaW5lU3RyaW5nKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJNdWx0aUxpbmVTdHJpbmdcIixcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLFxuICAgIH07XG4gICAgcmV0dXJuIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG5leHBvcnRzLm11bHRpTGluZVN0cmluZyA9IG11bHRpTGluZVN0cmluZztcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPE11bHRpUG9pbnQ+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIG11bHRpUG9pbnRcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvc2l0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPE11bHRpUG9pbnQ+fSBhIE11bHRpUG9pbnQgZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlQdCA9IHR1cmYubXVsdGlQb2ludChbWzAsMF0sWzEwLDEwXV0pO1xuICpcbiAqIC8vPW11bHRpUHRcbiAqL1xuZnVuY3Rpb24gbXVsdGlQb2ludChjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTXVsdGlQb2ludFwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubXVsdGlQb2ludCA9IG11bHRpUG9pbnQ7XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxNdWx0aVBvbHlnb24+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIG11bHRpUG9seWdvblxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBQb2x5Z29uc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPE11bHRpUG9seWdvbj59IGEgbXVsdGlwb2x5Z29uIGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpUG9seSA9IHR1cmYubXVsdGlQb2x5Z29uKFtbW1swLDBdLFswLDEwXSxbMTAsMTBdLFsxMCwwXSxbMCwwXV1dXSk7XG4gKlxuICogLy89bXVsdGlQb2x5XG4gKlxuICovXG5mdW5jdGlvbiBtdWx0aVBvbHlnb24oY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIk11bHRpUG9seWdvblwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubXVsdGlQb2x5Z29uID0gbXVsdGlQb2x5Z29uO1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8R2VvbWV0cnlDb2xsZWN0aW9uPn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBnZW9tZXRyeUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXk8R2VvbWV0cnk+fSBnZW9tZXRyaWVzIGFuIGFycmF5IG9mIEdlb0pTT04gR2VvbWV0cmllc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPEdlb21ldHJ5Q29sbGVjdGlvbj59IGEgR2VvSlNPTiBHZW9tZXRyeUNvbGxlY3Rpb24gRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBwdCA9IHR1cmYuZ2VvbWV0cnkoXCJQb2ludFwiLCBbMTAwLCAwXSk7XG4gKiB2YXIgbGluZSA9IHR1cmYuZ2VvbWV0cnkoXCJMaW5lU3RyaW5nXCIsIFtbMTAxLCAwXSwgWzEwMiwgMV1dKTtcbiAqIHZhciBjb2xsZWN0aW9uID0gdHVyZi5nZW9tZXRyeUNvbGxlY3Rpb24oW3B0LCBsaW5lXSk7XG4gKlxuICogLy8gPT4gY29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBnZW9tZXRyeUNvbGxlY3Rpb24oZ2VvbWV0cmllcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIsXG4gICAgICAgIGdlb21ldHJpZXM6IGdlb21ldHJpZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMuZ2VvbWV0cnlDb2xsZWN0aW9uID0gZ2VvbWV0cnlDb2xsZWN0aW9uO1xuLyoqXG4gKiBSb3VuZCBudW1iZXIgdG8gcHJlY2lzaW9uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFByZWNpc2lvblxuICogQHJldHVybnMge251bWJlcn0gcm91bmRlZCBudW1iZXJcbiAqIEBleGFtcGxlXG4gKiB0dXJmLnJvdW5kKDEyMC40MzIxKVxuICogLy89MTIwXG4gKlxuICogdHVyZi5yb3VuZCgxMjAuNDMyMSwgMilcbiAqIC8vPTEyMC40M1xuICovXG5mdW5jdGlvbiByb3VuZChudW0sIHByZWNpc2lvbikge1xuICAgIGlmIChwcmVjaXNpb24gPT09IHZvaWQgMCkgeyBwcmVjaXNpb24gPSAwOyB9XG4gICAgaWYgKHByZWNpc2lvbiAmJiAhKHByZWNpc2lvbiA+PSAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcmVjaXNpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtcbiAgICB9XG4gICAgdmFyIG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uIHx8IDApO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcbn1cbmV4cG9ydHMucm91bmQgPSByb3VuZDtcbi8qKlxuICogQ29udmVydCBhIGRpc3RhbmNlIG1lYXN1cmVtZW50IChhc3N1bWluZyBhIHNwaGVyaWNhbCBFYXJ0aCkgZnJvbSByYWRpYW5zIHRvIGEgbW9yZSBmcmllbmRseSB1bml0LlxuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywga2lsb21ldGVycywgY2VudGltZXRlcnMsIGZlZXRcbiAqXG4gKiBAbmFtZSByYWRpYW5zVG9MZW5ndGhcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYW5zIGluIHJhZGlhbnMgYWNyb3NzIHRoZSBzcGhlcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pdHM9XCJraWxvbWV0ZXJzXCJdIGNhbiBiZSBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0cmVzLFxuICogbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gcmFkaWFuc1RvTGVuZ3RoKHJhZGlhbnMsIHVuaXRzKSB7XG4gICAgaWYgKHVuaXRzID09PSB2b2lkIDApIHsgdW5pdHMgPSBcImtpbG9tZXRlcnNcIjsgfVxuICAgIHZhciBmYWN0b3IgPSBleHBvcnRzLmZhY3RvcnNbdW5pdHNdO1xuICAgIGlmICghZmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih1bml0cyArIFwiIHVuaXRzIGlzIGludmFsaWRcIik7XG4gICAgfVxuICAgIHJldHVybiByYWRpYW5zICogZmFjdG9yO1xufVxuZXhwb3J0cy5yYWRpYW5zVG9MZW5ndGggPSByYWRpYW5zVG9MZW5ndGg7XG4vKipcbiAqIENvbnZlcnQgYSBkaXN0YW5jZSBtZWFzdXJlbWVudCAoYXNzdW1pbmcgYSBzcGhlcmljYWwgRWFydGgpIGZyb20gYSByZWFsLXdvcmxkIHVuaXQgaW50byByYWRpYW5zXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBraWxvbWV0ZXJzLCBjZW50aW1ldGVycywgZmVldFxuICpcbiAqIEBuYW1lIGxlbmd0aFRvUmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIGluIHJlYWwgdW5pdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pdHM9XCJraWxvbWV0ZXJzXCJdIGNhbiBiZSBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0cmVzLFxuICogbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gcmFkaWFuc1xuICovXG5mdW5jdGlvbiBsZW5ndGhUb1JhZGlhbnMoZGlzdGFuY2UsIHVuaXRzKSB7XG4gICAgaWYgKHVuaXRzID09PSB2b2lkIDApIHsgdW5pdHMgPSBcImtpbG9tZXRlcnNcIjsgfVxuICAgIHZhciBmYWN0b3IgPSBleHBvcnRzLmZhY3RvcnNbdW5pdHNdO1xuICAgIGlmICghZmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih1bml0cyArIFwiIHVuaXRzIGlzIGludmFsaWRcIik7XG4gICAgfVxuICAgIHJldHVybiBkaXN0YW5jZSAvIGZhY3Rvcjtcbn1cbmV4cG9ydHMubGVuZ3RoVG9SYWRpYW5zID0gbGVuZ3RoVG9SYWRpYW5zO1xuLyoqXG4gKiBDb252ZXJ0IGEgZGlzdGFuY2UgbWVhc3VyZW1lbnQgKGFzc3VtaW5nIGEgc3BoZXJpY2FsIEVhcnRoKSBmcm9tIGEgcmVhbC13b3JsZCB1bml0IGludG8gZGVncmVlc1xuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywgY2VudGltZXRlcnMsIGtpbG9tZXRyZXMsIGZlZXRcbiAqXG4gKiBAbmFtZSBsZW5ndGhUb0RlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBpbiByZWFsIHVuaXRzXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VuaXRzPVwia2lsb21ldGVyc1wiXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldHJlcyxcbiAqIG1ldGVycywga2lsb21ldHJlcywga2lsb21ldGVycy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRlZ3JlZXNcbiAqL1xuZnVuY3Rpb24gbGVuZ3RoVG9EZWdyZWVzKGRpc3RhbmNlLCB1bml0cykge1xuICAgIHJldHVybiByYWRpYW5zVG9EZWdyZWVzKGxlbmd0aFRvUmFkaWFucyhkaXN0YW5jZSwgdW5pdHMpKTtcbn1cbmV4cG9ydHMubGVuZ3RoVG9EZWdyZWVzID0gbGVuZ3RoVG9EZWdyZWVzO1xuLyoqXG4gKiBDb252ZXJ0cyBhbnkgYmVhcmluZyBhbmdsZSBmcm9tIHRoZSBub3J0aCBsaW5lIGRpcmVjdGlvbiAocG9zaXRpdmUgY2xvY2t3aXNlKVxuICogYW5kIHJldHVybnMgYW4gYW5nbGUgYmV0d2VlbiAwLTM2MCBkZWdyZWVzIChwb3NpdGl2ZSBjbG9ja3dpc2UpLCAwIGJlaW5nIHRoZSBub3J0aCBsaW5lXG4gKlxuICogQG5hbWUgYmVhcmluZ1RvQXppbXV0aFxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgYW5nbGUsIGJldHdlZW4gLTE4MCBhbmQgKzE4MCBkZWdyZWVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbmdsZSBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKi9cbmZ1bmN0aW9uIGJlYXJpbmdUb0F6aW11dGgoYmVhcmluZykge1xuICAgIHZhciBhbmdsZSA9IGJlYXJpbmcgJSAzNjA7XG4gICAgaWYgKGFuZ2xlIDwgMCkge1xuICAgICAgICBhbmdsZSArPSAzNjA7XG4gICAgfVxuICAgIHJldHVybiBhbmdsZTtcbn1cbmV4cG9ydHMuYmVhcmluZ1RvQXppbXV0aCA9IGJlYXJpbmdUb0F6aW11dGg7XG4vKipcbiAqIENvbnZlcnRzIGFuIGFuZ2xlIGluIHJhZGlhbnMgdG8gZGVncmVlc1xuICpcbiAqIEBuYW1lIHJhZGlhbnNUb0RlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYW5zIGFuZ2xlIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRlZ3JlZXMgYmV0d2VlbiAwIGFuZCAzNjAgZGVncmVlc1xuICovXG5mdW5jdGlvbiByYWRpYW5zVG9EZWdyZWVzKHJhZGlhbnMpIHtcbiAgICB2YXIgZGVncmVlcyA9IHJhZGlhbnMgJSAoMiAqIE1hdGguUEkpO1xuICAgIHJldHVybiAoZGVncmVlcyAqIDE4MCkgLyBNYXRoLlBJO1xufVxuZXhwb3J0cy5yYWRpYW5zVG9EZWdyZWVzID0gcmFkaWFuc1RvRGVncmVlcztcbi8qKlxuICogQ29udmVydHMgYW4gYW5nbGUgaW4gZGVncmVlcyB0byByYWRpYW5zXG4gKlxuICogQG5hbWUgZGVncmVlc1RvUmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZXMgYW5nbGUgYmV0d2VlbiAwIGFuZCAzNjAgZGVncmVlc1xuICogQHJldHVybnMge251bWJlcn0gYW5nbGUgaW4gcmFkaWFuc1xuICovXG5mdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKGRlZ3JlZXMpIHtcbiAgICB2YXIgcmFkaWFucyA9IGRlZ3JlZXMgJSAzNjA7XG4gICAgcmV0dXJuIChyYWRpYW5zICogTWF0aC5QSSkgLyAxODA7XG59XG5leHBvcnRzLmRlZ3JlZXNUb1JhZGlhbnMgPSBkZWdyZWVzVG9SYWRpYW5zO1xuLyoqXG4gKiBDb252ZXJ0cyBhIGxlbmd0aCB0byB0aGUgcmVxdWVzdGVkIHVuaXQuXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBraWxvbWV0ZXJzLCBjZW50aW1ldGVycywgZmVldFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge1VuaXRzfSBbb3JpZ2luYWxVbml0PVwia2lsb21ldGVyc1wiXSBvZiB0aGUgbGVuZ3RoXG4gKiBAcGFyYW0ge1VuaXRzfSBbZmluYWxVbml0PVwia2lsb21ldGVyc1wiXSByZXR1cm5lZCB1bml0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgY29udmVydGVkIGxlbmd0aFxuICovXG5mdW5jdGlvbiBjb252ZXJ0TGVuZ3RoKGxlbmd0aCwgb3JpZ2luYWxVbml0LCBmaW5hbFVuaXQpIHtcbiAgICBpZiAob3JpZ2luYWxVbml0ID09PSB2b2lkIDApIHsgb3JpZ2luYWxVbml0ID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICBpZiAoZmluYWxVbml0ID09PSB2b2lkIDApIHsgZmluYWxVbml0ID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICBpZiAoIShsZW5ndGggPj0gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibGVuZ3RoIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuICAgIHJldHVybiByYWRpYW5zVG9MZW5ndGgobGVuZ3RoVG9SYWRpYW5zKGxlbmd0aCwgb3JpZ2luYWxVbml0KSwgZmluYWxVbml0KTtcbn1cbmV4cG9ydHMuY29udmVydExlbmd0aCA9IGNvbnZlcnRMZW5ndGg7XG4vKipcbiAqIENvbnZlcnRzIGEgYXJlYSB0byB0aGUgcmVxdWVzdGVkIHVuaXQuXG4gKiBWYWxpZCB1bml0czoga2lsb21ldGVycywga2lsb21ldHJlcywgbWV0ZXJzLCBtZXRyZXMsIGNlbnRpbWV0cmVzLCBtaWxsaW1ldGVycywgYWNyZXMsIG1pbGVzLCB5YXJkcywgZmVldCwgaW5jaGVzLCBoZWN0YXJlc1xuICogQHBhcmFtIHtudW1iZXJ9IGFyZWEgdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge1VuaXRzfSBbb3JpZ2luYWxVbml0PVwibWV0ZXJzXCJdIG9mIHRoZSBkaXN0YW5jZVxuICogQHBhcmFtIHtVbml0c30gW2ZpbmFsVW5pdD1cImtpbG9tZXRlcnNcIl0gcmV0dXJuZWQgdW5pdFxuICogQHJldHVybnMge251bWJlcn0gdGhlIGNvbnZlcnRlZCBhcmVhXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRBcmVhKGFyZWEsIG9yaWdpbmFsVW5pdCwgZmluYWxVbml0KSB7XG4gICAgaWYgKG9yaWdpbmFsVW5pdCA9PT0gdm9pZCAwKSB7IG9yaWdpbmFsVW5pdCA9IFwibWV0ZXJzXCI7IH1cbiAgICBpZiAoZmluYWxVbml0ID09PSB2b2lkIDApIHsgZmluYWxVbml0ID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICBpZiAoIShhcmVhID49IDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImFyZWEgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtcbiAgICB9XG4gICAgdmFyIHN0YXJ0RmFjdG9yID0gZXhwb3J0cy5hcmVhRmFjdG9yc1tvcmlnaW5hbFVuaXRdO1xuICAgIGlmICghc3RhcnRGYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBvcmlnaW5hbCB1bml0c1wiKTtcbiAgICB9XG4gICAgdmFyIGZpbmFsRmFjdG9yID0gZXhwb3J0cy5hcmVhRmFjdG9yc1tmaW5hbFVuaXRdO1xuICAgIGlmICghZmluYWxGYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaW5hbCB1bml0c1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIChhcmVhIC8gc3RhcnRGYWN0b3IpICogZmluYWxGYWN0b3I7XG59XG5leHBvcnRzLmNvbnZlcnRBcmVhID0gY29udmVydEFyZWE7XG4vKipcbiAqIGlzTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSBudW0gTnVtYmVyIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHR1cmYuaXNOdW1iZXIoMTIzKVxuICogLy89dHJ1ZVxuICogdHVyZi5pc051bWJlcignZm9vJylcbiAqIC8vPWZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKG51bSkge1xuICAgIHJldHVybiAhaXNOYU4obnVtKSAmJiBudW0gIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkobnVtKTtcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcbi8qKlxuICogaXNPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IGlucHV0IHZhcmlhYmxlIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHR1cmYuaXNPYmplY3Qoe2VsZXZhdGlvbjogMTB9KVxuICogLy89dHJ1ZVxuICogdHVyZi5pc09iamVjdCgnZm9vJylcbiAqIC8vPWZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgcmV0dXJuICEhaW5wdXQgJiYgaW5wdXQuY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbi8qKlxuICogVmFsaWRhdGUgQkJveFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGJib3ggQkJveCB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAdGhyb3dzIEVycm9yIGlmIEJCb3ggaXMgbm90IHZhbGlkXG4gKiBAZXhhbXBsZVxuICogdmFsaWRhdGVCQm94KFstMTgwLCAtNDAsIDExMCwgNTBdKVxuICogLy89T0tcbiAqIHZhbGlkYXRlQkJveChbLTE4MCwgLTQwXSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3goJ0ZvbycpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KDUpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KG51bGwpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KHVuZGVmaW5lZClcbiAqIC8vPUVycm9yXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQkJveChiYm94KSB7XG4gICAgaWYgKCFiYm94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImJib3ggaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShiYm94KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3QgYmUgYW4gQXJyYXlcIik7XG4gICAgfVxuICAgIGlmIChiYm94Lmxlbmd0aCAhPT0gNCAmJiBiYm94Lmxlbmd0aCAhPT0gNikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3QgYmUgYW4gQXJyYXkgb2YgNCBvciA2IG51bWJlcnNcIik7XG4gICAgfVxuICAgIGJib3guZm9yRWFjaChmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgIGlmICghaXNOdW1iZXIobnVtKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmJveCBtdXN0IG9ubHkgY29udGFpbiBudW1iZXJzXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLnZhbGlkYXRlQkJveCA9IHZhbGlkYXRlQkJveDtcbi8qKlxuICogVmFsaWRhdGUgSWRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBpZCBJZCB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAdGhyb3dzIEVycm9yIGlmIElkIGlzIG5vdCB2YWxpZFxuICogQGV4YW1wbGVcbiAqIHZhbGlkYXRlSWQoWy0xODAsIC00MCwgMTEwLCA1MF0pXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVJZChbLTE4MCwgLTQwXSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUlkKCdGb28nKVxuICogLy89T0tcbiAqIHZhbGlkYXRlSWQoNSlcbiAqIC8vPU9LXG4gKiB2YWxpZGF0ZUlkKG51bGwpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVJZCh1bmRlZmluZWQpXG4gKiAvLz1FcnJvclxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUlkKGlkKSB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpZCBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKFtcInN0cmluZ1wiLCBcIm51bWJlclwiXS5pbmRleE9mKHR5cGVvZiBpZCkgPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlkIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmdcIik7XG4gICAgfVxufVxuZXhwb3J0cy52YWxpZGF0ZUlkID0gdmFsaWRhdGVJZDtcbiIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnQHR1cmYvaGVscGVycycpO1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciBjb29yZEVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgY29vcmRFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY3VycmVudENvb3JkIFRoZSBjdXJyZW50IGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvb3JkSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBjb29yZGluYXRlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaCgpXG4gKlxuICogQG5hbWUgY29vcmRFYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtleGNsdWRlV3JhcENvb3JkPWZhbHNlXSB3aGV0aGVyIG9yIG5vdCB0byBpbmNsdWRlIHRoZSBmaW5hbCBjb29yZGluYXRlIG9mIExpbmVhclJpbmdzIHRoYXQgd3JhcHMgdGhlIHJpbmcgaW4gaXRzIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7XCJmb29cIjogXCJiYXJcIn0pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7XCJoZWxsb1wiOiBcIndvcmxkXCJ9KVxuICogXSk7XG4gKlxuICogdHVyZi5jb29yZEVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudENvb3JkXG4gKiAgIC8vPWNvb3JkSW5kZXhcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBjb29yZEVhY2goZ2VvanNvbiwgY2FsbGJhY2ssIGV4Y2x1ZGVXcmFwQ29vcmQpIHtcbiAgLy8gSGFuZGxlcyBudWxsIEdlb21ldHJ5IC0tIFNraXBzIHRoaXMgR2VvSlNPTlxuICBpZiAoZ2VvanNvbiA9PT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgaixcbiAgICBrLFxuICAgIGwsXG4gICAgZ2VvbWV0cnksXG4gICAgc3RvcEcsXG4gICAgY29vcmRzLFxuICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLFxuICAgIHdyYXBTaHJpbmsgPSAwLFxuICAgIGNvb3JkSW5kZXggPSAwLFxuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uLFxuICAgIHR5cGUgPSBnZW9qc29uLnR5cGUsXG4gICAgaXNGZWF0dXJlQ29sbGVjdGlvbiA9IHR5cGUgPT09IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICBpc0ZlYXR1cmUgPSB0eXBlID09PSBcIkZlYXR1cmVcIixcbiAgICBzdG9wID0gaXNGZWF0dXJlQ29sbGVjdGlvbiA/IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoIDogMTtcblxuICAvLyBUaGlzIGxvZ2ljIG1heSBsb29rIGEgbGl0dGxlIHdlaXJkLiBUaGUgcmVhc29uIHdoeSBpdCBpcyB0aGF0IHdheVxuICAvLyBpcyBiZWNhdXNlIGl0J3MgdHJ5aW5nIHRvIGJlIGZhc3QuIEdlb0pTT04gc3VwcG9ydHMgbXVsdGlwbGUga2luZHNcbiAgLy8gb2Ygb2JqZWN0cyBhdCBpdHMgcm9vdDogRmVhdHVyZUNvbGxlY3Rpb24sIEZlYXR1cmVzLCBHZW9tZXRyaWVzLlxuICAvLyBUaGlzIGZ1bmN0aW9uIGhhcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgaGFuZGxpbmcgYWxsIG9mIHRoZW0sIGFuZCB0aGF0XG4gIC8vIG1lYW5zIHRoYXQgc29tZSBvZiB0aGUgYGZvcmAgbG9vcHMgeW91IHNlZSBiZWxvdyBhY3R1YWxseSBqdXN0IGRvbid0IGFwcGx5XG4gIC8vIHRvIGNlcnRhaW4gaW5wdXRzLiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBnaXZlIHRoaXMganVzdCBhXG4gIC8vIFBvaW50IGdlb21ldHJ5LCB0aGVuIGJvdGggbG9vcHMgYXJlIHNob3J0LWNpcmN1aXRlZCBhbmQgYWxsIHdlIGRvXG4gIC8vIGlzIGdyYWR1YWxseSByZW5hbWUgdGhlIGlucHV0IHVudGlsIGl0J3MgY2FsbGVkICdnZW9tZXRyeScuXG4gIC8vXG4gIC8vIFRoaXMgYWxzbyBhaW1zIHRvIGFsbG9jYXRlIGFzIGZldyByZXNvdXJjZXMgYXMgcG9zc2libGU6IGp1c3QgYVxuICAvLyBmZXcgbnVtYmVycyBhbmQgYm9vbGVhbnMsIHJhdGhlciB0aGFuIGFueSB0ZW1wb3JhcnkgYXJyYXlzIGFzIHdvdWxkXG4gIC8vIGJlIHJlcXVpcmVkIHdpdGggdGhlIG5vcm1hbGl6YXRpb24gYXBwcm9hY2guXG4gIGZvciAodmFyIGZlYXR1cmVJbmRleCA9IDA7IGZlYXR1cmVJbmRleCA8IHN0b3A7IGZlYXR1cmVJbmRleCsrKSB7XG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24gPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5nZW9tZXRyeVxuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5nZW9tZXRyeVxuICAgICAgOiBnZW9qc29uO1xuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uID0gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24udHlwZSA9PT0gXCJHZW9tZXRyeUNvbGxlY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgICBzdG9wRyA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXMubGVuZ3RoXG4gICAgICA6IDE7XG5cbiAgICBmb3IgKHZhciBnZW9tSW5kZXggPSAwOyBnZW9tSW5kZXggPCBzdG9wRzsgZ2VvbUluZGV4KyspIHtcbiAgICAgIHZhciBtdWx0aUZlYXR1cmVJbmRleCA9IDA7XG4gICAgICB2YXIgZ2VvbWV0cnlJbmRleCA9IDA7XG4gICAgICBnZW9tZXRyeSA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24uZ2VvbWV0cmllc1tnZW9tSW5kZXhdXG4gICAgICAgIDogZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb247XG5cbiAgICAgIC8vIEhhbmRsZXMgbnVsbCBHZW9tZXRyeSAtLSBTa2lwcyB0aGlzIGdlb21ldHJ5XG4gICAgICBpZiAoZ2VvbWV0cnkgPT09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgY29vcmRzID0gZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICB2YXIgZ2VvbVR5cGUgPSBnZW9tZXRyeS50eXBlO1xuXG4gICAgICB3cmFwU2hyaW5rID1cbiAgICAgICAgZXhjbHVkZVdyYXBDb29yZCAmJlxuICAgICAgICAoZ2VvbVR5cGUgPT09IFwiUG9seWdvblwiIHx8IGdlb21UeXBlID09PSBcIk11bHRpUG9seWdvblwiKVxuICAgICAgICAgID8gMVxuICAgICAgICAgIDogMDtcblxuICAgICAgc3dpdGNoIChnZW9tVHlwZSkge1xuICAgICAgICBjYXNlIG51bGw6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBjb29yZHMsXG4gICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgY29vcmRzW2pdLFxuICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29vcmRJbmRleCsrO1xuICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIk11bHRpUG9pbnRcIikgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIkxpbmVTdHJpbmdcIikgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb29yZHNbal0ubGVuZ3RoIC0gd3JhcFNocmluazsgaysrKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgIGNvb3Jkc1tqXVtrXSxcbiAgICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiTXVsdGlMaW5lU3RyaW5nXCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiUG9seWdvblwiKSBnZW9tZXRyeUluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gXCJQb2x5Z29uXCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeUluZGV4ID0gMDtcbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb29yZHNbal0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgZm9yIChsID0gMDsgbCA8IGNvb3Jkc1tqXVtrXS5sZW5ndGggLSB3cmFwU2hyaW5rOyBsKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzW2pdW2tdW2xdLFxuICAgICAgICAgICAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJHZW9tZXRyeUNvbGxlY3Rpb25cIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY29vcmRFYWNoKGdlb21ldHJ5Lmdlb21ldHJpZXNbal0sIGNhbGxiYWNrLCBleGNsdWRlV3JhcENvb3JkKSA9PT1cbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gR2VvbWV0cnkgVHlwZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgY29vcmRSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBjb29yZFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjdXJyZW50Q29vcmQgVGhlIGN1cnJlbnQgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gY29vcmRJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBTdGFydHMgYXQgaW5kZXggMCwgaWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkLCBhbmQgYXQgaW5kZXggMSBvdGhlcndpc2UuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGNvb3JkaW5hdGVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKVxuICpcbiAqIEBuYW1lIGNvb3JkUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEdlb21ldHJ5fEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHBhcmFtIHtib29sZWFufSBbZXhjbHVkZVdyYXBDb29yZD1mYWxzZV0gd2hldGhlciBvciBub3QgdG8gaW5jbHVkZSB0aGUgZmluYWwgY29vcmRpbmF0ZSBvZiBMaW5lYXJSaW5ncyB0aGF0IHdyYXBzIHRoZSByaW5nIGluIGl0cyBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtcImZvb1wiOiBcImJhclwifSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtcImhlbGxvXCI6IFwid29ybGRcIn0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmNvb3JkUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudENvb3JkXG4gKiAgIC8vPWNvb3JkSW5kZXhcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRDb29yZDtcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBjb29yZFJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlLCBleGNsdWRlV3JhcENvb3JkKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBjb29yZEVhY2goXG4gICAgZ2VvanNvbixcbiAgICBmdW5jdGlvbiAoXG4gICAgICBjdXJyZW50Q29vcmQsXG4gICAgICBjb29yZEluZGV4LFxuICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICBnZW9tZXRyeUluZGV4XG4gICAgKSB7XG4gICAgICBpZiAoY29vcmRJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRDb29yZDtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudENvb3JkLFxuICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgKTtcbiAgICB9LFxuICAgIGV4Y2x1ZGVXcmFwQ29vcmRcbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHByb3BFYWNoXG4gKlxuICogQGNhbGxiYWNrIHByb3BFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBjdXJyZW50UHJvcGVydGllcyBUaGUgY3VycmVudCBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIHByb3BlcnRpZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICpcbiAqIEBuYW1lIHByb3BFYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5wcm9wRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gcHJvcEVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgdmFyIGk7XG4gIHN3aXRjaCAoZ2VvanNvbi50eXBlKSB7XG4gICAgY2FzZSBcIkZlYXR1cmVDb2xsZWN0aW9uXCI6XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY2FsbGJhY2soZ2VvanNvbi5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzLCBpKSA9PT0gZmFsc2UpIGJyZWFrO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkZlYXR1cmVcIjpcbiAgICAgIGNhbGxiYWNrKGdlb2pzb24ucHJvcGVydGllcywgMCk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBwcm9wUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgcHJvcFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHsqfSBjdXJyZW50UHJvcGVydGllcyBUaGUgY3VycmVudCBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIHByb3BlcnRpZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0IGludG8gYSBzaW5nbGUgdmFsdWUsXG4gKiBzaW1pbGFyIHRvIGhvdyBBcnJheS5yZWR1Y2Ugd29ya3MuIEhvd2V2ZXIsIGluIHRoaXMgY2FzZSB3ZSBsYXppbHkgcnVuXG4gKiB0aGUgcmVkdWN0aW9uLCBzbyBhbiBhcnJheSBvZiBhbGwgcHJvcGVydGllcyBpcyB1bm5lY2Vzc2FyeS5cbiAqXG4gKiBAbmFtZSBwcm9wUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLnByb3BSZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50UHJvcGVydGllc1xuICogfSk7XG4gKi9cbmZ1bmN0aW9uIHByb3BSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgcHJvcEVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpIHtcbiAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRQcm9wZXJ0aWVzO1xuICAgIGVsc2VcbiAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KTtcbiAgfSk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmZWF0dXJlRWFjaFxuICpcbiAqIEBjYWxsYmFjayBmZWF0dXJlRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8YW55Pn0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG9cbiAqIEFycmF5LmZvckVhY2guXG4gKlxuICogQG5hbWUgZmVhdHVyZUVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmVhdHVyZUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGZlYXR1cmVFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gIGlmIChnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZVwiKSB7XG4gICAgY2FsbGJhY2soZ2VvanNvbiwgMCk7XG4gIH0gZWxzZSBpZiAoZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjYWxsYmFjayhnZW9qc29uLmZlYXR1cmVzW2ldLCBpKSA9PT0gZmFsc2UpIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmZWF0dXJlUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgZmVhdHVyZVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlfSBjdXJyZW50RmVhdHVyZSBUaGUgY3VycmVudCBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge1wiZm9vXCI6IFwiYmFyXCJ9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge1wiaGVsbG9cIjogXCJ3b3JsZFwifSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmVhdHVyZVJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRGZWF0dXJlXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmVhdHVyZVJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBmZWF0dXJlRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCkge1xuICAgIGlmIChmZWF0dXJlSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudEZlYXR1cmU7XG4gICAgZWxzZSBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCk7XG4gIH0pO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBHZXQgYWxsIGNvb3JkaW5hdGVzIGZyb20gYW55IEdlb0pTT04gb2JqZWN0LlxuICpcbiAqIEBuYW1lIGNvb3JkQWxsXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcmV0dXJucyB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGUgcG9zaXRpb24gYXJyYXlcbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHZhciBjb29yZHMgPSB0dXJmLmNvb3JkQWxsKGZlYXR1cmVzKTtcbiAqIC8vPSBbWzI2LCAzN10sIFszNiwgNTNdXVxuICovXG5mdW5jdGlvbiBjb29yZEFsbChnZW9qc29uKSB7XG4gIHZhciBjb29yZHMgPSBbXTtcbiAgY29vcmRFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjb29yZCkge1xuICAgIGNvb3Jkcy5wdXNoKGNvb3JkKTtcbiAgfSk7XG4gIHJldHVybiBjb29yZHM7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGdlb21FYWNoXG4gKlxuICogQGNhbGxiYWNrIGdlb21FYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7R2VvbWV0cnl9IGN1cnJlbnRHZW9tZXRyeSBUaGUgY3VycmVudCBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBmZWF0dXJlUHJvcGVydGllcyBUaGUgY3VycmVudCBGZWF0dXJlIFByb3BlcnRpZXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmZWF0dXJlQkJveCBUaGUgY3VycmVudCBGZWF0dXJlIEJCb3ggYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBmZWF0dXJlSWQgVGhlIGN1cnJlbnQgRmVhdHVyZSBJZCBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZWFjaCBnZW9tZXRyeSBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaCgpXG4gKlxuICogQG5hbWUgZ2VvbUVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlUHJvcGVydGllcywgZmVhdHVyZUJCb3gsIGZlYXR1cmVJZClcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZ2VvbUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpIHtcbiAqICAgLy89Y3VycmVudEdlb21ldHJ5XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1mZWF0dXJlUHJvcGVydGllc1xuICogICAvLz1mZWF0dXJlQkJveFxuICogICAvLz1mZWF0dXJlSWRcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBnZW9tRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICB2YXIgaSxcbiAgICBqLFxuICAgIGcsXG4gICAgZ2VvbWV0cnksXG4gICAgc3RvcEcsXG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24sXG4gICAgaXNHZW9tZXRyeUNvbGxlY3Rpb24sXG4gICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgZmVhdHVyZUJCb3gsXG4gICAgZmVhdHVyZUlkLFxuICAgIGZlYXR1cmVJbmRleCA9IDAsXG4gICAgaXNGZWF0dXJlQ29sbGVjdGlvbiA9IGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgIGlzRmVhdHVyZSA9IGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlXCIsXG4gICAgc3RvcCA9IGlzRmVhdHVyZUNvbGxlY3Rpb24gPyBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCA6IDE7XG5cbiAgLy8gVGhpcyBsb2dpYyBtYXkgbG9vayBhIGxpdHRsZSB3ZWlyZC4gVGhlIHJlYXNvbiB3aHkgaXQgaXMgdGhhdCB3YXlcbiAgLy8gaXMgYmVjYXVzZSBpdCdzIHRyeWluZyB0byBiZSBmYXN0LiBHZW9KU09OIHN1cHBvcnRzIG11bHRpcGxlIGtpbmRzXG4gIC8vIG9mIG9iamVjdHMgYXQgaXRzIHJvb3Q6IEZlYXR1cmVDb2xsZWN0aW9uLCBGZWF0dXJlcywgR2VvbWV0cmllcy5cbiAgLy8gVGhpcyBmdW5jdGlvbiBoYXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIGhhbmRsaW5nIGFsbCBvZiB0aGVtLCBhbmQgdGhhdFxuICAvLyBtZWFucyB0aGF0IHNvbWUgb2YgdGhlIGBmb3JgIGxvb3BzIHlvdSBzZWUgYmVsb3cgYWN0dWFsbHkganVzdCBkb24ndCBhcHBseVxuICAvLyB0byBjZXJ0YWluIGlucHV0cy4gRm9yIGluc3RhbmNlLCBpZiB5b3UgZ2l2ZSB0aGlzIGp1c3QgYVxuICAvLyBQb2ludCBnZW9tZXRyeSwgdGhlbiBib3RoIGxvb3BzIGFyZSBzaG9ydC1jaXJjdWl0ZWQgYW5kIGFsbCB3ZSBkb1xuICAvLyBpcyBncmFkdWFsbHkgcmVuYW1lIHRoZSBpbnB1dCB1bnRpbCBpdCdzIGNhbGxlZCAnZ2VvbWV0cnknLlxuICAvL1xuICAvLyBUaGlzIGFsc28gYWltcyB0byBhbGxvY2F0ZSBhcyBmZXcgcmVzb3VyY2VzIGFzIHBvc3NpYmxlOiBqdXN0IGFcbiAgLy8gZmV3IG51bWJlcnMgYW5kIGJvb2xlYW5zLCByYXRoZXIgdGhhbiBhbnkgdGVtcG9yYXJ5IGFycmF5cyBhcyB3b3VsZFxuICAvLyBiZSByZXF1aXJlZCB3aXRoIHRoZSBub3JtYWxpemF0aW9uIGFwcHJvYWNoLlxuICBmb3IgKGkgPSAwOyBpIDwgc3RvcDsgaSsrKSB7XG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24gPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0uZ2VvbWV0cnlcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uZ2VvbWV0cnlcbiAgICAgIDogZ2VvanNvbjtcbiAgICBmZWF0dXJlUHJvcGVydGllcyA9IGlzRmVhdHVyZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvanNvbi5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzXG4gICAgICA6IGlzRmVhdHVyZVxuICAgICAgPyBnZW9qc29uLnByb3BlcnRpZXNcbiAgICAgIDoge307XG4gICAgZmVhdHVyZUJCb3ggPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0uYmJveFxuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5iYm94XG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBmZWF0dXJlSWQgPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0uaWRcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uaWRcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uID0gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24udHlwZSA9PT0gXCJHZW9tZXRyeUNvbGxlY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgICBzdG9wRyA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXMubGVuZ3RoXG4gICAgICA6IDE7XG5cbiAgICBmb3IgKGcgPSAwOyBnIDwgc3RvcEc7IGcrKykge1xuICAgICAgZ2VvbWV0cnkgPSBpc0dlb21ldHJ5Q29sbGVjdGlvblxuICAgICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXNbZ11cbiAgICAgICAgOiBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbjtcblxuICAgICAgLy8gSGFuZGxlIG51bGwgR2VvbWV0cnlcbiAgICAgIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgICBmZWF0dXJlQkJveCxcbiAgICAgICAgICAgIGZlYXR1cmVJZFxuICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjoge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgICAgIGZlYXR1cmVJZFxuICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkdlb21ldHJ5Q29sbGVjdGlvblwiOiB7XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkuZ2VvbWV0cmllc1tqXSxcbiAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUlkXG4gICAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIEdlb21ldHJ5IFR5cGVcIik7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE9ubHkgaW5jcmVhc2UgYGZlYXR1cmVJbmRleGAgcGVyIGVhY2ggZmVhdHVyZVxuICAgIGZlYXR1cmVJbmRleCsrO1xuICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGdlb21SZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBnZW9tUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0dlb21ldHJ5fSBjdXJyZW50R2VvbWV0cnkgVGhlIGN1cnJlbnQgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZVByb3BlcnRpZXMgVGhlIGN1cnJlbnQgRmVhdHVyZSBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmVhdHVyZUJCb3ggVGhlIGN1cnJlbnQgRmVhdHVyZSBCQm94IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gZmVhdHVyZUlkIFRoZSBjdXJyZW50IEZlYXR1cmUgSWQgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGdlb21ldHJ5IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBnZW9tUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZ2VvbVJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlUHJvcGVydGllcywgZmVhdHVyZUJCb3gsIGZlYXR1cmVJZCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRHZW9tZXRyeVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89ZmVhdHVyZVByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUJCb3hcbiAqICAgLy89ZmVhdHVyZUlkXG4gKiAgIHJldHVybiBjdXJyZW50R2VvbWV0cnlcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBnZW9tUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGdlb21FYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKFxuICAgICAgY3VycmVudEdlb21ldHJ5LFxuICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICBmZWF0dXJlQkJveCxcbiAgICAgIGZlYXR1cmVJZFxuICAgICkge1xuICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRHZW9tZXRyeTtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudEdlb21ldHJ5LFxuICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICAgICAgICBmZWF0dXJlQkJveCxcbiAgICAgICAgICBmZWF0dXJlSWRcbiAgICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmbGF0dGVuRWFjaFxuICpcbiAqIEBjYWxsYmFjayBmbGF0dGVuRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmV9IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IGZsYXR0ZW5lZCBmZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBmbGF0dGVuZWQgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvXG4gKiBBcnJheS5mb3JFYWNoLlxuICpcbiAqIEBuYW1lIGZsYXR0ZW5FYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleClcbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYubXVsdGlQb2ludChbWzQwLCAzMF0sIFszNiwgNTNdXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmxhdHRlbkVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmbGF0dGVuRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICBnZW9tRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmVJbmRleCwgcHJvcGVydGllcywgYmJveCwgaWQpIHtcbiAgICAvLyBDYWxsYmFjayBmb3Igc2luZ2xlIGdlb21ldHJ5XG4gICAgdmFyIHR5cGUgPSBnZW9tZXRyeSA9PT0gbnVsbCA/IG51bGwgOiBnZW9tZXRyeS50eXBlO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBudWxsOlxuICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgaGVscGVycy5mZWF0dXJlKGdlb21ldHJ5LCBwcm9wZXJ0aWVzLCB7IGJib3g6IGJib3gsIGlkOiBpZCB9KSxcbiAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGdlb21UeXBlO1xuXG4gICAgLy8gQ2FsbGJhY2sgZm9yIG11bHRpLWdlb21ldHJ5XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICBnZW9tVHlwZSA9IFwiUG9pbnRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgICAgIGdlb21UeXBlID0gXCJMaW5lU3RyaW5nXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgICBnZW9tVHlwZSA9IFwiUG9seWdvblwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBmb3IgKFxuICAgICAgdmFyIG11bHRpRmVhdHVyZUluZGV4ID0gMDtcbiAgICAgIG11bHRpRmVhdHVyZUluZGV4IDwgZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgbXVsdGlGZWF0dXJlSW5kZXgrK1xuICAgICkge1xuICAgICAgdmFyIGNvb3JkaW5hdGUgPSBnZW9tZXRyeS5jb29yZGluYXRlc1ttdWx0aUZlYXR1cmVJbmRleF07XG4gICAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogZ2VvbVR5cGUsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlLFxuICAgICAgfTtcbiAgICAgIGlmIChcbiAgICAgICAgY2FsbGJhY2soaGVscGVycy5mZWF0dXJlKGdlb20sIHByb3BlcnRpZXMpLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KSA9PT1cbiAgICAgICAgZmFsc2VcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZsYXR0ZW5SZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBmbGF0dGVuUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmV9IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGZsYXR0ZW5lZCBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZmxhdHRlblJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5tdWx0aVBvaW50KFtbNDAsIDMwXSwgWzM2LCA1M11dLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5mbGF0dGVuUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRGZWF0dXJlXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmxhdHRlblJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBmbGF0dGVuRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgICAgaWYgKFxuICAgICAgICBmZWF0dXJlSW5kZXggPT09IDAgJiZcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPT09IDAgJiZcbiAgICAgICAgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgIClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRGZWF0dXJlO1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50RmVhdHVyZSxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXhcbiAgICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBzZWdtZW50RWFjaFxuICpcbiAqIEBjYWxsYmFjayBzZWdtZW50RWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRTZWdtZW50IFRoZSBjdXJyZW50IFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgMi12ZXJ0ZXggbGluZSBzZWdtZW50IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT05cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNTAsIDVdLCBbLTQwLCAtMTBdLCBbLTUwLCAtMTBdLCBbLTQwLCA1XSwgWy01MCwgNV1dXSk7XG4gKlxuICogLy8gSXRlcmF0ZSBvdmVyIEdlb0pTT04gYnkgMi12ZXJ0ZXggc2VnbWVudHNcbiAqIHR1cmYuc2VnbWVudEVhY2gocG9seWdvbiwgZnVuY3Rpb24gKGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudFNlZ21lbnRcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgLy89c2VnbWVudEluZGV4XG4gKiB9KTtcbiAqXG4gKiAvLyBDYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBzZWdtZW50c1xuICogdmFyIHRvdGFsID0gMDtcbiAqIHR1cmYuc2VnbWVudEVhY2gocG9seWdvbiwgZnVuY3Rpb24gKCkge1xuICogICAgIHRvdGFsKys7XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gc2VnbWVudEVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgZmxhdHRlbkVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAgICB2YXIgc2VnbWVudEluZGV4ID0gMDtcblxuICAgIC8vIEV4Y2x1ZGUgbnVsbCBHZW9tZXRyaWVzXG4gICAgaWYgKCFmZWF0dXJlLmdlb21ldHJ5KSByZXR1cm47XG4gICAgLy8gKE11bHRpKVBvaW50IGdlb21ldHJpZXMgZG8gbm90IGNvbnRhaW4gc2VnbWVudHMgdGhlcmVmb3JlIHRoZXkgYXJlIGlnbm9yZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uLlxuICAgIHZhciB0eXBlID0gZmVhdHVyZS5nZW9tZXRyeS50eXBlO1xuICAgIGlmICh0eXBlID09PSBcIlBvaW50XCIgfHwgdHlwZSA9PT0gXCJNdWx0aVBvaW50XCIpIHJldHVybjtcblxuICAgIC8vIEdlbmVyYXRlIDItdmVydGV4IGxpbmUgc2VnbWVudHNcbiAgICB2YXIgcHJldmlvdXNDb29yZHM7XG4gICAgdmFyIHByZXZpb3VzRmVhdHVyZUluZGV4ID0gMDtcbiAgICB2YXIgcHJldmlvdXNNdWx0aUluZGV4ID0gMDtcbiAgICB2YXIgcHJldkdlb21JbmRleCA9IDA7XG4gICAgaWYgKFxuICAgICAgY29vcmRFYWNoKFxuICAgICAgICBmZWF0dXJlLFxuICAgICAgICBmdW5jdGlvbiAoXG4gICAgICAgICAgY3VycmVudENvb3JkLFxuICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgZmVhdHVyZUluZGV4Q29vcmQsXG4gICAgICAgICAgbXVsdGlQYXJ0SW5kZXhDb29yZCxcbiAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNpbXVsYXRpbmcgYSBtZXRhLmNvb3JkUmVkdWNlKCkgc2luY2UgYHJlZHVjZWAgb3BlcmF0aW9ucyBjYW5ub3QgYmUgc3RvcHBlZCBieSByZXR1cm5pbmcgYGZhbHNlYFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByZXZpb3VzQ29vcmRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGZlYXR1cmVJbmRleCA+IHByZXZpb3VzRmVhdHVyZUluZGV4IHx8XG4gICAgICAgICAgICBtdWx0aVBhcnRJbmRleENvb3JkID4gcHJldmlvdXNNdWx0aUluZGV4IHx8XG4gICAgICAgICAgICBnZW9tZXRyeUluZGV4ID4gcHJldkdlb21JbmRleFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcHJldmlvdXNDb29yZHMgPSBjdXJyZW50Q29vcmQ7XG4gICAgICAgICAgICBwcmV2aW91c0ZlYXR1cmVJbmRleCA9IGZlYXR1cmVJbmRleDtcbiAgICAgICAgICAgIHByZXZpb3VzTXVsdGlJbmRleCA9IG11bHRpUGFydEluZGV4Q29vcmQ7XG4gICAgICAgICAgICBwcmV2R2VvbUluZGV4ID0gZ2VvbWV0cnlJbmRleDtcbiAgICAgICAgICAgIHNlZ21lbnRJbmRleCA9IDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjdXJyZW50U2VnbWVudCA9IGhlbHBlcnMubGluZVN0cmluZyhcbiAgICAgICAgICAgIFtwcmV2aW91c0Nvb3JkcywgY3VycmVudENvb3JkXSxcbiAgICAgICAgICAgIGZlYXR1cmUucHJvcGVydGllc1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgIGN1cnJlbnRTZWdtZW50LFxuICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4LFxuICAgICAgICAgICAgICBzZWdtZW50SW5kZXhcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHNlZ21lbnRJbmRleCsrO1xuICAgICAgICAgIHByZXZpb3VzQ29vcmRzID0gY3VycmVudENvb3JkO1xuICAgICAgICB9XG4gICAgICApID09PSBmYWxzZVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHNlZ21lbnRSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBzZWdtZW50UmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRTZWdtZW50IFRoZSBjdXJyZW50IFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIDItdmVydGV4IGxpbmUgc2VnbWVudCBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT05cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRTZWdtZW50LCBjdXJyZW50SW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHlnb24gPSB0dXJmLnBvbHlnb24oW1tbLTUwLCA1XSwgWy00MCwgLTEwXSwgWy01MCwgLTEwXSwgWy00MCwgNV0sIFstNTAsIDVdXV0pO1xuICpcbiAqIC8vIEl0ZXJhdGUgb3ZlciBHZW9KU09OIGJ5IDItdmVydGV4IHNlZ21lbnRzXG4gKiB0dXJmLnNlZ21lbnRSZWR1Y2UocG9seWdvbiwgZnVuY3Rpb24gKHByZXZpb3VzU2VnbWVudCwgY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleCkge1xuICogICAvLz0gcHJldmlvdXNTZWdtZW50XG4gKiAgIC8vPSBjdXJyZW50U2VnbWVudFxuICogICAvLz0gZmVhdHVyZUluZGV4XG4gKiAgIC8vPSBtdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz0gZ2VvbWV0cnlJbmRleFxuICogICAvLz0gc2VnbWVudEluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50U2VnbWVudFxuICogfSk7XG4gKlxuICogLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2VnbWVudHNcbiAqIHZhciBpbml0aWFsVmFsdWUgPSAwXG4gKiB2YXIgdG90YWwgPSB0dXJmLnNlZ21lbnRSZWR1Y2UocG9seWdvbiwgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUpIHtcbiAqICAgICBwcmV2aW91c1ZhbHVlKys7XG4gKiAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG4gKiB9LCBpbml0aWFsVmFsdWUpO1xuICovXG5mdW5jdGlvbiBzZWdtZW50UmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIHZhciBzdGFydGVkID0gZmFsc2U7XG4gIHNlZ21lbnRFYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKFxuICAgICAgY3VycmVudFNlZ21lbnQsXG4gICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgIGdlb21ldHJ5SW5kZXgsXG4gICAgICBzZWdtZW50SW5kZXhcbiAgICApIHtcbiAgICAgIGlmIChzdGFydGVkID09PSBmYWxzZSAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRTZWdtZW50O1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50U2VnbWVudCxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgZ2VvbWV0cnlJbmRleCxcbiAgICAgICAgICBzZWdtZW50SW5kZXhcbiAgICAgICAgKTtcbiAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGxpbmVFYWNoXG4gKlxuICogQGNhbGxiYWNrIGxpbmVFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudExpbmUgVGhlIGN1cnJlbnQgTGluZVN0cmluZ3xMaW5lYXJSaW5nIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWRcbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBsaW5lIG9yIHJpbmcgY29vcmRpbmF0ZXMgaW4gTGluZVN0cmluZywgUG9seWdvbiwgTXVsdGlMaW5lU3RyaW5nLCBNdWx0aVBvbHlnb24gRmVhdHVyZXMgb3IgR2VvbWV0cmllcyxcbiAqIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBsaW5lRWFjaFxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPExpbmVTdHJpbmd8UG9seWdvbnxNdWx0aUxpbmVTdHJpbmd8TXVsdGlQb2x5Z29uPn0gZ2VvanNvbiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KVxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aUxpbmUgPSB0dXJmLm11bHRpTGluZVN0cmluZyhbXG4gKiAgIFtbMjYsIDM3XSwgWzM1LCA0NV1dLFxuICogICBbWzM2LCA1M10sIFszOCwgNTBdLCBbNDEsIDU1XV1cbiAqIF0pO1xuICpcbiAqIHR1cmYubGluZUVhY2gobXVsdGlMaW5lLCBmdW5jdGlvbiAoY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudExpbmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBsaW5lRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICAvLyB2YWxpZGF0aW9uXG4gIGlmICghZ2VvanNvbikgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyByZXF1aXJlZFwiKTtcblxuICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5ID09PSBudWxsKSByZXR1cm47XG4gICAgdmFyIHR5cGUgPSBmZWF0dXJlLmdlb21ldHJ5LnR5cGU7XG4gICAgdmFyIGNvb3JkcyA9IGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICBpZiAoY2FsbGJhY2soZmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgMCwgMCkgPT09IGZhbHNlKVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBnZW9tZXRyeUluZGV4ID0gMDtcbiAgICAgICAgICBnZW9tZXRyeUluZGV4IDwgY29vcmRzLmxlbmd0aDtcbiAgICAgICAgICBnZW9tZXRyeUluZGV4KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgIGhlbHBlcnMubGluZVN0cmluZyhjb29yZHNbZ2VvbWV0cnlJbmRleF0sIGZlYXR1cmUucHJvcGVydGllcyksXG4gICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGxpbmVSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBsaW5lUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRMaW5lIFRoZSBjdXJyZW50IExpbmVTdHJpbmd8TGluZWFyUmluZyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZFxuICovXG5cbi8qKlxuICogUmVkdWNlIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBsaW5lUmVkdWNlXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8TGluZVN0cmluZ3xQb2x5Z29ufE11bHRpTGluZVN0cmluZ3xNdWx0aVBvbHlnb24+fSBnZW9qc29uIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aVBvbHkgPSB0dXJmLm11bHRpUG9seWdvbihbXG4gKiAgIHR1cmYucG9seWdvbihbW1sxMiw0OF0sWzIsNDFdLFsyNCwzOF0sWzEyLDQ4XV0sIFtbOSw0NF0sWzEzLDQxXSxbMTMsNDVdLFs5LDQ0XV1dKSxcbiAqICAgdHVyZi5wb2x5Z29uKFtbWzUsIDVdLCBbMCwgMF0sIFsyLCAyXSwgWzQsIDRdLCBbNSwgNV1dXSlcbiAqIF0pO1xuICpcbiAqIHR1cmYubGluZVJlZHVjZShtdWx0aVBvbHksIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRMaW5lXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz1nZW9tZXRyeUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50TGluZVxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGxpbmVSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgbGluZUVhY2goXG4gICAgZ2VvanNvbixcbiAgICBmdW5jdGlvbiAoY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50TGluZTtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudExpbmUsXG4gICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIEZpbmRzIGEgcGFydGljdWxhciAyLXZlcnRleCBMaW5lU3RyaW5nIFNlZ21lbnQgZnJvbSBhIEdlb0pTT04gdXNpbmcgYEB0dXJmL21ldGFgIGluZGV4ZXMuXG4gKlxuICogTmVnYXRpdmUgaW5kZXhlcyBhcmUgcGVybWl0dGVkLlxuICogUG9pbnQgJiBNdWx0aVBvaW50IHdpbGwgYWx3YXlzIHJldHVybiBudWxsLlxuICpcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBBbnkgR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mZWF0dXJlSW5kZXg9MF0gRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm11bHRpRmVhdHVyZUluZGV4PTBdIE11bHRpLUZlYXR1cmUgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5nZW9tZXRyeUluZGV4PTBdIEdlb21ldHJ5IEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2VnbWVudEluZGV4PTBdIFNlZ21lbnQgSW5kZXhcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcm9wZXJ0aWVzPXt9XSBUcmFuc2xhdGUgUHJvcGVydGllcyB0byBvdXRwdXQgTGluZVN0cmluZ1xuICogQHBhcmFtIHtCQm94fSBbb3B0aW9ucy5iYm94PXt9XSBUcmFuc2xhdGUgQkJveCB0byBvdXRwdXQgTGluZVN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbb3B0aW9ucy5pZD17fV0gVHJhbnNsYXRlIElkIHRvIG91dHB1dCBMaW5lU3RyaW5nXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gMi12ZXJ0ZXggR2VvSlNPTiBGZWF0dXJlIExpbmVTdHJpbmdcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlMaW5lID0gdHVyZi5tdWx0aUxpbmVTdHJpbmcoW1xuICogICAgIFtbMTAsIDEwXSwgWzUwLCAzMF0sIFszMCwgNDBdXSxcbiAqICAgICBbWy0xMCwgLTEwXSwgWy01MCwgLTMwXSwgWy0zMCwgLTQwXV1cbiAqIF0pO1xuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgKGRlZmF1bHRzIGFyZSAwKVxuICogdHVyZi5maW5kU2VnbWVudChtdWx0aUxpbmUpO1xuICogLy8gPT4gRmVhdHVyZTxMaW5lU3RyaW5nPFtbMTAsIDEwXSwgWzUwLCAzMF1dPj5cbiAqXG4gKiAvLyBGaXJzdCBTZWdtZW50IG9mIDJuZCBNdWx0aSBGZWF0dXJlXG4gKiB0dXJmLmZpbmRTZWdtZW50KG11bHRpTGluZSwge211bHRpRmVhdHVyZUluZGV4OiAxfSk7XG4gKiAvLyA9PiBGZWF0dXJlPExpbmVTdHJpbmc8W1stMTAsIC0xMF0sIFstNTAsIC0zMF1dPj5cbiAqXG4gKiAvLyBMYXN0IFNlZ21lbnQgb2YgTGFzdCBNdWx0aSBGZWF0dXJlXG4gKiB0dXJmLmZpbmRTZWdtZW50KG11bHRpTGluZSwge211bHRpRmVhdHVyZUluZGV4OiAtMSwgc2VnbWVudEluZGV4OiAtMX0pO1xuICogLy8gPT4gRmVhdHVyZTxMaW5lU3RyaW5nPFtbLTUwLCAtMzBdLCBbLTMwLCAtNDBdXT4+XG4gKi9cbmZ1bmN0aW9uIGZpbmRTZWdtZW50KGdlb2pzb24sIG9wdGlvbnMpIHtcbiAgLy8gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKCFoZWxwZXJzLmlzT2JqZWN0KG9wdGlvbnMpKSB0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zIGlzIGludmFsaWRcIik7XG4gIHZhciBmZWF0dXJlSW5kZXggPSBvcHRpb25zLmZlYXR1cmVJbmRleCB8fCAwO1xuICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSBvcHRpb25zLm11bHRpRmVhdHVyZUluZGV4IHx8IDA7XG4gIHZhciBnZW9tZXRyeUluZGV4ID0gb3B0aW9ucy5nZW9tZXRyeUluZGV4IHx8IDA7XG4gIHZhciBzZWdtZW50SW5kZXggPSBvcHRpb25zLnNlZ21lbnRJbmRleCB8fCAwO1xuXG4gIC8vIEZpbmQgRmVhdHVyZUluZGV4XG4gIHZhciBwcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9wZXJ0aWVzO1xuICB2YXIgZ2VvbWV0cnk7XG5cbiAgc3dpdGNoIChnZW9qc29uLnR5cGUpIHtcbiAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBmZWF0dXJlSW5kZXggPSBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCArIGZlYXR1cmVJbmRleDtcbiAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiRmVhdHVyZVwiOlxuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmdlb21ldHJ5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbiAgfVxuXG4gIC8vIEZpbmQgU2VnbWVudEluZGV4XG4gIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjb29yZHMgPSBnZW9tZXRyeS5jb29yZGluYXRlcztcbiAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMCkgc2VnbWVudEluZGV4ID0gY29vcmRzLmxlbmd0aCArIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gaGVscGVycy5saW5lU3RyaW5nKFxuICAgICAgICBbY29vcmRzW3NlZ21lbnRJbmRleF0sIGNvb3Jkc1tzZWdtZW50SW5kZXggKyAxXV0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgIGlmIChnZW9tZXRyeUluZGV4IDwgMCkgZ2VvbWV0cnlJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBnZW9tZXRyeUluZGV4O1xuICAgICAgaWYgKHNlZ21lbnRJbmRleCA8IDApXG4gICAgICAgIHNlZ21lbnRJbmRleCA9IGNvb3Jkc1tnZW9tZXRyeUluZGV4XS5sZW5ndGggKyBzZWdtZW50SW5kZXggLSAxO1xuICAgICAgcmV0dXJuIGhlbHBlcnMubGluZVN0cmluZyhcbiAgICAgICAgW1xuICAgICAgICAgIGNvb3Jkc1tnZW9tZXRyeUluZGV4XVtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgIGNvb3Jkc1tnZW9tZXRyeUluZGV4XVtzZWdtZW50SW5kZXggKyAxXSxcbiAgICAgICAgXSxcbiAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgICBpZiAobXVsdGlGZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBtdWx0aUZlYXR1cmVJbmRleDtcbiAgICAgIGlmIChzZWdtZW50SW5kZXggPCAwKVxuICAgICAgICBzZWdtZW50SW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gaGVscGVycy5saW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bc2VnbWVudEluZGV4ICsgMV0sXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApXG4gICAgICAgIGdlb21ldHJ5SW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMClcbiAgICAgICAgc2VnbWVudEluZGV4ID1cbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdLmxlbmd0aCAtIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gaGVscGVycy5saW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtnZW9tZXRyeUluZGV4XVtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF1bc2VnbWVudEluZGV4ICsgMV0sXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyBpbnZhbGlkXCIpO1xufVxuXG4vKipcbiAqIEZpbmRzIGEgcGFydGljdWxhciBQb2ludCBmcm9tIGEgR2VvSlNPTiB1c2luZyBgQHR1cmYvbWV0YWAgaW5kZXhlcy5cbiAqXG4gKiBOZWdhdGl2ZSBpbmRleGVzIGFyZSBwZXJtaXR0ZWQuXG4gKlxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIEFueSBHZW9KU09OIEZlYXR1cmUgb3IgR2VvbWV0cnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZlYXR1cmVJbmRleD0wXSBGZWF0dXJlIEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXg9MF0gTXVsdGktRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmdlb21ldHJ5SW5kZXg9MF0gR2VvbWV0cnkgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb29yZEluZGV4PTBdIENvb3JkIEluZGV4XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvcGVydGllcz17fV0gVHJhbnNsYXRlIFByb3BlcnRpZXMgdG8gb3V0cHV0IFBvaW50XG4gKiBAcGFyYW0ge0JCb3h9IFtvcHRpb25zLmJib3g9e31dIFRyYW5zbGF0ZSBCQm94IHRvIG91dHB1dCBQb2ludFxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbb3B0aW9ucy5pZD17fV0gVHJhbnNsYXRlIElkIHRvIG91dHB1dCBQb2ludFxuICogQHJldHVybnMge0ZlYXR1cmU8UG9pbnQ+fSAyLXZlcnRleCBHZW9KU09OIEZlYXR1cmUgUG9pbnRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlMaW5lID0gdHVyZi5tdWx0aUxpbmVTdHJpbmcoW1xuICogICAgIFtbMTAsIDEwXSwgWzUwLCAzMF0sIFszMCwgNDBdXSxcbiAqICAgICBbWy0xMCwgLTEwXSwgWy01MCwgLTMwXSwgWy0zMCwgLTQwXV1cbiAqIF0pO1xuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgKGRlZmF1bHRzIGFyZSAwKVxuICogdHVyZi5maW5kUG9pbnQobXVsdGlMaW5lKTtcbiAqIC8vID0+IEZlYXR1cmU8UG9pbnQ8WzEwLCAxMF0+PlxuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgb2YgdGhlIDJuZCBNdWx0aS1GZWF0dXJlXG4gKiB0dXJmLmZpbmRQb2ludChtdWx0aUxpbmUsIHttdWx0aUZlYXR1cmVJbmRleDogMX0pO1xuICogLy8gPT4gRmVhdHVyZTxQb2ludDxbLTEwLCAtMTBdPj5cbiAqXG4gKiAvLyBMYXN0IFNlZ21lbnQgb2YgbGFzdCBNdWx0aS1GZWF0dXJlXG4gKiB0dXJmLmZpbmRQb2ludChtdWx0aUxpbmUsIHttdWx0aUZlYXR1cmVJbmRleDogLTEsIGNvb3JkSW5kZXg6IC0xfSk7XG4gKiAvLyA9PiBGZWF0dXJlPFBvaW50PFstMzAsIC00MF0+PlxuICovXG5mdW5jdGlvbiBmaW5kUG9pbnQoZ2VvanNvbiwgb3B0aW9ucykge1xuICAvLyBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIWhlbHBlcnMuaXNPYmplY3Qob3B0aW9ucykpIHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMgaXMgaW52YWxpZFwiKTtcbiAgdmFyIGZlYXR1cmVJbmRleCA9IG9wdGlvbnMuZmVhdHVyZUluZGV4IHx8IDA7XG4gIHZhciBtdWx0aUZlYXR1cmVJbmRleCA9IG9wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXggfHwgMDtcbiAgdmFyIGdlb21ldHJ5SW5kZXggPSBvcHRpb25zLmdlb21ldHJ5SW5kZXggfHwgMDtcbiAgdmFyIGNvb3JkSW5kZXggPSBvcHRpb25zLmNvb3JkSW5kZXggfHwgMDtcblxuICAvLyBGaW5kIEZlYXR1cmVJbmRleFxuICB2YXIgcHJvcGVydGllcyA9IG9wdGlvbnMucHJvcGVydGllcztcbiAgdmFyIGdlb21ldHJ5O1xuXG4gIHN3aXRjaCAoZ2VvanNvbi50eXBlKSB7XG4gICAgY2FzZSBcIkZlYXR1cmVDb2xsZWN0aW9uXCI6XG4gICAgICBpZiAoZmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgZmVhdHVyZUluZGV4ID0gZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGggKyBmZWF0dXJlSW5kZXg7XG4gICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0ucHJvcGVydGllcztcbiAgICAgIGdlb21ldHJ5ID0gZ2VvanNvbi5mZWF0dXJlc1tmZWF0dXJlSW5kZXhdLmdlb21ldHJ5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkZlYXR1cmVcIjpcbiAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IGdlb2pzb24ucHJvcGVydGllcztcbiAgICAgIGdlb21ldHJ5ID0gZ2VvanNvbi5nZW9tZXRyeTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQb2ludFwiOlxuICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgIGdlb21ldHJ5ID0gZ2VvanNvbjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnZW9qc29uIGlzIGludmFsaWRcIik7XG4gIH1cblxuICAvLyBGaW5kIENvb3JkIEluZGV4XG4gIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjb29yZHMgPSBnZW9tZXRyeS5jb29yZGluYXRlcztcbiAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICByZXR1cm4gaGVscGVycy5wb2ludChjb29yZHMsIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICBpZiAobXVsdGlGZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBtdWx0aUZlYXR1cmVJbmRleDtcbiAgICAgIHJldHVybiBoZWxwZXJzLnBvaW50KGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApIGNvb3JkSW5kZXggPSBjb29yZHMubGVuZ3RoICsgY29vcmRJbmRleDtcbiAgICAgIHJldHVybiBoZWxwZXJzLnBvaW50KGNvb3Jkc1tjb29yZEluZGV4XSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgIGlmIChnZW9tZXRyeUluZGV4IDwgMCkgZ2VvbWV0cnlJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBnZW9tZXRyeUluZGV4O1xuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKVxuICAgICAgICBjb29yZEluZGV4ID0gY29vcmRzW2dlb21ldHJ5SW5kZXhdLmxlbmd0aCArIGNvb3JkSW5kZXg7XG4gICAgICByZXR1cm4gaGVscGVycy5wb2ludChjb29yZHNbZ2VvbWV0cnlJbmRleF1bY29vcmRJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKVxuICAgICAgICBjb29yZEluZGV4ID0gY29vcmRzW211bHRpRmVhdHVyZUluZGV4XS5sZW5ndGggKyBjb29yZEluZGV4O1xuICAgICAgcmV0dXJuIGhlbHBlcnMucG9pbnQoY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtjb29yZEluZGV4XSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApXG4gICAgICAgIGdlb21ldHJ5SW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApXG4gICAgICAgIGNvb3JkSW5kZXggPVxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF0ubGVuZ3RoIC0gY29vcmRJbmRleDtcbiAgICAgIHJldHVybiBoZWxwZXJzLnBvaW50KFxuICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdW2Nvb3JkSW5kZXhdLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbn1cblxuZXhwb3J0cy5jb29yZEFsbCA9IGNvb3JkQWxsO1xuZXhwb3J0cy5jb29yZEVhY2ggPSBjb29yZEVhY2g7XG5leHBvcnRzLmNvb3JkUmVkdWNlID0gY29vcmRSZWR1Y2U7XG5leHBvcnRzLmZlYXR1cmVFYWNoID0gZmVhdHVyZUVhY2g7XG5leHBvcnRzLmZlYXR1cmVSZWR1Y2UgPSBmZWF0dXJlUmVkdWNlO1xuZXhwb3J0cy5maW5kUG9pbnQgPSBmaW5kUG9pbnQ7XG5leHBvcnRzLmZpbmRTZWdtZW50ID0gZmluZFNlZ21lbnQ7XG5leHBvcnRzLmZsYXR0ZW5FYWNoID0gZmxhdHRlbkVhY2g7XG5leHBvcnRzLmZsYXR0ZW5SZWR1Y2UgPSBmbGF0dGVuUmVkdWNlO1xuZXhwb3J0cy5nZW9tRWFjaCA9IGdlb21FYWNoO1xuZXhwb3J0cy5nZW9tUmVkdWNlID0gZ2VvbVJlZHVjZTtcbmV4cG9ydHMubGluZUVhY2ggPSBsaW5lRWFjaDtcbmV4cG9ydHMubGluZVJlZHVjZSA9IGxpbmVSZWR1Y2U7XG5leHBvcnRzLnByb3BFYWNoID0gcHJvcEVhY2g7XG5leHBvcnRzLnByb3BSZWR1Y2UgPSBwcm9wUmVkdWNlO1xuZXhwb3J0cy5zZWdtZW50RWFjaCA9IHNlZ21lbnRFYWNoO1xuZXhwb3J0cy5zZWdtZW50UmVkdWNlID0gc2VnbWVudFJlZHVjZTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBtZXRhXzEgPSByZXF1aXJlKFwiQHR1cmYvbWV0YVwiKTtcbi8qKlxuICogVGFrZXMgYSBzZXQgb2YgZmVhdHVyZXMsIGNhbGN1bGF0ZXMgdGhlIGJib3ggb2YgYWxsIGlucHV0IGZlYXR1cmVzLCBhbmQgcmV0dXJucyBhIGJvdW5kaW5nIGJveC5cbiAqXG4gKiBAbmFtZSBiYm94XG4gKiBAcGFyYW0ge0dlb0pTT059IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcmV0dXJucyB7QkJveH0gYmJveCBleHRlbnQgaW4gW21pblgsIG1pblksIG1heFgsIG1heFldIG9yZGVyXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmUgPSB0dXJmLmxpbmVTdHJpbmcoW1stNzQsIDQwXSwgWy03OCwgNDJdLCBbLTgyLCAzNV1dKTtcbiAqIHZhciBiYm94ID0gdHVyZi5iYm94KGxpbmUpO1xuICogdmFyIGJib3hQb2x5Z29uID0gdHVyZi5iYm94UG9seWdvbihiYm94KTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbbGluZSwgYmJveFBvbHlnb25dXG4gKi9cbmZ1bmN0aW9uIGJib3goZ2VvanNvbikge1xuICAgIHZhciByZXN1bHQgPSBbSW5maW5pdHksIEluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eV07XG4gICAgbWV0YV8xLmNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgaWYgKHJlc3VsdFswXSA+IGNvb3JkWzBdKSB7XG4gICAgICAgICAgICByZXN1bHRbMF0gPSBjb29yZFswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0WzFdID4gY29vcmRbMV0pIHtcbiAgICAgICAgICAgIHJlc3VsdFsxXSA9IGNvb3JkWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRbMl0gPCBjb29yZFswXSkge1xuICAgICAgICAgICAgcmVzdWx0WzJdID0gY29vcmRbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdFszXSA8IGNvb3JkWzFdKSB7XG4gICAgICAgICAgICByZXN1bHRbM10gPSBjb29yZFsxXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5iYm94W1wiZGVmYXVsdFwiXSA9IGJib3g7XG5leHBvcnRzLmRlZmF1bHQgPSBiYm94O1xuIiwgInZhciByYnVzaCA9IHJlcXVpcmUoJ3JidXNoJyk7XG52YXIgaGVscGVycyA9IHJlcXVpcmUoJ0B0dXJmL2hlbHBlcnMnKTtcbnZhciBtZXRhID0gcmVxdWlyZSgnQHR1cmYvbWV0YScpO1xudmFyIHR1cmZCQm94ID0gcmVxdWlyZSgnQHR1cmYvYmJveCcpLmRlZmF1bHQ7XG52YXIgZmVhdHVyZUVhY2ggPSBtZXRhLmZlYXR1cmVFYWNoO1xudmFyIGNvb3JkRWFjaCA9IG1ldGEuY29vcmRFYWNoO1xudmFyIHBvbHlnb24gPSBoZWxwZXJzLnBvbHlnb247XG52YXIgZmVhdHVyZUNvbGxlY3Rpb24gPSBoZWxwZXJzLmZlYXR1cmVDb2xsZWN0aW9uO1xuXG4vKipcbiAqIEdlb0pTT04gaW1wbGVtZW50YXRpb24gb2YgW1JCdXNoXShodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaCNyYnVzaCkgc3BhdGlhbCBpbmRleC5cbiAqXG4gKiBAbmFtZSByYnVzaFxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhFbnRyaWVzPTldIGRlZmluZXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgaW4gYSB0cmVlIG5vZGUuIDkgKHVzZWQgYnkgZGVmYXVsdCkgaXMgYVxuICogcmVhc29uYWJsZSBjaG9pY2UgZm9yIG1vc3QgYXBwbGljYXRpb25zLiBIaWdoZXIgdmFsdWUgbWVhbnMgZmFzdGVyIGluc2VydGlvbiBhbmQgc2xvd2VyIHNlYXJjaCwgYW5kIHZpY2UgdmVyc2EuXG4gKiBAcmV0dXJucyB7UkJ1c2h9IEdlb0pTT04gUkJ1c2hcbiAqIEBleGFtcGxlXG4gKiB2YXIgZ2VvanNvblJidXNoID0gcmVxdWlyZSgnZ2VvanNvbi1yYnVzaCcpLmRlZmF1bHQ7XG4gKiB2YXIgdHJlZSA9IGdlb2pzb25SYnVzaCgpO1xuICovXG5mdW5jdGlvbiBnZW9qc29uUmJ1c2gobWF4RW50cmllcykge1xuICAgIHZhciB0cmVlID0gbmV3IHJidXNoKG1heEVudHJpZXMpO1xuICAgIC8qKlxuICAgICAqIFtpbnNlcnRdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI2RhdGEtZm9ybWF0KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtGZWF0dXJlfSBmZWF0dXJlIGluc2VydCBzaW5nbGUgR2VvSlNPTiBGZWF0dXJlXG4gICAgICogQHJldHVybnMge1JCdXNofSBHZW9KU09OIFJCdXNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9seSA9IHR1cmYucG9seWdvbihbW1stNzgsIDQxXSwgWy02NywgNDFdLCBbLTY3LCA0OF0sIFstNzgsIDQ4XSwgWy03OCwgNDFdXV0pO1xuICAgICAqIHRyZWUuaW5zZXJ0KHBvbHkpXG4gICAgICovXG4gICAgdHJlZS5pbnNlcnQgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICBpZiAoZmVhdHVyZS50eXBlICE9PSAnRmVhdHVyZScpIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmZWF0dXJlJyk7XG4gICAgICAgIGZlYXR1cmUuYmJveCA9IGZlYXR1cmUuYmJveCA/IGZlYXR1cmUuYmJveCA6IHR1cmZCQm94KGZlYXR1cmUpO1xuICAgICAgICByZXR1cm4gcmJ1c2gucHJvdG90eXBlLmluc2VydC5jYWxsKHRoaXMsIGZlYXR1cmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBbbG9hZF0oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjYnVsay1pbnNlcnRpbmctZGF0YSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258QXJyYXk8RmVhdHVyZT59IGZlYXR1cmVzIGxvYWQgZW50aXJlIEdlb0pTT04gRmVhdHVyZUNvbGxlY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7UkJ1c2h9IEdlb0pTT04gUkJ1c2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwb2x5cyA9IHR1cmYucG9seWdvbnMoW1xuICAgICAqICAgICBbW1stNzgsIDQxXSwgWy02NywgNDFdLCBbLTY3LCA0OF0sIFstNzgsIDQ4XSwgWy03OCwgNDFdXV0sXG4gICAgICogICAgIFtbWy05MywgMzJdLCBbLTgzLCAzMl0sIFstODMsIDM5XSwgWy05MywgMzldLCBbLTkzLCAzMl1dXVxuICAgICAqIF0pO1xuICAgICAqIHRyZWUubG9hZChwb2x5cyk7XG4gICAgICovXG4gICAgdHJlZS5sb2FkID0gZnVuY3Rpb24gKGZlYXR1cmVzKSB7XG4gICAgICAgIHZhciBsb2FkID0gW107XG4gICAgICAgIC8vIExvYWQgYW4gQXJyYXkgb2YgRmVhdHVyZXNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmVhdHVyZXMpKSB7XG4gICAgICAgICAgICBmZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUudHlwZSAhPT0gJ0ZlYXR1cmUnKSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmVhdHVyZXMnKTtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLmJib3ggPSBmZWF0dXJlLmJib3ggPyBmZWF0dXJlLmJib3ggOiB0dXJmQkJveChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICBsb2FkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIExvYWQgYSBGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgICAgICAgZmVhdHVyZUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUudHlwZSAhPT0gJ0ZlYXR1cmUnKSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmVhdHVyZXMnKTtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLmJib3ggPSBmZWF0dXJlLmJib3ggPyBmZWF0dXJlLmJib3ggOiB0dXJmQkJveChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICBsb2FkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmJ1c2gucHJvdG90eXBlLmxvYWQuY2FsbCh0aGlzLCBsb2FkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogW3JlbW92ZV0oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjcmVtb3ZpbmctZGF0YSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmVhdHVyZX0gZmVhdHVyZSByZW1vdmUgc2luZ2xlIEdlb0pTT04gRmVhdHVyZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFscyBQYXNzIGEgY3VzdG9tIGVxdWFscyBmdW5jdGlvbiB0byBjb21wYXJlIGJ5IHZhbHVlIGZvciByZW1vdmFsLlxuICAgICAqIEByZXR1cm5zIHtSQnVzaH0gR2VvSlNPTiBSQnVzaFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHBvbHkgPSB0dXJmLnBvbHlnb24oW1tbLTc4LCA0MV0sIFstNjcsIDQxXSwgWy02NywgNDhdLCBbLTc4LCA0OF0sIFstNzgsIDQxXV1dKTtcbiAgICAgKlxuICAgICAqIHRyZWUucmVtb3ZlKHBvbHkpO1xuICAgICAqL1xuICAgIHRyZWUucmVtb3ZlID0gZnVuY3Rpb24gKGZlYXR1cmUsIGVxdWFscykge1xuICAgICAgICBpZiAoZmVhdHVyZS50eXBlICE9PSAnRmVhdHVyZScpIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmZWF0dXJlJyk7XG4gICAgICAgIGZlYXR1cmUuYmJveCA9IGZlYXR1cmUuYmJveCA/IGZlYXR1cmUuYmJveCA6IHR1cmZCQm94KGZlYXR1cmUpO1xuICAgICAgICByZXR1cm4gcmJ1c2gucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMsIGZlYXR1cmUsIGVxdWFscyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFtjbGVhcl0oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjcmVtb3ZpbmctZGF0YSlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtSQnVzaH0gR2VvSlNPTiBSYnVzaFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdHJlZS5jbGVhcigpXG4gICAgICovXG4gICAgdHJlZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJidXNoLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBbc2VhcmNoXShodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaCNzZWFyY2gpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0JCb3h8RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZX0gZ2VvanNvbiBzZWFyY2ggd2l0aCBHZW9KU09OXG4gICAgICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9ufSBhbGwgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3RzIHdpdGggdGhlIGdpdmVuIEdlb0pTT04uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9seSA9IHR1cmYucG9seWdvbihbW1stNzgsIDQxXSwgWy02NywgNDFdLCBbLTY3LCA0OF0sIFstNzgsIDQ4XSwgWy03OCwgNDFdXV0pO1xuICAgICAqXG4gICAgICogdHJlZS5zZWFyY2gocG9seSk7XG4gICAgICovXG4gICAgdHJlZS5zZWFyY2ggPSBmdW5jdGlvbiAoZ2VvanNvbikge1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSByYnVzaC5wcm90b3R5cGUuc2VhcmNoLmNhbGwodGhpcywgdGhpcy50b0JCb3goZ2VvanNvbikpO1xuICAgICAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBbY29sbGlkZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI2NvbGxpc2lvbnMpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0JCb3h8RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZX0gZ2VvanNvbiBjb2xsaWRlcyB3aXRoIEdlb0pTT05cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSBhcmUgYW55IGl0ZW1zIGludGVyc2VjdGluZyB0aGUgZ2l2ZW4gR2VvSlNPTiwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHBvbHkgPSB0dXJmLnBvbHlnb24oW1tbLTc4LCA0MV0sIFstNjcsIDQxXSwgWy02NywgNDhdLCBbLTc4LCA0OF0sIFstNzgsIDQxXV1dKTtcbiAgICAgKlxuICAgICAqIHRyZWUuY29sbGlkZXMocG9seSk7XG4gICAgICovXG4gICAgdHJlZS5jb2xsaWRlcyA9IGZ1bmN0aW9uIChnZW9qc29uKSB7XG4gICAgICAgIHJldHVybiByYnVzaC5wcm90b3R5cGUuY29sbGlkZXMuY2FsbCh0aGlzLCB0aGlzLnRvQkJveChnZW9qc29uKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFthbGxdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI3NlYXJjaClcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbn0gYWxsIHRoZSBmZWF0dXJlcyBpbiBSQnVzaFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdHJlZS5hbGwoKVxuICAgICAqL1xuICAgIHRyZWUuYWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSByYnVzaC5wcm90b3R5cGUuYWxsLmNhbGwodGhpcyk7XG4gICAgICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihmZWF0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFt0b0pTT05dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI2V4cG9ydC1hbmQtaW1wb3J0KVxuICAgICAqXG4gICAgICogQHJldHVybnMge2FueX0gZXhwb3J0IGRhdGEgYXMgSlNPTiBvYmplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBleHBvcnRlZCA9IHRyZWUudG9KU09OKClcbiAgICAgKi9cbiAgICB0cmVlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJidXNoLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogW2Zyb21KU09OXShodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaCNleHBvcnQtYW5kLWltcG9ydClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBqc29uIGltcG9ydCBwcmV2aW91c2x5IGV4cG9ydGVkIGRhdGFcbiAgICAgKiBAcmV0dXJucyB7UkJ1c2h9IEdlb0pTT04gUkJ1c2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBleHBvcnRlZCA9IHtcbiAgICAgKiAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAqICAgICB7XG4gICAgICogICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAqICAgICAgIFwiZ2VvbWV0cnlcIjoge1xuICAgICAqICAgICAgICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAgICAgKiAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogWzExMCwgNTBdXG4gICAgICogICAgICAgfSxcbiAgICAgKiAgICAgICBcInByb3BlcnRpZXNcIjoge30sXG4gICAgICogICAgICAgXCJiYm94XCI6IFsxMTAsIDUwLCAxMTAsIDUwXVxuICAgICAqICAgICB9XG4gICAgICogICBdLFxuICAgICAqICAgXCJoZWlnaHRcIjogMSxcbiAgICAgKiAgIFwibGVhZlwiOiB0cnVlLFxuICAgICAqICAgXCJtaW5YXCI6IDExMCxcbiAgICAgKiAgIFwibWluWVwiOiA1MCxcbiAgICAgKiAgIFwibWF4WFwiOiAxMTAsXG4gICAgICogICBcIm1heFlcIjogNTBcbiAgICAgKiB9XG4gICAgICogdHJlZS5mcm9tSlNPTihleHBvcnRlZClcbiAgICAgKi9cbiAgICB0cmVlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgcmV0dXJuIHJidXNoLnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsIGpzb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBHZW9KU09OIHRvIHttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZfSBzY2hlbWFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCQm94fEZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV9IGdlb2pzb24gZmVhdHVyZShzKSB0byByZXRyaWV2ZSBCQm94IGZyb21cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBjb252ZXJ0ZWQgdG8ge21pblgsIG1pblksIG1heFgsIG1heFl9XG4gICAgICovXG4gICAgdHJlZS50b0JCb3ggPSBmdW5jdGlvbiAoZ2VvanNvbikge1xuICAgICAgICB2YXIgYmJveDtcbiAgICAgICAgaWYgKGdlb2pzb24uYmJveCkgYmJveCA9IGdlb2pzb24uYmJveDtcbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShnZW9qc29uKSAmJiBnZW9qc29uLmxlbmd0aCA9PT0gNCkgYmJveCA9IGdlb2pzb247XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZ2VvanNvbikgJiYgZ2VvanNvbi5sZW5ndGggPT09IDYpIGJib3ggPSBbZ2VvanNvblswXSwgZ2VvanNvblsxXSwgZ2VvanNvblszXSwgZ2VvanNvbls0XV07XG4gICAgICAgIGVsc2UgaWYgKGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnKSBiYm94ID0gdHVyZkJCb3goZ2VvanNvbik7XG4gICAgICAgIGVsc2UgaWYgKGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykgYmJveCA9IHR1cmZCQm94KGdlb2pzb24pO1xuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBnZW9qc29uJylcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluWDogYmJveFswXSxcbiAgICAgICAgICAgIG1pblk6IGJib3hbMV0sXG4gICAgICAgICAgICBtYXhYOiBiYm94WzJdLFxuICAgICAgICAgICAgbWF4WTogYmJveFszXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIHRyZWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2VvanNvblJidXNoO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGdlb2pzb25SYnVzaDtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vLyBBcnJheS5maW5kSW5kZXggUG9seWZpbGxcbkFycmF5LnByb3RvdHlwZS5maW5kSW5kZXggPVxuICBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IHx8XG4gIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWQnXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdmFyIGxpc3QgPSBPYmplY3QodGhpcyk7XG4gICAgLy8gTWFrZXMgc3VyZXMgaXMgYWx3YXlzIGhhcyBhbiBwb3NpdGl2ZSBpbnRlZ2VyIGFzIGxlbmd0aC5cbiAgICB2YXIgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDA7XG4gICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgbGlzdFtpXSwgaSwgbGlzdCkpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuLy8gQXJyYXkuZmluZCBQb2x5ZmlsbCBmb3IgSUU8MTIuXG4vLyBSZXF1ZXN0ZWQgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2dlb21hbi1pby9sZWFmbGV0LWdlb21hbi9pc3N1ZXMvMTczXG5BcnJheS5wcm90b3R5cGUuZmluZCA9XG4gIEFycmF5LnByb3RvdHlwZS5maW5kIHx8XG4gIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5wcm90b3R5cGUuZmluZCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIHZhciBsaXN0ID0gT2JqZWN0KHRoaXMpO1xuICAgIC8vIE1ha2VzIHN1cmVzIGlzIGFsd2F5cyBoYXMgYW4gcG9zaXRpdmUgaW50ZWdlciBhcyBsZW5ndGguXG4gICAgdmFyIGxlbmd0aCA9IGxpc3QubGVuZ3RoID4+PiAwO1xuICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzWzFdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBlbGVtZW50ID0gbGlzdFtpXTtcbiAgICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGVsZW1lbnQsIGksIGxpc3QpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuLy8gUG9seWZpbGwgZm9yIE9iamVjdC5hc3NpZ24oKVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZGUvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbiNQb2x5ZmlsbFxuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9ICdmdW5jdGlvbicpIHtcbiAgT2JqZWN0LmFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICBpZiAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xufVxuXG4vLyBQb2x5ZmlsbCBmb3IgRWxlbWVudC5yZW1vdmUoKVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZGUvZG9jcy9XZWIvQVBJL0NoaWxkTm9kZS9yZW1vdmUjUG9seWZpbGxcbihmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ3JlbW92ZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdGVtLCAncmVtb3ZlJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG59KShbRWxlbWVudC5wcm90b3R5cGUsIENoYXJhY3RlckRhdGEucHJvdG90eXBlLCBEb2N1bWVudFR5cGUucHJvdG90eXBlXSk7XG5cbi8vIFBvbHlmaWxsIGZvciBBcnJheS5pbmNsdWRlcygpXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kZS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmNsdWRlcyNQb2x5ZmlsbFxuaWYgKCFBcnJheS5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2luY2x1ZGVzJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAoc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7XG4gICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gMS4gTGV0IE8gYmUgPyBUb09iamVjdCh0aGlzIHZhbHVlKS5cbiAgICAgIHZhciBvID0gT2JqZWN0KHRoaXMpO1xuXG4gICAgICAvLyAyLiBMZXQgbGVuIGJlID8gVG9MZW5ndGgoPyBHZXQoTywgXCJsZW5ndGhcIikpLlxuICAgICAgdmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1xuXG4gICAgICAvLyAzLiBJZiBsZW4gaXMgMCwgcmV0dXJuIGZhbHNlLlxuICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIExldCBuIGJlID8gVG9JbnRlZ2VyKGZyb21JbmRleCkuXG4gICAgICAvLyAgICAoSWYgZnJvbUluZGV4IGlzIHVuZGVmaW5lZCwgdGhpcyBzdGVwIHByb2R1Y2VzIHRoZSB2YWx1ZSAwLilcbiAgICAgIHZhciBuID0gZnJvbUluZGV4IHwgMDtcblxuICAgICAgLy8gNS4gSWYgbiBcdTIyNjUgMCwgdGhlblxuICAgICAgLy8gIGEuIExldCBrIGJlIG4uXG4gICAgICAvLyA2LiBFbHNlIG4gPCAwLFxuICAgICAgLy8gIGEuIExldCBrIGJlIGxlbiArIG4uXG4gICAgICAvLyAgYi4gSWYgayA8IDAsIGxldCBrIGJlIDAuXG4gICAgICB2YXIgayA9IE1hdGgubWF4KG4gPj0gMCA/IG4gOiBsZW4gLSBNYXRoLmFicyhuKSwgMCk7XG5cbiAgICAgIGZ1bmN0aW9uIHNhbWVWYWx1ZVplcm8oeCwgeSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHggPT09IHkgfHxcbiAgICAgICAgICAodHlwZW9mIHggPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICB0eXBlb2YgeSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIGlzTmFOKHgpICYmXG4gICAgICAgICAgICBpc05hTih5KSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gNy4gUmVwZWF0LCB3aGlsZSBrIDwgbGVuXG4gICAgICB3aGlsZSAoayA8IGxlbikge1xuICAgICAgICAvLyBhLiBMZXQgZWxlbWVudEsgYmUgdGhlIHJlc3VsdCBvZiA/IEdldChPLCAhIFRvU3RyaW5nKGspKS5cbiAgICAgICAgLy8gYi4gSWYgU2FtZVZhbHVlWmVybyhzZWFyY2hFbGVtZW50LCBlbGVtZW50SykgaXMgdHJ1ZSwgcmV0dXJuIHRydWUuXG4gICAgICAgIGlmIChzYW1lVmFsdWVaZXJvKG9ba10sIHNlYXJjaEVsZW1lbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYy4gSW5jcmVhc2UgayBieSAxLlxuICAgICAgICBrKys7XG4gICAgICB9XG5cbiAgICAgIC8vIDguIFJldHVybiBmYWxzZVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH0pO1xufVxuIiwgIntcbiAgXCJuYW1lXCI6IFwiQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlXCIsXG4gIFwidmVyc2lvblwiOiBcIjIuMTcuMFwiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiQSBMZWFmbGV0IFBsdWdpbiBGb3IgRWRpdGluZyBHZW9tZXRyeSBMYXllcnMgaW4gTGVhZmxldCAxLjBcIixcbiAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgXCJsZWFmbGV0XCIsXG4gICAgXCJnZW9tYW5cIixcbiAgICBcInBvbHlnb24gbWFuYWdlbWVudFwiLFxuICAgIFwiZ2VvbWV0cnkgZWRpdGluZ1wiLFxuICAgIFwibWFwIGRhdGFcIixcbiAgICBcIm1hcCBvdmVybGF5XCIsXG4gICAgXCJwb2x5Z29uXCIsXG4gICAgXCJnZW9qc29uXCIsXG4gICAgXCJsZWFmbGV0LWRyYXdcIixcbiAgICBcImRhdGEtZmllbGQtZ2VvanNvblwiLFxuICAgIFwidWktbGVhZmxldC1kcmF3XCJcbiAgXSxcbiAgXCJmaWxlc1wiOiBbXG4gICAgXCJkaXN0XCJcbiAgXSxcbiAgXCJtYWluXCI6IFwiZGlzdC9sZWFmbGV0LWdlb21hbi5qc1wiLFxuICBcInR5cGVzXCI6IFwiZGlzdC9sZWFmbGV0LWdlb21hbi5kLnRzXCIsXG4gIFwiZGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcIkB0dXJmL2Jvb2xlYW4tY29udGFpbnNcIjogXCJeNi41LjBcIixcbiAgICBcIkB0dXJmL2tpbmtzXCI6IFwiXjYuNS4wXCIsXG4gICAgXCJAdHVyZi9saW5lLWludGVyc2VjdFwiOiBcIl42LjUuMFwiLFxuICAgIFwiQHR1cmYvbGluZS1zcGxpdFwiOiBcIl42LjUuMFwiLFxuICAgIFwibG9kYXNoXCI6IFwiNC4xNy4yMVwiLFxuICAgIFwicG9seWNsaXAtdHNcIjogXCJeMC4xNi41XCJcbiAgfSxcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiQHR5cGVzL2xlYWZsZXRcIjogXCJeMS43LjlcIixcbiAgICBcImNyb3NzLWVudlwiOiBcIl43LjAuM1wiLFxuICAgIFwiY3lwcmVzc1wiOiBcIjYuOS4xXCIsXG4gICAgXCJjeXByZXNzLXdhaXQtdW50aWxcIjogXCIxLjcuMVwiLFxuICAgIFwiZXNidWlsZFwiOiBcIl4wLjIwLjBcIixcbiAgICBcImVzbGludFwiOiBcIjguNTYuMFwiLFxuICAgIFwiZXNsaW50LWNvbmZpZy1haXJibmItYmFzZVwiOiBcIjE1LjAuMFwiLFxuICAgIFwiZXNsaW50LWNvbmZpZy1wcmV0dGllclwiOiBcIjkuMS4wXCIsXG4gICAgXCJlc2xpbnQtcGx1Z2luLWN5cHJlc3NcIjogXCIyLjE1LjFcIixcbiAgICBcImVzbGludC1wbHVnaW4taW1wb3J0XCI6IFwiMi4yOS4xXCIsXG4gICAgXCJodXNreVwiOiBcIl45LjAuN1wiLFxuICAgIFwibGVhZmxldFwiOiBcIjEuOS4zXCIsXG4gICAgXCJsaW50LXN0YWdlZFwiOiBcIl4xNS4yLjFcIixcbiAgICBcInByZXR0aWVyXCI6IFwiMy4yLjRcIixcbiAgICBcInByb3N0aGV0aWMtaGFuZFwiOiBcIjEuMy4xXCIsXG4gICAgXCJ0cy1ub2RlXCI6IFwiXjEwLjkuMlwiXG4gIH0sXG4gIFwicGVlckRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJsZWFmbGV0XCI6IFwiXjEuMi4wXCJcbiAgfSxcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcInN0YXJ0XCI6IFwicG5wbSBydW4gZGV2XCIsXG4gICAgXCJkZXZcIjogXCJjcm9zcy1lbnYgREVWPXRydWUgdHMtbm9kZSBidW5kbGUubWpzXCIsXG4gICAgXCJidWlsZFwiOiBcInRzLW5vZGUgYnVuZGxlLm1qc1wiLFxuICAgIFwidGVzdFwiOiBcImN5cHJlc3MgcnVuXCIsXG4gICAgXCJjeXByZXNzXCI6IFwiY3lwcmVzcyBvcGVuXCIsXG4gICAgXCJwcmVwYXJlXCI6IFwicG5wbSBydW4gYnVpbGQgJiYgaHVza3lcIixcbiAgICBcImVzbGludC1jaGVja1wiOiBcImVzbGludCAtLXByaW50LWNvbmZpZyAuIHwgZXNsaW50LWNvbmZpZy1wcmV0dGllci1jaGVja1wiLFxuICAgIFwiZXNsaW50XCI6IFwiZXNsaW50IFxcXCJ7c3JjLGN5cHJlc3MsZGVtb30vKiovKi5qc1xcXCIgLS1maXggXCIsXG4gICAgXCJwcmV0dGllclwiOiBcInByZXR0aWVyIC0td3JpdGUgXFxcIntzcmMsY3lwcmVzcyxkZW1vfS8qKi8qLntqcyxjc3N9XFxcIiAtLWxvZy1sZXZlbD13YXJuXCIsXG4gICAgXCJsaW50XCI6IFwicG5wbSBydW4gZXNsaW50ICYmIHBucG0gcnVuIHByZXR0aWVyXCJcbiAgfSxcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdDovL2dpdGh1Yi5jb20vZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLmdpdFwiXG4gIH0sXG4gIFwiYXV0aG9yXCI6IHtcbiAgICBcIm5hbWVcIjogXCJHZW9tYW4uaW9cIixcbiAgICBcImVtYWlsXCI6IFwic2FsZXNAZ2VvbWFuLmlvXCIsXG4gICAgXCJ1cmxcIjogXCJodHRwOi8vZ2VvbWFuLmlvXCJcbiAgfSxcbiAgXCJsaWNlbnNlXCI6IFwiTUlUXCIsXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuL2lzc3Vlc1wiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dlb21hbi5pb1wiLFxuICBcInByZXR0aWVyXCI6IHtcbiAgICBcInRyYWlsaW5nQ29tbWFcIjogXCJlczVcIixcbiAgICBcInRhYldpZHRoXCI6IDIsXG4gICAgXCJzZW1pXCI6IHRydWUsXG4gICAgXCJzaW5nbGVRdW90ZVwiOiB0cnVlXG4gIH0sXG4gIFwibGludC1zdGFnZWRcIjoge1xuICAgIFwiKi5qc1wiOiBcImVzbGludCBcXFwie3NyYyxjeXByZXNzLGRlbW99LyoqLyouanNcXFwiIC0tZml4XCIsXG4gICAgXCIqLntqcyxjc3MsbWR9XCI6IFwicHJldHRpZXIgLS13cml0ZSBcXFwie3NyYyxjeXByZXNzLGRlbW99LyoqLyoue2pzLGNzc31cXFwiXCJcbiAgfVxufVxuIiwgImltcG9ydCBtZXJnZSBmcm9tICdsb2Rhc2gvbWVyZ2UnO1xuaW1wb3J0IHRyYW5zbGF0aW9ucyBmcm9tICcuLi9hc3NldHMvdHJhbnNsYXRpb25zJztcbmltcG9ydCBHbG9iYWxFZGl0TW9kZSBmcm9tICcuL01peGlucy9Nb2Rlcy9Nb2RlLkVkaXQnO1xuaW1wb3J0IEdsb2JhbERyYWdNb2RlIGZyb20gJy4vTWl4aW5zL01vZGVzL01vZGUuRHJhZyc7XG5pbXBvcnQgR2xvYmFsUmVtb3ZhbE1vZGUgZnJvbSAnLi9NaXhpbnMvTW9kZXMvTW9kZS5SZW1vdmFsJztcbmltcG9ydCBHbG9iYWxSb3RhdGVNb2RlIGZyb20gJy4vTWl4aW5zL01vZGVzL01vZGUuUm90YXRlJztcbmltcG9ydCBFdmVudE1peGluIGZyb20gJy4vTWl4aW5zL0V2ZW50cyc7XG5pbXBvcnQgY3JlYXRlS2V5Ym9hcmRNaXhpbnMgZnJvbSAnLi9NaXhpbnMvS2V5Ym9hcmQnO1xuaW1wb3J0IHsgZ2V0UmVuZGVyZXIgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5jb25zdCBNYXAgPSBMLkNsYXNzLmV4dGVuZCh7XG4gIGluY2x1ZGVzOiBbXG4gICAgR2xvYmFsRWRpdE1vZGUsXG4gICAgR2xvYmFsRHJhZ01vZGUsXG4gICAgR2xvYmFsUmVtb3ZhbE1vZGUsXG4gICAgR2xvYmFsUm90YXRlTW9kZSxcbiAgICBFdmVudE1peGluLFxuICBdLFxuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMubWFwID0gbWFwO1xuICAgIHRoaXMuRHJhdyA9IG5ldyBMLlBNLkRyYXcobWFwKTtcbiAgICB0aGlzLlRvb2xiYXIgPSBuZXcgTC5QTS5Ub29sYmFyKG1hcCk7XG4gICAgdGhpcy5LZXlib2FyZCA9IGNyZWF0ZUtleWJvYXJkTWl4aW5zKCk7XG5cbiAgICB0aGlzLmdsb2JhbE9wdGlvbnMgPSB7XG4gICAgICBzbmFwcGFibGU6IHRydWUsXG4gICAgICBsYXllckdyb3VwOiB1bmRlZmluZWQsXG4gICAgICBzbmFwcGluZ09yZGVyOiBbXG4gICAgICAgICdNYXJrZXInLFxuICAgICAgICAnQ2lyY2xlTWFya2VyJyxcbiAgICAgICAgJ0NpcmNsZScsXG4gICAgICAgICdMaW5lJyxcbiAgICAgICAgJ1BvbHlnb24nLFxuICAgICAgICAnUmVjdGFuZ2xlJyxcbiAgICAgIF0sXG4gICAgICBwYW5lczoge1xuICAgICAgICB2ZXJ0ZXhQYW5lOiAnbWFya2VyUGFuZScsXG4gICAgICAgIGxheWVyUGFuZTogJ292ZXJsYXlQYW5lJyxcbiAgICAgICAgbWFya2VyUGFuZTogJ21hcmtlclBhbmUnLFxuICAgICAgfSxcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICB9O1xuXG4gICAgdGhpcy5LZXlib2FyZC5faW5pdEtleUxpc3RlbmVyKG1hcCk7XG4gIH0sXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZWZhdWx0LXBhcmFtLWxhc3RcbiAgc2V0TGFuZyhsYW5nID0gJ2VuJywgdCwgZmFsbGJhY2sgPSAnZW4nKSB7XG4gICAgY29uc3Qgb2xkTGFuZyA9IEwuUE0uYWN0aXZlTGFuZztcbiAgICBpZiAodCkge1xuICAgICAgdHJhbnNsYXRpb25zW2xhbmddID0gbWVyZ2UodHJhbnNsYXRpb25zW2ZhbGxiYWNrXSwgdCk7XG4gICAgfVxuXG4gICAgTC5QTS5hY3RpdmVMYW5nID0gbGFuZztcbiAgICB0aGlzLm1hcC5wbS5Ub29sYmFyLnJlaW5pdCgpO1xuICAgIHRoaXMuX2ZpcmVMYW5nQ2hhbmdlKG9sZExhbmcsIGxhbmcsIGZhbGxiYWNrLCB0cmFuc2xhdGlvbnNbbGFuZ10pO1xuICB9LFxuICBhZGRDb250cm9scyhvcHRpb25zKSB7XG4gICAgdGhpcy5Ub29sYmFyLmFkZENvbnRyb2xzKG9wdGlvbnMpO1xuICB9LFxuICByZW1vdmVDb250cm9scygpIHtcbiAgICB0aGlzLlRvb2xiYXIucmVtb3ZlQ29udHJvbHMoKTtcbiAgfSxcbiAgdG9nZ2xlQ29udHJvbHMoKSB7XG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUNvbnRyb2xzKCk7XG4gIH0sXG4gIGNvbnRyb2xzVmlzaWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5Ub29sYmFyLmlzVmlzaWJsZTtcbiAgfSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlZmF1bHQtcGFyYW0tbGFzdFxuICBlbmFibGVEcmF3KHNoYXBlID0gJ1BvbHlnb24nLCBvcHRpb25zKSB7XG4gICAgLy8gYmFja3dhcmRzIGNvbXBhdGlibGUsIHJlbW92ZSBhZnRlciAzLjBcbiAgICBpZiAoc2hhcGUgPT09ICdQb2x5Jykge1xuICAgICAgc2hhcGUgPSAnUG9seWdvbic7XG4gICAgfVxuXG4gICAgdGhpcy5EcmF3LmVuYWJsZShzaGFwZSwgb3B0aW9ucyk7XG4gIH0sXG4gIGRpc2FibGVEcmF3KHNoYXBlID0gJ1BvbHlnb24nKSB7XG4gICAgLy8gYmFja3dhcmRzIGNvbXBhdGlibGUsIHJlbW92ZSBhZnRlciAzLjBcbiAgICBpZiAoc2hhcGUgPT09ICdQb2x5Jykge1xuICAgICAgc2hhcGUgPSAnUG9seWdvbic7XG4gICAgfVxuXG4gICAgdGhpcy5EcmF3LmRpc2FibGUoc2hhcGUpO1xuICB9LFxuICAvLyBvcHRpb25zTW9kaWZpZXIgZm9yIHNwZWNpYWwgb3B0aW9ucyBsaWtlIGlnbm9yZVNoYXBlcyBvciBtZXJnZVxuICBzZXRQYXRoT3B0aW9ucyhvcHRpb25zLCBvcHRpb25zTW9kaWZpZXIgPSB7fSkge1xuICAgIGNvbnN0IGlnbm9yZSA9IG9wdGlvbnNNb2RpZmllci5pZ25vcmVTaGFwZXMgfHwgW107XG4gICAgY29uc3QgbWVyZ2VPcHRpb25zID0gb3B0aW9uc01vZGlmaWVyLm1lcmdlIHx8IGZhbHNlO1xuXG4gICAgdGhpcy5tYXAucG0uRHJhdy5zaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgIGlmIChpZ25vcmUuaW5kZXhPZihzaGFwZSkgPT09IC0xKSB7XG4gICAgICAgIHRoaXMubWFwLnBtLkRyYXdbc2hhcGVdLnNldFBhdGhPcHRpb25zKG9wdGlvbnMsIG1lcmdlT3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgZ2V0R2xvYmFsT3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5nbG9iYWxPcHRpb25zO1xuICB9LFxuICBzZXRHbG9iYWxPcHRpb25zKG8pIHtcbiAgICAvLyBtZXJnZSBwYXNzZWQgYW5kIGV4aXN0aW5nIG9wdGlvbnNcbiAgICBjb25zdCBvcHRpb25zID0gbWVyZ2UodGhpcy5nbG9iYWxPcHRpb25zLCBvKTtcblxuICAgIC8vIFRPRE86IHJlbW92ZSB3aXRoIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgIGlmIChvcHRpb25zLmVkaXRhYmxlKSB7XG4gICAgICBvcHRpb25zLnJlc2l6ZWFibGVDaXJjbGVNYXJrZXIgPSBvcHRpb25zLmVkaXRhYmxlO1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZWRpdGFibGU7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgc3dpdGNoZWQgdGhlIGVkaXRhYmxlIG1vZGUgZm9yIENpcmNsZU1hcmtlciB3aGlsZSBkcmF3aW5nXG4gICAgbGV0IHJlZW5hYmxlQ2lyY2xlTWFya2VyID0gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgdGhpcy5tYXAucG0uRHJhdy5DaXJjbGVNYXJrZXIuZW5hYmxlZCgpICYmXG4gICAgICAhIXRoaXMubWFwLnBtLkRyYXcuQ2lyY2xlTWFya2VyLm9wdGlvbnMucmVzaXplYWJsZUNpcmNsZU1hcmtlciAhPT1cbiAgICAgICAgISFvcHRpb25zLnJlc2l6ZWFibGVDaXJjbGVNYXJrZXJcbiAgICApIHtcbiAgICAgIHRoaXMubWFwLnBtLkRyYXcuQ2lyY2xlTWFya2VyLmRpc2FibGUoKTtcbiAgICAgIHJlZW5hYmxlQ2lyY2xlTWFya2VyID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gY2hlY2sgaWYgc3dpdGNoZWQgdGhlIGVkaXRhYmxlIG1vZGUgZm9yIENpcmNsZSB3aGlsZSBkcmF3aW5nXG4gICAgbGV0IHJlZW5hYmxlQ2lyY2xlID0gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgdGhpcy5tYXAucG0uRHJhdy5DaXJjbGUuZW5hYmxlZCgpICYmXG4gICAgICAhIXRoaXMubWFwLnBtLkRyYXcuQ2lyY2xlLm9wdGlvbnMucmVzaXphYmxlQ2lyY2xlICE9PVxuICAgICAgICAhIW9wdGlvbnMucmVzaXphYmxlQ2lyY2xlXG4gICAgKSB7XG4gICAgICB0aGlzLm1hcC5wbS5EcmF3LkNpcmNsZS5kaXNhYmxlKCk7XG4gICAgICByZWVuYWJsZUNpcmNsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gZW5hYmxlIG9wdGlvbnMgZm9yIERyYXdpbmcgU2hhcGVzXG4gICAgdGhpcy5tYXAucG0uRHJhdy5zaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgIHRoaXMubWFwLnBtLkRyYXdbc2hhcGVdLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICBpZiAocmVlbmFibGVDaXJjbGVNYXJrZXIpIHtcbiAgICAgIHRoaXMubWFwLnBtLkRyYXcuQ2lyY2xlTWFya2VyLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIGlmIChyZWVuYWJsZUNpcmNsZSkge1xuICAgICAgdGhpcy5tYXAucG0uRHJhdy5DaXJjbGUuZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gZW5hYmxlIG9wdGlvbnMgZm9yIEVkaXRpbmdcbiAgICBjb25zdCBsYXllcnMgPSBMLlBNLlV0aWxzLmZpbmRMYXllcnModGhpcy5tYXApO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgbGF5ZXIucG0uc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9KTtcblxuICAgIHRoaXMubWFwLmZpcmUoJ3BtOmdsb2JhbG9wdGlvbnNjaGFuZ2VkJyk7XG5cbiAgICAvLyBzdG9yZSBvcHRpb25zXG4gICAgdGhpcy5nbG9iYWxPcHRpb25zID0gb3B0aW9ucztcblxuICAgIC8vIGFwcGx5IHRoZSBvcHRpb25zIChhY3R1YWxseSB0cmlnZ2VyIHRoZSBmdW5jdGlvbmFsaXR5KVxuICAgIHRoaXMuYXBwbHlHbG9iYWxPcHRpb25zKCk7XG4gIH0sXG4gIGFwcGx5R2xvYmFsT3B0aW9ucygpIHtcbiAgICBjb25zdCBsYXllcnMgPSBMLlBNLlV0aWxzLmZpbmRMYXllcnModGhpcy5tYXApO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKGxheWVyLnBtLmVuYWJsZWQoKSkge1xuICAgICAgICBsYXllci5wbS5hcHBseU9wdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgZ2xvYmFsRHJhd01vZGVFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuRHJhdy5nZXRBY3RpdmVTaGFwZSgpO1xuICB9LFxuICBnbG9iYWxDdXRNb2RlRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLkRyYXcuQ3V0LmVuYWJsZWQoKTtcbiAgfSxcbiAgZW5hYmxlR2xvYmFsQ3V0TW9kZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuRHJhdy5DdXQuZW5hYmxlKG9wdGlvbnMpO1xuICB9LFxuICB0b2dnbGVHbG9iYWxDdXRNb2RlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5EcmF3LkN1dC50b2dnbGUob3B0aW9ucyk7XG4gIH0sXG4gIGRpc2FibGVHbG9iYWxDdXRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLkRyYXcuQ3V0LmRpc2FibGUoKTtcbiAgfSxcbiAgZ2V0R2VvbWFuTGF5ZXJzKGFzR3JvdXAgPSBmYWxzZSkge1xuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCk7XG4gICAgaWYgKCFhc0dyb3VwKSB7XG4gICAgICByZXR1cm4gbGF5ZXJzO1xuICAgIH1cbiAgICBjb25zdCBncm91cCA9IEwuZmVhdHVyZUdyb3VwKCk7XG4gICAgZ3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGdyb3VwLmFkZExheWVyKGxheWVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZ3JvdXA7XG4gIH0sXG4gIGdldEdlb21hbkRyYXdMYXllcnMoYXNHcm91cCA9IGZhbHNlKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKS5maWx0ZXIoXG4gICAgICAobCkgPT4gbC5fZHJhd25CeUdlb21hbiA9PT0gdHJ1ZVxuICAgICk7XG4gICAgaWYgKCFhc0dyb3VwKSB7XG4gICAgICByZXR1cm4gbGF5ZXJzO1xuICAgIH1cbiAgICBjb25zdCBncm91cCA9IEwuZmVhdHVyZUdyb3VwKCk7XG4gICAgZ3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGdyb3VwLmFkZExheWVyKGxheWVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZ3JvdXA7XG4gIH0sXG4gIC8vIHJldHVybnMgdGhlIG1hcCBpbnN0YW5jZSBieSBkZWZhdWx0IG9yIGEgbGF5ZXJncm91cCBpcyBzZXQgdGhyb3VnaCBnbG9iYWwgb3B0aW9uc1xuICBfZ2V0Q29udGFpbmluZ0xheWVyKCkge1xuICAgIHJldHVybiB0aGlzLmdsb2JhbE9wdGlvbnMubGF5ZXJHcm91cCAmJlxuICAgICAgdGhpcy5nbG9iYWxPcHRpb25zLmxheWVyR3JvdXAgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXBcbiAgICAgID8gdGhpcy5nbG9iYWxPcHRpb25zLmxheWVyR3JvdXBcbiAgICAgIDogdGhpcy5tYXA7XG4gIH0sXG4gIF9pc0NSU1NpbXBsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAub3B0aW9ucy5jcnMgPT09IEwuQ1JTLlNpbXBsZTtcbiAgfSxcbiAgLy8gaW4gQ2FudmFzIG1vZGUgd2UgbmVlZCB0byBjb252ZXJ0IHRvdWNoLSBhbmQgcG9pbnRlcmV2ZW50cyAoSUUpIHRvIG1vdXNlZXZlbnRzLCBiZWNhdXNlIExlYWZsZXQgZG9uJ3Qgc3VwcG9ydCB0aGVtLlxuICBfdG91Y2hFdmVudENvdW50ZXI6IDAsXG4gIF9hZGRUb3VjaEV2ZW50cyhlbG0pIHtcbiAgICBpZiAodGhpcy5fdG91Y2hFdmVudENvdW50ZXIgPT09IDApIHtcbiAgICAgIEwuRG9tRXZlbnQub24oZWxtLCAndG91Y2htb3ZlJywgdGhpcy5fY2FudmFzVG91Y2hNb3ZlLCB0aGlzKTtcbiAgICAgIEwuRG9tRXZlbnQub24oXG4gICAgICAgIGVsbSxcbiAgICAgICAgJ3RvdWNoc3RhcnQgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLFxuICAgICAgICB0aGlzLl9jYW52YXNUb3VjaENsaWNrLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl90b3VjaEV2ZW50Q291bnRlciArPSAxO1xuICB9LFxuICBfcmVtb3ZlVG91Y2hFdmVudHMoZWxtKSB7XG4gICAgaWYgKHRoaXMuX3RvdWNoRXZlbnRDb3VudGVyID09PSAxKSB7XG4gICAgICBMLkRvbUV2ZW50Lm9mZihlbG0sICd0b3VjaG1vdmUnLCB0aGlzLl9jYW52YXNUb3VjaE1vdmUsIHRoaXMpO1xuICAgICAgTC5Eb21FdmVudC5vZmYoXG4gICAgICAgIGVsbSxcbiAgICAgICAgJ3RvdWNoc3RhcnQgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLFxuICAgICAgICB0aGlzLl9jYW52YXNUb3VjaENsaWNrLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl90b3VjaEV2ZW50Q291bnRlciA9XG4gICAgICB0aGlzLl90b3VjaEV2ZW50Q291bnRlciA8PSAxID8gMCA6IHRoaXMuX3RvdWNoRXZlbnRDb3VudGVyIC0gMTtcbiAgfSxcbiAgX2NhbnZhc1RvdWNoTW92ZShlKSB7XG4gICAgZ2V0UmVuZGVyZXIodGhpcy5tYXApLl9vbk1vdXNlTW92ZSh0aGlzLl9jcmVhdGVNb3VzZUV2ZW50KCdtb3VzZW1vdmUnLCBlKSk7XG4gIH0sXG4gIF9jYW52YXNUb3VjaENsaWNrKGUpIHtcbiAgICBsZXQgdHlwZSA9ICcnO1xuICAgIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCBlLnR5cGUgPT09ICdwb2ludGVyZG93bicpIHtcbiAgICAgIHR5cGUgPSAnbW91c2Vkb3duJztcbiAgICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICdwb2ludGVydXAnKSB7XG4gICAgICB0eXBlID0gJ21vdXNldXAnO1xuICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSAndG91Y2hjYW5jZWwnIHx8IGUudHlwZSA9PT0gJ3BvaW50ZXJjYW5jZWwnKSB7XG4gICAgICB0eXBlID0gJ21vdXNldXAnO1xuICAgIH1cbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZ2V0UmVuZGVyZXIodGhpcy5tYXApLl9vbkNsaWNrKHRoaXMuX2NyZWF0ZU1vdXNlRXZlbnQodHlwZSwgZSkpO1xuICB9LFxuICBfY3JlYXRlTW91c2VFdmVudCh0eXBlLCBlKSB7XG4gICAgbGV0IG1vdXNlRXZlbnQ7XG4gICAgY29uc3QgdG91Y2hFdnQgPSBlLnRvdWNoZXNbMF0gfHwgZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICB0cnkge1xuICAgICAgbW91c2VFdmVudCA9IG5ldyBNb3VzZUV2ZW50KHR5cGUsIHtcbiAgICAgICAgYnViYmxlczogZS5idWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlOiBlLmNhbmNlbGFibGUsXG4gICAgICAgIHZpZXc6IGUudmlldyxcbiAgICAgICAgZGV0YWlsOiB0b3VjaEV2dC5kZXRhaWwsXG4gICAgICAgIHNjcmVlblg6IHRvdWNoRXZ0LnNjcmVlblgsXG4gICAgICAgIHNjcmVlblk6IHRvdWNoRXZ0LnNjcmVlblksXG4gICAgICAgIGNsaWVudFg6IHRvdWNoRXZ0LmNsaWVudFgsXG4gICAgICAgIGNsaWVudFk6IHRvdWNoRXZ0LmNsaWVudFksXG4gICAgICAgIGN0cmxLZXk6IGUuY3RybEtleSxcbiAgICAgICAgYWx0S2V5OiBlLmFsdEtleSxcbiAgICAgICAgc2hpZnRLZXk6IGUuc2hpZnRLZXksXG4gICAgICAgIG1ldGFLZXk6IGUubWV0YUtleSxcbiAgICAgICAgYnV0dG9uOiBlLmJ1dHRvbixcbiAgICAgICAgcmVsYXRlZFRhcmdldDogZS5yZWxhdGVkVGFyZ2V0LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIG1vdXNlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgIG1vdXNlRXZlbnQuaW5pdE1vdXNlRXZlbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGUuYnViYmxlcyxcbiAgICAgICAgZS5jYW5jZWxhYmxlLFxuICAgICAgICBlLnZpZXcsXG4gICAgICAgIHRvdWNoRXZ0LmRldGFpbCxcbiAgICAgICAgdG91Y2hFdnQuc2NyZWVuWCxcbiAgICAgICAgdG91Y2hFdnQuc2NyZWVuWSxcbiAgICAgICAgdG91Y2hFdnQuY2xpZW50WCxcbiAgICAgICAgdG91Y2hFdnQuY2xpZW50WSxcbiAgICAgICAgZS5jdHJsS2V5LFxuICAgICAgICBlLmFsdEtleSxcbiAgICAgICAgZS5zaGlmdEtleSxcbiAgICAgICAgZS5tZXRhS2V5LFxuICAgICAgICBlLmJ1dHRvbixcbiAgICAgICAgZS5yZWxhdGVkVGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbW91c2VFdmVudDtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBNYXA7XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiQ2xpY2sgdG8gcGxhY2UgbWFya2VyXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIkNsaWNrIHRvIHBsYWNlIGZpcnN0IHZlcnRleFwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiQ2xpY2sgdG8gY29udGludWUgZHJhd2luZ1wiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkNsaWNrIGFueSBleGlzdGluZyBtYXJrZXIgdG8gZmluaXNoXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQ2xpY2sgZmlyc3QgbWFya2VyIHRvIGZpbmlzaFwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIkNsaWNrIHRvIGZpbmlzaFwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJDbGljayB0byBwbGFjZSBjaXJjbGUgY2VudGVyXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJDbGljayB0byBmaW5pc2ggY2lyY2xlXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIkNsaWNrIHRvIHBsYWNlIGNpcmNsZSBtYXJrZXJcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIkNsaWNrIHRvIHBsYWNlIHRleHRcIixcbiAgICBcInNlbGVjdEZpcnN0TGF5ZXJGb3JcIjogXCJTZWxlY3QgZmlyc3QgbGF5ZXIgZm9yIHthY3Rpb259XCIsXG4gICAgXCJzZWxlY3RTZWNvbmRMYXllckZvclwiOiBcIlNlbGVjdCBzZWNvbmQgbGF5ZXIgZm9yIHthY3Rpb259XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIkZpbmlzaFwiLFxuICAgIFwiY2FuY2VsXCI6IFwiQ2FuY2VsXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiUmVtb3ZlIExhc3QgVmVydGV4XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIkRyYXcgTWFya2VyXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRyYXcgUG9seWdvbnNcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRHJhdyBQb2x5bGluZVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIkRyYXcgQ2lyY2xlXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIkRyYXcgUmVjdGFuZ2xlXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWRpdCBMYXllcnNcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJEcmFnIExheWVyc1wiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiQ3V0IExheWVyc1wiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiUmVtb3ZlIExheWVyc1wiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIkRyYXcgQ2lyY2xlIE1hcmtlclwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJTbmFwIGRyYWdnZWQgbWFya2VyIHRvIG90aGVyIGxheWVycyBhbmQgdmVydGljZXNcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJQaW4gc2hhcmVkIHZlcnRpY2VzIHRvZ2V0aGVyXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJSb3RhdGUgTGF5ZXJzXCIsXG4gICAgXCJkcmF3VGV4dEJ1dHRvblwiOiBcIkRyYXcgVGV4dFwiLFxuICAgIFwic2NhbGVCdXR0b25cIjogXCJTY2FsZSBMYXllcnNcIixcbiAgICBcImF1dG9UcmFjaW5nQnV0dG9uXCI6IFwiQXV0byB0cmFjZSBMaW5lXCIsXG4gICAgXCJzbmFwR3VpZGVzQnV0dG9uXCI6IFwiU2hvdyBTbmFwR3VpZGVzXCIsXG4gICAgXCJ1bmlvbkJ1dHRvblwiOiBcIlVuaW9uIGxheWVyc1wiLFxuICAgIFwiZGlmZmVyZW5jZUJ1dHRvblwiOiBcIlN1YnRyYWN0IGxheWVyc1wiXG4gIH0sXG4gIFwibWVhc3VyZW1lbnRzXCI6IHtcbiAgICBcInRvdGFsTGVuZ3RoXCI6IFwiTGVuZ3RoXCIsXG4gICAgXCJzZWdtZW50TGVuZ3RoXCI6IFwiU2VnbWVudCBsZW5ndGhcIixcbiAgICBcImFyZWFcIjogXCJBcmVhXCIsXG4gICAgXCJyYWRpdXNcIjogXCJSYWRpdXNcIixcbiAgICBcInBlcmltZXRlclwiOiBcIlBlcmltZXRlclwiLFxuICAgIFwiaGVpZ2h0XCI6IFwiSGVpZ2h0XCIsXG4gICAgXCJ3aWR0aFwiOiBcIldpZHRoXCIsXG4gICAgXCJjb29yZGluYXRlc1wiOiBcIlBvc2l0aW9uXCIsXG4gICAgXCJjb29yZGluYXRlc01hcmtlclwiOiBcIlBvc2l0aW9uIE1hcmtlclwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJQbGF0emllcmUgZGVuIE1hcmtlciBtaXQgS2xpY2tcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiUGxhdHppZXJlIGRlbiBlcnN0ZW4gTWFya2VyIG1pdCBLbGlja1wiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2xpY2tlLCB1bSB3ZWl0ZXIgenUgemVpY2huZW5cIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJCZWVuZGUgbWl0IEtsaWNrIGF1ZiBleGlzdGllcmVuZGVuIE1hcmtlclwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIkJlZW5kZSBtaXQgS2xpY2sgYXVmIGVyc3RlbiBNYXJrZXJcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJCZWVuZGUgbWl0IEtsaWNrXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlBsYXR6aWVyZSBkYXMgS3JlaXN6ZW50cnVtIG1pdCBLbGlja1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiQmVlbmRlIGRlbiBLcmVpcyBtaXQgS2xpY2tcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiUGxhdHppZXJlIGRlbiBLcmVpc21hcmtlciBtaXQgS2xpY2tcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIlBsYXR6aWVyZSBkZW4gVGV4dCBtaXQgS2xpY2tcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiQmVlbmRlblwiLFxuICAgIFwiY2FuY2VsXCI6IFwiQWJicmVjaGVuXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiTGV0enRlbiBWZXJ0ZXggbFx1MDBGNnNjaGVuXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIk1hcmtlciB6ZWljaG5lblwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJQb2x5Z29uIHplaWNobmVuXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlBvbHlsaW5lIHplaWNobmVuXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiS3JlaXMgemVpY2huZW5cIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiUmVjaHRlY2sgemVpY2huZW5cIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJMYXllciBlZGl0aWVyZW5cIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJMYXllciBiZXdlZ2VuXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJMYXllciBzY2huZWlkZW5cIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIkxheWVyIGxcdTAwRjZzY2hlblwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIktyZWlzbWFya2VyIHplaWNobmVuXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkJld2VndGVyIExheWVyIGFuIGFuZGVyZSBMYXllciBvZGVyIFZlcnRleGUgZWluaGFja2VuXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiVmVydGV4ZSBhbiBkZXIgZ2xlaWNoZW4gUG9zaXRpb24gdmVya25cdTAwRkNwZmVuXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJMYXllciBkcmVoZW5cIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiVGV4dCB6ZWljaG5lblwiLFxuICAgIFwic2NhbGVCdXR0b25cIjogXCJMYXllciBza2FsaWVyZW5cIixcbiAgICBcImF1dG9UcmFjaW5nQnV0dG9uXCI6IFwiTGluaWUgYXV0b21hdGlzY2ggbmFjaHplaWNoZW5cIlxuICB9LFxuICBcIm1lYXN1cmVtZW50c1wiOiB7XG4gICAgXCJ0b3RhbExlbmd0aFwiOiBcIkxcdTAwRTRuZ2VcIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJTZWdtZW50IExcdTAwRTRuZ2VcIixcbiAgICBcImFyZWFcIjogXCJGbFx1MDBFNGNoZVwiLFxuICAgIFwicmFkaXVzXCI6IFwiUmFkaXVzXCIsXG4gICAgXCJwZXJpbWV0ZXJcIjogXCJVbWZhbmdcIixcbiAgICBcImhlaWdodFwiOiBcIkhcdTAwRjZoZVwiLFxuICAgIFwid2lkdGhcIjogXCJCcmVpdGVcIixcbiAgICBcImNvb3JkaW5hdGVzXCI6IFwiUG9zaXRpb25cIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiUG9zaXRpb24gTWFya2VyXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkNsaWNjYSBwZXIgcG9zaXppb25hcmUgdW4gTWFya2VyXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIkNsaWNjYSBwZXIgcG9zaXppb25hcmUgaWwgcHJpbW8gdmVydGljZVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiQ2xpY2NhIHBlciBjb250aW51YXJlIGEgZGlzZWduYXJlXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiQ2xpY2NhIHF1YWxzaWFzaSBtYXJrZXIgZXNpc3RlbnRlIHBlciB0ZXJtaW5hcmVcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJDbGljY2EgaWwgcHJpbW8gbWFya2VyIHBlciB0ZXJtaW5hcmVcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJDbGljY2EgcGVyIHRlcm1pbmFyZVwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJDbGljY2EgcGVyIHBvc2l6aW9uYXJlIGlsIHB1bnRvIGNlbnRyYWxlIGRlbCBjZXJjaGlvXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJDbGljY2EgcGVyIHRlcm1pbmFyZSBpbCBjZXJjaGlvXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIkNsaWNjYSBwZXIgcG9zaXppb25hcmUgdW4gTWFya2VyIGRlbCBjaGVyY2hpb1wiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJUZXJtaW5hXCIsXG4gICAgXCJjYW5jZWxcIjogXCJBbm51bGxhXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiUmltdW92aSBsJ3VsdGltbyB2ZXJ0aWNlXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIkRpc2VnbmEgTWFya2VyXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRpc2VnbmEgUG9saWdvbmlcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGlzZWduYSBQb2xpbGluZWFcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEaXNlZ25hIENlcmNoaW9cIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGlzZWduYSBSZXR0YW5nb2xvXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiTW9kaWZpY2EgTGl2ZWxsaVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlNwb3N0YSBMaXZlbGxpXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJSaXRhZ2xpYSBMaXZlbGxpXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJFbGltaW5hIExpdmVsbGlcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJEaXNlZ25hIE1hcmtlciBkZWwgQ2VyY2hpb1wiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJTbmFwIGhhIHRyYXNjaW5hdG8gaWwgcGVubmFyZWxsbyBzdSBhbHRyaSBzdHJhdGkgZSB2ZXJ0aWNpXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiUGluIGNvbmRpdmlzbyB2ZXJ0aWNpIGluc2llbWVcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlJ1b3RhIGxpdmVsbG9cIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiS2xpayB1bnR1ayBtZW5lbXBhdGthbiBtYXJrZXJcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpayB1bnR1ayBtZW5lbXBhdGthbiB2ZXJ0ZXggcGVydGFtYVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2xpayB1bnR1ayBtZW5lcnVza2FuIGRpZ2l0YXNpXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiS2xpayBwYWRhIHNlbWJhcmFuZyBtYXJrZXIgeWFuZyBhZGEgdW50dWsgbWVuZ2FraGlyaVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIktsaWsgbWFya2VyIHBlcnRhbWEgdW50dWsgbWVuZ2FraGlyaVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIktsaWsgdW50dWsgbWVuZ2FraGlyaVwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJLbGlrIHVudHVrIG1lbmVtcGF0a2FuIHRpdGlrIHB1c2F0IGxpbmdrYXJhblwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiS2xpayB1bnR1ayBtZW5nYWtoaXJpIGxpbmdrYXJhblwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLbGlrIHVudHVrIG1lbmVtcGF0a2FuIHBlbmFuZGEgbGluZ2thcmFublwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJTZWxlc2FpXCIsXG4gICAgXCJjYW5jZWxcIjogXCJCYXRhbFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIkhpbGFuZ2thbiBWZXJ0ZXggVGVyYWtoaXJcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiRGlnaXRhc2kgTWFya2VyXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRpZ2l0YXNpIFBvbHlnb25cIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGlnaXRhc2kgUG9seWxpbmVcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEaWdpdGFzaSBMaW5na2FyYW5cIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGlnaXRhc2kgU2VnaSBFbXBhdFwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkVkaXQgTGF5ZXJcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJHZXNlciBMYXllclwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiUG90b25nIExheWVyXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJIaWxhbmdrYW4gTGF5ZXJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJEaWdpdGFzaSBQZW5hbmRhIExpbmdrYXJhblwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJKZXByZXRrYW4gcGVuYW5kYSB5YW5nIGRpdGFyaWsga2UgbGFwaXNhbiBkYW4gc2ltcHVsIGxhaW5cIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJTZW1hdGthbiBzaW1wdWwgYmVyc2FtYSBiZXJzYW1hXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJQdXRhciBsYXBpc2FuXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkFkYXVnXHUwMTAzIHVuIHB1bmN0XCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIkFwYXNcdTAxMDMgYWljaSBwZW50cnUgYSBhZFx1MDEwM3VnYSBwcmltdWwgVmVydGV4XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJBcGFzXHUwMTAzIGFpY2kgcGVudHJ1IGEgY29udGludWEgZGVzZW51bFwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkFwYXNcdTAxMDMgcGUgb3JpY2Ugb2JpZWN0IHBlbnRydSBhIGZpbmlzYSBkZXNlbnVsXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQXBhc1x1MDEwMyBwZSBwcmltdWwgb2JpZWN0IHBlbnRydSBhIGZpbmlzYVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIkFwYXNcdTAxMDMgcGVudHJ1IGEgZmluaXNhXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkFwYXNcdTAxMDMgcGVudHJ1IGEgZGVzZW5hIHVuIGNlcmNcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIkFwYXNcdTAxMDMgcGVudHJ1IGEgZmluaXNhIHVuIGNlcmNcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiQWRhdWdcdTAxMDMgdW4gcHVuY3RcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiVGVybWluXHUwMTAzXCIsXG4gICAgXCJjYW5jZWxcIjogXCJBbnVsZWF6XHUwMTAzXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHUwMjE4dGVyZ2UgdWx0aW11bCBWZXJ0ZXhcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiQWRhdWdcdTAxMDMgbyBidWxpblx1MDEwM1wiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJEZXNlbmVhelx1MDEwMyB1biBwb2xpZ29uXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIkRlc2VuZWF6XHUwMTAzIG8gbGluaWVcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEZXNlbmVhelx1MDEwMyB1biBjZXJjXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIkRlc2VuZWF6XHUwMTAzIHVuIGRyZXB0dW5naGlcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJFZGl0ZWF6XHUwMTAzIHN0cmF0dXJpbGVcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJNdXRcdTAxMDMgc3RyYXR1cmlsZVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiVGFpZSBzdHJhdHVyaWxlXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTAyMTh0ZXJnZSBzdHJhdHVyaWxlXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGVzZW5lYXpcdTAxMDMgbWFyY2F0b3J1bCBjZXJjdWx1aVwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJGaXhhXHUwMjFCaSBtYXJjYXRvcnVsIGdsaXNhdCBwZSBhbHRlIHN0cmF0dXJpIFx1MDIxOWkgdlx1MDBFMnJmdXJpXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiRml4YVx1MDIxQmkgdlx1MDBFMnJmdXJpbGUgcGFydGFqYXRlIFx1MDBFRW1wcmV1blx1MDEwM1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiUm90aVx1MDIxQmkgc3RyYXR1bFwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0M0RcdTA0MzBcdTA0M0RcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzggXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1MDQxRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSwgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzRFx1MDQzMFx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0M0ZcdTA0MzVcdTA0NDBcdTA0MzJcdTA0NEJcdTA0MzkgXHUwNDNFXHUwNDMxXHUwNDRBXHUwNDM1XHUwNDNBXHUwNDQyXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0M0ZcdTA0NDBcdTA0M0VcdTA0MzRcdTA0M0VcdTA0M0JcdTA0MzZcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDQwXHUwNDM4XHUwNDQxXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDM4XHUwNDM1XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDM2XHUwNDNDXHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQzQlx1MDQ0RVx1MDQzMVx1MDQzRVx1MDQzOSBcdTA0NDFcdTA0NDNcdTA0NDlcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzJcdTA0NDNcdTA0NEVcdTA0NDlcdTA0MzhcdTA0MzkgXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwIFx1MDQzNFx1MDQzQlx1MDQ0RiBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzVcdTA0M0RcdTA0MzhcdTA0NEZcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTA0MTJcdTA0NEJcdTA0MzFcdTA0MzVcdTA0NDBcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDMyXHUwNDQzXHUwNDRFIFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQ0MywgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzN1x1MDQzMFx1MDQzQVx1MDQzRVx1MDQzRFx1MDQ0N1x1MDQzOFx1MDQ0Mlx1MDQ0Q1wiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIlx1MDQxRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSwgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzN1x1MDQzMFx1MDQzQVx1MDQzRVx1MDQzRFx1MDQ0N1x1MDQzOFx1MDQ0Mlx1MDQ0Q1wiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0MzRcdTA0M0VcdTA0MzFcdTA0MzBcdTA0MzJcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDQ2XHUwNDM1XHUwNDNEXHUwNDQyXHUwNDQwIFx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzM1x1MDQzMFwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDM2XHUwNDNDXHUwNDM4XHUwNDQyXHUwNDM1LCBcdTA0NDdcdTA0NDJcdTA0M0VcdTA0MzFcdTA0NEIgXHUwNDM3XHUwNDMwXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzOFx1MDQ0M1x1MDQ0MVwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0M0RcdTA0MzBcdTA0M0RcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzggXHUwNDNBXHUwNDQwXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDMyXHUwNDNFXHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJcdTA0MTdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzhcdTA0NDJcdTA0NENcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1MDQxRVx1MDQ0Mlx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQ0Q1wiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlx1MDQxRVx1MDQ0Mlx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0M0ZcdTA0M0VcdTA0NDFcdTA0M0JcdTA0MzVcdTA0MzRcdTA0M0RcdTA0MzVcdTA0MzUgXHUwNDM0XHUwNDM1XHUwNDM5XHUwNDQxXHUwNDQyXHUwNDMyXHUwNDM4XHUwNDM1XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1MDQxNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHUwNDIwXHUwNDM4XHUwNDQxXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQzRlx1MDQzRVx1MDQzQlx1MDQzOFx1MDQzM1x1MDQzRVx1MDQzRFwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJcdTA0MjBcdTA0MzhcdTA0NDFcdTA0M0VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDNBXHUwNDQwXHUwNDM4XHUwNDMyXHUwNDQzXHUwNDRFXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHUwNDIwXHUwNDM4XHUwNDQxXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzM1wiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJcdTA0MjBcdTA0MzhcdTA0NDFcdTA0M0VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDNGXHUwNDQwXHUwNDRGXHUwNDNDXHUwNDNFXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDNBXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHUwNDIwXHUwNDM1XHUwNDM0XHUwNDMwXHUwNDNBXHUwNDQyXHUwNDM4XHUwNDQwXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQ0MVx1MDQzQlx1MDQzRVx1MDQzOVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1MDQxRlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0NDFcdTA0M0JcdTA0M0VcdTA0MzlcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIlx1MDQxMlx1MDQ0Qlx1MDQ0MFx1MDQzNVx1MDQzN1x1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0NDFcdTA0M0JcdTA0M0VcdTA0MzlcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1MDQyM1x1MDQzNFx1MDQzMFx1MDQzQlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0NDFcdTA0M0JcdTA0M0VcdTA0MzlcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTA0MTRcdTA0M0VcdTA0MzFcdTA0MzBcdTA0MzJcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDNBXHUwNDQwXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDMyXHUwNDNFXHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJcdTA0MUZcdTA0NDBcdTA0MzhcdTA0MzJcdTA0NEZcdTA0MzdcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDQyXHUwNDMwXHUwNDQxXHUwNDNBXHUwNDM4XHUwNDMyXHUwNDMwXHUwNDM1XHUwNDNDXHUwNDRCXHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MCBcdTA0M0EgXHUwNDM0XHUwNDQwXHUwNDQzXHUwNDMzXHUwNDM4XHUwNDNDIFx1MDQ0MVx1MDQzQlx1MDQzRVx1MDQ0Rlx1MDQzQyBcdTA0MzggXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDNEXHUwNDMwXHUwNDNDXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHUwNDIxXHUwNDMyXHUwNDRGXHUwNDM3XHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQzRVx1MDQzMVx1MDQ0OVx1MDQzOFx1MDQzNSBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0M0FcdTA0MzggXHUwNDMyXHUwNDNDXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDM1XCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJcdTA0MUZcdTA0M0VcdTA0MzJcdTA0M0VcdTA0NDBcdTA0M0VcdTA0NDIgXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDRGXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIlByZXNpb25hIHBhcmEgY29sb2NhciB1biBtYXJjYWRvclwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJQcmVzaW9uYSBwYXJhIGNvbG9jYXIgZWwgcHJpbWVyIHZcdTAwRTlydGljZVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiUHJlc2lvbmEgcGFyYSBjb250aW51YXIgZGlidWphbmRvXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiUHJlc2lvbmEgY3VhbHF1aWVyIG1hcmNhZG9yIGV4aXN0ZW50ZSBwYXJhIGZpbmFsaXphclwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIlByZXNpb25hIGVsIHByaW1lciBtYXJjYWRvciBwYXJhIGZpbmFsaXphclwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIlByZXNpb25hIHBhcmEgZmluYWxpemFyXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlByZXNpb25hIHBhcmEgY29sb2NhciBlbCBjZW50cm8gZGVsIGNcdTAwRURyY3Vsb1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiUHJlc2lvbmEgcGFyYSBmaW5hbGl6YXIgZWwgY1x1MDBFRHJjdWxvXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlByZXNpb25hIHBhcmEgY29sb2NhciB1biBtYXJjYWRvciBkZSBjXHUwMEVEcmN1bG9cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiRmluYWxpemFyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJDYW5jZWxhclwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIkVsaW1pbmFyIFx1MDBGQWx0aW1vIHZcdTAwRTlydGljZVwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJEaWJ1amFyIE1hcmNhZG9yXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRpYnVqYXIgUG9sXHUwMEVEZ29ub1wiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJEaWJ1amFyIExcdTAwRURuZWFcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEaWJ1amFyIENcdTAwRURyY3Vsb1wiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJEaWJ1amFyIFJlY3RcdTAwRTFuZ3Vsb1wiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkVkaXRhciBDYXBhc1wiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkFycmFzdHJhciBDYXBhc1wiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiQ29ydGFyIENhcGFzXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJFbGltaW5hciBDYXBhc1wiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIkRpYnVqYXIgTWFyY2Fkb3IgZGUgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkVsIG1hcmNhZG9yIGRlIFNuYXAgYXJyYXN0cmFkbyBhIG90cmFzIGNhcGFzIHkgdlx1MDBFOXJ0aWNlc1wiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIkZpamFyIGp1bnRvcyBsb3Mgdlx1MDBFOXJ0aWNlcyBjb21wYXJ0aWRvc1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiUm90YXIgY2FwYVwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJLbGlrIG9tIGVlbiBtYXJrZXIgdGUgcGxhYXRzZW5cIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpayBvbSBoZXQgZWVyc3RlIHB1bnQgdGUgcGxhYXRzZW5cIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIktsaWsgb20gdGUgYmxpanZlbiB0ZWtlbmVuXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiS2xpayBvcCBlZW4gYmVzdGFhbmQgcHVudCBvbSB0ZSBiZVx1MDBFQmluZGlnZW5cIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJLbGlrIG9wIGhldCBlZXJzdCBwdW50IG9tIHRlIGJlXHUwMEVCaW5kaWdlblwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIktsaWsgb20gdGUgYmVcdTAwRUJpbmRpZ2VuXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIktsaWsgb20gaGV0IG1pZGRlbHB1bnQgdGUgcGxhYXRzZW5cIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIktsaWsgb20gZGUgY2lya2VsIHRlIGJlXHUwMEVCaW5kaWdlblwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLbGlrIG9tIGVlbiBtYXJrZXIgdGUgcGxhYXRzZW5cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiQmV3YWFyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJBbm51bGVlclwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlZlcndpamRlciBsYWF0c3RlIHB1bnRcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiUGxhYXRzIE1hcmtlclwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJUZWtlbiBlZW4gdmxha1wiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJUZWtlbiBlZW4gbGlqblwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlRla2VuIGVlbiBjaXJrZWxcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiVGVrZW4gZWVuIHZpZXJrYW50XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiQmV3ZXJrXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiVmVycGxhYXRzXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJLbmlwXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJWZXJ3aWpkZXJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJQbGFhdHMgTWFya2VyXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlNuYXAgZ2VzbGVlcHRlIG1hcmtlciBuYWFyIGFuZGVyZSBsYWdlbiBlbiBob2VrcHVudGVuXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiU3BlbGQgZ2VkZWVsZGUgaG9la3B1bnRlbiBzYW1lblwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiTGFhZyByb3RlcmVuXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkNsaXF1ZXogcG91ciBwbGFjZXIgdW4gbWFycXVldXJcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiQ2xpcXVleiBwb3VyIHBsYWNlciBsZSBwcmVtaWVyIHNvbW1ldFwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiQ2xpcXVleiBwb3VyIGNvbnRpbnVlciBcdTAwRTAgZGVzc2luZXJcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJDbGlxdWV6IHN1ciBuJ2ltcG9ydGUgcXVlbCBtYXJxdWV1ciBwb3VyIHRlcm1pbmVyXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQ2xpcXVleiBzdXIgbGUgcHJlbWllciBtYXJxdWV1ciBwb3VyIHRlcm1pbmVyXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiQ2xpcXVleiBwb3VyIHRlcm1pbmVyXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkNsaXF1ZXogcG91ciBwbGFjZXIgbGUgY2VudHJlIGR1IGNlcmNsZVwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiQ2xpcXVleiBwb3VyIGZpbmlyIGxlIGNlcmNsZVwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJDbGlxdWV6IHBvdXIgcGxhY2VyIGxlIG1hcnF1ZXVyIGNpcmN1bGFpcmVcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiVGVybWluZXJcIixcbiAgICBcImNhbmNlbFwiOiBcIkFubnVsZXJcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJSZXRpcmVyIGxlIGRlcm5pZXIgc29tbWV0XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlBsYWNlciBkZXMgbWFycXVldXJzXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRlc3NpbmVyIGRlcyBwb2x5Z29uZXNcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGVzc2luZXIgZGVzIHBvbHlsaWduZXNcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEZXNzaW5lciB1biBjZXJjbGVcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGVzc2luZXIgdW4gcmVjdGFuZ2xlXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHUwMEM5ZGl0ZXIgZGVzIGNhbHF1ZXNcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJEXHUwMEU5cGxhY2VyIGRlcyBjYWxxdWVzXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJDb3VwZXIgZGVzIGNhbHF1ZXNcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlN1cHByaW1lciBkZXMgY2FscXVlc1wiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIkRlc3NpbmVyIHVuIG1hcnF1ZXVyIGNpcmN1bGFpcmVcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiR2xpc3NlciBsZSBtYXJxdWV1ciB2ZXJzIGQnYXV0cmVzIGNvdWNoZXMgZXQgc29tbWV0c1wiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1MDBDOXBpbmdsZXIgZW5zZW1ibGUgbGVzIHNvbW1ldHMgcGFydGFnXHUwMEU5c1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiVG91cm5lciBkZXMgY2FscXVlc1wiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTUzNTVcdTUxRkJcdTY1M0VcdTdGNkVcdTY4MDdcdThCQjBcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHU1MzU1XHU1MUZCXHU2NTNFXHU3RjZFXHU5OTk2XHU0RTJBXHU5ODc2XHU3MEI5XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTUzNTVcdTUxRkJcdTdFRTdcdTdFRURcdTdFRDhcdTUyMzZcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJcdTUzNTVcdTUxRkJcdTRFRkJcdTRGNTVcdTVCNThcdTU3MjhcdTc2ODRcdTY4MDdcdThCQjBcdTRFRTVcdTVCOENcdTYyMTBcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTUzNTVcdTUxRkJcdTdCMkNcdTRFMDBcdTRFMkFcdTY4MDdcdThCQjBcdTRFRTVcdTVCOENcdTYyMTBcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdTUzNTVcdTUxRkJcdTVCOENcdTYyMTBcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHU1MzU1XHU1MUZCXHU2NTNFXHU3RjZFXHU1NzA2XHU1RkMzXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdTUzNTVcdTUxRkJcdTVCOENcdTYyMTBcdTU3MDZcdTVGNjJcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiXHU3MEI5XHU1MUZCXHU2NTNFXHU3RjZFXHU1NzA2XHU1RjYyXHU2ODA3XHU4QkIwXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlx1NUI4Q1x1NjIxMFwiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHU1M0Q2XHU2RDg4XCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHU3OUZCXHU5NjY0XHU2NzAwXHU1NDBFXHU3Njg0XHU5ODc2XHU3MEI5XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1N0VEOFx1NTIzNlx1NjgwN1x1OEJCMFwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJcdTdFRDhcdTUyMzZcdTU5MUFcdThGQjlcdTVGNjJcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHU3RUQ4XHU1MjM2XHU3RUJGXHU2QkI1XCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHU3RUQ4XHU1MjM2XHU1NzA2XHU1RjYyXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlx1N0VEOFx1NTIzNlx1OTU3Rlx1NjVCOVx1NUY2MlwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1N0YxNlx1OEY5MVx1NTZGRVx1NUM0MlwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1NjJENlx1NjJGRFx1NTZGRVx1NUM0MlwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHU1MjZBXHU1MjA3XHU1NkZFXHU1QzQyXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTUyMjBcdTk2NjRcdTU2RkVcdTVDNDJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTc1M0JcdTU3MDZcdTU3MDhcdTY4MDdcdThCQjBcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHU1QzA2XHU2MkQ2XHU1MkE4XHU3Njg0XHU2ODA3XHU4QkIwXHU2MzU1XHU2MzQ5XHU1MjMwXHU1MTc2XHU0RUQ2XHU1NkZFXHU1QzQyXHU1NDhDXHU5ODc2XHU3MEI5XCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHU1QzA2XHU1MTcxXHU0RUFCXHU5ODc2XHU3MEI5XHU1NkZBXHU1QjlBXHU1NzI4XHU0RTAwXHU4RDc3XCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJcdTY1Q0JcdThGNkNcdTU2RkVcdTVDNDJcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHU1NUFFXHU2NENBXHU2NTNFXHU3RjZFXHU2QTE5XHU4QTE4XCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1NTVBRVx1NjRDQVx1NjUzRVx1N0Y2RVx1N0IyQ1x1NEUwMFx1NTAwQlx1OTgwMlx1OUVERVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHU1NUFFXHU2NENBXHU3RTdDXHU3RThDXHU3RTZBXHU4OEZEXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHU1NUFFXHU2NENBXHU0RUZCXHU0RjU1XHU1QjU4XHU1NzI4XHU3Njg0XHU2QTE5XHU4QTE4XHU0RUU1XHU1QjhDXHU2MjEwXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiXHU1NUFFXHU2NENBXHU3QjJDXHU0RTAwXHU1MDBCXHU2QTE5XHU4QTE4XHU0RUU1XHU1QjhDXHU2MjEwXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHU1NUFFXHU2NENBXHU1QjhDXHU2MjEwXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlx1NTVBRVx1NjRDQVx1NjUzRVx1N0Y2RVx1NTcxM1x1NUZDM1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHU1NUFFXHU2NENBXHU1QjhDXHU2MjEwXHU1NzEzXHU1RjYyXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1OUVERVx1NjRDQVx1NjUzRVx1N0Y2RVx1NTcxM1x1NUY2Mlx1NkExOVx1OEExOFwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJcdTVCOENcdTYyMTBcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1NTNENlx1NkQ4OFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlx1NzlGQlx1OTY2NFx1NjcwMFx1NUY4Q1x1NEUwMFx1NTAwQlx1OTgwMlx1OUVERVwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTY1M0VcdTdGNkVcdTZBMTlcdThBMThcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHU3RTZBXHU4OEZEXHU1OTFBXHU5MDhBXHU1RjYyXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlx1N0U2QVx1ODhGRFx1N0REQVx1NkJCNVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1N0U2QVx1ODhGRFx1NTcxM1x1NUY2MlwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJcdTdFNkFcdTg4RkRcdTY1QjlcdTVGNjJcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJcdTdERThcdThGMkZcdTU3MTZcdTVGNjJcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTc5RkJcdTUyRDVcdTU3MTZcdTVGNjJcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIlx1ODhDMVx1NTIwN1x1NTcxNlx1NUY2MlwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiXHU1MjJBXHU5NjY0XHU1NzE2XHU1RjYyXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiXHU3NTZCXHU1NzEzXHU1NzA4XHU2QTE5XHU4QTE4XCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlx1NUMwN1x1NjJENlx1NTJENVx1NzY4NFx1NkExOVx1OEExOFx1NUMwRFx1OUY0QVx1NTIzMFx1NTE3Nlx1NEVENlx1NTcxNlx1NUM2NFx1NTQ4Q1x1OTgwMlx1OUVERVwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1NUMwN1x1NTE3MVx1NEVBQlx1OTgwMlx1OUVERVx1NTZGQVx1NUI5QVx1NTcyOFx1NEUwMFx1OEQ3N1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiXHU2NUNCXHU4RjQ5XHU1NzE2XHU1RjYyXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkNsaXF1ZSBwYXJhIHBvc2ljaW9uYXIgbyBtYXJjYWRvclwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJDbGlxdWUgcGFyYSBwb3NpY2lvbmFyIG8gcHJpbWVpcm8gdlx1MDBFOXJ0aWNlXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJDbGlxdWUgcGFyYSBjb250aW51YXIgZGVzZW5oYW5kb1wiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkNsaXF1ZSBlbSBxdWFscXVlciBtYXJjYWRvciBleGlzdGVudGUgcGFyYSBmaW5hbGl6YXJcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJDbGlxdWUgbm8gcHJpbWVpcm8gbWFyY2Fkb3IgcGFyYSBmaW5hbGl6YXJcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJDbGlxdWUgcGFyYSBmaW5hbGl6YXJcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiQ2xpcXVlIHBhcmEgcG9zaWNpb25hciBvIGNlbnRybyBkbyBjXHUwMEVEcmN1bG9cIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIkNsaXF1ZSBwYXJhIGZpbmFsaXphciBvIGNcdTAwRURyY3Vsb1wiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJDbGlxdWUgcGFyYSBwb3NpY2lvbmFyIG8gbWFyY2Fkb3IgY2lyY3VsYXJcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIkNsaXF1ZSBwYXJhIGluc2VyaXIgdGV4dG9cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiRmluYWxpemFyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJDYW5jZWxhclwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlJlbW92ZXIgXHUwMEZBbHRpbW8gdlx1MDBFOXJ0aWNlXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIkRlc2VuaGFyIE1hcmNhZG9yXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRlc2VuaGFyIFBvbFx1MDBFRGdvbm9zXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIkRlc2VuaGFyIExpbmhhIFBvbGlnb25hbFwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIkRlc2VuaGFyIENcdTAwRURyY3Vsb1wiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJEZXNlbmhhciBSZXRcdTAwRTJuZ3Vsb1wiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkVkaXRhciBDYW1hZGFzXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiQXJyYXN0YXIgQ2FtYWRhc1wiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiUmVjb3J0YXIgQ2FtYWRhc1wiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiUmVtb3ZlciBDYW1hZGFzXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGVzZW5oYXIgTWFyY2Fkb3IgZGUgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkFqdXN0YXIgbWFyY2Fkb3IgYXJyYXN0YWRvIGEgb3V0cmFzIGNhbWFkYXMgZSB2XHUwMEU5cnRpY2VzXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiVW5pciB2XHUwMEU5cnRpY2VzIGNvbXBhcnRpbGhhZG9zXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJSb3RhY2lvbmFyIENhbWFkYXNcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiRGVzZW5oYXIgVGV4dG9cIixcbiAgICBcInNjYWxlQnV0dG9uXCI6IFwiUmVkaW1lbnNpb25hciBDYW1hZGFzXCIsXG4gICAgXCJhdXRvVHJhY2luZ0J1dHRvblwiOiBcIlRyYVx1MDBFN2FkbyBBdXRvbVx1MDBFMXRpY28gZGUgTGluaGFcIlxuICB9LFxuICBcIm1lYXN1cmVtZW50c1wiOiB7XG4gICAgXCJ0b3RhbExlbmd0aFwiOiBcIkNvbXByaW1lbnRvXCIsXG4gICAgXCJzZWdtZW50TGVuZ3RoXCI6IFwiQ29tcHJpbWVudG8gZG8gU2VnbWVudG9cIixcbiAgICBcImFyZWFcIjogXCJcdTAwQzFyZWFcIixcbiAgICBcInJhZGl1c1wiOiBcIlJhaW9cIixcbiAgICBcInBlcmltZXRlclwiOiBcIlBlclx1MDBFRG1ldHJvXCIsXG4gICAgXCJoZWlnaHRcIjogXCJBbHR1cmFcIixcbiAgICBcIndpZHRoXCI6IFwiTGFyZ3VyYVwiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogXCJQb3NpXHUwMEU3XHUwMEUzb1wiLFxuICAgIFwiY29vcmRpbmF0ZXNNYXJrZXJcIjogXCJNYXJjYWRvciBkZSBQb3NpXHUwMEU3XHUwMEUzb1wiXG4gIH1cbn0iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiQ2xpcXVlIHBhcmEgY29sb2NhciBtYXJjYWRvclwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJDbGlxdWUgcGFyYSBjb2xvY2FyIHByaW1laXJvIHZcdTAwRTlydGljZVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiQ2xpcXVlIHBhcmEgY29udGludWFyIGEgZGVzZW5oYXJcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJDbGlxdWUgbnVtIG1hcmNhZG9yIGV4aXN0ZW50ZSBwYXJhIHRlcm1pbmFyXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQ2xpcXVlIG5vIHByaW1laXJvIG1hcmNhZG9yIHBhcmEgdGVybWluYXJcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJDbGlxdWUgcGFyYSB0ZXJtaW5hclwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJDbGlxdWUgcGFyYSBjb2xvY2FyIG8gY2VudHJvIGRvIGNcdTAwRURyY3Vsb1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiQ2xpcXVlIHBhcmEgdGVybWluYXIgbyBjXHUwMEVEcmN1bG9cIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiQ2xpcXVlIHBhcmEgY29sb2NhciBtYXJjYWRvciBkZSBjXHUwMEVEcmN1bG9cIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIkNsaXF1ZSBwYXJhIGNvbG9jYXIgdGV4dG9cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiVGVybWluYXJcIixcbiAgICBcImNhbmNlbFwiOiBcIkNhbmNlbGFyXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiUmVtb3ZlciBcdTAwREFsdGltbyBWXHUwMEU5cnRpY2VcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiRGVzZW5oYXIgTWFyY2Fkb3JcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiRGVzZW5oYXIgUG9sXHUwMEVEZ29ub3NcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGVzZW5oYXIgUG9saWxpbmhhXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiRGVzZW5oYXIgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIkRlc2VuaGFyIFJldFx1MDBFMm5ndWxvXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWRpdGFyIENhbWFkYXNcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJBcnJhc3RhciBDYW1hZGFzXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJDb3J0YXIgQ2FtYWRhc1wiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiUmVtb3ZlciBDYW1hZGFzXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGVzZW5oYXIgTWFyY2Fkb3IgZGUgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkFqdXN0YXIgbWFyY2Fkb3IgYXJyYXN0YWRvIGEgb3V0cmFzIGNhbWFkYXMgZSB2XHUwMEU5cnRpY2VzXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiVW5pciB2XHUwMEU5cnRpY2VzIHBhcnRpbGhhZG9zXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJSb2RhciBDYW1hZGFzXCIsXG4gICAgXCJkcmF3VGV4dEJ1dHRvblwiOiBcIkRlc2VuaGFyIFRleHRvXCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIkVzY2FsYXIgQ2FtYWRhc1wiLFxuICAgIFwiYXV0b1RyYWNpbmdCdXR0b25cIjogXCJUcmFcdTAwRTdhZG8gQXV0b21cdTAwRTF0aWNvIGRlIExpbmhhXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJDb21wcmltZW50b1wiLFxuICAgIFwic2VnbWVudExlbmd0aFwiOiBcIkNvbXByaW1lbnRvIGRvIFNlZ21lbnRvXCIsXG4gICAgXCJhcmVhXCI6IFwiXHUwMEMxcmVhXCIsXG4gICAgXCJyYWRpdXNcIjogXCJSYWlvXCIsXG4gICAgXCJwZXJpbWV0ZXJcIjogXCJQZXJcdTAwRURtZXRyb1wiLFxuICAgIFwiaGVpZ2h0XCI6IFwiQWx0dXJhXCIsXG4gICAgXCJ3aWR0aFwiOiBcIkxhcmd1cmFcIixcbiAgICBcImNvb3JkaW5hdGVzXCI6IFwiUG9zaVx1MDBFN1x1MDBFM29cIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiTWFyY2Fkb3IgZGUgUG9zaVx1MDBFN1x1MDBFM29cIlxuICB9XG59IiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIktsaWtuaWosIGFieSB1bWllXHUwMTVCY2lcdTAxMDcgem5hY3puaWtcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpa25paiwgYWJ5IHVtaWVcdTAxNUJjaVx1MDEwNyBwaWVyd3N6eSB3aWVyemNob1x1MDE0MmVrXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLbGlrbmlqLCBhYnkga29udHludW93YVx1MDEwNyByeXNvd2FuaWVcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlrbmlqIGRvd29sbnkgaXN0bmllalx1MDEwNWN5IHpuYWN6bmlrLCBhYnkgemFrb1x1MDE0NGN6eVx1MDEwN1wiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIktsaWtuaWogcGllcndzenkgem5hY3puaWssIGFieSB6YWtvXHUwMTQ0Y3p5XHUwMTA3XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2xpa25paiwgYWJ5IHpha29cdTAxNDRjenlcdTAxMDdcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiS2xpa25paiwgYWJ5IHVtaWVcdTAxNUJjaVx1MDEwNyBcdTAxNUJyb2RlayBva3JcdTAxMTlndVwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiS2xpa25paiwgYWJ5IHpha29cdTAxNDRjenlcdTAxMDcgb2tyXHUwMTA1Z1wiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLbGlrbmlqLCBhYnkgdW1pZVx1MDE1QmNpXHUwMTA3IHpuYWN6bmlrIG9rclx1MDExOWd1XCIsXG4gICAgXCJwbGFjZVRleHRcIjogXCJLbGlrbmlqLCBhYnkgdW1pZVx1MDE1QmNpXHUwMTA3IHRla3N0XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlpha29cdTAxNDRjelwiLFxuICAgIFwiY2FuY2VsXCI6IFwiQW51bHVqXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiVXN1XHUwMTQ0IG9zdGF0bmkgd2llcnpjaG9cdTAxNDJla1wiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJSeXN1aiB6bmFjem5pa1wiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJSeXN1aiB3aWVsb2tcdTAxMDV0XCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlJ5c3VqIGxpbmlcdTAxMTlcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJSeXN1aiBva3JcdTAxMDVnXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlJ5c3VqIHByb3N0b2tcdTAxMDV0XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWR5dHVqIHdhcnN0d3lcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJQcnplY2lcdTAxMDVnbmlqIHdhcnN0d3lcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIld5dG5paiB3YXJzdHd5XCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJVc3VcdTAxNDQgd2Fyc3R3eVwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlJ5c3VqIHpuYWN6bmlrIG9rclx1MDEwNWdcdTAxNDJ5XCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlByenljaVx1MDEwNWduaWogcHJ6ZW5vc3pvbnkgem5hY3puaWsgZG8gaW5ueWNoIHdhcnN0dyBpIHdpZXJ6Y2hvXHUwMTQya1x1MDBGM3dcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJQcnp5cG5paiB3c3BcdTAwRjNsbmUgd2llcnpjaG9cdTAxNDJraSByYXplbVwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiT2JyXHUwMEYzXHUwMTA3IHdhcnN0d3lcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiUnlzdWogdGVrc3RcIixcbiAgICBcInNjYWxlQnV0dG9uXCI6IFwiU2thbHVqIHdhcnN0d3lcIixcbiAgICBcImF1dG9UcmFjaW5nQnV0dG9uXCI6IFwiQXV0b21hdHljem5lIFx1MDE1QmxlZHplbmllIGxpbmlpXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJEXHUwMTQydWdvXHUwMTVCXHUwMTA3XCIsXG4gICAgXCJzZWdtZW50TGVuZ3RoXCI6IFwiRFx1MDE0MnVnb1x1MDE1Qlx1MDEwNyBvZGNpbmthXCIsXG4gICAgXCJhcmVhXCI6IFwiT2JzemFyXCIsXG4gICAgXCJyYWRpdXNcIjogXCJQcm9taWVcdTAxNDRcIixcbiAgICBcInBlcmltZXRlclwiOiBcIk9id1x1MDBGM2RcIixcbiAgICBcImhlaWdodFwiOiBcIld5c29rb1x1MDE1Qlx1MDEwN1wiLFxuICAgIFwid2lkdGhcIjogXCJTemVyb2tvXHUwMTVCXHUwMTA3XCIsXG4gICAgXCJjb29yZGluYXRlc1wiOiBcIlBvenljamFcIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiWm5hY3puaWsgcG96eWNqaVwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IHBsYWNlcmEgbWFya1x1MDBGNnJcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpY2thIGZcdTAwRjZyIGF0dCBwbGFjZXJhIGZcdTAwRjZyc3RhIGhcdTAwRjZybmV0XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IGZvcnRzXHUwMEU0dHRhIHJpdGFcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlja2EgcFx1MDBFNSBlbiBleGlzdGVyYW5kZSBwdW5rdCBmXHUwMEY2ciBhdHQgc2x1dGZcdTAwRjZyYVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIktsaWNrYSBwXHUwMEU1IGRlbiBmXHUwMEY2cnN0YSBwdW5rdGVuIGZcdTAwRjZyIGF0dCBzbHV0Zlx1MDBGNnJhXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2xpY2thIGZcdTAwRjZyIGF0dCBzbHV0Zlx1MDBGNnJhXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIktsaWNrYSBmXHUwMEY2ciBhdHQgcGxhY2VyYSBjaXJrZWxucyBjZW50cnVtXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IHNsdXRmXHUwMEY2cmEgY2lya2VsblwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IHBsYWNlcmEgY2lya2VsbWFya1x1MDBGNnJcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiU2x1dGZcdTAwRjZyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJBdmJyeXRcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJUYSBib3J0IHNpc3RhIGhcdTAwRjZybmV0XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlJpdGEgTWFya1x1MDBGNnJcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiUml0YSBQb2x5Z29uZXJcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiUml0YSBMaW5qZVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlJpdGEgQ2lya2VsXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlJpdGEgUmVrdGFuZ2VsXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiUmVkaWdlcmEgTGFnZXJcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJEcmEgTGFnZXJcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIktsaXBwIGkgTGFnZXJcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlRhIGJvcnQgTGFnZXJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJSaXRhIENpcmtlbG1hcmtcdTAwRjZyXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlNuXHUwMEU0cHAgZHJhIG1hcmtcdTAwRjZyZW4gdGlsbCBhbmRyYSBsYWdlciBvY2ggaFx1MDBGNnJuXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiRlx1MDBFNHN0IGRlbGFkZSBoXHUwMEY2cm4gdGlsbHNhbW1hbnNcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlJvdGVyYSBsYWdyZXRcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNDNFx1MDNCRlx1MDNDMFx1MDNCRlx1MDNCOFx1MDNCNVx1MDNDNFx1MDNBRVx1MDNDM1x1MDNCNVx1MDNDNFx1MDNCNSBcdTAzOTRcdTAzQjVcdTAzQUZcdTAzQkFcdTAzQzRcdTAzQjdcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNDNFx1MDNCRlx1MDNDMFx1MDNCRlx1MDNCOFx1MDNCNVx1MDNDNFx1MDNBRVx1MDNDM1x1MDNCNVx1MDNDNFx1MDNCNSBcdTAzQzRcdTAzQkYgXHUwM0MwXHUwM0MxXHUwM0NFXHUwM0M0XHUwM0JGIFx1MDNDM1x1MDNCN1x1MDNCQ1x1MDNCNVx1MDNBRlx1MDNCRlwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNDM1x1MDNDNVx1MDNCRFx1MDNCNVx1MDNDN1x1MDNBRlx1MDNDM1x1MDNCNVx1MDNDNFx1MDNCNSBcdTAzQkRcdTAzQjEgXHUwM0MzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0I5XHUwM0FDXHUwM0I2XHUwM0I1XHUwM0M0XHUwM0I1XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQzNcdTAzQjUgXHUwM0JGXHUwM0MwXHUwM0JGXHUwM0I5XHUwM0JGXHUwM0JEXHUwM0I0XHUwM0FFXHUwM0MwXHUwM0JGXHUwM0M0XHUwM0I1IFx1MDNDNVx1MDNDMFx1MDNBQ1x1MDNDMVx1MDNDN1x1MDNCRlx1MDNCRCBcdTAzQzNcdTAzQjdcdTAzQkNcdTAzQjVcdTAzQUZcdTAzQkYgXHUwM0IzXHUwM0I5XHUwM0IxIFx1MDNCRFx1MDNCMSBcdTAzQkZcdTAzQkJcdTAzQkZcdTAzQkFcdTAzQkJcdTAzQjdcdTAzQzFcdTAzQzlcdTAzQjhcdTAzQjVcdTAzQUZcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNDM1x1MDNDNFx1MDNCRiBcdTAzQzBcdTAzQzFcdTAzQ0VcdTAzQzRcdTAzQkYgXHUwM0MzXHUwM0I3XHUwM0JDXHUwM0I1XHUwM0FGXHUwM0JGIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0M0XHUwM0I1XHUwM0JCXHUwM0I1XHUwM0I5XHUwM0NFXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNDNFx1MDNCNVx1MDNCQlx1MDNCNVx1MDNCOVx1MDNDRVx1MDNDM1x1MDNCNVx1MDNDNFx1MDNCNVwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0M0XHUwM0JGXHUwM0MwXHUwM0JGXHUwM0I4XHUwM0I1XHUwM0M0XHUwM0FFXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNBRFx1MDNCRFx1MDNDNFx1MDNDMVx1MDNCRiBcdTAzOUFcdTAzQ0RcdTAzQkFcdTAzQkJcdTAzQkZcdTAzQzVcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIlx1MDM5QVx1MDNBQ1x1MDNCRFx1MDNDNFx1MDNCNSBcdTAzQkFcdTAzQkJcdTAzQjlcdTAzQkEgXHUwM0IzXHUwM0I5XHUwM0IxIFx1MDNCRFx1MDNCMSBcdTAzQkZcdTAzQkJcdTAzQkZcdTAzQkFcdTAzQkJcdTAzQjdcdTAzQzFcdTAzQ0VcdTAzQzNcdTAzQjVcdTAzQzRcdTAzQjUgXHUwM0M0XHUwM0JGXHUwM0JEIFx1MDM5QVx1MDNDRFx1MDNCQVx1MDNCQlx1MDNCRlwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0M0XHUwM0JGXHUwM0MwXHUwM0JGXHUwM0I4XHUwM0I1XHUwM0M0XHUwM0FFXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1IFx1MDM5QVx1MDNDNVx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQVx1MDNDQyBcdTAzOTRcdTAzQjVcdTAzQUZcdTAzQkFcdTAzQzRcdTAzQjdcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiXHUwM0E0XHUwM0FEXHUwM0JCXHUwM0JGXHUwM0MyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJcdTAzOTFcdTAzQkFcdTAzQ0RcdTAzQzFcdTAzQzlcdTAzQzNcdTAzQjdcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTAzOUFcdTAzQjFcdTAzQzRcdTAzQUNcdTAzQzFcdTAzQjNcdTAzQjdcdTAzQzNcdTAzQjcgXHUwM0M0XHUwM0I1XHUwM0JCXHUwM0I1XHUwM0M1XHUwM0M0XHUwM0IxXHUwM0FGXHUwM0JGXHUwM0M1IFx1MDNDM1x1MDNCN1x1MDNCQ1x1MDNCNVx1MDNBRlx1MDNCRlx1MDNDNVwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTAzQTNcdTAzQzdcdTAzQjVcdTAzQjRcdTAzQUZcdTAzQjFcdTAzQzNcdTAzQjcgXHUwMzk0XHUwM0I1XHUwM0FGXHUwM0JBXHUwM0M0XHUwM0I3XCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1MDNBM1x1MDNDN1x1MDNCNVx1MDNCNFx1MDNBRlx1MDNCMVx1MDNDM1x1MDNCNyBcdTAzQTBcdTAzQkZcdTAzQkJcdTAzQzVcdTAzQjNcdTAzQ0VcdTAzQkRcdTAzQkZcdTAzQzVcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwM0EzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0FGXHUwM0IxXHUwM0MzXHUwM0I3IFx1MDM5M1x1MDNDMVx1MDNCMVx1MDNCQ1x1MDNCQ1x1MDNBRVx1MDNDMlwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1MDNBM1x1MDNDN1x1MDNCNVx1MDNCNFx1MDNBRlx1MDNCMVx1MDNDM1x1MDNCNyBcdTAzOUFcdTAzQ0RcdTAzQkFcdTAzQkJcdTAzQkZcdTAzQzVcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHUwM0EzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0FGXHUwM0IxXHUwM0MzXHUwM0I3IFx1MDM5Rlx1MDNDMVx1MDNCOFx1MDNCRlx1MDNCM1x1MDNDOVx1MDNCRFx1MDNBRlx1MDNCRlx1MDNDNVwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MDM5NVx1MDNDMFx1MDNCNVx1MDNCRVx1MDNCNVx1MDNDMVx1MDNCM1x1MDNCMVx1MDNDM1x1MDNBRlx1MDNCMSBcdTAzOTVcdTAzQzBcdTAzQjlcdTAzQzBcdTAzQURcdTAzQjRcdTAzQzlcdTAzQkRcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTAzOUNcdTAzQjVcdTAzQzRcdTAzQjFcdTAzQzZcdTAzQkZcdTAzQzFcdTAzQUMgXHUwMzk1XHUwM0MwXHUwM0I5XHUwM0MwXHUwM0FEXHUwM0I0XHUwM0M5XHUwM0JEXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdTAzOTFcdTAzQzBcdTAzQkZcdTAzQkFcdTAzQkZcdTAzQzBcdTAzQUUgXHUwMzk1XHUwM0MwXHUwM0I5XHUwM0MwXHUwM0FEXHUwM0I0XHUwM0M5XHUwM0JEXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTAzOUFcdTAzQjFcdTAzQzRcdTAzQUNcdTAzQzFcdTAzQjNcdTAzQjdcdTAzQzNcdTAzQjcgXHUwMzk1XHUwM0MwXHUwM0I5XHUwM0MwXHUwM0FEXHUwM0I0XHUwM0M5XHUwM0JEXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiXHUwM0EzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0FGXHUwM0IxXHUwM0MzXHUwM0I3IFx1MDM5QVx1MDNDNVx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQVx1MDNCRlx1MDNDRCBcdTAzOTRcdTAzQjVcdTAzQUZcdTAzQkFcdTAzQzRcdTAzQjdcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHUwM0EwXHUwM0MxXHUwM0JGXHUwM0MzXHUwM0JBXHUwM0NDXHUwM0JCXHUwM0JCXHUwM0I3XHUwM0MzXHUwM0I3IFx1MDNDNFx1MDNCRlx1MDNDNSBcdTAzOTRcdTAzQjVcdTAzQUZcdTAzQkFcdTAzQzRcdTAzQjcgXHUwM0JDXHUwM0I1XHUwM0M0XHUwM0IxXHUwM0M2XHUwM0JGXHUwM0MxXHUwM0FDXHUwM0MyIFx1MDNDM1x1MDNCNSBcdTAzQUNcdTAzQkJcdTAzQkJcdTAzQjEgXHUwMzk1XHUwM0MwXHUwM0FGXHUwM0MwXHUwM0I1XHUwM0I0XHUwM0IxIFx1MDNCQVx1MDNCMVx1MDNCOSBcdTAzOUFcdTAzQkZcdTAzQzFcdTAzQzVcdTAzQzZcdTAzQURcdTAzQzJcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJcdTAzQTBcdTAzQjVcdTAzQzFcdTAzQjlcdTAzQkFcdTAzQkZcdTAzQzBcdTAzQUUgXHUwM0JBXHUwM0JGXHUwM0I5XHUwM0JEXHUwM0NFXHUwM0JEIFx1MDNCQVx1MDNCRlx1MDNDMVx1MDNDNVx1MDNDNlx1MDNDRVx1MDNCRCBcdTAzQkNcdTAzQjFcdTAzQjZcdTAzQUZcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlx1MDNBMFx1MDNCNVx1MDNDMVx1MDNCOVx1MDNDM1x1MDNDNFx1MDNDMVx1MDNBRFx1MDNDOFx1MDNDNFx1MDNCNSBcdTAzQzRcdTAzQkYgXHUwM0MzXHUwM0M0XHUwM0MxXHUwM0NFXHUwM0JDXHUwM0IxXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkthdHRpbnRzb24gYSBqZWxcdTAwRjZsXHUwMTUxIGVsaGVseWV6XHUwMEU5c1x1MDBFOWhlelwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLYXR0aW50c29uIGF6IGVsc1x1MDE1MSBwb250IGVsaGVseWV6XHUwMEU5c1x1MDBFOWhlelwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2F0dGludHNvbiBhIGtcdTAwRjZ2ZXRrZXpcdTAxNTEgcG9udCBlbGhlbHllelx1MDBFOXNcdTAwRTloZXpcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJBIGJlZmVqZXpcdTAwRTlzaGV6IGthdHRpbnRzb24gZWd5IG1lZ2xcdTAwRTl2XHUwMTUxIHBvbnRyYVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIkEgYmVmZWplelx1MDBFOXNoZXoga2F0dGludHNvbiBheiBlbHNcdTAxNTEgcG9udHJhXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2F0dGludHNvbiBhIGJlZmVqZXpcdTAwRTlzaGV6XCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkthdHRpbnRzb24gYSBrXHUwMEY2ciBrXHUwMEY2elx1MDBFOXBwb250alx1MDBFMW5hayBlbGhlbHllelx1MDBFOXNcdTAwRTloZXpcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIkthdHRpbnRzb24gYSBrXHUwMEY2ciBiZWZlamV6XHUwMEU5c1x1MDBFOWhlelwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLYXR0aW50c29uIGEga1x1MDBGNnJqZWxcdTAwRjZsXHUwMTUxIGVsaGVseWV6XHUwMEU5c1x1MDBFOWhlelwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJCZWZlamV6XHUwMEU5c1wiLFxuICAgIFwiY2FuY2VsXCI6IFwiTVx1MDBFOWdzZVwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlV0b2xzXHUwMEYzIHBvbnQgZWx0XHUwMEUxdm9sXHUwMEVEdFx1MDBFMXNhXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIkplbFx1MDBGNmxcdTAxNTEgcmFqem9sXHUwMEUxc2FcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiUG9saWdvbiByYWp6b2xcdTAwRTFzYVwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJWb25hbCByYWp6b2xcdTAwRTFzYVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIktcdTAwRjZyIHJhanpvbFx1MDBFMXNhXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIk5cdTAwRTlneXpldCByYWp6b2xcdTAwRTFzYVwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkVsZW1layBzemVya2VzenRcdTAwRTlzZVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkVsZW1layBtb3pnYXRcdTAwRTFzYVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiRWxlbWVrIHZcdTAwRTFnXHUwMEUxc2FcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIkVsZW1layB0XHUwMEY2cmxcdTAwRTlzZVwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIktcdTAwRjZyIGplbFx1MDBGNmxcdTAxNTEgcmFqem9sXHUwMEUxc2FcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiS2FwY3NvbGphIGEgamVsXHUwMEY2bHRcdTAxNTF0IG1cdTAwRTFzaWsgZWxlbWhleiB2YWd5IHBvbnRob3pcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJLXHUwMEY2elx1MDBGNnMgcG9udG9rIFx1MDBGNnNzemVrXHUwMEY2dFx1MDBFOXNlXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJGXHUwMEYzbGlhIGVsZm9yZ2F0XHUwMEUxc2FcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiVHJ5ayBmb3IgYXQgcGxhY2VyZSBlbiBtYXJrXHUwMEY4clwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJUcnlrIGZvciBhdCBwbGFjZXJlIGRldCBmXHUwMEY4cnN0ZSBwdW5rdFwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiVHJ5ayBmb3IgYXQgZm9ydHNcdTAwRTZ0dGUgbGluamVuXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiVHJ5ayBwXHUwMEU1IGV0IGVrc2lzdGVyZW5kZSBwdW5rdCBmb3IgYXQgYWZzbHV0dGVcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJUcnlrIHBcdTAwRTUgZGV0IGZcdTAwRjhyc3RlIHB1bmt0IGZvciBhdCBhZnNsdXR0ZVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIlRyeWsgZm9yIGF0IGFmc2x1dHRlXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlRyeWsgZm9yIGF0IHBsYWNlcmUgY2lya2xlbnMgY2VudGVyXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJUcnlrIGZvciBhdCBhZnNsdXR0ZSBjaXJrbGVuXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlRyeWsgZm9yIGF0IHBsYWNlcmUgZW4gY2lya2VsbWFya1x1MDBGOHJcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiQWZzbHV0XCIsXG4gICAgXCJjYW5jZWxcIjogXCJBZmJyeWRcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJGamVybiBzaWRzdGUgcHVua3RcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiUGxhY2VyIG1hcmtcdTAwRjhyXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlRlZ24gcG9seWdvblwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJUZWduIGxpbmplXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiVGVnbiBjaXJrZWxcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiVGVnbiBmaXJrYW50XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiUmVkaWdlclwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlRyXHUwMEU2a1wiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiS2xpcFwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiRmplcm5cIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJUZWduIGNpcmtlbG1hcmtcdTAwRjhyXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkZhc3RnXHUwMEY4ciB0cnVra2V0IG1hcmtcdTAwRjhyIHRpbCBhbmRyZSBlbGVtZW50ZXJcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJTYW1tZW5sXHUwMEU2ZyBkZWx0ZSBlbGVtZW50ZXJcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlJvdGVyIGxhZ2V0XCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIktsaWtrIGZvciBcdTAwRTUgcGxhc3NlcmUgcHVua3RcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpa2sgZm9yIFx1MDBFNSBwbGFzc2VyZSBmXHUwMEY4cnN0ZSBwdW5rdFwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2xpa2sgZm9yIFx1MDBFNSB0ZWduZSB2aWRlcmVcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlrayBwXHUwMEU1IGV0IGVrc2lzdGVyZW5kZSBwdW5rdCBmb3IgXHUwMEU1IGZ1bGxmXHUwMEY4cmVcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJLbGlrayBmXHUwMEY4cnN0ZSBwdW5rdCBmb3IgXHUwMEU1IGZ1bGxmXHUwMEY4cmVcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJLbGlrayBmb3IgXHUwMEU1IGZ1bGxmXHUwMEY4cmVcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiS2xpa2sgZm9yIFx1MDBFNSBzZXR0ZSBzaXJrZWwgbWlkdHB1bmt0XCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJLbGlrayBmb3IgXHUwMEU1IGZ1bGxmXHUwMEY4cmUgc2lya2VsXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWtrIGZvciBcdTAwRTUgcGxhc3NlcmUgc2lya2VsXCIsXG4gICAgXCJwbGFjZVRleHRcIjogXCJLbGlrayBmb3IgXHUwMEU1IHBsYXNzZXJlIHRla3N0XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIkZ1bGxmXHUwMEY4clwiLFxuICAgIFwiY2FuY2VsXCI6IFwiS2Fuc2VsbGVyXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiRmplcm4gZm9ycmlnZSBwdW5rdFwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJUZWduIHB1bmt0XCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlRlZ24gZmxhdGVcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiVGVnbiBsaW5qZVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlRlZ24gc2lya2VsXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlRlZ24gcmVrdGFuZ2VsXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiUmVkaWdlciBvYmpla3RlclwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkRyYSBvYmpla3RlclwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiS3V0dCBvYmpla3RlclwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiRmplcm4gb2JqZWt0ZXJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJUZWduIHNpcmtlbC1wdW5rdFwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJGZXN0IGRyYXR0IHB1bmt0IHRpbCBhbmRyZSBvYmpla3RlciBvZyBwdW5rdFwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlBpbiBkZWx0ZSBwdW5rdGVyIHNhbW1lblwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiUm90XHUwMEU5ciBvYmpla3RlclwiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJUZWduIHRla3N0XCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIlNrYWxcdTAwRTlyIG9iamVrdGVyXCIsXG4gICAgXCJhdXRvVHJhY2luZ0J1dHRvblwiOiBcIkF1dG9tYXRpc2sgc3BvcmluZyBhdiBsaW5qZVwiXG4gIH0sXG4gIFwibWVhc3VyZW1lbnRzXCI6IHtcbiAgICBcInRvdGFsTGVuZ3RoXCI6IFwiTGVuZ2RlXCIsXG4gICAgXCJzZWdtZW50TGVuZ3RoXCI6IFwiU2VnbWVudGxlbmdkZVwiLFxuICAgIFwiYXJlYVwiOiBcIk9tclx1MDBFNWRlXCIsXG4gICAgXCJyYWRpdXNcIjogXCJSYWRpdXNcIixcbiAgICBcInBlcmltZXRlclwiOiBcIk9tcmlzc1wiLFxuICAgIFwiaGVpZ2h0XCI6IFwiSFx1MDBGOHlkZVwiLFxuICAgIFwid2lkdGhcIjogXCJCcmVkZGVcIixcbiAgICBcImNvb3JkaW5hdGVzXCI6IFwiUG9zaXNqb25cIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiUG9zaXNqb25zbWFya1x1MDBGOHJcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2MkNcdTA2MjdcdTA2NDZcdTA2NDVcdTA2MjdcdTA2Q0NcdTA2Q0MgXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2XCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDYyN1x1MDY0OFx1MDY0NFx1MDZDQ1x1MDY0NiBcdTA2MzFcdTA2MjNcdTA2MzNcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjI3XHUwNjJGXHUwNjI3XHUwNjQ1XHUwNjQ3IFx1MDYzMVx1MDYzM1x1MDY0NVwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MzFcdTA2NDhcdTA2Q0MgXHUwNjQ3XHUwNjMxIFx1MDY0Nlx1MDYzNFx1MDYyN1x1MDY0NiBcdTA2NDVcdTA2NDhcdTA2MkNcdTA2NDhcdTA2MkYgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDY3RVx1MDYyN1x1MDZDQ1x1MDYyN1x1MDY0NlwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MzFcdTA2NDhcdTA2Q0MgXHUwNjI3XHUwNjQ4XHUwNjQ0XHUwNkNDXHUwNjQ2IFx1MDY0Nlx1MDYzNFx1MDYyN1x1MDY0NiBcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjdFXHUwNjI3XHUwNkNDXHUwNjI3XHUwNjQ2XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2N0VcdTA2MjdcdTA2Q0NcdTA2MjdcdTA2NDZcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2MzFcdTA2MzNcdTA2NDUgXHUwNjQ1XHUwNjMxXHUwNkE5XHUwNjMyIFx1MDYyRlx1MDYyN1x1MDZDQ1x1MDYzMVx1MDY0N1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2N0VcdTA2MjdcdTA2Q0NcdTA2MjdcdTA2NDYgXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDYyRlx1MDYyN1x1MDZDQ1x1MDYzMVx1MDY0N1wiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2QTkgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDYzMVx1MDYzM1x1MDY0NSBcdTA2NDZcdTA2MzRcdTA2MjdcdTA2NDYgXHUwNjJGXHUwNjI3XHUwNkNDXHUwNjMxXHUwNjQ3XCIsXG4gICAgXCJwbGFjZVRleHRcIjogXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2QTkgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDY0Nlx1MDY0OFx1MDYzNFx1MDYyQVx1MDY0NiBcdTA2NDVcdTA2MkFcdTA2NDZcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiXHUwNjdFXHUwNjI3XHUwNkNDXHUwNjI3XHUwNjQ2XCIsXG4gICAgXCJjYW5jZWxcIjogXCJcdTA2NDRcdTA2NDFcdTA2NDhcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTA2MkRcdTA2MzBcdTA2NDEgXHUwNjIyXHUwNjJFXHUwNjMxXHUwNkNDXHUwNjQ2IFx1MDYzMVx1MDYyM1x1MDYzM1wiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTA2MkZcdTA2MzFcdTA2MkMgXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2XCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1MDYzMVx1MDYzM1x1MDY0NSBcdTA2ODZcdTA2NDZcdTA2MkZcdTA2MzZcdTA2NDRcdTA2MzlcdTA2Q0NcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDYyRVx1MDYzN1wiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1MDYzMVx1MDYzM1x1MDY0NSBcdTA2MkZcdTA2MjdcdTA2Q0NcdTA2MzFcdTA2NDdcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDY4Nlx1MDY0N1x1MDYyN1x1MDYzMVx1MDYzNlx1MDY0NFx1MDYzOVx1MDZDQ1wiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MDY0OFx1MDZDQ1x1MDYzMVx1MDYyN1x1MDZDQ1x1MDYzNCBcdTA2NDRcdTA2MjdcdTA2Q0NcdTA2NDdcdTIwMENcdTA2NDdcdTA2MjdcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTA2MkNcdTA2MjdcdTA2MjhcdTA2MkNcdTA2MjdcdTA2Q0NcdTA2Q0MgXHUwNjQ0XHUwNjI3XHUwNkNDXHUwNjQ3XHUyMDBDXHUwNjQ3XHUwNjI3XCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdTA2MjhcdTA2MzFcdTA2MzQgXHUwNjQ0XHUwNjI3XHUwNkNDXHUwNjQ3XHUyMDBDXHUwNjQ3XHUwNjI3XCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTA2MkRcdTA2MzBcdTA2NDEgXHUwNjQ0XHUwNjI3XHUwNkNDXHUwNjQ3XHUyMDBDXHUwNjQ3XHUwNjI3XCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDY0Nlx1MDYzNFx1MDYyN1x1MDY0NiBcdTA2MkZcdTA2MjdcdTA2Q0NcdTA2MzFcdTA2NDdcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2XHUwNkFGXHUwNjMxIFx1MDYzMVx1MDYyNyBcdTA2MjhcdTA2NDcgXHUwNjQ0XHUwNjI3XHUwNkNDXHUwNjQ3XHUyMDBDXHUwNjQ3XHUwNjI3IFx1MDY0OCBcdTA2MzFcdTA2MjZcdTA2NDhcdTA2MzMgXHUwNjJGXHUwNkNDXHUwNkFGXHUwNjMxIFx1MDYyOFx1MDZBOVx1MDYzNFx1MDZDQ1x1MDYyRlwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1MDYzMVx1MDYyNlx1MDY0OFx1MDYzMyBcdTA2NDVcdTA2MzRcdTA2MkFcdTA2MzFcdTA2QTkgXHUwNjMxXHUwNjI3IFx1MDYyOFx1MDYyNyBcdTA2NDdcdTA2NDUgXHUwNjdFXHUwNkNDXHUwNjQ2IFx1MDZBOVx1MDY0Nlx1MDZDQ1x1MDYyRlwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiXHUwNjg2XHUwNjMxXHUwNjJFXHUwNjM0IFx1MDY0NFx1MDYyN1x1MDZDQ1x1MDY0N1wiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJcdTA2MzFcdTA2MzNcdTA2NDUgXHUwNjQ1XHUwNjJBXHUwNjQ2XCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIlx1MDY0NVx1MDY0Mlx1MDZDQ1x1MDYyN1x1MDYzM1x1MjAwQ1x1MDZBRlx1MDYzMFx1MDYyN1x1MDYzMVx1MDZDQ1wiLFxuICAgIFwiYXV0b1RyYWNpbmdCdXR0b25cIjogXCJcdTA2MzFcdTA2MkZcdTA2Q0NcdTA2MjdcdTA2MjggXHUwNjJFXHUwNjQ4XHUwNjJGXHUwNkE5XHUwNjI3XHUwNjMxXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJcdTA2MzdcdTA2NDhcdTA2NDRcIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJcdTA2MzdcdTA2NDhcdTA2NDQgXHUwNjI4XHUwNjJFXHUwNjM0XCIsXG4gICAgXCJhcmVhXCI6IFwiXHUwNjQ2XHUwNjI3XHUwNjJEXHUwNkNDXHUwNjQ3XCIsXG4gICAgXCJyYWRpdXNcIjogXCJcdTA2MzRcdTA2MzlcdTA2MjdcdTA2MzlcIixcbiAgICBcInBlcmltZXRlclwiOiBcIlx1MDY0NVx1MDYyRFx1MDZDQ1x1MDYzN1wiLFxuICAgIFwiaGVpZ2h0XCI6IFwiXHUwNjI3XHUwNjMxXHUwNjJBXHUwNjQxXHUwNjI3XHUwNjM5XCIsXG4gICAgXCJ3aWR0aFwiOiBcIlx1MDYzOVx1MDYzMVx1MDYzNlwiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogXCJcdTA2NDVcdTA2NDhcdTA2NDJcdTA2MzlcdTA2Q0NcdTA2MkFcIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiXHUwNjQ1XHUwNjQ4XHUwNjQyXHUwNjM5XHUwNkNDXHUwNjJBIFx1MDY0Nlx1MDYzNFx1MDYyN1x1MDY0NlwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0M0RcdTA0MzBcdTA0M0RcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzggXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQzRFx1MDQ1Nlx1MDQ0Mlx1MDQ0QywgXHUwNDQ5XHUwNDNFXHUwNDMxIFx1MDQzRFx1MDQzMFx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0M0ZcdTA0MzVcdTA0NDBcdTA0NDhcdTA0NDMgXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDNEXHUwNDQzXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0M0ZcdTA0NDBcdTA0M0VcdTA0MzRcdTA0M0VcdTA0MzJcdTA0MzZcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDIFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQ0Qy1cdTA0NEZcdTA0M0FcdTA0MzhcdTA0MzkgXHUwNDU2XHUwNDQxXHUwNDNEXHUwNDQzXHUwNDRFXHUwNDQ3XHUwNDM4XHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MCBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiXHUwNDEyXHUwNDM4XHUwNDMxXHUwNDM1XHUwNDQwXHUwNDU2XHUwNDQyXHUwNDRDIFx1MDQzRlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQzOSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDAsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzhcdTA0NDJcdTA0MzhcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzhcdTA0NDJcdTA0MzhcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDLCBcdTA0NDlcdTA0M0VcdTA0MzEgXHUwNDM0XHUwNDNFXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQ0Nlx1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQ0MCBcdTA0M0FcdTA0M0VcdTA0M0JcdTA0MzBcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQzRFx1MDQ1Nlx1MDQ0Mlx1MDQ0QywgXHUwNDQ5XHUwNDNFXHUwNDMxIFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQ0Mlx1MDQzOCBcdTA0M0FcdTA0M0VcdTA0M0JcdTA0M0VcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDLCBcdTA0NDlcdTA0M0VcdTA0MzEgXHUwNDNEXHUwNDMwXHUwNDNEXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDM4IFx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzM1x1MDQzRVx1MDQzMlx1MDQzOFx1MDQzOSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiXHUwNDE3XHUwNDMwXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDQyXHUwNDM4XCIsXG4gICAgXCJjYW5jZWxcIjogXCJcdTA0MTJcdTA0NTZcdTA0MzRcdTA0M0NcdTA0NTZcdTA0M0RcdTA0MzhcdTA0NDJcdTA0MzhcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTA0MTJcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDNGXHUwNDNFXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNEXHUwNDRFIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQzRFx1MDQ0M1wiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTA0MUNcdTA0MzBcdTA0M0JcdTA0NEVcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1MDQxQ1x1MDQzMFx1MDQzQlx1MDQ0RVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0NTZcdTA0MzNcdTA0M0VcdTA0M0RcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzQVx1MDQ0MFx1MDQzOFx1MDQzMlx1MDQ0M1wiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1MDQxQ1x1MDQzMFx1MDQzQlx1MDQ0RVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0M0FcdTA0M0VcdTA0M0JcdTA0M0VcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzRlx1MDQ0MFx1MDQ0Rlx1MDQzQ1x1MDQzRVx1MDQzQVx1MDQ0M1x1MDQ0Mlx1MDQzRFx1MDQzOFx1MDQzQVwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MDQyMFx1MDQzNVx1MDQzNFx1MDQzMFx1MDQzM1x1MDQ0M1x1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0NDhcdTA0MzBcdTA0NDBcdTA0MzhcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTA0MUZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0M0RcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzggXHUwNDQ4XHUwNDMwXHUwNDQwXHUwNDM4XCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdTA0MTJcdTA0MzhcdTA0NDBcdTA0NTZcdTA0MzdcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDQ4XHUwNDMwXHUwNDQwXHUwNDM4XCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTA0MTJcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDQ4XHUwNDMwXHUwNDQwXHUwNDM4XCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzM1x1MDQzRVx1MDQzMlx1MDQzOFx1MDQzOSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHUwNDFGXHUwNDQwXHUwNDM4XHUwNDMyXHUyMDE5XHUwNDRGXHUwNDM3XHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzRlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQ0Mlx1MDQ0Rlx1MDQzM1x1MDQzRFx1MDQ0M1x1MDQ0Mlx1MDQzOFx1MDQzOSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDAgXHUwNDM0XHUwNDNFIFx1MDQ1Nlx1MDQzRFx1MDQ0OFx1MDQzOFx1MDQ0NSBcdTA0NDhcdTA0MzBcdTA0NDBcdTA0NTZcdTA0MzIgXHUwNDQyXHUwNDMwIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQzRFwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1MDQxN1x1MDQzMidcdTA0NEZcdTA0MzdcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDQxXHUwNDNGXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQzRFx1MDQzOCBcdTA0NDBcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0NcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlx1MDQxRlx1MDQzRVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0M1x1MDQ0Mlx1MDQzOCBcdTA0NDhcdTA0MzBcdTA0NDBcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHUwMTMwXHUwMTVGYXJldFx1MDBFN2kgeWVybGVcdTAxNUZ0aXJtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJcdTAxMzBsayB0ZXBlIG5va3Rhc1x1MDEzMW5cdTAxMzEgeWVybGVcdTAxNUZ0aXJtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHUwMEM3aXppbWUgZGV2YW0gZXRtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkJpdGlybWVrIGlcdTAwRTdpbiBtZXZjdXQgaGVyaGFuZ2kgYmlyIGlcdTAxNUZhcmV0XHUwMEU3aXlpIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIkJpdGlybWVrIGlcdTAwRTdpbiBpbGsgaVx1MDE1RmFyZXRcdTAwRTdpeWkgdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiQml0aXJtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJEYWlyZSBtZXJrZXppbmUgeWVybGVcdTAxNUZ0aXJtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiRGFpcmV5aSBiaXRpcm1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIkRhaXJlIGlcdTAxNUZhcmV0XHUwMEU3aXNpIHllcmxlXHUwMTVGdGlybWVrIGlcdTAwRTdpbiB0XHUwMTMxa2xheVx1MDEzMW5cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiQml0aXJcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1MDEzMHB0YWxcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJTb24ga1x1MDBGNlx1MDE1RmV5aSBrYWxkXHUwMTMxclwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTAwQzdpemltIFx1MDEzMFx1MDE1RmFyZXRcdTAwRTdpc2lcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHUwMEM3b2tnZW5sZXIgXHUwMEU3aXpcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwMEM3b2tsdSBcdTAwRTdpemdpIFx1MDBFN2l6XCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHUwMEM3ZW1iZXIgXHUwMEU3aXpcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGlrZFx1MDBGNnJ0Z2VuIFx1MDBFN2l6XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiS2F0bWFubGFyXHUwMTMxIGRcdTAwRkN6ZW5sZVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkthdG1hbmxhclx1MDEzMSBzXHUwMEZDclx1MDBGQ2tsZVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiS2F0bWFubGFyXHUwMTMxIGtlc1wiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiS2F0bWFubGFyXHUwMTMxIGthbGRcdTAxMzFyXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGFpcmUgaVx1MDE1RmFyZXRcdTAwRTdpc2kgXHUwMEU3aXpcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiU1x1MDBGQ3JcdTAwRkNrbGVuZW4gaVx1MDE1RmFyZXRcdTAwRTdpeWkgZGlcdTAxMUZlciBrYXRtYW5sYXJhIHZlIGtcdTAwRjZcdTAxNUZlbGVyZSB5YXBcdTAxMzFcdTAxNUZ0XHUwMTMxclwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlBheWxhXHUwMTVGXHUwMTMxbGFuIGtcdTAwRjZcdTAxNUZlbGVyaSBiaXJiaXJpbmUgc2FiaXRsZVwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiS2F0bWFuXHUwMTMxIGRcdTAwRjZuZFx1MDBGQ3JcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiS2xpa251dFx1MDBFRG0gdnl0dm9cdTAxNTlcdTAwRUR0ZSB6bmFcdTAxMERrdVwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLbGlrbnV0XHUwMEVEbSB2eXR2b1x1MDE1OVx1MDBFRHRlIHBydm5cdTAwRUQgb2JqZWt0XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLbGlrbnV0XHUwMEVEbSBwb2tyYVx1MDEwRHVqdGUgdiBrcmVzbGVuXHUwMEVEXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiS2xpa251dFx1MDBFRCBuYSBsaWJvdm9sbm91IGV4aXN0dWpcdTAwRURjXHUwMEVEIHpuYVx1MDEwRGt1IHBybyBkb2tvblx1MDEwRGVuXHUwMEVEXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiVnliZXJ0ZSBwcnZuXHUwMEVEIGJvZCBwcm8gZG9rb25cdTAxMERlblx1MDBFRFwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIktsaWtuXHUwMTFCdGUgcHJvIGRva29uXHUwMTBEZW5cdTAwRURcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiS2xpa251dFx1MDBFRG0gcFx1MDE1OWlkZWp0ZSBzdFx1MDE1OWVkIGtydWh1XCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0MzdcdTA0MzBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDM4XHUwNDQzXHUwNDQxXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWtudXRcdTAwRURtIG5hc3RhdnRlIHBvbG9tXHUwMTFCclwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJEb2tvblx1MDEwRGl0XCIsXG4gICAgXCJjYW5jZWxcIjogXCJacnVcdTAxNjFpdFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlpydVx1MDE2MWl0IHBvc2xlZG5cdTAwRUQgYWtjaVwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJQXHUwMTU5aWRhdCB6bmFcdTAxMERrdVwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJOYWtyZXNsaXQgcG9seWdvblwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJOYWtyZXNsaXQga1x1MDE1OWl2a3VcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJOYWtyZXNsaXQga3J1aFwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJOYWtyZXNsaXQgb2JkXHUwMEU5bG5cdTAwRURrXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiVXByYXZpdCB2cnN0dnVcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJQXHUwMTU5ZW5lc3RlIHZyc3R2dVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiVnlqbW91dCB2cnN0dnVcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlNtYXphdCB2cnN0dnVcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJQXHUwMTU5aWRhdCBrcnVob3ZvdSB6bmFcdTAxMERrdVwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJOYXZcdTAwRTF6YXQgdGFcdTAxN0Vub3Ugem5hXHUwMTBEa3UgayBkYWxcdTAxNjFcdTAwRURtIHZyc3R2XHUwMEUxbSBhIHZyY2hvbFx1MDE2Rm1cIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJTcG9qaXQgc3BvbGVcdTAxMERuXHUwMEU5IGJvZHkgZG9ocm9tYWR5XCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJPdG9cdTAxMER0ZSB2cnN0dnVcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHU5MTREXHU3RjZFXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1MzA1N1x1MzA2Nlx1NjcwMFx1NTIxRFx1MzA2RVx1OTgwMlx1NzBCOVx1MzA5Mlx1OTE0RFx1N0Y2RVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU2M0NGXHU3NTNCXHUzMDkyXHU3RDlBXHUzMDUxXHUzMDhCXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHU0RUZCXHU2MTBGXHUzMDZFXHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU3RDQyXHU0RTg2XCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiXHU2NzAwXHU1MjFEXHUzMDZFXHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU3RDQyXHU0RTg2XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU3RDQyXHU0RTg2XCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlx1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1MzA1N1x1MzA2Nlx1NTE4Nlx1MzA2RVx1NEUyRFx1NUZDM1x1MzA5Mlx1OTE0RFx1N0Y2RVwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU1MTg2XHUzMDZFXHU2M0NGXHU3NTNCXHUzMDkyXHU3RDQyXHU0RTg2XCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1MzA1N1x1MzA2Nlx1NTE4Nlx1MzBERVx1MzBGQ1x1MzBBQlx1MzBGQ1x1MzA5Mlx1OTE0RFx1N0Y2RVwiLFxuICAgIFwicGxhY2VUZXh0XCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMDkyXHU5MTREXHU3RjZFXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlx1N0Q0Mlx1NEU4NlwiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHUzMEFEXHUzMEUzXHUzMEYzXHUzMEJCXHUzMEVCXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHU2NzAwXHU1RjhDXHUzMDZFXHU5ODAyXHU3MEI5XHUzMDkyXHU1MjRBXHU5NjY0XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1MzBERVx1MzBGQ1x1MzBBQlx1MzBGQ1x1MzA5Mlx1NjNDRlx1NzUzQlwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJcdTMwRERcdTMwRUFcdTMwQjRcdTMwRjNcdTMwOTJcdTYzQ0ZcdTc1M0JcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHU2Mjk4XHUzMDhDXHU3RERBXHUzMDkyXHU2M0NGXHU3NTNCXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHU1MTg2XHUzMDkyXHU2M0NGXHU3NTNCXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlx1NzdFOVx1NUY2Mlx1MzA5Mlx1NjNDRlx1NzUzQlwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MzBFQ1x1MzBBNFx1MzBFNFx1MzBGQ1x1MzA5Mlx1N0RFOFx1OTZDNlwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1MzBFQ1x1MzBBNFx1MzBFNFx1MzBGQ1x1MzA5Mlx1MzBDOVx1MzBFOVx1MzBDM1x1MzBCMFwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHUzMEVDXHUzMEE0XHUzMEU0XHUzMEZDXHUzMDkyXHU1MjA3XHUzMDhBXHU1M0Q2XHUzMDhBXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTMwRUNcdTMwQTRcdTMwRTRcdTMwRkNcdTMwOTJcdTUyNEFcdTk2NjRcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTUxODZcdTMwREVcdTMwRkNcdTMwQUJcdTMwRkNcdTMwOTJcdTYzQ0ZcdTc1M0JcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHUzMEM5XHUzMEU5XHUzMEMzXHUzMEIwXHUzMDU3XHUzMDVGXHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHU0RUQ2XHUzMDZFXHUzMEVDXHUzMEE0XHUzMEU0XHUzMEZDXHUzMDg0XHU5ODAyXHU3MEI5XHUzMDZCXHUzMEI5XHUzMENBXHUzMEMzXHUzMEQ3XHUzMDU5XHUzMDhCXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHU1MTcxXHU2NzA5XHUzMDU5XHUzMDhCXHU5ODAyXHU3MEI5XHUzMDkyXHU1NDBDXHU2NjQyXHUzMDZCXHU1MkQ1XHUzMDRCXHUzMDU5XCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJcdTMwRUNcdTMwQTRcdTMwRTRcdTMwRkNcdTMwOTJcdTU2REVcdThFRTJcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMDkyXHU2M0NGXHU3NTNCXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIktsaWtrYWEgYXNldHRhYWtzZXNpIG1lcmtpblwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLbGlra2FhIGFzZXR0YWFrc2VuaSBlbnNpbW1cdTAwRTRpc2VuIG9zdXVkZW5cIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIktsaWtrYWEgamF0a2Fha3Nlc2kgcGlpcnRcdTAwRTRtaXN0XHUwMEU0XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiS2xpa2thYSBvbGVtYXNzYSBvbGV2YWEgbWVya2tpXHUwMEU0IGxvcGV0dGFha3Nlc2lcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJLbGlra2FhIGVuc2ltbVx1MDBFNGlzdFx1MDBFNCBtZXJra2lcdTAwRTQgbG9wZXR0YWFrc2VzaVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIktsaWtrYWEgbG9wZXR0YWFrc2VzaVwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJLbGlra2FhIGFzZXR0YWFrc2VzaSB5bXB5clx1MDBFNG4ga2Vza2lwaXN0ZWVuXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJLbGlra2FhIGxvcGV0dGFha3Nlc2kgeW1weXJcdTAwRTRuXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWtrYWEgYXNldHRhYWtzZXNpIHltcHlyXHUwMEU0bWVya2luXCIsXG4gICAgXCJwbGFjZVRleHRcIjogXCJLbGlra2FhIGFzZXR0YWFrc2VzaSB0ZWtzdGluXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlZhbG1pc1wiLFxuICAgIFwiY2FuY2VsXCI6IFwiUGVydXV0YVwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlBvaXN0YSB2aWltZWluZW4gb3N1dXNcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiUGlpcnJcdTAwRTQgbWVya2tlalx1MDBFNFwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJQaWlyclx1MDBFNCBtb25pa3VsbWlvaXRhXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlBpaXJyXHUwMEU0IHZpaXZvamFcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJQaWlyclx1MDBFNCB5bXB5clx1MDBFNFwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJQaWlyclx1MDBFNCBuZWxpc2t1bG1pb2l0YVwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIk11b2trYWFcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJTaWlyclx1MDBFNFwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiTGVpa2thYVwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiUG9pc3RhXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiUGlpcnJcdTAwRTQgeW1weXJcdTAwRTRtZXJra2lcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiS2lpbm5pdFx1MDBFNCBzaWlycmV0dFx1MDBFNHZcdTAwRTQgbWVya2tpIHRvaXNpaW4gbXVvdG9paGluXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiS2lpbm5pdFx1MDBFNCBqYWV0dXQgbXVvZG90IHlodGVlblwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiS1x1MDBFNFx1MDBFNG5uXHUwMEU0XCIsXG4gICAgXCJkcmF3VGV4dEJ1dHRvblwiOiBcIlBpaXJyXHUwMEU0IHRla3N0aVx1MDBFNFwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdUI5QzhcdUNFRTQgXHVDNzA0XHVDRTU4XHVCOTdDIFx1RDA3NFx1QjlBRFx1RDU1OFx1QzEzOFx1QzY5NFwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJcdUNDQUJcdUJDODhcdUM5RjggXHVBRjJEXHVDOUMwXHVDODEwIFx1QzcwNFx1Q0U1OFx1Qzc0NCBcdUQwNzRcdUI5QURcdUQ1NThcdUMxMzhcdUM2OTRcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIlx1QUNDNFx1QzE4RCBcdUFERjhcdUI5QUNcdUI4MjRcdUJBNzQgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHVCMDVEXHVCMEI0XHVCODI0XHVCQTc0IFx1QUUzMFx1Qzg3NCBcdUI5QzhcdUNFRTRcdUI5N0MgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiXHVCMDVEXHVCMEI0XHVCODI0XHVCQTc0IFx1Q0M5OFx1Qzc0QyBcdUI5QzhcdUNFRTRcdUI5N0MgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHVCMDVEXHVCMEI0XHVCODI0XHVCQTc0IFx1RDA3NFx1QjlBRFx1RDU1OFx1QzEzOFx1QzY5NFwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdUM2RDBcdUM3NTggXHVDOTExXHVDMkVDXHVDNzc0IFx1QjQyMCBcdUM3MDRcdUNFNThcdUI5N0MgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdUM2RDBcdUM3NDQgXHVCMDVEXHVCMEI0XHVCODI0XHVCQTc0IFx1RDA3NFx1QjlBRFx1RDU1OFx1QzEzOFx1QzY5NFwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdUM2RDAgXHVCOUM4XHVDRUU0IFx1QzcwNFx1Q0U1OFx1Qjk3QyBcdUQwNzRcdUI5QURcdUQ1NThcdUMxMzhcdUM2OTRcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIlx1RDE0RFx1QzJBNFx1RDJCOCBcdUM3MDRcdUNFNThcdUI5N0MgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlx1QjA1RFx1QjBCNFx1QUUzMFwiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHVDREU4XHVDMThDXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHVCOUM4XHVDOUMwXHVCOUM5IFx1QUYyRFx1QzlDMFx1QzgxMCBcdUM4MUNcdUFDNzBcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiXHVCOUM4XHVDRUU0IFx1QURGOFx1QjlBQ1x1QUUzMFwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJcdUIyRTRcdUFDMDFcdUQ2MTUgXHVBREY4XHVCOUFDXHVBRTMwXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlx1QjJFNFx1QUMwMVx1QzEyMCBcdUFERjhcdUI5QUNcdUFFMzBcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJcdUM2RDAgXHVBREY4XHVCOUFDXHVBRTMwXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlx1QzlDMVx1QzBBQ1x1QUMwMVx1RDYxNSBcdUFERjhcdUI5QUNcdUFFMzBcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJcdUI4MDhcdUM3NzRcdUM1QjQgXHVEM0I4XHVDOUQxXHVENTU4XHVBRTMwXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiXHVCODA4XHVDNzc0XHVDNUI0IFx1QjA0Q1x1QUUzMFwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHVCODA4XHVDNzc0XHVDNUI0IFx1Qzc5MFx1Qjk3NFx1QUUzMFwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiXHVCODA4XHVDNzc0XHVDNUI0IFx1QzgxQ1x1QUM3MFx1RDU1OFx1QUUzMFwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlx1QzZEMCBcdUI5QzhcdUNFRTQgXHVBREY4XHVCOUFDXHVBRTMwXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlx1QzdBMVx1QzU0NFx1QjA0OCBcdUI5QzhcdUNFRTRcdUI5N0MgXHVCMkU0XHVCOTc4IFx1QjgwOFx1Qzc3NFx1QzVCNCBcdUJDMEYgXHVBRjJEXHVDOUMwXHVDODEwXHVDNUQwIFx1QjRFNFx1QjdFQ1x1QkQ5OVx1QUM4QyBcdUQ1NThcdUFFMzBcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJcdUFDRjVcdUM3MjAgXHVBRjJEXHVDOUMwXHVDODEwXHVDNzQ0IFx1RDU2OFx1QUVEOCBcdUNDMERcdUFFMzBcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlx1QjgwOFx1Qzc3NFx1QzVCNCBcdUQ2OENcdUM4MDRcdUQ1NThcdUFFMzBcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiXHVEMTREXHVDMkE0XHVEMkI4IFx1QURGOFx1QjlBQ1x1QUUzMFwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTA0MUNcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDM2XHUwNDMwXHUwNDM5XHUwNDMzXHUwNDMwXHUwNDQ4XHUwNDQyXHUwNDRCXHUwNDQwXHUwNDQzXHUwNDQzIFx1MDRBRlx1MDQ0N1x1MDRBRlx1MDQzRCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHUwNDExXHUwNDM4XHUwNDQwXHUwNDM4XHUwNDNEXHUwNDQ3XHUwNDM4IFx1MDQ0N1x1MDQzRVx1MDQzQVx1MDQ0M1x1MDQzRFx1MDQ0MyBcdTA0MzZcdTA0MzBcdTA0MzlcdTA0MzNcdTA0MzBcdTA0NDhcdTA0NDJcdTA0NEJcdTA0NDBcdTA0NDNcdTA0NDNcdTA0M0RcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHUwNDIxXHUwNEFGXHUwNDQwXHUwNEU5XHUwNDQyIFx1MDQ0Mlx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQ0M1x1MDQ0M1x1MDQzRFx1MDQ0MyBcdTA0NDNcdTA0M0JcdTA0MzBcdTA0M0RcdTA0NDJcdTA0NDNcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIlx1MDQxMFx1MDQ0Rlx1MDQzQVx1MDQ0Mlx1MDQzRVx1MDQzRSBcdTA0QUZcdTA0NDdcdTA0QUZcdTA0M0QgXHUwNDQzXHUwNDQ3XHUwNDQzXHUwNDQwXHUwNDM0XHUwNDMwXHUwNDMzXHUwNDRCIFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTA0MTFcdTA0QUZcdTA0NDJcdTA0QUZcdTA0NDBcdTA0QUZcdTA0QUYgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzOFx1MDQ0MFx1MDQzOFx1MDQzRFx1MDQ0N1x1MDQzOCBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDMxXHUwNDMwXHUwNDQxXHUwNDRCXHUwNEEzXHUwNDRCXHUwNDM3XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHUwNDExXHUwNEFGXHUwNDQyXHUwNEFGXHUwNDQwXHUwNEFGXHUwNEFGIFx1MDRBRlx1MDQ0N1x1MDRBRlx1MDQzRCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHUwNDEwXHUwNDM5XHUwNDNCXHUwNDMwXHUwNDNEXHUwNDMwXHUwNDNEXHUwNDRCXHUwNDNEIFx1MDQzMVx1MDQzRVx1MDQ0MFx1MDQzMVx1MDQzRVx1MDQ0MFx1MDQ0M1x1MDQzRCBcdTA0MzZcdTA0MzBcdTA0MzlcdTA0MzNcdTA0MzBcdTA0NDhcdTA0NDJcdTA0NEJcdTA0NDBcdTA0NDNcdTA0NDNcdTA0M0RcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUwNDEwXHUwNDM5XHUwNDNCXHUwNDMwXHUwNDNEXHUwNDMwXHUwNDNEXHUwNDRCIFx1MDQzMVx1MDRBRlx1MDQ0Mlx1MDRBRlx1MDQ0MFx1MDRBRlx1MDRBRiBcdTA0QUZcdTA0NDdcdTA0QUZcdTA0M0QgXHUwNDMxXHUwNDMwXHUwNDQxXHUwNDRCXHUwNEEzXHUwNDRCXHUwNDM3XCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1MDQyMlx1MDQzNVx1MDQzM1x1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzQSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDM2XHUwNDMwXHUwNDM5XHUwNDMzXHUwNDMwXHUwNDQ4XHUwNDQyXHUwNDRCXHUwNDQwXHUwNDQzXHUwNDQzIFx1MDRBRlx1MDQ0N1x1MDRBRlx1MDQzRCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIlx1MDQyMlx1MDQzNVx1MDQzQVx1MDQ0MVx1MDQ0Mlx1MDQ0Mlx1MDQzOCBcdTA0MzZcdTA0MzBcdTA0MzlcdTA0MzNcdTA0MzBcdTA0NDhcdTA0NDJcdTA0NEJcdTA0NDBcdTA0NDNcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJcdTA0MTBcdTA0NEZcdTA0MzNcdTA0NEJcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1MDQxNlx1MDQzRVx1MDQzQSBcdTA0M0FcdTA0NEJcdTA0M0JcdTA0NDNcdTA0NDNcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTA0MTBcdTA0M0FcdTA0NEJcdTA0NDBcdTA0M0FcdTA0NEIgXHUwNDQ3XHUwNDNFXHUwNDNBXHUwNDQzXHUwNDNEXHUwNDQzIFx1MDRFOVx1MDQ0N1x1MDRBRlx1MDQ0MFx1MDRBRlx1MDRBRlwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTA0MUNcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDQ3XHUwNDM4XHUwNDM3XHUwNDQzXHUwNDQzXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1MDQxRlx1MDQzRVx1MDQzQlx1MDQzOFx1MDQzM1x1MDQzRVx1MDQzRCBcdTA0NDdcdTA0MzhcdTA0MzdcdTA0NDNcdTA0NDNcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwNDFGXHUwNDNFXHUwNDNCXHUwNDM4XHUwNDNCXHUwNDM4XHUwNDNEXHUwNDM4XHUwNDRGIFx1MDQ0N1x1MDQzOFx1MDQzN1x1MDQ0M1x1MDQ0M1wiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1MDQxNFx1MDQzMFx1MDQzOVx1MDQ0Qlx1MDQzRFx1MDQzNFx1MDQ0QiBcdTA0NDdcdTA0MzhcdTA0MzdcdTA0NDNcdTA0NDNcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHUwNDFGXHUwNDQwXHUwNDRGXHUwNDNDXHUwNDNFXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDNBIFx1MDQ0N1x1MDQzOFx1MDQzN1x1MDQ0M1x1MDQ0M1wiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MDQyMVx1MDQzQlx1MDQzRVx1MDQzRVx1MDQzRlx1MDQ0Mlx1MDQ0MyBcdTA0NDJcdTA0QUZcdTA0MzdcdTA0RTlcdTA0NDJcdTA0QUZcdTA0QUZcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTA0MjFcdTA0M0JcdTA0M0VcdTA0M0VcdTA0M0ZcdTA0NDJcdTA0NDMgXHUwNDNBXHUwNDMwXHUwNDQwXHUwNDMwXHUwNDNGIFx1MDQ0MVx1MDRBRlx1MDQzOVx1MDQzQlx1MDRFOVx1MDRBRlwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHUwNDIxXHUwNDNCXHUwNDNFXHUwNDNFXHUwNDNGXHUwNDQyXHUwNDQzXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0OFx1MDQ0Qlx1MDQzRCBcdTA0M0FcdTA0MzVcdTA0NDFcdTA0QUZcdTA0QUZcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1MDQyMVx1MDQzQlx1MDQzRVx1MDQzRVx1MDQzRlx1MDQ0Mlx1MDQ0M1x1MDQzRCBcdTA0RTlcdTA0NDdcdTA0QUZcdTA0NDBcdTA0QUZcdTA0QUZcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTA0MTRcdTA0MzBcdTA0MzlcdTA0NEJcdTA0M0RcdTA0MzRcdTA0NEIgXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXHUwNDM0XHUwNDM4IFx1MDQ0N1x1MDQzOFx1MDQzN1x1MDQ0M1x1MDQ0M1wiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJcdTA0MTFcdTA0MzBcdTA0NDhcdTA0M0FcdTA0MzAgXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDNFXHUwNDNGXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM0XHUwNDQzXHUwNDNEIFx1MDQzNlx1MDQzMFx1MDQzRFx1MDQzMCBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDJcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzhcdTA0M0QgXHUwNDMwXHUwNDQwXHUwNDMwXHUwNDQxXHUwNDRCXHUwNDNEXHUwNDMwIFx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQzOFx1MDQzQlx1MDQzNFx1MDRFOVx1MDRFOVwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1MDQxMVx1MDRFOVx1MDQzQlx1MDRBRlx1MDQ0OFx1MDQzQVx1MDRFOVx1MDQzRCBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDJcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDMxXHUwNDM4XHUwNDQwXHUwNDMzXHUwNDM1IFx1MDQ0Mlx1MDQ0M1x1MDQ0Mlx1MDQ0M1x1MDQ0OFx1MDQ0Mlx1MDQ0M1x1MDQ0MFx1MDQ0M1x1MDQ0M1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiXHUwNDIxXHUwNDNCXHUwNDNFXHUwNDNFXHUwNDNGXHUwNDQyXHUwNDQzXHUwNDNEIFx1MDRFOVx1MDQzN1x1MDQzM1x1MDRFOVx1MDQ0MFx1MDQ0Mlx1MDRBRlx1MDRBRlwiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJcdTA0MjJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDIgXHUwNDQ3XHUwNDM4XHUwNDM3XHUwNDQzXHUwNDQzXCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIlx1MDQyMVx1MDQzQlx1MDQzRVx1MDQzRVx1MDQzRlx1MDQ0Mlx1MDQ0M1x1MDQzRCBcdTA0RTlcdTA0M0JcdTA0NDdcdTA0RTlcdTA0M0NcdTA0QUZcdTA0M0QgXHUwNEU5XHUwNDM3XHUwNDMzXHUwNEU5XHUwNDQwXHUwNDQyXHUwNEFGXHUwNEFGXCIsXG4gICAgXCJhdXRvVHJhY2luZ0J1dHRvblwiOiBcIlx1MDQxMFx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQzQ1x1MDQzMFx1MDQ0Mlx1MDQ0Mlx1MDQ0Qlx1MDQzQSBcdTA0NDJcdTA0MzhcdTA0MzdcdTA0M0NcdTA0MzVcdTA0MzNcdTA0MzggXHUwNDQ3XHUwNDM4XHUwNDM3XHUwNDQzXHUwNDQzXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJcdTA0MjNcdTA0MzdcdTA0NDNcdTA0M0RcdTA0MzRcdTA0NDNcdTA0M0FcIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJcdTA0MjFcdTA0MzVcdTA0MzNcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDIgXHUwNDQzXHUwNDM3XHUwNDQzXHUwNDNEXHUwNDM0XHUwNDQzXHUwNDMzXHUwNDQzXCIsXG4gICAgXCJhcmVhXCI6IFwiXHUwNDEwXHUwNDM5XHUwNDNDXHUwNDMwXHUwNDNBXCIsXG4gICAgXCJyYWRpdXNcIjogXCJcdTA0MjBcdTA0MzBcdTA0MzRcdTA0MzhcdTA0NDNcdTA0NDFcIixcbiAgICBcInBlcmltZXRlclwiOiBcIlx1MDQxRlx1MDQzNVx1MDQ0MFx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0MFwiLFxuICAgIFwiaGVpZ2h0XCI6IFwiXHUwNDE0XHUwNDM4XHUwNDMwXHUwNDNDXHUwNDM1XHUwNDQyXHUwNDQwXCIsXG4gICAgXCJ3aWR0aFwiOiBcIlx1MDQxQVx1MDQzNVx1MDQzRFx1MDQ0N1x1MDQzOFx1MDQzQlx1MDQzOFx1MDQzQVwiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogXCJcdTA0MUFcdTA0M0VcdTA0M0VcdTA0NDBcdTA0MzRcdTA0MzhcdTA0M0RcdTA0MzBcdTA0NDJcdTA0NDJcdTA0MzBcdTA0NDBcIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXHUwNDM0XHUwNDM4XHUwNDNEIFx1MDQzQVx1MDQzRVx1MDQzRVx1MDQ0MFx1MDQzNFx1MDQzOFx1MDQzRFx1MDQzMFx1MDQ0Mlx1MDQ0Mlx1MDQzMFx1MDQ0MFx1MDQ0QlwiXG4gIH1cbn1cbiIsICJpbXBvcnQgZW4gZnJvbSAnLi9lbi5qc29uJztcbmltcG9ydCBkZSBmcm9tICcuL2RlLmpzb24nO1xuaW1wb3J0IGl0IGZyb20gJy4vaXQuanNvbic7XG5pbXBvcnQgaWQgZnJvbSAnLi9pZC5qc29uJztcbmltcG9ydCBybyBmcm9tICcuL3JvLmpzb24nO1xuaW1wb3J0IHJ1IGZyb20gJy4vcnUuanNvbic7XG5pbXBvcnQgZXMgZnJvbSAnLi9lcy5qc29uJztcbmltcG9ydCBubCBmcm9tICcuL25sLmpzb24nO1xuaW1wb3J0IGZyIGZyb20gJy4vZnIuanNvbic7XG5pbXBvcnQgemggZnJvbSAnLi96aC5qc29uJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbmltcG9ydCB6aF90dyBmcm9tICcuL3poX3R3Lmpzb24nO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuaW1wb3J0IHB0X2JyIGZyb20gJy4vcHRfYnIuanNvbic7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5pbXBvcnQgcHRfcHQgZnJvbSAnLi9wdF9wdC5qc29uJztcbmltcG9ydCBwbCBmcm9tICcuL3BsLmpzb24nO1xuaW1wb3J0IHN2IGZyb20gJy4vc3YuanNvbic7XG5pbXBvcnQgZWwgZnJvbSAnLi9lbC5qc29uJztcbmltcG9ydCBodSBmcm9tICcuL2h1Lmpzb24nO1xuaW1wb3J0IGRhIGZyb20gJy4vZGEuanNvbic7XG5pbXBvcnQgbm8gZnJvbSAnLi9uby5qc29uJztcbmltcG9ydCBmYSBmcm9tICcuL2ZhLmpzb24nO1xuaW1wb3J0IHVhIGZyb20gJy4vdWEuanNvbic7XG5pbXBvcnQgdHIgZnJvbSAnLi90ci5qc29uJztcbmltcG9ydCBjeiBmcm9tICcuL2N6Lmpzb24nO1xuaW1wb3J0IGphIGZyb20gJy4vamEuanNvbic7XG5pbXBvcnQgZmkgZnJvbSAnLi9maS5qc29uJztcbmltcG9ydCBrbyBmcm9tICcuL2tvLmpzb24nO1xuaW1wb3J0IGt5IGZyb20gJy4va3kuanNvbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZW4sXG4gIGRlLFxuICBpdCxcbiAgaWQsXG4gIHJvLFxuICBydSxcbiAgZXMsXG4gIG5sLFxuICBmcixcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBwdF9icixcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBwdF9wdCxcbiAgemgsXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgemhfdHcsXG4gIHBsLFxuICBzdixcbiAgZWwsXG4gIGh1LFxuICBkYSxcbiAgbm8sXG4gIGZhLFxuICB1YSxcbiAgdHIsXG4gIGN6LFxuICBqYSxcbiAgZmksXG4gIGtvLFxuICBreSxcbn07XG4iLCAiLy8gdGhpcyBtaXhpbiBhZGRzIGEgZ2xvYmFsIGVkaXQgbW9kZSB0byB0aGUgbWFwXG5jb25zdCBHbG9iYWxFZGl0TW9kZSA9IHtcbiAgX2dsb2JhbEVkaXRNb2RlRW5hYmxlZDogZmFsc2UsXG4gIGVuYWJsZUdsb2JhbEVkaXRNb2RlKG8pIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgLi4ubyxcbiAgICB9O1xuICAgIC8vIHNldCBzdGF0dXNcbiAgICB0aGlzLl9nbG9iYWxFZGl0TW9kZUVuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gU2V0IHRvb2xiYXIgYnV0dG9uIHRvIGN1cnJlY3Qgc3RhdHVzXG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUJ1dHRvbignZWRpdE1vZGUnLCB0aGlzLmdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpKTtcblxuICAgIC8vIGZpbmQgYWxsIGxheWVycyBoYW5kbGVkIGJ5IGxlYWZsZXQtZ2VvbWFuXG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKTtcblxuICAgIC8vIGVuYWJsZSBhbGwgbGF5ZXJzXG4gICAgbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICBpZiAodGhpcy5faXNSZWxldmFudEZvckVkaXQobGF5ZXIpKSB7XG4gICAgICAgIGxheWVyLnBtLmVuYWJsZShvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghdGhpcy50aHJvdHRsZWRSZUluaXRFZGl0KSB7XG4gICAgICB0aGlzLnRocm90dGxlZFJlSW5pdEVkaXQgPSBMLlV0aWwudGhyb3R0bGUoXG4gICAgICAgIHRoaXMuaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsRWRpdE1vZGUsXG4gICAgICAgIDEwMCxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBzYXZlIHRoZSBhZGRlZCBsYXllcnMgaW50byB0aGUgX2FkZGVkTGF5ZXJzRWRpdCBhcnJheSwgdG8gcmVhZCBpdCBsYXRlciBvdXRcbiAgICB0aGlzLl9hZGRlZExheWVyc0VkaXQgPSB7fTtcbiAgICB0aGlzLm1hcC5vbignbGF5ZXJhZGQnLCB0aGlzLl9sYXllckFkZGVkRWRpdCwgdGhpcyk7XG4gICAgLy8gaGFuZGxlIGxheWVycyB0aGF0IGFyZSBhZGRlZCB3aGlsZSBpbiBlZGl0IG1vZGVcbiAgICB0aGlzLm1hcC5vbignbGF5ZXJhZGQnLCB0aGlzLnRocm90dGxlZFJlSW5pdEVkaXQsIHRoaXMpO1xuXG4gICAgLy8gZmlyZSBldmVudFxuICAgIHRoaXMuX2ZpcmVHbG9iYWxFZGl0TW9kZVRvZ2dsZWQodHJ1ZSk7XG4gIH0sXG4gIGRpc2FibGVHbG9iYWxFZGl0TW9kZSgpIHtcbiAgICAvLyBzZXQgc3RhdHVzXG4gICAgdGhpcy5fZ2xvYmFsRWRpdE1vZGVFbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyBmaW5kIGFsbCBsYXllcnMgaGFuZGxlcyBieSBsZWFmbGV0LWdlb21hblxuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCk7XG5cbiAgICAvLyBkaXNhYmxlIGFsbCBsYXllcnNcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGxheWVyLnBtLmRpc2FibGUoKTtcbiAgICB9KTtcblxuICAgIC8vIGNsZWFudXAgbGF5ZXIgb2ZmIGV2ZW50XG4gICAgdGhpcy5tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWRFZGl0LCB0aGlzKTtcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXRFZGl0LCB0aGlzKTtcblxuICAgIC8vIFNldCB0b29sYmFyIGJ1dHRvbiB0byBjdXJyZWN0IHN0YXR1c1xuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ2VkaXRNb2RlJywgdGhpcy5nbG9iYWxFZGl0TW9kZUVuYWJsZWQoKSk7XG5cbiAgICAvLyBmaXJlIGV2ZW50XG4gICAgdGhpcy5fZmlyZUdsb2JhbEVkaXRNb2RlVG9nZ2xlZChmYWxzZSk7XG4gIH0sXG4gIC8vIFRPRE86IFJlbW92ZSBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gIGdsb2JhbEVkaXRFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpO1xuICB9LFxuICBnbG9iYWxFZGl0TW9kZUVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dsb2JhbEVkaXRNb2RlRW5hYmxlZDtcbiAgfSxcbiAgLy8gVE9ETzogdGhpcyBzaG91bGQgbWF5YmUgcmVtb3ZlZCwgaXQgd2lsbCBvdmVyd3JpdGUgZXhwbGljaXQgb3B0aW9ucyBvbiB0aGUgbGF5ZXJzXG4gIHRvZ2dsZUdsb2JhbEVkaXRNb2RlKG9wdGlvbnMgPSB0aGlzLmdsb2JhbE9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5nbG9iYWxFZGl0TW9kZUVuYWJsZWQoKSkge1xuICAgICAgLy8gZGlzYWJsZVxuICAgICAgdGhpcy5kaXNhYmxlR2xvYmFsRWRpdE1vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZW5hYmxlXG4gICAgICB0aGlzLmVuYWJsZUdsb2JhbEVkaXRNb2RlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsRWRpdE1vZGUoKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gdGhpcy5fYWRkZWRMYXllcnNFZGl0O1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzRWRpdCA9IHt9O1xuICAgIGlmICh0aGlzLmdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpKSB7XG4gICAgICBmb3IgKGNvbnN0IGlkIGluIGxheWVycykge1xuICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tpZF07XG4gICAgICAgIC8vIHdoZW4gZ2xvYmFsIGVkaXQgbW9kZSBpcyBlbmFibGVkIGFuZCBhIGxheWVyIGlzIGFkZGVkIHRvIHRoZSBtYXAsXG4gICAgICAgIC8vIGVuYWJsZSBlZGl0IGZvciB0aGF0IGxheWVyIGlmIGl0J3MgcmVsZXZhbnRcblxuICAgICAgICBpZiAodGhpcy5faXNSZWxldmFudEZvckVkaXQobGF5ZXIpKSB7XG4gICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKHsgLi4udGhpcy5nbG9iYWxPcHRpb25zIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfbGF5ZXJBZGRlZEVkaXQoeyBsYXllciB9KSB7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNFZGl0W0wuc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuICB9LFxuICBfaXNSZWxldmFudEZvckVkaXQobGF5ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgbGF5ZXIucG0gJiZcbiAgICAgICEobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApICYmXG4gICAgICAoKCFMLlBNLm9wdEluICYmICFsYXllci5vcHRpb25zLnBtSWdub3JlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IC8gdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IHNldCAvIHRydWUgKGRlZmF1bHQpXG4gICAgICAgIChMLlBNLm9wdEluICYmIGxheWVyLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSkgJiYgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgZmFsc2VcbiAgICAgICFsYXllci5fcG1UZW1wTGF5ZXIgJiZcbiAgICAgIGxheWVyLnBtLm9wdGlvbnMuYWxsb3dFZGl0aW5nXG4gICAgKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdsb2JhbEVkaXRNb2RlO1xuIiwgImNvbnN0IEdsb2JhbERyYWdNb2RlID0ge1xuICBfZ2xvYmFsRHJhZ01vZGVFbmFibGVkOiBmYWxzZSxcbiAgZW5hYmxlR2xvYmFsRHJhZ01vZGUoKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKTtcblxuICAgIHRoaXMuX2dsb2JhbERyYWdNb2RlRW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNEcmFnID0ge307XG5cbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yRHJhZyhsYXllcikpIHtcbiAgICAgICAgbGF5ZXIucG0uZW5hYmxlTGF5ZXJEcmFnKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMudGhyb3R0bGVkUmVJbml0RHJhZykge1xuICAgICAgdGhpcy50aHJvdHRsZWRSZUluaXREcmFnID0gTC5VdGlsLnRocm90dGxlKFxuICAgICAgICB0aGlzLnJlaW5pdEdsb2JhbERyYWdNb2RlLFxuICAgICAgICAxMDAsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gYWRkIG1hcCBoYW5kbGVyXG4gICAgdGhpcy5tYXAub24oJ2xheWVyYWRkJywgdGhpcy5fbGF5ZXJBZGRlZERyYWcsIHRoaXMpO1xuICAgIHRoaXMubWFwLm9uKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkUmVJbml0RHJhZywgdGhpcyk7XG5cbiAgICAvLyB0b29nbGUgdGhlIGJ1dHRvbiBpbiB0aGUgdG9vbGJhciBpZiB0aGlzIGlzIGNhbGxlZCBwcm9ncmFtYXRpY2FsbHlcbiAgICB0aGlzLlRvb2xiYXIudG9nZ2xlQnV0dG9uKCdkcmFnTW9kZScsIHRoaXMuZ2xvYmFsRHJhZ01vZGVFbmFibGVkKCkpO1xuXG4gICAgdGhpcy5fZmlyZUdsb2JhbERyYWdNb2RlVG9nZ2xlZCh0cnVlKTtcbiAgfSxcbiAgZGlzYWJsZUdsb2JhbERyYWdNb2RlKCkge1xuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCk7XG5cbiAgICB0aGlzLl9nbG9iYWxEcmFnTW9kZUVuYWJsZWQgPSBmYWxzZTtcblxuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgbGF5ZXIucG0uZGlzYWJsZUxheWVyRHJhZygpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIG1hcCBoYW5kbGVyXG4gICAgdGhpcy5tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWREcmFnLCB0aGlzKTtcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXREcmFnLCB0aGlzKTtcblxuICAgIC8vIHRvb2dsZSB0aGUgYnV0dG9uIGluIHRoZSB0b29sYmFyIGlmIHRoaXMgaXMgY2FsbGVkIHByb2dyYW1hdGljYWxseVxuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ2RyYWdNb2RlJywgdGhpcy5nbG9iYWxEcmFnTW9kZUVuYWJsZWQoKSk7XG5cbiAgICB0aGlzLl9maXJlR2xvYmFsRHJhZ01vZGVUb2dnbGVkKGZhbHNlKTtcbiAgfSxcbiAgZ2xvYmFsRHJhZ01vZGVFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2dsb2JhbERyYWdNb2RlRW5hYmxlZDtcbiAgfSxcbiAgdG9nZ2xlR2xvYmFsRHJhZ01vZGUoKSB7XG4gICAgaWYgKHRoaXMuZ2xvYmFsRHJhZ01vZGVFbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUdsb2JhbERyYWdNb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlR2xvYmFsRHJhZ01vZGUoKTtcbiAgICB9XG4gIH0sXG4gIHJlaW5pdEdsb2JhbERyYWdNb2RlKCkge1xuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuX2FkZGVkTGF5ZXJzRHJhZztcbiAgICB0aGlzLl9hZGRlZExheWVyc0RyYWcgPSB7fTtcbiAgICBpZiAodGhpcy5nbG9iYWxEcmFnTW9kZUVuYWJsZWQoKSkge1xuICAgICAgZm9yIChjb25zdCBpZCBpbiBsYXllcnMpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBsYXllcnNbaWRdO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yRHJhZyhsYXllcikpIHtcbiAgICAgICAgICBsYXllci5wbS5lbmFibGVMYXllckRyYWcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgX2xheWVyQWRkZWREcmFnKHsgbGF5ZXIgfSkge1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzRHJhZ1tMLnN0YW1wKGxheWVyKV0gPSBsYXllcjtcbiAgfSxcbiAgX2lzUmVsZXZhbnRGb3JEcmFnKGxheWVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGxheWVyLnBtICYmXG4gICAgICAhKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSAmJlxuICAgICAgKCghTC5QTS5vcHRJbiAmJiAhbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSkgfHwgLy8gaWYgb3B0SW4gaXMgbm90IHNldCAvIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBzZXQgLyB0cnVlIChkZWZhdWx0KVxuICAgICAgICAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkpICYmIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlXG4gICAgICAhbGF5ZXIuX3BtVGVtcExheWVyICYmXG4gICAgICBsYXllci5wbS5vcHRpb25zLmRyYWdnYWJsZVxuICAgICk7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBHbG9iYWxEcmFnTW9kZTtcbiIsICJjb25zdCBHbG9iYWxSZW1vdmFsTW9kZSA9IHtcbiAgX2dsb2JhbFJlbW92YWxNb2RlRW5hYmxlZDogZmFsc2UsXG4gIGVuYWJsZUdsb2JhbFJlbW92YWxNb2RlKCkge1xuICAgIHRoaXMuX2dsb2JhbFJlbW92YWxNb2RlRW5hYmxlZCA9IHRydWU7XG4gICAgLy8gaGFuZGxlIGV4aXN0aW5nIGxheWVyc1xuICAgIHRoaXMubWFwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yUmVtb3ZhbChsYXllcikpIHtcbiAgICAgICAgaWYgKGxheWVyLnBtLmVuYWJsZWQoKSkge1xuICAgICAgICAgIGxheWVyLnBtLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgICAgICBsYXllci5vbignY2xpY2snLCB0aGlzLnJlbW92ZUxheWVyLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghdGhpcy50aHJvdHRsZWRSZUluaXRSZW1vdmFsKSB7XG4gICAgICB0aGlzLnRocm90dGxlZFJlSW5pdFJlbW92YWwgPSBMLlV0aWwudGhyb3R0bGUoXG4gICAgICAgIHRoaXMuaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsUmVtb3ZhbE1vZGUsXG4gICAgICAgIDEwMCxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG4gICAgLy8gc2F2ZSB0aGUgYWRkZWQgbGF5ZXJzIGludG8gdGhlIF9hZGRlZExheWVyc1JlbW92YWwgYXJyYXksIHRvIHJlYWQgaXQgbGF0ZXIgb3V0XG4gICAgdGhpcy5fYWRkZWRMYXllcnNSZW1vdmFsID0ge307XG4gICAgLy8gaGFuZGxlIGxheWVycyB0aGF0IGFyZSBhZGRlZCB3aGlsZSBpbiByZW1vdmFsIG1vZGVcbiAgICB0aGlzLm1hcC5vbignbGF5ZXJhZGQnLCB0aGlzLl9sYXllckFkZGVkUmVtb3ZhbCwgdGhpcyk7XG4gICAgdGhpcy5tYXAub24oJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXRSZW1vdmFsLCB0aGlzKTtcblxuICAgIC8vIHRvb2dsZSB0aGUgYnV0dG9uIGluIHRoZSB0b29sYmFyIGlmIHRoaXMgaXMgY2FsbGVkIHByb2dyYW1hdGljYWxseVxuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ3JlbW92YWxNb2RlJywgdGhpcy5nbG9iYWxSZW1vdmFsTW9kZUVuYWJsZWQoKSk7XG5cbiAgICB0aGlzLl9maXJlR2xvYmFsUmVtb3ZhbE1vZGVUb2dnbGVkKHRydWUpO1xuICB9LFxuICBkaXNhYmxlR2xvYmFsUmVtb3ZhbE1vZGUoKSB7XG4gICAgdGhpcy5fZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgbGF5ZXIub2ZmKCdjbGljaycsIHRoaXMucmVtb3ZlTGF5ZXIsIHRoaXMpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIG1hcCBoYW5kbGVyXG4gICAgdGhpcy5tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWRSZW1vdmFsLCB0aGlzKTtcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXRSZW1vdmFsLCB0aGlzKTtcblxuICAgIC8vIHRvb2dsZSB0aGUgYnV0dG9uIGluIHRoZSB0b29sYmFyIGlmIHRoaXMgaXMgY2FsbGVkIHByb2dyYW1hdGljYWxseVxuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ3JlbW92YWxNb2RlJywgdGhpcy5nbG9iYWxSZW1vdmFsTW9kZUVuYWJsZWQoKSk7XG5cbiAgICB0aGlzLl9maXJlR2xvYmFsUmVtb3ZhbE1vZGVUb2dnbGVkKGZhbHNlKTtcbiAgfSxcbiAgLy8gVE9ETzogUmVtb3ZlIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgZ2xvYmFsUmVtb3ZhbEVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkKCk7XG4gIH0sXG4gIGdsb2JhbFJlbW92YWxNb2RlRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9nbG9iYWxSZW1vdmFsTW9kZUVuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZUdsb2JhbFJlbW92YWxNb2RlKCkge1xuICAgIC8vIHRvZ2dsZSBnbG9iYWwgZWRpdCBtb2RlXG4gICAgaWYgKHRoaXMuZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUdsb2JhbFJlbW92YWxNb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlR2xvYmFsUmVtb3ZhbE1vZGUoKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZUxheWVyKGUpIHtcbiAgICBjb25zdCBsYXllciA9IGUudGFyZ2V0O1xuICAgIC8vIG9ubHkgcmVtb3ZlIGxheWVyLCBpZiBpdCdzIGhhbmRsZWQgYnkgbGVhZmxldC1nZW9tYW4sXG4gICAgLy8gbm90IGEgdGVtcExheWVyIGFuZCBub3QgY3VycmVudGx5IGJlaW5nIGRyYWdnZWRcbiAgICBjb25zdCByZW1vdmVhYmxlID1cbiAgICAgIHRoaXMuX2lzUmVsZXZhbnRGb3JSZW1vdmFsKGxheWVyKSAmJiAhbGF5ZXIucG0uZHJhZ2dpbmcoKTtcblxuICAgIGlmIChyZW1vdmVhYmxlKSB7XG4gICAgICBsYXllci5yZW1vdmVGcm9tKHRoaXMubWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG4gICAgICBsYXllci5yZW1vdmUoKTtcbiAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICB0aGlzLl9maXJlUmVtb3ZlTGF5ZXJHcm91cChsYXllcik7XG4gICAgICAgIHRoaXMuX2ZpcmVSZW1vdmVMYXllckdyb3VwKHRoaXMubWFwLCBsYXllcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXllci5wbS5fZmlyZVJlbW92ZShsYXllcik7XG4gICAgICAgIGxheWVyLnBtLl9maXJlUmVtb3ZlKHRoaXMubWFwLCBsYXllcik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfaXNSZWxldmFudEZvclJlbW92YWwobGF5ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgbGF5ZXIucG0gJiZcbiAgICAgICEobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApICYmXG4gICAgICAoKCFMLlBNLm9wdEluICYmICFsYXllci5vcHRpb25zLnBtSWdub3JlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IC8gdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IHNldCAvIHRydWUgKGRlZmF1bHQpXG4gICAgICAgIChMLlBNLm9wdEluICYmIGxheWVyLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSkgJiYgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgZmFsc2VcbiAgICAgICFsYXllci5fcG1UZW1wTGF5ZXIgJiZcbiAgICAgIGxheWVyLnBtLm9wdGlvbnMuYWxsb3dSZW1vdmFsXG4gICAgKTtcbiAgfSxcbiAgaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsUmVtb3ZhbE1vZGUoKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gdGhpcy5fYWRkZWRMYXllcnNSZW1vdmFsO1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzUmVtb3ZhbCA9IHt9O1xuICAgIGlmICh0aGlzLmdsb2JhbFJlbW92YWxNb2RlRW5hYmxlZCgpKSB7XG4gICAgICBmb3IgKGNvbnN0IGlkIGluIGxheWVycykge1xuICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tpZF07XG4gICAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yUmVtb3ZhbChsYXllcikpIHtcbiAgICAgICAgICBpZiAobGF5ZXIucG0uZW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBsYXllci5wbS5kaXNhYmxlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxheWVyLm9uKCdjbGljaycsIHRoaXMucmVtb3ZlTGF5ZXIsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfbGF5ZXJBZGRlZFJlbW92YWwoeyBsYXllciB9KSB7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNSZW1vdmFsW0wuc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgR2xvYmFsUmVtb3ZhbE1vZGU7XG4iLCAiY29uc3QgR2xvYmFsUm90YXRlTW9kZSA9IHtcbiAgX2dsb2JhbFJvdGF0ZU1vZGVFbmFibGVkOiBmYWxzZSxcbiAgZW5hYmxlR2xvYmFsUm90YXRlTW9kZSgpIHtcbiAgICB0aGlzLl9nbG9iYWxSb3RhdGVNb2RlRW5hYmxlZCA9IHRydWU7XG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKS5maWx0ZXIoXG4gICAgICAobCkgPT4gbCBpbnN0YW5jZW9mIEwuUG9seWxpbmVcbiAgICApO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lzUmVsZXZhbnRGb3JSb3RhdGUobGF5ZXIpKSB7XG4gICAgICAgIGxheWVyLnBtLmVuYWJsZVJvdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnRocm90dGxlZFJlSW5pdFJvdGF0ZSkge1xuICAgICAgdGhpcy50aHJvdHRsZWRSZUluaXRSb3RhdGUgPSBMLlV0aWwudGhyb3R0bGUoXG4gICAgICAgIHRoaXMuaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsUm90YXRlTW9kZSxcbiAgICAgICAgMTAwLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuX2FkZGVkTGF5ZXJzUm90YXRlID0ge307XG4gICAgLy8gaGFuZGxlIGxheWVycyB0aGF0IGFyZSBhZGRlZCB3aGlsZSBpbiByb3RhdGUgbW9kZVxuICAgIHRoaXMubWFwLm9uKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWRSb3RhdGUsIHRoaXMpO1xuICAgIHRoaXMubWFwLm9uKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkUmVJbml0Um90YXRlLCB0aGlzKTtcblxuICAgIC8vIHRvb2dsZSB0aGUgYnV0dG9uIGluIHRoZSB0b29sYmFyIGlmIHRoaXMgaXMgY2FsbGVkIHByb2dyYW1hdGljYWxseVxuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ3JvdGF0ZU1vZGUnLCB0aGlzLmdsb2JhbFJvdGF0ZU1vZGVFbmFibGVkKCkpO1xuICAgIHRoaXMuX2ZpcmVHbG9iYWxSb3RhdGVNb2RlVG9nZ2xlZCgpO1xuICB9LFxuICBkaXNhYmxlR2xvYmFsUm90YXRlTW9kZSgpIHtcbiAgICB0aGlzLl9nbG9iYWxSb3RhdGVNb2RlRW5hYmxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCkuZmlsdGVyKFxuICAgICAgKGwpID0+IGwgaW5zdGFuY2VvZiBMLlBvbHlsaW5lXG4gICAgKTtcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGxheWVyLnBtLmRpc2FibGVSb3RhdGUoKTtcbiAgICB9KTtcblxuICAgIC8vIHJlbW92ZSBtYXAgaGFuZGxlclxuICAgIHRoaXMubWFwLm9mZignbGF5ZXJhZGQnLCB0aGlzLl9sYXllckFkZGVkUm90YXRlLCB0aGlzKTtcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXRSb3RhdGUsIHRoaXMpO1xuXG4gICAgLy8gdG9vZ2xlIHRoZSBidXR0b24gaW4gdGhlIHRvb2xiYXIgaWYgdGhpcyBpcyBjYWxsZWQgcHJvZ3JhbWF0aWNhbGx5XG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUJ1dHRvbigncm90YXRlTW9kZScsIHRoaXMuZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQoKSk7XG4gICAgdGhpcy5fZmlyZUdsb2JhbFJvdGF0ZU1vZGVUb2dnbGVkKCk7XG4gIH0sXG4gIGdsb2JhbFJvdGF0ZU1vZGVFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2dsb2JhbFJvdGF0ZU1vZGVFbmFibGVkO1xuICB9LFxuICB0b2dnbGVHbG9iYWxSb3RhdGVNb2RlKCkge1xuICAgIGlmICh0aGlzLmdsb2JhbFJvdGF0ZU1vZGVFbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUdsb2JhbFJvdGF0ZU1vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGVHbG9iYWxSb3RhdGVNb2RlKCk7XG4gICAgfVxuICB9LFxuICBfaXNSZWxldmFudEZvclJvdGF0ZShsYXllcikge1xuICAgIHJldHVybiAoXG4gICAgICBsYXllci5wbSAmJlxuICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLlBvbHlsaW5lICYmXG4gICAgICAhKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSAmJlxuICAgICAgKCghTC5QTS5vcHRJbiAmJiAhbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSkgfHwgLy8gaWYgb3B0SW4gaXMgbm90IHNldCAvIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBzZXQgLyB0cnVlIChkZWZhdWx0KVxuICAgICAgICAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkpICYmIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlXG4gICAgICAhbGF5ZXIuX3BtVGVtcExheWVyICYmXG4gICAgICBsYXllci5wbS5vcHRpb25zLmFsbG93Um90YXRpb25cbiAgICApO1xuICB9LFxuICBoYW5kbGVMYXllckFkZGl0aW9uSW5HbG9iYWxSb3RhdGVNb2RlKCkge1xuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuX2FkZGVkTGF5ZXJzUm90YXRlO1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzUm90YXRlID0ge307XG4gICAgaWYgKHRoaXMuZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQoKSkge1xuICAgICAgZm9yIChjb25zdCBpZCBpbiBsYXllcnMpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBsYXllcnNbaWRdO1xuICAgICAgICBpZiAodGhpcy5faXNSZWxldmFudEZvclJlbW92YWwobGF5ZXIpKSB7XG4gICAgICAgICAgbGF5ZXIucG0uZW5hYmxlUm90YXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIF9sYXllckFkZGVkUm90YXRlKHsgbGF5ZXIgfSkge1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzUm90YXRlW0wuc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuICB9LFxufTtcbmV4cG9ydCBkZWZhdWx0IEdsb2JhbFJvdGF0ZU1vZGU7XG4iLCAiaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC9tZXJnZSc7XG5cbmNvbnN0IEV2ZW50TWl4aW4gPSB7XG4gIC8vIERyYXcgRXZlbnRzXG4gIC8vIEZpcmVkIHdoZW4gZW5hYmxlRHJhdygpIGlzIGNhbGxlZCAtPiBkcmF3IHN0YXJ0XG4gIF9maXJlRHJhd1N0YXJ0KHNvdXJjZSA9ICdEcmF3JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICAncG06ZHJhd3N0YXJ0JyxcbiAgICAgIHtcbiAgICAgICAgc2hhcGU6IHRoaXMuX3NoYXBlLFxuICAgICAgICB3b3JraW5nTGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGRpc2FibGVEcmF3KCkgaXMgY2FsbGVkIC0+IGRyYXcgc3RvcFxuICBfZmlyZURyYXdFbmQoc291cmNlID0gJ0RyYXcnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpkcmF3ZW5kJyxcbiAgICAgIHtcbiAgICAgICAgc2hhcGU6IHRoaXMuX3NoYXBlLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGNyZWF0ZWQgd2hpbGUgZHJhd2luZ1xuICBfZmlyZUNyZWF0ZShsYXllciwgc291cmNlID0gJ0RyYXcnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpjcmVhdGUnLFxuICAgICAge1xuICAgICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICAgIG1hcmtlcjogbGF5ZXIsIC8vIFRPRE86IERlcHJlY2F0ZWRcbiAgICAgICAgbGF5ZXIsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gQ2lyY2xlIC8gQ2lyY2xlTWFya2VyIGNlbnRlciBpcyBwbGFjZWRcbiAgLy8gaWYgc291cmNlID09IFwiRHJhd1wiIHRoZW4gYHdvcmtpbmdMYXllcmAgaXMgcGFzc2VkIGVsc2UgYGxheWVyYFxuICBfZmlyZUNlbnRlclBsYWNlZChzb3VyY2UgPSAnRHJhdycsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIGNvbnN0IHdvcmtpbmdMYXllciA9IHNvdXJjZSA9PT0gJ0RyYXcnID8gdGhpcy5fbGF5ZXIgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbGF5ZXIgPSBzb3VyY2UgIT09ICdEcmF3JyA/IHRoaXMuX2xheWVyIDogdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpjZW50ZXJwbGFjZWQnLFxuICAgICAge1xuICAgICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICAgIHdvcmtpbmdMYXllcixcbiAgICAgICAgbGF5ZXIsXG4gICAgICAgIGxhdGxuZzogdGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gbGF5ZXIgaXMgY3V0dGVkXG4gIC8vIFRPRE86IGlzIEN1dCBcIkRyYXdcIiBvciBcIkVkaXRcIj8gVGhlIGV2ZW50IGBwbTplZGl0YCBpbiB0aGUgc2FtZSBzY29wZSBpcyBjYWxsZWQgYXMgc291cmNlIFwiRWRpdFwiXG4gIF9maXJlQ3V0KFxuICAgIGZpcmVMYXllcixcbiAgICBsYXllcixcbiAgICBvcmlnaW5hbExheWVyLFxuICAgIHNvdXJjZSA9ICdEcmF3JyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06Y3V0JyxcbiAgICAgIHtcbiAgICAgICAgc2hhcGU6IHRoaXMuX3NoYXBlLFxuICAgICAgICBsYXllcixcbiAgICAgICAgb3JpZ2luYWxMYXllcixcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcblxuICAvLyBFZGl0IEV2ZW50c1xuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGVkaXRlZCAvIGNoYW5nZWRcbiAgX2ZpcmVFZGl0KGZpcmVMYXllciA9IHRoaXMuX2xheWVyLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgZmlyZUxheWVyLFxuICAgICAgJ3BtOmVkaXQnLFxuICAgICAgeyBsYXllcjogdGhpcy5fbGF5ZXIsIHNoYXBlOiB0aGlzLmdldFNoYXBlKCkgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGVuYWJsZWQgZm9yIGVkaXRpbmdcbiAgX2ZpcmVFbmFibGUoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmVuYWJsZScsXG4gICAgICB7IGxheWVyOiB0aGlzLl9sYXllciwgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gbGF5ZXIgaXMgZGlzYWJsZWQgZm9yIGVkaXRpbmdcbiAgX2ZpcmVEaXNhYmxlKHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpkaXNhYmxlJyxcbiAgICAgIHsgbGF5ZXI6IHRoaXMuX2xheWVyLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBsYXllciBpcyBkaXNhYmxlZCBhbmQgd2FzIGVkaXRlZCAvIGNoYW5nZWRcbiAgX2ZpcmVVcGRhdGUoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOnVwZGF0ZScsXG4gICAgICB7IGxheWVyOiB0aGlzLl9sYXllciwgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXgtbWFya2VyIGlzIHN0YXJ0ZWQgZHJhZ2dpbmdcbiAgLy8gaW5kZXhQYXRoIGlzIG9ubHkgcGFzc2VkIGZyb20gTGluZSAvIFBvbHlnb25cbiAgX2ZpcmVNYXJrZXJEcmFnU3RhcnQoXG4gICAgZSxcbiAgICBpbmRleFBhdGggPSB1bmRlZmluZWQsXG4gICAgc291cmNlID0gJ0VkaXQnLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOm1hcmtlcmRyYWdzdGFydCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgbWFya2VyRXZlbnQ6IGUsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICAgIGluZGV4UGF0aCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hpbGUgZHJhZ2dpbmcgYSB2ZXJ0ZXgtbWFya2VyXG4gIC8vIGluZGV4UGF0aCBpcyBvbmx5IHBhc3NlZCBmcm9tIExpbmUgLyBQb2x5Z29uXG4gIF9maXJlTWFya2VyRHJhZyhcbiAgICBlLFxuICAgIGluZGV4UGF0aCA9IHVuZGVmaW5lZCxcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06bWFya2VyZHJhZycsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgbWFya2VyRXZlbnQ6IGUsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICAgIGluZGV4UGF0aCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIHZlcnRleC1tYXJrZXIgaXMgc3RvcHBlZCBkcmFnZ2luZ1xuICAvLyBpbmRleFBhdGggYW5kIGludGVyc2VjdGlvblJlc2V0IGlzIG9ubHkgcGFzc2VkIGZyb20gTGluZSAvIFBvbHlnb25cbiAgX2ZpcmVNYXJrZXJEcmFnRW5kKFxuICAgIGUsXG4gICAgaW5kZXhQYXRoID0gdW5kZWZpbmVkLFxuICAgIGludGVyc2VjdGlvblJlc2V0ID0gdW5kZWZpbmVkLFxuICAgIHNvdXJjZSA9ICdFZGl0JyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTptYXJrZXJkcmFnZW5kJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBtYXJrZXJFdmVudDogZSxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgICAgaW5kZXhQYXRoLFxuICAgICAgICBpbnRlcnNlY3Rpb25SZXNldCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIGxheWVyIGlzIHN0YXJ0ZWQgZHJhZ2dpbmdcbiAgX2ZpcmVEcmFnU3RhcnQoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmRyYWdzdGFydCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hpbGUgZHJhZ2dpbmcgYSBsYXllclxuICBfZmlyZURyYWcoZSwgc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmRyYWcnLFxuICAgICAgeyAuLi5lLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIGxheWVyIGlzIHN0b3BwZWQgZHJhZ2dpbmdcbiAgX2ZpcmVEcmFnRW5kKHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpkcmFnZW5kJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGVuYWJsZWQgZm9yIGVkaXRpbmdcbiAgX2ZpcmVEcmFnRW5hYmxlKHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpkcmFnZW5hYmxlJyxcbiAgICAgIHsgbGF5ZXI6IHRoaXMuX2xheWVyLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBsYXllciBpcyBkaXNhYmxlZCBmb3IgZWRpdGluZ1xuICBfZmlyZURyYWdEaXNhYmxlKHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpkcmFnZGlzYWJsZScsXG4gICAgICB7IGxheWVyOiB0aGlzLl9sYXllciwgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSBsYXllciBpcyByZW1vdmVkXG4gIF9maXJlUmVtb3ZlKFxuICAgIGZpcmVMYXllcixcbiAgICByZWZMYXllciA9IGZpcmVMYXllcixcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgZmlyZUxheWVyLFxuICAgICAgJ3BtOnJlbW92ZScsXG4gICAgICB7IGxheWVyOiByZWZMYXllciwgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXgtbWFya2VyIGlzIGNyZWF0ZWRcbiAgX2ZpcmVWZXJ0ZXhBZGRlZChcbiAgICBtYXJrZXIsXG4gICAgaW5kZXhQYXRoLFxuICAgIGxhdGxuZyxcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dmVydGV4YWRkZWQnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHdvcmtpbmdMYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIG1hcmtlcixcbiAgICAgICAgaW5kZXhQYXRoLFxuICAgICAgICBsYXRsbmcsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXgtbWFya2VyIGlzIHJlbW92ZWRcbiAgX2ZpcmVWZXJ0ZXhSZW1vdmVkKG1hcmtlciwgaW5kZXhQYXRoLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dmVydGV4cmVtb3ZlZCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgbWFya2VyLFxuICAgICAgICBpbmRleFBhdGgsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICAgIC8vIFRPRE86IG1heWJlIGFkZCBsYXRsbmcgYXMgd2VsbD9cbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIHZlcnRleC1tYXJrZXIgaXMgY2xpY2tlZFxuICBfZmlyZVZlcnRleENsaWNrKGUsIGluZGV4UGF0aCwgc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOnZlcnRleGNsaWNrJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBtYXJrZXJFdmVudDogZSxcbiAgICAgICAgaW5kZXhQYXRoLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGEgTGluZSAvIFBvbHlnb24gaGFzIHNlbGYgaW50ZXJzZWN0aW9uXG4gIF9maXJlSW50ZXJzZWN0KFxuICAgIGludGVyc2VjdGlvbixcbiAgICBmaXJlTGF5ZXIgPSB0aGlzLl9sYXllcixcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgZmlyZUxheWVyLFxuICAgICAgJ3BtOmludGVyc2VjdCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgaW50ZXJzZWN0aW9uLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGEgTGluZSAvIFBvbHlnb24gaXMgcmVzZXQgYmVjYXVzZSBvZiBzZWxmIGludGVyc2VjdGlvblxuICBfZmlyZUxheWVyUmVzZXQoZSwgaW5kZXhQYXRoLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06bGF5ZXJyZXNldCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgbWFya2VyRXZlbnQ6IGUsXG4gICAgICAgIGluZGV4UGF0aCxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcblxuICAvLyBGaXJlZCBjb29yZGluYXRlcyBvZiB0aGUgbGF5ZXIgY2hhbmdlZFxuICBfZmlyZUNoYW5nZShsYXRsbmdzLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06Y2hhbmdlJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBsYXRsbmdzLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuXG4gIC8vIEZpcmVkIHdoZW4gdGV4dCBvZiBhIHRleHQgbGF5ZXIgY2hhbmdlZFxuICBfZmlyZVRleHRDaGFuZ2UodGV4dCwgc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOnRleHRjaGFuZ2UnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHRleHQsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG5cbiAgLy8gRmlyZWQgd2hlbiB0ZXh0IGxheWVyIGZvY3VzZWRcbiAgX2ZpcmVUZXh0Rm9jdXMoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOnRleHRmb2N1cycsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiB0ZXh0IGxheWVyIGJsdXJyZWRcbiAgX2ZpcmVUZXh0Qmx1cihzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dGV4dGJsdXInLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG5cbiAgLy8gU25hcHBpbmcgRXZlbnRzXG4gIC8vIEZpcmVkIGR1cmluZyBhIG1hcmtlciBtb3ZlL2RyYWcgYW5kIG90aGVyIGxheWVycyBhcmUgZXhpc3RpbmdcbiAgX2ZpcmVTbmFwRHJhZyhmaXJlTGF5ZXIsIGV2ZW50SW5mbywgc291cmNlID0gJ1NuYXBwaW5nJywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoZmlyZUxheWVyLCAncG06c25hcGRyYWcnLCBldmVudEluZm8sIHNvdXJjZSwgY3VzdG9tUGF5bG9hZCk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXggaXMgc25hcHBlZFxuICBfZmlyZVNuYXAoZmlyZUxheWVyLCBldmVudEluZm8sIHNvdXJjZSA9ICdTbmFwcGluZycsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKGZpcmVMYXllciwgJ3BtOnNuYXAnLCBldmVudEluZm8sIHNvdXJjZSwgY3VzdG9tUGF5bG9hZCk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXggaXMgdW5zbmFwcGVkXG4gIF9maXJlVW5zbmFwKGZpcmVMYXllciwgZXZlbnRJbmZvLCBzb3VyY2UgPSAnU25hcHBpbmcnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShmaXJlTGF5ZXIsICdwbTp1bnNuYXAnLCBldmVudEluZm8sIHNvdXJjZSwgY3VzdG9tUGF5bG9hZCk7XG4gIH0sXG5cbiAgLy8gUm90YXRpb24gRXZlbnRzXG4gIC8vIEZpcmVkIHdoZW4gcm90YXRpb24gaXMgZW5hYmxlZFxuICBfZmlyZVJvdGF0aW9uRW5hYmxlKFxuICAgIGZpcmVMYXllcixcbiAgICBoZWxwTGF5ZXIsXG4gICAgc291cmNlID0gJ1JvdGF0aW9uJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cm90YXRlZW5hYmxlJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBoZWxwTGF5ZXI6IHRoaXMuX3JvdGF0ZVBvbHksXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gcm90YXRpb24gaXMgZGlzYWJsZWRcbiAgX2ZpcmVSb3RhdGlvbkRpc2FibGUoZmlyZUxheWVyLCBzb3VyY2UgPSAnUm90YXRpb24nLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIGZpcmVMYXllcixcbiAgICAgICdwbTpyb3RhdGVkaXNhYmxlJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIHJvdGF0aW9uIHN0YXJ0c1xuICBfZmlyZVJvdGF0aW9uU3RhcnQoXG4gICAgZmlyZUxheWVyLFxuICAgIG9yaWdpbkxhdExuZ3MsXG4gICAgc291cmNlID0gJ1JvdGF0aW9uJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cm90YXRlc3RhcnQnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fcm90YXRpb25MYXllcixcbiAgICAgICAgaGVscExheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgc3RhcnRBbmdsZTogdGhpcy5fc3RhcnRBbmdsZSxcbiAgICAgICAgb3JpZ2luTGF0TG5ncyxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hpbGUgcm90YXRpb25cbiAgX2ZpcmVSb3RhdGlvbihcbiAgICBmaXJlTGF5ZXIsXG4gICAgYW5nbGVEaWZmLFxuICAgIG9sZExhdExuZ3MsXG4gICAgcm90YXRpb25MYXllciA9IHRoaXMuX3JvdGF0aW9uTGF5ZXIsXG4gICAgc291cmNlID0gJ1JvdGF0aW9uJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cm90YXRlJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHJvdGF0aW9uTGF5ZXIsXG4gICAgICAgIGhlbHBMYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHN0YXJ0QW5nbGU6IHRoaXMuX3N0YXJ0QW5nbGUsXG4gICAgICAgIGFuZ2xlOiByb3RhdGlvbkxheWVyLnBtLmdldEFuZ2xlKCksXG4gICAgICAgIGFuZ2xlRGlmZixcbiAgICAgICAgb2xkTGF0TG5ncyxcbiAgICAgICAgbmV3TGF0TG5nczogcm90YXRpb25MYXllci5nZXRMYXRMbmdzKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gcm90YXRpb24gZW5kc1xuICBfZmlyZVJvdGF0aW9uRW5kKFxuICAgIGZpcmVMYXllcixcbiAgICBzdGFydEFuZ2xlLFxuICAgIG9yaWdpbkxhdExuZ3MsXG4gICAgc291cmNlID0gJ1JvdGF0aW9uJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cm90YXRlZW5kJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX3JvdGF0aW9uTGF5ZXIsXG4gICAgICAgIGhlbHBMYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHN0YXJ0QW5nbGUsXG4gICAgICAgIGFuZ2xlOiB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLmdldEFuZ2xlKCksXG4gICAgICAgIG9yaWdpbkxhdExuZ3MsXG4gICAgICAgIG5ld0xhdExuZ3M6IHRoaXMuX3JvdGF0aW9uTGF5ZXIuZ2V0TGF0TG5ncygpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuXG4gIC8vIEdsb2JhbCBFdmVudHNcbiAgLy8gRmlyZWQgd2hlbiBhIFRvb2xiYXIgYWN0aW9uIGlzIGNsaWNrZWRcbiAgX2ZpcmVBY3Rpb25DbGljayhcbiAgICBhY3Rpb24sXG4gICAgYnRuTmFtZSxcbiAgICBidXR0b24sXG4gICAgc291cmNlID0gJ1Rvb2xiYXInLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICAvLyB0aGlzLl9tYXAgaXMgdXNlZCBiZWNhdXNlIHRoaXMgaXMgZmlyZWQgZnJvbSBMLkNvbnRyb2xzIChQTUJ1dHRvbilcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTphY3Rpb25jbGljaycsXG4gICAgICB7XG4gICAgICAgIHRleHQ6IGFjdGlvbi50ZXh0LFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIGJ0bk5hbWUsXG4gICAgICAgIGJ1dHRvbixcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIFRvb2xiYXIgYnV0dG9uIGlzIGNsaWNrZWRcbiAgX2ZpcmVCdXR0b25DbGljayhidG5OYW1lLCBidXR0b24sIHNvdXJjZSA9ICdUb29sYmFyJywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgLy8gdGhpcy5fbWFwIGlzIHVzZWQgYmVjYXVzZSB0aGlzIGlzIGZpcmVkIGZyb20gTC5Db250cm9scyAoUE1CdXR0b24pXG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICAncG06YnV0dG9uY2xpY2snLFxuICAgICAgeyBidG5OYW1lLCBidXR0b24gfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxhbmd1YWdlIGlzIGNoYW5nZWRcbiAgX2ZpcmVMYW5nQ2hhbmdlKFxuICAgIG9sZExhbmcsXG4gICAgYWN0aXZlTGFuZyxcbiAgICBmYWxsYmFjayxcbiAgICB0cmFuc2xhdGlvbnMsXG4gICAgc291cmNlID0gJ0dsb2JhbCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5tYXAsXG4gICAgICAncG06bGFuZ2NoYW5nZScsXG4gICAgICB7XG4gICAgICAgIG9sZExhbmcsXG4gICAgICAgIGFjdGl2ZUxhbmcsXG4gICAgICAgIGZhbGxiYWNrLFxuICAgICAgICB0cmFuc2xhdGlvbnMsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gRHJhZyBNb2RlIGlzIHRvZ2dsZWQuXG4gIF9maXJlR2xvYmFsRHJhZ01vZGVUb2dnbGVkKGVuYWJsZWQsIHNvdXJjZSA9ICdHbG9iYWwnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMubWFwLFxuICAgICAgJ3BtOmdsb2JhbGRyYWdtb2RldG9nZ2xlZCcsXG4gICAgICB7XG4gICAgICAgIGVuYWJsZWQsXG4gICAgICAgIG1hcDogdGhpcy5tYXAsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gRWRpdCBNb2RlIGlzIHRvZ2dsZWQuXG4gIF9maXJlR2xvYmFsRWRpdE1vZGVUb2dnbGVkKGVuYWJsZWQsIHNvdXJjZSA9ICdHbG9iYWwnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMubWFwLFxuICAgICAgJ3BtOmdsb2JhbGVkaXRtb2RldG9nZ2xlZCcsXG4gICAgICB7XG4gICAgICAgIGVuYWJsZWQsXG4gICAgICAgIG1hcDogdGhpcy5tYXAsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gUmVtb3ZhbCBNb2RlIGlzIHRvZ2dsZWQuXG4gIF9maXJlR2xvYmFsUmVtb3ZhbE1vZGVUb2dnbGVkKFxuICAgIGVuYWJsZWQsXG4gICAgc291cmNlID0gJ0dsb2JhbCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5tYXAsXG4gICAgICAncG06Z2xvYmFscmVtb3ZhbG1vZGV0b2dnbGVkJyxcbiAgICAgIHtcbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBDdXQgTW9kZSBpcyB0b2dnbGVkLlxuICBfZmlyZUdsb2JhbEN1dE1vZGVUb2dnbGVkKHNvdXJjZSA9ICdHbG9iYWwnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpnbG9iYWxjdXRtb2RldG9nZ2xlZCcsXG4gICAgICB7XG4gICAgICAgIGVuYWJsZWQ6ICEhdGhpcy5fZW5hYmxlZCxcbiAgICAgICAgbWFwOiB0aGlzLl9tYXAsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gRHJhdyBNb2RlIGlzIHRvZ2dsZWQuXG4gIF9maXJlR2xvYmFsRHJhd01vZGVUb2dnbGVkKHNvdXJjZSA9ICdHbG9iYWwnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpnbG9iYWxkcmF3bW9kZXRvZ2dsZWQnLFxuICAgICAge1xuICAgICAgICBlbmFibGVkOiB0aGlzLl9lbmFibGVkLFxuICAgICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICAgIG1hcDogdGhpcy5fbWFwLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIFJvdGF0aW9uIE1vZGUgaXMgdG9nZ2xlZC5cbiAgX2ZpcmVHbG9iYWxSb3RhdGVNb2RlVG9nZ2xlZChzb3VyY2UgPSAnR2xvYmFsJywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLm1hcCxcbiAgICAgICdwbTpnbG9iYWxyb3RhdGVtb2RldG9nZ2xlZCcsXG4gICAgICB7XG4gICAgICAgIGVuYWJsZWQ6IHRoaXMuZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQoKSxcbiAgICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBMYXllckdyb3VwIGlzIHJlbW92ZWRcbiAgX2ZpcmVSZW1vdmVMYXllckdyb3VwKFxuICAgIGZpcmVMYXllcixcbiAgICByZWZMYXllciA9IGZpcmVMYXllcixcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgZmlyZUxheWVyLFxuICAgICAgJ3BtOnJlbW92ZScsXG4gICAgICB7IGxheWVyOiByZWZMYXllciwgc2hhcGU6IHVuZGVmaW5lZCB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYGtleWRvd25gIG9yIGBrZXl1cGAgb24gdGhlIGRvY3VtZW50IGlzIGZpcmVkLlxuICBfZmlyZUtleWV2ZW50RXZlbnQoXG4gICAgZXZlbnQsXG4gICAgZXZlbnRUeXBlLFxuICAgIGZvY3VzT24sXG4gICAgc291cmNlID0gJ0dsb2JhbCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5tYXAsXG4gICAgICAncG06a2V5ZXZlbnQnLFxuICAgICAge1xuICAgICAgICBldmVudCxcbiAgICAgICAgZXZlbnRUeXBlLFxuICAgICAgICBmb2N1c09uLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuXG4gIC8vIHByaXZhdGUgKHZlcnkgcHJpdmF0ZSkgZmlyZSBmdW5jdGlvblxuICBfX2ZpcmUoZmlyZUxheWVyLCB0eXBlLCBwYXlsb2FkLCBzb3VyY2UsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHBheWxvYWQgPSBtZXJnZShwYXlsb2FkLCBjdXN0b21QYXlsb2FkLCB7IHNvdXJjZSB9KTtcbiAgICBMLlBNLlV0aWxzLl9maXJlRXZlbnQoZmlyZUxheWVyLCB0eXBlLCBwYXlsb2FkKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50TWl4aW47XG4iLCAiLy8gdXNlIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBtaXhpbiBvYmplY3QgZm9yIGtlZXBpbmcgaXNvbGF0aW9uXG4vLyB0byBtYWtlIGl0IHdvcmsgZm9yIG11bHRpcGxlIG1hcCBpbnN0YW5jZXNcbmNvbnN0IGNyZWF0ZUtleWJvYXJkTWl4aW5zID0gKCkgPT4gKHtcbiAgX2xhc3RFdmVudHM6IHsga2V5ZG93bjogdW5kZWZpbmVkLCBrZXl1cDogdW5kZWZpbmVkLCBjdXJyZW50OiB1bmRlZmluZWQgfSxcbiAgX2luaXRLZXlMaXN0ZW5lcihtYXApIHtcbiAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICBMLkRvbUV2ZW50Lm9uKGRvY3VtZW50LCAna2V5ZG93biBrZXl1cCcsIHRoaXMuX29uS2V5TGlzdGVuZXIsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub24od2luZG93LCAnYmx1cicsIHRoaXMuX29uQmx1ciwgdGhpcyk7XG4gICAgLy8gY2xlYW4gdXAgZ2xvYmFsIGxpc3RlbmVycyB3aGVuIGN1cnJlbnQgbWFwIGluc3RhbmNlIGlzIGRlc3Ryb3llZFxuICAgIG1hcC5vbmNlKCd1bmxvYWQnLCB0aGlzLl91bmJpbmRLZXlMaXN0ZW5lckV2ZW50cywgdGhpcyk7XG4gIH0sXG4gIF91bmJpbmRLZXlMaXN0ZW5lckV2ZW50cygpIHtcbiAgICBMLkRvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ2tleWRvd24ga2V5dXAnLCB0aGlzLl9vbktleUxpc3RlbmVyLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZih3aW5kb3csICdibHVyJywgdGhpcy5fb25CbHVyLCB0aGlzKTtcbiAgfSxcbiAgX29uS2V5TGlzdGVuZXIoZSkge1xuICAgIGxldCBmb2N1c09uID0gJ2RvY3VtZW50JztcblxuICAgIC8vIC5jb250YWlucyBvbmx5IHN1cHBvcnRlZCBzaW5jZSBJRTksIGlmIHlvdSB3YW50IHRvIHVzZSBHZW9tYW4gd2l0aCBJRTggb3IgbG93ZXIgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgcG9seWZpbGwgZm9yIC5jb250YWluc1xuICAgIC8vIHdpdGggZm9jdXNPbiB0aGUgdXNlciBjYW4gYWRkIGEgY2hlY2sgaWYgdGhlIGtleSB3YXMgcHJlc3NlZCB3aGlsZSB0aGUgdXNlciBpbnRlcmFjdHMgd2l0aCB0aGUgbWFwXG4gICAgaWYgKHRoaXMubWFwLmdldENvbnRhaW5lcigpLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgZm9jdXNPbiA9ICdtYXAnO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSB7IGV2ZW50OiBlLCBldmVudFR5cGU6IGUudHlwZSwgZm9jdXNPbiB9O1xuICAgIHRoaXMuX2xhc3RFdmVudHNbZS50eXBlXSA9IGRhdGE7XG4gICAgdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50ID0gZGF0YTtcblxuICAgIHRoaXMubWFwLnBtLl9maXJlS2V5ZXZlbnRFdmVudChlLCBlLnR5cGUsIGZvY3VzT24pO1xuICB9LFxuICBfb25CbHVyKGUpIHtcbiAgICBlLmFsdEtleSA9IGZhbHNlO1xuICAgIGNvbnN0IGRhdGEgPSB7IGV2ZW50OiBlLCBldmVudFR5cGU6IGUudHlwZSwgZm9jdXNPbjogJ2RvY3VtZW50JyB9O1xuICAgIHRoaXMuX2xhc3RFdmVudHNbZS50eXBlXSA9IGRhdGE7XG4gICAgdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50ID0gZGF0YTtcbiAgfSxcbiAgZ2V0TGFzdEtleUV2ZW50KHR5cGUgPSAnY3VycmVudCcpIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50c1t0eXBlXTtcbiAgfSxcbiAgaXNTaGlmdEtleVByZXNzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RFdmVudHMuY3VycmVudD8uZXZlbnQuc2hpZnRLZXk7XG4gIH0sXG4gIGlzQWx0S2V5UHJlc3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50Py5ldmVudC5hbHRLZXk7XG4gIH0sXG4gIGlzQ3RybEtleVByZXNzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RFdmVudHMuY3VycmVudD8uZXZlbnQuY3RybEtleTtcbiAgfSxcbiAgaXNNZXRhS2V5UHJlc3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50Py5ldmVudC5tZXRhS2V5O1xuICB9LFxuICBnZXRQcmVzc2VkS2V5KCkge1xuICAgIHJldHVybiB0aGlzLl9sYXN0RXZlbnRzLmN1cnJlbnQ/LmV2ZW50LmtleTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVLZXlib2FyZE1peGlucztcbiIsICJpbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnO1xuaW1wb3J0IHRyYW5zbGF0aW9ucyBmcm9tICcuLi8uLi9hc3NldHMvdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKHBhdGgpIHtcbiAgY29uc3QgbGFuZyA9IEwuUE0uYWN0aXZlTGFuZztcbiAgLy8gaWYgdHJhbnNsYXRpb24gaXMgbm90IGZvdW5kLCBmYWxsYmFjayB0byBlbmdsaXNoXG4gIHJldHVybiBnZXQodHJhbnNsYXRpb25zW2xhbmddLCBwYXRoKSB8fCBnZXQodHJhbnNsYXRpb25zLmVuLCBwYXRoKSB8fCBwYXRoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzVmFsdWVzKGxpc3QpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgaXRlbSA9IGxpc3RbaV07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgaWYgKGhhc1ZhbHVlcyhpdGVtKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGl0ZW0gIT09IG51bGwgJiYgaXRlbSAhPT0gdW5kZWZpbmVkICYmIGl0ZW0gIT09ICcnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFbXB0eUNvb3JkUmluZ3MoYXJyKSB7XG4gIHJldHVybiBhcnIucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbS5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IG5ld0l0ZW0gPSBBcnJheS5pc0FycmF5KGl0ZW0pID8gcmVtb3ZlRW1wdHlDb29yZFJpbmdzKGl0ZW0pIDogaXRlbTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5ld0l0ZW0pKSB7XG4gICAgICAgIGlmIChuZXdJdGVtLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld0l0ZW0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQucHVzaChuZXdJdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwgW10pO1xufVxuXG4vLyBDb2RlIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI0MTUzOTk4LzgyODM5MzhcbmZ1bmN0aW9uIGRlc3RpbmF0aW9uVmluY2VudHkobG9ubGF0LCBicm5nLCBkaXN0KSB7XG4gIC8vIHJld3JpdHRlbiB0byB3b3JrIHdpdGggbGVhZmxldFxuICBjb25zdCBWaW5jZW50eUNvbnN0YW50cyA9IHtcbiAgICBhOiBMLkNSUy5FYXJ0aC5SLFxuICAgIGI6IDYzNTY3NTIuMzE0MixcbiAgICBmOiAxIC8gMjk4LjI1NzIyMzU2MyxcbiAgfTtcblxuICBjb25zdCB7IGEsIGIsIGYgfSA9IFZpbmNlbnR5Q29uc3RhbnRzO1xuICBjb25zdCBsb24xID0gbG9ubGF0LmxuZztcbiAgY29uc3QgbGF0MSA9IGxvbmxhdC5sYXQ7XG4gIGNvbnN0IHMgPSBkaXN0O1xuICBjb25zdCBwaSA9IE1hdGguUEk7XG4gIGNvbnN0IGFscGhhMSA9IChicm5nICogcGkpIC8gMTgwOyAvLyBjb252ZXJ0cyBicm5nIGRlZ3JlZXMgdG8gcmFkaXVzXG4gIGNvbnN0IHNpbkFscGhhMSA9IE1hdGguc2luKGFscGhhMSk7XG4gIGNvbnN0IGNvc0FscGhhMSA9IE1hdGguY29zKGFscGhhMSk7XG4gIGNvbnN0IHRhblUxID1cbiAgICAoMSAtIGYpICogTWF0aC50YW4oKGxhdDEgKiBwaSkgLyAxODAgLyogY29udmVydHMgbGF0MSBkZWdyZWVzIHRvIHJhZGl1cyAqLyk7XG4gIGNvbnN0IGNvc1UxID0gMSAvIE1hdGguc3FydCgxICsgdGFuVTEgKiB0YW5VMSk7XG4gIGNvbnN0IHNpblUxID0gdGFuVTEgKiBjb3NVMTtcbiAgY29uc3Qgc2lnbWExID0gTWF0aC5hdGFuMih0YW5VMSwgY29zQWxwaGExKTtcbiAgY29uc3Qgc2luQWxwaGEgPSBjb3NVMSAqIHNpbkFscGhhMTtcbiAgY29uc3QgY29zU3FBbHBoYSA9IDEgLSBzaW5BbHBoYSAqIHNpbkFscGhhO1xuICBjb25zdCB1U3EgPSAoY29zU3FBbHBoYSAqIChhICogYSAtIGIgKiBiKSkgLyAoYiAqIGIpO1xuICBjb25zdCBBID0gMSArICh1U3EgLyAxNjM4NCkgKiAoNDA5NiArIHVTcSAqICgtNzY4ICsgdVNxICogKDMyMCAtIDE3NSAqIHVTcSkpKTtcbiAgY29uc3QgQiA9ICh1U3EgLyAxMDI0KSAqICgyNTYgKyB1U3EgKiAoLTEyOCArIHVTcSAqICg3NCAtIDQ3ICogdVNxKSkpO1xuICBsZXQgc2lnbWEgPSBzIC8gKGIgKiBBKTtcbiAgbGV0IHNpZ21hUCA9IDIgKiBNYXRoLlBJO1xuXG4gIGxldCBjb3MyU2lnbWFNO1xuICBsZXQgc2luU2lnbWE7XG4gIGxldCBjb3NTaWdtYTtcbiAgd2hpbGUgKE1hdGguYWJzKHNpZ21hIC0gc2lnbWFQKSA+IDFlLTEyKSB7XG4gICAgY29zMlNpZ21hTSA9IE1hdGguY29zKDIgKiBzaWdtYTEgKyBzaWdtYSk7XG4gICAgc2luU2lnbWEgPSBNYXRoLnNpbihzaWdtYSk7XG4gICAgY29zU2lnbWEgPSBNYXRoLmNvcyhzaWdtYSk7XG4gICAgY29uc3QgZGVsdGFTaWdtYSA9XG4gICAgICBCICpcbiAgICAgIHNpblNpZ21hICpcbiAgICAgIChjb3MyU2lnbWFNICtcbiAgICAgICAgKEIgLyA0KSAqXG4gICAgICAgICAgKGNvc1NpZ21hICogKC0xICsgMiAqIGNvczJTaWdtYU0gKiBjb3MyU2lnbWFNKSAtXG4gICAgICAgICAgICAoQiAvIDYpICpcbiAgICAgICAgICAgICAgY29zMlNpZ21hTSAqXG4gICAgICAgICAgICAgICgtMyArIDQgKiBzaW5TaWdtYSAqIHNpblNpZ21hKSAqXG4gICAgICAgICAgICAgICgtMyArIDQgKiBjb3MyU2lnbWFNICogY29zMlNpZ21hTSkpKTtcbiAgICBzaWdtYVAgPSBzaWdtYTtcbiAgICBzaWdtYSA9IHMgLyAoYiAqIEEpICsgZGVsdGFTaWdtYTtcbiAgfVxuICBjb25zdCB0bXAgPSBzaW5VMSAqIHNpblNpZ21hIC0gY29zVTEgKiBjb3NTaWdtYSAqIGNvc0FscGhhMTtcbiAgY29uc3QgbGF0MiA9IE1hdGguYXRhbjIoXG4gICAgc2luVTEgKiBjb3NTaWdtYSArIGNvc1UxICogc2luU2lnbWEgKiBjb3NBbHBoYTEsXG4gICAgKDEgLSBmKSAqIE1hdGguc3FydChzaW5BbHBoYSAqIHNpbkFscGhhICsgdG1wICogdG1wKVxuICApO1xuICBjb25zdCBsYW1iZGEgPSBNYXRoLmF0YW4yKFxuICAgIHNpblNpZ21hICogc2luQWxwaGExLFxuICAgIGNvc1UxICogY29zU2lnbWEgLSBzaW5VMSAqIHNpblNpZ21hICogY29zQWxwaGExXG4gICk7XG4gIGNvbnN0IEMgPSAoZiAvIDE2KSAqIGNvc1NxQWxwaGEgKiAoNCArIGYgKiAoNCAtIDMgKiBjb3NTcUFscGhhKSk7XG4gIGNvbnN0IGxhbSA9XG4gICAgbGFtYmRhIC1cbiAgICAoMSAtIEMpICpcbiAgICAgIGYgKlxuICAgICAgc2luQWxwaGEgKlxuICAgICAgKHNpZ21hICtcbiAgICAgICAgQyAqXG4gICAgICAgICAgc2luU2lnbWEgKlxuICAgICAgICAgIChjb3MyU2lnbWFNICsgQyAqIGNvc1NpZ21hICogKC0xICsgMiAqIGNvczJTaWdtYU0gKiBjb3MyU2lnbWFNKSkpO1xuICAvLyBjb25zdCByZXZBeiA9IE1hdGguYXRhbjIoc2luQWxwaGEsIC10bXApOyAgLy8gZmluYWwgYmVhcmluZ1xuICBjb25zdCBsYW1GdW5jID0gbG9uMSArIChsYW0gKiAxODApIC8gcGk7IC8vIGNvbnZlcnRzIGxhbSByYWRpdXMgdG8gZGVncmVlc1xuICBjb25zdCBsYXQyYSA9IChsYXQyICogMTgwKSAvIHBpOyAvLyBjb252ZXJ0cyBsYXQyYSByYWRpdXMgdG8gZGVncmVlc1xuXG4gIHJldHVybiBMLmxhdExuZyhsYW1GdW5jLCBsYXQyYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHZW9kZXNpY1BvbHlnb24oXG4gIG9yaWdpbixcbiAgcmFkaXVzLFxuICBzaWRlcyxcbiAgcm90YXRpb24sXG4gIHdpdGhCZWFyaW5nID0gdHJ1ZVxuKSB7XG4gIGxldCB0cnVlQW5nbGU7XG4gIGxldCBuZXdMb25sYXQ7XG4gIGxldCBnZW9tUG9pbnQ7XG4gIGNvbnN0IHBvaW50cyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2lkZXM7IGkgKz0gMSkge1xuICAgIGlmICh3aXRoQmVhcmluZykge1xuICAgICAgdHJ1ZUFuZ2xlID0gKGkgKiAzNjApIC8gc2lkZXMgKyByb3RhdGlvbjtcbiAgICAgIG5ld0xvbmxhdCA9IGRlc3RpbmF0aW9uVmluY2VudHkob3JpZ2luLCB0cnVlQW5nbGUsIHJhZGl1cyk7XG4gICAgICBnZW9tUG9pbnQgPSBMLmxhdExuZyhuZXdMb25sYXQubG5nLCBuZXdMb25sYXQubGF0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcExhdCA9IG9yaWdpbi5sYXQgKyBNYXRoLmNvcygoMiAqIGkgKiBNYXRoLlBJKSAvIHNpZGVzKSAqIHJhZGl1cztcbiAgICAgIGNvbnN0IHBMbmcgPSBvcmlnaW4ubG5nICsgTWF0aC5zaW4oKDIgKiBpICogTWF0aC5QSSkgLyBzaWRlcykgKiByYWRpdXM7XG4gICAgICBnZW9tUG9pbnQgPSBMLmxhdExuZyhwTGF0LCBwTG5nKTtcbiAgICB9XG4gICAgcG9pbnRzLnB1c2goZ2VvbVBvaW50KTtcbiAgfVxuXG4gIHJldHVybiBwb2ludHM7XG59XG5cbi8qIENvcGllZCBmcm9tIEwuR2VvbWV0cnlVdGlsICovXG5mdW5jdGlvbiBkZXN0aW5hdGlvbihsYXRsbmcsIGhlYWRpbmcsIGRpc3RhbmNlKSB7XG4gIGhlYWRpbmcgPSAoaGVhZGluZyArIDM2MCkgJSAzNjA7XG4gIGNvbnN0IHJhZCA9IE1hdGguUEkgLyAxODA7XG4gIGNvbnN0IHJhZEludiA9IDE4MCAvIE1hdGguUEk7XG4gIGNvbnN0IHsgUiB9ID0gTC5DUlMuRWFydGg7IC8vIGFwcHJveGltYXRpb24gb2YgRWFydGgncyByYWRpdXNcbiAgY29uc3QgbG9uMSA9IGxhdGxuZy5sbmcgKiByYWQ7XG4gIGNvbnN0IGxhdDEgPSBsYXRsbmcubGF0ICogcmFkO1xuICBjb25zdCByaGVhZGluZyA9IGhlYWRpbmcgKiByYWQ7XG4gIGNvbnN0IHNpbkxhdDEgPSBNYXRoLnNpbihsYXQxKTtcbiAgY29uc3QgY29zTGF0MSA9IE1hdGguY29zKGxhdDEpO1xuICBjb25zdCBjb3NEaXN0UiA9IE1hdGguY29zKGRpc3RhbmNlIC8gUik7XG4gIGNvbnN0IHNpbkRpc3RSID0gTWF0aC5zaW4oZGlzdGFuY2UgLyBSKTtcbiAgY29uc3QgbGF0MiA9IE1hdGguYXNpbihcbiAgICBzaW5MYXQxICogY29zRGlzdFIgKyBjb3NMYXQxICogc2luRGlzdFIgKiBNYXRoLmNvcyhyaGVhZGluZylcbiAgKTtcbiAgbGV0IGxvbjIgPVxuICAgIGxvbjEgK1xuICAgIE1hdGguYXRhbjIoXG4gICAgICBNYXRoLnNpbihyaGVhZGluZykgKiBzaW5EaXN0UiAqIGNvc0xhdDEsXG4gICAgICBjb3NEaXN0UiAtIHNpbkxhdDEgKiBNYXRoLnNpbihsYXQyKVxuICAgICk7XG4gIGxvbjIgKj0gcmFkSW52O1xuXG4gIGNvbnN0IG9wdEEgPSBsb24yIC0gMzYwO1xuICBjb25zdCBvcHRCID0gbG9uMiA8IC0xODAgPyBsb24yICsgMzYwIDogbG9uMjtcblxuICBsb24yID0gbG9uMiA+IDE4MCA/IG9wdEEgOiBvcHRCO1xuICByZXR1cm4gTC5sYXRMbmcoW2xhdDIgKiByYWRJbnYsIGxvbjJdKTtcbn1cbi8qIENvcGllZCBmcm9tIEwuR2VvbWV0cnlVdGlsICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY0FuZ2xlKG1hcCwgbGF0bG5nQSwgbGF0bG5nQikge1xuICBjb25zdCBwb2ludEEgPSBtYXAubGF0TG5nVG9Db250YWluZXJQb2ludChsYXRsbmdBKTtcbiAgY29uc3QgcG9pbnRCID0gbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQobGF0bG5nQik7XG4gIGxldCBhbmdsZURlZyA9XG4gICAgKE1hdGguYXRhbjIocG9pbnRCLnkgLSBwb2ludEEueSwgcG9pbnRCLnggLSBwb2ludEEueCkgKiAxODApIC8gTWF0aC5QSSArIDkwO1xuICBhbmdsZURlZyArPSBhbmdsZURlZyA8IDAgPyAzNjAgOiAwO1xuICByZXR1cm4gYW5nbGVEZWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXN0aW5hdGlvbk9uTGluZShtYXAsIGxhdGxuZ0EsIGxhdGxuZ0IsIGRpc3RhbmNlKSB7XG4gIGNvbnN0IGFuZ2xlRGVnID0gY2FsY0FuZ2xlKG1hcCwgbGF0bG5nQSwgbGF0bG5nQik7XG4gIHJldHVybiBkZXN0aW5hdGlvbihsYXRsbmdBLCBhbmdsZURlZywgZGlzdGFuY2UpO1xufVxuXG4vLyB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgd2l0aCB0aGUgLnNvcnQocHJpb3JpdGlzZVNvcnQoa2V5LCBzb3J0aW5nT3JkZXIpKSBmdW5jdGlvbiBvZiBhcnJheXNcbmV4cG9ydCBmdW5jdGlvbiBwcmlvcml0aXNlU29ydChrZXksIF9zb3J0aW5nT3JkZXIsIG9yZGVyID0gJ2FzYycpIHtcbiAgLyogdGhlIHNvcnRpbmcgb3JkZXIgaGFzIGFsbCBwb3NzaWJsZSBrZXlzIChsb3dlcmNhc2UpIHdpdGggdGhlIGluZGV4IGFuZCB0aGVuIGl0IGlzIHNvcnRlZCBieSB0aGUga2V5IG9uIHRoZSBvYmplY3QgKi9cblxuICBpZiAoIV9zb3J0aW5nT3JkZXIgfHwgT2JqZWN0LmtleXMoX3NvcnRpbmdPcmRlcikubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChhLCBiKSA9PiBhIC0gYjsgLy8gZGVmYXVsdCBzb3J0IG1ldGhvZFxuICB9XG5cbiAgLy8gY2hhbmdlIHRoZSBrZXlzIHRvIGxvd2VyY2FzZVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoX3NvcnRpbmdPcmRlcik7XG4gIGxldCBvYmpLZXk7XG4gIGxldCBuID0ga2V5cy5sZW5ndGggLSAxO1xuICBjb25zdCBzb3J0aW5nT3JkZXIgPSB7fTtcbiAgd2hpbGUgKG4gPj0gMCkge1xuICAgIG9iaktleSA9IGtleXNbbl07XG4gICAgc29ydGluZ09yZGVyW29iaktleS50b0xvd2VyQ2FzZSgpXSA9IF9zb3J0aW5nT3JkZXJbb2JqS2V5XTtcbiAgICBuIC09IDE7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTaGFwZShsYXllcikge1xuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyKSB7XG4gICAgICByZXR1cm4gJ01hcmtlcic7XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlKSB7XG4gICAgICByZXR1cm4gJ0NpcmNsZSc7XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyKSB7XG4gICAgICByZXR1cm4gJ0NpcmNsZU1hcmtlcic7XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuUmVjdGFuZ2xlKSB7XG4gICAgICByZXR1cm4gJ1JlY3RhbmdsZSc7XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuUG9seWdvbikge1xuICAgICAgcmV0dXJuICdQb2x5Z29uJztcbiAgICB9XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5bGluZSkge1xuICAgICAgcmV0dXJuICdMaW5lJztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGxldCBrZXlBO1xuICAgIGxldCBrZXlCO1xuICAgIGlmIChrZXkgPT09ICdpbnN0YW5jZW9mU2hhcGUnKSB7XG4gICAgICBrZXlBID0gZ2V0U2hhcGUoYS5sYXllcikudG9Mb3dlckNhc2UoKTtcbiAgICAgIGtleUIgPSBnZXRTaGFwZShiLmxheWVyKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFrZXlBIHx8ICFrZXlCKSByZXR1cm4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucyAqL1xuICAgICAgaWYgKCFhLmhhc093blByb3BlcnR5KGtleSkgfHwgIWIuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuIDA7XG4gICAgICBrZXlBID0gYVtrZXldLnRvTG93ZXJDYXNlKCk7XG4gICAgICBrZXlCID0gYltrZXldLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZmlyc3QgPVxuICAgICAga2V5QSBpbiBzb3J0aW5nT3JkZXIgPyBzb3J0aW5nT3JkZXJba2V5QV0gOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcblxuICAgIGNvbnN0IHNlY29uZCA9XG4gICAgICBrZXlCIGluIHNvcnRpbmdPcmRlciA/IHNvcnRpbmdPcmRlcltrZXlCXSA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgaWYgKGZpcnN0IDwgc2Vjb25kKSByZXN1bHQgPSAtMTtcbiAgICBlbHNlIGlmIChmaXJzdCA+IHNlY29uZCkgcmVzdWx0ID0gMTtcbiAgICByZXR1cm4gb3JkZXIgPT09ICdkZXNjJyA/IHJlc3VsdCAqIC0xIDogcmVzdWx0O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29weUxhdExuZ3MobGF5ZXIsIGxhdGxuZ3MgPSBsYXllci5nZXRMYXRMbmdzKCkpIHtcbiAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5Z29uKSB7XG4gICAgcmV0dXJuIEwucG9seWdvbihsYXRsbmdzKS5nZXRMYXRMbmdzKCk7XG4gIH1cbiAgcmV0dXJuIEwucG9seWxpbmUobGF0bG5ncykuZ2V0TGF0TG5ncygpO1xufVxuXG4vLyBSZXBsYWNlcyB0aGUgbGF0IHZhbHVlIHdpdGggdGhlIE1BWF9MQVRJVFVERSBvZiBDUlMgaWYgaXQgaXMgbG93ZXIgLyBoaWdoZXJcbmV4cG9ydCBmdW5jdGlvbiBmaXhMYXRPZmZzZXQobGF0bG5nLCBtYXApIHtcbiAgaWYgKG1hcC5vcHRpb25zLmNycz8ucHJvamVjdGlvbj8uTUFYX0xBVElUVURFKSB7XG4gICAgY29uc3QgbWF4ID0gbWFwLm9wdGlvbnMuY3JzPy5wcm9qZWN0aW9uPy5NQVhfTEFUSVRVREU7XG4gICAgbGF0bG5nLmxhdCA9IE1hdGgubWF4KE1hdGgubWluKG1heCwgbGF0bG5nLmxhdCksIC1tYXgpO1xuICB9XG4gIHJldHVybiBsYXRsbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZW5kZXJlcihsYXllcikge1xuICByZXR1cm4gKFxuICAgIGxheWVyLm9wdGlvbnMucmVuZGVyZXIgfHxcbiAgICAobGF5ZXIuX21hcCAmJlxuICAgICAgKGxheWVyLl9tYXAuX2dldFBhbmVSZW5kZXJlcihsYXllci5vcHRpb25zLnBhbmUpIHx8XG4gICAgICAgIGxheWVyLl9tYXAub3B0aW9ucy5yZW5kZXJlciB8fFxuICAgICAgICBsYXllci5fbWFwLl9yZW5kZXJlcikpIHx8XG4gICAgbGF5ZXIuX3JlbmRlcmVyXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgZ2V0VHJhbnNsYXRpb24gfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBFdmVudE1peGluIGZyb20gJy4uL01peGlucy9FdmVudHMnO1xuXG5jb25zdCBQTUJ1dHRvbiA9IEwuQ29udHJvbC5leHRlbmQoe1xuICBpbmNsdWRlczogW0V2ZW50TWl4aW5dLFxuICBvcHRpb25zOiB7XG4gICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICBkaXNhYmxlQnlPdGhlckJ1dHRvbnM6IHRydWUsXG4gIH0sXG4gIC8vIFRPRE86IGNsZWFuIHVwIHZhcmlhYmxlIG5hbWVzIGxpa2UgX2J1dHRvbiBzaG91bGQgYmUgX29wdGlvbnMgYW5kIHRoYXQgZG9tTm9kZVZhcmlhYmxlIHN0dWZmXG4gIGluaXRpYWxpemUob3B0aW9ucykge1xuICAgIC8vIHJlcGxhY2VkIHNldE9wdGlvbnMgd2l0aCB0aGlzIGJlY2F1c2UgY2xhc3NOYW1lcyByZXR1cm5lZCB1bmRlZmluZWQgXHVEODNFXHVERDE0XG4gICAgdGhpcy5fYnV0dG9uID0gTC5VdGlsLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgfSxcbiAgb25BZGQobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIGlmICghdGhpcy5fbWFwLnBtLlRvb2xiYXIub3B0aW9ucy5vbmVCbG9jaykge1xuICAgICAgaWYgKHRoaXMuX2J1dHRvbi50b29sID09PSAnZWRpdCcpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fbWFwLnBtLlRvb2xiYXIuZWRpdENvbnRhaW5lcjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYnV0dG9uLnRvb2wgPT09ICdvcHRpb25zJykge1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9tYXAucG0uVG9vbGJhci5vcHRpb25zQ29udGFpbmVyO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9idXR0b24udG9vbCA9PT0gJ2N1c3RvbScpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fbWFwLnBtLlRvb2xiYXIuY3VzdG9tQ29udGFpbmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fbWFwLnBtLlRvb2xiYXIuZHJhd0NvbnRhaW5lcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fbWFwLnBtLlRvb2xiYXIuX2NyZWF0ZUNvbnRhaW5lcihcbiAgICAgICAgdGhpcy5vcHRpb25zLnBvc2l0aW9uXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl9yZW5kZXJCdXR0b24oKTtcblxuICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gIH0sXG4gIF9yZW5kZXJCdXR0b24oKSB7XG4gICAgY29uc3Qgb2xkRG9tTm9kZSA9IHRoaXMuYnV0dG9uc0RvbU5vZGU7XG4gICAgdGhpcy5idXR0b25zRG9tTm9kZSA9IHRoaXMuX21ha2VCdXR0b24odGhpcy5fYnV0dG9uKTtcbiAgICBpZiAob2xkRG9tTm9kZSkge1xuICAgICAgb2xkRG9tTm9kZS5yZXBsYWNlV2l0aCh0aGlzLmJ1dHRvbnNEb21Ob2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYnV0dG9uc0RvbU5vZGUpO1xuICAgIH1cbiAgfSxcbiAgb25SZW1vdmUoKSB7XG4gICAgdGhpcy5idXR0b25zRG9tTm9kZS5yZW1vdmUoKTtcblxuICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gIH0sXG4gIGdldFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1dHRvbi50ZXh0O1xuICB9LFxuICBnZXRJY29uVXJsKCkge1xuICAgIHJldHVybiB0aGlzLl9idXR0b24uaWNvblVybDtcbiAgfSxcbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9idXR0b24gPSB7fTtcbiAgICB0aGlzLl91cGRhdGUoKTtcbiAgfSxcbiAgdG9nZ2xlKGUpIHtcbiAgICBpZiAodHlwZW9mIGUgPT09ICdib29sZWFuJykge1xuICAgICAgdGhpcy5fYnV0dG9uLnRvZ2dsZVN0YXR1cyA9IGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbi50b2dnbGVTdGF0dXMgPSAhdGhpcy5fYnV0dG9uLnRvZ2dsZVN0YXR1cztcbiAgICB9XG4gICAgdGhpcy5fYXBwbHlTdHlsZUNsYXNzZXMoKTtcblxuICAgIHJldHVybiB0aGlzLl9idXR0b24udG9nZ2xlU3RhdHVzO1xuICB9LFxuICB0b2dnbGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9idXR0b24udG9nZ2xlU3RhdHVzO1xuICB9LFxuICBvbkNyZWF0ZSgpIHtcbiAgICB0aGlzLnRvZ2dsZShmYWxzZSk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy50b2dnbGUoZmFsc2UpOyAvLyBpcyBuZWVkZWQgdG8gcHJldmVudCBhY3RpdmUgYnV0dG9uIGRpc2FibGVkXG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLl91cGRhdGVEaXNhYmxlZCgpO1xuICB9LFxuICBlbmFibGUoKSB7XG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5fdXBkYXRlRGlzYWJsZWQoKTtcbiAgfSxcbiAgX3RyaWdnZXJDbGljayhlKSB7XG4gICAgaWYgKGUpIHtcbiAgICAgIC8vIGlzIG5lZWRlZCB0byBwcmV2ZW50IHNjcm9sbGluZyB3aGVuIGNsaWNraW5nIG9uIGEtZWxlbWVudCB3aXRoIGhyZWY9XCJhXCJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2J1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUT0RPIGlzIHRoaXMgYSBiaWcgY2hhbmdlIHdoZW4gd2UgY2hhbmdlIGZyb20gZSB0byBhIG9iamVjdCB3aXRoIHRoZSBldmVudCBhbmQgdGhlIGJ1dHRvbj8gTm93IGl0J3MgdGhlIHNlY29uZCBhcmd1bWVudFxuICAgIHRoaXMuX2J1dHRvbi5vbkNsaWNrKGUsIHsgYnV0dG9uOiB0aGlzLCBldmVudDogZSB9KTtcbiAgICB0aGlzLl9jbGlja2VkKGUpO1xuICAgIHRoaXMuX2J1dHRvbi5hZnRlckNsaWNrKGUsIHsgYnV0dG9uOiB0aGlzLCBldmVudDogZSB9KTtcbiAgfSxcbiAgX21ha2VCdXR0b24oYnV0dG9uKSB7XG4gICAgY29uc3QgcG9zID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uLmluZGV4T2YoJ3JpZ2h0JykgPiAtMSA/ICdwb3MtcmlnaHQnIDogJyc7XG5cbiAgICAvLyBidXR0b24gY29udGFpbmVyXG4gICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdkaXYnLFxuICAgICAgYGJ1dHRvbi1jb250YWluZXIgICR7cG9zfWAsXG4gICAgICB0aGlzLl9jb250YWluZXJcbiAgICApO1xuXG4gICAgaWYgKGJ1dHRvbi50aXRsZSkge1xuICAgICAgYnV0dG9uQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBidXR0b24udGl0bGUpO1xuICAgIH1cblxuICAgIC8vIHRoZSBidXR0b24gaXRzZWxmXG4gICAgY29uc3QgbmV3QnV0dG9uID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdhJyxcbiAgICAgICdsZWFmbGV0LWJ1dHRvbnMtY29udHJvbC1idXR0b24nLFxuICAgICAgYnV0dG9uQ29udGFpbmVyXG4gICAgKTtcbiAgICBuZXdCdXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgIG5ld0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICBuZXdCdXR0b24uaHJlZiA9ICcjJztcblxuICAgIC8vIHRoZSBidXR0b25zIGFjdGlvbnNcbiAgICBjb25zdCBhY3Rpb25Db250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKFxuICAgICAgJ2RpdicsXG4gICAgICBgbGVhZmxldC1wbS1hY3Rpb25zLWNvbnRhaW5lciAke3Bvc31gLFxuICAgICAgYnV0dG9uQ29udGFpbmVyXG4gICAgKTtcblxuICAgIGNvbnN0IGFjdGl2ZUFjdGlvbnMgPSBidXR0b24uYWN0aW9ucztcblxuICAgIGNvbnN0IGFjdGlvbnMgPSB7XG4gICAgICBjYW5jZWw6IHtcbiAgICAgICAgdGV4dDogZ2V0VHJhbnNsYXRpb24oJ2FjdGlvbnMuY2FuY2VsJyksXG4gICAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYWN0aW9ucy5jYW5jZWwnKSxcbiAgICAgICAgb25DbGljaygpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyQ2xpY2soKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmaW5pc2hNb2RlOiB7XG4gICAgICAgIHRleHQ6IGdldFRyYW5zbGF0aW9uKCdhY3Rpb25zLmZpbmlzaCcpLFxuICAgICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2FjdGlvbnMuZmluaXNoJyksXG4gICAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgICAgdGhpcy5fdHJpZ2dlckNsaWNrKCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVtb3ZlTGFzdFZlcnRleDoge1xuICAgICAgICB0ZXh0OiBnZXRUcmFuc2xhdGlvbignYWN0aW9ucy5yZW1vdmVMYXN0VmVydGV4JyksXG4gICAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYWN0aW9ucy5yZW1vdmVMYXN0VmVydGV4JyksXG4gICAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgICAgdGhpcy5fbWFwLnBtLkRyYXdbYnV0dG9uLmpzQ2xhc3NdLl9yZW1vdmVMYXN0VmVydGV4KCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZmluaXNoOiB7XG4gICAgICAgIHRleHQ6IGdldFRyYW5zbGF0aW9uKCdhY3Rpb25zLmZpbmlzaCcpLFxuICAgICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2FjdGlvbnMuZmluaXNoJyksXG4gICAgICAgIG9uQ2xpY2soZSkge1xuICAgICAgICAgIHRoaXMuX21hcC5wbS5EcmF3W2J1dHRvbi5qc0NsYXNzXS5fZmluaXNoU2hhcGUoZSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBhY3RpdmVBY3Rpb25zLmZvckVhY2goKF9hY3Rpb24pID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgX2FjdGlvbiA9PT0gJ3N0cmluZycgPyBfYWN0aW9uIDogX2FjdGlvbi5uYW1lO1xuICAgICAgbGV0IGFjdGlvbjtcbiAgICAgIGlmIChhY3Rpb25zW25hbWVdKSB7XG4gICAgICAgIGFjdGlvbiA9IGFjdGlvbnNbbmFtZV07XG4gICAgICB9IGVsc2UgaWYgKF9hY3Rpb24udGV4dCkge1xuICAgICAgICBhY3Rpb24gPSBfYWN0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYWN0aW9uTm9kZSA9IEwuRG9tVXRpbC5jcmVhdGUoXG4gICAgICAgICdhJyxcbiAgICAgICAgYGxlYWZsZXQtcG0tYWN0aW9uICR7cG9zfSBhY3Rpb24tJHtuYW1lfWAsXG4gICAgICAgIGFjdGlvbkNvbnRhaW5lclxuICAgICAgKTtcbiAgICAgIGFjdGlvbk5vZGUuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgYWN0aW9uTm9kZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgIGFjdGlvbk5vZGUuaHJlZiA9ICcjJztcblxuICAgICAgaWYgKGFjdGlvbi50aXRsZSkge1xuICAgICAgICBhY3Rpb25Ob2RlLnRpdGxlID0gYWN0aW9uLnRpdGxlO1xuICAgICAgfVxuXG4gICAgICBhY3Rpb25Ob2RlLmlubmVySFRNTCA9IGFjdGlvbi50ZXh0O1xuXG4gICAgICBMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGFjdGlvbk5vZGUpO1xuICAgICAgTC5Eb21FdmVudC5vbihhY3Rpb25Ob2RlLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3ApO1xuXG4gICAgICBpZiAoIWJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpZiAoYWN0aW9uLm9uQ2xpY2spIHtcbiAgICAgICAgICBjb25zdCBhY3Rpb25DbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAvLyBpcyBuZWVkZWQgdG8gcHJldmVudCBzY3JvbGxpbmcgd2hlbiBjbGlja2luZyBvbiBhLWVsZW1lbnQgd2l0aCBocmVmPVwiYVwiXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBsZXQgYnRuTmFtZSA9ICcnO1xuICAgICAgICAgICAgY29uc3QgeyBidXR0b25zIH0gPSB0aGlzLl9tYXAucG0uVG9vbGJhcjtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYnRuIGluIGJ1dHRvbnMpIHtcbiAgICAgICAgICAgICAgaWYgKGJ1dHRvbnNbYnRuXS5fYnV0dG9uID09PSBidXR0b24pIHtcbiAgICAgICAgICAgICAgICBidG5OYW1lID0gYnRuO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9maXJlQWN0aW9uQ2xpY2soYWN0aW9uLCBidG5OYW1lLCBidXR0b24pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGFjdGlvbk5vZGUsICdjbGljaycsIGFjdGlvbkNsaWNrLCB0aGlzKTtcbiAgICAgICAgICBMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGFjdGlvbk5vZGUsICdjbGljaycsIGFjdGlvbi5vbkNsaWNrLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGJ1dHRvbi50b2dnbGVTdGF0dXMpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhidXR0b25Db250YWluZXIsICdhY3RpdmUnKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdjb250cm9sLWljb24nLCBuZXdCdXR0b24pO1xuXG4gICAgaWYgKGJ1dHRvbi5pY29uVXJsKSB7XG4gICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGJ1dHRvbi5pY29uVXJsKTtcbiAgICB9XG4gICAgaWYgKGJ1dHRvbi5jbGFzc05hbWUpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhpbWFnZSwgYnV0dG9uLmNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihuZXdCdXR0b24pO1xuICAgIEwuRG9tRXZlbnQub24obmV3QnV0dG9uLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3ApO1xuXG4gICAgaWYgKCFidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgIC8vIGJlZm9yZSB0aGUgYWN0dWFsIGNsaWNrLCB0cmlnZ2VyIGEgY2xpY2sgb24gY3VycmVudGx5IHRvZ2dsZWQgYnV0dG9ucyB0b1xuICAgICAgLy8gdW50b2dnbGUgdGhlbSBhbmQgdGhlaXIgZnVuY3Rpb25hbGl0eVxuICAgICAgTC5Eb21FdmVudC5hZGRMaXN0ZW5lcihuZXdCdXR0b24sICdjbGljaycsIHRoaXMuX29uQnRuQ2xpY2ssIHRoaXMpO1xuICAgICAgTC5Eb21FdmVudC5hZGRMaXN0ZW5lcihuZXdCdXR0b24sICdjbGljaycsIHRoaXMuX3RyaWdnZXJDbGljaywgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKG5ld0J1dHRvbiwgJ3BtLWRpc2FibGVkJyk7XG4gICAgICBuZXdCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnV0dG9uQ29udGFpbmVyO1xuICB9LFxuXG4gIF9hcHBseVN0eWxlQ2xhc3NlcygpIHtcbiAgICBpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fYnV0dG9uLnRvZ2dsZVN0YXR1cyB8fCB0aGlzLl9idXR0b24uY3NzVG9nZ2xlID09PSBmYWxzZSkge1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuYnV0dG9uc0RvbU5vZGUsICdhY3RpdmUnKTtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsICdhY3RpdmVDaGlsZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5idXR0b25zRG9tTm9kZSwgJ2FjdGl2ZScpO1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2FjdGl2ZUNoaWxkJyk7XG4gICAgfVxuICB9LFxuXG4gIF9vbkJ0bkNsaWNrKCkge1xuICAgIGlmICh0aGlzLl9idXR0b24uZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2J1dHRvbi5kaXNhYmxlT3RoZXJCdXR0b25zKSB7XG4gICAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50cmlnZ2VyQ2xpY2tPblRvZ2dsZWRCdXR0b25zKHRoaXMpO1xuICAgIH1cbiAgICBsZXQgYnRuTmFtZSA9ICcnO1xuICAgIGNvbnN0IHsgYnV0dG9ucyB9ID0gdGhpcy5fbWFwLnBtLlRvb2xiYXI7XG4gICAgZm9yIChjb25zdCBidG4gaW4gYnV0dG9ucykge1xuICAgICAgaWYgKGJ1dHRvbnNbYnRuXS5fYnV0dG9uID09PSB0aGlzLl9idXR0b24pIHtcbiAgICAgICAgYnRuTmFtZSA9IGJ0bjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2ZpcmVCdXR0b25DbGljayhidG5OYW1lLCB0aGlzLl9idXR0b24pO1xuICB9LFxuXG4gIF9jbGlja2VkKCkge1xuICAgIGlmICh0aGlzLl9idXR0b24uZG9Ub2dnbGUpIHtcbiAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgfVxuICB9LFxuXG4gIF91cGRhdGVEaXNhYmxlZCgpIHtcbiAgICBpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNsYXNzTmFtZSA9ICdwbS1kaXNhYmxlZCc7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5idXR0b25zRG9tTm9kZS5jaGlsZHJlblswXTtcblxuICAgIGlmICh0aGlzLl9idXR0b24uZGlzYWJsZWQpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhidXR0b24sIGNsYXNzTmFtZSk7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKGJ1dHRvbiwgY2xhc3NOYW1lKTtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcbiAgICB9XG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUE1CdXR0b247XG4iLCAiaW1wb3J0IFBNQnV0dG9uIGZyb20gJy4vTC5Db250cm9scyc7XG5cbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkwuQ29udHJvbC5QTUJ1dHRvbiA9IFBNQnV0dG9uO1xuXG5jb25zdCBUb29sYmFyID0gTC5DbGFzcy5leHRlbmQoe1xuICBvcHRpb25zOiB7XG4gICAgZHJhd01hcmtlcjogdHJ1ZSxcbiAgICBkcmF3UmVjdGFuZ2xlOiB0cnVlLFxuICAgIGRyYXdQb2x5bGluZTogdHJ1ZSxcbiAgICBkcmF3UG9seWdvbjogdHJ1ZSxcbiAgICBkcmF3Q2lyY2xlOiB0cnVlLFxuICAgIGRyYXdDaXJjbGVNYXJrZXI6IHRydWUsXG4gICAgZHJhd1RleHQ6IHRydWUsXG4gICAgZWRpdE1vZGU6IHRydWUsXG4gICAgZHJhZ01vZGU6IHRydWUsXG4gICAgY3V0UG9seWdvbjogdHJ1ZSxcbiAgICByZW1vdmFsTW9kZTogdHJ1ZSxcbiAgICByb3RhdGVNb2RlOiB0cnVlLFxuICAgIHNuYXBwaW5nT3B0aW9uOiB0cnVlLFxuICAgIGRyYXdDb250cm9sczogdHJ1ZSxcbiAgICBlZGl0Q29udHJvbHM6IHRydWUsXG4gICAgb3B0aW9uc0NvbnRyb2xzOiB0cnVlLFxuICAgIGN1c3RvbUNvbnRyb2xzOiB0cnVlLFxuICAgIG9uZUJsb2NrOiBmYWxzZSxcbiAgICBwb3NpdGlvbjogJ3RvcGxlZnQnLFxuICAgIHBvc2l0aW9uczoge1xuICAgICAgZHJhdzogJycsXG4gICAgICBlZGl0OiAnJyxcbiAgICAgIG9wdGlvbnM6ICcnLFxuICAgICAgY3VzdG9tOiAnJyxcbiAgICB9LFxuICB9LFxuICBjdXN0b21CdXR0b25zOiBbXSxcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICAvLyBGb3Igc29tZSByZWFzb24gdGhlcmUgaXMgYW4gcmVmZXJlbmNlIGJldHdlZW4gbXVsdGlwbGUgbWFwcyBpbnN0YW5jZXNcbiAgICB0aGlzLmN1c3RvbUJ1dHRvbnMgPSBbXTtcbiAgICB0aGlzLm9wdGlvbnMucG9zaXRpb25zID0ge1xuICAgICAgZHJhdzogJycsXG4gICAgICBlZGl0OiAnJyxcbiAgICAgIG9wdGlvbnM6ICcnLFxuICAgICAgY3VzdG9tOiAnJyxcbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KG1hcCk7XG4gIH0sXG4gIHJlaW5pdCgpIHtcbiAgICBjb25zdCBhZGRDb250cm9scyA9IHRoaXMuaXNWaXNpYmxlO1xuXG4gICAgdGhpcy5yZW1vdmVDb250cm9scygpO1xuICAgIHRoaXMuX2RlZmluZUJ1dHRvbnMoKTtcblxuICAgIGlmIChhZGRDb250cm9scykge1xuICAgICAgdGhpcy5hZGRDb250cm9scygpO1xuICAgIH1cbiAgfSxcbiAgaW5pdChtYXApIHtcbiAgICB0aGlzLm1hcCA9IG1hcDtcblxuICAgIHRoaXMuYnV0dG9ucyA9IHt9O1xuICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5kcmF3Q29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdkaXYnLFxuICAgICAgJ2xlYWZsZXQtcG0tdG9vbGJhciBsZWFmbGV0LXBtLWRyYXcgbGVhZmxldC1iYXIgbGVhZmxldC1jb250cm9sJ1xuICAgICk7XG4gICAgdGhpcy5lZGl0Q29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdkaXYnLFxuICAgICAgJ2xlYWZsZXQtcG0tdG9vbGJhciBsZWFmbGV0LXBtLWVkaXQgbGVhZmxldC1iYXIgbGVhZmxldC1jb250cm9sJ1xuICAgICk7XG4gICAgdGhpcy5vcHRpb25zQ29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdkaXYnLFxuICAgICAgJ2xlYWZsZXQtcG0tdG9vbGJhciBsZWFmbGV0LXBtLW9wdGlvbnMgbGVhZmxldC1iYXIgbGVhZmxldC1jb250cm9sJ1xuICAgICk7XG4gICAgdGhpcy5jdXN0b21Db250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKFxuICAgICAgJ2RpdicsXG4gICAgICAnbGVhZmxldC1wbS10b29sYmFyIGxlYWZsZXQtcG0tY3VzdG9tIGxlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbCdcbiAgICApO1xuXG4gICAgdGhpcy5fZGVmaW5lQnV0dG9ucygpO1xuICB9LFxuICBfY3JlYXRlQ29udGFpbmVyKG5hbWUpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBgJHtuYW1lfUNvbnRhaW5lcmA7XG4gICAgaWYgKCF0aGlzW2NvbnRhaW5lcl0pIHtcbiAgICAgIHRoaXNbY29udGFpbmVyXSA9IEwuRG9tVXRpbC5jcmVhdGUoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBgbGVhZmxldC1wbS10b29sYmFyIGxlYWZsZXQtcG0tJHtuYW1lfSBsZWFmbGV0LWJhciBsZWFmbGV0LWNvbnRyb2xgXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1tjb250YWluZXJdO1xuICB9LFxuICBnZXRCdXR0b25zKCkge1xuICAgIHJldHVybiB0aGlzLmJ1dHRvbnM7XG4gIH0sXG5cbiAgYWRkQ29udHJvbHMob3B0aW9ucyA9IHRoaXMub3B0aW9ucykge1xuICAgIC8vIGFkZHMgYWxsIGJ1dHRvbnMgdG8gdGhlIG1hcCBzcGVjaWZpZWQgaW5zaWRlIG9wdGlvbnNcblxuICAgIC8vIG1ha2UgYnV0dG9uIHJlbmFtaW5nIGJhY2t3YXJkcyBjb21wYXRpYmxlXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmVkaXRQb2x5Z29uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucy5lZGl0TW9kZSA9IG9wdGlvbnMuZWRpdFBvbHlnb247XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZWxldGVMYXllciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9wdGlvbnMucmVtb3ZhbE1vZGUgPSBvcHRpb25zLmRlbGV0ZUxheWVyO1xuICAgIH1cblxuICAgIC8vIGZpcnN0IHNldCB0aGUgb3B0aW9uc1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5hcHBseUljb25TdHlsZSgpO1xuXG4gICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgIC8vIG5vdyBzaG93IHRoZSBzcGVjaWZpZWQgYnV0dG9uc1xuICAgIHRoaXMuX3Nob3dIaWRlQnV0dG9ucygpO1xuICB9LFxuICBhcHBseUljb25TdHlsZSgpIHtcbiAgICBjb25zdCBidXR0b25zID0gdGhpcy5nZXRCdXR0b25zKCk7XG5cbiAgICBjb25zdCBpY29uQ2xhc3NlcyA9IHtcbiAgICAgIGdlb21hbkljb25zOiB7XG4gICAgICAgIGRyYXdNYXJrZXI6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLW1hcmtlcicsXG4gICAgICAgIGRyYXdQb2x5bGluZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tcG9seWxpbmUnLFxuICAgICAgICBkcmF3UmVjdGFuZ2xlOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1yZWN0YW5nbGUnLFxuICAgICAgICBkcmF3UG9seWdvbjogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tcG9seWdvbicsXG4gICAgICAgIGRyYXdDaXJjbGU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWNpcmNsZScsXG4gICAgICAgIGRyYXdDaXJjbGVNYXJrZXI6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWNpcmNsZS1tYXJrZXInLFxuICAgICAgICBlZGl0TW9kZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tZWRpdCcsXG4gICAgICAgIGRyYWdNb2RlOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1kcmFnJyxcbiAgICAgICAgY3V0UG9seWdvbjogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tY3V0JyxcbiAgICAgICAgcmVtb3ZhbE1vZGU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWRlbGV0ZScsXG4gICAgICAgIGRyYXdUZXh0OiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi10ZXh0JyxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBidXR0b25zKSB7XG4gICAgICBjb25zdCBidXR0b24gPSBidXR0b25zW25hbWVdO1xuXG4gICAgICBMLlV0aWwuc2V0T3B0aW9ucyhidXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBpY29uQ2xhc3Nlcy5nZW9tYW5JY29uc1tuYW1lXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlQ29udHJvbHMoKSB7XG4gICAgLy8gZ3JhYiBhbGwgYnV0dG9ucyB0byBsb29wIHRocm91Z2hcbiAgICBjb25zdCBidXR0b25zID0gdGhpcy5nZXRCdXR0b25zKCk7XG5cbiAgICAvLyByZW1vdmUgYWxsIGJ1dHRvbnNcbiAgICBmb3IgKGNvbnN0IGJ0biBpbiBidXR0b25zKSB7XG4gICAgICBidXR0b25zW2J0bl0ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgfSxcbiAgdG9nZ2xlQ29udHJvbHMob3B0aW9ucyA9IHRoaXMub3B0aW9ucykge1xuICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgdGhpcy5yZW1vdmVDb250cm9scygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZENvbnRyb2xzKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgX2FkZEJ1dHRvbihuYW1lLCBidXR0b24pIHtcbiAgICB0aGlzLmJ1dHRvbnNbbmFtZV0gPSBidXR0b247XG4gICAgdGhpcy5vcHRpb25zW25hbWVdID0gISF0aGlzLm9wdGlvbnNbbmFtZV0gfHwgZmFsc2U7XG5cbiAgICByZXR1cm4gdGhpcy5idXR0b25zW25hbWVdO1xuICB9LFxuICB0cmlnZ2VyQ2xpY2tPblRvZ2dsZWRCdXR0b25zKGV4Y2VwdFRoaXNCdXR0b24pIHtcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgd2hlbiAtIGUuZy4gZHJhd2luZyBtb2RlIGlzIGVuYWJsZWQgYW5kIGEgcG9zc2libGVcbiAgICAvLyBvdGhlciBhY3RpdmUgbW9kZSAobGlrZSByZW1vdmFsIHRvb2wpIGlzIGFscmVhZHkgYWN0aXZlLlxuICAgIC8vIHdlIGNhbid0IGhhdmUgdHdvIGFjdGl2ZSBtb2RlcyBiZWNhdXNlIG9mIHBvc3NpYmxlIGV2ZW50IGNvbmZsaWN0c1xuICAgIC8vIHNvLCB3ZSB0cmlnZ2VyIGEgY2xpY2sgb24gYWxsIGN1cnJlbnRseSBhY3RpdmUgKHRvZ2dsZWQpIGJ1dHRvbnNcblxuICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLmJ1dHRvbnMpIHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuYnV0dG9uc1tuYW1lXTtcbiAgICAgIGlmIChcbiAgICAgICAgYnV0dG9uLl9idXR0b24uZGlzYWJsZUJ5T3RoZXJCdXR0b25zICYmXG4gICAgICAgIGJ1dHRvbiAhPT0gZXhjZXB0VGhpc0J1dHRvbiAmJlxuICAgICAgICBidXR0b24udG9nZ2xlZCgpXG4gICAgICApIHtcbiAgICAgICAgYnV0dG9uLl90cmlnZ2VyQ2xpY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHRvZ2dsZUJ1dHRvbihuYW1lLCBzdGF0dXMsIGRpc2FibGVPdGhlcnMgPSB0cnVlKSB7XG4gICAgLy8gZG9lcyBub3QgZmlyZSB0aGUgZXZlbnRzL2Z1bmN0aW9uYWxpdHkgb2YgdGhlIGJ1dHRvblxuICAgIC8vIHRoaXMganVzdCBjaGFuZ2VzIHRoZSBzdGF0ZSBhbmQgaXMgdXNlZCBpZiBhIGZ1bmN0aW9uYWxpdHkgKGxpa2UgRHJhdylcbiAgICAvLyBpcyBlbmFibGVkIG1hbnVhbGx5IHZpYSBzY3JpcHRcblxuICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggYnV0dG9uIHJlbmFtZVxuICAgIGlmIChuYW1lID09PSAnZWRpdFBvbHlnb24nKSB7XG4gICAgICBuYW1lID0gJ2VkaXRNb2RlJztcbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICdkZWxldGVMYXllcicpIHtcbiAgICAgIG5hbWUgPSAncmVtb3ZhbE1vZGUnO1xuICAgIH1cblxuICAgIC8vIGFzIHNvbWUgbW9kZSBnb3QgZW5hYmxlZCwgd2Ugc3RpbGwgaGF2ZSB0byB0cmlnZ2VyIHRoZSBjbGljayBvbiB0aGUgb3RoZXIgYnV0dG9uc1xuICAgIC8vIHRvIGRpc2FibGUgdGhlaXIgbW9kZVxuICAgIGlmIChkaXNhYmxlT3RoZXJzKSB7XG4gICAgICB0aGlzLnRyaWdnZXJDbGlja09uVG9nZ2xlZEJ1dHRvbnModGhpcy5idXR0b25zW25hbWVdKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYnV0dG9uc1tuYW1lXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBub3cgdG9nZ2xlIHRoZSBzdGF0ZSBvZiB0aGUgYnV0dG9uXG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uc1tuYW1lXS50b2dnbGUoc3RhdHVzKTtcbiAgfSxcbiAgX2RlZmluZUJ1dHRvbnMoKSB7XG4gICAgLy8gc29tZSBidXR0b25zIGFyZSBzdGlsbCBpbiB0aGVpciByZXNwZWN0aXZlIGNsYXNzZXMsIGxpa2UgTC5QTS5EcmF3LlBvbHlnb25cbiAgICBjb25zdCBkcmF3TWFya2VyQnV0dG9uID0ge1xuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1tYXJrZXInLFxuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZHJhd01hcmtlckJ1dHRvbicpLFxuICAgICAganNDbGFzczogJ01hcmtlcicsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdQb2x5QnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZHJhd1BvbHlCdXR0b24nKSxcbiAgICAgIGNsYXNzTmFtZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tcG9seWdvbicsXG4gICAgICBqc0NsYXNzOiAnUG9seWdvbicsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnZmluaXNoJywgJ3JlbW92ZUxhc3RWZXJ0ZXgnLCAnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdMaW5lQnV0dG9uID0ge1xuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1wb2x5bGluZScsXG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmF3TGluZUJ1dHRvbicpLFxuICAgICAganNDbGFzczogJ0xpbmUnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoZSwgY3R4KSA9PiB7XG4gICAgICAgIC8vIHRvZ2dsZSBkcmF3aW5nIG1vZGVcbiAgICAgICAgdGhpcy5tYXAucG0uRHJhd1tjdHguYnV0dG9uLl9idXR0b24uanNDbGFzc10udG9nZ2xlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICBhY3Rpb25zOiBbJ2ZpbmlzaCcsICdyZW1vdmVMYXN0VmVydGV4JywgJ2NhbmNlbCddLFxuICAgIH07XG5cbiAgICBjb25zdCBkcmF3Q2lyY2xlQnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZHJhd0NpcmNsZUJ1dHRvbicpLFxuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1jaXJjbGUnLFxuICAgICAganNDbGFzczogJ0NpcmNsZScsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdDaXJjbGVNYXJrZXJCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmF3Q2lyY2xlTWFya2VyQnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWNpcmNsZS1tYXJrZXInLFxuICAgICAganNDbGFzczogJ0NpcmNsZU1hcmtlcicsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdSZWN0QnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZHJhd1JlY3RCdXR0b24nKSxcbiAgICAgIGNsYXNzTmFtZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tcmVjdGFuZ2xlJyxcbiAgICAgIGpzQ2xhc3M6ICdSZWN0YW5nbGUnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoZSwgY3R4KSA9PiB7XG4gICAgICAgIC8vIHRvZ2dsZSBkcmF3aW5nIG1vZGVcbiAgICAgICAgdGhpcy5tYXAucG0uRHJhd1tjdHguYnV0dG9uLl9idXR0b24uanNDbGFzc10udG9nZ2xlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICBhY3Rpb25zOiBbJ2NhbmNlbCddLFxuICAgIH07XG5cbiAgICBjb25zdCBlZGl0QnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZWRpdEJ1dHRvbicpLFxuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1lZGl0JyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKCkgPT4ge1xuICAgICAgICB0aGlzLm1hcC5wbS50b2dnbGVHbG9iYWxFZGl0TW9kZSgpO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgdG9vbDogJ2VkaXQnLFxuICAgICAgYWN0aW9uczogWydmaW5pc2hNb2RlJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYWdCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmFnQnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWRyYWcnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubWFwLnBtLnRvZ2dsZUdsb2JhbERyYWdNb2RlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICB0b29sOiAnZWRpdCcsXG4gICAgICBhY3Rpb25zOiBbJ2ZpbmlzaE1vZGUnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgY3V0QnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuY3V0QnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWN1dCcsXG4gICAgICBqc0NsYXNzOiAnQ3V0JyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKGUsIGN0eCkgPT4ge1xuICAgICAgICAvLyBlbmFibGUgcG9seWdvbiBkcmF3aW5nIG1vZGUgd2l0aG91dCBzbmFwXG4gICAgICAgIHRoaXMubWFwLnBtLkRyYXdbY3R4LmJ1dHRvbi5fYnV0dG9uLmpzQ2xhc3NdLnRvZ2dsZSh7XG4gICAgICAgICAgc25hcHBhYmxlOiB0cnVlLFxuICAgICAgICAgIGN1cnNvck1hcmtlcjogdHJ1ZSxcbiAgICAgICAgICBhbGxvd1NlbGZJbnRlcnNlY3Rpb246IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIHRvb2w6ICdlZGl0JyxcbiAgICAgIGFjdGlvbnM6IFsnZmluaXNoJywgJ3JlbW92ZUxhc3RWZXJ0ZXgnLCAnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHtcbiAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYnV0dG9uVGl0bGVzLmRlbGV0ZUJ1dHRvbicpLFxuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1kZWxldGUnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubWFwLnBtLnRvZ2dsZUdsb2JhbFJlbW92YWxNb2RlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICB0b29sOiAnZWRpdCcsXG4gICAgICBhY3Rpb25zOiBbJ2ZpbmlzaE1vZGUnXSxcbiAgICB9O1xuXG4gICAgY29uc3Qgcm90YXRlQnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMucm90YXRlQnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLXJvdGF0ZScsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5tYXAucG0udG9nZ2xlR2xvYmFsUm90YXRlTW9kZSgpO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgdG9vbDogJ2VkaXQnLFxuICAgICAgYWN0aW9uczogWydmaW5pc2hNb2RlJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdUZXh0QnV0dG9uID0ge1xuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi10ZXh0JyxcbiAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYnV0dG9uVGl0bGVzLmRyYXdUZXh0QnV0dG9uJyksXG4gICAgICBqc0NsYXNzOiAnVGV4dCcsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd01hcmtlcicsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhd01hcmtlckJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd1BvbHlsaW5lJywgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihkcmF3TGluZUJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd1JlY3RhbmdsZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhd1JlY3RCdXR0b24pKTtcbiAgICB0aGlzLl9hZGRCdXR0b24oJ2RyYXdQb2x5Z29uJywgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihkcmF3UG9seUJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd0NpcmNsZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhd0NpcmNsZUJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbihcbiAgICAgICdkcmF3Q2lyY2xlTWFya2VyJyxcbiAgICAgIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhd0NpcmNsZU1hcmtlckJ1dHRvbilcbiAgICApO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd1RleHQnLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGRyYXdUZXh0QnV0dG9uKSk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKCdlZGl0TW9kZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZWRpdEJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhZ01vZGUnLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGRyYWdCdXR0b24pKTtcbiAgICB0aGlzLl9hZGRCdXR0b24oJ2N1dFBvbHlnb24nLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGN1dEJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbigncmVtb3ZhbE1vZGUnLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGRlbGV0ZUJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbigncm90YXRlTW9kZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24ocm90YXRlQnV0dG9uKSk7XG4gIH0sXG5cbiAgX3Nob3dIaWRlQnV0dG9ucygpIHtcbiAgICAvLyBpZiBUb29sYmFyIGlzIG5vdCB2aXNpYmxlLCB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSBidXR0b24gcG9zaXRpb25zXG4gICAgaWYgKCF0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBhbGwgYnV0dG9ucywgdGhhdCdzIGJlY2F1c2UgdGhlIFRvb2xiYXIgY2FuIGJlIGFkZGVkIGFnYWluIHdpdGhcbiAgICAvLyBkaWZmZXJlbnQgb3B0aW9ucyBzbyBpdCdzIGJhc2ljYWxseSBhIHJlc2V0IGFuZCBhZGQgYWdhaW5cbiAgICB0aGlzLnJlbW92ZUNvbnRyb2xzKCk7XG4gICAgLy8gd2UgbmVlZCB0byBzZXQgaXNWaXNpYmxlID0gdHJ1ZSBhZ2FpbiwgYmVjYXVzZSByZW1vdmVDb250cm9scygpIHNldCBpdCB0byBmYWxzZVxuICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcblxuICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLmdldEJ1dHRvbnMoKTtcbiAgICBsZXQgaWdub3JlQnRucyA9IFtdO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kcmF3Q29udHJvbHMgPT09IGZhbHNlKSB7XG4gICAgICBpZ25vcmVCdG5zID0gaWdub3JlQnRucy5jb25jYXQoXG4gICAgICAgIE9iamVjdC5rZXlzKGJ1dHRvbnMpLmZpbHRlcigoYnRuKSA9PiAhYnV0dG9uc1tidG5dLl9idXR0b24udG9vbClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZWRpdENvbnRyb2xzID09PSBmYWxzZSkge1xuICAgICAgaWdub3JlQnRucyA9IGlnbm9yZUJ0bnMuY29uY2F0KFxuICAgICAgICBPYmplY3Qua2V5cyhidXR0b25zKS5maWx0ZXIoXG4gICAgICAgICAgKGJ0bikgPT4gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbCA9PT0gJ2VkaXQnXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMub3B0aW9uc0NvbnRyb2xzID09PSBmYWxzZSkge1xuICAgICAgaWdub3JlQnRucyA9IGlnbm9yZUJ0bnMuY29uY2F0KFxuICAgICAgICBPYmplY3Qua2V5cyhidXR0b25zKS5maWx0ZXIoXG4gICAgICAgICAgKGJ0bikgPT4gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbCA9PT0gJ29wdGlvbnMnXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3VzdG9tQ29udHJvbHMgPT09IGZhbHNlKSB7XG4gICAgICBpZ25vcmVCdG5zID0gaWdub3JlQnRucy5jb25jYXQoXG4gICAgICAgIE9iamVjdC5rZXlzKGJ1dHRvbnMpLmZpbHRlcihcbiAgICAgICAgICAoYnRuKSA9PiBidXR0b25zW2J0bl0uX2J1dHRvbi50b29sID09PSAnY3VzdG9tJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgYnRuIGluIGJ1dHRvbnMpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnNbYnRuXSAmJiBpZ25vcmVCdG5zLmluZGV4T2YoYnRuKSA9PT0gLTEpIHtcbiAgICAgICAgLy8gaWYgb3B0aW9ucyBzYXkgdGhlIGJ1dHRvbiBzaG91bGQgYmUgdmlzaWJsZSwgYWRkIGl0IHRvIHRoZSBtYXBcbiAgICAgICAgbGV0IGJsb2NrID0gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbDtcbiAgICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICAgIC8vIHVuZGVmaW5lZCBpcyB0aGUgZHJhdyBibG9ja1xuICAgICAgICAgIGJsb2NrID0gJ2RyYXcnO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbnNbYnRuXS5zZXRQb3NpdGlvbih0aGlzLl9nZXRCdG5Qb3NpdGlvbihibG9jaykpO1xuICAgICAgICBidXR0b25zW2J0bl0uYWRkVG8odGhpcy5tYXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgX2dldEJ0blBvc2l0aW9uKGJsb2NrKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbnMgJiYgdGhpcy5vcHRpb25zLnBvc2l0aW9uc1tibG9ja11cbiAgICAgID8gdGhpcy5vcHRpb25zLnBvc2l0aW9uc1tibG9ja11cbiAgICAgIDogdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xuICB9LFxuICBzZXRCbG9ja1Bvc2l0aW9uKGJsb2NrLCBwb3NpdGlvbikge1xuICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbnNbYmxvY2tdID0gcG9zaXRpb247XG4gICAgdGhpcy5fc2hvd0hpZGVCdXR0b25zKCk7XG4gICAgdGhpcy5jaGFuZ2VDb250cm9sT3JkZXIoKTtcbiAgfSxcbiAgZ2V0QmxvY2tQb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbnM7XG4gIH0sXG4gIGNvcHlEcmF3Q29udHJvbChjb3B5SW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0J1dHRvbiBoYXMgbm8gbmFtZScpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBpZiBvbmx5IHRoZSBuYW1lIGlzIHBhc3NlZCBhbmQgbm8gb3B0aW9ucyBvYmplY3RcbiAgICAgIG9wdGlvbnMgPSB7IG5hbWU6IG9wdGlvbnMgfTtcbiAgICB9XG5cbiAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuX2J0bk5hbWVNYXBwaW5nKGNvcHlJbnN0YW5jZSk7XG5cbiAgICBpZiAoIW9wdGlvbnMubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQnV0dG9uIGhhcyBubyBuYW1lJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYnV0dG9uc1tvcHRpb25zLm5hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCdXR0b24gd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9XG4gICAgY29uc3QgZHJhd0luc3RhbmNlID0gdGhpcy5tYXAucG0uRHJhdy5jcmVhdGVOZXdEcmF3SW5zdGFuY2UoXG4gICAgICBvcHRpb25zLm5hbWUsXG4gICAgICBpbnN0YW5jZVxuICAgICk7XG5cbiAgICBjb25zdCBidG4gPSB0aGlzLmJ1dHRvbnNbaW5zdGFuY2VdLl9idXR0b247XG4gICAgb3B0aW9ucyA9IHsgLi4uYnRuLCAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgY29udHJvbCA9IHRoaXMuY3JlYXRlQ3VzdG9tQ29udHJvbChvcHRpb25zKTtcbiAgICByZXR1cm4geyBkcmF3SW5zdGFuY2UsIGNvbnRyb2wgfTtcbiAgfSxcbiAgY3JlYXRlQ3VzdG9tQ29udHJvbChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0J1dHRvbiBoYXMgbm8gbmFtZScpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmJ1dHRvbnNbb3B0aW9ucy5uYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQnV0dG9uIHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5vbkNsaWNrKSB7XG4gICAgICBvcHRpb25zLm9uQ2xpY2sgPSAoKSA9PiB7fTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmFmdGVyQ2xpY2spIHtcbiAgICAgIG9wdGlvbnMuYWZ0ZXJDbGljayA9ICgpID0+IHt9O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy50b2dnbGUgIT09IGZhbHNlKSB7XG4gICAgICBvcHRpb25zLnRvZ2dsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuYmxvY2spIHtcbiAgICAgIG9wdGlvbnMuYmxvY2sgPSBvcHRpb25zLmJsb2NrLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5ibG9jayB8fCBvcHRpb25zLmJsb2NrID09PSAnZHJhdycpIHtcbiAgICAgIG9wdGlvbnMuYmxvY2sgPSAnJztcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuY2xhc3NOYW1lKSB7XG4gICAgICBvcHRpb25zLmNsYXNzTmFtZSA9ICdjb250cm9sLWljb24nO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jbGFzc05hbWUuaW5kZXhPZignY29udHJvbC1pY29uJykgPT09IC0xKSB7XG4gICAgICBvcHRpb25zLmNsYXNzTmFtZSA9IGBjb250cm9sLWljb24gJHtvcHRpb25zLmNsYXNzTmFtZX1gO1xuICAgIH1cblxuICAgIGNvbnN0IF9vcHRpb25zID0ge1xuICAgICAgdG9vbDogb3B0aW9ucy5ibG9jayxcbiAgICAgIGNsYXNzTmFtZTogb3B0aW9ucy5jbGFzc05hbWUsXG4gICAgICB0aXRsZTogb3B0aW9ucy50aXRsZSB8fCAnJyxcbiAgICAgIGpzQ2xhc3M6IG9wdGlvbnMubmFtZSxcbiAgICAgIG9uQ2xpY2s6IG9wdGlvbnMub25DbGljayxcbiAgICAgIGFmdGVyQ2xpY2s6IG9wdGlvbnMuYWZ0ZXJDbGljayxcbiAgICAgIGRvVG9nZ2xlOiBvcHRpb25zLnRvZ2dsZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiBvcHRpb25zLmRpc2FibGVPdGhlckJ1dHRvbnMgPz8gdHJ1ZSxcbiAgICAgIGRpc2FibGVCeU90aGVyQnV0dG9uczogb3B0aW9ucy5kaXNhYmxlQnlPdGhlckJ1dHRvbnMgPz8gdHJ1ZSxcbiAgICAgIGNzc1RvZ2dsZTogb3B0aW9ucy50b2dnbGUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgYWN0aW9uczogb3B0aW9ucy5hY3Rpb25zIHx8IFtdLFxuICAgICAgZGlzYWJsZWQ6ICEhb3B0aW9ucy5kaXNhYmxlZCxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMub3B0aW9uc1tvcHRpb25zLm5hbWVdICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5vcHRpb25zW29wdGlvbnMubmFtZV0gPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRyb2wgPSB0aGlzLl9hZGRCdXR0b24oXG4gICAgICBvcHRpb25zLm5hbWUsXG4gICAgICBuZXcgTC5Db250cm9sLlBNQnV0dG9uKF9vcHRpb25zKVxuICAgICk7XG4gICAgdGhpcy5jaGFuZ2VDb250cm9sT3JkZXIoKTtcbiAgICByZXR1cm4gY29udHJvbDtcbiAgfSxcbiAgY29udHJvbEV4aXN0cyhuYW1lKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5nZXRCdXR0b24obmFtZSkpO1xuICB9LFxuICBnZXRCdXR0b24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLmdldEJ1dHRvbnMoKVtuYW1lXTtcbiAgfSxcbiAgZ2V0QnV0dG9uc0luQmxvY2sobmFtZSkge1xuICAgIGNvbnN0IGJ1dHRvbnNJbkJsb2NrID0ge307XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIGZvciAoY29uc3QgYnV0dG9uTmFtZSBpbiB0aGlzLmdldEJ1dHRvbnMoKSkge1xuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLmdldEJ1dHRvbnMoKVtidXR0b25OYW1lXTtcbiAgICAgICAgLy8gZHJhdyBjb250cm9scyBkb2Vzbid0IGhhdmUgYSBibG9ja1xuICAgICAgICBpZiAoXG4gICAgICAgICAgYnV0dG9uLl9idXR0b24udG9vbCA9PT0gbmFtZSB8fFxuICAgICAgICAgIChuYW1lID09PSAnZHJhdycgJiYgIWJ1dHRvbi5fYnV0dG9uLnRvb2wpXG4gICAgICAgICkge1xuICAgICAgICAgIGJ1dHRvbnNJbkJsb2NrW2J1dHRvbk5hbWVdID0gYnV0dG9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBidXR0b25zSW5CbG9jaztcbiAgfSxcbiAgY2hhbmdlQ29udHJvbE9yZGVyKG9yZGVyID0gW10pIHtcbiAgICBjb25zdCBzaGFwZU1hcHBpbmcgPSB0aGlzLl9zaGFwZU1hcHBpbmcoKTtcblxuICAgIGNvbnN0IF9vcmRlciA9IFtdO1xuICAgIG9yZGVyLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICBpZiAoc2hhcGVNYXBwaW5nW3NoYXBlXSkge1xuICAgICAgICBfb3JkZXIucHVzaChzaGFwZU1hcHBpbmdbc2hhcGVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9vcmRlci5wdXNoKHNoYXBlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLmdldEJ1dHRvbnMoKTtcblxuICAgIC8vIFRoaXMgc3RlcHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgYSBuZXcgT2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBidXR0b25zIGluIHRoZSBjb3JyZWN0IHNvcnRlZCBvcmRlci5cbiAgICBjb25zdCBuZXdidG5vcmRlciA9IHt9O1xuICAgIF9vcmRlci5mb3JFYWNoKChjb250cm9sKSA9PiB7XG4gICAgICBpZiAoYnV0dG9uc1tjb250cm9sXSkge1xuICAgICAgICBuZXdidG5vcmRlcltjb250cm9sXSA9IGJ1dHRvbnNbY29udHJvbF07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBkcmF3QnRucyA9IE9iamVjdC5rZXlzKGJ1dHRvbnMpLmZpbHRlcihcbiAgICAgIChidG4pID0+ICFidXR0b25zW2J0bl0uX2J1dHRvbi50b29sXG4gICAgKTtcbiAgICBkcmF3QnRucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGlmIChfb3JkZXIuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICBuZXdidG5vcmRlcltidG5dID0gYnV0dG9uc1tidG5dO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGVkaXRCdG5zID0gT2JqZWN0LmtleXMoYnV0dG9ucykuZmlsdGVyKFxuICAgICAgKGJ0bikgPT4gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbCA9PT0gJ2VkaXQnXG4gICAgKTtcbiAgICBlZGl0QnRucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGlmIChfb3JkZXIuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICBuZXdidG5vcmRlcltidG5dID0gYnV0dG9uc1tidG5dO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG9wdGlvbnNCdG5zID0gT2JqZWN0LmtleXMoYnV0dG9ucykuZmlsdGVyKFxuICAgICAgKGJ0bikgPT4gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbCA9PT0gJ29wdGlvbnMnXG4gICAgKTtcbiAgICBvcHRpb25zQnRucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGlmIChfb3JkZXIuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICBuZXdidG5vcmRlcltidG5dID0gYnV0dG9uc1tidG5dO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGN1c3RvbUJ0bnMgPSBPYmplY3Qua2V5cyhidXR0b25zKS5maWx0ZXIoXG4gICAgICAoYnRuKSA9PiBidXR0b25zW2J0bl0uX2J1dHRvbi50b29sID09PSAnY3VzdG9tJ1xuICAgICk7XG4gICAgY3VzdG9tQnRucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGlmIChfb3JkZXIuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICBuZXdidG5vcmRlcltidG5dID0gYnV0dG9uc1tidG5dO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFRvIGFkZCBhbGwgb3RoZXIgYnV0dG9ucyB0aGV5IGFyZSBub3QgaW4gYSBjb250YWluZXIgZnJvbSBhYm92ZSAobWF5YmUgYWRkZWQgbWFudWFsbHkgYnkgYSBkZXZlbG9wZXIpXG4gICAgT2JqZWN0LmtleXMoYnV0dG9ucykuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICBpZiAoX29yZGVyLmluZGV4T2YoYnRuKSA9PT0gLTEpIHtcbiAgICAgICAgbmV3YnRub3JkZXJbYnRuXSA9IGJ1dHRvbnNbYnRuXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMubWFwLnBtLlRvb2xiYXIuYnV0dG9ucyA9IG5ld2J0bm9yZGVyO1xuICAgIHRoaXMuX3Nob3dIaWRlQnV0dG9ucygpO1xuICB9LFxuICBnZXRDb250cm9sT3JkZXIoKSB7XG4gICAgY29uc3QgYnV0dG9ucyA9IHRoaXMuZ2V0QnV0dG9ucygpO1xuICAgIGNvbnN0IG9yZGVyID0gW107XG4gICAgZm9yIChjb25zdCBidG4gaW4gYnV0dG9ucykge1xuICAgICAgb3JkZXIucHVzaChidG4pO1xuICAgIH1cbiAgICByZXR1cm4gb3JkZXI7XG4gIH0sXG4gIGNoYW5nZUFjdGlvbnNPZkNvbnRyb2wobmFtZSwgYWN0aW9ucykge1xuICAgIGNvbnN0IGJ0bk5hbWUgPSB0aGlzLl9idG5OYW1lTWFwcGluZyhuYW1lKTtcblxuICAgIGlmICghYnRuTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gbmFtZSBwYXNzZWQnKTtcbiAgICB9XG4gICAgaWYgKCFhY3Rpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBhY3Rpb25zIHBhc3NlZCcpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5idXR0b25zW2J0bk5hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCdXR0b24gd2l0aCB0aGlzIG5hbWUgbm90IGV4aXN0cycpO1xuICAgIH1cbiAgICB0aGlzLmJ1dHRvbnNbYnRuTmFtZV0uX2J1dHRvbi5hY3Rpb25zID0gYWN0aW9ucztcbiAgICB0aGlzLmNoYW5nZUNvbnRyb2xPcmRlcigpO1xuICB9LFxuICBzZXRCdXR0b25EaXNhYmxlZChuYW1lLCBzdGF0ZSkge1xuICAgIGNvbnN0IGJ0bk5hbWUgPSB0aGlzLl9idG5OYW1lTWFwcGluZyhuYW1lKTtcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIHRoaXMuYnV0dG9uc1tidG5OYW1lXS5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYnV0dG9uc1tidG5OYW1lXS5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIF9zaGFwZU1hcHBpbmcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIE1hcmtlcjogJ2RyYXdNYXJrZXInLFxuICAgICAgQ2lyY2xlOiAnZHJhd0NpcmNsZScsXG4gICAgICBQb2x5Z29uOiAnZHJhd1BvbHlnb24nLFxuICAgICAgUmVjdGFuZ2xlOiAnZHJhd1JlY3RhbmdsZScsXG4gICAgICBQb2x5bGluZTogJ2RyYXdQb2x5bGluZScsXG4gICAgICBMaW5lOiAnZHJhd1BvbHlsaW5lJyxcbiAgICAgIENpcmNsZU1hcmtlcjogJ2RyYXdDaXJjbGVNYXJrZXInLFxuICAgICAgRWRpdDogJ2VkaXRNb2RlJyxcbiAgICAgIERyYWc6ICdkcmFnTW9kZScsXG4gICAgICBDdXQ6ICdjdXRQb2x5Z29uJyxcbiAgICAgIFJlbW92YWw6ICdyZW1vdmFsTW9kZScsXG4gICAgICBSb3RhdGU6ICdyb3RhdGVNb2RlJyxcbiAgICAgIFRleHQ6ICdkcmF3VGV4dCcsXG4gICAgfTtcbiAgfSxcbiAgX2J0bk5hbWVNYXBwaW5nKG5hbWUpIHtcbiAgICBjb25zdCBzaGFwZU1hcHBpbmcgPSB0aGlzLl9zaGFwZU1hcHBpbmcoKTtcbiAgICByZXR1cm4gc2hhcGVNYXBwaW5nW25hbWVdID8gc2hhcGVNYXBwaW5nW25hbWVdIDogbmFtZTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBUb29sYmFyO1xuIiwgImltcG9ydCBtZXJnZSBmcm9tICdsb2Rhc2gvbWVyZ2UnO1xuaW1wb3J0IFNuYXBNaXhpbiBmcm9tICcuLi9NaXhpbnMvU25hcHBpbmcnO1xuaW1wb3J0IEV2ZW50TWl4aW4gZnJvbSAnLi4vTWl4aW5zL0V2ZW50cyc7XG5cbmNvbnN0IERyYXcgPSBMLkNsYXNzLmV4dGVuZCh7XG4gIGluY2x1ZGVzOiBbU25hcE1peGluLCBFdmVudE1peGluXSxcbiAgb3B0aW9uczoge1xuICAgIHNuYXBwYWJsZTogdHJ1ZSwgLy8gVE9ETzogbmV4dCBtYWpvciBSZWxlYXNlLCByZW5hbWUgaXQgdG8gYWxsb3dTbmFwcGluZ1xuICAgIHNuYXBEaXN0YW5jZTogMjAsXG4gICAgc25hcE1pZGRsZTogZmFsc2UsXG4gICAgYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiB0cnVlLFxuICAgIHRvb2x0aXBzOiB0cnVlLFxuICAgIHRlbXBsaW5lU3R5bGU6IHt9LFxuICAgIGhpbnRsaW5lU3R5bGU6IHtcbiAgICAgIGNvbG9yOiAnIzMzODhmZicsXG4gICAgICBkYXNoQXJyYXk6ICc1LDUnLFxuICAgIH0sXG4gICAgcGF0aE9wdGlvbnM6IG51bGwsXG4gICAgY3Vyc29yTWFya2VyOiB0cnVlLFxuICAgIGZpbmlzaE9uOiBudWxsLFxuICAgIG1hcmtlclN0eWxlOiB7XG4gICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICBpY29uOiBMLmljb24oKSxcbiAgICB9LFxuICAgIGhpZGVNaWRkbGVNYXJrZXJzOiBmYWxzZSxcbiAgICBtaW5SYWRpdXNDaXJjbGU6IG51bGwsXG4gICAgbWF4UmFkaXVzQ2lyY2xlOiBudWxsLFxuICAgIG1pblJhZGl1c0NpcmNsZU1hcmtlcjogbnVsbCxcbiAgICBtYXhSYWRpdXNDaXJjbGVNYXJrZXI6IG51bGwsXG4gICAgcmVzaXplYWJsZUNpcmNsZU1hcmtlcjogZmFsc2UsXG4gICAgcmVzaXphYmxlQ2lyY2xlOiB0cnVlLFxuICAgIG1hcmtlckVkaXRhYmxlOiB0cnVlLFxuICAgIGNvbnRpbnVlRHJhd2luZzogZmFsc2UsXG4gICAgc25hcFNlZ21lbnQ6IHRydWUsXG4gICAgcmVxdWlyZVNuYXBUb0ZpbmlzaDogZmFsc2UsXG4gICAgcmVjdGFuZ2xlQW5nbGU6IDAsXG4gIH0sXG4gIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuc2V0U3R5bGUodGhpcy5vcHRpb25zKTtcbiAgfSxcbiAgc2V0U3R5bGUoKSB7fSxcbiAgZ2V0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xuICB9LFxuICBpbml0aWFsaXplKG1hcCkge1xuICAgIC8vIE92ZXJ3cml0aW5nIHRoZSBkZWZhdWx0IHRvb2x0aXBBbmNob3Igb2YgdGhlIGRlZmF1bHQgTWFya2VyIEljb24sIGJlY2F1c2UgdGhlIHRvb2x0aXAgZnVuY3Rpb25hbGl0eSB3YXMgdXBkYXRlZCBidXQgbm90IHRoZSBhbmNob3IgaW4gdGhlIEljb25cbiAgICAvLyBJc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy83MzAyIC0gTGVhZmxldCB2MS43LjFcbiAgICBjb25zdCBkZWZhdWx0SWNvbiA9IG5ldyBMLkljb24uRGVmYXVsdCgpO1xuICAgIGRlZmF1bHRJY29uLm9wdGlvbnMudG9vbHRpcEFuY2hvciA9IFswLCAwXTtcbiAgICB0aGlzLm9wdGlvbnMubWFya2VyU3R5bGUuaWNvbiA9IGRlZmF1bHRJY29uO1xuXG4gICAgLy8gc2F2ZSB0aGUgbWFwXG4gICAgdGhpcy5fbWFwID0gbWFwO1xuXG4gICAgLy8gZGVmaW5lIGFsbCBwb3NzaWJsZSBzaGFwZXMgdGhhdCBjYW4gYmUgZHJhd25cbiAgICB0aGlzLnNoYXBlcyA9IFtcbiAgICAgICdNYXJrZXInLFxuICAgICAgJ0NpcmNsZU1hcmtlcicsXG4gICAgICAnTGluZScsXG4gICAgICAnUG9seWdvbicsXG4gICAgICAnUmVjdGFuZ2xlJyxcbiAgICAgICdDaXJjbGUnLFxuICAgICAgJ0N1dCcsXG4gICAgICAnVGV4dCcsXG4gICAgXTtcblxuICAgIC8vIGluaXRpYXRlIGRyYXdpbmcgY2xhc3MgZm9yIG91ciBzaGFwZXNcbiAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgdGhpc1tzaGFwZV0gPSBuZXcgTC5QTS5EcmF3W3NoYXBlXSh0aGlzLl9tYXApO1xuICAgIH0pO1xuXG4gICAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgd2l0aCB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gICAgdGhpcy5NYXJrZXIuc2V0T3B0aW9ucyh7IGNvbnRpbnVlRHJhd2luZzogdHJ1ZSB9KTtcbiAgICB0aGlzLkNpcmNsZU1hcmtlci5zZXRPcHRpb25zKHsgY29udGludWVEcmF3aW5nOiB0cnVlIH0pO1xuICB9LFxuICBzZXRQYXRoT3B0aW9ucyhvcHRpb25zLCBtZXJnZU9wdGlvbnMgPSBmYWxzZSkge1xuICAgIGlmICghbWVyZ2VPcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMgPSBtZXJnZSh0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgZ2V0U2hhcGVzKCkge1xuICAgIC8vIGlmIHNvbWVib2R5IHdhbnRzIHRvIGtub3cgd2hhdCBzaGFwZXMgYXJlIGF2YWlsYWJsZVxuICAgIHJldHVybiB0aGlzLnNoYXBlcztcbiAgfSxcbiAgZ2V0U2hhcGUoKSB7XG4gICAgLy8gcmV0dXJuIHRoZSBzaGFwZSBvZiB0aGUgY3VycmVudCBkcmF3aW5nIGxheWVyXG4gICAgcmV0dXJuIHRoaXMuX3NoYXBlO1xuICB9LFxuICBlbmFibGUoc2hhcGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXNoYXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBFcnJvcjogUGxlYXNlIHBhc3MgYSBzaGFwZSBhcyBhIHBhcmFtZXRlci4gUG9zc2libGUgc2hhcGVzIGFyZTogJHt0aGlzLmdldFNoYXBlcygpLmpvaW4oXG4gICAgICAgICAgJywnXG4gICAgICAgICl9YFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmcgZm9yIGFsbCBzaGFwZXNcbiAgICB0aGlzLmRpc2FibGUoKTtcblxuICAgIC8vIGVuYWJsZSBkcmF3IGZvciBhIHNoYXBlXG4gICAgdGhpc1tzaGFwZV0uZW5hYmxlKG9wdGlvbnMpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIHRoZXJlIGNhbiBvbmx5IGJlIG9uZSBkcmF3aW5nIG1vZGUgYWN0aXZlIGF0IGEgdGltZSBvbiBhIG1hcFxuICAgIC8vIHNvIGl0IGRvZXNuJ3QgbWF0dGVyIHdoaWNoIG9uZSBzaG91bGQgYmUgZGlzYWJsZWQuXG4gICAgLy8ganVzdCBkaXNhYmxlIGFsbCBvZiB0aGVtXG4gICAgdGhpcy5zaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgIHRoaXNbc2hhcGVdLmRpc2FibGUoKTtcbiAgICB9KTtcbiAgfSxcbiAgYWRkQ29udHJvbHMoKSB7XG4gICAgLy8gYWRkIGNvbnRyb2wgYnV0dG9ucyBmb3Igb3VyIHNoYXBlc1xuICAgIHRoaXMuc2hhcGVzLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICB0aGlzW3NoYXBlXS5hZGRCdXR0b24oKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0QWN0aXZlU2hhcGUoKSB7XG4gICAgLy8gcmV0dXJucyB0aGUgYWN0aXZlIHNoYXBlXG4gICAgbGV0IGVuYWJsZWRTaGFwZTtcbiAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgaWYgKHRoaXNbc2hhcGVdLl9lbmFibGVkKSB7XG4gICAgICAgIGVuYWJsZWRTaGFwZSA9IHNoYXBlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlbmFibGVkU2hhcGU7XG4gIH0sXG4gIF9zZXRHbG9iYWxEcmF3TW9kZSgpIHtcbiAgICAvLyBleHRlbmRlZCB0byBhbGwgUE0uRHJhdyBzaGFwZXNcbiAgICBpZiAodGhpcy5fc2hhcGUgPT09ICdDdXQnKSB7XG4gICAgICB0aGlzLl9maXJlR2xvYmFsQ3V0TW9kZVRvZ2dsZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZmlyZUdsb2JhbERyYXdNb2RlVG9nZ2xlZCgpO1xuICAgIH1cblxuICAgIGNvbnN0IGxheWVycyA9IFtdO1xuICAgIHRoaXMuX21hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5bGluZSB8fFxuICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyIHx8XG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGUgfHxcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlciB8fFxuICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuSW1hZ2VPdmVybGF5XG4gICAgICApIHtcbiAgICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQncyBsZWFmbGV0LWdlb21hbiBzcGVjaWZpYyB0ZW1wb3Jhcnkgc3R1ZmZcbiAgICAgICAgaWYgKCFsYXllci5fcG1UZW1wTGF5ZXIpIHtcbiAgICAgICAgICBsYXllcnMucHVzaChsYXllcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9lbmFibGVkKSB7XG4gICAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgICAgTC5QTS5VdGlscy5kaXNhYmxlUG9wdXAobGF5ZXIpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICBMLlBNLlV0aWxzLmVuYWJsZVBvcHVwKGxheWVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBjcmVhdGVOZXdEcmF3SW5zdGFuY2UobmFtZSwganNDbGFzcykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5fZ2V0U2hhcGVGcm9tQnRuTmFtZShqc0NsYXNzKTtcbiAgICBpZiAodGhpc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRHJhdyBUeXBlIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfVxuICAgIGlmICghTC5QTS5EcmF3W2luc3RhbmNlXSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlcmUgaXMgbm8gY2xhc3MgTC5QTS5EcmF3LiR7aW5zdGFuY2V9YCk7XG4gICAgfVxuXG4gICAgdGhpc1tuYW1lXSA9IG5ldyBMLlBNLkRyYXdbaW5zdGFuY2VdKHRoaXMuX21hcCk7XG4gICAgdGhpc1tuYW1lXS50b29sYmFyQnV0dG9uTmFtZSA9IG5hbWU7XG4gICAgdGhpc1tuYW1lXS5fc2hhcGUgPSBuYW1lO1xuICAgIHRoaXMuc2hhcGVzLnB1c2gobmFtZSk7XG5cbiAgICAvLyBuZWVkZWQgd2hlbiBleHRlbmRlZCAvIGNvcGllZCBmcm9tIGEgY3VzdG9tIGluc3RhbmNlXG4gICAgaWYgKHRoaXNbanNDbGFzc10pIHtcbiAgICAgIHRoaXNbbmFtZV0uc2V0T3B0aW9ucyh0aGlzW2pzQ2xhc3NdLm9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBSZS1pbml0IHRoZSBvcHRpb25zLCBzbyBpdCBpcyBub3QgcmVmZXJlbmNlZCB3aXRoIHRoZSBkZWZhdWx0IERyYXcgY2xhc3NcbiAgICB0aGlzW25hbWVdLnNldE9wdGlvbnModGhpc1tuYW1lXS5vcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzW25hbWVdO1xuICB9LFxuICBfZ2V0U2hhcGVGcm9tQnRuTmFtZShuYW1lKSB7XG4gICAgY29uc3Qgc2hhcGVNYXBwaW5nID0ge1xuICAgICAgZHJhd01hcmtlcjogJ01hcmtlcicsXG4gICAgICBkcmF3Q2lyY2xlOiAnQ2lyY2xlJyxcbiAgICAgIGRyYXdQb2x5Z29uOiAnUG9seWdvbicsXG4gICAgICBkcmF3UG9seWxpbmU6ICdMaW5lJyxcbiAgICAgIGRyYXdSZWN0YW5nbGU6ICdSZWN0YW5nbGUnLFxuICAgICAgZHJhd0NpcmNsZU1hcmtlcjogJ0NpcmNsZU1hcmtlcicsXG4gICAgICBlZGl0TW9kZTogJ0VkaXQnLFxuICAgICAgZHJhZ01vZGU6ICdEcmFnJyxcbiAgICAgIGN1dFBvbHlnb246ICdDdXQnLFxuICAgICAgcmVtb3ZhbE1vZGU6ICdSZW1vdmFsJyxcbiAgICAgIHJvdGF0ZU1vZGU6ICdSb3RhdGUnLFxuICAgICAgZHJhd1RleHQ6ICdUZXh0JyxcbiAgICB9O1xuXG4gICAgaWYgKHNoYXBlTWFwcGluZ1tuYW1lXSkge1xuICAgICAgcmV0dXJuIHNoYXBlTWFwcGluZ1tuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNbbmFtZV0gPyB0aGlzW25hbWVdLl9zaGFwZSA6IG5hbWU7XG4gIH0sXG4gIF9maW5pc2hMYXllcihsYXllcikge1xuICAgIGlmIChsYXllci5wbSkge1xuICAgICAgLy8gYWRkIHRoZSBwbSBvcHRpb25zIGZyb20gZHJhd2luZyB0byB0aGUgbmV3IGxheWVyIChlZGl0KVxuICAgICAgbGF5ZXIucG0uc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpO1xuICAgICAgLy8gc2V0IHRoZSBzaGFwZSAoY2FuIGJlIGEgY3VzdG9tIHNoYXBlKVxuICAgICAgbGF5ZXIucG0uX3NoYXBlID0gdGhpcy5fc2hhcGU7XG4gICAgICAvLyBhcHBseSB0aGUgbWFwIHRvIHRoZSBuZXcgY3JlYXRlZCBsYXllciBpbiB0aGUgcG0gb2JqZWN0XG4gICAgICBsYXllci5wbS5fbWFwID0gdGhpcy5fbWFwO1xuICAgIH1cbiAgICB0aGlzLl9hZGREcmF3bkxheWVyUHJvcChsYXllcik7XG4gIH0sXG4gIF9hZGREcmF3bkxheWVyUHJvcChsYXllcikge1xuICAgIGxheWVyLl9kcmF3bkJ5R2VvbWFuID0gdHJ1ZTtcbiAgfSxcbiAgX3NldFBhbmUobGF5ZXIsIHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gJ2xheWVyUGFuZScpIHtcbiAgICAgIGxheWVyLm9wdGlvbnMucGFuZSA9XG4gICAgICAgICh0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcyAmJlxuICAgICAgICAgIHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzLmxheWVyUGFuZSkgfHxcbiAgICAgICAgJ292ZXJsYXlQYW5lJztcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2ZXJ0ZXhQYW5lJykge1xuICAgICAgbGF5ZXIub3B0aW9ucy5wYW5lID1cbiAgICAgICAgKHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzICYmXG4gICAgICAgICAgdGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMudmVydGV4UGFuZSkgfHxcbiAgICAgICAgJ21hcmtlclBhbmUnO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21hcmtlclBhbmUnKSB7XG4gICAgICBsYXllci5vcHRpb25zLnBhbmUgPVxuICAgICAgICAodGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMgJiZcbiAgICAgICAgICB0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcy5tYXJrZXJQYW5lKSB8fFxuICAgICAgICAnbWFya2VyUGFuZSc7XG4gICAgfVxuICB9LFxuICBfaXNGaXJzdExheWVyKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcCB8fCB0aGlzLl9sYXllci5fbWFwO1xuICAgIHJldHVybiBtYXAucG0uZ2V0R2VvbWFuTGF5ZXJzKCkubGVuZ3RoID09PSAwO1xuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IERyYXc7XG4iLCAiaW1wb3J0IHsgaGFzVmFsdWVzLCBwcmlvcml0aXNlU29ydCB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5jb25zdCBTbmFwTWl4aW4gPSB7XG4gIF9pbml0U25hcHBhYmxlTWFya2VycygpIHtcbiAgICB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlID0gdGhpcy5vcHRpb25zLnNuYXBEaXN0YW5jZSB8fCAzMDtcbiAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPVxuICAgICAgdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50O1xuXG4gICAgdGhpcy5fYXNzaWduRXZlbnRzKHRoaXMuX21hcmtlcnMpO1xuXG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9uKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICB9LFxuICBfZGlzYWJsZVNuYXBwaW5nKCkge1xuICAgIHRoaXMuX2xheWVyLm9mZigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgfSxcbiAgX2Fzc2lnbkV2ZW50cyhtYXJrZXJBcnIpIHtcbiAgICAvLyBsb29wIHRocm91Z2ggbWFya2VyIGFycmF5IGFuZCBhc3NpZ24gZXZlbnRzIHRvIHRoZSBtYXJrZXJzXG4gICAgbWFya2VyQXJyLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgLy8gaWYgdGhlIG1hcmtlciBpcyBhbm90aGVyIGFycmF5IChNdWx0aXBvbHlnb24gc3R1ZmYpLCByZWN1cnNpdmVseSBkbyB0aGlzIGFnYWluXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtYXJrZXIpKSB7XG4gICAgICAgIHRoaXMuX2Fzc2lnbkV2ZW50cyhtYXJrZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCBoYW5kbGVTbmFwcGluZyBldmVudCBvbiBkcmFnXG4gICAgICBtYXJrZXIub2ZmKCdkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuXG4gICAgICAvLyBjbGVhbnVwIGV2ZW50IG9uIGRyYWdlbmRcbiAgICAgIG1hcmtlci5vZmYoJ2RyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdkcmFnZW5kJywgdGhpcy5fY2xlYW51cFNuYXBwaW5nLCB0aGlzKTtcbiAgICB9KTtcbiAgfSxcbiAgX2NsZWFudXBTbmFwcGluZyhlKSB7XG4gICAgaWYgKGUpIHtcbiAgICAgIC8vIHJlc2V0IHNuYXAgZmxhZyBvZiB0aGUgZHJhZ2dlZCBoZWxwZXItbWFya2VyXG4gICAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldDtcbiAgICAgIG1hcmtlci5fc25hcHBlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBkZWxldGUgaXQsIHdlIG5lZWQgdG8gcmVmcmVzaCB0aGlzIHdpdGggZWFjaCBzdGFydCBvZiBhIGRyYWcgYmVjYXVzZVxuICAgIC8vIG1lYW53aGlsZSwgbmV3IGxheWVycyBjb3VsZCd2ZSBiZWVuIGFkZGVkIHRvIHRoZSBtYXBcbiAgICBkZWxldGUgdGhpcy5fc25hcExpc3Q7XG5cbiAgICBpZiAodGhpcy50aHJvdHRsZWRMaXN0KSB7XG4gICAgICB0aGlzLl9tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkTGlzdCwgdGhpcyk7XG4gICAgICB0aGlzLnRocm90dGxlZExpc3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIG1hcCBldmVudFxuICAgIHRoaXMuX21hcC5vZmYoJ2xheWVycmVtb3ZlJywgdGhpcy5faGFuZGxlU25hcExheWVyUmVtb3ZhbCwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5kZWJ1Z0luZGljYXRvckxpbmVzKSB7XG4gICAgICB0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgICBsaW5lLnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBfaGFuZGxlVGhyb3R0bGVTbmFwcGluZygpIHtcbiAgICAvLyB3ZSBjaGVjayBpZiB0aGUgdGhyb3R0bGVkTGlzdCBpcyBleGlzdGluZywgZWxzZSB0aGUgZnVuY3Rpb24gaXMgZGVsZXRlZCBidXQgdGhlIGBsYXllcmFkZGAgZXZlbnQgY2FsbHMgaXQuXG4gICAgLy8gdGhpcyBtYWRlIHByb2JsZW1zIHdoZW4gbGF5ZXIgd2FzIHJlbW92ZWQgYW5kIGFkZGVkIHRvIHRoZSBtYXAgaW4gdGhlIGBwbTpjcmVhdGVgIGV2ZW50XG4gICAgaWYgKHRoaXMudGhyb3R0bGVkTGlzdCkge1xuICAgICAgdGhpcy5fY3JlYXRlU25hcExpc3QoKTtcbiAgICB9XG4gIH0sXG4gIF9oYW5kbGVTbmFwcGluZyhlKSB7XG4gICAgY29uc3QgbWFya2VyID0gZS50YXJnZXQ7XG4gICAgbWFya2VyLl9zbmFwcGVkID0gZmFsc2U7XG5cbiAgICBpZiAoIXRoaXMudGhyb3R0bGVkTGlzdCkge1xuICAgICAgdGhpcy50aHJvdHRsZWRMaXN0ID0gTC5VdGlsLnRocm90dGxlKFxuICAgICAgICB0aGlzLl9oYW5kbGVUaHJvdHRsZVNuYXBwaW5nLFxuICAgICAgICAxMDAsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gaWYgc25hcHBpbmcgaXMgZGlzYWJsZWQgdmlhIGhvbGRpbmcgQUxUIGR1cmluZyBkcmFnLCBzdG9wIHJpZ2h0IGhlcmVcbiAgICAvLyB3ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGUgYWx0S2V5IG9uIHRoZSBtb3ZlIGV2ZW50LCBiZWNhdXNlIGtleWRvd24gZXZlbnQgaXMgdG8gc2xvdyAuLi5cbiAgICBpZiAoZT8ub3JpZ2luYWxFdmVudD8uYWx0S2V5IHx8IHRoaXMuX21hcD8ucG0/LktleWJvYXJkLmlzQWx0S2V5UHJlc3NlZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGEgbGlzdCBvZiBsYXllcnMgdGhhdCB0aGUgbWFya2VyIGNvdWxkIHNuYXAgdG9cbiAgICAvLyB0aGlzIGlzbid0IGluc2lkZSBhIG1vdmVzdGFydC9kcmFnc3RhcnQgY2FsbGJhY2sgYmVjYXVzZSBtaWRkbGVtYXJrZXJzIGFyZSBpbml0aWFsaXplZFxuICAgIC8vIGFmdGVyIGRyYWdzdGFydC9tb3Zlc3RhcnQgc28gaXQgd291bGRuJ3QgZmlyZSBmb3IgdGhlbVxuICAgIGlmICh0aGlzLl9zbmFwTGlzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9jcmVhdGVTbmFwTGlzdCgpO1xuXG4gICAgICAvLyByZS1jcmVhdGUgdGhlIHNuYXBsaXN0IGFnYWluIHdoZW4gYSBsYXllciBpcyBhZGRlZCBkdXJpbmcgZHJhd1xuICAgICAgdGhpcy5fbWFwLm9mZignbGF5ZXJhZGQnLCB0aGlzLnRocm90dGxlZExpc3QsIHRoaXMpO1xuICAgICAgdGhpcy5fbWFwLm9uKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkTGlzdCwgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIGxheWVycyB0byBzbmFwIHRvLCBzdG9wIGhlcmVcbiAgICBpZiAodGhpcy5fc25hcExpc3QubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIGNsb3Nlc3QgbGF5ZXIsIGl0J3MgY2xvc2VzdCBsYXRsbmcsIHNlZ21lbnQgYW5kIHRoZSBkaXN0YW5jZVxuICAgIGNvbnN0IGNsb3Nlc3RMYXllciA9IHRoaXMuX2NhbGNDbG9zZXN0TGF5ZXIoXG4gICAgICBtYXJrZXIuZ2V0TGF0TG5nKCksXG4gICAgICB0aGlzLl9zbmFwTGlzdFxuICAgICk7XG5cbiAgICAvLyBpZiBubyBsYXllcnMgZm91bmQuIENhbiBoYXBwZW4gd2hlbiBjaXJjbGUgaXMgdGhlIG9ubHkgdmlzaWJsZSBsYXllciBvbiB0aGUgbWFwIGFuZCB0aGUgaGlkZGVuIHNuYXBwaW5nLWJvcmRlciBjaXJjbGUgbGF5ZXIgaXMgYWxzbyBvbiB0aGUgbWFwXG4gICAgaWYgKE9iamVjdC5rZXlzKGNsb3Nlc3RMYXllcikubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgaXNNYXJrZXIgPVxuICAgICAgY2xvc2VzdExheWVyLmxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIgfHxcbiAgICAgIGNsb3Nlc3RMYXllci5sYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyIHx8XG4gICAgICAhdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50O1xuXG4gICAgLy8gZmluZCB0aGUgZmluYWwgbGF0bG5nIHRoYXQgd2Ugd2FudCB0byBzbmFwIHRvXG4gICAgbGV0IHNuYXBMYXRMbmc7XG4gICAgaWYgKCFpc01hcmtlcikge1xuICAgICAgc25hcExhdExuZyA9IHRoaXMuX2NoZWNrUHJpb3JpdGl5U25hcHBpbmcoY2xvc2VzdExheWVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hcExhdExuZyA9IGNsb3Nlc3RMYXllci5sYXRsbmc7XG4gICAgfVxuXG4gICAgLy8gbWluaW1hbCBkaXN0YW5jZSBiZWZvcmUgbWFya2VyIHNuYXBzIChpbiBwaXhlbHMpXG4gICAgY29uc3QgbWluRGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlO1xuXG4gICAgLy8gZXZlbnQgaW5mbyBmb3IgcG06c25hcCBhbmQgcG06dW5zbmFwXG4gICAgY29uc3QgZXZlbnRJbmZvID0ge1xuICAgICAgbWFya2VyLFxuICAgICAgc2hhcGU6IHRoaXMuX3NoYXBlLFxuICAgICAgc25hcExhdExuZyxcbiAgICAgIHNlZ21lbnQ6IGNsb3Nlc3RMYXllci5zZWdtZW50LFxuICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgd29ya2luZ0xheWVyOiB0aGlzLl9sYXllcixcbiAgICAgIGxheWVySW50ZXJhY3RlZFdpdGg6IGNsb3Nlc3RMYXllci5sYXllciwgLy8gZm9yIGxhY2sgb2YgYSBiZXR0ZXIgcHJvcGVydHkgbmFtZVxuICAgICAgZGlzdGFuY2U6IGNsb3Nlc3RMYXllci5kaXN0YW5jZSxcbiAgICB9O1xuXG4gICAgdGhpcy5fZmlyZVNuYXBEcmFnKGV2ZW50SW5mby5tYXJrZXIsIGV2ZW50SW5mbyk7XG4gICAgdGhpcy5fZmlyZVNuYXBEcmFnKHRoaXMuX2xheWVyLCBldmVudEluZm8pO1xuXG4gICAgaWYgKGNsb3Nlc3RMYXllci5kaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XG4gICAgICAvLyBzbmFwIHRoZSBtYXJrZXJcbiAgICAgIG1hcmtlci5fb3JnTGF0TG5nID0gbWFya2VyLmdldExhdExuZygpO1xuICAgICAgLy8gVE9ETzogaWYgdGhlIG9yaWdpbiBtYXJrZXIgaGFzIGEgYWx0aXR1ZGUgaXMgYXBwbGllZCB0byB0aGUgc25hcHBlZCBsYXllciB0b28sIGRvIHdlIHdhbnQgdGhpcz9cbiAgICAgIG1hcmtlci5zZXRMYXRMbmcoc25hcExhdExuZyk7XG5cbiAgICAgIG1hcmtlci5fc25hcHBlZCA9IHRydWU7XG4gICAgICBtYXJrZXIuX3NuYXBJbmZvID0gZXZlbnRJbmZvO1xuXG4gICAgICBjb25zdCB0cmlnZ2VyU25hcCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5fc25hcExhdExuZyA9IHNuYXBMYXRMbmc7XG4gICAgICAgIHRoaXMuX2ZpcmVTbmFwKG1hcmtlciwgZXZlbnRJbmZvKTtcbiAgICAgICAgdGhpcy5fZmlyZVNuYXAodGhpcy5fbGF5ZXIsIGV2ZW50SW5mbyk7XG4gICAgICB9O1xuXG4gICAgICAvLyBjaGVjayBpZiB0aGUgc25hcHBpbmcgcG9zaXRpb24gZGlmZmVycyBmcm9tIHRoZSBsYXN0IHNuYXBcbiAgICAgIC8vIFRoYW5rcyBNYXggJiBjYXIyZ28gVGVhbVxuICAgICAgY29uc3QgYSA9IHRoaXMuX3NuYXBMYXRMbmcgfHwge307XG4gICAgICBjb25zdCBiID0gc25hcExhdExuZyB8fCB7fTtcblxuICAgICAgaWYgKGEubGF0ICE9PSBiLmxhdCB8fCBhLmxuZyAhPT0gYi5sbmcpIHtcbiAgICAgICAgdHJpZ2dlclNuYXAoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX3NuYXBMYXRMbmcpIHtcbiAgICAgIC8vIG5vIG1vcmUgc25hcHBpbmdcblxuICAgICAgLy8gaWYgaXQgd2FzIHByZXZpb3VzbHkgc25hcHBlZC4uLlxuICAgICAgLy8gLi4udW5zbmFwXG4gICAgICB0aGlzLl91bnNuYXAoZXZlbnRJbmZvKTtcblxuICAgICAgbWFya2VyLl9zbmFwcGVkID0gZmFsc2U7XG4gICAgICBtYXJrZXIuX3NuYXBJbmZvID0gdW5kZWZpbmVkO1xuXG4gICAgICAvLyBhbmQgZmlyZSB1bnNuYXAgZXZlbnRcbiAgICAgIHRoaXMuX2ZpcmVVbnNuYXAoZXZlbnRJbmZvLm1hcmtlciwgZXZlbnRJbmZvKTtcbiAgICAgIHRoaXMuX2ZpcmVVbnNuYXAodGhpcy5fbGF5ZXIsIGV2ZW50SW5mbyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIF9jcmVhdGVTbmFwTGlzdCgpIHtcbiAgICBsZXQgbGF5ZXJzID0gW107XG4gICAgY29uc3QgZGVidWdJbmRpY2F0b3JMaW5lcyA9IFtdO1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcblxuICAgIG1hcC5vZmYoJ2xheWVycmVtb3ZlJywgdGhpcy5faGFuZGxlU25hcExheWVyUmVtb3ZhbCwgdGhpcyk7XG4gICAgbWFwLm9uKCdsYXllcnJlbW92ZScsIHRoaXMuX2hhbmRsZVNuYXBMYXllclJlbW92YWwsIHRoaXMpO1xuXG4gICAgLy8gZmluZCBhbGwgbGF5ZXJzIHRoYXQgYXJlIG9yIGluaGVyaXQgZnJvbSBQb2x5bGluZXMuLi4gYW5kIG1hcmtlcnMgdGhhdCBhcmUgbm90XG4gICAgLy8gdGVtcG9yYXJ5IG1hcmtlcnMgb2YgcG9seWdvbi1lZGl0c1xuICAgIG1hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIChsYXllciBpbnN0YW5jZW9mIEwuUG9seWxpbmUgfHxcbiAgICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyIHx8XG4gICAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlciB8fFxuICAgICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5JbWFnZU92ZXJsYXkpICYmXG4gICAgICAgIGxheWVyLm9wdGlvbnMuc25hcElnbm9yZSAhPT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmIHNuYXBJZ25vcmUgPT09IGZhbHNlIHRoZSBsYXllciB3aWxsIGJlIGFsd2F5cyBzbmFwcGFibGVcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGxheWVyLm9wdGlvbnMuc25hcElnbm9yZSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgKCghTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlID09PSB0cnVlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IGFuZCBwbUlnbm9yZSBpcyB0cnVlLCB0aGUgbGF5ZXIgd2lsbCBiZSBpZ25vcmVkXG4gICAgICAgICAgICAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlICE9PSBmYWxzZSkpIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBmYWxzZSwgdGhlIGxheWVyIHdpbGwgYmUgaWdub3JlZFxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGRzIGEgaGlkZGVuIHBvbHlnb24gd2hpY2ggbWF0Y2hlcyB0aGUgYm9yZGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlIHx8IGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIpICYmXG4gICAgICAgICAgbGF5ZXIucG0gJiZcbiAgICAgICAgICBsYXllci5wbS5faGlkZGVuUG9seUNpcmNsZVxuICAgICAgICApIHtcbiAgICAgICAgICBsYXllcnMucHVzaChsYXllci5wbS5faGlkZGVuUG9seUNpcmNsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkltYWdlT3ZlcmxheSkge1xuICAgICAgICAgIGxheWVyID0gTC5yZWN0YW5nbGUobGF5ZXIuZ2V0Qm91bmRzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcblxuICAgICAgICAvLyB0aGlzIGlzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgY29uc3QgZGVidWdMaW5lID0gTC5wb2x5bGluZShbXSwgeyBjb2xvcjogJ3JlZCcsIHBtSWdub3JlOiB0cnVlIH0pO1xuICAgICAgICBkZWJ1Z0xpbmUuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICAgICAgZGVidWdJbmRpY2F0b3JMaW5lcy5wdXNoKGRlYnVnTGluZSk7XG4gICAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlIHx8IGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIpIHtcbiAgICAgICAgICBkZWJ1Z0luZGljYXRvckxpbmVzLnB1c2goZGVidWdMaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVuY29tbWVudCBcdUQ4M0RcdURDNDcgdGhpcyBsaW5lIHRvIHNob3cgaGVscGVyIGxpbmVzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgLy8gZGVidWdMaW5lLmFkZFRvKG1hcCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyAuLi5leGNlcHQgbXlzZWxmXG4gICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+IHRoaXMuX2xheWVyICE9PSBsYXllcik7XG5cbiAgICAvLyBhbHNvIHJlbW92ZSBldmVyeXRoaW5nIHRoYXQgaGFzIG5vIGNvb3JkaW5hdGVzIHlldFxuICAgIGxheWVycyA9IGxheWVycy5maWx0ZXIoXG4gICAgICAobGF5ZXIpID0+IGxheWVyLl9sYXRsbmcgfHwgKGxheWVyLl9sYXRsbmdzICYmIGhhc1ZhbHVlcyhsYXllci5fbGF0bG5ncykpXG4gICAgKTtcblxuICAgIC8vIGZpbmFsbHkgcmVtb3ZlIGV2ZXJ5dGhpbmcgdGhhdCdzIGxlYWZsZXQtZ2VvbWFuIHNwZWNpZmljIHRlbXBvcmFyeSBzdHVmZlxuICAgIGxheWVycyA9IGxheWVycy5maWx0ZXIoKGxheWVyKSA9PiAhbGF5ZXIuX3BtVGVtcExheWVyKTtcblxuICAgIC8vIHNhdmUgc25hcGxpc3QgZnJvbSBsYXllcnMgYW5kIHRoZSBvdGhlciBzbmFwIGxheWVycyBhZGRlZCBmcm9tIG90aGVyIGNsYXNzZXMvc2NyaXB0c1xuICAgIGlmICh0aGlzLl9vdGhlclNuYXBMYXllcnMpIHtcbiAgICAgIHRoaXMuX290aGVyU25hcExheWVycy5mb3JFYWNoKCgpID0+IHtcbiAgICAgICAgLy8gdGhpcyBpcyBmb3IgZGVidWdnaW5nXG4gICAgICAgIGNvbnN0IGRlYnVnTGluZSA9IEwucG9seWxpbmUoW10sIHsgY29sb3I6ICdyZWQnLCBwbUlnbm9yZTogdHJ1ZSB9KTtcbiAgICAgICAgZGVidWdMaW5lLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgICAgIGRlYnVnSW5kaWNhdG9yTGluZXMucHVzaChkZWJ1Z0xpbmUpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9zbmFwTGlzdCA9IGxheWVycy5jb25jYXQodGhpcy5fb3RoZXJTbmFwTGF5ZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc25hcExpc3QgPSBsYXllcnM7XG4gICAgfVxuXG4gICAgdGhpcy5kZWJ1Z0luZGljYXRvckxpbmVzID0gZGVidWdJbmRpY2F0b3JMaW5lcztcbiAgfSxcbiAgX2hhbmRsZVNuYXBMYXllclJlbW92YWwoeyBsYXllciB9KSB7XG4gICAgaWYgKCFsYXllci5fbGVhZmxldF9pZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaW5kIHRoZSBsYXllcnMgaW5kZXggaW4gc25hcGxpc3RcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NuYXBMaXN0LmZpbmRJbmRleChcbiAgICAgIChlKSA9PiBlLl9sZWFmbGV0X2lkID09PSBsYXllci5fbGVhZmxldF9pZFxuICAgICk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIC8vIHJlbW92ZSBpdCBmcm9tIHRoZSBzbmFwbGlzdFxuICAgICAgdGhpcy5fc25hcExpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH0sXG4gIF9jYWxjQ2xvc2VzdExheWVyKGxhdGxuZywgbGF5ZXJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGNDbG9zZXN0TGF5ZXJzKGxhdGxuZywgbGF5ZXJzLCAxKVswXTtcbiAgfSxcbiAgX2NhbGNDbG9zZXN0TGF5ZXJzKGxhdGxuZywgbGF5ZXJzLCBhbW91bnQgPSAxKSB7XG4gICAgLy8gdGhlIGNsb3Nlc3QgcG9seWdvbiB0byBvdXIgZHJhZ2dlZCBtYXJrZXIgbGF0bG5nXG4gICAgbGV0IGNsb3Nlc3RMYXllcnMgPSBbXTtcbiAgICBsZXQgY2xvc2VzdExheWVyID0ge307XG5cbiAgICAvLyBsb29wIHRocm91Z2ggdGhlIGxheWVyc1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllciwgaW5kZXgpID0+IHtcbiAgICAgIC8vIEZvciBDaXJjbGVzIGFuZCBDaXJjbGVNYXJrZXJzIHRvIHByZXZlbnQgdGhhdCB0aGV5IHNuYXAgdG8gdGhlIG93biBib3JkZXJzLlxuICAgICAgaWYgKGxheWVyLl9wYXJlbnRDb3B5ICYmIGxheWVyLl9wYXJlbnRDb3B5ID09PSB0aGlzLl9sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBmaW5kIHRoZSBjbG9zZXN0IGxhdGxuZywgc2VnbWVudCBhbmQgdGhlIGRpc3RhbmNlIG9mIHRoaXMgbGF5ZXIgdG8gdGhlIGRyYWdnZWQgbWFya2VyIGxhdGxuZ1xuICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuX2NhbGNMYXllckRpc3RhbmNlcyhsYXRsbmcsIGxheWVyKTtcbiAgICAgIHJlc3VsdHMuZGlzdGFuY2UgPSBNYXRoLmZsb29yKHJlc3VsdHMuZGlzdGFuY2UpO1xuXG4gICAgICBpZiAodGhpcy5kZWJ1Z0luZGljYXRvckxpbmVzKSB7XG4gICAgICAgIGlmICghdGhpcy5kZWJ1Z0luZGljYXRvckxpbmVzW2luZGV4XSkge1xuICAgICAgICAgIGNvbnN0IGRlYnVnTGluZSA9IEwucG9seWxpbmUoW10sIHsgY29sb3I6ICdyZWQnLCBwbUlnbm9yZTogdHJ1ZSB9KTtcbiAgICAgICAgICBkZWJ1Z0xpbmUuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXNbaW5kZXhdID0gZGVidWdMaW5lO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvdyBpbmRpY2F0b3IgbGluZXMsIGl0J3MgZm9yIGRlYnVnZ2luZ1xuICAgICAgICB0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXNbaW5kZXhdLnNldExhdExuZ3MoW2xhdGxuZywgcmVzdWx0cy5sYXRsbmddKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2F2ZSB0aGUgaW5mbyBpZiBpdCBkb2Vzbid0IGV4aXN0IG9yIGlmIHRoZSBkaXN0YW5jZSBpcyBzbWFsbGVyIHRoYW4gdGhlIHByZXZpb3VzIG9uZVxuICAgICAgaWYgKFxuICAgICAgICBhbW91bnQgPT09IDEgJiZcbiAgICAgICAgKGNsb3Nlc3RMYXllci5kaXN0YW5jZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgcmVzdWx0cy5kaXN0YW5jZSAtIDUgPD0gY2xvc2VzdExheWVyLmRpc3RhbmNlKVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmIHRoZSBsYXllciBpcyBsZXNzIHRoZW4gNSBwaXhlbHMgYXdheSwgd2UgdHJlYXQgaXQgYXMgc2FtZSBkaXN0YW5jZSBhbmQgc29ydCBpdCBiYXNlZCBvbiBwcmlvcml0eVxuICAgICAgICBpZiAocmVzdWx0cy5kaXN0YW5jZSArIDUgPCBjbG9zZXN0TGF5ZXIuZGlzdGFuY2UpIHtcbiAgICAgICAgICBjbG9zZXN0TGF5ZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VzdExheWVyID0gcmVzdWx0cztcbiAgICAgICAgY2xvc2VzdExheWVyLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIGNsb3Nlc3RMYXllcnMucHVzaChjbG9zZXN0TGF5ZXIpO1xuICAgICAgfSBlbHNlIGlmIChhbW91bnQgIT09IDEpIHtcbiAgICAgICAgY2xvc2VzdExheWVyID0ge307XG4gICAgICAgIGNsb3Nlc3RMYXllciA9IHJlc3VsdHM7XG4gICAgICAgIGNsb3Nlc3RMYXllci5sYXllciA9IGxheWVyO1xuICAgICAgICBjbG9zZXN0TGF5ZXJzLnB1c2goY2xvc2VzdExheWVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoYW1vdW50ICE9PSAxKSB7XG4gICAgICAvLyBzb3J0IHRoZSBsYXllcnMgYnkgZGlzdGFuY2VcbiAgICAgIGNsb3Nlc3RMYXllcnMgPSBjbG9zZXN0TGF5ZXJzLnNvcnQoKGEsIGIpID0+IGEuZGlzdGFuY2UgLSBiLmRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICBpZiAoYW1vdW50ID09PSAtMSkge1xuICAgICAgYW1vdW50ID0gY2xvc2VzdExheWVycy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIHRoZSBjbG9zZXN0IGxheWVyIGFuZCBpdCdzIGRhdGFcbiAgICAvLyBpZiB0aGVyZSBpcyBubyBjbG9zZXN0IGxheWVyLCByZXR1cm4gYW4gZW1wdHkgb2JqZWN0XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZ2V0Q2xvc2VzdExheWVyQnlQcmlvcml0eShjbG9zZXN0TGF5ZXJzLCBhbW91bnQpO1xuICAgIGlmIChMLlV0aWwuaXNBcnJheShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gW3Jlc3VsdF07XG4gIH0sXG4gIF9jYWxjTGF5ZXJEaXN0YW5jZXMobGF0bG5nLCBsYXllcikge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcblxuICAgIC8vIGlzIHRoaXMgYSBtYXJrZXI/XG4gICAgY29uc3QgaXNNYXJrZXIgPVxuICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlciB8fCBsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyO1xuXG4gICAgLy8gaXMgaXQgYSBwb2x5Z29uP1xuICAgIGNvbnN0IGlzUG9seWdvbiA9IGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5Z29uO1xuXG4gICAgLy8gdGhlIHBvaW50IFAgd2hpY2ggd2Ugd2FudCB0byBzbmFwIChwcm9icGFibHkgdGhlIG1hcmtlciB0aGF0IGlzIGRyYWdnZWQpXG4gICAgY29uc3QgUCA9IGxhdGxuZztcblxuICAgIC8vIHRoZSBjb29yZHMgb2YgdGhlIGxheWVyXG5cbiAgICBpZiAoaXNNYXJrZXIpIHtcbiAgICAgIC8vIHJldHVybiB0aGUgaW5mbyBmb3IgdGhlIG1hcmtlciwgbm8gbW9yZSBjYWxjdWxhdGlvbnMgbmVlZGVkXG4gICAgICBjb25zdCBsYXRsbmdzID0gbGF5ZXIuZ2V0TGF0TG5nKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXRsbmc6IHsgLi4ubGF0bG5ncyB9LFxuICAgICAgICBkaXN0YW5jZTogdGhpcy5fZ2V0RGlzdGFuY2UobWFwLCBsYXRsbmdzLCBQKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2NhbGNMYXRMbmdEaXN0YW5jZXMoUCwgbGF5ZXIuZ2V0TGF0TG5ncygpLCBtYXAsIGlzUG9seWdvbik7XG4gIH0sXG4gIF9jYWxjTGF0TG5nRGlzdGFuY2VzKGxhdGxuZywgbGF0bG5ncywgbWFwLCBjbG9zZWRTaGFwZSA9IGZhbHNlKSB7XG4gICAgLy8gdGhlIGNsb3Nlc3QgY29vcmQgb2YgdGhlIGxheWVyXG4gICAgbGV0IGNsb3Nlc3RDb29yZDtcblxuICAgIC8vIHRoZSBzaG9ydGVzdCBkaXN0YW5jZSBmcm9tIGxhdGxuZyB0byBjbG9zZXN0Q29vcmRcbiAgICBsZXQgc2hvcnRlc3REaXN0YW5jZTtcblxuICAgIC8vIHRoZSBjbG9zZXN0IHNlZ21lbnQgKGxpbmUgYmV0d2VlbiB0d28gcG9pbnRzKSBvZiB0aGUgbGF5ZXJcbiAgICBsZXQgY2xvc2VzdFNlZ21lbnQ7XG5cbiAgICBjb25zdCBsb29wVGhyb3VnaENvb3JkcyA9IChjb29yZHMpID0+IHtcbiAgICAgIGNvb3Jkcy5mb3JFYWNoKChjb29yZCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29vcmQpKSB7XG4gICAgICAgICAgbG9vcFRocm91Z2hDb29yZHMoY29vcmQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQpIHtcbiAgICAgICAgICAvLyB0YWtlIHRoaXMgY29vcmQgKEEpLi4uXG4gICAgICAgICAgY29uc3QgQSA9IGNvb3JkO1xuICAgICAgICAgIGxldCBuZXh0SW5kZXg7XG5cbiAgICAgICAgICAvLyBhbmQgdGhlIG5leHQgY29vcmQgKEIpIGFzIHBvaW50c1xuICAgICAgICAgIGlmIChjbG9zZWRTaGFwZSkge1xuICAgICAgICAgICAgbmV4dEluZGV4ID0gaW5kZXggKyAxID09PSBjb29yZHMubGVuZ3RoID8gMCA6IGluZGV4ICsgMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dEluZGV4ID0gaW5kZXggKyAxID09PSBjb29yZHMubGVuZ3RoID8gdW5kZWZpbmVkIDogaW5kZXggKyAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IEIgPSBjb29yZHNbbmV4dEluZGV4XTtcbiAgICAgICAgICBpZiAoQikge1xuICAgICAgICAgICAgLy8gY2FsYyB0aGUgZGlzdGFuY2UgYmV0d2VlbiBsYXRsbmcgYW5kIEFCLXNlZ21lbnRcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5fZ2V0RGlzdGFuY2VUb1NlZ21lbnQobWFwLCBsYXRsbmcsIEEsIEIpO1xuXG4gICAgICAgICAgICAvLyBpcyB0aGUgZGlzdGFuY2Ugc2hvcnRlciB0aGFuIHRoZSBwcmV2aW91cyBvbmU/IFNhdmUgaXQgYW5kIHRoZSBzZWdtZW50XG4gICAgICAgICAgICBpZiAoc2hvcnRlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkIHx8IGRpc3RhbmNlIDwgc2hvcnRlc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgICBzaG9ydGVzdERpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgIGNsb3Nlc3RTZWdtZW50ID0gW0EsIEJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IHNuYXAgb24gdGhlIGNvb3Jkc1xuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlUG9pbnQgPSB0aGlzLl9nZXREaXN0YW5jZShtYXAsIGxhdGxuZywgY29vcmQpO1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2hvcnRlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBkaXN0YW5jZVBvaW50IDwgc2hvcnRlc3REaXN0YW5jZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2hvcnRlc3REaXN0YW5jZSA9IGRpc3RhbmNlUG9pbnQ7XG4gICAgICAgICAgICBjbG9zZXN0Q29vcmQgPSBjb29yZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBsb29wVGhyb3VnaENvb3JkcyhsYXRsbmdzKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQpIHtcbiAgICAgIC8vIG5vdywgdGFrZSB0aGUgY2xvc2VzdCBzZWdtZW50IChjbG9zZXN0U2VnbWVudCkgYW5kIGNhbGMgdGhlIGNsb3Nlc3QgcG9pbnQgdG8gbGF0bG5nIG9uIGl0LlxuICAgICAgY29uc3QgQyA9IHRoaXMuX2dldENsb3Nlc3RQb2ludE9uU2VnbWVudChcbiAgICAgICAgbWFwLFxuICAgICAgICBsYXRsbmcsXG4gICAgICAgIGNsb3Nlc3RTZWdtZW50WzBdLFxuICAgICAgICBjbG9zZXN0U2VnbWVudFsxXVxuICAgICAgKTtcblxuICAgICAgLy8gcmV0dXJuIHRoZSBsYXRsbmcgb2YgdGhhdCBzdWNrZXJcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhdGxuZzogeyAuLi5DIH0sXG4gICAgICAgIHNlZ21lbnQ6IGNsb3Nlc3RTZWdtZW50LFxuICAgICAgICBkaXN0YW5jZTogc2hvcnRlc3REaXN0YW5jZSxcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIE9ubHkgc25hcCBvbiB0aGUgY29vcmRzXG4gICAgLy8gcmV0dXJuIHRoZSBjbG9zZXN0IGNvb3JkXG4gICAgcmV0dXJuIHtcbiAgICAgIGxhdGxuZzogY2xvc2VzdENvb3JkLFxuICAgICAgZGlzdGFuY2U6IHNob3J0ZXN0RGlzdGFuY2UsXG4gICAgfTtcbiAgfSxcbiAgX2dldENsb3Nlc3RMYXllckJ5UHJpb3JpdHkobGF5ZXJzLCBhbW91bnQgPSAxKSB7XG4gICAgLy8gc29ydCB0aGUgbGF5ZXJzIGJ5IGNyZWF0aW9uLCBzbyBpdCBpcyBzbmFwcGluZyB0byB0aGUgb2xkZXN0IGxheWVyIGZyb20gdGhlIHNhbWUgc2hhcGVcbiAgICBsYXllcnMgPSBsYXllcnMuc29ydCgoYSwgYikgPT4gYS5fbGVhZmxldF9pZCAtIGIuX2xlYWZsZXRfaWQpO1xuXG4gICAgY29uc3Qgc2hhcGVzID0gW1xuICAgICAgJ01hcmtlcicsXG4gICAgICAnQ2lyY2xlTWFya2VyJyxcbiAgICAgICdDaXJjbGUnLFxuICAgICAgJ0xpbmUnLFxuICAgICAgJ1BvbHlnb24nLFxuICAgICAgJ1JlY3RhbmdsZScsXG4gICAgXTtcbiAgICBjb25zdCBvcmRlciA9IHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnNuYXBwaW5nT3JkZXIgfHwgW107XG5cbiAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICBjb25zdCBwcmlvT3JkZXIgPSB7fTtcbiAgICAvLyBtZXJnZSB1c2VyLXByZWZlcnJlZCBwcmlvcml0eSB3aXRoIGRlZmF1bHQgcHJpb3JpdHlcbiAgICBvcmRlci5jb25jYXQoc2hhcGVzKS5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgaWYgKCFwcmlvT3JkZXJbc2hhcGVdKSB7XG4gICAgICAgIGxhc3RJbmRleCArPSAxO1xuICAgICAgICBwcmlvT3JkZXJbc2hhcGVdID0gbGFzdEluZGV4O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gc29ydCBsYXllcnMgYnkgcHJpb3JpdHlcbiAgICBsYXllcnMuc29ydChwcmlvcml0aXNlU29ydCgnaW5zdGFuY2VvZlNoYXBlJywgcHJpb09yZGVyKSk7XG4gICAgaWYgKGFtb3VudCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGxheWVyc1swXSB8fCB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGxheWVycy5zbGljZSgwLCBhbW91bnQpO1xuICB9LFxuICAvLyB3ZSBnb3QgdGhlIHBvaW50IHdlIHdhbnQgdG8gc25hcCB0byAoQyksIGJ1dCB3ZSBuZWVkIHRvIGNoZWNrIGlmIGEgY29vcmQgb2YgdGhlIHBvbHlnb25cbiAgLy8gcmVjZWl2ZXMgcHJpb3JpdHkgb3ZlciBDIGFzIHRoZSBzbmFwcGluZyBwb2ludC4gTGV0J3MgY2hlY2sgdGhpcyBoZXJlXG4gIF9jaGVja1ByaW9yaXRpeVNuYXBwaW5nKGNsb3Nlc3RMYXllcikge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcblxuICAgIC8vIEEgYW5kIEIgYXJlIHRoZSBwb2ludHMgb2YgdGhlIGNsb3Nlc3Qgc2VnbWVudCB0byBQICh0aGUgbWFya2VyIHBvc2l0aW9uIHdlIHdhbnQgdG8gc25hcClcbiAgICBjb25zdCBBID0gY2xvc2VzdExheWVyLnNlZ21lbnRbMF07XG4gICAgY29uc3QgQiA9IGNsb3Nlc3RMYXllci5zZWdtZW50WzFdO1xuXG4gICAgLy8gQyBpcyB0aGUgcG9pbnQgd2Ugd291bGQgc25hcCB0byBvbiB0aGUgc2VnbWVudC5cbiAgICAvLyBUaGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgY2xvc2VzdCBzZWdtZW50IG9mIHRoZSBjbG9zZXN0IHBvbHlnb24gdG8gUC4gVGhhdCdzIHJpZ2h0LlxuICAgIGNvbnN0IEMgPSBjbG9zZXN0TGF5ZXIubGF0bG5nO1xuXG4gICAgLy8gZGlzdGFuY2VzIGZyb20gQSB0byBDIGFuZCBCIHRvIEMgdG8gY2hlY2sgd2hpY2ggb25lIGlzIGNsb3NlciB0byBDXG4gICAgY29uc3QgZGlzdGFuY2VBQyA9IHRoaXMuX2dldERpc3RhbmNlKG1hcCwgQSwgQyk7XG4gICAgY29uc3QgZGlzdGFuY2VCQyA9IHRoaXMuX2dldERpc3RhbmNlKG1hcCwgQiwgQyk7XG5cbiAgICAvLyBjbG9zZXN0IGxhdGxuZyBvZiBBIGFuZCBCIHRvIENcbiAgICBsZXQgY2xvc2VzdFZlcnRleExhdExuZyA9IGRpc3RhbmNlQUMgPCBkaXN0YW5jZUJDID8gQSA6IEI7XG5cbiAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIGNsb3Nlc3RWZXJ0ZXhMYXRMbmcgYW5kIENcbiAgICBsZXQgc2hvcnRlc3REaXN0YW5jZSA9IGRpc3RhbmNlQUMgPCBkaXN0YW5jZUJDID8gZGlzdGFuY2VBQyA6IGRpc3RhbmNlQkM7XG5cbiAgICAvLyBzbmFwIHRvIG1pZGRsZSAoTSkgb2Ygc2VnbWVudCBpZiBvcHRpb24gaXMgZW5hYmxlZFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcE1pZGRsZSkge1xuICAgICAgY29uc3QgTSA9IEwuUE0uVXRpbHMuY2FsY01pZGRsZUxhdExuZyhtYXAsIEEsIEIpO1xuICAgICAgY29uc3QgZGlzdGFuY2VNQyA9IHRoaXMuX2dldERpc3RhbmNlKG1hcCwgTSwgQyk7XG5cbiAgICAgIGlmIChkaXN0YW5jZU1DIDwgZGlzdGFuY2VBQyAmJiBkaXN0YW5jZU1DIDwgZGlzdGFuY2VCQykge1xuICAgICAgICAvLyBNIGlzIHRoZSBuZWFyZXN0IHZlcnRleFxuICAgICAgICBjbG9zZXN0VmVydGV4TGF0TG5nID0gTTtcbiAgICAgICAgc2hvcnRlc3REaXN0YW5jZSA9IGRpc3RhbmNlTUM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhlIGRpc3RhbmNlIHRoYXQgbmVlZHMgdG8gYmUgdW5kZXJjdXQgdG8gdHJpZ2dlciBwcmlvcml0eVxuICAgIGNvbnN0IHByaW9yaXR5RGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlO1xuXG4gICAgLy8gdGhlIGxhdGxuZyB3ZSB1bHRlbWF0ZWx5IHdhbnQgdG8gc25hcCB0b1xuICAgIGxldCBzbmFwTGF0bG5nO1xuXG4gICAgLy8gaWYgQyBpcyBjbG9zZXIgdG8gdGhlIGNsb3Nlc3RWZXJ0ZXhMYXRMbmcgKEEsIEIgb3IgTSkgdGhhbiB0aGUgc25hcERpc3RhbmNlLFxuICAgIC8vIHRoZSBjbG9zZXN0VmVydGV4TGF0TG5nIGhhcyBwcmlvcml0eSBvdmVyIEMgYXMgdGhlIHNuYXBwaW5nIHBvaW50LlxuICAgIGlmIChzaG9ydGVzdERpc3RhbmNlIDwgcHJpb3JpdHlEaXN0YW5jZSkge1xuICAgICAgc25hcExhdGxuZyA9IGNsb3Nlc3RWZXJ0ZXhMYXRMbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYXBMYXRsbmcgPSBDO1xuICAgIH1cblxuICAgIC8vIHJldHVybiB0aGUgY29weSBvZiBzbmFwcGluZyBwb2ludFxuICAgIHJldHVybiB7IC4uLnNuYXBMYXRsbmcgfTtcbiAgfSxcbiAgX3Vuc25hcCgpIHtcbiAgICAvLyBkZWxldGUgdGhlIGxhc3Qgc25hcFxuICAgIGRlbGV0ZSB0aGlzLl9zbmFwTGF0TG5nO1xuICB9LFxuICBfZ2V0Q2xvc2VzdFBvaW50T25TZWdtZW50KG1hcCwgbGF0bG5nLCBsYXRsbmdBLCBsYXRsbmdCKSB7XG4gICAgbGV0IG1heHpvb20gPSBtYXAuZ2V0TWF4Wm9vbSgpO1xuICAgIGlmIChtYXh6b29tID09PSBJbmZpbml0eSkge1xuICAgICAgbWF4em9vbSA9IG1hcC5nZXRab29tKCk7XG4gICAgfVxuICAgIGNvbnN0IFAgPSBtYXAucHJvamVjdChsYXRsbmcsIG1heHpvb20pO1xuICAgIGNvbnN0IEEgPSBtYXAucHJvamVjdChsYXRsbmdBLCBtYXh6b29tKTtcbiAgICBjb25zdCBCID0gbWFwLnByb2plY3QobGF0bG5nQiwgbWF4em9vbSk7XG4gICAgY29uc3QgY2xvc2VzdCA9IEwuTGluZVV0aWwuY2xvc2VzdFBvaW50T25TZWdtZW50KFAsIEEsIEIpO1xuICAgIHJldHVybiBtYXAudW5wcm9qZWN0KGNsb3Nlc3QsIG1heHpvb20pO1xuICB9LFxuICBfZ2V0RGlzdGFuY2VUb1NlZ21lbnQobWFwLCBsYXRsbmcsIGxhdGxuZ0EsIGxhdGxuZ0IpIHtcbiAgICBjb25zdCBQID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmcpO1xuICAgIGNvbnN0IEEgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0EpO1xuICAgIGNvbnN0IEIgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0IpO1xuICAgIHJldHVybiBMLkxpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UoUCwgQSwgQik7XG4gIH0sXG4gIF9nZXREaXN0YW5jZShtYXAsIGxhdGxuZ0EsIGxhdGxuZ0IpIHtcbiAgICByZXR1cm4gbWFwXG4gICAgICAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0EpXG4gICAgICAuZGlzdGFuY2VUbyhtYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0IpKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNuYXBNaXhpbjtcbiIsICJpbXBvcnQgRHJhdyBmcm9tICcuL0wuUE0uRHJhdyc7XG5pbXBvcnQgeyBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5EcmF3Lk1hcmtlciA9IERyYXcuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgdGhpcy5fc2hhcGUgPSAnTWFya2VyJztcbiAgICB0aGlzLnRvb2xiYXJCdXR0b25OYW1lID0gJ2RyYXdNYXJrZXInO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIC8vIFRPRE86IFRoaW5rIGFib3V0IGlmIHRoZXNlIG9wdGlvbnMgY291bGQgYmUgcGFzc2VkIGdsb2JhbGx5IGZvciBhbGxcbiAgICAvLyBpbnN0YW5jZXMgb2YgTC5QTS5EcmF3LiBTbyBhIGRldiBjb3VsZCBzZXQgZHJhd2luZyBzdHlsZSBvbmUgdGltZSBhcyBzb21lIGtpbmQgb2YgY29uZmlnXG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBjaGFuZ2UgZW5hYmxlZCBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gY2hhbmdlIG1hcCBjdXJzb3JcbiAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuY2xhc3NMaXN0LmFkZCgnZ2VvbWFuLWRyYXctY3Vyc29yJyk7XG5cbiAgICAvLyBjcmVhdGUgYSBtYXJrZXIgb24gY2xpY2sgb24gdGhlIG1hcFxuICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9jcmVhdGVNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZW5hYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgdHJ1ZSk7XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBoaW50bWFya2VyIG9uIHRoZSBtb3VzZSBjdXJzb3JcbiAgICB0aGlzLl9oaW50TWFya2VyID0gTC5tYXJrZXIoXG4gICAgICB0aGlzLl9tYXAuZ2V0Q2VudGVyKCksXG4gICAgICB0aGlzLm9wdGlvbnMubWFya2VyU3R5bGVcbiAgICApO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludE1hcmtlciwgJ21hcmtlclBhbmUnKTtcbiAgICB0aGlzLl9oaW50TWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5faGludE1hcmtlci5hZGRUbyh0aGlzLl9tYXApO1xuXG4gICAgLy8gYWRkIHRvb2x0aXAgdG8gaGludG1hcmtlclxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXJcbiAgICAgICAgLmJpbmRUb29sdGlwKGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5wbGFjZU1hcmtlcicpLCB7XG4gICAgICAgICAgcGVybWFuZW50OiB0cnVlLFxuICAgICAgICAgIG9mZnNldDogTC5wb2ludCgwLCAxMCksXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYm90dG9tJyxcblxuICAgICAgICAgIG9wYWNpdHk6IDAuOCxcbiAgICAgICAgfSlcbiAgICAgICAgLm9wZW5Ub29sdGlwKCk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBpcyBqdXN0IHRvIGtlZXAgdGhlIHNuYXBwYWJsZSBtaXhpbiBoYXBweVxuICAgIHRoaXMuX2xheWVyID0gdGhpcy5faGludE1hcmtlcjtcblxuICAgIC8vIHN5bmMgaGludCBtYXJrZXIgd2l0aCBtb3VzZSBjdXJzb3JcbiAgICB0aGlzLl9tYXAub24oJ21vdXNlbW92ZScsIHRoaXMuX3N5bmNIaW50TWFya2VyLCB0aGlzKTtcblxuICAgIC8vIGVuYWJsZSBlZGl0IG1vZGUgZm9yIGV4aXN0aW5nIG1hcmtlcnNcbiAgICBpZiAodGhpcy5vcHRpb25zLm1hcmtlckVkaXRhYmxlKSB7XG4gICAgICB0aGlzLl9tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc1JlbGV2YW50TWFya2VyKGxheWVyKSkge1xuICAgICAgICAgIGxheWVyLnBtLmVuYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIGRyYXdzdGFydCBldmVudFxuICAgIHRoaXMuX2ZpcmVEcmF3U3RhcnQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIGNhbmNlbCwgaWYgZHJhd2luZyBtb2RlIGlzbid0IGV2ZW4gZW5hYmxlZFxuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBlbmFibGVkIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gcmVzZXQgY3Vyc29yXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5yZW1vdmUoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gdW5kYmluZCBjbGljayBldmVudCwgZG9uJ3QgY3JlYXRlIGEgbWFya2VyIG9uIGNsaWNrIGFueW1vcmVcbiAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyByZW1vdmUgaGludCBtYXJrZXJcbiAgICB0aGlzLl9oaW50TWFya2VyLnJlbW92ZSgpO1xuXG4gICAgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIHRvIHN5bmMgaGludCBtYXJrZXJcbiAgICB0aGlzLl9tYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyBkaXNhYmxlIGRyYWdnaW5nIGFuZCByZW1vdmluZyBmb3IgYWxsIG1hcmtlcnNcbiAgICB0aGlzLl9tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNSZWxldmFudE1hcmtlcihsYXllcikpIHtcbiAgICAgICAgbGF5ZXIucG0uZGlzYWJsZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBkcmF3ZW5kIGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdFbmQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgaXNSZWxldmFudE1hcmtlcihsYXllcikge1xuICAgIHJldHVybiAoXG4gICAgICBsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyICYmXG4gICAgICBsYXllci5wbSAmJlxuICAgICAgIWxheWVyLl9wbVRlbXBMYXllciAmJlxuICAgICAgIWxheWVyLnBtLl9pbml0VGV4dE1hcmtlclxuICAgICk7XG4gIH0sXG4gIF9zeW5jSGludE1hcmtlcihlKSB7XG4gICAgLy8gbW92ZSB0aGUgY3Vyc29yIG1hcmtlclxuICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcblxuICAgIC8vIGlmIHNuYXBwaW5nIGlzIGVuYWJsZWQsIGRvIGl0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgIGNvbnN0IGZha2VEcmFnRXZlbnQgPSBlO1xuICAgICAgZmFrZURyYWdFdmVudC50YXJnZXQgPSB0aGlzLl9oaW50TWFya2VyO1xuICAgICAgdGhpcy5faGFuZGxlU25hcHBpbmcoZmFrZURyYWdFdmVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpLCAnRHJhdycpO1xuICB9LFxuICBfY3JlYXRlTWFya2VyKGUpIHtcbiAgICBpZiAoIWUubGF0bG5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgc25hcCBmaW5pc2ggaXMgcmVxdWlyZWQgYnV0IHRoZSBsYXN0IG1hcmtlciB3YXNuJ3Qgc25hcHBlZCwgZG8gbm90IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnJlcXVpcmVTbmFwVG9GaW5pc2ggJiZcbiAgICAgICF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkICYmXG4gICAgICAhdGhpcy5faXNGaXJzdExheWVyKClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhc3NpZ24gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrIHRvIHRoZSBoaW50TWFya2VyLCB0aGF0J3MgbmVjZXNzYXJ5IGZvclxuICAgIC8vIG1vYmlsZSB3aGVyZSB0aGUgbWFya2VyIGNhbid0IGZvbGxvdyBhIGN1cnNvclxuICAgIGlmICghdGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlIGZvciBuZXcgdmVydGV4IGJ5IGhpbnRNYXJrZXIgKGN1cnNvciBtYXJrZXIpXG4gICAgY29uc3QgbGF0bG5nID0gdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBtYXJrZXJcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTC5NYXJrZXIobGF0bG5nLCB0aGlzLm9wdGlvbnMubWFya2VyU3R5bGUpO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAnbWFya2VyUGFuZScpO1xuICAgIHRoaXMuX2ZpbmlzaExheWVyKG1hcmtlcik7XG5cbiAgICBpZiAoIW1hcmtlci5wbSkge1xuICAgICAgLy8gaWYgcG0gaXMgbm90IGNyZWF0ZSB3ZSBkb24ndCBhcHBseSBkcmFnZ2luZyB0byB0aGUgbWFya2VyIChkcmFnZ2FibGUgaXMgYXBwbGllZCB0byB0aGUgbWFya2VyLCB3aGVuIGl0IGlzIGFkZGVkIHRvIHRoZSBtYXAgKVxuICAgICAgbWFya2VyLm9wdGlvbnMuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIGFkZCBtYXJrZXIgdG8gdGhlIG1hcFxuICAgIG1hcmtlci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcblxuICAgIGlmIChtYXJrZXIucG0gJiYgdGhpcy5vcHRpb25zLm1hcmtlckVkaXRhYmxlKSB7XG4gICAgICAvLyBlbmFibGUgZWRpdGluZyBmb3IgdGhlIG1hcmtlclxuICAgICAgbWFya2VyLnBtLmVuYWJsZSgpO1xuICAgIH0gZWxzZSBpZiAobWFya2VyLmRyYWdnaW5nKSB7XG4gICAgICBtYXJrZXIuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbWFya2VyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShtYXJrZXIpO1xuXG4gICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5jb250aW51ZURyYXdpbmcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgc2V0U3R5bGUoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5tYXJrZXJTdHlsZT8uaWNvbikge1xuICAgICAgdGhpcy5faGludE1hcmtlcj8uc2V0SWNvbih0aGlzLm9wdGlvbnMubWFya2VyU3R5bGUuaWNvbik7XG4gICAgfVxuICB9LFxufSk7XG4iLCAiLyoqXG4gKiBAbW9kdWxlIGhlbHBlcnNcbiAqL1xuLyoqXG4gKiBFYXJ0aCBSYWRpdXMgdXNlZCB3aXRoIHRoZSBIYXJ2ZXNpbmUgZm9ybXVsYSBhbmQgYXBwcm94aW1hdGVzIHVzaW5nIGEgc3BoZXJpY2FsIChub24tZWxsaXBzb2lkKSBFYXJ0aC5cbiAqXG4gKiBAbWVtYmVyb2YgaGVscGVyc1xuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBlYXJ0aFJhZGl1cyA9IDYzNzEwMDguODtcbi8qKlxuICogVW5pdCBvZiBtZWFzdXJlbWVudCBmYWN0b3JzIHVzaW5nIGEgc3BoZXJpY2FsIChub24tZWxsaXBzb2lkKSBlYXJ0aCByYWRpdXMuXG4gKlxuICogQG1lbWJlcm9mIGhlbHBlcnNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgZmFjdG9ycyA9IHtcbiAgICBjZW50aW1ldGVyczogZWFydGhSYWRpdXMgKiAxMDAsXG4gICAgY2VudGltZXRyZXM6IGVhcnRoUmFkaXVzICogMTAwLFxuICAgIGRlZ3JlZXM6IGVhcnRoUmFkaXVzIC8gMTExMzI1LFxuICAgIGZlZXQ6IGVhcnRoUmFkaXVzICogMy4yODA4NCxcbiAgICBpbmNoZXM6IGVhcnRoUmFkaXVzICogMzkuMzcsXG4gICAga2lsb21ldGVyczogZWFydGhSYWRpdXMgLyAxMDAwLFxuICAgIGtpbG9tZXRyZXM6IGVhcnRoUmFkaXVzIC8gMTAwMCxcbiAgICBtZXRlcnM6IGVhcnRoUmFkaXVzLFxuICAgIG1ldHJlczogZWFydGhSYWRpdXMsXG4gICAgbWlsZXM6IGVhcnRoUmFkaXVzIC8gMTYwOS4zNDQsXG4gICAgbWlsbGltZXRlcnM6IGVhcnRoUmFkaXVzICogMTAwMCxcbiAgICBtaWxsaW1ldHJlczogZWFydGhSYWRpdXMgKiAxMDAwLFxuICAgIG5hdXRpY2FsbWlsZXM6IGVhcnRoUmFkaXVzIC8gMTg1MixcbiAgICByYWRpYW5zOiAxLFxuICAgIHlhcmRzOiBlYXJ0aFJhZGl1cyAqIDEuMDkzNixcbn07XG4vKipcbiAqIFVuaXRzIG9mIG1lYXN1cmVtZW50IGZhY3RvcnMgYmFzZWQgb24gMSBtZXRlci5cbiAqXG4gKiBAbWVtYmVyb2YgaGVscGVyc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IHZhciB1bml0c0ZhY3RvcnMgPSB7XG4gICAgY2VudGltZXRlcnM6IDEwMCxcbiAgICBjZW50aW1ldHJlczogMTAwLFxuICAgIGRlZ3JlZXM6IDEgLyAxMTEzMjUsXG4gICAgZmVldDogMy4yODA4NCxcbiAgICBpbmNoZXM6IDM5LjM3LFxuICAgIGtpbG9tZXRlcnM6IDEgLyAxMDAwLFxuICAgIGtpbG9tZXRyZXM6IDEgLyAxMDAwLFxuICAgIG1ldGVyczogMSxcbiAgICBtZXRyZXM6IDEsXG4gICAgbWlsZXM6IDEgLyAxNjA5LjM0NCxcbiAgICBtaWxsaW1ldGVyczogMTAwMCxcbiAgICBtaWxsaW1ldHJlczogMTAwMCxcbiAgICBuYXV0aWNhbG1pbGVzOiAxIC8gMTg1MixcbiAgICByYWRpYW5zOiAxIC8gZWFydGhSYWRpdXMsXG4gICAgeWFyZHM6IDEuMDkzNjEzMyxcbn07XG4vKipcbiAqIEFyZWEgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyBiYXNlZCBvbiAxIHNxdWFyZSBtZXRlci5cbiAqXG4gKiBAbWVtYmVyb2YgaGVscGVyc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IHZhciBhcmVhRmFjdG9ycyA9IHtcbiAgICBhY3JlczogMC4wMDAyNDcxMDUsXG4gICAgY2VudGltZXRlcnM6IDEwMDAwLFxuICAgIGNlbnRpbWV0cmVzOiAxMDAwMCxcbiAgICBmZWV0OiAxMC43NjM5MTA0MTcsXG4gICAgaGVjdGFyZXM6IDAuMDAwMSxcbiAgICBpbmNoZXM6IDE1NTAuMDAzMTAwMDA2LFxuICAgIGtpbG9tZXRlcnM6IDAuMDAwMDAxLFxuICAgIGtpbG9tZXRyZXM6IDAuMDAwMDAxLFxuICAgIG1ldGVyczogMSxcbiAgICBtZXRyZXM6IDEsXG4gICAgbWlsZXM6IDMuODZlLTcsXG4gICAgbWlsbGltZXRlcnM6IDEwMDAwMDAsXG4gICAgbWlsbGltZXRyZXM6IDEwMDAwMDAsXG4gICAgeWFyZHM6IDEuMTk1OTkwMDQ2LFxufTtcbi8qKlxuICogV3JhcHMgYSBHZW9KU09OIHtAbGluayBHZW9tZXRyeX0gaW4gYSBHZW9KU09OIHtAbGluayBGZWF0dXJlfS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlXG4gKiBAcGFyYW0ge0dlb21ldHJ5fSBnZW9tZXRyeSBpbnB1dCBnZW9tZXRyeVxuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlfSBhIEdlb0pTT04gRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBnZW9tZXRyeSA9IHtcbiAqICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAqICAgXCJjb29yZGluYXRlc1wiOiBbMTEwLCA1MF1cbiAqIH07XG4gKlxuICogdmFyIGZlYXR1cmUgPSB0dXJmLmZlYXR1cmUoZ2VvbWV0cnkpO1xuICpcbiAqIC8vPWZlYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGZlYXQgPSB7IHR5cGU6IFwiRmVhdHVyZVwiIH07XG4gICAgaWYgKG9wdGlvbnMuaWQgPT09IDAgfHwgb3B0aW9ucy5pZCkge1xuICAgICAgICBmZWF0LmlkID0gb3B0aW9ucy5pZDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYmJveCkge1xuICAgICAgICBmZWF0LmJib3ggPSBvcHRpb25zLmJib3g7XG4gICAgfVxuICAgIGZlYXQucHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gICAgZmVhdC5nZW9tZXRyeSA9IGdlb207XG4gICAgcmV0dXJuIGZlYXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBHZW9KU09OIHtAbGluayBHZW9tZXRyeX0gZnJvbSBhIEdlb21ldHJ5IHN0cmluZyB0eXBlICYgY29vcmRpbmF0ZXMuXG4gKiBGb3IgR2VvbWV0cnlDb2xsZWN0aW9uIHR5cGUgdXNlIGBoZWxwZXJzLmdlb21ldHJ5Q29sbGVjdGlvbmBcbiAqXG4gKiBAbmFtZSBnZW9tZXRyeVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgR2VvbWV0cnkgVHlwZVxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBjb29yZGluYXRlcyBDb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcmV0dXJucyB7R2VvbWV0cnl9IGEgR2VvSlNPTiBHZW9tZXRyeVxuICogQGV4YW1wbGVcbiAqIHZhciB0eXBlID0gXCJQb2ludFwiO1xuICogdmFyIGNvb3JkaW5hdGVzID0gWzExMCwgNTBdO1xuICogdmFyIGdlb21ldHJ5ID0gdHVyZi5nZW9tZXRyeSh0eXBlLCBjb29yZGluYXRlcyk7XG4gKiAvLyA9PiBnZW9tZXRyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VvbWV0cnkodHlwZSwgY29vcmRpbmF0ZXMsIF9vcHRpb25zKSB7XG4gICAgaWYgKF9vcHRpb25zID09PSB2b2lkIDApIHsgX29wdGlvbnMgPSB7fTsgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBwb2ludChjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gbGluZVN0cmluZyhjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgICAgICByZXR1cm4gcG9seWdvbihjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gbXVsdGlQb2ludChjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBtdWx0aUxpbmVTdHJpbmcoY29vcmRpbmF0ZXMpLmdlb21ldHJ5O1xuICAgICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgICAgICByZXR1cm4gbXVsdGlQb2x5Z29uKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0eXBlICsgXCIgaXMgaW52YWxpZFwiKTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9pbnR9IHtAbGluayBGZWF0dXJlfSBmcm9tIGEgUG9zaXRpb24uXG4gKlxuICogQG5hbWUgcG9pbnRcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgbG9uZ2l0dWRlLCBsYXRpdHVkZSBwb3NpdGlvbiAoZWFjaCBpbiBkZWNpbWFsIGRlZ3JlZXMpXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8UG9pbnQ+fSBhIFBvaW50IGZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSB0dXJmLnBvaW50KFstNzUuMzQzLCAzOS45ODRdKTtcbiAqXG4gKiAvLz1wb2ludFxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnQoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGlmICghY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShjb29yZGluYXRlcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBBcnJheVwiKTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgbXVzdCBiZSBhdCBsZWFzdCAyIG51bWJlcnMgbG9uZ1wiKTtcbiAgICB9XG4gICAgaWYgKCFpc051bWJlcihjb29yZGluYXRlc1swXSkgfHwgIWlzTnVtYmVyKGNvb3JkaW5hdGVzWzFdKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGNvbnRhaW4gbnVtYmVyc1wiKTtcbiAgICB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiUG9pbnRcIixcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLFxuICAgIH07XG4gICAgcmV0dXJuIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9pbnR9IHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0gZnJvbSBhbiBBcnJheSBvZiBQb2ludCBjb29yZGluYXRlcy5cbiAqXG4gKiBAbmFtZSBwb2ludHNcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvaW50c1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBUcmFuc2xhdGUgdGhlc2UgcHJvcGVydGllcyB0byBlYWNoIEZlYXR1cmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF1cbiAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPFBvaW50Pn0gUG9pbnQgRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludHMgPSB0dXJmLnBvaW50cyhbXG4gKiAgIFstNzUsIDM5XSxcbiAqICAgWy04MCwgNDVdLFxuICogICBbLTc4LCA1MF1cbiAqIF0pO1xuICpcbiAqIC8vPXBvaW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50KGNvb3JkcywgcHJvcGVydGllcyk7XG4gICAgfSksIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFBvbHlnb259IHtAbGluayBGZWF0dXJlfSBmcm9tIGFuIEFycmF5IG9mIExpbmVhclJpbmdzLlxuICpcbiAqIEBuYW1lIHBvbHlnb25cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvbHlnb24+fSBQb2x5Z29uIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNSwgNTJdLCBbLTQsIDU2XSwgWy0yLCA1MV0sIFstNywgNTRdLCBbLTUsIDUyXV1dLCB7IG5hbWU6ICdwb2x5MScgfSk7XG4gKlxuICogLy89cG9seWdvblxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9seWdvbihjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgZm9yICh2YXIgX2kgPSAwLCBjb29yZGluYXRlc18xID0gY29vcmRpbmF0ZXM7IF9pIDwgY29vcmRpbmF0ZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHJpbmcgPSBjb29yZGluYXRlc18xW19pXTtcbiAgICAgICAgaWYgKHJpbmcubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWFjaCBMaW5lYXJSaW5nIG9mIGEgUG9seWdvbiBtdXN0IGhhdmUgNCBvciBtb3JlIFBvc2l0aW9ucy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByaW5nW3JpbmcubGVuZ3RoIC0gMV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZpcnN0IHBvaW50IG9mIFBvbHlnb24gY29udGFpbnMgdHdvIG51bWJlcnNcbiAgICAgICAgICAgIGlmIChyaW5nW3JpbmcubGVuZ3RoIC0gMV1bal0gIT09IHJpbmdbMF1bal0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBhbmQgbGFzdCBQb3NpdGlvbiBhcmUgbm90IGVxdWl2YWxlbnQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIlBvbHlnb25cIixcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLFxuICAgIH07XG4gICAgcmV0dXJuIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9seWdvbn0ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIFBvbHlnb24gY29vcmRpbmF0ZXMuXG4gKlxuICogQG5hbWUgcG9seWdvbnNcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9seWdvbiBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9seWdvbj59IFBvbHlnb24gRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbnMgPSB0dXJmLnBvbHlnb25zKFtcbiAqICAgW1tbLTUsIDUyXSwgWy00LCA1Nl0sIFstMiwgNTFdLCBbLTcsIDU0XSwgWy01LCA1Ml1dXSxcbiAqICAgW1tbLTE1LCA0Ml0sIFstMTQsIDQ2XSwgWy0xMiwgNDFdLCBbLTE3LCA0NF0sIFstMTUsIDQyXV1dLFxuICogXSk7XG4gKlxuICogLy89cG9seWdvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvbHlnb25zKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHBvbHlnb24oY29vcmRzLCBwcm9wZXJ0aWVzKTtcbiAgICB9KSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgTGluZVN0cmluZ30ge0BsaW5rIEZlYXR1cmV9IGZyb20gYW4gQXJyYXkgb2YgUG9zaXRpb25zLlxuICpcbiAqIEBuYW1lIGxpbmVTdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvc2l0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBMaW5lU3RyaW5nIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZXN0cmluZzEgPSB0dXJmLmxpbmVTdHJpbmcoW1stMjQsIDYzXSwgWy0yMywgNjBdLCBbLTI1LCA2NV0sIFstMjAsIDY5XV0sIHtuYW1lOiAnbGluZSAxJ30pO1xuICogdmFyIGxpbmVzdHJpbmcyID0gdHVyZi5saW5lU3RyaW5nKFtbLTE0LCA0M10sIFstMTMsIDQwXSwgWy0xNSwgNDVdLCBbLTEwLCA0OV1dLCB7bmFtZTogJ2xpbmUgMid9KTtcbiAqXG4gKiAvLz1saW5lc3RyaW5nMVxuICogLy89bGluZXN0cmluZzJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVTdHJpbmcoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkaW5hdGVzIG11c3QgYmUgYW4gYXJyYXkgb2YgdHdvIG9yIG1vcmUgcG9zaXRpb25zXCIpO1xuICAgIH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJMaW5lU3RyaW5nXCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIExpbmVTdHJpbmd9IHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0gZnJvbSBhbiBBcnJheSBvZiBMaW5lU3RyaW5nIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBuYW1lIGxpbmVTdHJpbmdzXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PG51bWJlcj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgTGluZWFyUmluZ3NcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248TGluZVN0cmluZz59IExpbmVTdHJpbmcgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZXN0cmluZ3MgPSB0dXJmLmxpbmVTdHJpbmdzKFtcbiAqICAgW1stMjQsIDYzXSwgWy0yMywgNjBdLCBbLTI1LCA2NV0sIFstMjAsIDY5XV0sXG4gKiAgIFtbLTE0LCA0M10sIFstMTMsIDQwXSwgWy0xNSwgNDVdLCBbLTEwLCA0OV1dXG4gKiBdKTtcbiAqXG4gKiAvLz1saW5lc3RyaW5nc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZ3MoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihjb29yZGluYXRlcy5tYXAoZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICByZXR1cm4gbGluZVN0cmluZyhjb29yZHMsIHByb3BlcnRpZXMpO1xuICAgIH0pLCBvcHRpb25zKTtcbn1cbi8qKlxuICogVGFrZXMgb25lIG9yIG1vcmUge0BsaW5rIEZlYXR1cmV8RmVhdHVyZXN9IGFuZCBjcmVhdGVzIGEge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlQ29sbGVjdGlvblxuICogQHBhcmFtIHtGZWF0dXJlW119IGZlYXR1cmVzIGlucHV0IGZlYXR1cmVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbn0gRmVhdHVyZUNvbGxlY3Rpb24gb2YgRmVhdHVyZXNcbiAqIEBleGFtcGxlXG4gKiB2YXIgbG9jYXRpb25BID0gdHVyZi5wb2ludChbLTc1LjM0MywgMzkuOTg0XSwge25hbWU6ICdMb2NhdGlvbiBBJ30pO1xuICogdmFyIGxvY2F0aW9uQiA9IHR1cmYucG9pbnQoWy03NS44MzMsIDM5LjI4NF0sIHtuYW1lOiAnTG9jYXRpb24gQid9KTtcbiAqIHZhciBsb2NhdGlvbkMgPSB0dXJmLnBvaW50KFstNzUuNTM0LCAzOS4xMjNdLCB7bmFtZTogJ0xvY2F0aW9uIEMnfSk7XG4gKlxuICogdmFyIGNvbGxlY3Rpb24gPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgbG9jYXRpb25BLFxuICogICBsb2NhdGlvbkIsXG4gKiAgIGxvY2F0aW9uQ1xuICogXSk7XG4gKlxuICogLy89Y29sbGVjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBmYyA9IHsgdHlwZTogXCJGZWF0dXJlQ29sbGVjdGlvblwiIH07XG4gICAgaWYgKG9wdGlvbnMuaWQpIHtcbiAgICAgICAgZmMuaWQgPSBvcHRpb25zLmlkO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5iYm94KSB7XG4gICAgICAgIGZjLmJib3ggPSBvcHRpb25zLmJib3g7XG4gICAgfVxuICAgIGZjLmZlYXR1cmVzID0gZmVhdHVyZXM7XG4gICAgcmV0dXJuIGZjO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8TXVsdGlMaW5lU3RyaW5nPn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBtdWx0aUxpbmVTdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lU3RyaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPE11bHRpTGluZVN0cmluZz59IGEgTXVsdGlMaW5lU3RyaW5nIGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtbWzAsMF0sWzEwLDEwXV1dKTtcbiAqXG4gKiAvLz1tdWx0aUxpbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpTGluZVN0cmluZyhjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTXVsdGlMaW5lU3RyaW5nXCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8TXVsdGlQb2ludD59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbXVsdGlQb2ludFxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9zaXRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlQb2ludD59IGEgTXVsdGlQb2ludCBmZWF0dXJlXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgbm8gY29vcmRpbmF0ZXMgYXJlIHBhc3NlZFxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aVB0ID0gdHVyZi5tdWx0aVBvaW50KFtbMCwwXSxbMTAsMTBdXSk7XG4gKlxuICogLy89bXVsdGlQdFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlQb2ludChjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTXVsdGlQb2ludFwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPE11bHRpUG9seWdvbj59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbXVsdGlQb2x5Z29uXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PEFycmF5PG51bWJlcj4+Pj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvbHlnb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlQb2x5Z29uPn0gYSBtdWx0aXBvbHlnb24gZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlQb2x5ID0gdHVyZi5tdWx0aVBvbHlnb24oW1tbWzAsMF0sWzAsMTBdLFsxMCwxMF0sWzEwLDBdLFswLDBdXV1dKTtcbiAqXG4gKiAvLz1tdWx0aVBvbHlcbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aVBvbHlnb24oY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIk11bHRpUG9seWdvblwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPEdlb21ldHJ5Q29sbGVjdGlvbj59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgZ2VvbWV0cnlDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0FycmF5PEdlb21ldHJ5Pn0gZ2VvbWV0cmllcyBhbiBhcnJheSBvZiBHZW9KU09OIEdlb21ldHJpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxHZW9tZXRyeUNvbGxlY3Rpb24+fSBhIEdlb0pTT04gR2VvbWV0cnlDb2xsZWN0aW9uIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcHQgPSB0dXJmLmdlb21ldHJ5KFwiUG9pbnRcIiwgWzEwMCwgMF0pO1xuICogdmFyIGxpbmUgPSB0dXJmLmdlb21ldHJ5KFwiTGluZVN0cmluZ1wiLCBbWzEwMSwgMF0sIFsxMDIsIDFdXSk7XG4gKiB2YXIgY29sbGVjdGlvbiA9IHR1cmYuZ2VvbWV0cnlDb2xsZWN0aW9uKFtwdCwgbGluZV0pO1xuICpcbiAqIC8vID0+IGNvbGxlY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlb21ldHJ5Q29sbGVjdGlvbihnZW9tZXRyaWVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJHZW9tZXRyeUNvbGxlY3Rpb25cIixcbiAgICAgICAgZ2VvbWV0cmllczogZ2VvbWV0cmllcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBSb3VuZCBudW1iZXIgdG8gcHJlY2lzaW9uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFByZWNpc2lvblxuICogQHJldHVybnMge251bWJlcn0gcm91bmRlZCBudW1iZXJcbiAqIEBleGFtcGxlXG4gKiB0dXJmLnJvdW5kKDEyMC40MzIxKVxuICogLy89MTIwXG4gKlxuICogdHVyZi5yb3VuZCgxMjAuNDMyMSwgMilcbiAqIC8vPTEyMC40M1xuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmQobnVtLCBwcmVjaXNpb24pIHtcbiAgICBpZiAocHJlY2lzaW9uID09PSB2b2lkIDApIHsgcHJlY2lzaW9uID0gMDsgfVxuICAgIGlmIChwcmVjaXNpb24gJiYgIShwcmVjaXNpb24gPj0gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicHJlY2lzaW9uIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuICAgIHZhciBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbiB8fCAwKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiBtdWx0aXBsaWVyKSAvIG11bHRpcGxpZXI7XG59XG4vKipcbiAqIENvbnZlcnQgYSBkaXN0YW5jZSBtZWFzdXJlbWVudCAoYXNzdW1pbmcgYSBzcGhlcmljYWwgRWFydGgpIGZyb20gcmFkaWFucyB0byBhIG1vcmUgZnJpZW5kbHkgdW5pdC5cbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGtpbG9tZXRlcnMsIGNlbnRpbWV0ZXJzLCBmZWV0XG4gKlxuICogQG5hbWUgcmFkaWFuc1RvTGVuZ3RoXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaWFucyBpbiByYWRpYW5zIGFjcm9zcyB0aGUgc3BoZXJlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VuaXRzPVwia2lsb21ldGVyc1wiXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldHJlcyxcbiAqIG1ldGVycywga2lsb21ldHJlcywga2lsb21ldGVycy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRpc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYWRpYW5zVG9MZW5ndGgocmFkaWFucywgdW5pdHMpIHtcbiAgICBpZiAodW5pdHMgPT09IHZvaWQgMCkgeyB1bml0cyA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgdmFyIGZhY3RvciA9IGZhY3RvcnNbdW5pdHNdO1xuICAgIGlmICghZmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih1bml0cyArIFwiIHVuaXRzIGlzIGludmFsaWRcIik7XG4gICAgfVxuICAgIHJldHVybiByYWRpYW5zICogZmFjdG9yO1xufVxuLyoqXG4gKiBDb252ZXJ0IGEgZGlzdGFuY2UgbWVhc3VyZW1lbnQgKGFzc3VtaW5nIGEgc3BoZXJpY2FsIEVhcnRoKSBmcm9tIGEgcmVhbC13b3JsZCB1bml0IGludG8gcmFkaWFuc1xuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywga2lsb21ldGVycywgY2VudGltZXRlcnMsIGZlZXRcbiAqXG4gKiBAbmFtZSBsZW5ndGhUb1JhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBpbiByZWFsIHVuaXRzXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VuaXRzPVwia2lsb21ldGVyc1wiXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldHJlcyxcbiAqIG1ldGVycywga2lsb21ldHJlcywga2lsb21ldGVycy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IHJhZGlhbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aFRvUmFkaWFucyhkaXN0YW5jZSwgdW5pdHMpIHtcbiAgICBpZiAodW5pdHMgPT09IHZvaWQgMCkgeyB1bml0cyA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgdmFyIGZhY3RvciA9IGZhY3RvcnNbdW5pdHNdO1xuICAgIGlmICghZmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih1bml0cyArIFwiIHVuaXRzIGlzIGludmFsaWRcIik7XG4gICAgfVxuICAgIHJldHVybiBkaXN0YW5jZSAvIGZhY3Rvcjtcbn1cbi8qKlxuICogQ29udmVydCBhIGRpc3RhbmNlIG1lYXN1cmVtZW50IChhc3N1bWluZyBhIHNwaGVyaWNhbCBFYXJ0aCkgZnJvbSBhIHJlYWwtd29ybGQgdW5pdCBpbnRvIGRlZ3JlZXNcbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGNlbnRpbWV0ZXJzLCBraWxvbWV0cmVzLCBmZWV0XG4gKlxuICogQG5hbWUgbGVuZ3RoVG9EZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgaW4gcmVhbCB1bml0c1xuICogQHBhcmFtIHtzdHJpbmd9IFt1bml0cz1cImtpbG9tZXRlcnNcIl0gY2FuIGJlIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRyZXMsXG4gKiBtZXRlcnMsIGtpbG9tZXRyZXMsIGtpbG9tZXRlcnMuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBkZWdyZWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGhUb0RlZ3JlZXMoZGlzdGFuY2UsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHJhZGlhbnNUb0RlZ3JlZXMobGVuZ3RoVG9SYWRpYW5zKGRpc3RhbmNlLCB1bml0cykpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbnkgYmVhcmluZyBhbmdsZSBmcm9tIHRoZSBub3J0aCBsaW5lIGRpcmVjdGlvbiAocG9zaXRpdmUgY2xvY2t3aXNlKVxuICogYW5kIHJldHVybnMgYW4gYW5nbGUgYmV0d2VlbiAwLTM2MCBkZWdyZWVzIChwb3NpdGl2ZSBjbG9ja3dpc2UpLCAwIGJlaW5nIHRoZSBub3J0aCBsaW5lXG4gKlxuICogQG5hbWUgYmVhcmluZ1RvQXppbXV0aFxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgYW5nbGUsIGJldHdlZW4gLTE4MCBhbmQgKzE4MCBkZWdyZWVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbmdsZSBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWFyaW5nVG9BemltdXRoKGJlYXJpbmcpIHtcbiAgICB2YXIgYW5nbGUgPSBiZWFyaW5nICUgMzYwO1xuICAgIGlmIChhbmdsZSA8IDApIHtcbiAgICAgICAgYW5nbGUgKz0gMzYwO1xuICAgIH1cbiAgICByZXR1cm4gYW5nbGU7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIGFuZ2xlIGluIHJhZGlhbnMgdG8gZGVncmVlc1xuICpcbiAqIEBuYW1lIHJhZGlhbnNUb0RlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYW5zIGFuZ2xlIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRlZ3JlZXMgYmV0d2VlbiAwIGFuZCAzNjAgZGVncmVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmFkaWFuc1RvRGVncmVlcyhyYWRpYW5zKSB7XG4gICAgdmFyIGRlZ3JlZXMgPSByYWRpYW5zICUgKDIgKiBNYXRoLlBJKTtcbiAgICByZXR1cm4gKGRlZ3JlZXMgKiAxODApIC8gTWF0aC5QSTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gYW5nbGUgaW4gZGVncmVlcyB0byByYWRpYW5zXG4gKlxuICogQG5hbWUgZGVncmVlc1RvUmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZXMgYW5nbGUgYmV0d2VlbiAwIGFuZCAzNjAgZGVncmVlc1xuICogQHJldHVybnMge251bWJlcn0gYW5nbGUgaW4gcmFkaWFuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVncmVlc1RvUmFkaWFucyhkZWdyZWVzKSB7XG4gICAgdmFyIHJhZGlhbnMgPSBkZWdyZWVzICUgMzYwO1xuICAgIHJldHVybiAocmFkaWFucyAqIE1hdGguUEkpIC8gMTgwO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGxlbmd0aCB0byB0aGUgcmVxdWVzdGVkIHVuaXQuXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBraWxvbWV0ZXJzLCBjZW50aW1ldGVycywgZmVldFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge1VuaXRzfSBbb3JpZ2luYWxVbml0PVwia2lsb21ldGVyc1wiXSBvZiB0aGUgbGVuZ3RoXG4gKiBAcGFyYW0ge1VuaXRzfSBbZmluYWxVbml0PVwia2lsb21ldGVyc1wiXSByZXR1cm5lZCB1bml0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgY29udmVydGVkIGxlbmd0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydExlbmd0aChsZW5ndGgsIG9yaWdpbmFsVW5pdCwgZmluYWxVbml0KSB7XG4gICAgaWYgKG9yaWdpbmFsVW5pdCA9PT0gdm9pZCAwKSB7IG9yaWdpbmFsVW5pdCA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgaWYgKGZpbmFsVW5pdCA9PT0gdm9pZCAwKSB7IGZpbmFsVW5pdCA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgaWYgKCEobGVuZ3RoID49IDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImxlbmd0aCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmFkaWFuc1RvTGVuZ3RoKGxlbmd0aFRvUmFkaWFucyhsZW5ndGgsIG9yaWdpbmFsVW5pdCksIGZpbmFsVW5pdCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgYXJlYSB0byB0aGUgcmVxdWVzdGVkIHVuaXQuXG4gKiBWYWxpZCB1bml0czoga2lsb21ldGVycywga2lsb21ldHJlcywgbWV0ZXJzLCBtZXRyZXMsIGNlbnRpbWV0cmVzLCBtaWxsaW1ldGVycywgYWNyZXMsIG1pbGVzLCB5YXJkcywgZmVldCwgaW5jaGVzLCBoZWN0YXJlc1xuICogQHBhcmFtIHtudW1iZXJ9IGFyZWEgdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge1VuaXRzfSBbb3JpZ2luYWxVbml0PVwibWV0ZXJzXCJdIG9mIHRoZSBkaXN0YW5jZVxuICogQHBhcmFtIHtVbml0c30gW2ZpbmFsVW5pdD1cImtpbG9tZXRlcnNcIl0gcmV0dXJuZWQgdW5pdFxuICogQHJldHVybnMge251bWJlcn0gdGhlIGNvbnZlcnRlZCBhcmVhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0QXJlYShhcmVhLCBvcmlnaW5hbFVuaXQsIGZpbmFsVW5pdCkge1xuICAgIGlmIChvcmlnaW5hbFVuaXQgPT09IHZvaWQgMCkgeyBvcmlnaW5hbFVuaXQgPSBcIm1ldGVyc1wiOyB9XG4gICAgaWYgKGZpbmFsVW5pdCA9PT0gdm9pZCAwKSB7IGZpbmFsVW5pdCA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgaWYgKCEoYXJlYSA+PSAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhcmVhIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuICAgIHZhciBzdGFydEZhY3RvciA9IGFyZWFGYWN0b3JzW29yaWdpbmFsVW5pdF07XG4gICAgaWYgKCFzdGFydEZhY3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG9yaWdpbmFsIHVuaXRzXCIpO1xuICAgIH1cbiAgICB2YXIgZmluYWxGYWN0b3IgPSBhcmVhRmFjdG9yc1tmaW5hbFVuaXRdO1xuICAgIGlmICghZmluYWxGYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaW5hbCB1bml0c1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIChhcmVhIC8gc3RhcnRGYWN0b3IpICogZmluYWxGYWN0b3I7XG59XG4vKipcbiAqIGlzTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSBudW0gTnVtYmVyIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHR1cmYuaXNOdW1iZXIoMTIzKVxuICogLy89dHJ1ZVxuICogdHVyZi5pc051bWJlcignZm9vJylcbiAqIC8vPWZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcihudW0pIHtcbiAgICByZXR1cm4gIWlzTmFOKG51bSkgJiYgbnVtICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG51bSk7XG59XG4vKipcbiAqIGlzT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSBpbnB1dCB2YXJpYWJsZSB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2VcbiAqIEBleGFtcGxlXG4gKiB0dXJmLmlzT2JqZWN0KHtlbGV2YXRpb246IDEwfSlcbiAqIC8vPXRydWVcbiAqIHR1cmYuaXNPYmplY3QoJ2ZvbycpXG4gKiAvLz1mYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICByZXR1cm4gISFpbnB1dCAmJiBpbnB1dC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuLyoqXG4gKiBWYWxpZGF0ZSBCQm94XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYmJveCBCQm94IHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEB0aHJvd3MgRXJyb3IgaWYgQkJveCBpcyBub3QgdmFsaWRcbiAqIEBleGFtcGxlXG4gKiB2YWxpZGF0ZUJCb3goWy0xODAsIC00MCwgMTEwLCA1MF0pXG4gKiAvLz1PS1xuICogdmFsaWRhdGVCQm94KFstMTgwLCAtNDBdKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlQkJveCgnRm9vJylcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3goNSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3gobnVsbClcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3godW5kZWZpbmVkKVxuICogLy89RXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQkJveChiYm94KSB7XG4gICAgaWYgKCFiYm94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImJib3ggaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShiYm94KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3QgYmUgYW4gQXJyYXlcIik7XG4gICAgfVxuICAgIGlmIChiYm94Lmxlbmd0aCAhPT0gNCAmJiBiYm94Lmxlbmd0aCAhPT0gNikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3QgYmUgYW4gQXJyYXkgb2YgNCBvciA2IG51bWJlcnNcIik7XG4gICAgfVxuICAgIGJib3guZm9yRWFjaChmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgIGlmICghaXNOdW1iZXIobnVtKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmJveCBtdXN0IG9ubHkgY29udGFpbiBudW1iZXJzXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFZhbGlkYXRlIElkXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWQgSWQgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHRocm93cyBFcnJvciBpZiBJZCBpcyBub3QgdmFsaWRcbiAqIEBleGFtcGxlXG4gKiB2YWxpZGF0ZUlkKFstMTgwLCAtNDAsIDExMCwgNTBdKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlSWQoWy0xODAsIC00MF0pXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVJZCgnRm9vJylcbiAqIC8vPU9LXG4gKiB2YWxpZGF0ZUlkKDUpXG4gKiAvLz1PS1xuICogdmFsaWRhdGVJZChudWxsKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlSWQodW5kZWZpbmVkKVxuICogLy89RXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSWQoaWQpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlkIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoW1wic3RyaW5nXCIsIFwibnVtYmVyXCJdLmluZGV4T2YodHlwZW9mIGlkKSA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgbXVzdCBiZSBhIG51bWJlciBvciBhIHN0cmluZ1wiKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgcG9pbnQgfSBmcm9tIFwiQHR1cmYvaGVscGVyc1wiO1xuLyoqXG4gKiBUYWtlcyBhIHtAbGluayBMaW5lU3RyaW5nfGxpbmVzdHJpbmd9LCB7QGxpbmsgTXVsdGlMaW5lU3RyaW5nfG11bHRpLWxpbmVzdHJpbmd9LFxuICoge0BsaW5rIE11bHRpUG9seWdvbnxtdWx0aS1wb2x5Z29ufSBvciB7QGxpbmsgUG9seWdvbnxwb2x5Z29ufSBhbmRcbiAqIHJldHVybnMge0BsaW5rIFBvaW50fHBvaW50c30gYXQgYWxsIHNlbGYtaW50ZXJzZWN0aW9ucy5cbiAqXG4gKiBAbmFtZSBraW5rc1xuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmd8TXVsdGlMaW5lU3RyaW5nfE11bHRpUG9seWdvbnxQb2x5Z29uPn0gZmVhdHVyZUluIGlucHV0IGZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxQb2ludD59IHNlbGYtaW50ZXJzZWN0aW9uc1xuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5ID0gdHVyZi5wb2x5Z29uKFtbXG4gKiAgIFstMTIuMDM0ODM1LCA4LjkwMTE4M10sXG4gKiAgIFstMTIuMDYwNDEzLCA4Ljg5OTgyNl0sXG4gKiAgIFstMTIuMDM2MzgsIDguODczMTk5XSxcbiAqICAgWy0xMi4wNTkzODMsIDguODcxNDE4XSxcbiAqICAgWy0xMi4wMzQ4MzUsIDguOTAxMTgzXVxuICogXV0pO1xuICpcbiAqIHZhciBraW5rcyA9IHR1cmYua2lua3MocG9seSk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3BvbHksIGtpbmtzXVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBraW5rcyhmZWF0dXJlSW4pIHtcbiAgICB2YXIgY29vcmRpbmF0ZXM7XG4gICAgdmFyIGZlYXR1cmU7XG4gICAgdmFyIHJlc3VsdHMgPSB7XG4gICAgICAgIHR5cGU6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICAgICAgZmVhdHVyZXM6IFtdLFxuICAgIH07XG4gICAgaWYgKGZlYXR1cmVJbi50eXBlID09PSBcIkZlYXR1cmVcIikge1xuICAgICAgICBmZWF0dXJlID0gZmVhdHVyZUluLmdlb21ldHJ5O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmVhdHVyZSA9IGZlYXR1cmVJbjtcbiAgICB9XG4gICAgaWYgKGZlYXR1cmUudHlwZSA9PT0gXCJMaW5lU3RyaW5nXCIpIHtcbiAgICAgICAgY29vcmRpbmF0ZXMgPSBbZmVhdHVyZS5jb29yZGluYXRlc107XG4gICAgfVxuICAgIGVsc2UgaWYgKGZlYXR1cmUudHlwZSA9PT0gXCJNdWx0aUxpbmVTdHJpbmdcIikge1xuICAgICAgICBjb29yZGluYXRlcyA9IGZlYXR1cmUuY29vcmRpbmF0ZXM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZlYXR1cmUudHlwZSA9PT0gXCJNdWx0aVBvbHlnb25cIikge1xuICAgICAgICBjb29yZGluYXRlcyA9IFtdLmNvbmNhdC5hcHBseShbXSwgZmVhdHVyZS5jb29yZGluYXRlcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZlYXR1cmUudHlwZSA9PT0gXCJQb2x5Z29uXCIpIHtcbiAgICAgICAgY29vcmRpbmF0ZXMgPSBmZWF0dXJlLmNvb3JkaW5hdGVzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgbXVzdCBiZSBhIExpbmVTdHJpbmcsIE11bHRpTGluZVN0cmluZywgXCIgK1xuICAgICAgICAgICAgXCJQb2x5Z29uLCBvciBNdWx0aVBvbHlnb24gRmVhdHVyZSBvciBHZW9tZXRyeVwiKTtcbiAgICB9XG4gICAgY29vcmRpbmF0ZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZTEpIHtcbiAgICAgICAgY29vcmRpbmF0ZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZTIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZTEubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgaXRlcmF0aW9uIGF0IGksIGludGVyc2VjdGlvbnMgZm9yIGsgPCBpIGhhdmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgIC8vIGJlZW4gY2hlY2tlZCBpbiBwcmV2aW91cyBvdXRlciBsb29wIGl0ZXJhdGlvbnNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gaTsgayA8IGxpbmUyLmxlbmd0aCAtIDE7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZTEgPT09IGxpbmUyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWdtZW50cyBhcmUgYWRqYWNlbnQgYW5kIGFsd2F5cyBzaGFyZSBhIHZlcnRleCwgbm90IGEga2lua1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGkgLSBrKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QgYW5kIGxhc3Qgc2VnbWVudCBpbiBhIGNsb3NlZCBsaW5lU3RyaW5nIG9yIHJpbmcgYWx3YXlzIHNoYXJlIGEgdmVydGV4LCBub3QgYSBraW5rXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWdtZW50cyBhcmUgZmlyc3QgYW5kIGxhc3Qgc2VnbWVudCBvZiBsaW5lU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgayA9PT0gbGluZTEubGVuZ3RoIC0gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpbmVTdHJpbmcgaXMgY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTFbaV1bMF0gPT09IGxpbmUxW2xpbmUxLmxlbmd0aCAtIDFdWzBdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTFbaV1bMV0gPT09IGxpbmUxW2xpbmUxLmxlbmd0aCAtIDFdWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyc2VjdGlvbiA9IGxpbmVJbnRlcnNlY3RzKGxpbmUxW2ldWzBdLCBsaW5lMVtpXVsxXSwgbGluZTFbaSArIDFdWzBdLCBsaW5lMVtpICsgMV1bMV0sIGxpbmUyW2tdWzBdLCBsaW5lMltrXVsxXSwgbGluZTJbayArIDFdWzBdLCBsaW5lMltrICsgMV1bMV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLmZlYXR1cmVzLnB1c2gocG9pbnQoW2ludGVyc2VjdGlvblswXSwgaW50ZXJzZWN0aW9uWzFdXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbi8vIG1vZGlmaWVkIGZyb20gaHR0cDovL2pzZmlkZGxlLm5ldC9qdXN0aW5fY19yb3VuZHMvR2QyUzIvbGlnaHQvXG5mdW5jdGlvbiBsaW5lSW50ZXJzZWN0cyhsaW5lMVN0YXJ0WCwgbGluZTFTdGFydFksIGxpbmUxRW5kWCwgbGluZTFFbmRZLCBsaW5lMlN0YXJ0WCwgbGluZTJTdGFydFksIGxpbmUyRW5kWCwgbGluZTJFbmRZKSB7XG4gICAgLy8gaWYgdGhlIGxpbmVzIGludGVyc2VjdCwgdGhlIHJlc3VsdCBjb250YWlucyB0aGUgeCBhbmQgeSBvZiB0aGVcbiAgICAvLyBpbnRlcnNlY3Rpb24gKHRyZWF0aW5nIHRoZSBsaW5lcyBhcyBpbmZpbml0ZSkgYW5kIGJvb2xlYW5zIGZvciB3aGV0aGVyXG4gICAgLy8gbGluZSBzZWdtZW50IDEgb3IgbGluZSBzZWdtZW50IDIgY29udGFpbiB0aGUgcG9pbnRcbiAgICB2YXIgZGVub21pbmF0b3I7XG4gICAgdmFyIGE7XG4gICAgdmFyIGI7XG4gICAgdmFyIG51bWVyYXRvcjE7XG4gICAgdmFyIG51bWVyYXRvcjI7XG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgeDogbnVsbCxcbiAgICAgICAgeTogbnVsbCxcbiAgICAgICAgb25MaW5lMTogZmFsc2UsXG4gICAgICAgIG9uTGluZTI6IGZhbHNlLFxuICAgIH07XG4gICAgZGVub21pbmF0b3IgPVxuICAgICAgICAobGluZTJFbmRZIC0gbGluZTJTdGFydFkpICogKGxpbmUxRW5kWCAtIGxpbmUxU3RhcnRYKSAtXG4gICAgICAgICAgICAobGluZTJFbmRYIC0gbGluZTJTdGFydFgpICogKGxpbmUxRW5kWSAtIGxpbmUxU3RhcnRZKTtcbiAgICBpZiAoZGVub21pbmF0b3IgPT09IDApIHtcbiAgICAgICAgaWYgKHJlc3VsdC54ICE9PSBudWxsICYmIHJlc3VsdC55ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGEgPSBsaW5lMVN0YXJ0WSAtIGxpbmUyU3RhcnRZO1xuICAgIGIgPSBsaW5lMVN0YXJ0WCAtIGxpbmUyU3RhcnRYO1xuICAgIG51bWVyYXRvcjEgPSAobGluZTJFbmRYIC0gbGluZTJTdGFydFgpICogYSAtIChsaW5lMkVuZFkgLSBsaW5lMlN0YXJ0WSkgKiBiO1xuICAgIG51bWVyYXRvcjIgPSAobGluZTFFbmRYIC0gbGluZTFTdGFydFgpICogYSAtIChsaW5lMUVuZFkgLSBsaW5lMVN0YXJ0WSkgKiBiO1xuICAgIGEgPSBudW1lcmF0b3IxIC8gZGVub21pbmF0b3I7XG4gICAgYiA9IG51bWVyYXRvcjIgLyBkZW5vbWluYXRvcjtcbiAgICAvLyBpZiB3ZSBjYXN0IHRoZXNlIGxpbmVzIGluZmluaXRlbHkgaW4gYm90aCBkaXJlY3Rpb25zLCB0aGV5IGludGVyc2VjdCBoZXJlOlxuICAgIHJlc3VsdC54ID0gbGluZTFTdGFydFggKyBhICogKGxpbmUxRW5kWCAtIGxpbmUxU3RhcnRYKTtcbiAgICByZXN1bHQueSA9IGxpbmUxU3RhcnRZICsgYSAqIChsaW5lMUVuZFkgLSBsaW5lMVN0YXJ0WSk7XG4gICAgLy8gaWYgbGluZTEgaXMgYSBzZWdtZW50IGFuZCBsaW5lMiBpcyBpbmZpbml0ZSwgdGhleSBpbnRlcnNlY3QgaWY6XG4gICAgaWYgKGEgPj0gMCAmJiBhIDw9IDEpIHtcbiAgICAgICAgcmVzdWx0Lm9uTGluZTEgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBpZiBsaW5lMiBpcyBhIHNlZ21lbnQgYW5kIGxpbmUxIGlzIGluZmluaXRlLCB0aGV5IGludGVyc2VjdCBpZjpcbiAgICBpZiAoYiA+PSAwICYmIGIgPD0gMSkge1xuICAgICAgICByZXN1bHQub25MaW5lMiA9IHRydWU7XG4gICAgfVxuICAgIC8vIGlmIGxpbmUxIGFuZCBsaW5lMiBhcmUgc2VnbWVudHMsIHRoZXkgaW50ZXJzZWN0IGlmIGJvdGggb2YgdGhlIGFib3ZlIGFyZSB0cnVlXG4gICAgaWYgKHJlc3VsdC5vbkxpbmUxICYmIHJlc3VsdC5vbkxpbmUyKSB7XG4gICAgICAgIHJldHVybiBbcmVzdWx0LngsIHJlc3VsdC55XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IGtpbmtzIGZyb20gJ0B0dXJmL2tpbmtzJztcbmltcG9ydCBEcmF3IGZyb20gJy4vTC5QTS5EcmF3JztcblxuaW1wb3J0IHsgZ2V0VHJhbnNsYXRpb24gfSBmcm9tICcuLi9oZWxwZXJzJztcblxuRHJhdy5MaW5lID0gRHJhdy5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9zaGFwZSA9ICdMaW5lJztcbiAgICB0aGlzLnRvb2xiYXJCdXR0b25OYW1lID0gJ2RyYXdQb2x5bGluZSc7XG4gICAgdGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QgPSBmYWxzZTtcbiAgfSxcbiAgZW5hYmxlKG9wdGlvbnMpIHtcbiAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIC8vIGVuYWJsZSBkcmF3IG1vZGVcbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuX21hcmtlcnMgPSBbXTtcblxuICAgIC8vIGNyZWF0ZSBhIG5ldyBsYXllcmdyb3VwXG4gICAgdGhpcy5fbGF5ZXJHcm91cCA9IG5ldyBMLkZlYXR1cmVHcm91cCgpO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICB0aGlzLl9sYXllckdyb3VwLmFkZFRvKHRoaXMuX21hcCk7XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBwb2x5TGluZSB0aGF0J2xsIG1ha2UgdXAgdGhlIHBvbHlnb25cbiAgICB0aGlzLl9sYXllciA9IEwucG9seWxpbmUoW10sIHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucy50ZW1wbGluZVN0eWxlLFxuICAgICAgcG1JZ25vcmU6IGZhbHNlLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5fbGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9sYXllci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5fbGF5ZXIpO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgaGludGxpbmUgZnJvbSB0aGUgbW91c2UgY3Vyc29yIHRvIHRoZSBsYXN0IG1hcmtlclxuICAgIHRoaXMuX2hpbnRsaW5lID0gTC5wb2x5bGluZShbXSwgdGhpcy5vcHRpb25zLmhpbnRsaW5lU3R5bGUpO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludGxpbmUsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9oaW50bGluZS5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5faGludGxpbmUpO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgaGludG1hcmtlciBvbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgdGhpcy5faGludE1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLCAvLyBhbHdheXMgdmVydGV4IG1hcmtlciBiZWxvdyB3aWxsIGJlIHRyaWdnZXJlZCBmcm9tIHRoZSBjbGljayBldmVudCAtPiBfZmluaXNoU2hhcGUgIzkxMVxuICAgICAgekluZGV4T2Zmc2V0OiAxMDAsXG4gICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiBjdXJzb3ItbWFya2VyJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5faGludE1hcmtlcik7XG5cbiAgICAvLyBzaG93IHRoZSBoaW50bWFya2VyIGlmIHRoZSBvcHRpb24gaXMgc2V0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9oaW50TWFya2VyLl9pY29uLCAndmlzaWJsZScpO1xuICAgIH1cblxuICAgIC8vIGFkZCB0b29sdGlwIHRvIGhpbnRtYXJrZXJcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyXG4gICAgICAgIC5iaW5kVG9vbHRpcChnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmlyc3RWZXJ0ZXgnKSwge1xuICAgICAgICAgIHBlcm1hbmVudDogdHJ1ZSxcbiAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQoMCwgMTApLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JvdHRvbScsXG5cbiAgICAgICAgICBvcGFjaXR5OiAwLjgsXG4gICAgICAgIH0pXG4gICAgICAgIC5vcGVuVG9vbHRpcCgpO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBtYXAgY3Vyc29yXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5hZGQoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gY3JlYXRlIGEgcG9seWdvbi1wb2ludCBvbiBjbGlja1xuICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9jcmVhdGVWZXJ0ZXgsIHRoaXMpO1xuXG4gICAgLy8gZmluaXNoIG9uIGxheWVyIGV2ZW50XG4gICAgLy8gI2h0dHA6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS5odG1sI2ludGVyYWN0aXZlLWxheWVyLWNsaWNrXG4gICAgaWYgKHRoaXMub3B0aW9ucy5maW5pc2hPbiAmJiB0aGlzLm9wdGlvbnMuZmluaXNoT24gIT09ICdzbmFwJykge1xuICAgICAgdGhpcy5fbWFwLm9uKHRoaXMub3B0aW9ucy5maW5pc2hPbiwgdGhpcy5fZmluaXNoU2hhcGUsIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIHByZXZlbnQgem9vbSBvbiBkb3VibGUgY2xpY2sgaWYgZmluaXNoT24gaXMgPT09IGRibGNsaWNrXG4gICAgaWYgKHRoaXMub3B0aW9ucy5maW5pc2hPbiA9PT0gJ2RibGNsaWNrJykge1xuICAgICAgdGhpcy50ZW1wTWFwRG91YmxlQ2xpY2tab29tU3RhdGUgPSB0aGlzLl9tYXAuZG91YmxlQ2xpY2tab29tLl9lbmFibGVkO1xuXG4gICAgICBpZiAodGhpcy50ZW1wTWFwRG91YmxlQ2xpY2tab29tU3RhdGUpIHtcbiAgICAgICAgdGhpcy5fbWFwLmRvdWJsZUNsaWNrWm9vbS5kaXNhYmxlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3luYyBoaW50IG1hcmtlciB3aXRoIG1vdXNlIGN1cnNvclxuICAgIHRoaXMuX21hcC5vbignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gc3luYyB0aGUgaGludGxpbmUgd2l0aCBoaW50IG1hcmtlclxuICAgIHRoaXMuX2hpbnRNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9zeW5jSGludExpbmUsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZW5hYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgdHJ1ZSk7XG5cbiAgICAvLyBhbiBhcnJheSB1c2VkIGluIHRoZSBzbmFwcGluZyBtaXhpbi5cbiAgICAvLyBUT0RPOiB0aGluayBhYm91dCBtb3ZpbmcgdGhpcyBzb21ld2hlcmUgZWxzZT9cbiAgICB0aGlzLl9vdGhlclNuYXBMYXllcnMgPSBbXTtcblxuICAgIC8vIG1ha2Ugc3VyZSBpbnRlcnNlY3Rpb24gaXMgbm90IHNldCB3aGlsZSBzdGFydCBkcmF3aW5nXG4gICAgdGhpcy5pc1JlZCA9IGZhbHNlO1xuXG4gICAgLy8gZmlyZSBkcmF3c3RhcnQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhd1N0YXJ0KCk7XG4gICAgdGhpcy5fc2V0R2xvYmFsRHJhd01vZGUoKTtcbiAgfSxcbiAgZGlzYWJsZSgpIHtcbiAgICAvLyBkaXNhYmxlIGRyYXcgbW9kZVxuXG4gICAgLy8gY2FuY2VsLCBpZiBkcmF3aW5nIG1vZGUgaXNuJ3QgZXZlbiBlbmFibGVkXG4gICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gcmVzZXQgY3Vyc29yXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5yZW1vdmUoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gdW5iaW5kIGxpc3RlbmVyc1xuICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fY3JlYXRlVmVydGV4LCB0aGlzKTtcbiAgICB0aGlzLl9tYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5maW5pc2hPbiAmJiB0aGlzLm9wdGlvbnMuZmluaXNoT24gIT09ICdzbmFwJykge1xuICAgICAgdGhpcy5fbWFwLm9mZih0aGlzLm9wdGlvbnMuZmluaXNoT24sIHRoaXMuX2ZpbmlzaFNoYXBlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50ZW1wTWFwRG91YmxlQ2xpY2tab29tU3RhdGUpIHtcbiAgICAgIHRoaXMuX21hcC5kb3VibGVDbGlja1pvb20uZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGxheWVyXG4gICAgdGhpcy5fbWFwLnJlbW92ZUxheWVyKHRoaXMuX2xheWVyR3JvdXApO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBkcmF3ZW5kIGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdFbmQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TGluZSgpIHtcbiAgICBjb25zdCBwb2x5UG9pbnRzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgaWYgKHBvbHlQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbGFzdFBvbHlnb25Qb2ludCA9IHBvbHlQb2ludHNbcG9seVBvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgLy8gc2V0IGNvb3JkcyBmb3IgaGludGxpbmUgZnJvbSBtYXJrZXIgdG8gbGFzdCB2ZXJ0ZXggb2YgZHJhd2luIHBvbHlsaW5lXG4gICAgICB0aGlzLl9oaW50bGluZS5zZXRMYXRMbmdzKFtcbiAgICAgICAgbGFzdFBvbHlnb25Qb2ludCxcbiAgICAgICAgdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKSxcbiAgICAgIF0pO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TWFya2VyKGUpIHtcbiAgICAvLyBtb3ZlIHRoZSBjdXJzb3IgbWFya2VyXG4gICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuXG4gICAgLy8gaWYgc25hcHBpbmcgaXMgZW5hYmxlZCwgZG8gaXRcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgY29uc3QgZmFrZURyYWdFdmVudCA9IGU7XG4gICAgICBmYWtlRHJhZ0V2ZW50LnRhcmdldCA9IHRoaXMuX2hpbnRNYXJrZXI7XG4gICAgICB0aGlzLl9oYW5kbGVTbmFwcGluZyhmYWtlRHJhZ0V2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBpZiBzZWxmLWludGVyc2VjdGlvbiBpcyBmb3JiaWRkZW4sIGhhbmRsZSBpdFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgdGhpcy5faGFuZGxlU2VsZkludGVyc2VjdGlvbih0cnVlLCB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpKTtcbiAgICB9XG4gICAgY29uc3QgbGF0bG5ncyA9IHRoaXMuX2xheWVyLl9kZWZhdWx0U2hhcGUoKS5zbGljZSgpO1xuICAgIGxhdGxuZ3MucHVzaCh0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpKTtcbiAgICB0aGlzLl9jaGFuZ2UobGF0bG5ncyk7XG4gIH0sXG4gIGhhc1NlbGZJbnRlcnNlY3Rpb24oKSB7XG4gICAgLy8gY2hlY2sgZm9yIHNlbGYgaW50ZXJzZWN0aW9uIG9mIHRoZSBsYXllciBhbmQgcmV0dXJuIHRydWUvZmFsc2VcbiAgICBjb25zdCBzZWxmSW50ZXJzZWN0aW9uID0ga2lua3ModGhpcy5fbGF5ZXIudG9HZW9KU09OKDE1KSk7XG4gICAgcmV0dXJuIHNlbGZJbnRlcnNlY3Rpb24uZmVhdHVyZXMubGVuZ3RoID4gMDtcbiAgfSxcbiAgX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb24oYWRkVmVydGV4LCBsYXRsbmcpIHtcbiAgICAvLyBvayB3ZSBuZWVkIHRvIGNoZWNrIHRoZSBzZWxmIGludGVyc2VjdGlvbiBoZXJlXG4gICAgLy8gcHJvYmxlbTogZHVyaW5nIGRyYXcsIHRoZSBtYXJrZXIgb24gdGhlIGN1cnNvciBpcyBub3QgeWV0IHBhcnRcbiAgICAvLyBvZiB0aGUgbGF5ZXIuIFNvIHdlIG5lZWQgdG8gY2xvbmUgdGhlIGxheWVyLCBhZGQgdGhlXG4gICAgLy8gcG90ZW50aWFsIG5ldyB2ZXJ0ZXggKGN1cnNvciBtYXJrZXJzIGxhdGxuZ3MpIGFuZCBjaGVjayB0aGUgc2VsZlxuICAgIC8vIGludGVyc2VjdGlvbiBvbiB0aGUgY2xvbmUuIFBoZXcuLi4gLSBsZXQncyBkbyBpdCBcdUQ4M0RcdURDQUFcblxuICAgIC8vIGNsb25lIGxheWVyIChwb2x5bGluZSBpcyBlbm91Z2gsIGV2ZW4gd2hlbiBpdCdzIGEgcG9seWdvbilcbiAgICBjb25zdCBjbG9uZSA9IEwucG9seWxpbmUodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpKTtcblxuICAgIGlmIChhZGRWZXJ0ZXgpIHtcbiAgICAgIC8vIGdldCB2ZXJ0ZXggZnJvbSBwYXJhbSBvciBmcm9tIGhpbnRtYXJrZXJcbiAgICAgIGlmICghbGF0bG5nKSB7XG4gICAgICAgIGxhdGxuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCB0aGUgdmVydGV4XG4gICAgICBjbG9uZS5hZGRMYXRMbmcobGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayB0aGUgc2VsZiBpbnRlcnNlY3Rpb25cbiAgICBjb25zdCBzZWxmSW50ZXJzZWN0aW9uID0ga2lua3MoY2xvbmUudG9HZW9KU09OKDE1KSk7XG4gICAgdGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QgPSBzZWxmSW50ZXJzZWN0aW9uLmZlYXR1cmVzLmxlbmd0aCA+IDA7XG5cbiAgICAvLyBjaGFuZ2UgdGhlIHN0eWxlIGJhc2VkIG9uIHNlbGYgaW50ZXJzZWN0aW9uXG4gICAgaWYgKHRoaXMuX2RvZXNTZWxmSW50ZXJzZWN0KSB7XG4gICAgICBpZiAoIXRoaXMuaXNSZWQpIHtcbiAgICAgICAgdGhpcy5pc1JlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2hpbnRsaW5lLnNldFN0eWxlKHtcbiAgICAgICAgICBjb2xvcjogJyNmMDAwMDBmZicsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBmaXJlIGludGVyc2VjdCBldmVudFxuICAgICAgICB0aGlzLl9maXJlSW50ZXJzZWN0KHNlbGZJbnRlcnNlY3Rpb24sIHRoaXMuX21hcCwgJ0RyYXcnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCF0aGlzLl9oaW50bGluZS5pc0VtcHR5KCkpIHtcbiAgICAgIHRoaXMuaXNSZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2hpbnRsaW5lLnNldFN0eWxlKHRoaXMub3B0aW9ucy5oaW50bGluZVN0eWxlKTtcbiAgICB9XG4gIH0sXG4gIF9jcmVhdGVWZXJ0ZXgoZSkge1xuICAgIC8vIGRvbid0IGNyZWF0ZSBhIHZlcnRleCBpZiB3ZSBoYXZlIGEgc2VsZkludGVyc2VjdGlvbiBhbmQgaXQgaXMgbm90IGFsbG93ZWRcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb24odHJ1ZSwgZS5sYXRsbmcpO1xuXG4gICAgICBpZiAodGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFzc2lnbiB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2sgdG8gdGhlIGhpbnRNYXJrZXIsIHRoYXQncyBuZWNlc3NhcnkgZm9yXG4gICAgLy8gbW9iaWxlIHdoZXJlIHRoZSBtYXJrZXIgY2FuJ3QgZm9sbG93IGEgY3Vyc29yXG4gICAgaWYgKCF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvb3JkaW5hdGUgZm9yIG5ldyB2ZXJ0ZXggYnkgaGludE1hcmtlciAoY3Vyc29yIG1hcmtlcilcbiAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgLy8gY2hlY2sgaWYgdGhlIGZpcnN0IGFuZCB0aGlzIHZlcnRleCBoYXZlIHRoZSBzYW1lIGxhdGxuZ1xuICAgIC8vIG9yIHRoZSBsYXN0IHZlcnRleCBhbmQgdGhlIGhpbnRNYXJrZXIgaGF2ZSB0aGUgc2FtZSBsYXRsbmcgKGRibC1jbGljaylcbiAgICBjb25zdCBsYXRsbmdzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgY29uc3QgbGFzdExhdExuZyA9IGxhdGxuZ3NbbGF0bG5ncy5sZW5ndGggLSAxXTtcbiAgICBpZiAoXG4gICAgICBsYXRsbmcuZXF1YWxzKGxhdGxuZ3NbMF0pIHx8XG4gICAgICAobGF0bG5ncy5sZW5ndGggPiAwICYmIGxhdGxuZy5lcXVhbHMobGFzdExhdExuZykpXG4gICAgKSB7XG4gICAgICAvLyB5ZXM/IGZpbmlzaCB0aGUgcG9seWdvblxuICAgICAgdGhpcy5fZmluaXNoU2hhcGUoKTtcblxuICAgICAgLy8gXCJ3aHk/XCIsIHlvdSBhc2s/IEJlY2F1c2UgdGhpcyBoYXBwZW5zIHdoZW4gd2Ugc25hcCB0aGUgbGFzdCB2ZXJ0ZXggdG8gdGhlIGZpcnN0IG9uZVxuICAgICAgLy8gYW5kIHRoZW4gY2xpY2sgd2l0aG91dCBoaXR0aW5nIHRoZSBsYXN0IG1hcmtlci4gQ2xpY2sgaGFwcGVucyBvbiB0aGUgbWFwXG4gICAgICAvLyBpbiA5OSUgb2YgY2FzZXMgaXQncyBiZWNhdXNlIHRoZSB1c2VyIHdhbnRzIHRvIGZpbmlzaCB0aGUgcG9seWdvbi4gU28uLi5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXllci5fbGF0bG5nSW5mbyA9IHRoaXMuX2xheWVyLl9sYXRsbmdJbmZvIHx8IFtdO1xuICAgIHRoaXMuX2xheWVyLl9sYXRsbmdJbmZvLnB1c2goe1xuICAgICAgbGF0bG5nLFxuICAgICAgc25hcEluZm86IHRoaXMuX2hpbnRNYXJrZXIuX3NuYXBJbmZvLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fbGF5ZXIuYWRkTGF0TG5nKGxhdGxuZyk7XG4gICAgY29uc3QgbmV3TWFya2VyID0gdGhpcy5fY3JlYXRlTWFya2VyKGxhdGxuZyk7XG4gICAgdGhpcy5fc2V0VG9vbHRpcFRleHQoKTtcblxuICAgIHRoaXMuX3NldEhpbnRMaW5lQWZ0ZXJOZXdWZXJ0ZXgobGF0bG5nKTtcblxuICAgIHRoaXMuX2ZpcmVWZXJ0ZXhBZGRlZChuZXdNYXJrZXIsIHVuZGVmaW5lZCwgbGF0bG5nLCAnRHJhdycpO1xuICAgIHRoaXMuX2NoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkpO1xuICAgIC8vIGNoZWNrIGlmIHdlIHNob3VsZCBmaW5pc2ggb24gc25hcFxuICAgIGlmICh0aGlzLm9wdGlvbnMuZmluaXNoT24gPT09ICdzbmFwJyAmJiB0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICB0aGlzLl9maW5pc2hTaGFwZShlKTtcbiAgICB9XG4gIH0sXG4gIF9zZXRIaW50TGluZUFmdGVyTmV3VmVydGV4KGhpbnRNYXJrZXJMYXRMbmcpIHtcbiAgICAvLyBtYWtlIHRoZSBuZXcgZHJhd24gbGluZSAod2l0aCBhbm90aGVyIHN0eWxlKSB2aXNpYmxlXG4gICAgdGhpcy5faGludGxpbmUuc2V0TGF0TG5ncyhbaGludE1hcmtlckxhdExuZywgaGludE1hcmtlckxhdExuZ10pO1xuICB9LFxuICBfcmVtb3ZlTGFzdFZlcnRleCgpIHtcbiAgICBjb25zdCBtYXJrZXJzID0gdGhpcy5fbWFya2VycztcblxuICAgIC8vIGlmIGFsbCBtYXJrZXJzIGFyZSBnb25lLCBjYW5jZWwgZHJhd2luZ1xuICAgIGlmIChtYXJrZXJzLmxlbmd0aCA8PSAxKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgbGFzdCBjb29yZHNcbiAgICBsZXQgY29vcmRzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgY29uc3QgcmVtb3ZlZE1hcmtlciA9IG1hcmtlcnNbbWFya2Vycy5sZW5ndGggLSAxXTtcblxuICAgIC8vIHRoZSBpbmRleCBwYXRoIHRvIHRoZSBtYXJrZXIgaW5zaWRlIHRoZSBtdWx0aWRpbWVuc2lvbmFsIG1hcmtlciBhcnJheVxuICAgIGNvbnN0IHsgaW5kZXhQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICBtYXJrZXJzLFxuICAgICAgcmVtb3ZlZE1hcmtlclxuICAgICk7XG5cbiAgICAvLyByZW1vdmUgbGFzdCBtYXJrZXIgZnJvbSBhcnJheVxuICAgIG1hcmtlcnMucG9wKCk7XG5cbiAgICAvLyByZW1vdmUgdGhhdCBtYXJrZXJcbiAgICB0aGlzLl9sYXllckdyb3VwLnJlbW92ZUxheWVyKHJlbW92ZWRNYXJrZXIpO1xuXG4gICAgY29uc3QgbWFya2VyUHJldmlvdXMgPSBtYXJrZXJzW21hcmtlcnMubGVuZ3RoIC0gMV07XG5cbiAgICAvLyBubyBuZWVkIGZvciBmaW5kRGVlcE1hcmtlckluZGV4IGJlY2F1c2UgdGhlIGNvb3JkcyBhcmUgYWx3YXlzIGZsYXQgKFBvbHlsaW5lKSBubyBtYXR0ZXIgaWYgTGluZSBvciBQb2x5Z29uXG4gICAgY29uc3QgaW5kZXhNYXJrZXJQcmV2ID0gY29vcmRzLmluZGV4T2YobWFya2VyUHJldmlvdXMuZ2V0TGF0TG5nKCkpO1xuXG4gICAgLy8gKzEgZG9uJ3QgY3V0IG91dCB0aGUgcHJldmlvdXMgbWFya2VyXG4gICAgY29vcmRzID0gY29vcmRzLnNsaWNlKDAsIGluZGV4TWFya2VyUHJldiArIDEpO1xuXG4gICAgLy8gdXBkYXRlIGxheWVyIHdpdGggbmV3IGNvb3Jkc1xuICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MoY29vcmRzKTtcbiAgICB0aGlzLl9sYXllci5fbGF0bG5nSW5mby5wb3AoKTtcblxuICAgIC8vIHN5bmMgdGhlIGhpbnRsaW5lIGFnYWluXG4gICAgdGhpcy5fc3luY0hpbnRMaW5lKCk7XG4gICAgdGhpcy5fc2V0VG9vbHRpcFRleHQoKTtcblxuICAgIHRoaXMuX2ZpcmVWZXJ0ZXhSZW1vdmVkKHJlbW92ZWRNYXJrZXIsIGluZGV4UGF0aCwgJ0RyYXcnKTtcbiAgICB0aGlzLl9jaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpKTtcbiAgfSxcbiAgX2ZpbmlzaFNoYXBlKCkge1xuICAgIC8vIGlmIHNlbGYgaW50ZXJzZWN0aW9uIGlzIG5vdCBhbGxvd2VkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb24oZmFsc2UpO1xuXG4gICAgICBpZiAodGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHNuYXAgZmluaXNoIGlzIHJlcXVpcmVkIGJ1dCB0aGUgbGFzdCBtYXJrZXIgd2Fzbid0IHNuYXBwZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9ucy5yZXF1aXJlU25hcFRvRmluaXNoICYmXG4gICAgICAhdGhpcy5faGludE1hcmtlci5fc25hcHBlZCAmJlxuICAgICAgIXRoaXMuX2lzRmlyc3RMYXllcigpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvb3JkaW5hdGVzXG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgY29vcmRzLCBkb24ndCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmIChjb29yZHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgdGhlIGxlYWZsZXQgc2hhcGUgYW5kIGFkZCBpdCB0byB0aGUgbWFwXG4gICAgY29uc3QgcG9seWxpbmVMYXllciA9IEwucG9seWxpbmUoY29vcmRzLCB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMpO1xuICAgIHRoaXMuX3NldFBhbmUocG9seWxpbmVMYXllciwgJ2xheWVyUGFuZScpO1xuICAgIHRoaXMuX2ZpbmlzaExheWVyKHBvbHlsaW5lTGF5ZXIpO1xuICAgIHBvbHlsaW5lTGF5ZXIuYWRkVG8odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG5cbiAgICAvLyBmaXJlIHRoZSBwbTpjcmVhdGUgZXZlbnQgYW5kIHBhc3Mgc2hhcGUgYW5kIGxheWVyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShwb2x5bGluZUxheWVyKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmdcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIF9jcmVhdGVNYXJrZXIobGF0bG5nKSB7XG4gICAgLy8gY3JlYXRlIHRoZSBuZXcgbWFya2VyXG4gICAgY29uc3QgbWFya2VyID0gbmV3IEwuTWFya2VyKGxhdGxuZywge1xuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKG1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcbiAgICBtYXJrZXIuX3BtVGVtcExheWVyID0gdHJ1ZTtcblxuICAgIC8vIGFkZCBpdCB0byB0aGUgbWFwXG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcihtYXJrZXIpO1xuICAgIHRoaXMuX21hcmtlcnMucHVzaChtYXJrZXIpO1xuXG4gICAgLy8gYSBjbGljayBvbiBhbnkgbWFya2VyIGZpbmlzaGVzIHRoaXMgc2hhcGVcbiAgICBtYXJrZXIub24oJ2NsaWNrJywgdGhpcy5fZmluaXNoU2hhcGUsIHRoaXMpO1xuXG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfSxcbiAgX3NldFRvb2x0aXBUZXh0KCkge1xuICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkuZmxhdCgpO1xuICAgIGxldCB0ZXh0ID0gJyc7XG5cbiAgICAvLyBoYW5kbGUgdG9vbHRpcCB0ZXh0XG4gICAgaWYgKGxlbmd0aCA8PSAxKSB7XG4gICAgICB0ZXh0ID0gZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLmNvbnRpbnVlTGluZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0ID0gZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLmZpbmlzaExpbmUnKTtcbiAgICB9XG4gICAgdGhpcy5faGludE1hcmtlci5zZXRUb29sdGlwQ29udGVudCh0ZXh0KTtcbiAgfSxcbiAgX2NoYW5nZShsYXRsbmdzKSB7XG4gICAgdGhpcy5fZmlyZUNoYW5nZShsYXRsbmdzLCAnRHJhdycpO1xuICB9LFxuICBzZXRTdHlsZSgpIHtcbiAgICB0aGlzLl9sYXllcj8uc2V0U3R5bGUodGhpcy5vcHRpb25zLnRlbXBsaW5lU3R5bGUpO1xuICAgIHRoaXMuX2hpbnRsaW5lPy5zZXRTdHlsZSh0aGlzLm9wdGlvbnMuaGludGxpbmVTdHlsZSk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRHJhdyBmcm9tICcuL0wuUE0uRHJhdyc7XG5pbXBvcnQgeyBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5EcmF3LlBvbHlnb24gPSBEcmF3LkxpbmUuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgdGhpcy5fc2hhcGUgPSAnUG9seWdvbic7XG4gICAgdGhpcy50b29sYmFyQnV0dG9uTmFtZSA9ICdkcmF3UG9seWdvbic7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zKSB7XG4gICAgTC5QTS5EcmF3LkxpbmUucHJvdG90eXBlLmVuYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIC8vIE92ZXJ3cml0ZSB0aGUgc2hhcGUgXCJMaW5lXCIgb2YgdGhpcy5fbGF5ZXJcbiAgICB0aGlzLl9sYXllci5wbS5fc2hhcGUgPSAnUG9seWdvbic7XG4gIH0sXG4gIF9jcmVhdGVNYXJrZXIobGF0bG5nKSB7XG4gICAgLy8gY3JlYXRlIHRoZSBuZXcgbWFya2VyXG4gICAgY29uc3QgbWFya2VyID0gbmV3IEwuTWFya2VyKGxhdGxuZywge1xuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKG1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcblxuICAgIC8vIG1hcmsgdGhpcyBtYXJrZXIgYXMgdGVtcG9yYXJ5XG4gICAgbWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICAvLyBhZGQgaXQgdG8gdGhlIG1hcFxuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIobWFya2VyKTtcbiAgICB0aGlzLl9tYXJrZXJzLnB1c2gobWFya2VyKTtcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBtYXJrZXIgZ2V0cyBjbGlja2VkIGFnYWluLCBmaW5pc2ggdGhpcyBzaGFwZVxuICAgIGlmICh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkuZmxhdCgpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbWFya2VyLm9uKCdjbGljaycsIHRoaXMuX2ZpbmlzaFNoYXBlLCB0aGlzKTtcblxuICAgICAgLy8gYWRkIHRoZSBmaXJzdCB2ZXJ0ZXggdG8gXCJvdGhlciBzbmFwcGluZyBsYXllcnNcIiBzbyB0aGUgcG9seWdvbiBpcyBlYXNpZXIgdG8gZmluaXNoXG4gICAgICB0aGlzLl90ZW1wU25hcExheWVySW5kZXggPSB0aGlzLl9vdGhlclNuYXBMYXllcnMucHVzaChtYXJrZXIpIC0gMTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFkZCBhIGNsaWNrIGV2ZW50IHcvIG5vIGhhbmRsZXIgdG8gdGhlIG1hcmtlclxuICAgICAgLy8gZXZlbnQgd29uJ3QgYnViYmxlIHNvIHByZXZlbnRzIGNyZWF0aW9uIG9mIGlkZW50aWNhbCBtYXJrZXJzIGluIHNhbWUgcG9seWdvblxuICAgICAgLy8gZml4ZXMgaXNzdWUgd2hlcmUgZG91YmxlIGNsaWNrIGR1cmluZyBwb2x5IGNyZWF0aW9uIHdoZW4gYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiBmYWxzZSBjYXVzZWQgaXQgdG8gYnJlYWtcbiAgICAgIG1hcmtlci5vbignY2xpY2snLCAoKSA9PiAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuICBfc2V0VG9vbHRpcFRleHQoKSB7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKS5mbGF0KCk7XG4gICAgbGV0IHRleHQgPSAnJztcblxuICAgIC8vIGhhbmRsZSB0b29sdGlwIHRleHRcbiAgICBpZiAobGVuZ3RoIDw9IDIpIHtcbiAgICAgIHRleHQgPSBnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuY29udGludWVMaW5lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHQgPSBnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmluaXNoUG9seScpO1xuICAgIH1cbiAgICB0aGlzLl9oaW50TWFya2VyLnNldFRvb2x0aXBDb250ZW50KHRleHQpO1xuICB9LFxuICBfZmluaXNoU2hhcGUoKSB7XG4gICAgLy8gaWYgc2VsZiBpbnRlcnNlY3Rpb24gaXMgbm90IGFsbG93ZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgLy8gQ2hlY2sgaWYgcG9seWdvbiBpbnRlcnNlY3RzIHdoZW4gaXMgY29tcGxldGVkIGFuZCB0aGUgbGluZSBiZXR3ZWVuIHRoZSBsYXN0IGFuZCB0aGUgZmlyc3QgcG9pbnQgaXMgZHJhd25cbiAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb24odHJ1ZSwgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdKTtcblxuICAgICAgaWYgKHRoaXMuX2RvZXNTZWxmSW50ZXJzZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBzbmFwIGZpbmlzaCBpcyByZXF1aXJlZCBidXQgdGhlIGxhc3QgbWFya2VyIHdhc24ndCBzbmFwcGVkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZVNuYXBUb0ZpbmlzaCAmJlxuICAgICAgIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQgJiZcbiAgICAgICF0aGlzLl9pc0ZpcnN0TGF5ZXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlc1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKTtcblxuICAgIC8vIG9ubHkgZmluaXNoIHRoZSBzaGFwZSBpZiB0aGVyZSBhcmUgMyBvciBtb3JlIHZlcnRpY2VzXG4gICAgaWYgKGNvb3Jkcy5sZW5ndGggPD0gMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBvbHlnb25MYXllciA9IEwucG9seWdvbihjb29yZHMsIHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucyk7XG4gICAgdGhpcy5fc2V0UGFuZShwb2x5Z29uTGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9maW5pc2hMYXllcihwb2x5Z29uTGF5ZXIpO1xuICAgIHBvbHlnb25MYXllci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbGF5ZXJcbiAgICB0aGlzLl9maXJlQ3JlYXRlKHBvbHlnb25MYXllcik7XG5cbiAgICAvLyBjbGVhbiB1cCBzbmFwcGluZyBzdGF0ZXNcbiAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcblxuICAgIC8vIHJlbW92ZSB0aGUgZmlyc3QgdmVydGV4IGZyb20gXCJvdGhlciBzbmFwcGluZyBsYXllcnNcIlxuICAgIHRoaXMuX290aGVyU25hcExheWVycy5zcGxpY2UodGhpcy5fdGVtcFNuYXBMYXllckluZGV4LCAxKTtcbiAgICBkZWxldGUgdGhpcy5fdGVtcFNuYXBMYXllckluZGV4O1xuXG4gICAgLy8gZGlzYWJsZSBkcmF3aW5nXG4gICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb250aW51ZURyYXdpbmcpIHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9LFxufSk7XG4iLCAiaW1wb3J0IERyYXcgZnJvbSAnLi9MLlBNLkRyYXcnO1xuaW1wb3J0IHsgZml4TGF0T2Zmc2V0LCBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5EcmF3LlJlY3RhbmdsZSA9IERyYXcuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgdGhpcy5fc2hhcGUgPSAnUmVjdGFuZ2xlJztcbiAgICB0aGlzLnRvb2xiYXJCdXR0b25OYW1lID0gJ2RyYXdSZWN0YW5nbGUnO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIC8vIFRPRE86IFRoaW5rIGFib3V0IGlmIHRoZXNlIG9wdGlvbnMgY291bGQgYmUgcGFzc2VkIGdsb2JhbGx5IGZvciBhbGxcbiAgICAvLyBpbnN0YW5jZXMgb2YgTC5QTS5EcmF3LiBTbyBhIGRldiBjb3VsZCBzZXQgZHJhd2luZyBzdHlsZSBvbmUgdGltZSBhcyBzb21lIGtpbmQgb2YgY29uZmlnXG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBlbmFibGUgZHJhdyBtb2RlXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBjcmVhdGUgYSBuZXcgbGF5ZXJncm91cFxuICAgIHRoaXMuX2xheWVyR3JvdXAgPSBuZXcgTC5GZWF0dXJlR3JvdXAoKTtcbiAgICB0aGlzLl9sYXllckdyb3VwLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRUbyh0aGlzLl9tYXApO1xuXG4gICAgLy8gdGhlIHJlY3RhbmdsZSB3ZSB3YW50IHRvIGRyYXdcbiAgICB0aGlzLl9sYXllciA9IEwucmVjdGFuZ2xlKFxuICAgICAgW1xuICAgICAgICBbMCwgMF0sXG4gICAgICAgIFswLCAwXSxcbiAgICAgIF0sXG4gICAgICB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnNcbiAgICApO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5fbGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9sYXllci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgbWFya2VyIGF0IHRoZSBvcmlnaW4gb2YgdGhlIHJlY3RhbmdsZVxuICAgIC8vIHRoaXMgbmVlZHMgdG8gYmUgcHJlc2VudCwgZm9yIHRyYWNraW5nIHB1cnBvc2VzLCBidXQgd2UnbGwgbWFrZSBpdCBpbnZpc2libGUgaWYgYSB1c2VyIGRvZXNuJ3Qgd2FudCB0byBzZWUgaXQhXG4gICAgdGhpcy5fc3RhcnRNYXJrZXIgPSBMLm1hcmtlcih0aGlzLl9tYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uIHJlY3Qtc3RhcnQtbWFya2VyJyB9KSxcbiAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICB6SW5kZXhPZmZzZXQ6IC0xMDAsXG4gICAgICBvcGFjaXR5OiB0aGlzLm9wdGlvbnMuY3Vyc29yTWFya2VyID8gMSA6IDAsXG4gICAgfSk7XG4gICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9zdGFydE1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcbiAgICB0aGlzLl9zdGFydE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5fc3RhcnRNYXJrZXIpO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgaGludG1hcmtlciBvbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgdGhpcy5faGludE1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgekluZGV4T2Zmc2V0OiAxNTAsXG4gICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiBjdXJzb3ItbWFya2VyJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5faGludE1hcmtlcik7XG5cbiAgICAvLyBzaG93IHRoZSBoaW50bWFya2VyIGlmIHRoZSBvcHRpb24gaXMgc2V0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9oaW50TWFya2VyLl9pY29uLCAndmlzaWJsZScpO1xuICAgIH1cblxuICAgIC8vIGFkZCB0b29sdGlwIHRvIGhpbnRtYXJrZXJcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyXG4gICAgICAgIC5iaW5kVG9vbHRpcChnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmlyc3RWZXJ0ZXgnKSwge1xuICAgICAgICAgIHBlcm1hbmVudDogdHJ1ZSxcbiAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQoMCwgMTApLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JvdHRvbScsXG5cbiAgICAgICAgICBvcGFjaXR5OiAwLjgsXG4gICAgICAgIH0pXG4gICAgICAgIC5vcGVuVG9vbHRpcCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3Vyc29yTWFya2VyKSB7XG4gICAgICAvLyBBZGQgdHdvIG1vcmUgbWF0Y2hpbmcgc3R5bGUgbWFya2VycywgaWYgY3Vyc29yIG1hcmtlciBpcyByZW5kZXJlZFxuICAgICAgdGhpcy5fc3R5bGVNYXJrZXJzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBzdHlsZU1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgICAgIGljb246IEwuZGl2SWNvbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiByZWN0LXN0eWxlLW1hcmtlcicsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgICB6SW5kZXhPZmZzZXQ6IDEwMCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NldFBhbmUoc3R5bGVNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgICAgIHN0eWxlTWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIoc3R5bGVNYXJrZXIpO1xuXG4gICAgICAgIHRoaXMuX3N0eWxlTWFya2Vycy5wdXNoKHN0eWxlTWFya2VyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGFuZ2UgbWFwIGN1cnNvclxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QuYWRkKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIGNyZWF0ZSBhIHBvbHlnb24tcG9pbnQgb24gY2xpY2tcbiAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fcGxhY2VTdGFydGluZ01hcmtlcnMsIHRoaXMpO1xuXG4gICAgLy8gc3luYyBoaW50IG1hcmtlciB3aXRoIG1vdXNlIGN1cnNvclxuICAgIHRoaXMuX21hcC5vbignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZW5hYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgdHJ1ZSk7XG5cbiAgICAvLyBhbiBhcnJheSB1c2VkIGluIHRoZSBzbmFwcGluZyBtaXhpbi5cbiAgICAvLyBUT0RPOiB0aGluayBhYm91dCBtb3ZpbmcgdGhpcyBzb21ld2hlcmUgZWxzZT9cbiAgICB0aGlzLl9vdGhlclNuYXBMYXllcnMgPSBbXTtcblxuICAgIC8vIGZpcmUgZHJhd3N0YXJ0IGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdTdGFydCgpO1xuICAgIHRoaXMuX3NldEdsb2JhbERyYXdNb2RlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gZGlzYWJsZSBkcmF3aW5nIG1vZGVcblxuICAgIC8vIGNhbmNlbCwgaWYgZHJhd2luZyBtb2RlIGlzbid0IGV2ZW50IGVuYWJsZWRcbiAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyByZXNldCBjdXJzb3JcbiAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuY2xhc3NMaXN0LnJlbW92ZSgnZ2VvbWFuLWRyYXctY3Vyc29yJyk7XG5cbiAgICAvLyB1bmJpbmQgbGlzdGVuZXJzXG4gICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9maW5pc2hTaGFwZSwgdGhpcyk7XG4gICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9wbGFjZVN0YXJ0aW5nTWFya2VycywgdGhpcyk7XG4gICAgdGhpcy5fbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gcmVtb3ZlIGhlbHBpbmcgbGF5ZXJzXG4gICAgdGhpcy5fbWFwLnJlbW92ZUxheWVyKHRoaXMuX2xheWVyR3JvdXApO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuICAgIC8vIGZpcmUgZHJhd2VuZCBldmVudFxuICAgIHRoaXMuX2ZpcmVEcmF3RW5kKCk7XG4gICAgdGhpcy5fc2V0R2xvYmFsRHJhd01vZGUoKTtcbiAgfSxcbiAgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgfSxcbiAgdG9nZ2xlKG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuYWJsZShvcHRpb25zKTtcbiAgICB9XG4gIH0sXG4gIF9wbGFjZVN0YXJ0aW5nTWFya2VycyhlKSB7XG4gICAgLy8gYXNzaWduIHRoZSBjb29yZGluYXRlIG9mIHRoZSBjbGljayB0byB0aGUgaGludE1hcmtlciwgdGhhdCdzIG5lY2Vzc2FyeSBmb3JcbiAgICAvLyBtb2JpbGUgd2hlcmUgdGhlIG1hcmtlciBjYW4ndCBmb2xsb3cgYSBjdXJzb3JcbiAgICBpZiAoIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZSBmb3IgbmV3IHZlcnRleCBieSBoaW50TWFya2VyIChjdXJzb3IgbWFya2VyKVxuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICAvLyBzaG93IGFuZCBwbGFjZSBzdGFydCBtYXJrZXJcbiAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fc3RhcnRNYXJrZXIuX2ljb24sICd2aXNpYmxlJyk7XG4gICAgdGhpcy5fc3RhcnRNYXJrZXIuc2V0TGF0TG5nKGxhdGxuZyk7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIHRoZSBvdGhlciB0d28gdmlzaWJpbHR5IG1hcmtlcnMsIHNob3cgYW5kIHBsYWNlIHRoZW0gbm93XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIgJiYgdGhpcy5fc3R5bGVNYXJrZXJzKSB7XG4gICAgICB0aGlzLl9zdHlsZU1hcmtlcnMuZm9yRWFjaCgoc3R5bGVNYXJrZXIpID0+IHtcbiAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHN0eWxlTWFya2VyLl9pY29uLCAndmlzaWJsZScpO1xuICAgICAgICBzdHlsZU1hcmtlci5zZXRMYXRMbmcobGF0bG5nKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fcGxhY2VTdGFydGluZ01hcmtlcnMsIHRoaXMpO1xuICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9maW5pc2hTaGFwZSwgdGhpcyk7XG5cbiAgICAvLyBjaGFuZ2UgdG9vbHRpcCB0ZXh0XG4gICAgdGhpcy5faGludE1hcmtlci5zZXRUb29sdGlwQ29udGVudChnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmluaXNoUmVjdCcpKTtcblxuICAgIHRoaXMuX3NldFJlY3RhbmdsZU9yaWdpbigpO1xuICB9LFxuICBfc2V0UmVjdGFuZ2xlT3JpZ2luKCkge1xuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX3N0YXJ0TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgaWYgKGxhdGxuZykge1xuICAgICAgLy8gc2hvdyBpdCBmaXJzdFxuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9sYXllcik7XG5cbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MoW2xhdGxuZywgbGF0bG5nXSk7XG5cbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9zeW5jUmVjdGFuZ2xlU2l6ZSwgdGhpcyk7XG4gICAgfVxuICB9LFxuICBfc3luY0hpbnRNYXJrZXIoZSkge1xuICAgIC8vIG1vdmUgdGhlIGN1cnNvciBtYXJrZXJcbiAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG5cbiAgICAvLyBpZiBzbmFwcGluZyBpcyBlbmFibGVkLCBkbyBpdFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICBjb25zdCBmYWtlRHJhZ0V2ZW50ID0gZTtcbiAgICAgIGZha2VEcmFnRXZlbnQudGFyZ2V0ID0gdGhpcy5faGludE1hcmtlcjtcbiAgICAgIHRoaXMuX2hhbmRsZVNuYXBwaW5nKGZha2VEcmFnRXZlbnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGxhdGxuZ3MgPVxuICAgICAgdGhpcy5fbGF5ZXJHcm91cCAmJiB0aGlzLl9sYXllckdyb3VwLmhhc0xheWVyKHRoaXMuX2xheWVyKVxuICAgICAgICA/IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKVxuICAgICAgICA6IFt0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpXTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKGxhdGxuZ3MsICdEcmF3Jyk7XG4gIH0sXG4gIF9zeW5jUmVjdGFuZ2xlU2l6ZSgpIHtcbiAgICBjb25zdCBBID0gZml4TGF0T2Zmc2V0KHRoaXMuX3N0YXJ0TWFya2VyLmdldExhdExuZygpLCB0aGlzLl9tYXApO1xuICAgIGNvbnN0IEIgPSBmaXhMYXRPZmZzZXQodGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKSwgdGhpcy5fbWFwKTtcblxuICAgIC8vIENyZWF0ZSBhIChtYXliZSByb3RhdGVkKSBib3ggdXNpbmcgY29ybmVycyBBICYgQiAoQSA9IFN0YXJ0aW5nIFBvc2l0aW9uLCBCID0gQ3VycmVudCBNb3VzZSBQb3NpdGlvbilcbiAgICBjb25zdCBjb3JuZXJzID0gTC5QTS5VdGlscy5fZ2V0Um90YXRlZFJlY3RhbmdsZShcbiAgICAgIEEsXG4gICAgICBCLFxuICAgICAgdGhpcy5vcHRpb25zLnJlY3RhbmdsZUFuZ2xlIHx8IDAsXG4gICAgICB0aGlzLl9tYXBcbiAgICApO1xuICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MoY29ybmVycyk7XG5cbiAgICAvLyBBZGQgbWF0Y2hpbmcgc3R5bGUgbWFya2VycywgaWYgY3Vyc29yIG1hcmtlciBpcyBzaG93blxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3Vyc29yTWFya2VyICYmIHRoaXMuX3N0eWxlTWFya2Vycykge1xuICAgICAgY29uc3QgdW5tYXJrZWRDb3JuZXJzID0gW107XG5cbiAgICAgIC8vIEZpbmQgdHdvIGNvcm5lcnMgbm90IGN1cnJlbnRseSBvY2N1cGllZCBieSBzdGFydGluZyBtYXJrZXIgYW5kIGhpbnQgbWFya2VyXG4gICAgICBjb3JuZXJzLmZvckVhY2goKGNvcm5lcikgPT4ge1xuICAgICAgICAvLyB0aGUgZGVmYXVsdCBlcXVhbHMgbWFyZ2luIGlzIDEuMGUtOSBidXQgaW4gb3RoZXIgY3JzIHByb2plY3Rpb25zIHRoZSBsYXRsbmcgZXF1YWxpdHkgY2FuIGJlIHNsaWdodGx5IGRpZmZlcmVudCBhZnRlciBgX2dldFJvdGF0ZWRSZWN0YW5nbGVgLCBzbyB3ZSBtYWtlIHRoZSBwcmVjZXNzaW9uIGEgbGl0dGxlIGJpdCBsb3dlclxuICAgICAgICBpZiAoIWNvcm5lci5lcXVhbHMoQSwgMS4wZS04KSAmJiAhY29ybmVyLmVxdWFscyhCLCAxLjBlLTgpKSB7XG4gICAgICAgICAgdW5tYXJrZWRDb3JuZXJzLnB1c2goY29ybmVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlcG9zaXRpb24gc3R5bGUgbWFya2Vyc1xuICAgICAgdW5tYXJrZWRDb3JuZXJzLmZvckVhY2goKHVubWFya2VkQ29ybmVyLCBpbmRleCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuX3N0eWxlTWFya2Vyc1tpbmRleF0uc2V0TGF0TG5nKHVubWFya2VkQ29ybmVyKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlnbm9yZSBlcnJvciAtIHNob3VsZCBiZSBmaXhlZCB3aXRoIHRoZSBuZXh0IG1vdXNlbW92ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIF9maW5kQ29ybmVycygpIHtcbiAgICBjb25zdCBsYXRsbmdzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdO1xuICAgIHJldHVybiBMLlBNLlV0aWxzLl9nZXRSb3RhdGVkUmVjdGFuZ2xlKFxuICAgICAgbGF0bG5nc1swXSxcbiAgICAgIGxhdGxuZ3NbMl0sXG4gICAgICB0aGlzLm9wdGlvbnMucmVjdGFuZ2xlQW5nbGUgfHwgMCxcbiAgICAgIHRoaXMuX21hcFxuICAgICk7XG4gIH0sXG4gIF9maW5pc2hTaGFwZShlKSB7XG4gICAgLy8gYXNzaWduIHRoZSBjb29yZGluYXRlIG9mIHRoZSBjbGljayB0byB0aGUgaGludE1hcmtlciwgdGhhdCdzIG5lY2Vzc2FyeSBmb3JcbiAgICAvLyBtb2JpbGUgd2hlcmUgdGhlIG1hcmtlciBjYW4ndCBmb2xsb3cgYSBjdXJzb3JcbiAgICBpZiAoIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZSBmb3IgbmV3IHZlcnRleCBieSBoaW50TWFya2VyIChjdXJzb3IgbWFya2VyKVxuICAgIGNvbnN0IEIgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuICAgIC8vIGdldCBhbHJlYWR5IHBsYWNlZCBjb3JuZXIgZnJvbSB0aGUgc3RhcnRtYXJrZXJcbiAgICBjb25zdCBBID0gdGhpcy5fc3RhcnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICAvLyBJZiBzbmFwIGZpbmlzaCBpcyByZXF1aXJlZCBidXQgdGhlIGxhc3QgbWFya2VyIHdhc24ndCBzbmFwcGVkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZVNuYXBUb0ZpbmlzaCAmJlxuICAgICAgIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQgJiZcbiAgICAgICF0aGlzLl9pc0ZpcnN0TGF5ZXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChBLmVxdWFscyhCKSkge1xuICAgICAgLy8gcmVjdGFuZ2xlIGhhcyBvbmx5IG9uZSBwb2ludFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSB0aGUgZmluYWwgcmVjdGFuZ2xlIGxheWVyLCBiYXNlZCBvbiBvcHBvc2l0ZSBjb3JuZXJzIEEgJiBCXG4gICAgY29uc3QgcmVjdGFuZ2xlTGF5ZXIgPSBMLnJlY3RhbmdsZShbQSwgQl0sIHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucyk7XG5cbiAgICAvLyByZWN0YW5nbGUgY2FuIG9ubHkgaW5pdGlhbGl6ZWQgd2l0aCBib3VuZHMgKG5vdCB3b3JraW5nIHdpdGggcm90YXRpb24pIHNvIHdlIHVwZGF0ZSB0aGUgbGF0bG5nc1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVjdGFuZ2xlQW5nbGUpIHtcbiAgICAgIGNvbnN0IGNvcm5lcnMgPSBMLlBNLlV0aWxzLl9nZXRSb3RhdGVkUmVjdGFuZ2xlKFxuICAgICAgICBBLFxuICAgICAgICBCLFxuICAgICAgICB0aGlzLm9wdGlvbnMucmVjdGFuZ2xlQW5nbGUgfHwgMCxcbiAgICAgICAgdGhpcy5fbWFwXG4gICAgICApO1xuICAgICAgcmVjdGFuZ2xlTGF5ZXIuc2V0TGF0TG5ncyhjb3JuZXJzKTtcbiAgICAgIGlmIChyZWN0YW5nbGVMYXllci5wbSkge1xuICAgICAgICByZWN0YW5nbGVMYXllci5wbS5fc2V0QW5nbGUodGhpcy5vcHRpb25zLnJlY3RhbmdsZUFuZ2xlIHx8IDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3NldFBhbmUocmVjdGFuZ2xlTGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9maW5pc2hMYXllcihyZWN0YW5nbGVMYXllcik7XG4gICAgcmVjdGFuZ2xlTGF5ZXIuYWRkVG8odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG5cbiAgICAvLyBmaXJlIHRoZSBwbTpjcmVhdGUgZXZlbnQgYW5kIHBhc3Mgc2hhcGUgYW5kIGxheWVyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShyZWN0YW5nbGVMYXllcik7XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmdcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIHNldFN0eWxlKCkge1xuICAgIHRoaXMuX2xheWVyPy5zZXRTdHlsZSh0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMpO1xuICB9LFxufSk7XG4iLCAiaW1wb3J0IERyYXcgZnJvbSAnLi9MLlBNLkRyYXcnO1xuaW1wb3J0IHsgZGVzdGluYXRpb25PbkxpbmUsIGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkRyYXcuQ2lyY2xlTWFya2VyID0gRHJhdy5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9zaGFwZSA9ICdDaXJjbGVNYXJrZXInO1xuICAgIHRoaXMudG9vbGJhckJ1dHRvbk5hbWUgPSAnZHJhd0NpcmNsZU1hcmtlcic7XG4gICAgLy8gd2l0aCBfbGF5ZXJJc0RyYWdnaW5nIHdlIGNoZWNrIGlmIGEgY2lyY2xlbWFya2VyIGlzIGN1cnJlbnRseSBkcmFnZ2VkIGFuZCBkaXNhYmxlIG1hcmtlciBjcmVhdGlvblxuICAgIHRoaXMuX2xheWVySXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgIHRoaXMuX0Jhc2VDaXJjbGVDbGFzcyA9IEwuQ2lyY2xlTWFya2VyO1xuICAgIHRoaXMuX21pblJhZGl1c09wdGlvbiA9ICdtaW5SYWRpdXNDaXJjbGVNYXJrZXInO1xuICAgIHRoaXMuX21heFJhZGl1c09wdGlvbiA9ICdtYXhSYWRpdXNDaXJjbGVNYXJrZXInO1xuICAgIHRoaXMuX2VkaXRhYmxlT3B0aW9uID0gJ3Jlc2l6ZWFibGVDaXJjbGVNYXJrZXInO1xuICAgIHRoaXMuX2RlZmF1bHRSYWRpdXMgPSAxMDtcbiAgfSxcbiAgZW5hYmxlKG9wdGlvbnMpIHtcbiAgICAvLyBUT0RPOiBUaGluayBhYm91dCBpZiB0aGVzZSBvcHRpb25zIGNvdWxkIGJlIHBhc3NlZCBnbG9iYWxseSBmb3IgYWxsXG4gICAgLy8gaW5zdGFuY2VzIG9mIEwuUE0uRHJhdy4gU28gYSBkZXYgY291bGQgc2V0IGRyYXdpbmcgc3R5bGUgb25lIHRpbWUgYXMgc29tZSBraW5kIG9mIGNvbmZpZ1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIC8vIFRPRE86IHJlbW92ZSB3aXRoIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5yZXNpemVhYmxlQ2lyY2xlTWFya2VyID0gdGhpcy5vcHRpb25zLmVkaXRhYmxlO1xuICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy5lZGl0YWJsZTtcbiAgICB9XG5cbiAgICAvLyBjaGFuZ2UgZW5hYmxlZCBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZW5hYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgdHJ1ZSk7XG5cbiAgICAvLyBjaGFuZ2UgbWFwIGN1cnNvclxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QuYWRkKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIERyYXcgdGhlIENpcmNsZU1hcmtlciBsaWtlIGEgQ2lyY2xlXG4gICAgaWYgKHRoaXMub3B0aW9uc1t0aGlzLl9lZGl0YWJsZU9wdGlvbl0pIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gc2V0IHRoZSByYWRpdXMgdG8gMCB3aXRob3V0IG92ZXJ3cml0aW5nIHRoZSBDaXJjbGVNYXJrZXIgc3R5bGVcbiAgICAgIGNvbnN0IHRlbXBsaW5lU3R5bGUgPSB7fTtcbiAgICAgIEwuZXh0ZW5kKHRlbXBsaW5lU3R5bGUsIHRoaXMub3B0aW9ucy50ZW1wbGluZVN0eWxlKTtcbiAgICAgIHRlbXBsaW5lU3R5bGUucmFkaXVzID0gMDtcblxuICAgICAgLy8gY3JlYXRlIGEgbmV3IGxheWVyZ3JvdXBcbiAgICAgIHRoaXMuX2xheWVyR3JvdXAgPSBuZXcgTC5GZWF0dXJlR3JvdXAoKTtcbiAgICAgIHRoaXMuX2xheWVyR3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkVG8odGhpcy5fbWFwKTtcblxuICAgICAgLy8gdGhpcyBpcyB0aGUgY2lyY2xlIHdlIHdhbnQgdG8gZHJhd1xuICAgICAgdGhpcy5fbGF5ZXIgPSBuZXcgdGhpcy5fQmFzZUNpcmNsZUNsYXNzKFxuICAgICAgICB0aGlzLl9tYXAuZ2V0Q2VudGVyKCksXG4gICAgICAgIHRlbXBsaW5lU3R5bGVcbiAgICAgICk7XG4gICAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2xheWVyLCAnbGF5ZXJQYW5lJyk7XG4gICAgICB0aGlzLl9sYXllci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgICAvLyB0aGlzIGlzIHRoZSBtYXJrZXIgaW4gdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICB0aGlzLl9jZW50ZXJNYXJrZXIgPSBMLm1hcmtlcih0aGlzLl9tYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgICAgaWNvbjogTC5kaXZJY29uKHsgY2xhc3NOYW1lOiAnbWFya2VyLWljb24nIH0pLFxuICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICB6SW5kZXhPZmZzZXQ6IDEwMCxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9jZW50ZXJNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgICB0aGlzLl9jZW50ZXJNYXJrZXIuX3BtVGVtcExheWVyID0gdHJ1ZTtcblxuICAgICAgLy8gdGhpcyBpcyB0aGUgaGludG1hcmtlciBvbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgICB0aGlzLl9oaW50TWFya2VyID0gTC5tYXJrZXIodGhpcy5fbWFwLmdldENlbnRlcigpLCB7XG4gICAgICAgIHpJbmRleE9mZnNldDogMTEwLFxuICAgICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiBjdXJzb3ItbWFya2VyJyB9KSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9oaW50TWFya2VyLCAndmVydGV4UGFuZScpO1xuICAgICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9oaW50TWFya2VyKTtcblxuICAgICAgLy8gc2hvdyB0aGUgaGludG1hcmtlciBpZiB0aGUgb3B0aW9uIGlzIHNldFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIpIHtcbiAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2hpbnRNYXJrZXIuX2ljb24sICd2aXNpYmxlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCB0b29sdGlwIHRvIGhpbnRtYXJrZXJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgICAgdGhpcy5faGludE1hcmtlclxuICAgICAgICAgIC5iaW5kVG9vbHRpcChnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuc3RhcnRDaXJjbGUnKSwge1xuICAgICAgICAgICAgcGVybWFuZW50OiB0cnVlLFxuICAgICAgICAgICAgb2Zmc2V0OiBMLnBvaW50KDAsIDEwKSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ2JvdHRvbScsXG5cbiAgICAgICAgICAgIG9wYWNpdHk6IDAuOCxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vcGVuVG9vbHRpcCgpO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGlzIGlzIHRoZSBoaW50bGluZSBmcm9tIHRoZSBoaW50IG1hcmtlciB0byB0aGUgY2VudGVyIG1hcmtlclxuICAgICAgdGhpcy5faGludGxpbmUgPSBMLnBvbHlsaW5lKFtdLCB0aGlzLm9wdGlvbnMuaGludGxpbmVTdHlsZSk7XG4gICAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRsaW5lLCAnbGF5ZXJQYW5lJyk7XG4gICAgICB0aGlzLl9oaW50bGluZS5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9oaW50bGluZSk7XG4gICAgICAvLyBjcmVhdGUgYSBwb2x5Z29uLXBvaW50IG9uIGNsaWNrXG4gICAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fcGxhY2VDZW50ZXJNYXJrZXIsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjcmVhdGUgYSBtYXJrZXIgb24gY2xpY2sgb24gdGhlIG1hcFxuICAgICAgdGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAgIC8vIHRoaXMgaXMgdGhlIGhpbnRtYXJrZXIgb24gdGhlIG1vdXNlIGN1cnNvclxuICAgICAgdGhpcy5faGludE1hcmtlciA9IG5ldyB0aGlzLl9CYXNlQ2lyY2xlQ2xhc3ModGhpcy5fbWFwLmdldENlbnRlcigpLCB7XG4gICAgICAgIHJhZGl1czogdGhpcy5fZGVmYXVsdFJhZGl1cyxcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLnRlbXBsaW5lU3R5bGUsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludE1hcmtlciwgJ2xheWVyUGFuZScpO1xuICAgICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5faGludE1hcmtlci5hZGRUbyh0aGlzLl9tYXApO1xuICAgICAgLy8gdGhpcyBpcyBqdXN0IHRvIGtlZXAgdGhlIHNuYXBwYWJsZSBtaXhpbiBoYXBweVxuICAgICAgdGhpcy5fbGF5ZXIgPSB0aGlzLl9oaW50TWFya2VyO1xuXG4gICAgICAvLyBhZGQgdG9vbHRpcCB0byBoaW50bWFya2VyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICAgIHRoaXMuX2hpbnRNYXJrZXJcbiAgICAgICAgICAuYmluZFRvb2x0aXAoZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLnBsYWNlQ2lyY2xlTWFya2VyJyksIHtcbiAgICAgICAgICAgIHBlcm1hbmVudDogdHJ1ZSxcbiAgICAgICAgICAgIG9mZnNldDogTC5wb2ludCgwLCAxMCksXG4gICAgICAgICAgICBkaXJlY3Rpb246ICdib3R0b20nLFxuXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjgsXG4gICAgICAgICAgfSlcbiAgICAgICAgICAub3BlblRvb2x0aXAoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzeW5jIGhpbnQgbWFya2VyIHdpdGggbW91c2UgY3Vyc29yXG4gICAgdGhpcy5fbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICB0aGlzLl9leHRlbmRpbmdFbmFibGUoKTtcblxuICAgIC8vIGFuIGFycmF5IHVzZWQgaW4gdGhlIHNuYXBwaW5nIG1peGluLlxuICAgIC8vIFRPRE86IHRoaW5rIGFib3V0IG1vdmluZyB0aGlzIHNvbWV3aGVyZSBlbHNlP1xuICAgIHRoaXMuX290aGVyU25hcExheWVycyA9IFtdO1xuXG4gICAgLy8gZmlyZSBkcmF3c3RhcnQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhd1N0YXJ0KCk7XG4gICAgdGhpcy5fc2V0R2xvYmFsRHJhd01vZGUoKTtcbiAgfSxcbiAgX2V4dGVuZGluZ0VuYWJsZSgpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9uc1t0aGlzLl9lZGl0YWJsZU9wdGlvbl0gJiYgdGhpcy5vcHRpb25zLm1hcmtlckVkaXRhYmxlKSB7XG4gICAgICAvLyBlbmFibGUgZWRpdCBtb2RlIGZvciBleGlzdGluZyBtYXJrZXJzXG4gICAgICB0aGlzLl9tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc1JlbGV2YW50TWFya2VyKGxheWVyKSkge1xuICAgICAgICAgIGxheWVyLnBtLmVuYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXllci5icmluZ1RvQmFjaygpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIGNhbmNlbCwgaWYgZHJhd2luZyBtb2RlIGlzbid0IGV2ZW4gZW5hYmxlZFxuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBjaGFuZ2UgZW5hYmxlZCBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8vIHJlc2V0IGN1cnNvclxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QucmVtb3ZlKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIGRpc2FibGUgd2hlbiBkcmF3aW5nIGxpa2UgYSBDaXJjbGVcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgLy8gdW5iaW5kIGxpc3RlbmVyc1xuICAgICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9maW5pc2hTaGFwZSwgdGhpcyk7XG4gICAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX3BsYWNlQ2VudGVyTWFya2VyLCB0aGlzKTtcblxuICAgICAgLy8gcmVtb3ZlIGhlbHBpbmcgbGF5ZXJzXG4gICAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGF5ZXJHcm91cCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVuZGJpbmQgY2xpY2sgZXZlbnQsIGRvbid0IGNyZWF0ZSBhIG1hcmtlciBvbiBjbGljayBhbnltb3JlXG4gICAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAgIHRoaXMuX2V4dGVuZGluZ0Rpc2FibGUoKTtcblxuICAgICAgLy8gcmVtb3ZlIGhpbnQgbWFya2VyXG4gICAgICB0aGlzLl9oaW50TWFya2VyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBldmVudCBsaXN0ZW5lciB0byBzeW5jIGhpbnQgbWFya2VyXG4gICAgdGhpcy5fbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBkcmF3ZW5kIGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdFbmQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBfZXh0ZW5kaW5nRGlzYWJsZSgpIHtcbiAgICAvLyBkaXNhYmxlIGRyYWdnaW5nIGFuZCByZW1vdmluZyBmb3IgYWxsIG1hcmtlcnNcbiAgICB0aGlzLl9tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNSZWxldmFudE1hcmtlcihsYXllcikpIHtcbiAgICAgICAgbGF5ZXIucG0uZGlzYWJsZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgX3BsYWNlQ2VudGVyTWFya2VyKGUpIHtcbiAgICB0aGlzLl9sYXllckdyb3VwLmFkZExheWVyKHRoaXMuX2xheWVyKTtcbiAgICB0aGlzLl9sYXllckdyb3VwLmFkZExheWVyKHRoaXMuX2NlbnRlck1hcmtlcik7XG4gICAgLy8gYXNzaWduIHRoZSBjb29yZGluYXRlIG9mIHRoZSBjbGljayB0byB0aGUgaGludE1hcmtlciwgdGhhdCdzIG5lY2Vzc2FyeSBmb3JcbiAgICAvLyBtb2JpbGUgd2hlcmUgdGhlIG1hcmtlciBjYW4ndCBmb2xsb3cgYSBjdXJzb3JcbiAgICBpZiAoIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZSBmb3IgbmV3IHZlcnRleCBieSBoaW50TWFya2VyIChjdXJzb3IgbWFya2VyKVxuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9sYXllcik7XG5cbiAgICB0aGlzLl9jZW50ZXJNYXJrZXIuc2V0TGF0TG5nKGxhdGxuZyk7XG5cbiAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX3BsYWNlQ2VudGVyTWFya2VyLCB0aGlzKTtcbiAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fZmluaXNoU2hhcGUsIHRoaXMpO1xuXG4gICAgdGhpcy5fcGxhY2VDaXJjbGVDZW50ZXIoKTtcbiAgfSxcbiAgX3BsYWNlQ2lyY2xlQ2VudGVyKCkge1xuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIGlmIChsYXRsbmcpIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZyhsYXRsbmcpO1xuXG4gICAgICAvLyBzeW5jIHRoZSBoaW50bGluZSB3aXRoIGhpbnQgbWFya2VyXG4gICAgICB0aGlzLl9oaW50TWFya2VyLm9uKCdtb3ZlJywgdGhpcy5fc3luY0hpbnRMaW5lLCB0aGlzKTtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9zeW5jQ2lyY2xlUmFkaXVzLCB0aGlzKTtcblxuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRUb29sdGlwQ29udGVudChcbiAgICAgICAgZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLmZpbmlzaENpcmNsZScpXG4gICAgICApO1xuXG4gICAgICB0aGlzLl9maXJlQ2VudGVyUGxhY2VkKCk7XG4gICAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZygpLCAnRHJhdycpO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TGluZSgpIHtcbiAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgY29uc3Qgc2Vjb25kTGF0TG5nID0gdGhpcy5fZ2V0TmV3RGVzdGluYXRpb25PZkhpbnRNYXJrZXIoKTtcbiAgICAvLyBzZXQgY29vcmRzIGZvciBoaW50bGluZSBmcm9tIG1hcmtlciB0byBsYXN0IHZlcnRleCBvZiBkcmF3aW4gcG9seWxpbmVcbiAgICB0aGlzLl9oaW50bGluZS5zZXRMYXRMbmdzKFtsYXRsbmcsIHNlY29uZExhdExuZ10pO1xuICB9LFxuICBfc3luY0NpcmNsZVJhZGl1cygpIHtcbiAgICBjb25zdCBBID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgIGNvbnN0IEIgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLl9kaXN0YW5jZUNhbGN1bGF0aW9uKEEsIEIpO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0gJiZcbiAgICAgIGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl1cbiAgICApIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldFJhZGl1cyh0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dICYmXG4gICAgICBkaXN0YW5jZSA+IHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dXG4gICAgKSB7XG4gICAgICB0aGlzLl9sYXllci5zZXRSYWRpdXModGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sYXllci5zZXRSYWRpdXMoZGlzdGFuY2UpO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TWFya2VyKGUpIHtcbiAgICAvLyBtb3ZlIHRoZSBjdXJzb3IgbWFya2VyXG4gICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IGxhdGxuZyBvZiBtYXJrZXIgaWYgcmFkaXVzIGlzIG91dCBvZiBtaW4vbWF4XG4gICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcodGhpcy5fZ2V0TmV3RGVzdGluYXRpb25PZkhpbnRNYXJrZXIoKSk7XG5cbiAgICAvLyBpZiBzbmFwcGluZyBpcyBlbmFibGVkLCBkbyBpdFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICBjb25zdCBmYWtlRHJhZ0V2ZW50ID0gZTtcbiAgICAgIGZha2VEcmFnRXZlbnQudGFyZ2V0ID0gdGhpcy5faGludE1hcmtlcjtcbiAgICAgIHRoaXMuX2hhbmRsZVNuYXBwaW5nKGZha2VEcmFnRXZlbnQpO1xuICAgIH1cblxuICAgIHRoaXMuX2hhbmRsZUhpbnRNYXJrZXJTbmFwcGluZygpO1xuXG4gICAgY29uc3QgbGF0bG5nID1cbiAgICAgIHRoaXMuX2xheWVyR3JvdXAgJiYgdGhpcy5fbGF5ZXJHcm91cC5oYXNMYXllcih0aGlzLl9jZW50ZXJNYXJrZXIpXG4gICAgICAgID8gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpXG4gICAgICAgIDogdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKGxhdGxuZywgJ0RyYXcnKTtcbiAgfSxcbiAgaXNSZWxldmFudE1hcmtlcihsYXllcikge1xuICAgIHJldHVybiAoXG4gICAgICBsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyICYmXG4gICAgICAhKGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGUpICYmXG4gICAgICBsYXllci5wbSAmJlxuICAgICAgIWxheWVyLl9wbVRlbXBMYXllclxuICAgICk7XG4gIH0sXG4gIF9jcmVhdGVNYXJrZXIoZSkge1xuICAgIC8vIElmIHNuYXAgZmluaXNoIGlzIHJlcXVpcmVkIGJ1dCB0aGUgbGFzdCBtYXJrZXIgd2Fzbid0IHNuYXBwZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9ucy5yZXF1aXJlU25hcFRvRmluaXNoICYmXG4gICAgICAhdGhpcy5faGludE1hcmtlci5fc25hcHBlZCAmJlxuICAgICAgIXRoaXMuX2lzRmlyc3RMYXllcigpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gd2l0aCBfbGF5ZXJJc0RyYWdnaW5nIHdlIGNoZWNrIGlmIGEgY2lyY2xlbWFya2VyIGlzIGN1cnJlbnRseSBkcmFnZ2VkXG4gICAgaWYgKCFlLmxhdGxuZyB8fCB0aGlzLl9sYXllcklzRHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhc3NpZ24gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrIHRvIHRoZSBoaW50TWFya2VyLCB0aGF0J3MgbmVjZXNzYXJ5IGZvclxuICAgIC8vIG1vYmlsZSB3aGVyZSB0aGUgbWFya2VyIGNhbid0IGZvbGxvdyBhIGN1cnNvclxuICAgIGlmICghdGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlIGZvciBuZXcgdmVydGV4IGJ5IGhpbnRNYXJrZXIgKGN1cnNvciBtYXJrZXIpXG4gICAgY29uc3QgbGF0bG5nID0gdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBtYXJrZXJcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgdGhpcy5fQmFzZUNpcmNsZUNsYXNzKGxhdGxuZywge1xuICAgICAgcmFkaXVzOiB0aGlzLl9kZWZhdWx0UmFkaXVzLFxuICAgICAgLi4udGhpcy5vcHRpb25zLnBhdGhPcHRpb25zLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAnbGF5ZXJQYW5lJyk7XG4gICAgdGhpcy5fZmluaXNoTGF5ZXIobWFya2VyKTtcbiAgICAvLyBhZGQgbWFya2VyIHRvIHRoZSBtYXBcbiAgICBtYXJrZXIuYWRkVG8odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG5cbiAgICB0aGlzLl9leHRlbmRpbmdDcmVhdGVNYXJrZXIobWFya2VyKTtcblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbWFya2VyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShtYXJrZXIpO1xuXG4gICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5jb250aW51ZURyYXdpbmcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgX2V4dGVuZGluZ0NyZWF0ZU1hcmtlcihtYXJrZXIpIHtcbiAgICBpZiAobWFya2VyLnBtICYmIHRoaXMub3B0aW9ucy5tYXJrZXJFZGl0YWJsZSkge1xuICAgICAgLy8gZW5hYmxlIGVkaXRpbmcgZm9yIHRoZSBtYXJrZXJcbiAgICAgIG1hcmtlci5wbS5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIF9maW5pc2hTaGFwZShlKSB7XG4gICAgLy8gSWYgc25hcCBmaW5pc2ggaXMgcmVxdWlyZWQgYnV0IHRoZSBsYXN0IG1hcmtlciB3YXNuJ3Qgc25hcHBlZCwgZG8gbm90IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnJlcXVpcmVTbmFwVG9GaW5pc2ggJiZcbiAgICAgICF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkICYmXG4gICAgICAhdGhpcy5faXNGaXJzdExheWVyKClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhc3NpZ24gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrIHRvIHRoZSBoaW50TWFya2VyLCB0aGF0J3MgbmVjZXNzYXJ5IGZvclxuICAgIC8vIG1vYmlsZSB3aGVyZSB0aGUgbWFya2VyIGNhbid0IGZvbGxvdyBhIGN1cnNvclxuICAgIGlmICghdGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIH1cblxuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBsZXQgcmFkaXVzID0gdGhpcy5fZGVmYXVsdFJhZGl1cztcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgLy8gY2FsYyB0aGUgcmFkaXVzXG4gICAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuICAgICAgcmFkaXVzID0gdGhpcy5fZGlzdGFuY2VDYWxjdWxhdGlvbihjZW50ZXIsIGxhdGxuZyk7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dICYmXG4gICAgICAgIHJhZGl1cyA8IHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dXG4gICAgICApIHtcbiAgICAgICAgcmFkaXVzID0gdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl07XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSAmJlxuICAgICAgICByYWRpdXMgPiB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXVxuICAgICAgKSB7XG4gICAgICAgIHJhZGl1cyA9IHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucywgcmFkaXVzIH07XG5cbiAgICAvLyBjcmVhdGUgdGhlIGZpbmFsIGNpcmNsZSBsYXllclxuICAgIGNvbnN0IGNpcmNsZUxheWVyID0gbmV3IHRoaXMuX0Jhc2VDaXJjbGVDbGFzcyhjZW50ZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMuX3NldFBhbmUoY2lyY2xlTGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9maW5pc2hMYXllcihjaXJjbGVMYXllcik7XG4gICAgY2lyY2xlTGF5ZXIuYWRkVG8odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG5cbiAgICBpZiAoY2lyY2xlTGF5ZXIucG0pIHtcbiAgICAgIC8vIGNyZWF0ZSBwb2x5Z29uIGFyb3VuZCB0aGUgY2lyY2xlIGJvcmRlclxuICAgICAgY2lyY2xlTGF5ZXIucG0uX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIHRoZSBwbTpjcmVhdGUgZXZlbnQgYW5kIHBhc3Mgc2hhcGUgYW5kIGxheWVyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShjaXJjbGVMYXllcik7XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmdcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIF9nZXROZXdEZXN0aW5hdGlvbk9mSGludE1hcmtlcigpIHtcbiAgICBsZXQgc2Vjb25kTGF0TG5nID0gdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgaWYgKCF0aGlzLl9sYXllckdyb3VwLmhhc0xheWVyKHRoaXMuX2NlbnRlck1hcmtlcikpIHtcbiAgICAgICAgcmV0dXJuIHNlY29uZExhdExuZztcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGF0bG5nID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlQ2FsY3VsYXRpb24obGF0bG5nLCBzZWNvbmRMYXRMbmcpO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dICYmXG4gICAgICAgIGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl1cbiAgICAgICkge1xuICAgICAgICBzZWNvbmRMYXRMbmcgPSBkZXN0aW5hdGlvbk9uTGluZShcbiAgICAgICAgICB0aGlzLl9tYXAsXG4gICAgICAgICAgbGF0bG5nLFxuICAgICAgICAgIHNlY29uZExhdExuZyxcbiAgICAgICAgICB0aGlzLl9nZXRNaW5EaXN0YW5jZUluTWV0ZXIoKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0gJiZcbiAgICAgICAgZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXVxuICAgICAgKSB7XG4gICAgICAgIHNlY29uZExhdExuZyA9IGRlc3RpbmF0aW9uT25MaW5lKFxuICAgICAgICAgIHRoaXMuX21hcCxcbiAgICAgICAgICBsYXRsbmcsXG4gICAgICAgICAgc2Vjb25kTGF0TG5nLFxuICAgICAgICAgIHRoaXMuX2dldE1heERpc3RhbmNlSW5NZXRlcigpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWNvbmRMYXRMbmc7XG4gIH0sXG4gIF9nZXRNaW5EaXN0YW5jZUluTWV0ZXIoKSB7XG4gICAgcmV0dXJuIEwuUE0uVXRpbHMucHhSYWRpdXNUb01ldGVyUmFkaXVzKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0sXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKClcbiAgICApO1xuICB9LFxuICBfZ2V0TWF4RGlzdGFuY2VJbk1ldGVyKCkge1xuICAgIHJldHVybiBMLlBNLlV0aWxzLnB4UmFkaXVzVG9NZXRlclJhZGl1cyhcbiAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dLFxuICAgICAgdGhpcy5fbWFwLFxuICAgICAgdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpXG4gICAgKTtcbiAgfSxcbiAgX2hhbmRsZUhpbnRNYXJrZXJTbmFwcGluZygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgaWYgKHRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgICAgY29uc3QgbGF0bG5nID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgICAgICBjb25zdCBzZWNvbmRMYXRMbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlQ2FsY3VsYXRpb24obGF0bG5nLCBzZWNvbmRMYXRMbmcpO1xuXG4gICAgICAgIGlmICghdGhpcy5fbGF5ZXJHcm91cC5oYXNMYXllcih0aGlzLl9jZW50ZXJNYXJrZXIpKSB7XG4gICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dICYmXG4gICAgICAgICAgZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyh0aGlzLl9oaW50TWFya2VyLl9vcmdMYXRMbmcpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dICYmXG4gICAgICAgICAgZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyh0aGlzLl9oaW50TWFya2VyLl9vcmdMYXRMbmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBsYXRsbmcgb2YgbWFya2VyIGlmIHRoZSBzbmFwcGVkIGxhdGxuZyByYWRpdXMgaXMgb3V0IG9mIG1pbi9tYXhcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKHRoaXMuX2dldE5ld0Rlc3RpbmF0aW9uT2ZIaW50TWFya2VyKCkpO1xuICAgIH1cbiAgfSxcbiAgc2V0U3R5bGUoKSB7XG4gICAgY29uc3QgdGVtcGxpbmVTdHlsZSA9IHt9O1xuICAgIEwuZXh0ZW5kKHRlbXBsaW5lU3R5bGUsIHRoaXMub3B0aW9ucy50ZW1wbGluZVN0eWxlKTtcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgdGVtcGxpbmVTdHlsZS5yYWRpdXMgPSAwO1xuICAgIH1cbiAgICB0aGlzLl9sYXllcj8uc2V0U3R5bGUodGVtcGxpbmVTdHlsZSk7XG4gICAgdGhpcy5faGludGxpbmU/LnNldFN0eWxlKHRoaXMub3B0aW9ucy5oaW50bGluZVN0eWxlKTtcbiAgfSxcbiAgX2Rpc3RhbmNlQ2FsY3VsYXRpb24oQSwgQikge1xuICAgIHJldHVybiB0aGlzLl9tYXAucHJvamVjdChBKS5kaXN0YW5jZVRvKHRoaXMuX21hcC5wcm9qZWN0KEIpKTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBEcmF3IGZyb20gJy4vTC5QTS5EcmF3JztcblxuRHJhdy5DaXJjbGUgPSBEcmF3LkNpcmNsZU1hcmtlci5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9zaGFwZSA9ICdDaXJjbGUnO1xuICAgIHRoaXMudG9vbGJhckJ1dHRvbk5hbWUgPSAnZHJhd0NpcmNsZSc7XG4gICAgdGhpcy5fQmFzZUNpcmNsZUNsYXNzID0gTC5DaXJjbGU7XG4gICAgdGhpcy5fbWluUmFkaXVzT3B0aW9uID0gJ21pblJhZGl1c0NpcmNsZSc7XG4gICAgdGhpcy5fbWF4UmFkaXVzT3B0aW9uID0gJ21heFJhZGl1c0NpcmNsZSc7XG4gICAgdGhpcy5fZWRpdGFibGVPcHRpb24gPSAncmVzaXphYmxlQ2lyY2xlJztcbiAgICB0aGlzLl9kZWZhdWx0UmFkaXVzID0gMTAwO1xuICB9LFxuICBfZXh0ZW5kaW5nRW5hYmxlKCkge30sXG4gIF9leHRlbmRpbmdEaXNhYmxlKCkge30sXG4gIF9leHRlbmRpbmdDcmVhdGVNYXJrZXIoKSB7fSxcbiAgaXNSZWxldmFudE1hcmtlcigpIHt9LFxuICBfZ2V0TWluRGlzdGFuY2VJbk1ldGVyKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXTtcbiAgfSxcbiAgX2dldE1heERpc3RhbmNlSW5NZXRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl07XG4gIH0sXG4gIF9kaXN0YW5jZUNhbGN1bGF0aW9uKEEsIEIpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLmRpc3RhbmNlKEEsIEIpO1xuICB9LFxufSk7XG4iLCAiaW1wb3J0IHsgaXNOdW1iZXIsIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbi8qKlxuICogVW53cmFwIGEgY29vcmRpbmF0ZSBmcm9tIGEgUG9pbnQgRmVhdHVyZSwgR2VvbWV0cnkgb3IgYSBzaW5nbGUgY29vcmRpbmF0ZS5cbiAqXG4gKiBAbmFtZSBnZXRDb29yZFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fEdlb21ldHJ5PFBvaW50PnxGZWF0dXJlPFBvaW50Pn0gY29vcmQgR2VvSlNPTiBQb2ludCBvciBhbiBBcnJheSBvZiBudW1iZXJzXG4gKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXNcbiAqIEBleGFtcGxlXG4gKiB2YXIgcHQgPSB0dXJmLnBvaW50KFsxMCwgMTBdKTtcbiAqXG4gKiB2YXIgY29vcmQgPSB0dXJmLmdldENvb3JkKHB0KTtcbiAqIC8vPSBbMTAsIDEwXVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29vcmQoY29vcmQpIHtcbiAgICBpZiAoIWNvb3JkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29vcmQpKSB7XG4gICAgICAgIGlmIChjb29yZC50eXBlID09PSBcIkZlYXR1cmVcIiAmJlxuICAgICAgICAgICAgY29vcmQuZ2VvbWV0cnkgIT09IG51bGwgJiZcbiAgICAgICAgICAgIGNvb3JkLmdlb21ldHJ5LnR5cGUgPT09IFwiUG9pbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNvb3JkLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb29yZC50eXBlID09PSBcIlBvaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29yZC5jb29yZGluYXRlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb29yZCkgJiZcbiAgICAgICAgY29vcmQubGVuZ3RoID49IDIgJiZcbiAgICAgICAgIUFycmF5LmlzQXJyYXkoY29vcmRbMF0pICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KGNvb3JkWzFdKSkge1xuICAgICAgICByZXR1cm4gY29vcmQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkIG11c3QgYmUgR2VvSlNPTiBQb2ludCBvciBhbiBBcnJheSBvZiBudW1iZXJzXCIpO1xufVxuLyoqXG4gKiBVbndyYXAgY29vcmRpbmF0ZXMgZnJvbSBhIEZlYXR1cmUsIEdlb21ldHJ5IE9iamVjdCBvciBhbiBBcnJheVxuICpcbiAqIEBuYW1lIGdldENvb3Jkc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fEdlb21ldHJ5fEZlYXR1cmV9IGNvb3JkcyBGZWF0dXJlLCBHZW9tZXRyeSBPYmplY3Qgb3IgYW4gQXJyYXlcbiAqIEByZXR1cm5zIHtBcnJheTxhbnk+fSBjb29yZGluYXRlc1xuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5ID0gdHVyZi5wb2x5Z29uKFtbWzExOS4zMiwgLTguN10sIFsxMTkuNTUsIC04LjY5XSwgWzExOS41MSwgLTguNTRdLCBbMTE5LjMyLCAtOC43XV1dKTtcbiAqXG4gKiB2YXIgY29vcmRzID0gdHVyZi5nZXRDb29yZHMocG9seSk7XG4gKiAvLz0gW1tbMTE5LjMyLCAtOC43XSwgWzExOS41NSwgLTguNjldLCBbMTE5LjUxLCAtOC41NF0sIFsxMTkuMzIsIC04LjddXV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvb3Jkcyhjb29yZHMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb29yZHMpKSB7XG4gICAgICAgIHJldHVybiBjb29yZHM7XG4gICAgfVxuICAgIC8vIEZlYXR1cmVcbiAgICBpZiAoY29vcmRzLnR5cGUgPT09IFwiRmVhdHVyZVwiKSB7XG4gICAgICAgIGlmIChjb29yZHMuZ2VvbWV0cnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29yZHMuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEdlb21ldHJ5XG4gICAgICAgIGlmIChjb29yZHMuY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29yZHMuY29vcmRpbmF0ZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRzIG11c3QgYmUgR2VvSlNPTiBGZWF0dXJlLCBHZW9tZXRyeSBPYmplY3Qgb3IgYW4gQXJyYXlcIik7XG59XG4vKipcbiAqIENoZWNrcyBpZiBjb29yZGluYXRlcyBjb250YWlucyBhIG51bWJlclxuICpcbiAqIEBuYW1lIGNvbnRhaW5zTnVtYmVyXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGNvb3JkaW5hdGVzIEdlb0pTT04gQ29vcmRpbmF0ZXNcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIEFycmF5IGNvbnRhaW5zIGEgbnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc051bWJlcihjb29yZGluYXRlcykge1xuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPiAxICYmXG4gICAgICAgIGlzTnVtYmVyKGNvb3JkaW5hdGVzWzBdKSAmJlxuICAgICAgICBpc051bWJlcihjb29yZGluYXRlc1sxXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdKSAmJiBjb29yZGluYXRlc1swXS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zTnVtYmVyKGNvb3JkaW5hdGVzWzBdKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgbXVzdCBvbmx5IGNvbnRhaW4gbnVtYmVyc1wiKTtcbn1cbi8qKlxuICogRW5mb3JjZSBleHBlY3RhdGlvbnMgYWJvdXQgdHlwZXMgb2YgR2VvSlNPTiBvYmplY3RzIGZvciBUdXJmLlxuICpcbiAqIEBuYW1lIGdlb2pzb25UeXBlXG4gKiBAcGFyYW0ge0dlb0pTT059IHZhbHVlIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgZXhwZWN0ZWQgR2VvSlNPTiB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIGNhbGxpbmcgZnVuY3Rpb25cbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB2YWx1ZSBpcyBub3QgdGhlIGV4cGVjdGVkIHR5cGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW9qc29uVHlwZSh2YWx1ZSwgdHlwZSwgbmFtZSkge1xuICAgIGlmICghdHlwZSB8fCAhbmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0eXBlIGFuZCBuYW1lIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLnR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBcIiArXG4gICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgIFwiOiBtdXN0IGJlIGEgXCIgK1xuICAgICAgICAgICAgdHlwZSArXG4gICAgICAgICAgICBcIiwgZ2l2ZW4gXCIgK1xuICAgICAgICAgICAgdmFsdWUudHlwZSk7XG4gICAgfVxufVxuLyoqXG4gKiBFbmZvcmNlIGV4cGVjdGF0aW9ucyBhYm91dCB0eXBlcyBvZiB7QGxpbmsgRmVhdHVyZX0gaW5wdXRzIGZvciBUdXJmLlxuICogSW50ZXJuYWxseSB0aGlzIHVzZXMge0BsaW5rIGdlb2pzb25UeXBlfSB0byBqdWRnZSBnZW9tZXRyeSB0eXBlcy5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlT2ZcbiAqIEBwYXJhbSB7RmVhdHVyZX0gZmVhdHVyZSBhIGZlYXR1cmUgd2l0aCBhbiBleHBlY3RlZCBnZW9tZXRyeSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBleHBlY3RlZCBHZW9KU09OIHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgY2FsbGluZyBmdW5jdGlvblxuICogQHRocm93cyB7RXJyb3J9IGVycm9yIGlmIHZhbHVlIGlzIG5vdCB0aGUgZXhwZWN0ZWQgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZlYXR1cmVPZihmZWF0dXJlLCB0eXBlLCBuYW1lKSB7XG4gICAgaWYgKCFmZWF0dXJlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZlYXR1cmUgcGFzc2VkXCIpO1xuICAgIH1cbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiLmZlYXR1cmVPZigpIHJlcXVpcmVzIGEgbmFtZVwiKTtcbiAgICB9XG4gICAgaWYgKCFmZWF0dXJlIHx8IGZlYXR1cmUudHlwZSAhPT0gXCJGZWF0dXJlXCIgfHwgIWZlYXR1cmUuZ2VvbWV0cnkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBcIiArIG5hbWUgKyBcIiwgRmVhdHVyZSB3aXRoIGdlb21ldHJ5IHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIWZlYXR1cmUuZ2VvbWV0cnkgfHwgZmVhdHVyZS5nZW9tZXRyeS50eXBlICE9PSB0eXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgdG8gXCIgK1xuICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICBcIjogbXVzdCBiZSBhIFwiICtcbiAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgXCIsIGdpdmVuIFwiICtcbiAgICAgICAgICAgIGZlYXR1cmUuZ2VvbWV0cnkudHlwZSk7XG4gICAgfVxufVxuLyoqXG4gKiBFbmZvcmNlIGV4cGVjdGF0aW9ucyBhYm91dCB0eXBlcyBvZiB7QGxpbmsgRmVhdHVyZUNvbGxlY3Rpb259IGlucHV0cyBmb3IgVHVyZi5cbiAqIEludGVybmFsbHkgdGhpcyB1c2VzIHtAbGluayBnZW9qc29uVHlwZX0gdG8ganVkZ2UgZ2VvbWV0cnkgdHlwZXMuXG4gKlxuICogQG5hbWUgY29sbGVjdGlvbk9mXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufSBmZWF0dXJlQ29sbGVjdGlvbiBhIEZlYXR1cmVDb2xsZWN0aW9uIGZvciB3aGljaCBmZWF0dXJlcyB3aWxsIGJlIGp1ZGdlZFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgZXhwZWN0ZWQgR2VvSlNPTiB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIGNhbGxpbmcgZnVuY3Rpb25cbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB2YWx1ZSBpcyBub3QgdGhlIGV4cGVjdGVkIHR5cGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb2xsZWN0aW9uT2YoZmVhdHVyZUNvbGxlY3Rpb24sIHR5cGUsIG5hbWUpIHtcbiAgICBpZiAoIWZlYXR1cmVDb2xsZWN0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZlYXR1cmVDb2xsZWN0aW9uIHBhc3NlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIi5jb2xsZWN0aW9uT2YoKSByZXF1aXJlcyBhIG5hbWVcIik7XG4gICAgfVxuICAgIGlmICghZmVhdHVyZUNvbGxlY3Rpb24gfHwgZmVhdHVyZUNvbGxlY3Rpb24udHlwZSAhPT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgdG8gXCIgKyBuYW1lICsgXCIsIEZlYXR1cmVDb2xsZWN0aW9uIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gZmVhdHVyZUNvbGxlY3Rpb24uZmVhdHVyZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBmZWF0dXJlID0gX2FbX2ldO1xuICAgICAgICBpZiAoIWZlYXR1cmUgfHwgZmVhdHVyZS50eXBlICE9PSBcIkZlYXR1cmVcIiB8fCAhZmVhdHVyZS5nZW9tZXRyeSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBcIiArIG5hbWUgKyBcIiwgRmVhdHVyZSB3aXRoIGdlb21ldHJ5IHJlcXVpcmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZmVhdHVyZS5nZW9tZXRyeSB8fCBmZWF0dXJlLmdlb21ldHJ5LnR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgdG8gXCIgK1xuICAgICAgICAgICAgICAgIG5hbWUgK1xuICAgICAgICAgICAgICAgIFwiOiBtdXN0IGJlIGEgXCIgK1xuICAgICAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgICAgIFwiLCBnaXZlbiBcIiArXG4gICAgICAgICAgICAgICAgZmVhdHVyZS5nZW9tZXRyeS50eXBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogR2V0IEdlb21ldHJ5IGZyb20gRmVhdHVyZSBvciBHZW9tZXRyeSBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5IE9iamVjdFxuICogQHJldHVybnMge0dlb21ldHJ5fG51bGx9IEdlb0pTT04gR2VvbWV0cnkgT2JqZWN0XG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgZ2VvanNvbiBpcyBub3QgYSBGZWF0dXJlIG9yIEdlb21ldHJ5IE9iamVjdFxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludCA9IHtcbiAqICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICogICBcInByb3BlcnRpZXNcIjoge30sXG4gKiAgIFwiZ2VvbWV0cnlcIjoge1xuICogICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgICAgXCJjb29yZGluYXRlc1wiOiBbMTEwLCA0MF1cbiAqICAgfVxuICogfVxuICogdmFyIGdlb20gPSB0dXJmLmdldEdlb20ocG9pbnQpXG4gKiAvLz17XCJ0eXBlXCI6IFwiUG9pbnRcIiwgXCJjb29yZGluYXRlc1wiOiBbMTEwLCA0MF19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRHZW9tKGdlb2pzb24pIHtcbiAgICBpZiAoZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVcIikge1xuICAgICAgICByZXR1cm4gZ2VvanNvbi5nZW9tZXRyeTtcbiAgICB9XG4gICAgcmV0dXJuIGdlb2pzb247XG59XG4vKipcbiAqIEdldCBHZW9KU09OIG9iamVjdCdzIHR5cGUsIEdlb21ldHJ5IHR5cGUgaXMgcHJpb3JpdGl6ZS5cbiAqXG4gKiBAcGFyYW0ge0dlb0pTT059IGdlb2pzb24gR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZT1cImdlb2pzb25cIl0gbmFtZSBvZiB0aGUgdmFyaWFibGUgdG8gZGlzcGxheSBpbiBlcnJvciBtZXNzYWdlICh1bnVzZWQpXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBHZW9KU09OIHR5cGVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSB7XG4gKiAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAqICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICogICBcImdlb21ldHJ5XCI6IHtcbiAqICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICAgIFwiY29vcmRpbmF0ZXNcIjogWzExMCwgNDBdXG4gKiAgIH1cbiAqIH1cbiAqIHZhciBnZW9tID0gdHVyZi5nZXRUeXBlKHBvaW50KVxuICogLy89XCJQb2ludFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlKGdlb2pzb24sIF9uYW1lKSB7XG4gICAgaWYgKGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBcIkZlYXR1cmVDb2xsZWN0aW9uXCI7XG4gICAgfVxuICAgIGlmIChnZW9qc29uLnR5cGUgPT09IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI7XG4gICAgfVxuICAgIGlmIChnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZVwiICYmIGdlb2pzb24uZ2VvbWV0cnkgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdlb2pzb24uZ2VvbWV0cnkudHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIGdlb2pzb24udHlwZTtcbn1cbiIsICJpbXBvcnQgeyBmZWF0dXJlLCBsaW5lU3RyaW5nLCBpc09iamVjdCwgcG9pbnQgfSBmcm9tICdAdHVyZi9oZWxwZXJzJztcblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgY29vcmRFYWNoXG4gKlxuICogQGNhbGxiYWNrIGNvb3JkRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGN1cnJlbnRDb29yZCBUaGUgY3VycmVudCBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb29yZEluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgY29vcmRpbmF0ZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICpcbiAqIEBuYW1lIGNvb3JkRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHtib29sZWFufSBbZXhjbHVkZVdyYXBDb29yZD1mYWxzZV0gd2hldGhlciBvciBub3QgdG8gaW5jbHVkZSB0aGUgZmluYWwgY29vcmRpbmF0ZSBvZiBMaW5lYXJSaW5ncyB0aGF0IHdyYXBzIHRoZSByaW5nIGluIGl0cyBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge1wiZm9vXCI6IFwiYmFyXCJ9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge1wiaGVsbG9cIjogXCJ3b3JsZFwifSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuY29vcmRFYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRDb29yZFxuICogICAvLz1jb29yZEluZGV4XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz1nZW9tZXRyeUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gY29vcmRFYWNoKGdlb2pzb24sIGNhbGxiYWNrLCBleGNsdWRlV3JhcENvb3JkKSB7XG4gIC8vIEhhbmRsZXMgbnVsbCBHZW9tZXRyeSAtLSBTa2lwcyB0aGlzIEdlb0pTT05cbiAgaWYgKGdlb2pzb24gPT09IG51bGwpIHJldHVybjtcbiAgdmFyIGosXG4gICAgayxcbiAgICBsLFxuICAgIGdlb21ldHJ5LFxuICAgIHN0b3BHLFxuICAgIGNvb3JkcyxcbiAgICBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbixcbiAgICB3cmFwU2hyaW5rID0gMCxcbiAgICBjb29yZEluZGV4ID0gMCxcbiAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbixcbiAgICB0eXBlID0gZ2VvanNvbi50eXBlLFxuICAgIGlzRmVhdHVyZUNvbGxlY3Rpb24gPSB0eXBlID09PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgaXNGZWF0dXJlID0gdHlwZSA9PT0gXCJGZWF0dXJlXCIsXG4gICAgc3RvcCA9IGlzRmVhdHVyZUNvbGxlY3Rpb24gPyBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCA6IDE7XG5cbiAgLy8gVGhpcyBsb2dpYyBtYXkgbG9vayBhIGxpdHRsZSB3ZWlyZC4gVGhlIHJlYXNvbiB3aHkgaXQgaXMgdGhhdCB3YXlcbiAgLy8gaXMgYmVjYXVzZSBpdCdzIHRyeWluZyB0byBiZSBmYXN0LiBHZW9KU09OIHN1cHBvcnRzIG11bHRpcGxlIGtpbmRzXG4gIC8vIG9mIG9iamVjdHMgYXQgaXRzIHJvb3Q6IEZlYXR1cmVDb2xsZWN0aW9uLCBGZWF0dXJlcywgR2VvbWV0cmllcy5cbiAgLy8gVGhpcyBmdW5jdGlvbiBoYXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIGhhbmRsaW5nIGFsbCBvZiB0aGVtLCBhbmQgdGhhdFxuICAvLyBtZWFucyB0aGF0IHNvbWUgb2YgdGhlIGBmb3JgIGxvb3BzIHlvdSBzZWUgYmVsb3cgYWN0dWFsbHkganVzdCBkb24ndCBhcHBseVxuICAvLyB0byBjZXJ0YWluIGlucHV0cy4gRm9yIGluc3RhbmNlLCBpZiB5b3UgZ2l2ZSB0aGlzIGp1c3QgYVxuICAvLyBQb2ludCBnZW9tZXRyeSwgdGhlbiBib3RoIGxvb3BzIGFyZSBzaG9ydC1jaXJjdWl0ZWQgYW5kIGFsbCB3ZSBkb1xuICAvLyBpcyBncmFkdWFsbHkgcmVuYW1lIHRoZSBpbnB1dCB1bnRpbCBpdCdzIGNhbGxlZCAnZ2VvbWV0cnknLlxuICAvL1xuICAvLyBUaGlzIGFsc28gYWltcyB0byBhbGxvY2F0ZSBhcyBmZXcgcmVzb3VyY2VzIGFzIHBvc3NpYmxlOiBqdXN0IGFcbiAgLy8gZmV3IG51bWJlcnMgYW5kIGJvb2xlYW5zLCByYXRoZXIgdGhhbiBhbnkgdGVtcG9yYXJ5IGFycmF5cyBhcyB3b3VsZFxuICAvLyBiZSByZXF1aXJlZCB3aXRoIHRoZSBub3JtYWxpemF0aW9uIGFwcHJvYWNoLlxuICBmb3IgKHZhciBmZWF0dXJlSW5kZXggPSAwOyBmZWF0dXJlSW5kZXggPCBzdG9wOyBmZWF0dXJlSW5kZXgrKykge1xuICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uID0gaXNGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0uZ2VvbWV0cnlcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uZ2VvbWV0cnlcbiAgICAgIDogZ2VvanNvbjtcbiAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbiA9IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLnR5cGUgPT09IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gICAgc3RvcEcgPSBpc0dlb21ldHJ5Q29sbGVjdGlvblxuICAgICAgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi5nZW9tZXRyaWVzLmxlbmd0aFxuICAgICAgOiAxO1xuXG4gICAgZm9yICh2YXIgZ2VvbUluZGV4ID0gMDsgZ2VvbUluZGV4IDwgc3RvcEc7IGdlb21JbmRleCsrKSB7XG4gICAgICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSAwO1xuICAgICAgdmFyIGdlb21ldHJ5SW5kZXggPSAwO1xuICAgICAgZ2VvbWV0cnkgPSBpc0dlb21ldHJ5Q29sbGVjdGlvblxuICAgICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXNbZ2VvbUluZGV4XVxuICAgICAgICA6IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uO1xuXG4gICAgICAvLyBIYW5kbGVzIG51bGwgR2VvbWV0cnkgLS0gU2tpcHMgdGhpcyBnZW9tZXRyeVxuICAgICAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSBjb250aW51ZTtcbiAgICAgIGNvb3JkcyA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgICAgdmFyIGdlb21UeXBlID0gZ2VvbWV0cnkudHlwZTtcblxuICAgICAgd3JhcFNocmluayA9XG4gICAgICAgIGV4Y2x1ZGVXcmFwQ29vcmQgJiZcbiAgICAgICAgKGdlb21UeXBlID09PSBcIlBvbHlnb25cIiB8fCBnZW9tVHlwZSA9PT0gXCJNdWx0aVBvbHlnb25cIilcbiAgICAgICAgICA/IDFcbiAgICAgICAgICA6IDA7XG5cbiAgICAgIHN3aXRjaCAoZ2VvbVR5cGUpIHtcbiAgICAgICAgY2FzZSBudWxsOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgY29vcmRzLFxuICAgICAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICAgIGNvb3Jkc1tqXSxcbiAgICAgICAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gXCJNdWx0aVBvaW50XCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gXCJMaW5lU3RyaW5nXCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgY29vcmRzW2pdLmxlbmd0aCAtIHdyYXBTaHJpbms7IGsrKykge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICBjb29yZHNbal1ba10sXG4gICAgICAgICAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgY29vcmRJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIk11bHRpTGluZVN0cmluZ1wiKSBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIlBvbHlnb25cIikgZ2VvbWV0cnlJbmRleCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiUG9seWdvblwiKSBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvb3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZ2VvbWV0cnlJbmRleCA9IDA7XG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgY29vcmRzW2pdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgIGZvciAobCA9IDA7IGwgPCBjb29yZHNbal1ba10ubGVuZ3RoIC0gd3JhcFNocmluazsgbCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICAgIGNvb3Jkc1tqXVtrXVtsXSxcbiAgICAgICAgICAgICAgICAgICAgY29vcmRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29vcmRJbmRleCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNvb3JkRWFjaChnZW9tZXRyeS5nZW9tZXRyaWVzW2pdLCBjYWxsYmFjaywgZXhjbHVkZVdyYXBDb29yZCkgPT09XG4gICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIEdlb21ldHJ5IFR5cGVcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGNvb3JkUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgY29vcmRSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY3VycmVudENvb3JkIFRoZSBjdXJyZW50IGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvb3JkSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogU3RhcnRzIGF0IGluZGV4IDAsIGlmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCwgYW5kIGF0IGluZGV4IDEgb3RoZXJ3aXNlLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBjb29yZGluYXRlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKClcbiAqXG4gKiBAbmFtZSBjb29yZFJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxHZW9tZXRyeXxGZWF0dXJlfSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudENvb3JkLCBjb29yZEluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2V4Y2x1ZGVXcmFwQ29vcmQ9ZmFsc2VdIHdoZXRoZXIgb3Igbm90IHRvIGluY2x1ZGUgdGhlIGZpbmFsIGNvb3JkaW5hdGUgb2YgTGluZWFyUmluZ3MgdGhhdCB3cmFwcyB0aGUgcmluZyBpbiBpdHMgaXRlcmF0aW9uLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7XCJmb29cIjogXCJiYXJcIn0pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7XCJoZWxsb1wiOiBcIndvcmxkXCJ9KVxuICogXSk7XG4gKlxuICogdHVyZi5jb29yZFJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRDb29yZCwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRDb29yZFxuICogICAvLz1jb29yZEluZGV4XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz1nZW9tZXRyeUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50Q29vcmQ7XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gY29vcmRSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSwgZXhjbHVkZVdyYXBDb29yZCkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgY29vcmRFYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKFxuICAgICAgY3VycmVudENvb3JkLFxuICAgICAgY29vcmRJbmRleCxcbiAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICkge1xuICAgICAgaWYgKGNvb3JkSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50Q29vcmQ7XG4gICAgICBlbHNlXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhcbiAgICAgICAgICBwcmV2aW91c1ZhbHVlLFxuICAgICAgICAgIGN1cnJlbnRDb29yZCxcbiAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICk7XG4gICAgfSxcbiAgICBleGNsdWRlV3JhcENvb3JkXG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBwcm9wRWFjaFxuICpcbiAqIEBjYWxsYmFjayBwcm9wRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge09iamVjdH0gY3VycmVudFByb3BlcnRpZXMgVGhlIGN1cnJlbnQgUHJvcGVydGllcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBwcm9wZXJ0aWVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqXG4gKiBAbmFtZSBwcm9wRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleClcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYucHJvcEVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRQcm9wZXJ0aWVzXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIHByb3BFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gIHZhciBpO1xuICBzd2l0Y2ggKGdlb2pzb24udHlwZSkge1xuICAgIGNhc2UgXCJGZWF0dXJlQ29sbGVjdGlvblwiOlxuICAgICAgZm9yIChpID0gMDsgaSA8IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKGdlb2pzb24uZmVhdHVyZXNbaV0ucHJvcGVydGllcywgaSkgPT09IGZhbHNlKSBicmVhaztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJGZWF0dXJlXCI6XG4gICAgICBjYWxsYmFjayhnZW9qc29uLnByb3BlcnRpZXMsIDApO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgcHJvcFJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIHByb3BSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7Kn0gY3VycmVudFByb3BlcnRpZXMgVGhlIGN1cnJlbnQgUHJvcGVydGllcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBwcm9wZXJ0aWVzIGluIGFueSBHZW9KU09OIG9iamVjdCBpbnRvIGEgc2luZ2xlIHZhbHVlLFxuICogc2ltaWxhciB0byBob3cgQXJyYXkucmVkdWNlIHdvcmtzLiBIb3dldmVyLCBpbiB0aGlzIGNhc2Ugd2UgbGF6aWx5IHJ1blxuICogdGhlIHJlZHVjdGlvbiwgc28gYW4gYXJyYXkgb2YgYWxsIHByb3BlcnRpZXMgaXMgdW5uZWNlc3NhcnkuXG4gKlxuICogQG5hbWUgcHJvcFJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5wcm9wUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRQcm9wZXJ0aWVzXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICByZXR1cm4gY3VycmVudFByb3BlcnRpZXNcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBwcm9wUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIHByb3BFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50UHJvcGVydGllcztcbiAgICBlbHNlXG4gICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleCk7XG4gIH0pO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmVhdHVyZUVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgZmVhdHVyZUVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtGZWF0dXJlPGFueT59IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvXG4gKiBBcnJheS5mb3JFYWNoLlxuICpcbiAqIEBuYW1lIGZlYXR1cmVFYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZlYXR1cmVFYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCkge1xuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmZWF0dXJlRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICBpZiAoZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVcIikge1xuICAgIGNhbGxiYWNrKGdlb2pzb24sIDApO1xuICB9IGVsc2UgaWYgKGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2FsbGJhY2soZ2VvanNvbi5mZWF0dXJlc1tpXSwgaSkgPT09IGZhbHNlKSBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmVhdHVyZVJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGZlYXR1cmVSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZX0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZmVhdHVyZVJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtcImZvb1wiOiBcImJhclwifSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtcImhlbGxvXCI6IFwid29ybGRcIn0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZlYXR1cmVSZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudEZlYXR1cmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50RmVhdHVyZVxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGZlYXR1cmVSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgZmVhdHVyZUVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpIHtcbiAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRGZWF0dXJlO1xuICAgIGVsc2UgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpO1xuICB9KTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogR2V0IGFsbCBjb29yZGluYXRlcyBmcm9tIGFueSBHZW9KU09OIG9iamVjdC5cbiAqXG4gKiBAbmFtZSBjb29yZEFsbFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHJldHVybnMge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlIHBvc2l0aW9uIGFycmF5XG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB2YXIgY29vcmRzID0gdHVyZi5jb29yZEFsbChmZWF0dXJlcyk7XG4gKiAvLz0gW1syNiwgMzddLCBbMzYsIDUzXV1cbiAqL1xuZnVuY3Rpb24gY29vcmRBbGwoZ2VvanNvbikge1xuICB2YXIgY29vcmRzID0gW107XG4gIGNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICBjb29yZHMucHVzaChjb29yZCk7XG4gIH0pO1xuICByZXR1cm4gY29vcmRzO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBnZW9tRWFjaFxuICpcbiAqIEBjYWxsYmFjayBnZW9tRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0dlb21ldHJ5fSBjdXJyZW50R2VvbWV0cnkgVGhlIGN1cnJlbnQgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZVByb3BlcnRpZXMgVGhlIGN1cnJlbnQgRmVhdHVyZSBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmVhdHVyZUJCb3ggVGhlIGN1cnJlbnQgRmVhdHVyZSBCQm94IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gZmVhdHVyZUlkIFRoZSBjdXJyZW50IEZlYXR1cmUgSWQgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGVhY2ggZ2VvbWV0cnkgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICpcbiAqIEBuYW1lIGdlb21FYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmdlb21FYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudEdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKSB7XG4gKiAgIC8vPWN1cnJlbnRHZW9tZXRyeVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89ZmVhdHVyZVByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUJCb3hcbiAqICAgLy89ZmVhdHVyZUlkXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZ2VvbUVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgdmFyIGksXG4gICAgaixcbiAgICBnLFxuICAgIGdlb21ldHJ5LFxuICAgIHN0b3BHLFxuICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLFxuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uLFxuICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgIGZlYXR1cmVCQm94LFxuICAgIGZlYXR1cmVJZCxcbiAgICBmZWF0dXJlSW5kZXggPSAwLFxuICAgIGlzRmVhdHVyZUNvbGxlY3Rpb24gPSBnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICBpc0ZlYXR1cmUgPSBnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZVwiLFxuICAgIHN0b3AgPSBpc0ZlYXR1cmVDb2xsZWN0aW9uID8gZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGggOiAxO1xuXG4gIC8vIFRoaXMgbG9naWMgbWF5IGxvb2sgYSBsaXR0bGUgd2VpcmQuIFRoZSByZWFzb24gd2h5IGl0IGlzIHRoYXQgd2F5XG4gIC8vIGlzIGJlY2F1c2UgaXQncyB0cnlpbmcgdG8gYmUgZmFzdC4gR2VvSlNPTiBzdXBwb3J0cyBtdWx0aXBsZSBraW5kc1xuICAvLyBvZiBvYmplY3RzIGF0IGl0cyByb290OiBGZWF0dXJlQ29sbGVjdGlvbiwgRmVhdHVyZXMsIEdlb21ldHJpZXMuXG4gIC8vIFRoaXMgZnVuY3Rpb24gaGFzIHRoZSByZXNwb25zaWJpbGl0eSBvZiBoYW5kbGluZyBhbGwgb2YgdGhlbSwgYW5kIHRoYXRcbiAgLy8gbWVhbnMgdGhhdCBzb21lIG9mIHRoZSBgZm9yYCBsb29wcyB5b3Ugc2VlIGJlbG93IGFjdHVhbGx5IGp1c3QgZG9uJ3QgYXBwbHlcbiAgLy8gdG8gY2VydGFpbiBpbnB1dHMuIEZvciBpbnN0YW5jZSwgaWYgeW91IGdpdmUgdGhpcyBqdXN0IGFcbiAgLy8gUG9pbnQgZ2VvbWV0cnksIHRoZW4gYm90aCBsb29wcyBhcmUgc2hvcnQtY2lyY3VpdGVkIGFuZCBhbGwgd2UgZG9cbiAgLy8gaXMgZ3JhZHVhbGx5IHJlbmFtZSB0aGUgaW5wdXQgdW50aWwgaXQncyBjYWxsZWQgJ2dlb21ldHJ5Jy5cbiAgLy9cbiAgLy8gVGhpcyBhbHNvIGFpbXMgdG8gYWxsb2NhdGUgYXMgZmV3IHJlc291cmNlcyBhcyBwb3NzaWJsZToganVzdCBhXG4gIC8vIGZldyBudW1iZXJzIGFuZCBib29sZWFucywgcmF0aGVyIHRoYW4gYW55IHRlbXBvcmFyeSBhcnJheXMgYXMgd291bGRcbiAgLy8gYmUgcmVxdWlyZWQgd2l0aCB0aGUgbm9ybWFsaXphdGlvbiBhcHByb2FjaC5cbiAgZm9yIChpID0gMDsgaSA8IHN0b3A7IGkrKykge1xuICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uID0gaXNGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9qc29uLmZlYXR1cmVzW2ldLmdlb21ldHJ5XG4gICAgICA6IGlzRmVhdHVyZVxuICAgICAgPyBnZW9qc29uLmdlb21ldHJ5XG4gICAgICA6IGdlb2pzb247XG4gICAgZmVhdHVyZVByb3BlcnRpZXMgPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0ucHJvcGVydGllc1xuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5wcm9wZXJ0aWVzXG4gICAgICA6IHt9O1xuICAgIGZlYXR1cmVCQm94ID0gaXNGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9qc29uLmZlYXR1cmVzW2ldLmJib3hcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uYmJveFxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgZmVhdHVyZUlkID0gaXNGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9qc29uLmZlYXR1cmVzW2ldLmlkXG4gICAgICA6IGlzRmVhdHVyZVxuICAgICAgPyBnZW9qc29uLmlkXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbiA9IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLnR5cGUgPT09IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gICAgc3RvcEcgPSBpc0dlb21ldHJ5Q29sbGVjdGlvblxuICAgICAgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi5nZW9tZXRyaWVzLmxlbmd0aFxuICAgICAgOiAxO1xuXG4gICAgZm9yIChnID0gMDsgZyA8IHN0b3BHOyBnKyspIHtcbiAgICAgIGdlb21ldHJ5ID0gaXNHZW9tZXRyeUNvbGxlY3Rpb25cbiAgICAgICAgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi5nZW9tZXRyaWVzW2ddXG4gICAgICAgIDogZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb247XG5cbiAgICAgIC8vIEhhbmRsZSBudWxsIEdlb21ldHJ5XG4gICAgICBpZiAoZ2VvbWV0cnkgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgICBmZWF0dXJlSWRcbiAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgICAgIGZlYXR1cmVCQm94LFxuICAgICAgICAgICAgICBmZWF0dXJlSWRcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJHZW9tZXRyeUNvbGxlY3Rpb25cIjoge1xuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBnZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5Lmdlb21ldHJpZXNbal0sXG4gICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGZlYXR1cmVCQm94LFxuICAgICAgICAgICAgICAgIGZlYXR1cmVJZFxuICAgICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBHZW9tZXRyeSBUeXBlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBPbmx5IGluY3JlYXNlIGBmZWF0dXJlSW5kZXhgIHBlciBlYWNoIGZlYXR1cmVcbiAgICBmZWF0dXJlSW5kZXgrKztcbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBnZW9tUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgZ2VvbVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtHZW9tZXRyeX0gY3VycmVudEdlb21ldHJ5IFRoZSBjdXJyZW50IEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtPYmplY3R9IGZlYXR1cmVQcm9wZXJ0aWVzIFRoZSBjdXJyZW50IEZlYXR1cmUgUHJvcGVydGllcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZlYXR1cmVCQm94IFRoZSBjdXJyZW50IEZlYXR1cmUgQkJveCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGZlYXR1cmVJZCBUaGUgY3VycmVudCBGZWF0dXJlIElkIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBnZW9tZXRyeSBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZ2VvbVJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudEdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmdlb21SZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50R2VvbWV0cnlcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPWZlYXR1cmVQcm9wZXJ0aWVzXG4gKiAgIC8vPWZlYXR1cmVCQm94XG4gKiAgIC8vPWZlYXR1cmVJZFxuICogICByZXR1cm4gY3VycmVudEdlb21ldHJ5XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZ2VvbVJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBnZW9tRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChcbiAgICAgIGN1cnJlbnRHZW9tZXRyeSxcbiAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICBmZWF0dXJlSWRcbiAgICApIHtcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50R2VvbWV0cnk7XG4gICAgICBlbHNlXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhcbiAgICAgICAgICBwcmV2aW91c1ZhbHVlLFxuICAgICAgICAgIGN1cnJlbnRHZW9tZXRyeSxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgZmVhdHVyZUlkXG4gICAgICAgICk7XG4gICAgfVxuICApO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmxhdHRlbkVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgZmxhdHRlbkVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtGZWF0dXJlfSBjdXJyZW50RmVhdHVyZSBUaGUgY3VycmVudCBmbGF0dGVuZWQgZmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZmxhdHRlbmVkIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0b1xuICogQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBmbGF0dGVuRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLm11bHRpUG9pbnQoW1s0MCwgMzBdLCBbMzYsIDUzXV0sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZsYXR0ZW5FYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudEZlYXR1cmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmxhdHRlbkVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgZ2VvbUVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIHByb3BlcnRpZXMsIGJib3gsIGlkKSB7XG4gICAgLy8gQ2FsbGJhY2sgZm9yIHNpbmdsZSBnZW9tZXRyeVxuICAgIHZhciB0eXBlID0gZ2VvbWV0cnkgPT09IG51bGwgPyBudWxsIDogZ2VvbWV0cnkudHlwZTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgbnVsbDpcbiAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgIGZlYXR1cmUoZ2VvbWV0cnksIHByb3BlcnRpZXMsIHsgYmJveDogYmJveCwgaWQ6IGlkIH0pLFxuICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgMFxuICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZ2VvbVR5cGU7XG5cbiAgICAvLyBDYWxsYmFjayBmb3IgbXVsdGktZ2VvbWV0cnlcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgIGdlb21UeXBlID0gXCJQb2ludFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgZ2VvbVR5cGUgPSBcIkxpbmVTdHJpbmdcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgIGdlb21UeXBlID0gXCJQb2x5Z29uXCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGZvciAoXG4gICAgICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSAwO1xuICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPCBnZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICBtdWx0aUZlYXR1cmVJbmRleCsrXG4gICAgKSB7XG4gICAgICB2YXIgY29vcmRpbmF0ZSA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzW211bHRpRmVhdHVyZUluZGV4XTtcbiAgICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBnZW9tVHlwZSxcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGUsXG4gICAgICB9O1xuICAgICAgaWYgKFxuICAgICAgICBjYWxsYmFjayhmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMpLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KSA9PT1cbiAgICAgICAgZmFsc2VcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZsYXR0ZW5SZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBmbGF0dGVuUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmV9IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGZsYXR0ZW5lZCBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZmxhdHRlblJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5tdWx0aVBvaW50KFtbNDAsIDMwXSwgWzM2LCA1M11dLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5mbGF0dGVuUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRGZWF0dXJlXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmxhdHRlblJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBmbGF0dGVuRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgICAgaWYgKFxuICAgICAgICBmZWF0dXJlSW5kZXggPT09IDAgJiZcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPT09IDAgJiZcbiAgICAgICAgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgIClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRGZWF0dXJlO1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50RmVhdHVyZSxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXhcbiAgICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBzZWdtZW50RWFjaFxuICpcbiAqIEBjYWxsYmFjayBzZWdtZW50RWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRTZWdtZW50IFRoZSBjdXJyZW50IFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgMi12ZXJ0ZXggbGluZSBzZWdtZW50IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT05cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNTAsIDVdLCBbLTQwLCAtMTBdLCBbLTUwLCAtMTBdLCBbLTQwLCA1XSwgWy01MCwgNV1dXSk7XG4gKlxuICogLy8gSXRlcmF0ZSBvdmVyIEdlb0pTT04gYnkgMi12ZXJ0ZXggc2VnbWVudHNcbiAqIHR1cmYuc2VnbWVudEVhY2gocG9seWdvbiwgZnVuY3Rpb24gKGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudFNlZ21lbnRcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgLy89c2VnbWVudEluZGV4XG4gKiB9KTtcbiAqXG4gKiAvLyBDYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBzZWdtZW50c1xuICogdmFyIHRvdGFsID0gMDtcbiAqIHR1cmYuc2VnbWVudEVhY2gocG9seWdvbiwgZnVuY3Rpb24gKCkge1xuICogICAgIHRvdGFsKys7XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gc2VnbWVudEVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgZmxhdHRlbkVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAgICB2YXIgc2VnbWVudEluZGV4ID0gMDtcblxuICAgIC8vIEV4Y2x1ZGUgbnVsbCBHZW9tZXRyaWVzXG4gICAgaWYgKCFmZWF0dXJlLmdlb21ldHJ5KSByZXR1cm47XG4gICAgLy8gKE11bHRpKVBvaW50IGdlb21ldHJpZXMgZG8gbm90IGNvbnRhaW4gc2VnbWVudHMgdGhlcmVmb3JlIHRoZXkgYXJlIGlnbm9yZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uLlxuICAgIHZhciB0eXBlID0gZmVhdHVyZS5nZW9tZXRyeS50eXBlO1xuICAgIGlmICh0eXBlID09PSBcIlBvaW50XCIgfHwgdHlwZSA9PT0gXCJNdWx0aVBvaW50XCIpIHJldHVybjtcblxuICAgIC8vIEdlbmVyYXRlIDItdmVydGV4IGxpbmUgc2VnbWVudHNcbiAgICB2YXIgcHJldmlvdXNDb29yZHM7XG4gICAgdmFyIHByZXZpb3VzRmVhdHVyZUluZGV4ID0gMDtcbiAgICB2YXIgcHJldmlvdXNNdWx0aUluZGV4ID0gMDtcbiAgICB2YXIgcHJldkdlb21JbmRleCA9IDA7XG4gICAgaWYgKFxuICAgICAgY29vcmRFYWNoKFxuICAgICAgICBmZWF0dXJlLFxuICAgICAgICBmdW5jdGlvbiAoXG4gICAgICAgICAgY3VycmVudENvb3JkLFxuICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgZmVhdHVyZUluZGV4Q29vcmQsXG4gICAgICAgICAgbXVsdGlQYXJ0SW5kZXhDb29yZCxcbiAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNpbXVsYXRpbmcgYSBtZXRhLmNvb3JkUmVkdWNlKCkgc2luY2UgYHJlZHVjZWAgb3BlcmF0aW9ucyBjYW5ub3QgYmUgc3RvcHBlZCBieSByZXR1cm5pbmcgYGZhbHNlYFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByZXZpb3VzQ29vcmRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGZlYXR1cmVJbmRleCA+IHByZXZpb3VzRmVhdHVyZUluZGV4IHx8XG4gICAgICAgICAgICBtdWx0aVBhcnRJbmRleENvb3JkID4gcHJldmlvdXNNdWx0aUluZGV4IHx8XG4gICAgICAgICAgICBnZW9tZXRyeUluZGV4ID4gcHJldkdlb21JbmRleFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcHJldmlvdXNDb29yZHMgPSBjdXJyZW50Q29vcmQ7XG4gICAgICAgICAgICBwcmV2aW91c0ZlYXR1cmVJbmRleCA9IGZlYXR1cmVJbmRleDtcbiAgICAgICAgICAgIHByZXZpb3VzTXVsdGlJbmRleCA9IG11bHRpUGFydEluZGV4Q29vcmQ7XG4gICAgICAgICAgICBwcmV2R2VvbUluZGV4ID0gZ2VvbWV0cnlJbmRleDtcbiAgICAgICAgICAgIHNlZ21lbnRJbmRleCA9IDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjdXJyZW50U2VnbWVudCA9IGxpbmVTdHJpbmcoXG4gICAgICAgICAgICBbcHJldmlvdXNDb29yZHMsIGN1cnJlbnRDb29yZF0sXG4gICAgICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBjdXJyZW50U2VnbWVudCxcbiAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleCxcbiAgICAgICAgICAgICAgc2VnbWVudEluZGV4XG4gICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgICAgICBwcmV2aW91c0Nvb3JkcyA9IGN1cnJlbnRDb29yZDtcbiAgICAgICAgfVxuICAgICAgKSA9PT0gZmFsc2VcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBzZWdtZW50UmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgc2VnbWVudFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBjdXJyZW50U2VnbWVudCBUaGUgY3VycmVudCBTZWdtZW50IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gc2VnbWVudEluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBTZWdtZW50IGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSAyLXZlcnRleCBsaW5lIHNlZ21lbnQgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpXG4gKiAoTXVsdGkpUG9pbnQgZ2VvbWV0cmllcyBkbyBub3QgY29udGFpbiBzZWdtZW50cyB0aGVyZWZvcmUgdGhleSBhcmUgaWdub3JlZCBkdXJpbmcgdGhpcyBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50U2VnbWVudCwgY3VycmVudEluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29uID0gdHVyZi5wb2x5Z29uKFtbWy01MCwgNV0sIFstNDAsIC0xMF0sIFstNTAsIC0xMF0sIFstNDAsIDVdLCBbLTUwLCA1XV1dKTtcbiAqXG4gKiAvLyBJdGVyYXRlIG92ZXIgR2VvSlNPTiBieSAyLXZlcnRleCBzZWdtZW50c1xuICogdHVyZi5zZWdtZW50UmVkdWNlKHBvbHlnb24sIGZ1bmN0aW9uIChwcmV2aW91c1NlZ21lbnQsIGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpIHtcbiAqICAgLy89IHByZXZpb3VzU2VnbWVudFxuICogICAvLz0gY3VycmVudFNlZ21lbnRcbiAqICAgLy89IGZlYXR1cmVJbmRleFxuICogICAvLz0gbXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89IGdlb21ldHJ5SW5kZXhcbiAqICAgLy89IHNlZ21lbnRJbmRleFxuICogICByZXR1cm4gY3VycmVudFNlZ21lbnRcbiAqIH0pO1xuICpcbiAqIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIHNlZ21lbnRzXG4gKiB2YXIgaW5pdGlhbFZhbHVlID0gMFxuICogdmFyIHRvdGFsID0gdHVyZi5zZWdtZW50UmVkdWNlKHBvbHlnb24sIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlKSB7XG4gKiAgICAgcHJldmlvdXNWYWx1ZSsrO1xuICogICAgIHJldHVybiBwcmV2aW91c1ZhbHVlO1xuICogfSwgaW5pdGlhbFZhbHVlKTtcbiAqL1xuZnVuY3Rpb24gc2VnbWVudFJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICB2YXIgc3RhcnRlZCA9IGZhbHNlO1xuICBzZWdtZW50RWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChcbiAgICAgIGN1cnJlbnRTZWdtZW50LFxuICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICBnZW9tZXRyeUluZGV4LFxuICAgICAgc2VnbWVudEluZGV4XG4gICAgKSB7XG4gICAgICBpZiAoc3RhcnRlZCA9PT0gZmFsc2UgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50U2VnbWVudDtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudFNlZ21lbnQsXG4gICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgIGdlb21ldHJ5SW5kZXgsXG4gICAgICAgICAgc2VnbWVudEluZGV4XG4gICAgICAgICk7XG4gICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBsaW5lRWFjaFxuICpcbiAqIEBjYWxsYmFjayBsaW5lRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRMaW5lIFRoZSBjdXJyZW50IExpbmVTdHJpbmd8TGluZWFyUmluZyBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgbGluZSBvciByaW5nIGNvb3JkaW5hdGVzIGluIExpbmVTdHJpbmcsIFBvbHlnb24sIE11bHRpTGluZVN0cmluZywgTXVsdGlQb2x5Z29uIEZlYXR1cmVzIG9yIEdlb21ldHJpZXMsXG4gKiBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2guXG4gKlxuICogQG5hbWUgbGluZUVhY2hcbiAqIEBwYXJhbSB7R2VvbWV0cnl8RmVhdHVyZTxMaW5lU3RyaW5nfFBvbHlnb258TXVsdGlMaW5lU3RyaW5nfE11bHRpUG9seWdvbj59IGdlb2pzb24gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleClcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlMaW5lID0gdHVyZi5tdWx0aUxpbmVTdHJpbmcoW1xuICogICBbWzI2LCAzN10sIFszNSwgNDVdXSxcbiAqICAgW1szNiwgNTNdLCBbMzgsIDUwXSwgWzQxLCA1NV1dXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmxpbmVFYWNoKG11bHRpTGluZSwgZnVuY3Rpb24gKGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRMaW5lXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz1nZW9tZXRyeUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gbGluZUVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgLy8gdmFsaWRhdGlvblxuICBpZiAoIWdlb2pzb24pIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgcmVxdWlyZWRcIik7XG5cbiAgZmxhdHRlbkVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAgICBpZiAoZmVhdHVyZS5nZW9tZXRyeSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIHZhciB0eXBlID0gZmVhdHVyZS5nZW9tZXRyeS50eXBlO1xuICAgIHZhciBjb29yZHMgPSBmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgaWYgKGNhbGxiYWNrKGZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIDAsIDApID09PSBmYWxzZSlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgZ2VvbWV0cnlJbmRleCA9IDA7XG4gICAgICAgICAgZ2VvbWV0cnlJbmRleCA8IGNvb3Jkcy5sZW5ndGg7XG4gICAgICAgICAgZ2VvbWV0cnlJbmRleCsrXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBsaW5lU3RyaW5nKGNvb3Jkc1tnZW9tZXRyeUluZGV4XSwgZmVhdHVyZS5wcm9wZXJ0aWVzKSxcbiAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgbGluZVJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGxpbmVSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudExpbmUgVGhlIGN1cnJlbnQgTGluZVN0cmluZ3xMaW5lYXJSaW5nIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpLlxuICpcbiAqIEBuYW1lIGxpbmVSZWR1Y2VcbiAqIEBwYXJhbSB7R2VvbWV0cnl8RmVhdHVyZTxMaW5lU3RyaW5nfFBvbHlnb258TXVsdGlMaW5lU3RyaW5nfE11bHRpUG9seWdvbj59IGdlb2pzb24gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpUG9seSA9IHR1cmYubXVsdGlQb2x5Z29uKFtcbiAqICAgdHVyZi5wb2x5Z29uKFtbWzEyLDQ4XSxbMiw0MV0sWzI0LDM4XSxbMTIsNDhdXSwgW1s5LDQ0XSxbMTMsNDFdLFsxMyw0NV0sWzksNDRdXV0pLFxuICogICB0dXJmLnBvbHlnb24oW1tbNSwgNV0sIFswLCAwXSwgWzIsIDJdLCBbNCwgNF0sIFs1LCA1XV1dKVxuICogXSk7XG4gKlxuICogdHVyZi5saW5lUmVkdWNlKG11bHRpUG9seSwgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudExpbmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRMaW5lXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gbGluZVJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBsaW5lRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRMaW5lO1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50TGluZSxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICApO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogRmluZHMgYSBwYXJ0aWN1bGFyIDItdmVydGV4IExpbmVTdHJpbmcgU2VnbWVudCBmcm9tIGEgR2VvSlNPTiB1c2luZyBgQHR1cmYvbWV0YWAgaW5kZXhlcy5cbiAqXG4gKiBOZWdhdGl2ZSBpbmRleGVzIGFyZSBwZXJtaXR0ZWQuXG4gKiBQb2ludCAmIE11bHRpUG9pbnQgd2lsbCBhbHdheXMgcmV0dXJuIG51bGwuXG4gKlxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIEFueSBHZW9KU09OIEZlYXR1cmUgb3IgR2VvbWV0cnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZlYXR1cmVJbmRleD0wXSBGZWF0dXJlIEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXg9MF0gTXVsdGktRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmdlb21ldHJ5SW5kZXg9MF0gR2VvbWV0cnkgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zZWdtZW50SW5kZXg9MF0gU2VnbWVudCBJbmRleFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb3BlcnRpZXM9e31dIFRyYW5zbGF0ZSBQcm9wZXJ0aWVzIHRvIG91dHB1dCBMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge0JCb3h9IFtvcHRpb25zLmJib3g9e31dIFRyYW5zbGF0ZSBCQm94IHRvIG91dHB1dCBMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtvcHRpb25zLmlkPXt9XSBUcmFuc2xhdGUgSWQgdG8gb3V0cHV0IExpbmVTdHJpbmdcbiAqIEByZXR1cm5zIHtGZWF0dXJlPExpbmVTdHJpbmc+fSAyLXZlcnRleCBHZW9KU09OIEZlYXR1cmUgTGluZVN0cmluZ1xuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aUxpbmUgPSB0dXJmLm11bHRpTGluZVN0cmluZyhbXG4gKiAgICAgW1sxMCwgMTBdLCBbNTAsIDMwXSwgWzMwLCA0MF1dLFxuICogICAgIFtbLTEwLCAtMTBdLCBbLTUwLCAtMzBdLCBbLTMwLCAtNDBdXVxuICogXSk7XG4gKlxuICogLy8gRmlyc3QgU2VnbWVudCAoZGVmYXVsdHMgYXJlIDApXG4gKiB0dXJmLmZpbmRTZWdtZW50KG11bHRpTGluZSk7XG4gKiAvLyA9PiBGZWF0dXJlPExpbmVTdHJpbmc8W1sxMCwgMTBdLCBbNTAsIDMwXV0+PlxuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgb2YgMm5kIE11bHRpIEZlYXR1cmVcbiAqIHR1cmYuZmluZFNlZ21lbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IDF9KTtcbiAqIC8vID0+IEZlYXR1cmU8TGluZVN0cmluZzxbWy0xMCwgLTEwXSwgWy01MCwgLTMwXV0+PlxuICpcbiAqIC8vIExhc3QgU2VnbWVudCBvZiBMYXN0IE11bHRpIEZlYXR1cmVcbiAqIHR1cmYuZmluZFNlZ21lbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IC0xLCBzZWdtZW50SW5kZXg6IC0xfSk7XG4gKiAvLyA9PiBGZWF0dXJlPExpbmVTdHJpbmc8W1stNTAsIC0zMF0sIFstMzAsIC00MF1dPj5cbiAqL1xuZnVuY3Rpb24gZmluZFNlZ21lbnQoZ2VvanNvbiwgb3B0aW9ucykge1xuICAvLyBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zIGlzIGludmFsaWRcIik7XG4gIHZhciBmZWF0dXJlSW5kZXggPSBvcHRpb25zLmZlYXR1cmVJbmRleCB8fCAwO1xuICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSBvcHRpb25zLm11bHRpRmVhdHVyZUluZGV4IHx8IDA7XG4gIHZhciBnZW9tZXRyeUluZGV4ID0gb3B0aW9ucy5nZW9tZXRyeUluZGV4IHx8IDA7XG4gIHZhciBzZWdtZW50SW5kZXggPSBvcHRpb25zLnNlZ21lbnRJbmRleCB8fCAwO1xuXG4gIC8vIEZpbmQgRmVhdHVyZUluZGV4XG4gIHZhciBwcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9wZXJ0aWVzO1xuICB2YXIgZ2VvbWV0cnk7XG5cbiAgc3dpdGNoIChnZW9qc29uLnR5cGUpIHtcbiAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBmZWF0dXJlSW5kZXggPSBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCArIGZlYXR1cmVJbmRleDtcbiAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiRmVhdHVyZVwiOlxuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmdlb21ldHJ5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbiAgfVxuXG4gIC8vIEZpbmQgU2VnbWVudEluZGV4XG4gIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjb29yZHMgPSBnZW9tZXRyeS5jb29yZGluYXRlcztcbiAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMCkgc2VnbWVudEluZGV4ID0gY29vcmRzLmxlbmd0aCArIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gbGluZVN0cmluZyhcbiAgICAgICAgW2Nvb3Jkc1tzZWdtZW50SW5kZXhdLCBjb29yZHNbc2VnbWVudEluZGV4ICsgMV1dLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApIGdlb21ldHJ5SW5kZXggPSBjb29yZHMubGVuZ3RoICsgZ2VvbWV0cnlJbmRleDtcbiAgICAgIGlmIChzZWdtZW50SW5kZXggPCAwKVxuICAgICAgICBzZWdtZW50SW5kZXggPSBjb29yZHNbZ2VvbWV0cnlJbmRleF0ubGVuZ3RoICsgc2VnbWVudEluZGV4IC0gMTtcbiAgICAgIHJldHVybiBsaW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW2dlb21ldHJ5SW5kZXhdW3NlZ21lbnRJbmRleF0sXG4gICAgICAgICAgY29vcmRzW2dlb21ldHJ5SW5kZXhdW3NlZ21lbnRJbmRleCArIDFdLFxuICAgICAgICBdLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgaWYgKHNlZ21lbnRJbmRleCA8IDApXG4gICAgICAgIHNlZ21lbnRJbmRleCA9IGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF0ubGVuZ3RoICsgc2VnbWVudEluZGV4IC0gMTtcbiAgICAgIHJldHVybiBsaW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bc2VnbWVudEluZGV4ICsgMV0sXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApXG4gICAgICAgIGdlb21ldHJ5SW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMClcbiAgICAgICAgc2VnbWVudEluZGV4ID1cbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdLmxlbmd0aCAtIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gbGluZVN0cmluZyhcbiAgICAgICAgW1xuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF1bc2VnbWVudEluZGV4XSxcbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdW3NlZ21lbnRJbmRleCArIDFdLFxuICAgICAgICBdLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbn1cblxuLyoqXG4gKiBGaW5kcyBhIHBhcnRpY3VsYXIgUG9pbnQgZnJvbSBhIEdlb0pTT04gdXNpbmcgYEB0dXJmL21ldGFgIGluZGV4ZXMuXG4gKlxuICogTmVnYXRpdmUgaW5kZXhlcyBhcmUgcGVybWl0dGVkLlxuICpcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBBbnkgR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mZWF0dXJlSW5kZXg9MF0gRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm11bHRpRmVhdHVyZUluZGV4PTBdIE11bHRpLUZlYXR1cmUgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5nZW9tZXRyeUluZGV4PTBdIEdlb21ldHJ5IEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29vcmRJbmRleD0wXSBDb29yZCBJbmRleFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb3BlcnRpZXM9e31dIFRyYW5zbGF0ZSBQcm9wZXJ0aWVzIHRvIG91dHB1dCBQb2ludFxuICogQHBhcmFtIHtCQm94fSBbb3B0aW9ucy5iYm94PXt9XSBUcmFuc2xhdGUgQkJveCB0byBvdXRwdXQgUG9pbnRcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW29wdGlvbnMuaWQ9e31dIFRyYW5zbGF0ZSBJZCB0byBvdXRwdXQgUG9pbnRcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvaW50Pn0gMi12ZXJ0ZXggR2VvSlNPTiBGZWF0dXJlIFBvaW50XG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtcbiAqICAgICBbWzEwLCAxMF0sIFs1MCwgMzBdLCBbMzAsIDQwXV0sXG4gKiAgICAgW1stMTAsIC0xMF0sIFstNTAsIC0zMF0sIFstMzAsIC00MF1dXG4gKiBdKTtcbiAqXG4gKiAvLyBGaXJzdCBTZWdtZW50IChkZWZhdWx0cyBhcmUgMClcbiAqIHR1cmYuZmluZFBvaW50KG11bHRpTGluZSk7XG4gKiAvLyA9PiBGZWF0dXJlPFBvaW50PFsxMCwgMTBdPj5cbiAqXG4gKiAvLyBGaXJzdCBTZWdtZW50IG9mIHRoZSAybmQgTXVsdGktRmVhdHVyZVxuICogdHVyZi5maW5kUG9pbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IDF9KTtcbiAqIC8vID0+IEZlYXR1cmU8UG9pbnQ8Wy0xMCwgLTEwXT4+XG4gKlxuICogLy8gTGFzdCBTZWdtZW50IG9mIGxhc3QgTXVsdGktRmVhdHVyZVxuICogdHVyZi5maW5kUG9pbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IC0xLCBjb29yZEluZGV4OiAtMX0pO1xuICogLy8gPT4gRmVhdHVyZTxQb2ludDxbLTMwLCAtNDBdPj5cbiAqL1xuZnVuY3Rpb24gZmluZFBvaW50KGdlb2pzb24sIG9wdGlvbnMpIHtcbiAgLy8gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKCFpc09iamVjdChvcHRpb25zKSkgdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucyBpcyBpbnZhbGlkXCIpO1xuICB2YXIgZmVhdHVyZUluZGV4ID0gb3B0aW9ucy5mZWF0dXJlSW5kZXggfHwgMDtcbiAgdmFyIG11bHRpRmVhdHVyZUluZGV4ID0gb3B0aW9ucy5tdWx0aUZlYXR1cmVJbmRleCB8fCAwO1xuICB2YXIgZ2VvbWV0cnlJbmRleCA9IG9wdGlvbnMuZ2VvbWV0cnlJbmRleCB8fCAwO1xuICB2YXIgY29vcmRJbmRleCA9IG9wdGlvbnMuY29vcmRJbmRleCB8fCAwO1xuXG4gIC8vIEZpbmQgRmVhdHVyZUluZGV4XG4gIHZhciBwcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9wZXJ0aWVzO1xuICB2YXIgZ2VvbWV0cnk7XG5cbiAgc3dpdGNoIChnZW9qc29uLnR5cGUpIHtcbiAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBmZWF0dXJlSW5kZXggPSBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCArIGZlYXR1cmVJbmRleDtcbiAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiRmVhdHVyZVwiOlxuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmdlb21ldHJ5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbiAgfVxuXG4gIC8vIEZpbmQgQ29vcmQgSW5kZXhcbiAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICBzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgIHJldHVybiBwb2ludChjb29yZHMsIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICBpZiAobXVsdGlGZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBtdWx0aUZlYXR1cmVJbmRleDtcbiAgICAgIHJldHVybiBwb2ludChjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbiAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKSBjb29yZEluZGV4ID0gY29vcmRzLmxlbmd0aCArIGNvb3JkSW5kZXg7XG4gICAgICByZXR1cm4gcG9pbnQoY29vcmRzW2Nvb3JkSW5kZXhdLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbiAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgaWYgKGdlb21ldHJ5SW5kZXggPCAwKSBnZW9tZXRyeUluZGV4ID0gY29vcmRzLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApXG4gICAgICAgIGNvb3JkSW5kZXggPSBjb29yZHNbZ2VvbWV0cnlJbmRleF0ubGVuZ3RoICsgY29vcmRJbmRleDtcbiAgICAgIHJldHVybiBwb2ludChjb29yZHNbZ2VvbWV0cnlJbmRleF1bY29vcmRJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKVxuICAgICAgICBjb29yZEluZGV4ID0gY29vcmRzW211bHRpRmVhdHVyZUluZGV4XS5sZW5ndGggKyBjb29yZEluZGV4O1xuICAgICAgcmV0dXJuIHBvaW50KGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bY29vcmRJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgaWYgKGdlb21ldHJ5SW5kZXggPCAwKVxuICAgICAgICBnZW9tZXRyeUluZGV4ID0gY29vcmRzW211bHRpRmVhdHVyZUluZGV4XS5sZW5ndGggKyBnZW9tZXRyeUluZGV4O1xuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKVxuICAgICAgICBjb29yZEluZGV4ID1cbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdLmxlbmd0aCAtIGNvb3JkSW5kZXg7XG4gICAgICByZXR1cm4gcG9pbnQoXG4gICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF1bY29vcmRJbmRleF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyBpbnZhbGlkXCIpO1xufVxuXG5leHBvcnQgeyBjb29yZEFsbCwgY29vcmRFYWNoLCBjb29yZFJlZHVjZSwgZmVhdHVyZUVhY2gsIGZlYXR1cmVSZWR1Y2UsIGZpbmRQb2ludCwgZmluZFNlZ21lbnQsIGZsYXR0ZW5FYWNoLCBmbGF0dGVuUmVkdWNlLCBnZW9tRWFjaCwgZ2VvbVJlZHVjZSwgbGluZUVhY2gsIGxpbmVSZWR1Y2UsIHByb3BFYWNoLCBwcm9wUmVkdWNlLCBzZWdtZW50RWFjaCwgc2VnbWVudFJlZHVjZSB9O1xuIiwgImltcG9ydCB7IGZlYXR1cmVDb2xsZWN0aW9uLCBsaW5lU3RyaW5nLCB9IGZyb20gXCJAdHVyZi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBnZXRDb29yZHMgfSBmcm9tIFwiQHR1cmYvaW52YXJpYW50XCI7XG5pbXBvcnQgeyBmbGF0dGVuRWFjaCB9IGZyb20gXCJAdHVyZi9tZXRhXCI7XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZUNvbGxlY3Rpb259IG9mIDItdmVydGV4IHtAbGluayBMaW5lU3RyaW5nfSBzZWdtZW50cyBmcm9tIGFcbiAqIHtAbGluayBMaW5lU3RyaW5nfChNdWx0aSlMaW5lU3RyaW5nfSBvciB7QGxpbmsgUG9seWdvbnwoTXVsdGkpUG9seWdvbn0uXG4gKlxuICogQG5hbWUgbGluZVNlZ21lbnRcbiAqIEBwYXJhbSB7R2VvSlNPTn0gZ2VvanNvbiBHZW9KU09OIFBvbHlnb24gb3IgTGluZVN0cmluZ1xuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPExpbmVTdHJpbmc+fSAyLXZlcnRleCBsaW5lIHNlZ21lbnRzXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHlnb24gPSB0dXJmLnBvbHlnb24oW1tbLTUwLCA1XSwgWy00MCwgLTEwXSwgWy01MCwgLTEwXSwgWy00MCwgNV0sIFstNTAsIDVdXV0pO1xuICogdmFyIHNlZ21lbnRzID0gdHVyZi5saW5lU2VnbWVudChwb2x5Z29uKTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbcG9seWdvbiwgc2VnbWVudHNdXG4gKi9cbmZ1bmN0aW9uIGxpbmVTZWdtZW50KGdlb2pzb24pIHtcbiAgICBpZiAoIWdlb2pzb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICBsaW5lU2VnbWVudEZlYXR1cmUoZmVhdHVyZSwgcmVzdWx0cyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKHJlc3VsdHMpO1xufVxuLyoqXG4gKiBMaW5lIFNlZ21lbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmd8UG9seWdvbj59IGdlb2pzb24gTGluZSBvciBwb2x5Z29uIGZlYXR1cmVcbiAqIEBwYXJhbSB7QXJyYXl9IHJlc3VsdHMgcHVzaCB0byByZXN1bHRzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gbGluZVNlZ21lbnRGZWF0dXJlKGdlb2pzb24sIHJlc3VsdHMpIHtcbiAgICB2YXIgY29vcmRzID0gW107XG4gICAgdmFyIGdlb21ldHJ5ID0gZ2VvanNvbi5nZW9tZXRyeTtcbiAgICBpZiAoZ2VvbWV0cnkgIT09IG51bGwpIHtcbiAgICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICAgICAgICAgIGNvb3JkcyA9IGdldENvb3JkcyhnZW9tZXRyeSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIGNvb3JkcyA9IFtnZXRDb29yZHMoZ2VvbWV0cnkpXTtcbiAgICAgICAgfVxuICAgICAgICBjb29yZHMuZm9yRWFjaChmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgICAgIHZhciBzZWdtZW50cyA9IGNyZWF0ZVNlZ21lbnRzKGNvb3JkLCBnZW9qc29uLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgc2VnbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2VnbWVudCkge1xuICAgICAgICAgICAgICAgIHNlZ21lbnQuaWQgPSByZXN1bHRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgU2VnbWVudHMgZnJvbSBMaW5lU3RyaW5nIGNvb3JkaW5hdGVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkcyBMaW5lU3RyaW5nIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0geyp9IHByb3BlcnRpZXMgR2VvSlNPTiBwcm9wZXJ0aWVzXG4gKiBAcmV0dXJucyB7QXJyYXk8RmVhdHVyZTxMaW5lU3RyaW5nPj59IGxpbmUgc2VnbWVudHNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2VnbWVudHMoY29vcmRzLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHNlZ21lbnRzID0gW107XG4gICAgY29vcmRzLnJlZHVjZShmdW5jdGlvbiAocHJldmlvdXNDb29yZHMsIGN1cnJlbnRDb29yZHMpIHtcbiAgICAgICAgdmFyIHNlZ21lbnQgPSBsaW5lU3RyaW5nKFtwcmV2aW91c0Nvb3JkcywgY3VycmVudENvb3Jkc10sIHByb3BlcnRpZXMpO1xuICAgICAgICBzZWdtZW50LmJib3ggPSBiYm94KHByZXZpb3VzQ29vcmRzLCBjdXJyZW50Q29vcmRzKTtcbiAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRDb29yZHM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlZ21lbnRzO1xufVxuLyoqXG4gKiBDcmVhdGUgQkJveCBiZXR3ZWVuIHR3byBjb29yZGluYXRlcyAoZmFzdGVyIHRoYW4gQHR1cmYvYmJveClcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZHMxIFBvaW50IGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRzMiBQb2ludCBjb29yZGluYXRlXG4gKiBAcmV0dXJucyB7QkJveH0gW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF1cbiAqL1xuZnVuY3Rpb24gYmJveChjb29yZHMxLCBjb29yZHMyKSB7XG4gICAgdmFyIHgxID0gY29vcmRzMVswXTtcbiAgICB2YXIgeTEgPSBjb29yZHMxWzFdO1xuICAgIHZhciB4MiA9IGNvb3JkczJbMF07XG4gICAgdmFyIHkyID0gY29vcmRzMlsxXTtcbiAgICB2YXIgd2VzdCA9IHgxIDwgeDIgPyB4MSA6IHgyO1xuICAgIHZhciBzb3V0aCA9IHkxIDwgeTIgPyB5MSA6IHkyO1xuICAgIHZhciBlYXN0ID0geDEgPiB4MiA/IHgxIDogeDI7XG4gICAgdmFyIG5vcnRoID0geTEgPiB5MiA/IHkxIDogeTI7XG4gICAgcmV0dXJuIFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdO1xufVxuZXhwb3J0IGRlZmF1bHQgbGluZVNlZ21lbnQ7XG4iLCAiaW1wb3J0IHsgZmVhdHVyZSwgZmVhdHVyZUNvbGxlY3Rpb24sIHBvaW50LCB9IGZyb20gXCJAdHVyZi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBnZXRDb29yZHMgfSBmcm9tIFwiQHR1cmYvaW52YXJpYW50XCI7XG5pbXBvcnQgbGluZVNlZ21lbnQgZnJvbSBcIkB0dXJmL2xpbmUtc2VnbWVudFwiO1xuaW1wb3J0IHsgZmVhdHVyZUVhY2ggfSBmcm9tIFwiQHR1cmYvbWV0YVwiO1xuaW1wb3J0IHJidXNoIGZyb20gXCJnZW9qc29uLXJidXNoXCI7XG4vKipcbiAqIFRha2VzIGFueSBMaW5lU3RyaW5nIG9yIFBvbHlnb24gR2VvSlNPTiBhbmQgcmV0dXJucyB0aGUgaW50ZXJzZWN0aW5nIHBvaW50KHMpLlxuICpcbiAqIEBuYW1lIGxpbmVJbnRlcnNlY3RcbiAqIEBwYXJhbSB7R2VvSlNPTn0gbGluZTEgYW55IExpbmVTdHJpbmcgb3IgUG9seWdvblxuICogQHBhcmFtIHtHZW9KU09OfSBsaW5lMiBhbnkgTGluZVN0cmluZyBvciBQb2x5Z29uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9pbnQ+fSBwb2ludChzKSB0aGF0IGludGVyc2VjdCBib3RoXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmUxID0gdHVyZi5saW5lU3RyaW5nKFtbMTI2LCAtMTFdLCBbMTI5LCAtMjFdXSk7XG4gKiB2YXIgbGluZTIgPSB0dXJmLmxpbmVTdHJpbmcoW1sxMjMsIC0xOF0sIFsxMzEsIC0xNF1dKTtcbiAqIHZhciBpbnRlcnNlY3RzID0gdHVyZi5saW5lSW50ZXJzZWN0KGxpbmUxLCBsaW5lMik7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW2xpbmUxLCBsaW5lMiwgaW50ZXJzZWN0c11cbiAqL1xuZnVuY3Rpb24gbGluZUludGVyc2VjdChsaW5lMSwgbGluZTIpIHtcbiAgICB2YXIgdW5pcXVlID0ge307XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAvLyBGaXJzdCwgbm9ybWFsaXplIGdlb21ldHJpZXMgdG8gZmVhdHVyZXNcbiAgICAvLyBUaGVuLCBoYW5kbGUgc2ltcGxlIDItdmVydGV4IHNlZ21lbnRzXG4gICAgaWYgKGxpbmUxLnR5cGUgPT09IFwiTGluZVN0cmluZ1wiKSB7XG4gICAgICAgIGxpbmUxID0gZmVhdHVyZShsaW5lMSk7XG4gICAgfVxuICAgIGlmIChsaW5lMi50eXBlID09PSBcIkxpbmVTdHJpbmdcIikge1xuICAgICAgICBsaW5lMiA9IGZlYXR1cmUobGluZTIpO1xuICAgIH1cbiAgICBpZiAobGluZTEudHlwZSA9PT0gXCJGZWF0dXJlXCIgJiZcbiAgICAgICAgbGluZTIudHlwZSA9PT0gXCJGZWF0dXJlXCIgJiZcbiAgICAgICAgbGluZTEuZ2VvbWV0cnkgIT09IG51bGwgJiZcbiAgICAgICAgbGluZTIuZ2VvbWV0cnkgIT09IG51bGwgJiZcbiAgICAgICAgbGluZTEuZ2VvbWV0cnkudHlwZSA9PT0gXCJMaW5lU3RyaW5nXCIgJiZcbiAgICAgICAgbGluZTIuZ2VvbWV0cnkudHlwZSA9PT0gXCJMaW5lU3RyaW5nXCIgJiZcbiAgICAgICAgbGluZTEuZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoID09PSAyICYmXG4gICAgICAgIGxpbmUyLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICB2YXIgaW50ZXJzZWN0ID0gaW50ZXJzZWN0cyhsaW5lMSwgbGluZTIpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goaW50ZXJzZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24ocmVzdWx0cyk7XG4gICAgfVxuICAgIC8vIEhhbmRsZXMgY29tcGxleCBHZW9KU09OIEdlb21ldHJpZXNcbiAgICB2YXIgdHJlZSA9IHJidXNoKCk7XG4gICAgdHJlZS5sb2FkKGxpbmVTZWdtZW50KGxpbmUyKSk7XG4gICAgZmVhdHVyZUVhY2gobGluZVNlZ21lbnQobGluZTEpLCBmdW5jdGlvbiAoc2VnbWVudCkge1xuICAgICAgICBmZWF0dXJlRWFjaCh0cmVlLnNlYXJjaChzZWdtZW50KSwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0gaW50ZXJzZWN0cyhzZWdtZW50LCBtYXRjaCk7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldmVudCBkdXBsaWNhdGUgcG9pbnRzIGh0dHBzOi8vZ2l0aHViLmNvbS9UdXJmanMvdHVyZi9pc3N1ZXMvNjg4XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGdldENvb3JkcyhpbnRlcnNlY3QpLmpvaW4oXCIsXCIpO1xuICAgICAgICAgICAgICAgIGlmICghdW5pcXVlW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goaW50ZXJzZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihyZXN1bHRzKTtcbn1cbi8qKlxuICogRmluZCBhIHBvaW50IHRoYXQgaW50ZXJzZWN0cyBMaW5lU3RyaW5ncyB3aXRoIHR3byBjb29yZGluYXRlcyBlYWNoXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gbGluZTEgR2VvSlNPTiBMaW5lU3RyaW5nIChNdXN0IG9ubHkgY29udGFpbiAyIGNvb3JkaW5hdGVzKVxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBsaW5lMiBHZW9KU09OIExpbmVTdHJpbmcgKE11c3Qgb25seSBjb250YWluIDIgY29vcmRpbmF0ZXMpXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxQb2ludD59IGludGVyc2VjdGluZyBHZW9KU09OIFBvaW50XG4gKi9cbmZ1bmN0aW9uIGludGVyc2VjdHMobGluZTEsIGxpbmUyKSB7XG4gICAgdmFyIGNvb3JkczEgPSBnZXRDb29yZHMobGluZTEpO1xuICAgIHZhciBjb29yZHMyID0gZ2V0Q29vcmRzKGxpbmUyKTtcbiAgICBpZiAoY29vcmRzMS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPGludGVyc2VjdHM+IGxpbmUxIG11c3Qgb25seSBjb250YWluIDIgY29vcmRpbmF0ZXNcIik7XG4gICAgfVxuICAgIGlmIChjb29yZHMyLmxlbmd0aCAhPT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8aW50ZXJzZWN0cz4gbGluZTIgbXVzdCBvbmx5IGNvbnRhaW4gMiBjb29yZGluYXRlc1wiKTtcbiAgICB9XG4gICAgdmFyIHgxID0gY29vcmRzMVswXVswXTtcbiAgICB2YXIgeTEgPSBjb29yZHMxWzBdWzFdO1xuICAgIHZhciB4MiA9IGNvb3JkczFbMV1bMF07XG4gICAgdmFyIHkyID0gY29vcmRzMVsxXVsxXTtcbiAgICB2YXIgeDMgPSBjb29yZHMyWzBdWzBdO1xuICAgIHZhciB5MyA9IGNvb3JkczJbMF1bMV07XG4gICAgdmFyIHg0ID0gY29vcmRzMlsxXVswXTtcbiAgICB2YXIgeTQgPSBjb29yZHMyWzFdWzFdO1xuICAgIHZhciBkZW5vbSA9ICh5NCAtIHkzKSAqICh4MiAtIHgxKSAtICh4NCAtIHgzKSAqICh5MiAtIHkxKTtcbiAgICB2YXIgbnVtZUEgPSAoeDQgLSB4MykgKiAoeTEgLSB5MykgLSAoeTQgLSB5MykgKiAoeDEgLSB4Myk7XG4gICAgdmFyIG51bWVCID0gKHgyIC0geDEpICogKHkxIC0geTMpIC0gKHkyIC0geTEpICogKHgxIC0geDMpO1xuICAgIGlmIChkZW5vbSA9PT0gMCkge1xuICAgICAgICBpZiAobnVtZUEgPT09IDAgJiYgbnVtZUIgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgdUEgPSBudW1lQSAvIGRlbm9tO1xuICAgIHZhciB1QiA9IG51bWVCIC8gZGVub207XG4gICAgaWYgKHVBID49IDAgJiYgdUEgPD0gMSAmJiB1QiA+PSAwICYmIHVCIDw9IDEpIHtcbiAgICAgICAgdmFyIHggPSB4MSArIHVBICogKHgyIC0geDEpO1xuICAgICAgICB2YXIgeSA9IHkxICsgdUEgKiAoeTIgLSB5MSk7XG4gICAgICAgIHJldHVybiBwb2ludChbeCwgeV0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBkZWZhdWx0IGxpbmVJbnRlcnNlY3Q7XG4iLCAiaW1wb3J0IHJidXNoIGZyb20gJ2dlb2pzb24tcmJ1c2gnO1xuaW1wb3J0IHNxdWFyZSBmcm9tICdAdHVyZi9zcXVhcmUnO1xuaW1wb3J0IGJib3ggZnJvbSAnQHR1cmYvYmJveCc7XG5pbXBvcnQgdHJ1bmNhdGUgZnJvbSAnQHR1cmYvdHJ1bmNhdGUnO1xuaW1wb3J0IGxpbmVTZWdtZW50IGZyb20gJ0B0dXJmL2xpbmUtc2VnbWVudCc7XG5pbXBvcnQgbGluZUludGVyc2VjdCBmcm9tICdAdHVyZi9saW5lLWludGVyc2VjdCc7XG5pbXBvcnQgbmVhcmVzdFBvaW50T25MaW5lIGZyb20gJ0B0dXJmL25lYXJlc3QtcG9pbnQtb24tbGluZSc7XG5pbXBvcnQgeyBnZXRUeXBlLCBnZXRDb29yZHMsIGdldENvb3JkIH0gZnJvbSAnQHR1cmYvaW52YXJpYW50JztcbmltcG9ydCB7IGZsYXR0ZW5FYWNoLCBmZWF0dXJlRWFjaCwgZmVhdHVyZVJlZHVjZSB9IGZyb20gJ0B0dXJmL21ldGEnO1xuaW1wb3J0IHsgZmVhdHVyZUNvbGxlY3Rpb24sIGxpbmVTdHJpbmcgfSBmcm9tICdAdHVyZi9oZWxwZXJzJztcblxuLyoqXG4gKiBTcGxpdCBhIExpbmVTdHJpbmcgYnkgYW5vdGhlciBHZW9KU09OIEZlYXR1cmUuXG4gKlxuICogQG5hbWUgbGluZVNwbGl0XG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGxpbmUgTGluZVN0cmluZyBGZWF0dXJlIHRvIHNwbGl0XG4gKiBAcGFyYW0ge0ZlYXR1cmU8YW55Pn0gc3BsaXR0ZXIgRmVhdHVyZSB1c2VkIHRvIHNwbGl0IGxpbmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxMaW5lU3RyaW5nPn0gU3BsaXQgTGluZVN0cmluZ3NcbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZSA9IHR1cmYubGluZVN0cmluZyhbWzEyMCwgLTI1XSwgWzE0NSwgLTI1XV0pO1xuICogdmFyIHNwbGl0dGVyID0gdHVyZi5saW5lU3RyaW5nKFtbMTMwLCAtMTVdLCBbMTMwLCAtMzVdXSk7XG4gKlxuICogdmFyIHNwbGl0ID0gdHVyZi5saW5lU3BsaXQobGluZSwgc3BsaXR0ZXIpO1xuICpcbiAqIC8vYWRkVG9NYXBcbiAqIHZhciBhZGRUb01hcCA9IFtsaW5lLCBzcGxpdHRlcl1cbiAqL1xuZnVuY3Rpb24gbGluZVNwbGl0KGxpbmUsIHNwbGl0dGVyKSB7XG4gIGlmICghbGluZSkgdGhyb3cgbmV3IEVycm9yKFwibGluZSBpcyByZXF1aXJlZFwiKTtcbiAgaWYgKCFzcGxpdHRlcikgdGhyb3cgbmV3IEVycm9yKFwic3BsaXR0ZXIgaXMgcmVxdWlyZWRcIik7XG5cbiAgdmFyIGxpbmVUeXBlID0gZ2V0VHlwZShsaW5lKTtcbiAgdmFyIHNwbGl0dGVyVHlwZSA9IGdldFR5cGUoc3BsaXR0ZXIpO1xuXG4gIGlmIChsaW5lVHlwZSAhPT0gXCJMaW5lU3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcImxpbmUgbXVzdCBiZSBMaW5lU3RyaW5nXCIpO1xuICBpZiAoc3BsaXR0ZXJUeXBlID09PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwic3BsaXR0ZXIgY2Fubm90IGJlIGEgRmVhdHVyZUNvbGxlY3Rpb25cIik7XG4gIGlmIChzcGxpdHRlclR5cGUgPT09IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwic3BsaXR0ZXIgY2Fubm90IGJlIGEgR2VvbWV0cnlDb2xsZWN0aW9uXCIpO1xuXG4gIC8vIHJlbW92ZSBleGNlc3NpdmUgZGVjaW1hbHMgZnJvbSBzcGxpdHRlclxuICAvLyB0byBhdm9pZCBwb3NzaWJsZSBhcHByb3hpbWF0aW9uIGlzc3VlcyBpbiByYnVzaFxuICB2YXIgdHJ1bmNhdGVkU3BsaXR0ZXIgPSB0cnVuY2F0ZShzcGxpdHRlciwgeyBwcmVjaXNpb246IDcgfSk7XG5cbiAgc3dpdGNoIChzcGxpdHRlclR5cGUpIHtcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgIHJldHVybiBzcGxpdExpbmVXaXRoUG9pbnQobGluZSwgdHJ1bmNhdGVkU3BsaXR0ZXIpO1xuICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICByZXR1cm4gc3BsaXRMaW5lV2l0aFBvaW50cyhsaW5lLCB0cnVuY2F0ZWRTcGxpdHRlcik7XG4gICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICByZXR1cm4gc3BsaXRMaW5lV2l0aFBvaW50cyhsaW5lLCBsaW5lSW50ZXJzZWN0KGxpbmUsIHRydW5jYXRlZFNwbGl0dGVyKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTcGxpdCBMaW5lU3RyaW5nIHdpdGggTXVsdGlQb2ludFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGxpbmUgTGluZVN0cmluZ1xuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbjxQb2ludD59IHNwbGl0dGVyIFBvaW50XG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248TGluZVN0cmluZz59IHNwbGl0IExpbmVTdHJpbmdzXG4gKi9cbmZ1bmN0aW9uIHNwbGl0TGluZVdpdGhQb2ludHMobGluZSwgc3BsaXR0ZXIpIHtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIHRyZWUgPSByYnVzaCgpO1xuXG4gIGZsYXR0ZW5FYWNoKHNwbGl0dGVyLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAvLyBBZGQgaW5kZXgvaWQgdG8gZmVhdHVyZXMgKG5lZWRlZCBmb3IgZmlsdGVyKVxuICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZmVhdHVyZSwgaW5kZXgpIHtcbiAgICAgIGZlYXR1cmUuaWQgPSBpbmRleDtcbiAgICB9KTtcbiAgICAvLyBGaXJzdCBQb2ludCAtIGRvZXNuJ3QgbmVlZCB0byBoYW5kbGUgYW55IHByZXZpb3VzIGxpbmUgcmVzdWx0c1xuICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdHMgPSBzcGxpdExpbmVXaXRoUG9pbnQobGluZSwgcG9pbnQpLmZlYXR1cmVzO1xuXG4gICAgICAvLyBBZGQgU3F1YXJlIEJCb3ggdG8gZWFjaCBmZWF0dXJlIGZvciBHZW9KU09OLVJCdXNoXG4gICAgICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgaWYgKCFmZWF0dXJlLmJib3gpIGZlYXR1cmUuYmJveCA9IHNxdWFyZShiYm94KGZlYXR1cmUpKTtcbiAgICAgIH0pO1xuICAgICAgdHJlZS5sb2FkKGZlYXR1cmVDb2xsZWN0aW9uKHJlc3VsdHMpKTtcbiAgICAgIC8vIFNwbGl0IHdpdGggcmVtYWluaW5nIHBvaW50cyAtIGxpbmVzIG1pZ2h0IG5lZWRlZCB0byBiZSBzcGxpdCBtdWx0aXBsZSB0aW1lc1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaW5kIGFsbCBsaW5lcyB0aGF0IGFyZSB3aXRoaW4gdGhlIHNwbGl0dGVyJ3MgYmJveFxuICAgICAgdmFyIHNlYXJjaCA9IHRyZWUuc2VhcmNoKHBvaW50KTtcblxuICAgICAgaWYgKHNlYXJjaC5mZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gUkJ1c2ggbWlnaHQgcmV0dXJuIG11bHRpcGxlIGxpbmVzIC0gb25seSBwcm9jZXNzIHRoZSBjbG9zZXN0IGxpbmUgdG8gc3BsaXR0ZXJcbiAgICAgICAgdmFyIGNsb3Nlc3RMaW5lID0gZmluZENsb3Nlc3RGZWF0dXJlKHBvaW50LCBzZWFyY2gpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBjbG9zZXN0IGxpbmUgZnJvbSByZXN1bHRzIHNpbmNlIHRoaXMgd2lsbCBiZSBzcGxpdCBpbnRvIHR3byBsaW5lc1xuICAgICAgICAvLyBUaGlzIHJlbW92ZXMgYW55IGR1cGxpY2F0ZXMgaW5zaWRlIHRoZSByZXN1bHRzICYgaW5kZXhcbiAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgcmV0dXJuIGZlYXR1cmUuaWQgIT09IGNsb3Nlc3RMaW5lLmlkO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJlZS5yZW1vdmUoY2xvc2VzdExpbmUpO1xuXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgdHdvIG5ld2x5IHNwbGl0IGxpbmVzIGludG8gdGhlIHJlc3VsdHNcbiAgICAgICAgZmVhdHVyZUVhY2goc3BsaXRMaW5lV2l0aFBvaW50KGNsb3Nlc3RMaW5lLCBwb2ludCksIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGxpbmUpO1xuICAgICAgICAgIHRyZWUuaW5zZXJ0KGxpbmUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24ocmVzdWx0cyk7XG59XG5cbi8qKlxuICogU3BsaXQgTGluZVN0cmluZyB3aXRoIFBvaW50XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gbGluZSBMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge0ZlYXR1cmU8UG9pbnQ+fSBzcGxpdHRlciBQb2ludFxuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPExpbmVTdHJpbmc+fSBzcGxpdCBMaW5lU3RyaW5nc1xuICovXG5mdW5jdGlvbiBzcGxpdExpbmVXaXRoUG9pbnQobGluZSwgc3BsaXR0ZXIpIHtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcblxuICAvLyBoYW5kbGUgZW5kcG9pbnRzXG4gIHZhciBzdGFydFBvaW50ID0gZ2V0Q29vcmRzKGxpbmUpWzBdO1xuICB2YXIgZW5kUG9pbnQgPSBnZXRDb29yZHMobGluZSlbbGluZS5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGggLSAxXTtcbiAgaWYgKFxuICAgIHBvaW50c0VxdWFscyhzdGFydFBvaW50LCBnZXRDb29yZChzcGxpdHRlcikpIHx8XG4gICAgcG9pbnRzRXF1YWxzKGVuZFBvaW50LCBnZXRDb29yZChzcGxpdHRlcikpXG4gIClcbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oW2xpbmVdKTtcblxuICAvLyBDcmVhdGUgc3BhdGlhbCBpbmRleFxuICB2YXIgdHJlZSA9IHJidXNoKCk7XG4gIHZhciBzZWdtZW50cyA9IGxpbmVTZWdtZW50KGxpbmUpO1xuICB0cmVlLmxvYWQoc2VnbWVudHMpO1xuXG4gIC8vIEZpbmQgYWxsIHNlZ21lbnRzIHRoYXQgYXJlIHdpdGhpbiBiYm94IG9mIHNwbGl0dGVyXG4gIHZhciBzZWFyY2ggPSB0cmVlLnNlYXJjaChzcGxpdHRlcik7XG5cbiAgLy8gUmV0dXJuIGl0c2VsZiBpZiBwb2ludCBpcyBub3Qgd2l0aGluIHNwYXRpYWwgaW5kZXhcbiAgaWYgKCFzZWFyY2guZmVhdHVyZXMubGVuZ3RoKSByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oW2xpbmVdKTtcblxuICAvLyBSQnVzaCBtaWdodCByZXR1cm4gbXVsdGlwbGUgbGluZXMgLSBvbmx5IHByb2Nlc3MgdGhlIGNsb3Nlc3QgbGluZSB0byBzcGxpdHRlclxuICB2YXIgY2xvc2VzdFNlZ21lbnQgPSBmaW5kQ2xvc2VzdEZlYXR1cmUoc3BsaXR0ZXIsIHNlYXJjaCk7XG5cbiAgLy8gSW5pdGlhbCB2YWx1ZSBpcyB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIGZpcnN0IHNlZ21lbnRzIChiZWdpbm5pbmcgb2YgbGluZSlcbiAgdmFyIGluaXRpYWxWYWx1ZSA9IFtzdGFydFBvaW50XTtcbiAgdmFyIGxhc3RDb29yZHMgPSBmZWF0dXJlUmVkdWNlKFxuICAgIHNlZ21lbnRzLFxuICAgIGZ1bmN0aW9uIChwcmV2aW91cywgY3VycmVudCwgaW5kZXgpIHtcbiAgICAgIHZhciBjdXJyZW50Q29vcmRzID0gZ2V0Q29vcmRzKGN1cnJlbnQpWzFdO1xuICAgICAgdmFyIHNwbGl0dGVyQ29vcmRzID0gZ2V0Q29vcmQoc3BsaXR0ZXIpO1xuXG4gICAgICAvLyBMb2NhdGlvbiB3aGVyZSBzZWdtZW50IGludGVyc2VjdHMgd2l0aCBsaW5lXG4gICAgICBpZiAoaW5kZXggPT09IGNsb3Nlc3RTZWdtZW50LmlkKSB7XG4gICAgICAgIHByZXZpb3VzLnB1c2goc3BsaXR0ZXJDb29yZHMpO1xuICAgICAgICByZXN1bHRzLnB1c2gobGluZVN0cmluZyhwcmV2aW91cykpO1xuICAgICAgICAvLyBEb24ndCBkdXBsaWNhdGUgc3BsaXR0ZXIgY29vcmRpbmF0ZSAoSXNzdWUgIzY4OClcbiAgICAgICAgaWYgKHBvaW50c0VxdWFscyhzcGxpdHRlckNvb3JkcywgY3VycmVudENvb3JkcykpXG4gICAgICAgICAgcmV0dXJuIFtzcGxpdHRlckNvb3Jkc107XG4gICAgICAgIHJldHVybiBbc3BsaXR0ZXJDb29yZHMsIGN1cnJlbnRDb29yZHNdO1xuXG4gICAgICAgIC8vIEtlZXAgaXRlcmF0aW5nIG92ZXIgY29vcmRzIHVudGlsIGZpbmlzaGVkIG9yIGludGVyc2VjdGlvbiBpcyBmb3VuZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldmlvdXMucHVzaChjdXJyZW50Q29vcmRzKTtcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5pdGlhbFZhbHVlXG4gICk7XG4gIC8vIEFwcGVuZCBsYXN0IGxpbmUgdG8gZmluYWwgc3BsaXQgcmVzdWx0c1xuICBpZiAobGFzdENvb3Jkcy5sZW5ndGggPiAxKSB7XG4gICAgcmVzdWx0cy5wdXNoKGxpbmVTdHJpbmcobGFzdENvb3JkcykpO1xuICB9XG4gIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihyZXN1bHRzKTtcbn1cblxuLyoqXG4gKiBGaW5kIENsb3Nlc3QgRmVhdHVyZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0ZlYXR1cmU8UG9pbnQ+fSBwb2ludCBGZWF0dXJlIG11c3QgYmUgY2xvc2VzdCB0byB0aGlzIHBvaW50XG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9uPExpbmVTdHJpbmc+fSBsaW5lcyBDb2xsZWN0aW9uIG9mIEZlYXR1cmVzXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY2xvc2VzdCBMaW5lU3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0RmVhdHVyZShwb2ludCwgbGluZXMpIHtcbiAgaWYgKCFsaW5lcy5mZWF0dXJlcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcImxpbmVzIG11c3QgY29udGFpbiBmZWF0dXJlc1wiKTtcbiAgLy8gRmlsdGVyIHRvIG9uZSBzZWdtZW50IHRoYXQgaXMgdGhlIGNsb3Nlc3QgdG8gdGhlIGxpbmVcbiAgaWYgKGxpbmVzLmZlYXR1cmVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGxpbmVzLmZlYXR1cmVzWzBdO1xuXG4gIHZhciBjbG9zZXN0RmVhdHVyZTtcbiAgdmFyIGNsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuICBmZWF0dXJlRWFjaChsaW5lcywgZnVuY3Rpb24gKHNlZ21lbnQpIHtcbiAgICB2YXIgcHQgPSBuZWFyZXN0UG9pbnRPbkxpbmUoc2VnbWVudCwgcG9pbnQpO1xuICAgIHZhciBkaXN0ID0gcHQucHJvcGVydGllcy5kaXN0O1xuICAgIGlmIChkaXN0IDwgY2xvc2VzdERpc3RhbmNlKSB7XG4gICAgICBjbG9zZXN0RmVhdHVyZSA9IHNlZ21lbnQ7XG4gICAgICBjbG9zZXN0RGlzdGFuY2UgPSBkaXN0O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjbG9zZXN0RmVhdHVyZTtcbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gcG9pbnRzIGFuZCByZXR1cm5zIGlmIHRoZXkgYXJlIGVxdWFsc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHB0MSBwb2ludFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBwdDIgcG9pbnRcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZXkgYXJlIGVxdWFsc1xuICovXG5mdW5jdGlvbiBwb2ludHNFcXVhbHMocHQxLCBwdDIpIHtcbiAgcmV0dXJuIHB0MVswXSA9PT0gcHQyWzBdICYmIHB0MVsxXSA9PT0gcHQyWzFdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBsaW5lU3BsaXQ7XG4iLCAiaW1wb3J0IHsgZ2V0Q29vcmQgfSBmcm9tIFwiQHR1cmYvaW52YXJpYW50XCI7XG5pbXBvcnQgeyByYWRpYW5zVG9MZW5ndGgsIGRlZ3JlZXNUb1JhZGlhbnMsIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbi8vaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IYXZlcnNpbmVfZm9ybXVsYVxuLy9odHRwOi8vd3d3Lm1vdmFibGUtdHlwZS5jby51ay9zY3JpcHRzL2xhdGxvbmcuaHRtbFxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byB7QGxpbmsgUG9pbnR8cG9pbnRzfSBpbiBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgb3Iga2lsb21ldGVycy5cbiAqIFRoaXMgdXNlcyB0aGUgW0hhdmVyc2luZSBmb3JtdWxhXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hhdmVyc2luZV9mb3JtdWxhKSB0byBhY2NvdW50IGZvciBnbG9iYWwgY3VydmF0dXJlLlxuICpcbiAqIEBuYW1lIGRpc3RhbmNlXG4gKiBAcGFyYW0ge0Nvb3JkIHwgUG9pbnR9IGZyb20gb3JpZ2luIHBvaW50IG9yIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7Q29vcmQgfCBQb2ludH0gdG8gZGVzdGluYXRpb24gcG9pbnQgb3IgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pdHM9J2tpbG9tZXRlcnMnXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIG9yIGtpbG9tZXRlcnNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwb2ludHNcbiAqIEBleGFtcGxlXG4gKiB2YXIgZnJvbSA9IHR1cmYucG9pbnQoWy03NS4zNDMsIDM5Ljk4NF0pO1xuICogdmFyIHRvID0gdHVyZi5wb2ludChbLTc1LjUzNCwgMzkuMTIzXSk7XG4gKiB2YXIgb3B0aW9ucyA9IHt1bml0czogJ21pbGVzJ307XG4gKlxuICogdmFyIGRpc3RhbmNlID0gdHVyZi5kaXN0YW5jZShmcm9tLCB0bywgb3B0aW9ucyk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW2Zyb20sIHRvXTtcbiAqIGZyb20ucHJvcGVydGllcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICogdG8ucHJvcGVydGllcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICovXG5mdW5jdGlvbiBkaXN0YW5jZShmcm9tLCB0bywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGNvb3JkaW5hdGVzMSA9IGdldENvb3JkKGZyb20pO1xuICAgIHZhciBjb29yZGluYXRlczIgPSBnZXRDb29yZCh0byk7XG4gICAgdmFyIGRMYXQgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMlsxXSAtIGNvb3JkaW5hdGVzMVsxXSk7XG4gICAgdmFyIGRMb24gPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMlswXSAtIGNvb3JkaW5hdGVzMVswXSk7XG4gICAgdmFyIGxhdDEgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMVsxXSk7XG4gICAgdmFyIGxhdDIgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMlsxXSk7XG4gICAgdmFyIGEgPSBNYXRoLnBvdyhNYXRoLnNpbihkTGF0IC8gMiksIDIpICtcbiAgICAgICAgTWF0aC5wb3coTWF0aC5zaW4oZExvbiAvIDIpLCAyKSAqIE1hdGguY29zKGxhdDEpICogTWF0aC5jb3MobGF0Mik7XG4gICAgcmV0dXJuIHJhZGlhbnNUb0xlbmd0aCgyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpLCBvcHRpb25zLnVuaXRzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGRpc3RhbmNlO1xuIiwgImltcG9ydCBkaXN0YW5jZSBmcm9tICdAdHVyZi9kaXN0YW5jZSc7XG5cbi8qKlxuICogVGFrZXMgYSBib3VuZGluZyBib3ggYW5kIGNhbGN1bGF0ZXMgdGhlIG1pbmltdW0gc3F1YXJlIGJvdW5kaW5nIGJveCB0aGF0XG4gKiB3b3VsZCBjb250YWluIHRoZSBpbnB1dC5cbiAqXG4gKiBAbmFtZSBzcXVhcmVcbiAqIEBwYXJhbSB7QkJveH0gYmJveCBleHRlbnQgaW4gW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gb3JkZXJcbiAqIEByZXR1cm5zIHtCQm94fSBhIHNxdWFyZSBzdXJyb3VuZGluZyBgYmJveGBcbiAqIEBleGFtcGxlXG4gKiB2YXIgYmJveCA9IFstMjAsIC0yMCwgLTE1LCAwXTtcbiAqIHZhciBzcXVhcmVkID0gdHVyZi5zcXVhcmUoYmJveCk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3R1cmYuYmJveFBvbHlnb24oYmJveCksIHR1cmYuYmJveFBvbHlnb24oc3F1YXJlZCldXG4gKi9cbmZ1bmN0aW9uIHNxdWFyZShiYm94KSB7XG4gIHZhciB3ZXN0ID0gYmJveFswXTtcbiAgdmFyIHNvdXRoID0gYmJveFsxXTtcbiAgdmFyIGVhc3QgPSBiYm94WzJdO1xuICB2YXIgbm9ydGggPSBiYm94WzNdO1xuXG4gIHZhciBob3Jpem9udGFsRGlzdGFuY2UgPSBkaXN0YW5jZShiYm94LnNsaWNlKDAsIDIpLCBbZWFzdCwgc291dGhdKTtcbiAgdmFyIHZlcnRpY2FsRGlzdGFuY2UgPSBkaXN0YW5jZShiYm94LnNsaWNlKDAsIDIpLCBbd2VzdCwgbm9ydGhdKTtcbiAgaWYgKGhvcml6b250YWxEaXN0YW5jZSA+PSB2ZXJ0aWNhbERpc3RhbmNlKSB7XG4gICAgdmFyIHZlcnRpY2FsTWlkcG9pbnQgPSAoc291dGggKyBub3J0aCkgLyAyO1xuICAgIHJldHVybiBbXG4gICAgICB3ZXN0LFxuICAgICAgdmVydGljYWxNaWRwb2ludCAtIChlYXN0IC0gd2VzdCkgLyAyLFxuICAgICAgZWFzdCxcbiAgICAgIHZlcnRpY2FsTWlkcG9pbnQgKyAoZWFzdCAtIHdlc3QpIC8gMixcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIHZhciBob3Jpem9udGFsTWlkcG9pbnQgPSAod2VzdCArIGVhc3QpIC8gMjtcbiAgICByZXR1cm4gW1xuICAgICAgaG9yaXpvbnRhbE1pZHBvaW50IC0gKG5vcnRoIC0gc291dGgpIC8gMixcbiAgICAgIHNvdXRoLFxuICAgICAgaG9yaXpvbnRhbE1pZHBvaW50ICsgKG5vcnRoIC0gc291dGgpIC8gMixcbiAgICAgIG5vcnRoLFxuICAgIF07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgc3F1YXJlO1xuIiwgImltcG9ydCB7IGNvb3JkRWFjaCB9IGZyb20gXCJAdHVyZi9tZXRhXCI7XG4vKipcbiAqIFRha2VzIGEgc2V0IG9mIGZlYXR1cmVzLCBjYWxjdWxhdGVzIHRoZSBiYm94IG9mIGFsbCBpbnB1dCBmZWF0dXJlcywgYW5kIHJldHVybnMgYSBib3VuZGluZyBib3guXG4gKlxuICogQG5hbWUgYmJveFxuICogQHBhcmFtIHtHZW9KU09OfSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHJldHVybnMge0JCb3h9IGJib3ggZXh0ZW50IGluIFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXSBvcmRlclxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lID0gdHVyZi5saW5lU3RyaW5nKFtbLTc0LCA0MF0sIFstNzgsIDQyXSwgWy04MiwgMzVdXSk7XG4gKiB2YXIgYmJveCA9IHR1cmYuYmJveChsaW5lKTtcbiAqIHZhciBiYm94UG9seWdvbiA9IHR1cmYuYmJveFBvbHlnb24oYmJveCk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW2xpbmUsIGJib3hQb2x5Z29uXVxuICovXG5mdW5jdGlvbiBiYm94KGdlb2pzb24pIHtcbiAgICB2YXIgcmVzdWx0ID0gW0luZmluaXR5LCBJbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHldO1xuICAgIGNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgaWYgKHJlc3VsdFswXSA+IGNvb3JkWzBdKSB7XG4gICAgICAgICAgICByZXN1bHRbMF0gPSBjb29yZFswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0WzFdID4gY29vcmRbMV0pIHtcbiAgICAgICAgICAgIHJlc3VsdFsxXSA9IGNvb3JkWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRbMl0gPCBjb29yZFswXSkge1xuICAgICAgICAgICAgcmVzdWx0WzJdID0gY29vcmRbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdFszXSA8IGNvb3JkWzFdKSB7XG4gICAgICAgICAgICByZXN1bHRbM10gPSBjb29yZFsxXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5iYm94W1wiZGVmYXVsdFwiXSA9IGJib3g7XG5leHBvcnQgZGVmYXVsdCBiYm94O1xuIiwgImltcG9ydCB7IGNvb3JkRWFjaCB9IGZyb20gXCJAdHVyZi9tZXRhXCI7XG4vKipcbiAqIFRha2VzIGEgR2VvSlNPTiBGZWF0dXJlIG9yIEZlYXR1cmVDb2xsZWN0aW9uIGFuZCB0cnVuY2F0ZXMgdGhlIHByZWNpc2lvbiBvZiB0aGUgZ2VvbWV0cnkuXG4gKlxuICogQG5hbWUgdHJ1bmNhdGVcbiAqIEBwYXJhbSB7R2VvSlNPTn0gZ2VvanNvbiBhbnkgR2VvSlNPTiBGZWF0dXJlLCBGZWF0dXJlQ29sbGVjdGlvbiwgR2VvbWV0cnkgb3IgR2VvbWV0cnlDb2xsZWN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucHJlY2lzaW9uPTZdIGNvb3JkaW5hdGUgZGVjaW1hbCBwcmVjaXNpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb29yZGluYXRlcz0zXSBtYXhpbXVtIG51bWJlciBvZiBjb29yZGluYXRlcyAocHJpbWFybHkgdXNlZCB0byByZW1vdmUgeiBjb29yZGluYXRlcylcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubXV0YXRlPWZhbHNlXSBhbGxvd3MgR2VvSlNPTiBpbnB1dCB0byBiZSBtdXRhdGVkIChzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbmNyZWFzZSBpZiB0cnVlKVxuICogQHJldHVybnMge0dlb0pTT059IGxheWVyIHdpdGggdHJ1bmNhdGVkIGdlb21ldHJ5XG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50ID0gdHVyZi5wb2ludChbXG4gKiAgICAgNzAuNDY5MjMwNTU1NjY4NTksXG4gKiAgICAgNTguMTEwODg4OTA4MDI5MDYsXG4gKiAgICAgMTUwOFxuICogXSk7XG4gKiB2YXIgb3B0aW9ucyA9IHtwcmVjaXNpb246IDMsIGNvb3JkaW5hdGVzOiAyfTtcbiAqIHZhciB0cnVuY2F0ZWQgPSB0dXJmLnRydW5jYXRlKHBvaW50LCBvcHRpb25zKTtcbiAqIC8vPXRydW5jYXRlZC5nZW9tZXRyeS5jb29yZGluYXRlcyA9PiBbNzAuNDY5LCA1OC4xMTFdXG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3RydW5jYXRlZF07XG4gKi9cbmZ1bmN0aW9uIHRydW5jYXRlKGdlb2pzb24sIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAgICB2YXIgcHJlY2lzaW9uID0gb3B0aW9ucy5wcmVjaXNpb247XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gb3B0aW9ucy5jb29yZGluYXRlcztcbiAgICB2YXIgbXV0YXRlID0gb3B0aW9ucy5tdXRhdGU7XG4gICAgLy8gZGVmYXVsdCBwYXJhbXNcbiAgICBwcmVjaXNpb24gPVxuICAgICAgICBwcmVjaXNpb24gPT09IHVuZGVmaW5lZCB8fCBwcmVjaXNpb24gPT09IG51bGwgfHwgaXNOYU4ocHJlY2lzaW9uKVxuICAgICAgICAgICAgPyA2XG4gICAgICAgICAgICA6IHByZWNpc2lvbjtcbiAgICBjb29yZGluYXRlcyA9XG4gICAgICAgIGNvb3JkaW5hdGVzID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXMgPT09IG51bGwgfHwgaXNOYU4oY29vcmRpbmF0ZXMpXG4gICAgICAgICAgICA/IDNcbiAgICAgICAgICAgIDogY29vcmRpbmF0ZXM7XG4gICAgLy8gdmFsaWRhdGlvblxuICAgIGlmICghZ2VvanNvbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPGdlb2pzb24+IGlzIHJlcXVpcmVkXCIpO1xuICAgIGlmICh0eXBlb2YgcHJlY2lzaW9uICE9PSBcIm51bWJlclwiKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8cHJlY2lzaW9uPiBtdXN0IGJlIGEgbnVtYmVyXCIpO1xuICAgIGlmICh0eXBlb2YgY29vcmRpbmF0ZXMgIT09IFwibnVtYmVyXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxjb29yZGluYXRlcz4gbXVzdCBiZSBhIG51bWJlclwiKTtcbiAgICAvLyBwcmV2ZW50IGlucHV0IG11dGF0aW9uXG4gICAgaWYgKG11dGF0ZSA9PT0gZmFsc2UgfHwgbXV0YXRlID09PSB1bmRlZmluZWQpXG4gICAgICAgIGdlb2pzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGdlb2pzb24pKTtcbiAgICB2YXIgZmFjdG9yID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gICAgLy8gVHJ1bmNhdGUgQ29vcmRpbmF0ZXNcbiAgICBjb29yZEVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICB0cnVuY2F0ZUNvb3Jkcyhjb29yZHMsIGZhY3RvciwgY29vcmRpbmF0ZXMpO1xuICAgIH0pO1xuICAgIHJldHVybiBnZW9qc29uO1xufVxuLyoqXG4gKiBUcnVuY2F0ZSBDb29yZGluYXRlcyAtIE11dGF0ZXMgY29vcmRpbmF0ZXMgaW4gcGxhY2VcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBjb29yZHMgR2VvbWV0cnkgQ29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYWN0b3Igcm91bmRpbmcgZmFjdG9yIGZvciBjb29yZGluYXRlIGRlY2ltYWwgcHJlY2lzaW9uXG4gKiBAcGFyYW0ge251bWJlcn0gY29vcmRpbmF0ZXMgbWF4aW11bSBudW1iZXIgb2YgY29vcmRpbmF0ZXMgKHByaW1hcmx5IHVzZWQgdG8gcmVtb3ZlIHogY29vcmRpbmF0ZXMpXG4gKiBAcmV0dXJucyB7QXJyYXk8YW55Pn0gbXV0YXRlZCBjb29yZGluYXRlc1xuICovXG5mdW5jdGlvbiB0cnVuY2F0ZUNvb3Jkcyhjb29yZHMsIGZhY3RvciwgY29vcmRpbmF0ZXMpIHtcbiAgICAvLyBSZW1vdmUgZXh0cmEgY29vcmRpbmF0ZXMgKHVzdWFsbHkgZWxldmF0aW9uIGNvb3JkaW5hdGVzIGFuZCBtb3JlKVxuICAgIGlmIChjb29yZHMubGVuZ3RoID4gY29vcmRpbmF0ZXMpXG4gICAgICAgIGNvb3Jkcy5zcGxpY2UoY29vcmRpbmF0ZXMsIGNvb3Jkcy5sZW5ndGgpO1xuICAgIC8vIFRydW5jYXRlIGNvb3JkaW5hdGUgZGVjaW1hbHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb29yZHNbaV0gPSBNYXRoLnJvdW5kKGNvb3Jkc1tpXSAqIGZhY3RvcikgLyBmYWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBjb29yZHM7XG59XG5leHBvcnQgZGVmYXVsdCB0cnVuY2F0ZTtcbiIsICJpbXBvcnQgeyBkZWdyZWVzVG9SYWRpYW5zLCByYWRpYW5zVG9EZWdyZWVzIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbmltcG9ydCB7IGdldENvb3JkIH0gZnJvbSBcIkB0dXJmL2ludmFyaWFudFwiO1xuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IYXZlcnNpbmVfZm9ybXVsYVxuLy8gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9sYXRsb25nLmh0bWxcbi8qKlxuICogVGFrZXMgdHdvIHtAbGluayBQb2ludHxwb2ludHN9IGFuZCBmaW5kcyB0aGUgZ2VvZ3JhcGhpYyBiZWFyaW5nIGJldHdlZW4gdGhlbSxcbiAqIGkuZS4gdGhlIGFuZ2xlIG1lYXN1cmVkIGluIGRlZ3JlZXMgZnJvbSB0aGUgbm9ydGggbGluZSAoMCBkZWdyZWVzKVxuICpcbiAqIEBuYW1lIGJlYXJpbmdcbiAqIEBwYXJhbSB7Q29vcmR9IHN0YXJ0IHN0YXJ0aW5nIFBvaW50XG4gKiBAcGFyYW0ge0Nvb3JkfSBlbmQgZW5kaW5nIFBvaW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmluYWw9ZmFsc2VdIGNhbGN1bGF0ZXMgdGhlIGZpbmFsIGJlYXJpbmcgaWYgdHJ1ZVxuICogQHJldHVybnMge251bWJlcn0gYmVhcmluZyBpbiBkZWNpbWFsIGRlZ3JlZXMsIGJldHdlZW4gLTE4MCBhbmQgMTgwIGRlZ3JlZXMgKHBvc2l0aXZlIGNsb2Nrd2lzZSlcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQxID0gdHVyZi5wb2ludChbLTc1LjM0MywgMzkuOTg0XSk7XG4gKiB2YXIgcG9pbnQyID0gdHVyZi5wb2ludChbLTc1LjUzNCwgMzkuMTIzXSk7XG4gKlxuICogdmFyIGJlYXJpbmcgPSB0dXJmLmJlYXJpbmcocG9pbnQxLCBwb2ludDIpO1xuICpcbiAqIC8vYWRkVG9NYXBcbiAqIHZhciBhZGRUb01hcCA9IFtwb2ludDEsIHBvaW50Ml1cbiAqIHBvaW50MS5wcm9wZXJ0aWVzWydtYXJrZXItY29sb3InXSA9ICcjZjAwJ1xuICogcG9pbnQyLnByb3BlcnRpZXNbJ21hcmtlci1jb2xvciddID0gJyMwZjAnXG4gKiBwb2ludDEucHJvcGVydGllcy5iZWFyaW5nID0gYmVhcmluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiZWFyaW5nKHN0YXJ0LCBlbmQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIC8vIFJldmVyc2UgY2FsY3VsYXRpb25cbiAgICBpZiAob3B0aW9ucy5maW5hbCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gY2FsY3VsYXRlRmluYWxCZWFyaW5nKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgICB2YXIgY29vcmRpbmF0ZXMxID0gZ2V0Q29vcmQoc3RhcnQpO1xuICAgIHZhciBjb29yZGluYXRlczIgPSBnZXRDb29yZChlbmQpO1xuICAgIHZhciBsb24xID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczFbMF0pO1xuICAgIHZhciBsb24yID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczJbMF0pO1xuICAgIHZhciBsYXQxID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczFbMV0pO1xuICAgIHZhciBsYXQyID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczJbMV0pO1xuICAgIHZhciBhID0gTWF0aC5zaW4obG9uMiAtIGxvbjEpICogTWF0aC5jb3MobGF0Mik7XG4gICAgdmFyIGIgPSBNYXRoLmNvcyhsYXQxKSAqIE1hdGguc2luKGxhdDIpIC1cbiAgICAgICAgTWF0aC5zaW4obGF0MSkgKiBNYXRoLmNvcyhsYXQyKSAqIE1hdGguY29zKGxvbjIgLSBsb24xKTtcbiAgICByZXR1cm4gcmFkaWFuc1RvRGVncmVlcyhNYXRoLmF0YW4yKGEsIGIpKTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBGaW5hbCBCZWFyaW5nXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Q29vcmR9IHN0YXJ0IHN0YXJ0aW5nIFBvaW50XG4gKiBAcGFyYW0ge0Nvb3JkfSBlbmQgZW5kaW5nIFBvaW50XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBiZWFyaW5nXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUZpbmFsQmVhcmluZyhzdGFydCwgZW5kKSB7XG4gICAgLy8gU3dhcCBzdGFydCAmIGVuZFxuICAgIHZhciBiZWFyID0gYmVhcmluZyhlbmQsIHN0YXJ0KTtcbiAgICBiZWFyID0gKGJlYXIgKyAxODApICUgMzYwO1xuICAgIHJldHVybiBiZWFyO1xufVxuIiwgIi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGF2ZXJzaW5lX2Zvcm11bGFcbi8vIGh0dHA6Ly93d3cubW92YWJsZS10eXBlLmNvLnVrL3NjcmlwdHMvbGF0bG9uZy5odG1sXG5pbXBvcnQgeyBkZWdyZWVzVG9SYWRpYW5zLCBsZW5ndGhUb1JhZGlhbnMsIHBvaW50LCByYWRpYW5zVG9EZWdyZWVzLCB9IGZyb20gXCJAdHVyZi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBnZXRDb29yZCB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbi8qKlxuICogVGFrZXMgYSB7QGxpbmsgUG9pbnR9IGFuZCBjYWxjdWxhdGVzIHRoZSBsb2NhdGlvbiBvZiBhIGRlc3RpbmF0aW9uIHBvaW50IGdpdmVuIGEgZGlzdGFuY2UgaW5cbiAqIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBvciBraWxvbWV0ZXJzOyBhbmQgYmVhcmluZyBpbiBkZWdyZWVzLlxuICogVGhpcyB1c2VzIHRoZSBbSGF2ZXJzaW5lIGZvcm11bGFdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGF2ZXJzaW5lX2Zvcm11bGEpIHRvIGFjY291bnQgZm9yIGdsb2JhbCBjdXJ2YXR1cmUuXG4gKlxuICogQG5hbWUgZGVzdGluYXRpb25cbiAqIEBwYXJhbSB7Q29vcmR9IG9yaWdpbiBzdGFydGluZyBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIGRpc3RhbmNlIGZyb20gdGhlIG9yaWdpbiBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgcmFuZ2luZyBmcm9tIC0xODAgdG8gMTgwXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bml0cz0na2lsb21ldGVycyddIG1pbGVzLCBraWxvbWV0ZXJzLCBkZWdyZWVzLCBvciByYWRpYW5zXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvcGVydGllcz17fV0gVHJhbnNsYXRlIHByb3BlcnRpZXMgdG8gUG9pbnRcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvaW50Pn0gZGVzdGluYXRpb24gcG9pbnRcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSB0dXJmLnBvaW50KFstNzUuMzQzLCAzOS45ODRdKTtcbiAqIHZhciBkaXN0YW5jZSA9IDUwO1xuICogdmFyIGJlYXJpbmcgPSA5MDtcbiAqIHZhciBvcHRpb25zID0ge3VuaXRzOiAnbWlsZXMnfTtcbiAqXG4gKiB2YXIgZGVzdGluYXRpb24gPSB0dXJmLmRlc3RpbmF0aW9uKHBvaW50LCBkaXN0YW5jZSwgYmVhcmluZywgb3B0aW9ucyk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3BvaW50LCBkZXN0aW5hdGlvbl1cbiAqIGRlc3RpbmF0aW9uLnByb3BlcnRpZXNbJ21hcmtlci1jb2xvciddID0gJyNmMDAnO1xuICogcG9pbnQucHJvcGVydGllc1snbWFya2VyLWNvbG9yJ10gPSAnIzBmMCc7XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlc3RpbmF0aW9uKG9yaWdpbiwgZGlzdGFuY2UsIGJlYXJpbmcsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIC8vIEhhbmRsZSBpbnB1dFxuICAgIHZhciBjb29yZGluYXRlczEgPSBnZXRDb29yZChvcmlnaW4pO1xuICAgIHZhciBsb25naXR1ZGUxID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczFbMF0pO1xuICAgIHZhciBsYXRpdHVkZTEgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMVsxXSk7XG4gICAgdmFyIGJlYXJpbmdSYWQgPSBkZWdyZWVzVG9SYWRpYW5zKGJlYXJpbmcpO1xuICAgIHZhciByYWRpYW5zID0gbGVuZ3RoVG9SYWRpYW5zKGRpc3RhbmNlLCBvcHRpb25zLnVuaXRzKTtcbiAgICAvLyBNYWluXG4gICAgdmFyIGxhdGl0dWRlMiA9IE1hdGguYXNpbihNYXRoLnNpbihsYXRpdHVkZTEpICogTWF0aC5jb3MocmFkaWFucykgK1xuICAgICAgICBNYXRoLmNvcyhsYXRpdHVkZTEpICogTWF0aC5zaW4ocmFkaWFucykgKiBNYXRoLmNvcyhiZWFyaW5nUmFkKSk7XG4gICAgdmFyIGxvbmdpdHVkZTIgPSBsb25naXR1ZGUxICtcbiAgICAgICAgTWF0aC5hdGFuMihNYXRoLnNpbihiZWFyaW5nUmFkKSAqIE1hdGguc2luKHJhZGlhbnMpICogTWF0aC5jb3MobGF0aXR1ZGUxKSwgTWF0aC5jb3MocmFkaWFucykgLSBNYXRoLnNpbihsYXRpdHVkZTEpICogTWF0aC5zaW4obGF0aXR1ZGUyKSk7XG4gICAgdmFyIGxuZyA9IHJhZGlhbnNUb0RlZ3JlZXMobG9uZ2l0dWRlMik7XG4gICAgdmFyIGxhdCA9IHJhZGlhbnNUb0RlZ3JlZXMobGF0aXR1ZGUyKTtcbiAgICByZXR1cm4gcG9pbnQoW2xuZywgbGF0XSwgb3B0aW9ucy5wcm9wZXJ0aWVzKTtcbn1cbiIsICJpbXBvcnQgYmVhcmluZyBmcm9tIFwiQHR1cmYvYmVhcmluZ1wiO1xuaW1wb3J0IGRpc3RhbmNlIGZyb20gXCJAdHVyZi9kaXN0YW5jZVwiO1xuaW1wb3J0IGRlc3RpbmF0aW9uIGZyb20gXCJAdHVyZi9kZXN0aW5hdGlvblwiO1xuaW1wb3J0IGxpbmVJbnRlcnNlY3RzIGZyb20gXCJAdHVyZi9saW5lLWludGVyc2VjdFwiO1xuaW1wb3J0IHsgZmxhdHRlbkVhY2ggfSBmcm9tIFwiQHR1cmYvbWV0YVwiO1xuaW1wb3J0IHsgcG9pbnQsIGxpbmVTdHJpbmcsIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbmltcG9ydCB7IGdldENvb3JkcyB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbi8qKlxuICogVGFrZXMgYSB7QGxpbmsgUG9pbnR9IGFuZCBhIHtAbGluayBMaW5lU3RyaW5nfSBhbmQgY2FsY3VsYXRlcyB0aGUgY2xvc2VzdCBQb2ludCBvbiB0aGUgKE11bHRpKUxpbmVTdHJpbmcuXG4gKlxuICogQG5hbWUgbmVhcmVzdFBvaW50T25MaW5lXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8TGluZVN0cmluZ3xNdWx0aUxpbmVTdHJpbmc+fSBsaW5lcyBsaW5lcyB0byBzbmFwIHRvXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8UG9pbnQ+fG51bWJlcltdfSBwdCBwb2ludCB0byBzbmFwIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVuaXRzPSdraWxvbWV0ZXJzJ10gY2FuIGJlIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBvciBraWxvbWV0ZXJzXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxQb2ludD59IGNsb3Nlc3QgcG9pbnQgb24gdGhlIGBsaW5lYCB0byBgcG9pbnRgLiBUaGUgcHJvcGVydGllcyBvYmplY3Qgd2lsbCBjb250YWluIHRocmVlIHZhbHVlczogYGluZGV4YDogY2xvc2VzdCBwb2ludCB3YXMgZm91bmQgb24gbnRoIGxpbmUgcGFydCwgYGRpc3RgOiBkaXN0YW5jZSBiZXR3ZWVuIHB0IGFuZCB0aGUgY2xvc2VzdCBwb2ludCwgYGxvY2F0aW9uYDogZGlzdGFuY2UgYWxvbmcgdGhlIGxpbmUgYmV0d2VlbiBzdGFydCBhbmQgdGhlIGNsb3Nlc3QgcG9pbnQuXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmUgPSB0dXJmLmxpbmVTdHJpbmcoW1xuICogICAgIFstNzcuMDMxNjY5LCAzOC44Nzg2MDVdLFxuICogICAgIFstNzcuMDI5NjA5LCAzOC44ODE5NDZdLFxuICogICAgIFstNzcuMDIwMzM5LCAzOC44ODQwODRdLFxuICogICAgIFstNzcuMDI1NjYxLCAzOC44ODU4MjFdLFxuICogICAgIFstNzcuMDIxODg0LCAzOC44ODk1NjNdLFxuICogICAgIFstNzcuMDE5ODI0LCAzOC44OTIzNjhdXG4gKiBdKTtcbiAqIHZhciBwdCA9IHR1cmYucG9pbnQoWy03Ny4wMzcwNzYsIDM4Ljg4NDAxN10pO1xuICpcbiAqIHZhciBzbmFwcGVkID0gdHVyZi5uZWFyZXN0UG9pbnRPbkxpbmUobGluZSwgcHQsIHt1bml0czogJ21pbGVzJ30pO1xuICpcbiAqIC8vYWRkVG9NYXBcbiAqIHZhciBhZGRUb01hcCA9IFtsaW5lLCBwdCwgc25hcHBlZF07XG4gKiBzbmFwcGVkLnByb3BlcnRpZXNbJ21hcmtlci1jb2xvciddID0gJyMwMGYnO1xuICovXG5mdW5jdGlvbiBuZWFyZXN0UG9pbnRPbkxpbmUobGluZXMsIHB0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgY2xvc2VzdFB0ID0gcG9pbnQoW0luZmluaXR5LCBJbmZpbml0eV0sIHtcbiAgICAgICAgZGlzdDogSW5maW5pdHksXG4gICAgfSk7XG4gICAgdmFyIGxlbmd0aCA9IDAuMDtcbiAgICBmbGF0dGVuRWFjaChsaW5lcywgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgdmFyIGNvb3JkcyA9IGdldENvb3JkcyhsaW5lKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAvL3N0YXJ0XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBwb2ludChjb29yZHNbaV0pO1xuICAgICAgICAgICAgc3RhcnQucHJvcGVydGllcy5kaXN0ID0gZGlzdGFuY2UocHQsIHN0YXJ0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vc3RvcFxuICAgICAgICAgICAgdmFyIHN0b3BfMSA9IHBvaW50KGNvb3Jkc1tpICsgMV0pO1xuICAgICAgICAgICAgc3RvcF8xLnByb3BlcnRpZXMuZGlzdCA9IGRpc3RhbmNlKHB0LCBzdG9wXzEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gc2VjdGlvbkxlbmd0aFxuICAgICAgICAgICAgdmFyIHNlY3Rpb25MZW5ndGggPSBkaXN0YW5jZShzdGFydCwgc3RvcF8xLCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vcGVycGVuZGljdWxhclxuICAgICAgICAgICAgdmFyIGhlaWdodERpc3RhbmNlID0gTWF0aC5tYXgoc3RhcnQucHJvcGVydGllcy5kaXN0LCBzdG9wXzEucHJvcGVydGllcy5kaXN0KTtcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBiZWFyaW5nKHN0YXJ0LCBzdG9wXzEpO1xuICAgICAgICAgICAgdmFyIHBlcnBlbmRpY3VsYXJQdDEgPSBkZXN0aW5hdGlvbihwdCwgaGVpZ2h0RGlzdGFuY2UsIGRpcmVjdGlvbiArIDkwLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHZhciBwZXJwZW5kaWN1bGFyUHQyID0gZGVzdGluYXRpb24ocHQsIGhlaWdodERpc3RhbmNlLCBkaXJlY3Rpb24gLSA5MCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0gbGluZUludGVyc2VjdHMobGluZVN0cmluZyhbXG4gICAgICAgICAgICAgICAgcGVycGVuZGljdWxhclB0MS5nZW9tZXRyeS5jb29yZGluYXRlcyxcbiAgICAgICAgICAgICAgICBwZXJwZW5kaWN1bGFyUHQyLmdlb21ldHJ5LmNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgXSksIGxpbmVTdHJpbmcoW3N0YXJ0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLCBzdG9wXzEuZ2VvbWV0cnkuY29vcmRpbmF0ZXNdKSk7XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0UHQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGludGVyc2VjdC5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0UHQgPSBpbnRlcnNlY3QuZmVhdHVyZXNbMF07XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0UHQucHJvcGVydGllcy5kaXN0ID0gZGlzdGFuY2UocHQsIGludGVyc2VjdFB0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RQdC5wcm9wZXJ0aWVzLmxvY2F0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoICsgZGlzdGFuY2Uoc3RhcnQsIGludGVyc2VjdFB0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFydC5wcm9wZXJ0aWVzLmRpc3QgPCBjbG9zZXN0UHQucHJvcGVydGllcy5kaXN0KSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0LnByb3BlcnRpZXMuaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQdC5wcm9wZXJ0aWVzLmxvY2F0aW9uID0gbGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0b3BfMS5wcm9wZXJ0aWVzLmRpc3QgPCBjbG9zZXN0UHQucHJvcGVydGllcy5kaXN0KSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0ID0gc3RvcF8xO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQdC5wcm9wZXJ0aWVzLmluZGV4ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0LnByb3BlcnRpZXMubG9jYXRpb24gPSBsZW5ndGggKyBzZWN0aW9uTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludGVyc2VjdFB0ICYmXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0UHQucHJvcGVydGllcy5kaXN0IDwgY2xvc2VzdFB0LnByb3BlcnRpZXMuZGlzdCkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQdCA9IGludGVyc2VjdFB0O1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQdC5wcm9wZXJ0aWVzLmluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsZW5ndGhcbiAgICAgICAgICAgIGxlbmd0aCArPSBzZWN0aW9uTGVuZ3RoO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb3Nlc3RQdDtcbn1cbmV4cG9ydCBkZWZhdWx0IG5lYXJlc3RQb2ludE9uTGluZTtcbiIsICJpbXBvcnQgeyBnZXRDb29yZCwgZ2V0R2VvbSB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXZlbiVFMiU4MCU5M29kZF9ydWxlXG4vLyBtb2RpZmllZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gd2hpY2ggd2FzIG1vZGlmaWVkIGZyb20gaHR0cDovL3d3dy5lY3NlLnJwaS5lZHUvSG9tZXBhZ2VzL3dyZi9SZXNlYXJjaC9TaG9ydF9Ob3Rlcy9wbnBvbHkuaHRtbFxuLyoqXG4gKiBUYWtlcyBhIHtAbGluayBQb2ludH0gYW5kIGEge0BsaW5rIFBvbHlnb259IG9yIHtAbGluayBNdWx0aVBvbHlnb259IGFuZCBkZXRlcm1pbmVzIGlmIHRoZSBwb2ludFxuICogcmVzaWRlcyBpbnNpZGUgdGhlIHBvbHlnb24uIFRoZSBwb2x5Z29uIGNhbiBiZSBjb252ZXggb3IgY29uY2F2ZS4gVGhlIGZ1bmN0aW9uIGFjY291bnRzIGZvciBob2xlcy5cbiAqXG4gKiBAbmFtZSBib29sZWFuUG9pbnRJblBvbHlnb25cbiAqIEBwYXJhbSB7Q29vcmR9IHBvaW50IGlucHV0IHBvaW50XG4gKiBAcGFyYW0ge0ZlYXR1cmU8UG9seWdvbnxNdWx0aVBvbHlnb24+fSBwb2x5Z29uIGlucHV0IHBvbHlnb24gb3IgbXVsdGlwb2x5Z29uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaWdub3JlQm91bmRhcnk9ZmFsc2VdIFRydWUgaWYgcG9seWdvbiBib3VuZGFyeSBzaG91bGQgYmUgaWdub3JlZCB3aGVuIGRldGVybWluaW5nIGlmXG4gKiB0aGUgcG9pbnQgaXMgaW5zaWRlIHRoZSBwb2x5Z29uIG90aGVyd2lzZSBmYWxzZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFBvaW50IGlzIGluc2lkZSB0aGUgUG9seWdvbjsgYGZhbHNlYCBpZiB0aGUgUG9pbnQgaXMgbm90IGluc2lkZSB0aGUgUG9seWdvblxuICogQGV4YW1wbGVcbiAqIHZhciBwdCA9IHR1cmYucG9pbnQoWy03NywgNDRdKTtcbiAqIHZhciBwb2x5ID0gdHVyZi5wb2x5Z29uKFtbXG4gKiAgIFstODEsIDQxXSxcbiAqICAgWy04MSwgNDddLFxuICogICBbLTcyLCA0N10sXG4gKiAgIFstNzIsIDQxXSxcbiAqICAgWy04MSwgNDFdXG4gKiBdXSk7XG4gKlxuICogdHVyZi5ib29sZWFuUG9pbnRJblBvbHlnb24ocHQsIHBvbHkpO1xuICogLy89IHRydWVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYm9vbGVhblBvaW50SW5Qb2x5Z29uKHBvaW50LCBwb2x5Z29uLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAvLyB2YWxpZGF0aW9uXG4gICAgaWYgKCFwb2ludCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwb2ludCBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFwb2x5Z29uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInBvbHlnb24gaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIHZhciBwdCA9IGdldENvb3JkKHBvaW50KTtcbiAgICB2YXIgZ2VvbSA9IGdldEdlb20ocG9seWdvbik7XG4gICAgdmFyIHR5cGUgPSBnZW9tLnR5cGU7XG4gICAgdmFyIGJib3ggPSBwb2x5Z29uLmJib3g7XG4gICAgdmFyIHBvbHlzID0gZ2VvbS5jb29yZGluYXRlcztcbiAgICAvLyBRdWljayBlbGltaW5hdGlvbiBpZiBwb2ludCBpcyBub3QgaW5zaWRlIGJib3hcbiAgICBpZiAoYmJveCAmJiBpbkJCb3gocHQsIGJib3gpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIG5vcm1hbGl6ZSB0byBtdWx0aXBvbHlnb25cbiAgICBpZiAodHlwZSA9PT0gXCJQb2x5Z29uXCIpIHtcbiAgICAgICAgcG9seXMgPSBbcG9seXNdO1xuICAgIH1cbiAgICB2YXIgaW5zaWRlUG9seSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9seXMubGVuZ3RoICYmICFpbnNpZGVQb2x5OyBpKyspIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgaXQgaXMgaW4gdGhlIG91dGVyIHJpbmcgZmlyc3RcbiAgICAgICAgaWYgKGluUmluZyhwdCwgcG9seXNbaV1bMF0sIG9wdGlvbnMuaWdub3JlQm91bmRhcnkpKSB7XG4gICAgICAgICAgICB2YXIgaW5Ib2xlID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgayA9IDE7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgdGhlIHBvaW50IGluIGFueSBvZiB0aGUgaG9sZXNcbiAgICAgICAgICAgIHdoaWxlIChrIDwgcG9seXNbaV0ubGVuZ3RoICYmICFpbkhvbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5SaW5nKHB0LCBwb2x5c1tpXVtrXSwgIW9wdGlvbnMuaWdub3JlQm91bmRhcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluSG9sZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaW5Ib2xlKSB7XG4gICAgICAgICAgICAgICAgaW5zaWRlUG9seSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc2lkZVBvbHk7XG59XG4vKipcbiAqIGluUmluZ1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHB0IFt4LHldXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSByaW5nIFtbeCx5XSwgW3gseV0sLi5dXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlnbm9yZUJvdW5kYXJ5IGlnbm9yZUJvdW5kYXJ5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gaW5SaW5nXG4gKi9cbmZ1bmN0aW9uIGluUmluZyhwdCwgcmluZywgaWdub3JlQm91bmRhcnkpIHtcbiAgICB2YXIgaXNJbnNpZGUgPSBmYWxzZTtcbiAgICBpZiAocmluZ1swXVswXSA9PT0gcmluZ1tyaW5nLmxlbmd0aCAtIDFdWzBdICYmXG4gICAgICAgIHJpbmdbMF1bMV0gPT09IHJpbmdbcmluZy5sZW5ndGggLSAxXVsxXSkge1xuICAgICAgICByaW5nID0gcmluZy5zbGljZSgwLCByaW5nLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IHJpbmcubGVuZ3RoIC0gMTsgaSA8IHJpbmcubGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgIHZhciB4aSA9IHJpbmdbaV1bMF07XG4gICAgICAgIHZhciB5aSA9IHJpbmdbaV1bMV07XG4gICAgICAgIHZhciB4aiA9IHJpbmdbal1bMF07XG4gICAgICAgIHZhciB5aiA9IHJpbmdbal1bMV07XG4gICAgICAgIHZhciBvbkJvdW5kYXJ5ID0gcHRbMV0gKiAoeGkgLSB4aikgKyB5aSAqICh4aiAtIHB0WzBdKSArIHlqICogKHB0WzBdIC0geGkpID09PSAwICYmXG4gICAgICAgICAgICAoeGkgLSBwdFswXSkgKiAoeGogLSBwdFswXSkgPD0gMCAmJlxuICAgICAgICAgICAgKHlpIC0gcHRbMV0pICogKHlqIC0gcHRbMV0pIDw9IDA7XG4gICAgICAgIGlmIChvbkJvdW5kYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gIWlnbm9yZUJvdW5kYXJ5O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcnNlY3QgPSB5aSA+IHB0WzFdICE9PSB5aiA+IHB0WzFdICYmXG4gICAgICAgICAgICBwdFswXSA8ICgoeGogLSB4aSkgKiAocHRbMV0gLSB5aSkpIC8gKHlqIC0geWkpICsgeGk7XG4gICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgIGlzSW5zaWRlID0gIWlzSW5zaWRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc0luc2lkZTtcbn1cbi8qKlxuICogaW5CQm94XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UG9zaXRpb259IHB0IHBvaW50IFt4LHldXG4gKiBAcGFyYW0ge0JCb3h9IGJib3ggQkJveCBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2UgaWYgcG9pbnQgaXMgaW5zaWRlIEJCb3hcbiAqL1xuZnVuY3Rpb24gaW5CQm94KHB0LCBiYm94KSB7XG4gICAgcmV0dXJuIChiYm94WzBdIDw9IHB0WzBdICYmIGJib3hbMV0gPD0gcHRbMV0gJiYgYmJveFsyXSA+PSBwdFswXSAmJiBiYm94WzNdID49IHB0WzFdKTtcbn1cbiIsICJpbXBvcnQgeyBnZXRDb29yZCwgZ2V0Q29vcmRzIH0gZnJvbSBcIkB0dXJmL2ludmFyaWFudFwiO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBwb2ludCBpcyBvbiBhIGxpbmUuIEFjY2VwdHMgYSBvcHRpb25hbCBwYXJhbWV0ZXIgdG8gaWdub3JlIHRoZVxuICogc3RhcnQgYW5kIGVuZCB2ZXJ0aWNlcyBvZiB0aGUgbGluZXN0cmluZy5cbiAqXG4gKiBAbmFtZSBib29sZWFuUG9pbnRPbkxpbmVcbiAqIEBwYXJhbSB7Q29vcmR9IHB0IEdlb0pTT04gUG9pbnRcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gbGluZSBHZW9KU09OIExpbmVTdHJpbmdcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pZ25vcmVFbmRWZXJ0aWNlcz1mYWxzZV0gd2hldGhlciB0byBpZ25vcmUgdGhlIHN0YXJ0IGFuZCBlbmQgdmVydGljZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZXBzaWxvbl0gRnJhY3Rpb25hbCBudW1iZXIgdG8gY29tcGFyZSB3aXRoIHRoZSBjcm9zcyBwcm9kdWN0IHJlc3VsdC4gVXNlZnVsIGZvciBkZWFsaW5nIHdpdGggZmxvYXRpbmcgcG9pbnRzIHN1Y2ggYXMgbG5nL2xhdCBwb2ludHNcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlXG4gKiBAZXhhbXBsZVxuICogdmFyIHB0ID0gdHVyZi5wb2ludChbMCwgMF0pO1xuICogdmFyIGxpbmUgPSB0dXJmLmxpbmVTdHJpbmcoW1stMSwgLTFdLFsxLCAxXSxbMS41LCAyLjJdXSk7XG4gKiB2YXIgaXNQb2ludE9uTGluZSA9IHR1cmYuYm9vbGVhblBvaW50T25MaW5lKHB0LCBsaW5lKTtcbiAqIC8vPXRydWVcbiAqL1xuZnVuY3Rpb24gYm9vbGVhblBvaW50T25MaW5lKHB0LCBsaW5lLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAvLyBOb3JtYWxpemUgaW5wdXRzXG4gICAgdmFyIHB0Q29vcmRzID0gZ2V0Q29vcmQocHQpO1xuICAgIHZhciBsaW5lQ29vcmRzID0gZ2V0Q29vcmRzKGxpbmUpO1xuICAgIC8vIE1haW5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVDb29yZHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHZhciBpZ25vcmVCb3VuZGFyeSA9IGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucy5pZ25vcmVFbmRWZXJ0aWNlcykge1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZ25vcmVCb3VuZGFyeSA9IFwic3RhcnRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID09PSBsaW5lQ29vcmRzLmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICBpZ25vcmVCb3VuZGFyeSA9IFwiZW5kXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCAmJiBpICsgMSA9PT0gbGluZUNvb3Jkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgaWdub3JlQm91bmRhcnkgPSBcImJvdGhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQb2ludE9uTGluZVNlZ21lbnQobGluZUNvb3Jkc1tpXSwgbGluZUNvb3Jkc1tpICsgMV0sIHB0Q29vcmRzLCBpZ25vcmVCb3VuZGFyeSwgdHlwZW9mIG9wdGlvbnMuZXBzaWxvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zLmVwc2lsb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDgzMzgyMy8xOTc5MDg1XG4vLyBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMyODEyMi8xMDQ4ODQ3XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1Bvc2l0aW9ufSBsaW5lU2VnbWVudFN0YXJ0IGNvb3JkIHBhaXIgb2Ygc3RhcnQgb2YgbGluZVxuICogQHBhcmFtIHtQb3NpdGlvbn0gbGluZVNlZ21lbnRFbmQgY29vcmQgcGFpciBvZiBlbmQgb2YgbGluZVxuICogQHBhcmFtIHtQb3NpdGlvbn0gcHQgY29vcmQgcGFpciBvZiBwb2ludCB0byBjaGVja1xuICogQHBhcmFtIHtib29sZWFufHN0cmluZ30gZXhjbHVkZUJvdW5kYXJ5IHdoZXRoZXIgdGhlIHBvaW50IGlzIGFsbG93ZWQgdG8gZmFsbCBvbiB0aGUgbGluZSBlbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IGVwc2lsb24gRnJhY3Rpb25hbCBudW1iZXIgdG8gY29tcGFyZSB3aXRoIHRoZSBjcm9zcyBwcm9kdWN0IHJlc3VsdC4gVXNlZnVsIGZvciBkZWFsaW5nIHdpdGggZmxvYXRpbmcgcG9pbnRzIHN1Y2ggYXMgbG5nL2xhdCBwb2ludHNcbiAqIElmIHRydWUgd2hpY2ggZW5kIHRvIGlnbm9yZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzUG9pbnRPbkxpbmVTZWdtZW50KGxpbmVTZWdtZW50U3RhcnQsIGxpbmVTZWdtZW50RW5kLCBwdCwgZXhjbHVkZUJvdW5kYXJ5LCBlcHNpbG9uKSB7XG4gICAgdmFyIHggPSBwdFswXTtcbiAgICB2YXIgeSA9IHB0WzFdO1xuICAgIHZhciB4MSA9IGxpbmVTZWdtZW50U3RhcnRbMF07XG4gICAgdmFyIHkxID0gbGluZVNlZ21lbnRTdGFydFsxXTtcbiAgICB2YXIgeDIgPSBsaW5lU2VnbWVudEVuZFswXTtcbiAgICB2YXIgeTIgPSBsaW5lU2VnbWVudEVuZFsxXTtcbiAgICB2YXIgZHhjID0gcHRbMF0gLSB4MTtcbiAgICB2YXIgZHljID0gcHRbMV0gLSB5MTtcbiAgICB2YXIgZHhsID0geDIgLSB4MTtcbiAgICB2YXIgZHlsID0geTIgLSB5MTtcbiAgICB2YXIgY3Jvc3MgPSBkeGMgKiBkeWwgLSBkeWMgKiBkeGw7XG4gICAgaWYgKGVwc2lsb24gIT09IG51bGwpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGNyb3NzKSA+IGVwc2lsb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjcm9zcyAhPT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghZXhjbHVkZUJvdW5kYXJ5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeGwpID49IE1hdGguYWJzKGR5bCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkeGwgPiAwID8geDEgPD0geCAmJiB4IDw9IHgyIDogeDIgPD0geCAmJiB4IDw9IHgxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkeWwgPiAwID8geTEgPD0geSAmJiB5IDw9IHkyIDogeTIgPD0geSAmJiB5IDw9IHkxO1xuICAgIH1cbiAgICBlbHNlIGlmIChleGNsdWRlQm91bmRhcnkgPT09IFwic3RhcnRcIikge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHhsKSA+PSBNYXRoLmFicyhkeWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZHhsID4gMCA/IHgxIDwgeCAmJiB4IDw9IHgyIDogeDIgPD0geCAmJiB4IDwgeDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGR5bCA+IDAgPyB5MSA8IHkgJiYgeSA8PSB5MiA6IHkyIDw9IHkgJiYgeSA8IHkxO1xuICAgIH1cbiAgICBlbHNlIGlmIChleGNsdWRlQm91bmRhcnkgPT09IFwiZW5kXCIpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4bCkgPj0gTWF0aC5hYnMoZHlsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGR4bCA+IDAgPyB4MSA8PSB4ICYmIHggPCB4MiA6IHgyIDwgeCAmJiB4IDw9IHgxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkeWwgPiAwID8geTEgPD0geSAmJiB5IDwgeTIgOiB5MiA8IHkgJiYgeSA8PSB5MTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXhjbHVkZUJvdW5kYXJ5ID09PSBcImJvdGhcIikge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHhsKSA+PSBNYXRoLmFicyhkeWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZHhsID4gMCA/IHgxIDwgeCAmJiB4IDwgeDIgOiB4MiA8IHggJiYgeCA8IHgxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkeWwgPiAwID8geTEgPCB5ICYmIHkgPCB5MiA6IHkyIDwgeSAmJiB5IDwgeTE7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBkZWZhdWx0IGJvb2xlYW5Qb2ludE9uTGluZTtcbiIsICJpbXBvcnQgY2FsY0Jib3ggZnJvbSBcIkB0dXJmL2Jib3hcIjtcbmltcG9ydCBib29sZWFuUG9pbnRJblBvbHlnb24gZnJvbSBcIkB0dXJmL2Jvb2xlYW4tcG9pbnQtaW4tcG9seWdvblwiO1xuaW1wb3J0IGlzUG9pbnRPbkxpbmUgZnJvbSBcIkB0dXJmL2Jvb2xlYW4tcG9pbnQtb24tbGluZVwiO1xuaW1wb3J0IHsgZ2V0R2VvbSB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbi8qKlxuICogQm9vbGVhbi1jb250YWlucyByZXR1cm5zIFRydWUgaWYgdGhlIHNlY29uZCBnZW9tZXRyeSBpcyBjb21wbGV0ZWx5IGNvbnRhaW5lZCBieSB0aGUgZmlyc3QgZ2VvbWV0cnkuXG4gKiBUaGUgaW50ZXJpb3JzIG9mIGJvdGggZ2VvbWV0cmllcyBtdXN0IGludGVyc2VjdCBhbmQsIHRoZSBpbnRlcmlvciBhbmQgYm91bmRhcnkgb2YgdGhlIHNlY29uZGFyeSAoZ2VvbWV0cnkgYilcbiAqIG11c3Qgbm90IGludGVyc2VjdCB0aGUgZXh0ZXJpb3Igb2YgdGhlIHByaW1hcnkgKGdlb21ldHJ5IGEpLlxuICogQm9vbGVhbi1jb250YWlucyByZXR1cm5zIHRoZSBleGFjdCBvcHBvc2l0ZSByZXN1bHQgb2YgdGhlIGBAdHVyZi9ib29sZWFuLXdpdGhpbmAuXG4gKlxuICogQG5hbWUgYm9vbGVhbkNvbnRhaW5zXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8YW55Pn0gZmVhdHVyZTEgR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5XG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8YW55Pn0gZmVhdHVyZTIgR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lID0gdHVyZi5saW5lU3RyaW5nKFtbMSwgMV0sIFsxLCAyXSwgWzEsIDNdLCBbMSwgNF1dKTtcbiAqIHZhciBwb2ludCA9IHR1cmYucG9pbnQoWzEsIDJdKTtcbiAqXG4gKiB0dXJmLmJvb2xlYW5Db250YWlucyhsaW5lLCBwb2ludCk7XG4gKiAvLz10cnVlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJvb2xlYW5Db250YWlucyhmZWF0dXJlMSwgZmVhdHVyZTIpIHtcbiAgICB2YXIgZ2VvbTEgPSBnZXRHZW9tKGZlYXR1cmUxKTtcbiAgICB2YXIgZ2VvbTIgPSBnZXRHZW9tKGZlYXR1cmUyKTtcbiAgICB2YXIgdHlwZTEgPSBnZW9tMS50eXBlO1xuICAgIHZhciB0eXBlMiA9IGdlb20yLnR5cGU7XG4gICAgdmFyIGNvb3JkczEgPSBnZW9tMS5jb29yZGluYXRlcztcbiAgICB2YXIgY29vcmRzMiA9IGdlb20yLmNvb3JkaW5hdGVzO1xuICAgIHN3aXRjaCAodHlwZTEpIHtcbiAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlQ29vcmRzKGNvb3JkczEsIGNvb3JkczIpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZlYXR1cmUyIFwiICsgdHlwZTIgKyBcIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICAgICAgc3dpdGNoICh0eXBlMikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNQb2ludEluTXVsdGlQb2ludChnZW9tMSwgZ2VvbTIpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc011bHRpUG9pbnRJbk11bHRpUG9pbnQoZ2VvbTEsIGdlb20yKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmZWF0dXJlMiBcIiArIHR5cGUyICsgXCIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZTIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzUG9pbnRPbkxpbmUoZ2VvbTIsIGdlb20xLCB7IGlnbm9yZUVuZFZlcnRpY2VzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0xpbmVPbkxpbmUoZ2VvbTEsIGdlb20yKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNNdWx0aVBvaW50T25MaW5lKGdlb20xLCBnZW9tMik7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZmVhdHVyZTIgXCIgKyB0eXBlMiArIFwiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBib29sZWFuUG9pbnRJblBvbHlnb24oZ2VvbTIsIGdlb20xLCB7IGlnbm9yZUJvdW5kYXJ5OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0xpbmVJblBvbHkoZ2VvbTEsIGdlb20yKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNQb2x5SW5Qb2x5KGdlb20xLCBnZW9tMik7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTXVsdGlQb2ludEluUG9seShnZW9tMSwgZ2VvbTIpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZlYXR1cmUyIFwiICsgdHlwZTIgKyBcIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZmVhdHVyZTEgXCIgKyB0eXBlMSArIFwiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUG9pbnRJbk11bHRpUG9pbnQobXVsdGlQb2ludCwgcHQpIHtcbiAgICB2YXIgaTtcbiAgICB2YXIgb3V0cHV0ID0gZmFsc2U7XG4gICAgZm9yIChpID0gMDsgaSA8IG11bHRpUG9pbnQuY29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNvbXBhcmVDb29yZHMobXVsdGlQb2ludC5jb29yZGluYXRlc1tpXSwgcHQuY29vcmRpbmF0ZXMpKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpUG9pbnRJbk11bHRpUG9pbnQobXVsdGlQb2ludDEsIG11bHRpUG9pbnQyKSB7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IG11bHRpUG9pbnQyLmNvb3JkaW5hdGVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY29vcmQyID0gX2FbX2ldO1xuICAgICAgICB2YXIgbWF0Y2hGb3VuZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gbXVsdGlQb2ludDEuY29vcmRpbmF0ZXM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICB2YXIgY29vcmQxID0gX2NbX2JdO1xuICAgICAgICAgICAgaWYgKGNvbXBhcmVDb29yZHMoY29vcmQyLCBjb29yZDEpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXRjaEZvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aVBvaW50T25MaW5lKGxpbmVTdHJpbmcsIG11bHRpUG9pbnQpIHtcbiAgICB2YXIgaGF2ZUZvdW5kSW50ZXJpb3JQb2ludCA9IGZhbHNlO1xuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBtdWx0aVBvaW50LmNvb3JkaW5hdGVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY29vcmQgPSBfYVtfaV07XG4gICAgICAgIGlmIChpc1BvaW50T25MaW5lKGNvb3JkLCBsaW5lU3RyaW5nLCB7IGlnbm9yZUVuZFZlcnRpY2VzOiB0cnVlIH0pKSB7XG4gICAgICAgICAgICBoYXZlRm91bmRJbnRlcmlvclBvaW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUG9pbnRPbkxpbmUoY29vcmQsIGxpbmVTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhhdmVGb3VuZEludGVyaW9yUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpUG9pbnRJblBvbHkocG9seWdvbiwgbXVsdGlQb2ludCkge1xuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBtdWx0aVBvaW50LmNvb3JkaW5hdGVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY29vcmQgPSBfYVtfaV07XG4gICAgICAgIGlmICghYm9vbGVhblBvaW50SW5Qb2x5Z29uKGNvb3JkLCBwb2x5Z29uLCB7IGlnbm9yZUJvdW5kYXJ5OiB0cnVlIH0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNMaW5lT25MaW5lKGxpbmVTdHJpbmcxLCBsaW5lU3RyaW5nMikge1xuICAgIHZhciBoYXZlRm91bmRJbnRlcmlvclBvaW50ID0gZmFsc2U7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGxpbmVTdHJpbmcyLmNvb3JkaW5hdGVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY29vcmRzID0gX2FbX2ldO1xuICAgICAgICBpZiAoaXNQb2ludE9uTGluZSh7IHR5cGU6IFwiUG9pbnRcIiwgY29vcmRpbmF0ZXM6IGNvb3JkcyB9LCBsaW5lU3RyaW5nMSwge1xuICAgICAgICAgICAgaWdub3JlRW5kVmVydGljZXM6IHRydWUsXG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgICBoYXZlRm91bmRJbnRlcmlvclBvaW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUG9pbnRPbkxpbmUoeyB0eXBlOiBcIlBvaW50XCIsIGNvb3JkaW5hdGVzOiBjb29yZHMgfSwgbGluZVN0cmluZzEsIHtcbiAgICAgICAgICAgIGlnbm9yZUVuZFZlcnRpY2VzOiBmYWxzZSxcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGF2ZUZvdW5kSW50ZXJpb3JQb2ludDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmVJblBvbHkocG9seWdvbiwgbGluZXN0cmluZykge1xuICAgIHZhciBvdXRwdXQgPSBmYWxzZTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHBvbHlCYm94ID0gY2FsY0Jib3gocG9seWdvbik7XG4gICAgdmFyIGxpbmVCYm94ID0gY2FsY0Jib3gobGluZXN0cmluZyk7XG4gICAgaWYgKCFkb0JCb3hPdmVybGFwKHBvbHlCYm94LCBsaW5lQmJveCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGk7IGkgPCBsaW5lc3RyaW5nLmNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICB2YXIgbWlkUG9pbnQgPSBnZXRNaWRwb2ludChsaW5lc3RyaW5nLmNvb3JkaW5hdGVzW2ldLCBsaW5lc3RyaW5nLmNvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgICAgIGlmIChib29sZWFuUG9pbnRJblBvbHlnb24oeyB0eXBlOiBcIlBvaW50XCIsIGNvb3JkaW5hdGVzOiBtaWRQb2ludCB9LCBwb2x5Z29uLCB7XG4gICAgICAgICAgICBpZ25vcmVCb3VuZGFyeTogdHJ1ZSxcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBJcyBQb2x5Z29uMiBpbiBQb2x5Z29uMVxuICogT25seSB0YWtlcyBpbnRvIGFjY291bnQgb3V0ZXIgcmluZ3NcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPFBvbHlnb24+fSBmZWF0dXJlMSBQb2x5Z29uMVxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPFBvbHlnb24+fSBmZWF0dXJlMiBQb2x5Z29uMlxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUG9seUluUG9seShmZWF0dXJlMSwgZmVhdHVyZTIpIHtcbiAgICAvLyBIYW5kbGUgTnVsbHNcbiAgICBpZiAoZmVhdHVyZTEudHlwZSA9PT0gXCJGZWF0dXJlXCIgJiYgZmVhdHVyZTEuZ2VvbWV0cnkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZmVhdHVyZTIudHlwZSA9PT0gXCJGZWF0dXJlXCIgJiYgZmVhdHVyZTIuZ2VvbWV0cnkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcG9seTFCYm94ID0gY2FsY0Jib3goZmVhdHVyZTEpO1xuICAgIHZhciBwb2x5MkJib3ggPSBjYWxjQmJveChmZWF0dXJlMik7XG4gICAgaWYgKCFkb0JCb3hPdmVybGFwKHBvbHkxQmJveCwgcG9seTJCYm94KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBjb29yZHMgPSBnZXRHZW9tKGZlYXR1cmUyKS5jb29yZGluYXRlcztcbiAgICBmb3IgKHZhciBfaSA9IDAsIGNvb3Jkc18xID0gY29vcmRzOyBfaSA8IGNvb3Jkc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcmluZyA9IGNvb3Jkc18xW19pXTtcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCByaW5nXzEgPSByaW5nOyBfYSA8IHJpbmdfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgIHZhciBjb29yZCA9IHJpbmdfMVtfYV07XG4gICAgICAgICAgICBpZiAoIWJvb2xlYW5Qb2ludEluUG9seWdvbihjb29yZCwgZmVhdHVyZTEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRvQkJveE92ZXJsYXAoYmJveDEsIGJib3gyKSB7XG4gICAgaWYgKGJib3gxWzBdID4gYmJveDJbMF0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYmJveDFbMl0gPCBiYm94MlsyXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChiYm94MVsxXSA+IGJib3gyWzFdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGJib3gxWzNdIDwgYmJveDJbM10pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogY29tcGFyZUNvb3Jkc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1Bvc2l0aW9ufSBwYWlyMSBwb2ludCBbeCx5XVxuICogQHBhcmFtIHtQb3NpdGlvbn0gcGFpcjIgcG9pbnQgW3gseV1cbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlIGlmIGNvb3JkIHBhaXJzIG1hdGNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlQ29vcmRzKHBhaXIxLCBwYWlyMikge1xuICAgIHJldHVybiBwYWlyMVswXSA9PT0gcGFpcjJbMF0gJiYgcGFpcjFbMV0gPT09IHBhaXIyWzFdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pZHBvaW50KHBhaXIxLCBwYWlyMikge1xuICAgIHJldHVybiBbKHBhaXIxWzBdICsgcGFpcjJbMF0pIC8gMiwgKHBhaXIxWzFdICsgcGFpcjJbMV0pIC8gMl07XG59XG4iLCAiaW1wb3J0IGxpbmVJbnRlcnNlY3QgZnJvbSAnQHR1cmYvbGluZS1pbnRlcnNlY3QnO1xuaW1wb3J0IGxpbmVTcGxpdCBmcm9tICdAdHVyZi9saW5lLXNwbGl0JztcbmltcG9ydCBib29sZWFuQ29udGFpbnMgZnJvbSAnQHR1cmYvYm9vbGVhbi1jb250YWlucyc7XG5pbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnO1xuaW1wb3J0IERyYXcgZnJvbSAnLi9MLlBNLkRyYXcnO1xuaW1wb3J0IHtcbiAgZGlmZmVyZW5jZSxcbiAgZmxhdHRlblBvbHlsaW5lLFxuICBncm91cFRvTXVsdGlMaW5lU3RyaW5nLFxuICBpbnRlcnNlY3QsXG59IGZyb20gJy4uL2hlbHBlcnMvdHVyZkhlbHBlcic7XG5cbkRyYXcuQ3V0ID0gRHJhdy5Qb2x5Z29uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIHRoaXMuX3NoYXBlID0gJ0N1dCc7XG4gICAgdGhpcy50b29sYmFyQnV0dG9uTmFtZSA9ICdjdXRQb2x5Z29uJztcbiAgfSxcbiAgX2ZpbmlzaFNoYXBlKCkge1xuICAgIHRoaXMuX2VkaXRlZExheWVycyA9IFtdO1xuICAgIC8vIGlmIHNlbGYgaW50ZXJzZWN0aW9uIGlzIG5vdCBhbGxvd2VkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIC8vIENoZWNrIGlmIHBvbHlnb24gaW50ZXJzZWN0cyB3aGVuIGlzIGNvbXBsZXRlZCBhbmQgdGhlIGxpbmUgYmV0d2VlbiB0aGUgbGFzdCBhbmQgdGhlIGZpcnN0IHBvaW50IGlzIGRyYXduXG4gICAgICB0aGlzLl9oYW5kbGVTZWxmSW50ZXJzZWN0aW9uKHRydWUsIHRoaXMuX2xheWVyLmdldExhdExuZ3MoKVswXSk7XG5cbiAgICAgIGlmICh0aGlzLl9kb2VzU2VsZkludGVyc2VjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgc25hcCBmaW5pc2ggaXMgcmVxdWlyZWQgYnV0IHRoZSBsYXN0IG1hcmtlciB3YXNuJ3Qgc25hcHBlZCwgZG8gbm90IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnJlcXVpcmVTbmFwVG9GaW5pc2ggJiZcbiAgICAgICF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkICYmXG4gICAgICAhdGhpcy5faXNGaXJzdExheWVyKClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZXNcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICAvLyBvbmx5IGZpbmlzaCB0aGUgc2hhcGUgaWYgdGhlcmUgYXJlIDMgb3IgbW9yZSB2ZXJ0aWNlc1xuICAgIGlmIChjb29yZHMubGVuZ3RoIDw9IDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwb2x5Z29uTGF5ZXIgPSBMLnBvbHlnb24oY29vcmRzLCB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMpO1xuICAgIC8vIHJlYWRvdXQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxhdGxuZ3MgbGlrZSBzbmFwcGluZyBwb2ludHNcbiAgICBwb2x5Z29uTGF5ZXIuX2xhdGxuZ0luZm9zID0gdGhpcy5fbGF5ZXIuX2xhdGxuZ0luZm87XG4gICAgdGhpcy5jdXQocG9seWdvbkxheWVyKTtcblxuICAgIC8vIGNsZWFuIHVwIHNuYXBwaW5nIHN0YXRlc1xuICAgIHRoaXMuX2NsZWFudXBTbmFwcGluZygpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSBmaXJzdCB2ZXJ0ZXggZnJvbSBcIm90aGVyIHNuYXBwaW5nIGxheWVyc1wiXG4gICAgdGhpcy5fb3RoZXJTbmFwTGF5ZXJzLnNwbGljZSh0aGlzLl90ZW1wU25hcExheWVySW5kZXgsIDEpO1xuICAgIGRlbGV0ZSB0aGlzLl90ZW1wU25hcExheWVySW5kZXg7XG5cbiAgICB0aGlzLl9lZGl0ZWRMYXllcnMuZm9yRWFjaCgoeyBsYXllciwgb3JpZ2luYWxMYXllciB9KSA9PiB7XG4gICAgICAvLyBmaXJlIHBtOmN1dCBvbiB0aGUgY3V0dGVkIGxheWVyXG4gICAgICB0aGlzLl9maXJlQ3V0KG9yaWdpbmFsTGF5ZXIsIGxheWVyLCBvcmlnaW5hbExheWVyKTtcblxuICAgICAgLy8gZmlyZSBwbTpjdXQgb24gdGhlIG1hcFxuICAgICAgdGhpcy5fZmlyZUN1dCh0aGlzLl9tYXAsIGxheWVyLCBvcmlnaW5hbExheWVyKTtcblxuICAgICAgLy8gZmlyZSBlZGl0IGV2ZW50IGFmdGVyIGN1dFxuICAgICAgb3JpZ2luYWxMYXllci5wbS5fZmlyZUVkaXQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9lZGl0ZWRMYXllcnMgPSBbXTtcblxuICAgIC8vIGRpc2FibGUgZHJhd2luZ1xuICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGludWVEcmF3aW5nKSB7XG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgY3V0KGxheWVyKSB7XG4gICAgY29uc3QgYWxsID0gdGhpcy5fbWFwLl9sYXllcnM7XG4gICAgLy8gY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgc25hcHBpbmcgcG9pbnRzXG4gICAgY29uc3QgX2xhdGxuZ0luZm9zID0gbGF5ZXIuX2xhdGxuZ0luZm9zIHx8IFtdO1xuXG4gICAgLy8gZmluZCBhbGwgbGF5ZXJzIHRoYXQgaW50ZXJzZWN0IHdpdGggYGxheWVyYCwgdGhlIGp1c3QgZHJhd24gY3V0dGluZyBsYXllclxuICAgIGNvbnN0IGxheWVycyA9IE9iamVjdC5rZXlzKGFsbClcbiAgICAgIC8vIGNvbnZlcnQgb2JqZWN0IHRvIGFycmF5XG4gICAgICAubWFwKChsKSA9PiBhbGxbbF0pXG4gICAgICAvLyBvbmx5IGxheWVycyBoYW5kbGVkIGJ5IGxlYWZsZXQtZ2VvbWFuXG4gICAgICAuZmlsdGVyKChsKSA9PiBsLnBtKVxuICAgICAgLmZpbHRlcigobCkgPT4gIWwuX3BtVGVtcExheWVyKVxuICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgaWdub3JlIGxlYWZsZXQtZ2VvbWFuXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAobCkgPT5cbiAgICAgICAgICAoIUwuUE0ub3B0SW4gJiYgIWwub3B0aW9ucy5wbUlnbm9yZSkgfHwgLy8gaWYgb3B0SW4gaXMgbm90IHNldCAvIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBzZXQgLyB0cnVlIChkZWZhdWx0KVxuICAgICAgICAgIChMLlBNLm9wdEluICYmIGwub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlKTtcbiAgICAgIClcbiAgICAgIC8vIG9ubHkgcG9seWxpbmUgaW5zdGFuY2VzXG4gICAgICAuZmlsdGVyKChsKSA9PiBsIGluc3RhbmNlb2YgTC5Qb2x5bGluZSlcbiAgICAgIC8vIGV4Y2x1ZGUgdGhlIGRyYXduIG9uZVxuICAgICAgLmZpbHRlcigobCkgPT4gbCAhPT0gbGF5ZXIpXG4gICAgICAvLyBsYXllciBpcyBhbGxvd2VkIHRvIGN1dFxuICAgICAgLmZpbHRlcigobCkgPT4gbC5wbS5vcHRpb25zLmFsbG93Q3V0dGluZylcbiAgICAgIC8vIGZpbHRlciBvdXQgZXZlcnl0aGluZyB0aGF0IGlnbm9yZSBsZWFmbGV0LWdlb21hblxuICAgICAgLmZpbHRlcigobCkgPT4ge1xuICAgICAgICAvLyBUT0RPOiBhZnRlciBjdXR0aW5nIG5vdGhpbmcgZWxzZSBjYW4gYmUgY3V0dGVkIGFueW1vcmUgdW50aWwgYSBuZXcgbGlzdCBpcyBwYXNzZWQsIGJlY2F1c2UgdGhlIGxheWVycyBkb24ndCBleGlzdHMgYW55bW9yZS4gU2hvdWxkIHdlIHJlbW92ZSB0aGUgY3V0dGVkIGxheWVycyBmcm9tIHRoZSBsaXN0P1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0ICYmXG4gICAgICAgICAgTC5VdGlsLmlzQXJyYXkodGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0KSAmJlxuICAgICAgICAgIHRoaXMub3B0aW9ucy5sYXllcnNUb0N1dC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubGF5ZXJzVG9DdXQuaW5kZXhPZihsKSA+IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSlcbiAgICAgIC8vIGZpbHRlciBvdXQgZXZlcnl0aGluZyB0aGF0IGlnbm9yZSBsZWFmbGV0LWdlb21hblxuICAgICAgLmZpbHRlcigobCkgPT4gIXRoaXMuX2xheWVyR3JvdXAuaGFzTGF5ZXIobCkpXG4gICAgICAvLyBvbmx5IGxheWVycyB3aXRoIGludGVyc2VjdGlvbnNcbiAgICAgIC5maWx0ZXIoKGwpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBsaW5lSW50ZXIgPVxuICAgICAgICAgICAgISFsaW5lSW50ZXJzZWN0KGxheWVyLnRvR2VvSlNPTigxNSksIGwudG9HZW9KU09OKDE1KSkuZmVhdHVyZXNcbiAgICAgICAgICAgICAgLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBsaW5lSW50ZXIgfHxcbiAgICAgICAgICAgIChsIGluc3RhbmNlb2YgTC5Qb2x5bGluZSAmJiAhKGwgaW5zdGFuY2VvZiBMLlBvbHlnb24pKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGxpbmVJbnRlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICEhaW50ZXJzZWN0KGxheWVyLnRvR2VvSlNPTigxNSksIGwudG9HZW9KU09OKDE1KSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAobCBpbnN0YW5jZW9mIEwuUG9seWdvbikge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJZb3UgY2FuJ3QgY3V0IHBvbHlnb25zIHdpdGggc2VsZi1pbnRlcnNlY3Rpb25zXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBsYXllcnMgdGhhdCBpbnRlcnNlY3Qgd2l0aCB0aGUgZHJhd24gKGN1dHRpbmcpIGxheWVyXG4gICAgbGF5ZXJzLmZvckVhY2goKGwpID0+IHtcbiAgICAgIGxldCBuZXdMYXllcjtcbiAgICAgIGlmIChsIGluc3RhbmNlb2YgTC5Qb2x5Z29uKSB7XG4gICAgICAgIC8vIEFsc28gZm9yIEwuUmVjdGFuZ2xlXG4gICAgICAgIC8vIGVhc2llc3Qgd2F5IHRvIGNsb25lIHRoZSBjb21wbGV0ZSBsYXRsbmdzIHdpdGhvdXQgcmVmZXJlbmNlXG4gICAgICAgIG5ld0xheWVyID0gTC5wb2x5Z29uKGwuZ2V0TGF0TG5ncygpKTtcbiAgICAgICAgY29uc3QgY29vcmRzID0gbmV3TGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgICAgIC8vIHNuYXBwaW5nIHBvaW50cyBhZGRlZCB0byB0aGUgbGF5ZXIsIHNvIGJvcmRlcnMgYXJlIGN1dHRlZCBjb3JyZWN0XG4gICAgICAgIF9sYXRsbmdJbmZvcy5mb3JFYWNoKChpbmZvKSA9PiB7XG4gICAgICAgICAgaWYgKGluZm8gJiYgaW5mby5zbmFwSW5mbykge1xuICAgICAgICAgICAgY29uc3QgeyBsYXRsbmcgfSA9IGluZm87XG4gICAgICAgICAgICAvLyBnZXQgY2xvc2VzdCBsYXllciAoID09IGlucHV0IGxheWVyKSB3aXRoIHRoZSBjbG9zZXN0IHNlZ21lbnQgdG8gdGhlIGludGVyc2VjdGlvbiBwb2ludFxuICAgICAgICAgICAgY29uc3QgY2xvc2VzdCA9IHRoaXMuX2NhbGNDbG9zZXN0TGF5ZXIobGF0bG5nLCBbbmV3TGF5ZXJdKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY2xvc2VzdCAmJlxuICAgICAgICAgICAgICBjbG9zZXN0LnNlZ21lbnQgJiZcbiAgICAgICAgICAgICAgY2xvc2VzdC5kaXN0YW5jZSA8IHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2VcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCB7IHNlZ21lbnQgfSA9IGNsb3Nlc3Q7XG4gICAgICAgICAgICAgIGlmIChzZWdtZW50ICYmIHNlZ21lbnQubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpbmRleFBhdGgsIHBhcmVudFBhdGgsIG5ld0luZGV4IH0gPVxuICAgICAgICAgICAgICAgICAgTC5QTS5VdGlscy5fZ2V0SW5kZXhGcm9tU2VnbWVudChjb29yZHMsIHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIC8vIGRlZmluZSB0aGUgY29vcmRzUmluZyB0aGF0IGlzIGVkaXRlZFxuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3Jkc1JpbmcgPVxuICAgICAgICAgICAgICAgICAgaW5kZXhQYXRoLmxlbmd0aCA+IDEgPyBnZXQoY29vcmRzLCBwYXJlbnRQYXRoKSA6IGNvb3JkcztcbiAgICAgICAgICAgICAgICBjb29yZHNSaW5nLnNwbGljZShuZXdJbmRleCwgMCwgbGF0bG5nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBMLlBvbHlsaW5lXG4gICAgICAgIG5ld0xheWVyID0gbDtcbiAgICAgIH1cblxuICAgICAgLy8gZmluZCBsYXllciBkaWZmZXJlbmNlXG4gICAgICBjb25zdCBkaWZmID0gdGhpcy5fY3V0TGF5ZXIobGF5ZXIsIG5ld0xheWVyKTtcblxuICAgICAgLy8gdGhlIHJlc3VsdGluZyBsYXllciBhZnRlciB0aGUgY3V0XG4gICAgICBsZXQgcmVzdWx0TGF5ZXIgPSBMLmdlb0pTT04oZGlmZiwgbC5vcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHRMYXllci5nZXRMYXllcnMoKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgW3Jlc3VsdExheWVyXSA9IHJlc3VsdExheWVyLmdldExheWVycygpOyAvLyBwcmV2ZW50IHRoYXQgYSB1bm5lY2Vzc2FyeSBsYXllcmdyb3VwIGlzIGNyZWF0ZWRcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFBhbmUocmVzdWx0TGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICAgIGNvbnN0IHJlc3VsdGluZ0xheWVyID0gcmVzdWx0TGF5ZXIuYWRkVG8oXG4gICAgICAgIHRoaXMuX21hcC5wbS5fZ2V0Q29udGFpbmluZ0xheWVyKClcbiAgICAgICk7XG4gICAgICAvLyBnaXZlIHRoZSBuZXcgbGF5ZXIgdGhlIG9yaWdpbmFsIG9wdGlvbnNcbiAgICAgIHJlc3VsdGluZ0xheWVyLnBtLmVuYWJsZShsLnBtLm9wdGlvbnMpO1xuICAgICAgcmVzdWx0aW5nTGF5ZXIucG0uZGlzYWJsZSgpO1xuXG4gICAgICAvLyBhZGQgdGVtcGxheWVyIHByb3Agc28gcG06cmVtb3ZlIGlzbid0IGZpcmVkXG4gICAgICBsLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgICBsYXllci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgICAvLyByZW1vdmUgb2xkIGxheWVyIGFuZCBjdXR0aW5nIGxheWVyXG4gICAgICBsLnJlbW92ZSgpO1xuICAgICAgbC5yZW1vdmVGcm9tKHRoaXMuX21hcC5wbS5fZ2V0Q29udGFpbmluZ0xheWVyKCkpO1xuICAgICAgbGF5ZXIucmVtb3ZlKCk7XG4gICAgICBsYXllci5yZW1vdmVGcm9tKHRoaXMuX21hcC5wbS5fZ2V0Q29udGFpbmluZ0xheWVyKCkpO1xuXG4gICAgICAvLyBSZW1vdmUgaXQgb25seSBpZiBpdCBpcyBhIGxheWVyZ3JvdXAuIEl0IGNhbiBiZSBvbmx5IG5vdCBhIGxheWVyZ3JvdXAgaWYgYSBsYXllciBleGlzdHNcbiAgICAgIGlmIChyZXN1bHRpbmdMYXllci5nZXRMYXllcnMgJiYgcmVzdWx0aW5nTGF5ZXIuZ2V0TGF5ZXJzKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuX21hcC5wbS5yZW1vdmVMYXllcih7IHRhcmdldDogcmVzdWx0aW5nTGF5ZXIgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXN1bHRpbmdMYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICByZXN1bHRpbmdMYXllci5lYWNoTGF5ZXIoKF9sYXllcikgPT4ge1xuICAgICAgICAgIHRoaXMuX2FkZERyYXduTGF5ZXJQcm9wKF9sYXllcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9hZGREcmF3bkxheWVyUHJvcChyZXN1bHRpbmdMYXllcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hZGREcmF3bkxheWVyUHJvcChyZXN1bHRpbmdMYXllcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0ICYmXG4gICAgICAgIEwuVXRpbC5pc0FycmF5KHRoaXMub3B0aW9ucy5sYXllcnNUb0N1dCkgJiZcbiAgICAgICAgdGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0Lmxlbmd0aCA+IDBcbiAgICAgICkge1xuICAgICAgICBjb25zdCBpZHggPSB0aGlzLm9wdGlvbnMubGF5ZXJzVG9DdXQuaW5kZXhPZihsKTtcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0LnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VkaXRlZExheWVycy5wdXNoKHtcbiAgICAgICAgbGF5ZXI6IHJlc3VsdGluZ0xheWVyLFxuICAgICAgICBvcmlnaW5hbExheWVyOiBsLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG4gIF9jdXRMYXllcihsYXllciwgbCkge1xuICAgIGNvbnN0IGZnID0gTC5nZW9KU09OKCk7XG4gICAgbGV0IGRpZmY7XG4gICAgLy8gY3V0XG4gICAgaWYgKGwgaW5zdGFuY2VvZiBMLlBvbHlnb24pIHtcbiAgICAgIC8vIGZpbmQgbGF5ZXIgZGlmZmVyZW5jZVxuICAgICAgZGlmZiA9IGRpZmZlcmVuY2UobC50b0dlb0pTT04oMTUpLCBsYXllci50b0dlb0pTT04oMTUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmVhdHVyZXMgPSBmbGF0dGVuUG9seWxpbmUobCk7XG5cbiAgICAgIGZlYXR1cmVzLmZvckVhY2goKGZlYXR1cmUpID0+IHtcbiAgICAgICAgLy8gZ2V0IHNwbGl0dGVkIGxpbmUgdG8gbG9vayB3aGljaCBsaW5lIHBhcnQgaXMgY292ZXJkIGJ5IHRoZSBjdXQgcG9seWdvblxuICAgICAgICBjb25zdCBsaW5lRGlmZiA9IGxpbmVTcGxpdChmZWF0dXJlLCBsYXllci50b0dlb0pTT04oMTUpKTtcblxuICAgICAgICBsZXQgZ3JvdXA7XG4gICAgICAgIGlmIChsaW5lRGlmZiAmJiBsaW5lRGlmZi5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZ3JvdXAgPSBMLmdlb0pTT04obGluZURpZmYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdyb3VwID0gTC5nZW9KU09OKGZlYXR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAuZ2V0TGF5ZXJzKCkuZm9yRWFjaCgobGF5KSA9PiB7XG4gICAgICAgICAgLy8gYWRkIG9ubHkgcGFydHMgdG8gdGhlIG1hcCwgdGhleSBhcmUgbm90IGNvdmVyZWQgYnkgdGhlIGN1dCBwb2x5Z29uXG4gICAgICAgICAgaWYgKCFib29sZWFuQ29udGFpbnMobGF5ZXIudG9HZW9KU09OKDE1KSwgbGF5LnRvR2VvSlNPTigxNSkpKSB7XG4gICAgICAgICAgICBsYXkuYWRkVG8oZmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGZlYXR1cmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZGlmZiA9IGdyb3VwVG9NdWx0aUxpbmVTdHJpbmcoZmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlmZiA9IGZnLnRvR2VvSlNPTigxNSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmO1xuICB9LFxuICBfY2hhbmdlOiBMLlV0aWwuZmFsc2VGbixcbn0pO1xuIiwgImV4cG9ydCBkZWZhdWx0ICh4KSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfTtcbn07XG4iLCAiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5leHBvcnQgZGVmYXVsdCAoZXBzKSA9PiB7XG4gICAgY29uc3QgYWxtb3N0RXF1YWwgPSBlcHMgPyAoYSwgYikgPT4gYi5taW51cyhhKS5hYnMoKS5pc0xlc3NUaGFuT3JFcXVhbFRvKGVwcylcbiAgICAgICAgOiBjb25zdGFudChmYWxzZSk7XG4gICAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgICAgIGlmIChhbG1vc3RFcXVhbChhLCBiKSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gYS5jb21wYXJlZFRvKGIpO1xuICAgIH07XG59O1xuIiwgImltcG9ydCBjb25zdGFudCBmcm9tIFwiLi9jb25zdGFudC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGVwcykge1xuICAgIGNvbnN0IGFsbW9zdENvbGxpbmVhciA9IGVwcyA/IChhcmVhMiwgYXgsIGF5LCBjeCwgY3kpID0+IGFyZWEyLmV4cG9uZW50aWF0ZWRCeSgyKS5pc0xlc3NUaGFuT3JFcXVhbFRvKGN4Lm1pbnVzKGF4KS5leHBvbmVudGlhdGVkQnkoMikucGx1cyhjeS5taW51cyhheSkuZXhwb25lbnRpYXRlZEJ5KDIpKVxuICAgICAgICAudGltZXMoZXBzKSlcbiAgICAgICAgOiBjb25zdGFudChmYWxzZSk7XG4gICAgcmV0dXJuIChhLCBiLCBjKSA9PiB7XG4gICAgICAgIGNvbnN0IGF4ID0gYS54LCBheSA9IGEueSwgY3ggPSBjLngsIGN5ID0gYy55O1xuICAgICAgICBjb25zdCBhcmVhMiA9IGF5Lm1pbnVzKGN5KS50aW1lcyhiLngubWludXMoY3gpKS5taW51cyhheC5taW51cyhjeCkudGltZXMoYi55Lm1pbnVzKGN5KSkpO1xuICAgICAgICBpZiAoYWxtb3N0Q29sbGluZWFyKGFyZWEyLCBheCwgYXksIGN4LCBjeSkpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuIGFyZWEyLmNvbXBhcmVkVG8oMCk7XG4gICAgfTtcbn1cbiIsICIvKlxyXG4gKiAgICAgIGJpZ251bWJlci5qcyB2OS4xLjJcclxuICogICAgICBBIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgYXJiaXRyYXJ5LXByZWNpc2lvbiBhcml0aG1ldGljLlxyXG4gKiAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZ251bWJlci5qc1xyXG4gKiAgICAgIENvcHlyaWdodCAoYykgMjAyMiBNaWNoYWVsIE1jbGF1Z2hsaW4gPE04Y2g4OGxAZ21haWwuY29tPlxyXG4gKiAgICAgIE1JVCBMaWNlbnNlZC5cclxuICpcclxuICogICAgICBCaWdOdW1iZXIucHJvdG90eXBlIG1ldGhvZHMgICAgIHwgIEJpZ051bWJlciBtZXRob2RzXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgYWJzb2x1dGVWYWx1ZSAgICAgICAgICAgIGFicyAgICB8ICBjbG9uZVxyXG4gKiAgICAgIGNvbXBhcmVkVG8gICAgICAgICAgICAgICAgICAgICAgfCAgY29uZmlnICAgICAgICAgICAgICAgc2V0XHJcbiAqICAgICAgZGVjaW1hbFBsYWNlcyAgICAgICAgICAgIGRwICAgICB8ICAgICAgREVDSU1BTF9QTEFDRVNcclxuICogICAgICBkaXZpZGVkQnkgICAgICAgICAgICAgICAgZGl2ICAgIHwgICAgICBST1VORElOR19NT0RFXHJcbiAqICAgICAgZGl2aWRlZFRvSW50ZWdlckJ5ICAgICAgIGlkaXYgICB8ICAgICAgRVhQT05FTlRJQUxfQVRcclxuICogICAgICBleHBvbmVudGlhdGVkQnkgICAgICAgICAgcG93ICAgIHwgICAgICBSQU5HRVxyXG4gKiAgICAgIGludGVnZXJWYWx1ZSAgICAgICAgICAgICAgICAgICAgfCAgICAgIENSWVBUT1xyXG4gKiAgICAgIGlzRXF1YWxUbyAgICAgICAgICAgICAgICBlcSAgICAgfCAgICAgIE1PRFVMT19NT0RFXHJcbiAqICAgICAgaXNGaW5pdGUgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgUE9XX1BSRUNJU0lPTlxyXG4gKiAgICAgIGlzR3JlYXRlclRoYW4gICAgICAgICAgICBndCAgICAgfCAgICAgIEZPUk1BVFxyXG4gKiAgICAgIGlzR3JlYXRlclRoYW5PckVxdWFsVG8gICBndGUgICAgfCAgICAgIEFMUEhBQkVUXHJcbiAqICAgICAgaXNJbnRlZ2VyICAgICAgICAgICAgICAgICAgICAgICB8ICBpc0JpZ051bWJlclxyXG4gKiAgICAgIGlzTGVzc1RoYW4gICAgICAgICAgICAgICBsdCAgICAgfCAgbWF4aW11bSAgICAgICAgICAgICAgbWF4XHJcbiAqICAgICAgaXNMZXNzVGhhbk9yRXF1YWxUbyAgICAgIGx0ZSAgICB8ICBtaW5pbXVtICAgICAgICAgICAgICBtaW5cclxuICogICAgICBpc05hTiAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIHJhbmRvbVxyXG4gKiAgICAgIGlzTmVnYXRpdmUgICAgICAgICAgICAgICAgICAgICAgfCAgc3VtXHJcbiAqICAgICAgaXNQb3NpdGl2ZSAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgaXNaZXJvICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgbWludXMgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgbW9kdWxvICAgICAgICAgICAgICAgICAgIG1vZCAgICB8XHJcbiAqICAgICAgbXVsdGlwbGllZEJ5ICAgICAgICAgICAgIHRpbWVzICB8XHJcbiAqICAgICAgbmVnYXRlZCAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgcGx1cyAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgcHJlY2lzaW9uICAgICAgICAgICAgICAgIHNkICAgICB8XHJcbiAqICAgICAgc2hpZnRlZEJ5ICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgc3F1YXJlUm9vdCAgICAgICAgICAgICAgIHNxcnQgICB8XHJcbiAqICAgICAgdG9FeHBvbmVudGlhbCAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9GaXhlZCAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9Gb3JtYXQgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9GcmFjdGlvbiAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9KU09OICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9OdW1iZXIgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9QcmVjaXNpb24gICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9TdHJpbmcgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdmFsdWVPZiAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqXHJcbiAqL1xyXG5cclxuXHJcbnZhclxyXG4gIGlzTnVtZXJpYyA9IC9eLT8oPzpcXGQrKD86XFwuXFxkKik/fFxcLlxcZCspKD86ZVsrLV0/XFxkKyk/JC9pLFxyXG4gIG1hdGhjZWlsID0gTWF0aC5jZWlsLFxyXG4gIG1hdGhmbG9vciA9IE1hdGguZmxvb3IsXHJcblxyXG4gIGJpZ251bWJlckVycm9yID0gJ1tCaWdOdW1iZXIgRXJyb3JdICcsXHJcbiAgdG9vTWFueURpZ2l0cyA9IGJpZ251bWJlckVycm9yICsgJ051bWJlciBwcmltaXRpdmUgaGFzIG1vcmUgdGhhbiAxNSBzaWduaWZpY2FudCBkaWdpdHM6ICcsXHJcblxyXG4gIEJBU0UgPSAxZTE0LFxyXG4gIExPR19CQVNFID0gMTQsXHJcbiAgTUFYX1NBRkVfSU5URUdFUiA9IDB4MWZmZmZmZmZmZmZmZmYsICAgICAgICAgLy8gMl41MyAtIDFcclxuICAvLyBNQVhfSU5UMzIgPSAweDdmZmZmZmZmLCAgICAgICAgICAgICAgICAgICAvLyAyXjMxIC0gMVxyXG4gIFBPV1NfVEVOID0gWzEsIDEwLCAxMDAsIDFlMywgMWU0LCAxZTUsIDFlNiwgMWU3LCAxZTgsIDFlOSwgMWUxMCwgMWUxMSwgMWUxMiwgMWUxM10sXHJcbiAgU1FSVF9CQVNFID0gMWU3LFxyXG5cclxuICAvLyBFRElUQUJMRVxyXG4gIC8vIFRoZSBsaW1pdCBvbiB0aGUgdmFsdWUgb2YgREVDSU1BTF9QTEFDRVMsIFRPX0VYUF9ORUcsIFRPX0VYUF9QT1MsIE1JTl9FWFAsIE1BWF9FWFAsIGFuZFxyXG4gIC8vIHRoZSBhcmd1bWVudHMgdG8gdG9FeHBvbmVudGlhbCwgdG9GaXhlZCwgdG9Gb3JtYXQsIGFuZCB0b1ByZWNpc2lvbi5cclxuICBNQVggPSAxRTk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWF9JTlQzMlxyXG5cclxuXHJcbi8qXHJcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgQmlnTnVtYmVyIGNvbnN0cnVjdG9yLlxyXG4gKi9cclxuZnVuY3Rpb24gY2xvbmUoY29uZmlnT2JqZWN0KSB7XHJcbiAgdmFyIGRpdiwgY29udmVydEJhc2UsIHBhcnNlTnVtZXJpYyxcclxuICAgIFAgPSBCaWdOdW1iZXIucHJvdG90eXBlID0geyBjb25zdHJ1Y3RvcjogQmlnTnVtYmVyLCB0b1N0cmluZzogbnVsbCwgdmFsdWVPZjogbnVsbCB9LFxyXG4gICAgT05FID0gbmV3IEJpZ051bWJlcigxKSxcclxuXHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFRElUQUJMRSBDT05GSUcgREVGQVVMVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHJcbiAgICAvLyBUaGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cgbXVzdCBiZSBpbnRlZ2VycyB3aXRoaW4gdGhlIGluY2x1c2l2ZSByYW5nZXMgc3RhdGVkLlxyXG4gICAgLy8gVGhlIHZhbHVlcyBjYW4gYWxzbyBiZSBjaGFuZ2VkIGF0IHJ1bi10aW1lIHVzaW5nIEJpZ051bWJlci5zZXQuXHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGZvciBvcGVyYXRpb25zIGludm9sdmluZyBkaXZpc2lvbi5cclxuICAgIERFQ0lNQUxfUExBQ0VTID0gMjAsICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAvLyBUaGUgcm91bmRpbmcgbW9kZSB1c2VkIHdoZW4gcm91bmRpbmcgdG8gdGhlIGFib3ZlIGRlY2ltYWwgcGxhY2VzLCBhbmQgd2hlbiB1c2luZ1xyXG4gICAgLy8gdG9FeHBvbmVudGlhbCwgdG9GaXhlZCwgdG9Gb3JtYXQgYW5kIHRvUHJlY2lzaW9uLCBhbmQgcm91bmQgKGRlZmF1bHQgdmFsdWUpLlxyXG4gICAgLy8gVVAgICAgICAgICAwIEF3YXkgZnJvbSB6ZXJvLlxyXG4gICAgLy8gRE9XTiAgICAgICAxIFRvd2FyZHMgemVyby5cclxuICAgIC8vIENFSUwgICAgICAgMiBUb3dhcmRzICtJbmZpbml0eS5cclxuICAgIC8vIEZMT09SICAgICAgMyBUb3dhcmRzIC1JbmZpbml0eS5cclxuICAgIC8vIEhBTEZfVVAgICAgNCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdXAuXHJcbiAgICAvLyBIQUxGX0RPV04gIDUgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIGRvd24uXHJcbiAgICAvLyBIQUxGX0VWRU4gIDYgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgZXZlbiBuZWlnaGJvdXIuXHJcbiAgICAvLyBIQUxGX0NFSUwgIDcgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgK0luZmluaXR5LlxyXG4gICAgLy8gSEFMRl9GTE9PUiA4IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIC1JbmZpbml0eS5cclxuICAgIFJPVU5ESU5HX01PREUgPSA0LCAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA4XHJcblxyXG4gICAgLy8gRVhQT05FTlRJQUxfQVQgOiBbVE9fRVhQX05FRyAsIFRPX0VYUF9QT1NdXHJcblxyXG4gICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBiZW5lYXRoIHdoaWNoIHRvU3RyaW5nIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAvLyBOdW1iZXIgdHlwZTogLTdcclxuICAgIFRPX0VYUF9ORUcgPSAtNywgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byAtTUFYXHJcblxyXG4gICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBhYm92ZSB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgLy8gTnVtYmVyIHR5cGU6IDIxXHJcbiAgICBUT19FWFBfUE9TID0gMjEsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYXHJcblxyXG4gICAgLy8gUkFOR0UgOiBbTUlOX0VYUCwgTUFYX0VYUF1cclxuXHJcbiAgICAvLyBUaGUgbWluaW11bSBleHBvbmVudCB2YWx1ZSwgYmVuZWF0aCB3aGljaCB1bmRlcmZsb3cgdG8gemVybyBvY2N1cnMuXHJcbiAgICAvLyBOdW1iZXIgdHlwZTogLTMyNCAgKDVlLTMyNClcclxuICAgIE1JTl9FWFAgPSAtMWU3LCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLTEgdG8gLU1BWFxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IHZhbHVlLCBhYm92ZSB3aGljaCBvdmVyZmxvdyB0byBJbmZpbml0eSBvY2N1cnMuXHJcbiAgICAvLyBOdW1iZXIgdHlwZTogIDMwOCAgKDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4KVxyXG4gICAgLy8gRm9yIE1BWF9FWFAgPiAxZTcsIGUuZy4gbmV3IEJpZ051bWJlcignMWUxMDAwMDAwMDAnKS5wbHVzKDEpIG1heSBiZSBzbG93LlxyXG4gICAgTUFYX0VYUCA9IDFlNywgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxIHRvIE1BWFxyXG5cclxuICAgIC8vIFdoZXRoZXIgdG8gdXNlIGNyeXB0b2dyYXBoaWNhbGx5LXNlY3VyZSByYW5kb20gbnVtYmVyIGdlbmVyYXRpb24sIGlmIGF2YWlsYWJsZS5cclxuICAgIENSWVBUTyA9IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZSBvciBmYWxzZVxyXG5cclxuICAgIC8vIFRoZSBtb2R1bG8gbW9kZSB1c2VkIHdoZW4gY2FsY3VsYXRpbmcgdGhlIG1vZHVsdXM6IGEgbW9kIG4uXHJcbiAgICAvLyBUaGUgcXVvdGllbnQgKHEgPSBhIC8gbikgaXMgY2FsY3VsYXRlZCBhY2NvcmRpbmcgdG8gdGhlIGNvcnJlc3BvbmRpbmcgcm91bmRpbmcgbW9kZS5cclxuICAgIC8vIFRoZSByZW1haW5kZXIgKHIpIGlzIGNhbGN1bGF0ZWQgYXM6IHIgPSBhIC0gbiAqIHEuXHJcbiAgICAvL1xyXG4gICAgLy8gVVAgICAgICAgIDAgVGhlIHJlbWFpbmRlciBpcyBwb3NpdGl2ZSBpZiB0aGUgZGl2aWRlbmQgaXMgbmVnYXRpdmUsIGVsc2UgaXMgbmVnYXRpdmUuXHJcbiAgICAvLyBET1dOICAgICAgMSBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpZGVuZC5cclxuICAgIC8vICAgICAgICAgICAgIFRoaXMgbW9kdWxvIG1vZGUgaXMgY29tbW9ubHkga25vd24gYXMgJ3RydW5jYXRlZCBkaXZpc2lvbicgYW5kIGlzXHJcbiAgICAvLyAgICAgICAgICAgICBlcXVpdmFsZW50IHRvIChhICUgbikgaW4gSmF2YVNjcmlwdC5cclxuICAgIC8vIEZMT09SICAgICAzIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlzb3IgKFB5dGhvbiAlKS5cclxuICAgIC8vIEhBTEZfRVZFTiA2IFRoaXMgbW9kdWxvIG1vZGUgaW1wbGVtZW50cyB0aGUgSUVFRSA3NTQgcmVtYWluZGVyIGZ1bmN0aW9uLlxyXG4gICAgLy8gRVVDTElEICAgIDkgRXVjbGlkaWFuIGRpdmlzaW9uLiBxID0gc2lnbihuKSAqIGZsb29yKGEgLyBhYnMobikpLlxyXG4gICAgLy8gICAgICAgICAgICAgVGhlIHJlbWFpbmRlciBpcyBhbHdheXMgcG9zaXRpdmUuXHJcbiAgICAvL1xyXG4gICAgLy8gVGhlIHRydW5jYXRlZCBkaXZpc2lvbiwgZmxvb3JlZCBkaXZpc2lvbiwgRXVjbGlkaWFuIGRpdmlzaW9uIGFuZCBJRUVFIDc1NCByZW1haW5kZXJcclxuICAgIC8vIG1vZGVzIGFyZSBjb21tb25seSB1c2VkIGZvciB0aGUgbW9kdWx1cyBvcGVyYXRpb24uXHJcbiAgICAvLyBBbHRob3VnaCB0aGUgb3RoZXIgcm91bmRpbmcgbW9kZXMgY2FuIGFsc28gYmUgdXNlZCwgdGhleSBtYXkgbm90IGdpdmUgdXNlZnVsIHJlc3VsdHMuXHJcbiAgICBNT0RVTE9fTU9ERSA9IDEsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOVxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHJlc3VsdCBvZiB0aGUgZXhwb25lbnRpYXRlZEJ5IG9wZXJhdGlvbi5cclxuICAgIC8vIElmIFBPV19QUkVDSVNJT04gaXMgMCwgdGhlcmUgd2lsbCBiZSB1bmxpbWl0ZWQgc2lnbmlmaWNhbnQgZGlnaXRzLlxyXG4gICAgUE9XX1BSRUNJU0lPTiA9IDAsICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWFxyXG5cclxuICAgIC8vIFRoZSBmb3JtYXQgc3BlY2lmaWNhdGlvbiB1c2VkIGJ5IHRoZSBCaWdOdW1iZXIucHJvdG90eXBlLnRvRm9ybWF0IG1ldGhvZC5cclxuICAgIEZPUk1BVCA9IHtcclxuICAgICAgcHJlZml4OiAnJyxcclxuICAgICAgZ3JvdXBTaXplOiAzLFxyXG4gICAgICBzZWNvbmRhcnlHcm91cFNpemU6IDAsXHJcbiAgICAgIGdyb3VwU2VwYXJhdG9yOiAnLCcsXHJcbiAgICAgIGRlY2ltYWxTZXBhcmF0b3I6ICcuJyxcclxuICAgICAgZnJhY3Rpb25Hcm91cFNpemU6IDAsXHJcbiAgICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3I6ICdcXHhBMCcsICAgICAgICAvLyBub24tYnJlYWtpbmcgc3BhY2VcclxuICAgICAgc3VmZml4OiAnJ1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBUaGUgYWxwaGFiZXQgdXNlZCBmb3IgYmFzZSBjb252ZXJzaW9uLiBJdCBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycyBsb25nLCB3aXRoIG5vICcrJyxcclxuICAgIC8vICctJywgJy4nLCB3aGl0ZXNwYWNlLCBvciByZXBlYXRlZCBjaGFyYWN0ZXIuXHJcbiAgICAvLyAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVokXydcclxuICAgIEFMUEhBQkVUID0gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicsXHJcbiAgICBhbHBoYWJldEhhc05vcm1hbERlY2ltYWxEaWdpdHMgPSB0cnVlO1xyXG5cclxuXHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gIC8vIENPTlNUUlVDVE9SXHJcblxyXG5cclxuICAvKlxyXG4gICAqIFRoZSBCaWdOdW1iZXIgY29uc3RydWN0b3IgYW5kIGV4cG9ydGVkIGZ1bmN0aW9uLlxyXG4gICAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IGluc3RhbmNlIG9mIGEgQmlnTnVtYmVyIG9iamVjdC5cclxuICAgKlxyXG4gICAqIHYge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBBIG51bWVyaWMgdmFsdWUuXHJcbiAgICogW2JdIHtudW1iZXJ9IFRoZSBiYXNlIG9mIHYuIEludGVnZXIsIDIgdG8gQUxQSEFCRVQubGVuZ3RoIGluY2x1c2l2ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBCaWdOdW1iZXIodiwgYikge1xyXG4gICAgdmFyIGFscGhhYmV0LCBjLCBjYXNlQ2hhbmdlZCwgZSwgaSwgaXNOdW0sIGxlbiwgc3RyLFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICAvLyBFbmFibGUgY29uc3RydWN0b3IgY2FsbCB3aXRob3V0IGBuZXdgLlxyXG4gICAgaWYgKCEoeCBpbnN0YW5jZW9mIEJpZ051bWJlcikpIHJldHVybiBuZXcgQmlnTnVtYmVyKHYsIGIpO1xyXG5cclxuICAgIGlmIChiID09IG51bGwpIHtcclxuXHJcbiAgICAgIGlmICh2ICYmIHYuX2lzQmlnTnVtYmVyID09PSB0cnVlKSB7XHJcbiAgICAgICAgeC5zID0gdi5zO1xyXG5cclxuICAgICAgICBpZiAoIXYuYyB8fCB2LmUgPiBNQVhfRVhQKSB7XHJcbiAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodi5lIDwgTUlOX0VYUCkge1xyXG4gICAgICAgICAgeC5jID0gW3guZSA9IDBdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LmUgPSB2LmU7XHJcbiAgICAgICAgICB4LmMgPSB2LmMuc2xpY2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKChpc051bSA9IHR5cGVvZiB2ID09ICdudW1iZXInKSAmJiB2ICogMCA9PSAwKSB7XHJcblxyXG4gICAgICAgIC8vIFVzZSBgMSAvIG5gIHRvIGhhbmRsZSBtaW51cyB6ZXJvIGFsc28uXHJcbiAgICAgICAgeC5zID0gMSAvIHYgPCAwID8gKHYgPSAtdiwgLTEpIDogMTtcclxuXHJcbiAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBpbnRlZ2Vycywgd2hlcmUgbiA8IDIxNDc0ODM2NDggKDIqKjMxKS5cclxuICAgICAgICBpZiAodiA9PT0gfn52KSB7XHJcbiAgICAgICAgICBmb3IgKGUgPSAwLCBpID0gdjsgaSA+PSAxMDsgaSAvPSAxMCwgZSsrKTtcclxuXHJcbiAgICAgICAgICBpZiAoZSA+IE1BWF9FWFApIHtcclxuICAgICAgICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICAgIHguYyA9IFt2XTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdHIgPSBTdHJpbmcodik7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGlmICghaXNOdW1lcmljLnRlc3Qoc3RyID0gU3RyaW5nKHYpKSkgcmV0dXJuIHBhcnNlTnVtZXJpYyh4LCBzdHIsIGlzTnVtKTtcclxuXHJcbiAgICAgICAgeC5zID0gc3RyLmNoYXJDb2RlQXQoMCkgPT0gNDUgPyAoc3RyID0gc3RyLnNsaWNlKDEpLCAtMSkgOiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gICAgICBpZiAoKGUgPSBzdHIuaW5kZXhPZignLicpKSA+IC0xKSBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuXHJcbiAgICAgIC8vIEV4cG9uZW50aWFsIGZvcm0/XHJcbiAgICAgIGlmICgoaSA9IHN0ci5zZWFyY2goL2UvaSkpID4gMCkge1xyXG5cclxuICAgICAgICAvLyBEZXRlcm1pbmUgZXhwb25lbnQuXHJcbiAgICAgICAgaWYgKGUgPCAwKSBlID0gaTtcclxuICAgICAgICBlICs9ICtzdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAgICAgLy8gSW50ZWdlci5cclxuICAgICAgICBlID0gc3RyLmxlbmd0aDtcclxuICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gQmFzZSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7Yn0nXHJcbiAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuXHJcbiAgICAgIC8vIEFsbG93IGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGJlIHVzZWQgd2l0aCBiYXNlIDEwIGFyZ3VtZW50LCB3aGlsZVxyXG4gICAgICAvLyBhbHNvIHJvdW5kaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFzIHdpdGggb3RoZXIgYmFzZXMuXHJcbiAgICAgIGlmIChiID09IDEwICYmIGFscGhhYmV0SGFzTm9ybWFsRGVjaW1hbERpZ2l0cykge1xyXG4gICAgICAgIHggPSBuZXcgQmlnTnVtYmVyKHYpO1xyXG4gICAgICAgIHJldHVybiByb3VuZCh4LCBERUNJTUFMX1BMQUNFUyArIHguZSArIDEsIFJPVU5ESU5HX01PREUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdHIgPSBTdHJpbmcodik7XHJcblxyXG4gICAgICBpZiAoaXNOdW0gPSB0eXBlb2YgdiA9PSAnbnVtYmVyJykge1xyXG5cclxuICAgICAgICAvLyBBdm9pZCBwb3RlbnRpYWwgaW50ZXJwcmV0YXRpb24gb2YgSW5maW5pdHkgYW5kIE5hTiBhcyBiYXNlIDQ0KyB2YWx1ZXMuXHJcbiAgICAgICAgaWYgKHYgKiAwICE9IDApIHJldHVybiBwYXJzZU51bWVyaWMoeCwgc3RyLCBpc051bSwgYik7XHJcblxyXG4gICAgICAgIHgucyA9IDEgLyB2IDwgMCA/IChzdHIgPSBzdHIuc2xpY2UoMSksIC0xKSA6IDE7XHJcblxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBOdW1iZXIgcHJpbWl0aXZlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiB7bn0nXHJcbiAgICAgICAgaWYgKEJpZ051bWJlci5ERUJVRyAmJiBzdHIucmVwbGFjZSgvXjBcXC4wKnxcXC4vLCAnJykubGVuZ3RoID4gMTUpIHtcclxuICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgKHRvb01hbnlEaWdpdHMgKyB2KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5zID0gc3RyLmNoYXJDb2RlQXQoMCkgPT09IDQ1ID8gKHN0ciA9IHN0ci5zbGljZSgxKSwgLTEpIDogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxwaGFiZXQgPSBBTFBIQUJFVC5zbGljZSgwLCBiKTtcclxuICAgICAgZSA9IGkgPSAwO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgdGhhdCBzdHIgaXMgYSB2YWxpZCBiYXNlIGIgbnVtYmVyLlxyXG4gICAgICAvLyBEb24ndCB1c2UgUmVnRXhwLCBzbyBhbHBoYWJldCBjYW4gY29udGFpbiBzcGVjaWFsIGNoYXJhY3RlcnMuXHJcbiAgICAgIGZvciAobGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFscGhhYmV0LmluZGV4T2YoYyA9IHN0ci5jaGFyQXQoaSkpIDwgMCkge1xyXG4gICAgICAgICAgaWYgKGMgPT0gJy4nKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiAnLicgaXMgbm90IHRoZSBmaXJzdCBjaGFyYWN0ZXIgYW5kIGl0IGhhcyBub3QgYmUgZm91bmQgYmVmb3JlLlxyXG4gICAgICAgICAgICBpZiAoaSA+IGUpIHtcclxuICAgICAgICAgICAgICBlID0gbGVuO1xyXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCFjYXNlQ2hhbmdlZCkge1xyXG5cclxuICAgICAgICAgICAgLy8gQWxsb3cgZS5nLiBoZXhhZGVjaW1hbCAnRkYnIGFzIHdlbGwgYXMgJ2ZmJy5cclxuICAgICAgICAgICAgaWYgKHN0ciA9PSBzdHIudG9VcHBlckNhc2UoKSAmJiAoc3RyID0gc3RyLnRvTG93ZXJDYXNlKCkpIHx8XHJcbiAgICAgICAgICAgICAgICBzdHIgPT0gc3RyLnRvTG93ZXJDYXNlKCkgJiYgKHN0ciA9IHN0ci50b1VwcGVyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgICAgIGNhc2VDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBpID0gLTE7XHJcbiAgICAgICAgICAgICAgZSA9IDA7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gcGFyc2VOdW1lcmljKHgsIFN0cmluZyh2KSwgaXNOdW0sIGIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUHJldmVudCBsYXRlciBjaGVjayBmb3IgbGVuZ3RoIG9uIGNvbnZlcnRlZCBudW1iZXIuXHJcbiAgICAgIGlzTnVtID0gZmFsc2U7XHJcbiAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKHN0ciwgYiwgMTAsIHgucyk7XHJcblxyXG4gICAgICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gICAgICBpZiAoKGUgPSBzdHIuaW5kZXhPZignLicpKSA+IC0xKSBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgICAgZWxzZSBlID0gc3RyLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgbGVhZGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IDA7IHN0ci5jaGFyQ29kZUF0KGkpID09PSA0ODsgaSsrKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKGxlbiA9IHN0ci5sZW5ndGg7IHN0ci5jaGFyQ29kZUF0KC0tbGVuKSA9PT0gNDg7KTtcclxuXHJcbiAgICBpZiAoc3RyID0gc3RyLnNsaWNlKGksICsrbGVuKSkge1xyXG4gICAgICBsZW4gLT0gaTtcclxuXHJcbiAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBOdW1iZXIgcHJpbWl0aXZlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiB7bn0nXHJcbiAgICAgIGlmIChpc051bSAmJiBCaWdOdW1iZXIuREVCVUcgJiZcclxuICAgICAgICBsZW4gPiAxNSAmJiAodiA+IE1BWF9TQUZFX0lOVEVHRVIgfHwgdiAhPT0gbWF0aGZsb29yKHYpKSkge1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAodG9vTWFueURpZ2l0cyArICh4LnMgKiB2KSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICAvLyBPdmVyZmxvdz9cclxuICAgICAgaWYgKChlID0gZSAtIGkgLSAxKSA+IE1BWF9FWFApIHtcclxuXHJcbiAgICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIFVuZGVyZmxvdz9cclxuICAgICAgfSBlbHNlIGlmIChlIDwgTUlOX0VYUCkge1xyXG5cclxuICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgIHguYyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBUcmFuc2Zvcm0gYmFzZVxyXG5cclxuICAgICAgICAvLyBlIGlzIHRoZSBiYXNlIDEwIGV4cG9uZW50LlxyXG4gICAgICAgIC8vIGkgaXMgd2hlcmUgdG8gc2xpY2Ugc3RyIHRvIGdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgY29lZmZpY2llbnQgYXJyYXkuXHJcbiAgICAgICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgICAgICBpZiAoZSA8IDApIGkgKz0gTE9HX0JBU0U7ICAvLyBpIDwgMVxyXG5cclxuICAgICAgICBpZiAoaSA8IGxlbikge1xyXG4gICAgICAgICAgaWYgKGkpIHguYy5wdXNoKCtzdHIuc2xpY2UoMCwgaSkpO1xyXG5cclxuICAgICAgICAgIGZvciAobGVuIC09IExPR19CQVNFOyBpIDwgbGVuOykge1xyXG4gICAgICAgICAgICB4LmMucHVzaCgrc3RyLnNsaWNlKGksIGkgKz0gTE9HX0JBU0UpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpID0gTE9HX0JBU0UgLSAoc3RyID0gc3RyLnNsaWNlKGkpKS5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGkgLT0gbGVuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICg7IGktLTsgc3RyICs9ICcwJyk7XHJcbiAgICAgICAgeC5jLnB1c2goK3N0cik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBaZXJvLlxyXG4gICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQ09OU1RSVUNUT1IgUFJPUEVSVElFU1xyXG5cclxuXHJcbiAgQmlnTnVtYmVyLmNsb25lID0gY2xvbmU7XHJcblxyXG4gIEJpZ051bWJlci5ST1VORF9VUCA9IDA7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0RPV04gPSAxO1xyXG4gIEJpZ051bWJlci5ST1VORF9DRUlMID0gMjtcclxuICBCaWdOdW1iZXIuUk9VTkRfRkxPT1IgPSAzO1xyXG4gIEJpZ051bWJlci5ST1VORF9IQUxGX1VQID0gNDtcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9ET1dOID0gNTtcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9FVkVOID0gNjtcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9DRUlMID0gNztcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9GTE9PUiA9IDg7XHJcbiAgQmlnTnVtYmVyLkVVQ0xJRCA9IDk7XHJcblxyXG5cclxuICAvKlxyXG4gICAqIENvbmZpZ3VyZSBpbmZyZXF1ZW50bHktY2hhbmdpbmcgbGlicmFyeS13aWRlIHNldHRpbmdzLlxyXG4gICAqXHJcbiAgICogQWNjZXB0IGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgb3B0aW9uYWwgcHJvcGVydGllcyAoaWYgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgaXNcclxuICAgKiBhIG51bWJlciwgaXQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdpdGhpbiB0aGUgaW5jbHVzaXZlIHJhbmdlIHN0YXRlZCk6XHJcbiAgICpcclxuICAgKiAgIERFQ0lNQUxfUExBQ0VTICAge251bWJlcn0gICAgICAgICAgIDAgdG8gTUFYXHJcbiAgICogICBST1VORElOR19NT0RFICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIDhcclxuICAgKiAgIEVYUE9ORU5USUFMX0FUICAge251bWJlcnxudW1iZXJbXX0gIC1NQVggdG8gTUFYICBvciAgWy1NQVggdG8gMCwgMCB0byBNQVhdXHJcbiAgICogICBSQU5HRSAgICAgICAgICAgIHtudW1iZXJ8bnVtYmVyW119ICAtTUFYIHRvIE1BWCAobm90IHplcm8pICBvciAgWy1NQVggdG8gLTEsIDEgdG8gTUFYXVxyXG4gICAqICAgQ1JZUFRPICAgICAgICAgICB7Ym9vbGVhbn0gICAgICAgICAgdHJ1ZSBvciBmYWxzZVxyXG4gICAqICAgTU9EVUxPX01PREUgICAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byA5XHJcbiAgICogICBQT1dfUFJFQ0lTSU9OICAgICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIE1BWFxyXG4gICAqICAgQUxQSEFCRVQgICAgICAgICB7c3RyaW5nfSAgICAgICAgICAgQSBzdHJpbmcgb2YgdHdvIG9yIG1vcmUgdW5pcXVlIGNoYXJhY3RlcnMgd2hpY2ggZG9lc1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IGNvbnRhaW4gJy4nLlxyXG4gICAqICAgRk9STUFUICAgICAgICAgICB7b2JqZWN0fSAgICAgICAgICAgQW4gb2JqZWN0IHdpdGggc29tZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICogICAgIHByZWZpeCAgICAgICAgICAgICAgICAge3N0cmluZ31cclxuICAgKiAgICAgZ3JvdXBTaXplICAgICAgICAgICAgICB7bnVtYmVyfVxyXG4gICAqICAgICBzZWNvbmRhcnlHcm91cFNpemUgICAgIHtudW1iZXJ9XHJcbiAgICogICAgIGdyb3VwU2VwYXJhdG9yICAgICAgICAge3N0cmluZ31cclxuICAgKiAgICAgZGVjaW1hbFNlcGFyYXRvciAgICAgICB7c3RyaW5nfVxyXG4gICAqICAgICBmcmFjdGlvbkdyb3VwU2l6ZSAgICAgIHtudW1iZXJ9XHJcbiAgICogICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3Ige3N0cmluZ31cclxuICAgKiAgICAgc3VmZml4ICAgICAgICAgICAgICAgICB7c3RyaW5nfVxyXG4gICAqXHJcbiAgICogKFRoZSB2YWx1ZXMgYXNzaWduZWQgdG8gdGhlIGFib3ZlIEZPUk1BVCBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90IGNoZWNrZWQgZm9yIHZhbGlkaXR5LilcclxuICAgKlxyXG4gICAqIEUuZy5cclxuICAgKiBCaWdOdW1iZXIuY29uZmlnKHsgREVDSU1BTF9QTEFDRVMgOiAyMCwgUk9VTkRJTkdfTU9ERSA6IDQgfSlcclxuICAgKlxyXG4gICAqIElnbm9yZSBwcm9wZXJ0aWVzL3BhcmFtZXRlcnMgc2V0IHRvIG51bGwgb3IgdW5kZWZpbmVkLCBleGNlcHQgZm9yIEFMUEhBQkVULlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGFuIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIGN1cnJlbnQgdmFsdWVzLlxyXG4gICAqL1xyXG4gIEJpZ051bWJlci5jb25maWcgPSBCaWdOdW1iZXIuc2V0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgdmFyIHAsIHY7XHJcblxyXG4gICAgaWYgKG9iaiAhPSBudWxsKSB7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0Jykge1xyXG5cclxuICAgICAgICAvLyBERUNJTUFMX1BMQUNFUyB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIERFQ0lNQUxfUExBQ0VTIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnREVDSU1BTF9QTEFDRVMnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGludENoZWNrKHYsIDAsIE1BWCwgcCk7XHJcbiAgICAgICAgICBERUNJTUFMX1BMQUNFUyA9IHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBST1VORElOR19NT0RFIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIFJPVU5ESU5HX01PREUge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdST1VORElOR19NT0RFJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpbnRDaGVjayh2LCAwLCA4LCBwKTtcclxuICAgICAgICAgIFJPVU5ESU5HX01PREUgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRVhQT05FTlRJQUxfQVQge251bWJlcnxudW1iZXJbXX1cclxuICAgICAgICAvLyBJbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3JcclxuICAgICAgICAvLyBbaW50ZWdlciAtTUFYIHRvIDAgaW5jbHVzaXZlLCAwIHRvIE1BWCBpbmNsdXNpdmVdLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBFWFBPTkVOVElBTF9BVCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0VYUE9ORU5USUFMX0FUJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpZiAodiAmJiB2LnBvcCkge1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2WzBdLCAtTUFYLCAwLCBwKTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodlsxXSwgMCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgVE9fRVhQX05FRyA9IHZbMF07XHJcbiAgICAgICAgICAgIFRPX0VYUF9QT1MgPSB2WzFdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgLU1BWCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgVE9fRVhQX05FRyA9IC0oVE9fRVhQX1BPUyA9IHYgPCAwID8gLXYgOiB2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJBTkdFIHtudW1iZXJ8bnVtYmVyW119IE5vbi16ZXJvIGludGVnZXIsIC1NQVggdG8gTUFYIGluY2x1c2l2ZSBvclxyXG4gICAgICAgIC8vIFtpbnRlZ2VyIC1NQVggdG8gLTEgaW5jbHVzaXZlLCBpbnRlZ2VyIDEgdG8gTUFYIGluY2x1c2l2ZV0uXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIFJBTkdFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZXxjYW5ub3QgYmUgemVyb306IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnUkFOR0UnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGlmICh2ICYmIHYucG9wKSB7XHJcbiAgICAgICAgICAgIGludENoZWNrKHZbMF0sIC1NQVgsIC0xLCBwKTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodlsxXSwgMSwgTUFYLCBwKTtcclxuICAgICAgICAgICAgTUlOX0VYUCA9IHZbMF07XHJcbiAgICAgICAgICAgIE1BWF9FWFAgPSB2WzFdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgLU1BWCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgaWYgKHYpIHtcclxuICAgICAgICAgICAgICBNSU5fRVhQID0gLShNQVhfRVhQID0gdiA8IDAgPyAtdiA6IHYpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArIHAgKyAnIGNhbm5vdCBiZSB6ZXJvOiAnICsgdik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENSWVBUTyB7Ym9vbGVhbn0gdHJ1ZSBvciBmYWxzZS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gQ1JZUFRPIG5vdCB0cnVlIG9yIGZhbHNlOiB7dn0nXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIGNyeXB0byB1bmF2YWlsYWJsZSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnQ1JZUFRPJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpZiAodiA9PT0gISF2KSB7XHJcbiAgICAgICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvICYmXHJcbiAgICAgICAgICAgICAgIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIHx8IGNyeXB0by5yYW5kb21CeXRlcykpIHtcclxuICAgICAgICAgICAgICAgIENSWVBUTyA9IHY7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIENSWVBUTyA9ICF2O1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIENSWVBUTyA9IHY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBub3QgdHJ1ZSBvciBmYWxzZTogJyArIHYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTU9EVUxPX01PREUge251bWJlcn0gSW50ZWdlciwgMCB0byA5IGluY2x1c2l2ZS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTU9EVUxPX01PREUge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdNT0RVTE9fTU9ERScpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaW50Q2hlY2sodiwgMCwgOSwgcCk7XHJcbiAgICAgICAgICBNT0RVTE9fTU9ERSA9IHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQT1dfUFJFQ0lTSU9OIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gUE9XX1BSRUNJU0lPTiB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ1BPV19QUkVDSVNJT04nKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGludENoZWNrKHYsIDAsIE1BWCwgcCk7XHJcbiAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZPUk1BVCB7b2JqZWN0fVxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBGT1JNQVQgbm90IGFuIG9iamVjdDoge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdGT1JNQVQnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGlmICh0eXBlb2YgdiA9PSAnb2JqZWN0JykgRk9STUFUID0gdjtcclxuICAgICAgICAgIGVsc2UgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBub3QgYW4gb2JqZWN0OiAnICsgdik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBTFBIQUJFVCB7c3RyaW5nfVxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBBTFBIQUJFVCBpbnZhbGlkOiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0FMUEhBQkVUJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcblxyXG4gICAgICAgICAgLy8gRGlzYWxsb3cgaWYgbGVzcyB0aGFuIHR3byBjaGFyYWN0ZXJzLFxyXG4gICAgICAgICAgLy8gb3IgaWYgaXQgY29udGFpbnMgJysnLCAnLScsICcuJywgd2hpdGVzcGFjZSwgb3IgYSByZXBlYXRlZCBjaGFyYWN0ZXIuXHJcbiAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gJ3N0cmluZycgJiYgIS9eLj8kfFsrXFwtLlxcc118KC4pLipcXDEvLnRlc3QodikpIHtcclxuICAgICAgICAgICAgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzID0gdi5zbGljZSgwLCAxMCkgPT0gJzAxMjM0NTY3ODknO1xyXG4gICAgICAgICAgICBBTFBIQUJFVCA9IHY7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgaW52YWxpZDogJyArIHYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBPYmplY3QgZXhwZWN0ZWQ6IHt2fSdcclxuICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnT2JqZWN0IGV4cGVjdGVkOiAnICsgb2JqKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIERFQ0lNQUxfUExBQ0VTOiBERUNJTUFMX1BMQUNFUyxcclxuICAgICAgUk9VTkRJTkdfTU9ERTogUk9VTkRJTkdfTU9ERSxcclxuICAgICAgRVhQT05FTlRJQUxfQVQ6IFtUT19FWFBfTkVHLCBUT19FWFBfUE9TXSxcclxuICAgICAgUkFOR0U6IFtNSU5fRVhQLCBNQVhfRVhQXSxcclxuICAgICAgQ1JZUFRPOiBDUllQVE8sXHJcbiAgICAgIE1PRFVMT19NT0RFOiBNT0RVTE9fTU9ERSxcclxuICAgICAgUE9XX1BSRUNJU0lPTjogUE9XX1BSRUNJU0lPTixcclxuICAgICAgRk9STUFUOiBGT1JNQVQsXHJcbiAgICAgIEFMUEhBQkVUOiBBTFBIQUJFVFxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB2IGlzIGEgQmlnTnVtYmVyIGluc3RhbmNlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqXHJcbiAgICogSWYgQmlnTnVtYmVyLkRFQlVHIGlzIHRydWUsIHRocm93IGlmIGEgQmlnTnVtYmVyIGluc3RhbmNlIGlzIG5vdCB3ZWxsLWZvcm1lZC5cclxuICAgKlxyXG4gICAqIHYge2FueX1cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBJbnZhbGlkIEJpZ051bWJlcjoge3Z9J1xyXG4gICAqL1xyXG4gIEJpZ051bWJlci5pc0JpZ051bWJlciA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICBpZiAoIXYgfHwgdi5faXNCaWdOdW1iZXIgIT09IHRydWUpIHJldHVybiBmYWxzZTtcclxuICAgIGlmICghQmlnTnVtYmVyLkRFQlVHKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB2YXIgaSwgbixcclxuICAgICAgYyA9IHYuYyxcclxuICAgICAgZSA9IHYuZSxcclxuICAgICAgcyA9IHYucztcclxuXHJcbiAgICBvdXQ6IGlmICh7fS50b1N0cmluZy5jYWxsKGMpID09ICdbb2JqZWN0IEFycmF5XScpIHtcclxuXHJcbiAgICAgIGlmICgocyA9PT0gMSB8fCBzID09PSAtMSkgJiYgZSA+PSAtTUFYICYmIGUgPD0gTUFYICYmIGUgPT09IG1hdGhmbG9vcihlKSkge1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgZmlyc3QgZWxlbWVudCBpcyB6ZXJvLCB0aGUgQmlnTnVtYmVyIHZhbHVlIG11c3QgYmUgemVyby5cclxuICAgICAgICBpZiAoY1swXSA9PT0gMCkge1xyXG4gICAgICAgICAgaWYgKGUgPT09IDAgJiYgYy5sZW5ndGggPT09IDEpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgYnJlYWsgb3V0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG51bWJlciBvZiBkaWdpdHMgdGhhdCBjWzBdIHNob3VsZCBoYXZlLCBiYXNlZCBvbiB0aGUgZXhwb25lbnQuXHJcbiAgICAgICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgICAgICBpZiAoaSA8IDEpIGkgKz0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBudW1iZXIgb2YgZGlnaXRzIG9mIGNbMF0uXHJcbiAgICAgICAgLy9pZiAoTWF0aC5jZWlsKE1hdGgubG9nKGNbMF0gKyAxKSAvIE1hdGguTE4xMCkgPT0gaSkge1xyXG4gICAgICAgIGlmIChTdHJpbmcoY1swXSkubGVuZ3RoID09IGkpIHtcclxuXHJcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBuID0gY1tpXTtcclxuICAgICAgICAgICAgaWYgKG4gPCAwIHx8IG4gPj0gQkFTRSB8fCBuICE9PSBtYXRoZmxvb3IobikpIGJyZWFrIG91dDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBMYXN0IGVsZW1lbnQgY2Fubm90IGJlIHplcm8sIHVubGVzcyBpdCBpcyB0aGUgb25seSBlbGVtZW50LlxyXG4gICAgICAgICAgaWYgKG4gIT09IDApIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgIC8vIEluZmluaXR5L05hTlxyXG4gICAgfSBlbHNlIGlmIChjID09PSBudWxsICYmIGUgPT09IG51bGwgJiYgKHMgPT09IG51bGwgfHwgcyA9PT0gMSB8fCBzID09PSAtMSkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3cgRXJyb3JcclxuICAgICAgKGJpZ251bWJlckVycm9yICsgJ0ludmFsaWQgQmlnTnVtYmVyOiAnICsgdik7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIubWF4aW11bSA9IEJpZ051bWJlci5tYXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbWF4T3JNaW4oYXJndW1lbnRzLCAtMSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIubWluaW11bSA9IEJpZ051bWJlci5taW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbWF4T3JNaW4oYXJndW1lbnRzLCAxKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdpdGggYSByYW5kb20gdmFsdWUgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiAxLFxyXG4gICAqIGFuZCB3aXRoIGRwLCBvciBERUNJTUFMX1BMQUNFUyBpZiBkcCBpcyBvbWl0dGVkLCBkZWNpbWFsIHBsYWNlcyAob3IgbGVzcyBpZiB0cmFpbGluZ1xyXG4gICAqIHplcm9zIGFyZSBwcm9kdWNlZCkuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfSdcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gY3J5cHRvIHVuYXZhaWxhYmxlJ1xyXG4gICAqL1xyXG4gIEJpZ051bWJlci5yYW5kb20gPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHBvdzJfNTMgPSAweDIwMDAwMDAwMDAwMDAwO1xyXG5cclxuICAgIC8vIFJldHVybiBhIDUzIGJpdCBpbnRlZ2VyIG4sIHdoZXJlIDAgPD0gbiA8IDkwMDcxOTkyNTQ3NDA5OTIuXHJcbiAgICAvLyBDaGVjayBpZiBNYXRoLnJhbmRvbSgpIHByb2R1Y2VzIG1vcmUgdGhhbiAzMiBiaXRzIG9mIHJhbmRvbW5lc3MuXHJcbiAgICAvLyBJZiBpdCBkb2VzLCBhc3N1bWUgYXQgbGVhc3QgNTMgYml0cyBhcmUgcHJvZHVjZWQsIG90aGVyd2lzZSBhc3N1bWUgYXQgbGVhc3QgMzAgYml0cy5cclxuICAgIC8vIDB4NDAwMDAwMDAgaXMgMl4zMCwgMHg4MDAwMDAgaXMgMl4yMywgMHgxZmZmZmYgaXMgMl4yMSAtIDEuXHJcbiAgICB2YXIgcmFuZG9tNTNiaXRJbnQgPSAoTWF0aC5yYW5kb20oKSAqIHBvdzJfNTMpICYgMHgxZmZmZmZcclxuICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hdGhmbG9vcihNYXRoLnJhbmRvbSgpICogcG93Ml81Myk7IH1cclxuICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICgoTWF0aC5yYW5kb20oKSAqIDB4NDAwMDAwMDAgfCAwKSAqIDB4ODAwMDAwKSArXHJcbiAgICAgICAoTWF0aC5yYW5kb20oKSAqIDB4ODAwMDAwIHwgMCk7IH07XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkcCkge1xyXG4gICAgICB2YXIgYSwgYiwgZSwgaywgdixcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBjID0gW10sXHJcbiAgICAgICAgcmFuZCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuXHJcbiAgICAgIGlmIChkcCA9PSBudWxsKSBkcCA9IERFQ0lNQUxfUExBQ0VTO1xyXG4gICAgICBlbHNlIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG5cclxuICAgICAgayA9IG1hdGhjZWlsKGRwIC8gTE9HX0JBU0UpO1xyXG5cclxuICAgICAgaWYgKENSWVBUTykge1xyXG5cclxuICAgICAgICAvLyBCcm93c2VycyBzdXBwb3J0aW5nIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuXHJcbiAgICAgICAgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuXHJcbiAgICAgICAgICBhID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoayAqPSAyKSk7XHJcblxyXG4gICAgICAgICAgZm9yICg7IGkgPCBrOykge1xyXG5cclxuICAgICAgICAgICAgLy8gNTMgYml0czpcclxuICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSAqIE1hdGgucG93KDIsIDIxKSkudG9TdHJpbmcoMilcclxuICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDBcclxuICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSA+Pj4gMTEpLnRvU3RyaW5nKDIpXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgIC8vIDB4MjAwMDAgaXMgMl4yMS5cclxuICAgICAgICAgICAgdiA9IGFbaV0gKiAweDIwMDAwICsgKGFbaSArIDFdID4+PiAxMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZWplY3Rpb24gc2FtcGxpbmc6XHJcbiAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgLy8gUHJvYmFiaWxpdHkgdGhhdCB2ID49IDllMTUsIGlzXHJcbiAgICAgICAgICAgIC8vIDcxOTkyNTQ3NDA5OTIgLyA5MDA3MTk5MjU0NzQwOTkyIH49IDAuMDAwOCwgaS5lLiAxIGluIDEyNTFcclxuICAgICAgICAgICAgaWYgKHYgPj0gOWUxNSkge1xyXG4gICAgICAgICAgICAgIGIgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgyKSk7XHJcbiAgICAgICAgICAgICAgYVtpXSA9IGJbMF07XHJcbiAgICAgICAgICAgICAgYVtpICsgMV0gPSBiWzFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyAwIDw9IHYgPD0gODk5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgaSArPSAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpID0gayAvIDI7XHJcblxyXG4gICAgICAgIC8vIE5vZGUuanMgc3VwcG9ydGluZyBjcnlwdG8ucmFuZG9tQnl0ZXMuXHJcbiAgICAgICAgfSBlbHNlIGlmIChjcnlwdG8ucmFuZG9tQnl0ZXMpIHtcclxuXHJcbiAgICAgICAgICAvLyBidWZmZXJcclxuICAgICAgICAgIGEgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoayAqPSA3KTtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgaSA8IGs7KSB7XHJcblxyXG4gICAgICAgICAgICAvLyAweDEwMDAwMDAwMDAwMDAgaXMgMl40OCwgMHgxMDAwMDAwMDAwMCBpcyAyXjQwXHJcbiAgICAgICAgICAgIC8vIDB4MTAwMDAwMDAwIGlzIDJeMzIsIDB4MTAwMDAwMCBpcyAyXjI0XHJcbiAgICAgICAgICAgIC8vIDExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgdiA9ICgoYVtpXSAmIDMxKSAqIDB4MTAwMDAwMDAwMDAwMCkgKyAoYVtpICsgMV0gKiAweDEwMDAwMDAwMDAwKSArXHJcbiAgICAgICAgICAgICAgIChhW2kgKyAyXSAqIDB4MTAwMDAwMDAwKSArIChhW2kgKyAzXSAqIDB4MTAwMDAwMCkgK1xyXG4gICAgICAgICAgICAgICAoYVtpICsgNF0gPDwgMTYpICsgKGFbaSArIDVdIDw8IDgpICsgYVtpICsgNl07XHJcblxyXG4gICAgICAgICAgICBpZiAodiA+PSA5ZTE1KSB7XHJcbiAgICAgICAgICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDcpLmNvcHkoYSwgaSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgaSArPSA3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpID0gayAvIDc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIENSWVBUTyA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVc2UgTWF0aC5yYW5kb20uXHJcbiAgICAgIGlmICghQ1JZUFRPKSB7XHJcblxyXG4gICAgICAgIGZvciAoOyBpIDwgazspIHtcclxuICAgICAgICAgIHYgPSByYW5kb201M2JpdEludCgpO1xyXG4gICAgICAgICAgaWYgKHYgPCA5ZTE1KSBjW2krK10gPSB2ICUgMWUxNDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGsgPSBjWy0taV07XHJcbiAgICAgIGRwICU9IExPR19CQVNFO1xyXG5cclxuICAgICAgLy8gQ29udmVydCB0cmFpbGluZyBkaWdpdHMgdG8gemVyb3MgYWNjb3JkaW5nIHRvIGRwLlxyXG4gICAgICBpZiAoayAmJiBkcCkge1xyXG4gICAgICAgIHYgPSBQT1dTX1RFTltMT0dfQkFTRSAtIGRwXTtcclxuICAgICAgICBjW2ldID0gbWF0aGZsb29yKGsgLyB2KSAqIHY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBlbGVtZW50cyB3aGljaCBhcmUgemVyby5cclxuICAgICAgZm9yICg7IGNbaV0gPT09IDA7IGMucG9wKCksIGktLSk7XHJcblxyXG4gICAgICAvLyBaZXJvP1xyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICBjID0gW2UgPSAwXTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgZWxlbWVudHMgd2hpY2ggYXJlIHplcm8gYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICBmb3IgKGUgPSAtMSA7IGNbMF0gPT09IDA7IGMuc3BsaWNlKDAsIDEpLCBlIC09IExPR19CQVNFKTtcclxuXHJcbiAgICAgICAgLy8gQ291bnQgdGhlIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudCBvZiBjIHRvIGRldGVybWluZSBsZWFkaW5nIHplcm9zLCBhbmQuLi5cclxuICAgICAgICBmb3IgKGkgPSAxLCB2ID0gY1swXTsgdiA+PSAxMDsgdiAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAgICAgLy8gYWRqdXN0IHRoZSBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICBpZiAoaSA8IExPR19CQVNFKSBlIC09IExPR19CQVNFIC0gaTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmFuZC5lID0gZTtcclxuICAgICAgcmFuZC5jID0gYztcclxuICAgICAgcmV0dXJuIHJhbmQ7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAgLypcclxuICAgKiBSZXR1cm4gYSBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHN1bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIuc3VtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGkgPSAxLFxyXG4gICAgICBhcmdzID0gYXJndW1lbnRzLFxyXG4gICAgICBzdW0gPSBuZXcgQmlnTnVtYmVyKGFyZ3NbMF0pO1xyXG4gICAgZm9yICg7IGkgPCBhcmdzLmxlbmd0aDspIHN1bSA9IHN1bS5wbHVzKGFyZ3NbaSsrXSk7XHJcbiAgICByZXR1cm4gc3VtO1xyXG4gIH07XHJcblxyXG5cclxuICAvLyBQUklWQVRFIEZVTkNUSU9OU1xyXG5cclxuXHJcbiAgLy8gQ2FsbGVkIGJ5IEJpZ051bWJlciBhbmQgQmlnTnVtYmVyLnByb3RvdHlwZS50b1N0cmluZy5cclxuICBjb252ZXJ0QmFzZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGVjaW1hbCA9ICcwMTIzNDU2Nzg5JztcclxuXHJcbiAgICAvKlxyXG4gICAgICogQ29udmVydCBzdHJpbmcgb2YgYmFzZUluIHRvIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgYmFzZU91dC5cclxuICAgICAqIEVnLiB0b0Jhc2VPdXQoJzI1NScsIDEwLCAxNikgcmV0dXJucyBbMTUsIDE1XS5cclxuICAgICAqIEVnLiB0b0Jhc2VPdXQoJ2ZmJywgMTYsIDEwKSByZXR1cm5zIFsyLCA1LCA1XS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gdG9CYXNlT3V0KHN0ciwgYmFzZUluLCBiYXNlT3V0LCBhbHBoYWJldCkge1xyXG4gICAgICB2YXIgaixcclxuICAgICAgICBhcnIgPSBbMF0sXHJcbiAgICAgICAgYXJyTCxcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgZm9yICg7IGkgPCBsZW47KSB7XHJcbiAgICAgICAgZm9yIChhcnJMID0gYXJyLmxlbmd0aDsgYXJyTC0tOyBhcnJbYXJyTF0gKj0gYmFzZUluKTtcclxuXHJcbiAgICAgICAgYXJyWzBdICs9IGFscGhhYmV0LmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKTtcclxuXHJcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG5cclxuICAgICAgICAgIGlmIChhcnJbal0gPiBiYXNlT3V0IC0gMSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PSBudWxsKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICAgICAgYXJyW2ogKyAxXSArPSBhcnJbal0gLyBiYXNlT3V0IHwgMDtcclxuICAgICAgICAgICAgYXJyW2pdICU9IGJhc2VPdXQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0IGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZUluIHRvIGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZU91dC5cclxuICAgIC8vIElmIHRoZSBjYWxsZXIgaXMgdG9TdHJpbmcsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZSAxMCB0byBiYXNlT3V0LlxyXG4gICAgLy8gSWYgdGhlIGNhbGxlciBpcyBCaWdOdW1iZXIsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZUluIHRvIGJhc2UgMTAuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0ciwgYmFzZUluLCBiYXNlT3V0LCBzaWduLCBjYWxsZXJJc1RvU3RyaW5nKSB7XHJcbiAgICAgIHZhciBhbHBoYWJldCwgZCwgZSwgaywgciwgeCwgeGMsIHksXHJcbiAgICAgICAgaSA9IHN0ci5pbmRleE9mKCcuJyksXHJcbiAgICAgICAgZHAgPSBERUNJTUFMX1BMQUNFUyxcclxuICAgICAgICBybSA9IFJPVU5ESU5HX01PREU7XHJcblxyXG4gICAgICAvLyBOb24taW50ZWdlci5cclxuICAgICAgaWYgKGkgPj0gMCkge1xyXG4gICAgICAgIGsgPSBQT1dfUFJFQ0lTSU9OO1xyXG5cclxuICAgICAgICAvLyBVbmxpbWl0ZWQgcHJlY2lzaW9uLlxyXG4gICAgICAgIFBPV19QUkVDSVNJT04gPSAwO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKGJhc2VJbik7XHJcbiAgICAgICAgeCA9IHkucG93KHN0ci5sZW5ndGggLSBpKTtcclxuICAgICAgICBQT1dfUFJFQ0lTSU9OID0gaztcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBzdHIgYXMgaWYgYW4gaW50ZWdlciwgdGhlbiByZXN0b3JlIHRoZSBmcmFjdGlvbiBwYXJ0IGJ5IGRpdmlkaW5nIHRoZVxyXG4gICAgICAgIC8vIHJlc3VsdCBieSBpdHMgYmFzZSByYWlzZWQgdG8gYSBwb3dlci5cclxuXHJcbiAgICAgICAgeS5jID0gdG9CYXNlT3V0KHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKHguYyksIHguZSwgJzAnKSxcclxuICAgICAgICAgMTAsIGJhc2VPdXQsIGRlY2ltYWwpO1xyXG4gICAgICAgIHkuZSA9IHkuYy5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbnZlcnQgdGhlIG51bWJlciBhcyBpbnRlZ2VyLlxyXG5cclxuICAgICAgeGMgPSB0b0Jhc2VPdXQoc3RyLCBiYXNlSW4sIGJhc2VPdXQsIGNhbGxlcklzVG9TdHJpbmdcclxuICAgICAgID8gKGFscGhhYmV0ID0gQUxQSEFCRVQsIGRlY2ltYWwpXHJcbiAgICAgICA6IChhbHBoYWJldCA9IGRlY2ltYWwsIEFMUEhBQkVUKSk7XHJcblxyXG4gICAgICAvLyB4YyBub3cgcmVwcmVzZW50cyBzdHIgYXMgYW4gaW50ZWdlciBhbmQgY29udmVydGVkIHRvIGJhc2VPdXQuIGUgaXMgdGhlIGV4cG9uZW50LlxyXG4gICAgICBlID0gayA9IHhjLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yICg7IHhjWy0ta10gPT0gMDsgeGMucG9wKCkpO1xyXG5cclxuICAgICAgLy8gWmVybz9cclxuICAgICAgaWYgKCF4Y1swXSkgcmV0dXJuIGFscGhhYmV0LmNoYXJBdCgwKTtcclxuXHJcbiAgICAgIC8vIERvZXMgc3RyIHJlcHJlc2VudCBhbiBpbnRlZ2VyPyBJZiBzbywgbm8gbmVlZCBmb3IgdGhlIGRpdmlzaW9uLlxyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAtLWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5jID0geGM7XHJcbiAgICAgICAgeC5lID0gZTtcclxuXHJcbiAgICAgICAgLy8gVGhlIHNpZ24gaXMgbmVlZGVkIGZvciBjb3JyZWN0IHJvdW5kaW5nLlxyXG4gICAgICAgIHgucyA9IHNpZ247XHJcbiAgICAgICAgeCA9IGRpdih4LCB5LCBkcCwgcm0sIGJhc2VPdXQpO1xyXG4gICAgICAgIHhjID0geC5jO1xyXG4gICAgICAgIHIgPSB4LnI7XHJcbiAgICAgICAgZSA9IHguZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8geGMgbm93IHJlcHJlc2VudHMgc3RyIGNvbnZlcnRlZCB0byBiYXNlT3V0LlxyXG5cclxuICAgICAgLy8gVEhlIGluZGV4IG9mIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgZCA9IGUgKyBkcCArIDE7XHJcblxyXG4gICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQ6IHRoZSBkaWdpdCB0byB0aGUgcmlnaHQgb2YgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgIGkgPSB4Y1tkXTtcclxuXHJcbiAgICAgIC8vIExvb2sgYXQgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhbmQgbW9kZSB0byBkZXRlcm1pbmUgd2hldGhlciB0byByb3VuZCB1cC5cclxuXHJcbiAgICAgIGsgPSBiYXNlT3V0IC8gMjtcclxuICAgICAgciA9IHIgfHwgZCA8IDAgfHwgeGNbZCArIDFdICE9IG51bGw7XHJcblxyXG4gICAgICByID0gcm0gPCA0ID8gKGkgIT0gbnVsbCB8fCByKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICAgICAgOiBpID4gayB8fCBpID09IGsgJiYocm0gPT0gNCB8fCByIHx8IHJtID09IDYgJiYgeGNbZCAtIDFdICYgMSB8fFxyXG4gICAgICAgICAgICAgcm0gPT0gKHgucyA8IDAgPyA4IDogNykpO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGluZGV4IG9mIHRoZSByb3VuZGluZyBkaWdpdCBpcyBub3QgZ3JlYXRlciB0aGFuIHplcm8sIG9yIHhjIHJlcHJlc2VudHNcclxuICAgICAgLy8gemVybywgdGhlbiB0aGUgcmVzdWx0IG9mIHRoZSBiYXNlIGNvbnZlcnNpb24gaXMgemVybyBvciwgaWYgcm91bmRpbmcgdXAsIGEgdmFsdWVcclxuICAgICAgLy8gc3VjaCBhcyAwLjAwMDAxLlxyXG4gICAgICBpZiAoZCA8IDEgfHwgIXhjWzBdKSB7XHJcblxyXG4gICAgICAgIC8vIDFeLWRwIG9yIDBcclxuICAgICAgICBzdHIgPSByID8gdG9GaXhlZFBvaW50KGFscGhhYmV0LmNoYXJBdCgxKSwgLWRwLCBhbHBoYWJldC5jaGFyQXQoMCkpIDogYWxwaGFiZXQuY2hhckF0KDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBUcnVuY2F0ZSB4YyB0byB0aGUgcmVxdWlyZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICAgIHhjLmxlbmd0aCA9IGQ7XHJcblxyXG4gICAgICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwIGFuZCBzbyBvbi5cclxuICAgICAgICAgIGZvciAoLS1iYXNlT3V0OyArK3hjWy0tZF0gPiBiYXNlT3V0Oykge1xyXG4gICAgICAgICAgICB4Y1tkXSA9IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWQpIHtcclxuICAgICAgICAgICAgICArK2U7XHJcbiAgICAgICAgICAgICAgeGMgPSBbMV0uY29uY2F0KHhjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgIGZvciAoayA9IHhjLmxlbmd0aDsgIXhjWy0ta107KTtcclxuXHJcbiAgICAgICAgLy8gRS5nLiBbNCwgMTEsIDE1XSBiZWNvbWVzIDRiZi5cclxuICAgICAgICBmb3IgKGkgPSAwLCBzdHIgPSAnJzsgaSA8PSBrOyBzdHIgKz0gYWxwaGFiZXQuY2hhckF0KHhjW2krK10pKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGxlYWRpbmcgemVyb3MsIGRlY2ltYWwgcG9pbnQgYW5kIHRyYWlsaW5nIHplcm9zIGFzIHJlcXVpcmVkLlxyXG4gICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChzdHIsIGUsIGFscGhhYmV0LmNoYXJBdCgwKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSBjYWxsZXIgd2lsbCBhZGQgdGhlIHNpZ24uXHJcbiAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAvLyBQZXJmb3JtIGRpdmlzaW9uIGluIHRoZSBzcGVjaWZpZWQgYmFzZS4gQ2FsbGVkIGJ5IGRpdiBhbmQgY29udmVydEJhc2UuXHJcbiAgZGl2ID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvLyBBc3N1bWUgbm9uLXplcm8geCBhbmQgay5cclxuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHgsIGssIGJhc2UpIHtcclxuICAgICAgdmFyIG0sIHRlbXAsIHhsbywgeGhpLFxyXG4gICAgICAgIGNhcnJ5ID0gMCxcclxuICAgICAgICBpID0geC5sZW5ndGgsXHJcbiAgICAgICAga2xvID0gayAlIFNRUlRfQkFTRSxcclxuICAgICAgICBraGkgPSBrIC8gU1FSVF9CQVNFIHwgMDtcclxuXHJcbiAgICAgIGZvciAoeCA9IHguc2xpY2UoKTsgaS0tOykge1xyXG4gICAgICAgIHhsbyA9IHhbaV0gJSBTUVJUX0JBU0U7XHJcbiAgICAgICAgeGhpID0geFtpXSAvIFNRUlRfQkFTRSB8IDA7XHJcbiAgICAgICAgbSA9IGtoaSAqIHhsbyArIHhoaSAqIGtsbztcclxuICAgICAgICB0ZW1wID0ga2xvICogeGxvICsgKChtICUgU1FSVF9CQVNFKSAqIFNRUlRfQkFTRSkgKyBjYXJyeTtcclxuICAgICAgICBjYXJyeSA9ICh0ZW1wIC8gYmFzZSB8IDApICsgKG0gLyBTUVJUX0JBU0UgfCAwKSArIGtoaSAqIHhoaTtcclxuICAgICAgICB4W2ldID0gdGVtcCAlIGJhc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjYXJyeSkgeCA9IFtjYXJyeV0uY29uY2F0KHgpO1xyXG5cclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGFyZShhLCBiLCBhTCwgYkwpIHtcclxuICAgICAgdmFyIGksIGNtcDtcclxuXHJcbiAgICAgIGlmIChhTCAhPSBiTCkge1xyXG4gICAgICAgIGNtcCA9IGFMID4gYkwgPyAxIDogLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGZvciAoaSA9IGNtcCA9IDA7IGkgPCBhTDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xyXG4gICAgICAgICAgICBjbXAgPSBhW2ldID4gYltpXSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gY21wO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIsIGFMLCBiYXNlKSB7XHJcbiAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgIC8vIFN1YnRyYWN0IGIgZnJvbSBhLlxyXG4gICAgICBmb3IgKDsgYUwtLTspIHtcclxuICAgICAgICBhW2FMXSAtPSBpO1xyXG4gICAgICAgIGkgPSBhW2FMXSA8IGJbYUxdID8gMSA6IDA7XHJcbiAgICAgICAgYVthTF0gPSBpICogYmFzZSArIGFbYUxdIC0gYlthTF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKDsgIWFbMF0gJiYgYS5sZW5ndGggPiAxOyBhLnNwbGljZSgwLCAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8geDogZGl2aWRlbmQsIHk6IGRpdmlzb3IuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHksIGRwLCBybSwgYmFzZSkge1xyXG4gICAgICB2YXIgY21wLCBlLCBpLCBtb3JlLCBuLCBwcm9kLCBwcm9kTCwgcSwgcWMsIHJlbSwgcmVtTCwgcmVtMCwgeGksIHhMLCB5YzAsXHJcbiAgICAgICAgeUwsIHl6LFxyXG4gICAgICAgIHMgPSB4LnMgPT0geS5zID8gMSA6IC0xLFxyXG4gICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgIHljID0geS5jO1xyXG5cclxuICAgICAgLy8gRWl0aGVyIE5hTiwgSW5maW5pdHkgb3IgMD9cclxuICAgICAgaWYgKCF4YyB8fCAheGNbMF0gfHwgIXljIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihcclxuXHJcbiAgICAgICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIE5hTiwgb3IgYm90aCBJbmZpbml0eSBvciAwLlxyXG4gICAgICAgICAheC5zIHx8ICF5LnMgfHwgKHhjID8geWMgJiYgeGNbMF0gPT0geWNbMF0gOiAheWMpID8gTmFOIDpcclxuXHJcbiAgICAgICAgICAvLyBSZXR1cm4gXHUwMEIxMCBpZiB4IGlzIFx1MDBCMTAgb3IgeSBpcyBcdTAwQjFJbmZpbml0eSwgb3IgcmV0dXJuIFx1MDBCMUluZmluaXR5IGFzIHkgaXMgXHUwMEIxMC5cclxuICAgICAgICAgIHhjICYmIHhjWzBdID09IDAgfHwgIXljID8gcyAqIDAgOiBzIC8gMFxyXG4gICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcSA9IG5ldyBCaWdOdW1iZXIocyk7XHJcbiAgICAgIHFjID0gcS5jID0gW107XHJcbiAgICAgIGUgPSB4LmUgLSB5LmU7XHJcbiAgICAgIHMgPSBkcCArIGUgKyAxO1xyXG5cclxuICAgICAgaWYgKCFiYXNlKSB7XHJcbiAgICAgICAgYmFzZSA9IEJBU0U7XHJcbiAgICAgICAgZSA9IGJpdEZsb29yKHguZSAvIExPR19CQVNFKSAtIGJpdEZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICAgICAgICBzID0gcyAvIExPR19CQVNFIHwgMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVzdWx0IGV4cG9uZW50IG1heSBiZSBvbmUgbGVzcyB0aGVuIHRoZSBjdXJyZW50IHZhbHVlIG9mIGUuXHJcbiAgICAgIC8vIFRoZSBjb2VmZmljaWVudHMgb2YgdGhlIEJpZ051bWJlcnMgZnJvbSBjb252ZXJ0QmFzZSBtYXkgaGF2ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChpID0gMDsgeWNbaV0gPT0gKHhjW2ldIHx8IDApOyBpKyspO1xyXG5cclxuICAgICAgaWYgKHljW2ldID4gKHhjW2ldIHx8IDApKSBlLS07XHJcblxyXG4gICAgICBpZiAocyA8IDApIHtcclxuICAgICAgICBxYy5wdXNoKDEpO1xyXG4gICAgICAgIG1vcmUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHhMID0geGMubGVuZ3RoO1xyXG4gICAgICAgIHlMID0geWMubGVuZ3RoO1xyXG4gICAgICAgIGkgPSAwO1xyXG4gICAgICAgIHMgKz0gMjtcclxuXHJcbiAgICAgICAgLy8gTm9ybWFsaXNlIHhjIGFuZCB5YyBzbyBoaWdoZXN0IG9yZGVyIGRpZ2l0IG9mIHljIGlzID49IGJhc2UgLyAyLlxyXG5cclxuICAgICAgICBuID0gbWF0aGZsb29yKGJhc2UgLyAoeWNbMF0gKyAxKSk7XHJcblxyXG4gICAgICAgIC8vIE5vdCBuZWNlc3NhcnksIGJ1dCB0byBoYW5kbGUgb2RkIGJhc2VzIHdoZXJlIHljWzBdID09IChiYXNlIC8gMikgLSAxLlxyXG4gICAgICAgIC8vIGlmIChuID4gMSB8fCBuKysgPT0gMSAmJiB5Y1swXSA8IGJhc2UgLyAyKSB7XHJcbiAgICAgICAgaWYgKG4gPiAxKSB7XHJcbiAgICAgICAgICB5YyA9IG11bHRpcGx5KHljLCBuLCBiYXNlKTtcclxuICAgICAgICAgIHhjID0gbXVsdGlwbHkoeGMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgeUwgPSB5Yy5sZW5ndGg7XHJcbiAgICAgICAgICB4TCA9IHhjLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhpID0geUw7XHJcbiAgICAgICAgcmVtID0geGMuc2xpY2UoMCwgeUwpO1xyXG4gICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gICAgICAgIGZvciAoOyByZW1MIDwgeUw7IHJlbVtyZW1MKytdID0gMCk7XHJcbiAgICAgICAgeXogPSB5Yy5zbGljZSgpO1xyXG4gICAgICAgIHl6ID0gWzBdLmNvbmNhdCh5eik7XHJcbiAgICAgICAgeWMwID0geWNbMF07XHJcbiAgICAgICAgaWYgKHljWzFdID49IGJhc2UgLyAyKSB5YzArKztcclxuICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gcHJldmVudCB0cmlhbCBkaWdpdCBuID4gYmFzZSwgd2hlbiB1c2luZyBiYXNlIDMuXHJcbiAgICAgICAgLy8gZWxzZSBpZiAoYmFzZSA9PSAzICYmIHljMCA9PSAxKSB5YzAgPSAxICsgMWUtMTU7XHJcblxyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgIG4gPSAwO1xyXG5cclxuICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgY21wID0gY29tcGFyZSh5YywgcmVtLCB5TCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgLy8gSWYgZGl2aXNvciA8IHJlbWFpbmRlci5cclxuICAgICAgICAgIGlmIChjbXAgPCAwKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdHJpYWwgZGlnaXQsIG4uXHJcblxyXG4gICAgICAgICAgICByZW0wID0gcmVtWzBdO1xyXG4gICAgICAgICAgICBpZiAoeUwgIT0gcmVtTCkgcmVtMCA9IHJlbTAgKiBiYXNlICsgKHJlbVsxXSB8fCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG4gaXMgaG93IG1hbnkgdGltZXMgdGhlIGRpdmlzb3IgZ29lcyBpbnRvIHRoZSBjdXJyZW50IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgbiA9IG1hdGhmbG9vcihyZW0wIC8geWMwKTtcclxuXHJcbiAgICAgICAgICAgIC8vICBBbGdvcml0aG06XHJcbiAgICAgICAgICAgIC8vICBwcm9kdWN0ID0gZGl2aXNvciBtdWx0aXBsaWVkIGJ5IHRyaWFsIGRpZ2l0IChuKS5cclxuICAgICAgICAgICAgLy8gIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAvLyAgSWYgcHJvZHVjdCBpcyBncmVhdGVyIHRoYW4gcmVtYWluZGVyOlxyXG4gICAgICAgICAgICAvLyAgICBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdCwgZGVjcmVtZW50IHRyaWFsIGRpZ2l0LlxyXG4gICAgICAgICAgICAvLyAgU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgLy8gIElmIHByb2R1Y3Qgd2FzIGxlc3MgdGhhbiByZW1haW5kZXIgYXQgdGhlIGxhc3QgY29tcGFyZTpcclxuICAgICAgICAgICAgLy8gICAgQ29tcGFyZSBuZXcgcmVtYWluZGVyIGFuZCBkaXZpc29yLlxyXG4gICAgICAgICAgICAvLyAgICBJZiByZW1haW5kZXIgaXMgZ3JlYXRlciB0aGFuIGRpdmlzb3I6XHJcbiAgICAgICAgICAgIC8vICAgICAgU3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlciwgaW5jcmVtZW50IHRyaWFsIGRpZ2l0LlxyXG5cclxuICAgICAgICAgICAgaWYgKG4gPiAxKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIG4gbWF5IGJlID4gYmFzZSBvbmx5IHdoZW4gYmFzZSBpcyAzLlxyXG4gICAgICAgICAgICAgIGlmIChuID49IGJhc2UpIG4gPSBiYXNlIC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgICBwcm9kID0gbXVsdGlwbHkoeWMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIC8vIElmIHByb2R1Y3QgPiByZW1haW5kZXIgdGhlbiB0cmlhbCBkaWdpdCBuIHRvbyBoaWdoLlxyXG4gICAgICAgICAgICAgIC8vIG4gaXMgMSB0b28gaGlnaCBhYm91dCA1JSBvZiB0aGUgdGltZSwgYW5kIGlzIG5vdCBrbm93biB0byBoYXZlXHJcbiAgICAgICAgICAgICAgLy8gZXZlciBiZWVuIG1vcmUgdGhhbiAxIHRvbyBoaWdoLlxyXG4gICAgICAgICAgICAgIHdoaWxlIChjb21wYXJlKHByb2QsIHJlbSwgcHJvZEwsIHJlbUwpID09IDEpIHtcclxuICAgICAgICAgICAgICAgIG4tLTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdC5cclxuICAgICAgICAgICAgICAgIHN1YnRyYWN0KHByb2QsIHlMIDwgcHJvZEwgPyB5eiA6IHljLCBwcm9kTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgY21wID0gMTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIG4gaXMgMCBvciAxLCBjbXAgaXMgLTEuXHJcbiAgICAgICAgICAgICAgLy8gSWYgbiBpcyAwLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNvbXBhcmUgeWMgYW5kIHJlbSBhZ2FpbiBiZWxvdyxcclxuICAgICAgICAgICAgICAvLyBzbyBjaGFuZ2UgY21wIHRvIDEgdG8gYXZvaWQgaXQuXHJcbiAgICAgICAgICAgICAgLy8gSWYgbiBpcyAxLCBsZWF2ZSBjbXAgYXMgLTEsIHNvIHljIGFuZCByZW0gYXJlIGNvbXBhcmVkIGFnYWluLlxyXG4gICAgICAgICAgICAgIGlmIChuID09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkaXZpc29yIDwgcmVtYWluZGVyLCBzbyBuIG11c3QgYmUgYXQgbGVhc3QgMS5cclxuICAgICAgICAgICAgICAgIGNtcCA9IG4gPSAxO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3JcclxuICAgICAgICAgICAgICBwcm9kID0geWMuc2xpY2UoKTtcclxuICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvZEwgPCByZW1MKSBwcm9kID0gWzBdLmNvbmNhdChwcm9kKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN1YnRyYWN0IHByb2R1Y3QgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgcHJvZCwgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgIC8vIElmIHByb2R1Y3Qgd2FzIDwgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgbmV3IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAvLyBJZiBkaXZpc29yIDwgbmV3IHJlbWFpbmRlciwgc3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAvLyBUcmlhbCBkaWdpdCBuIHRvbyBsb3cuXHJcbiAgICAgICAgICAgICAgLy8gbiBpcyAxIHRvbyBsb3cgYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCB2ZXJ5IHJhcmVseSAyIHRvbyBsb3cuXHJcbiAgICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUoeWMsIHJlbSwgeUwsIHJlbUwpIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgbisrO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHlMIDwgcmVtTCA/IHl6IDogeWMsIHJlbUwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PT0gMCkge1xyXG4gICAgICAgICAgICBuKys7XHJcbiAgICAgICAgICAgIHJlbSA9IFswXTtcclxuICAgICAgICAgIH0gLy8gZWxzZSBjbXAgPT09IDEgYW5kIG4gd2lsbCBiZSAwXHJcblxyXG4gICAgICAgICAgLy8gQWRkIHRoZSBuZXh0IGRpZ2l0LCBuLCB0byB0aGUgcmVzdWx0IGFycmF5LlxyXG4gICAgICAgICAgcWNbaSsrXSA9IG47XHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAocmVtWzBdKSB7XHJcbiAgICAgICAgICAgIHJlbVtyZW1MKytdID0geGNbeGldIHx8IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZW0gPSBbeGNbeGldXTtcclxuICAgICAgICAgICAgcmVtTCA9IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSB3aGlsZSAoKHhpKysgPCB4TCB8fCByZW1bMF0gIT0gbnVsbCkgJiYgcy0tKTtcclxuXHJcbiAgICAgICAgbW9yZSA9IHJlbVswXSAhPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBMZWFkaW5nIHplcm8/XHJcbiAgICAgICAgaWYgKCFxY1swXSkgcWMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYmFzZSA9PSBCQVNFKSB7XHJcblxyXG4gICAgICAgIC8vIFRvIGNhbGN1bGF0ZSBxLmUsIGZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBxY1swXS5cclxuICAgICAgICBmb3IgKGkgPSAxLCBzID0gcWNbMF07IHMgPj0gMTA7IHMgLz0gMTAsIGkrKyk7XHJcblxyXG4gICAgICAgIHJvdW5kKHEsIGRwICsgKHEuZSA9IGkgKyBlICogTE9HX0JBU0UgLSAxKSArIDEsIHJtLCBtb3JlKTtcclxuXHJcbiAgICAgIC8vIENhbGxlciBpcyBjb252ZXJ0QmFzZS5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBxLmUgPSBlO1xyXG4gICAgICAgIHEuciA9ICttb3JlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcTtcclxuICAgIH07XHJcbiAgfSkoKTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyIG4gaW4gZml4ZWQtcG9pbnQgb3IgZXhwb25lbnRpYWxcclxuICAgKiBub3RhdGlvbiByb3VuZGVkIHRvIHRoZSBzcGVjaWZpZWQgZGVjaW1hbCBwbGFjZXMgb3Igc2lnbmlmaWNhbnQgZGlnaXRzLlxyXG4gICAqXHJcbiAgICogbjogYSBCaWdOdW1iZXIuXHJcbiAgICogaTogdGhlIGluZGV4IG9mIHRoZSBsYXN0IGRpZ2l0IHJlcXVpcmVkIChpLmUuIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwKS5cclxuICAgKiBybTogdGhlIHJvdW5kaW5nIG1vZGUuXHJcbiAgICogaWQ6IDEgKHRvRXhwb25lbnRpYWwpIG9yIDIgKHRvUHJlY2lzaW9uKS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBmb3JtYXQobiwgaSwgcm0sIGlkKSB7XHJcbiAgICB2YXIgYzAsIGUsIG5lLCBsZW4sIHN0cjtcclxuXHJcbiAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgaWYgKCFuLmMpIHJldHVybiBuLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgYzAgPSBuLmNbMF07XHJcbiAgICBuZSA9IG4uZTtcclxuXHJcbiAgICBpZiAoaSA9PSBudWxsKSB7XHJcbiAgICAgIHN0ciA9IGNvZWZmVG9TdHJpbmcobi5jKTtcclxuICAgICAgc3RyID0gaWQgPT0gMSB8fCBpZCA9PSAyICYmIChuZSA8PSBUT19FWFBfTkVHIHx8IG5lID49IFRPX0VYUF9QT1MpXHJcbiAgICAgICA/IHRvRXhwb25lbnRpYWwoc3RyLCBuZSlcclxuICAgICAgIDogdG9GaXhlZFBvaW50KHN0ciwgbmUsICcwJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuID0gcm91bmQobmV3IEJpZ051bWJlcihuKSwgaSwgcm0pO1xyXG5cclxuICAgICAgLy8gbi5lIG1heSBoYXZlIGNoYW5nZWQgaWYgdGhlIHZhbHVlIHdhcyByb3VuZGVkIHVwLlxyXG4gICAgICBlID0gbi5lO1xyXG5cclxuICAgICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xyXG4gICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gdG9QcmVjaXNpb24gcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbiBpZiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gICAgICAvLyBzcGVjaWZpZWQgaXMgbGVzcyB0aGFuIHRoZSBudW1iZXIgb2YgZGlnaXRzIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIGludGVnZXJcclxuICAgICAgLy8gcGFydCBvZiB0aGUgdmFsdWUgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24uXHJcblxyXG4gICAgICAvLyBFeHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAgaWYgKGlkID09IDEgfHwgaWQgPT0gMiAmJiAoaSA8PSBlIHx8IGUgPD0gVE9fRVhQX05FRykpIHtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHplcm9zP1xyXG4gICAgICAgIGZvciAoOyBsZW4gPCBpOyBzdHIgKz0gJzAnLCBsZW4rKyk7XHJcbiAgICAgICAgc3RyID0gdG9FeHBvbmVudGlhbChzdHIsIGUpO1xyXG5cclxuICAgICAgLy8gRml4ZWQtcG9pbnQgbm90YXRpb24uXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaSAtPSBuZTtcclxuICAgICAgICBzdHIgPSB0b0ZpeGVkUG9pbnQoc3RyLCBlLCAnMCcpO1xyXG5cclxuICAgICAgICAvLyBBcHBlbmQgemVyb3M/XHJcbiAgICAgICAgaWYgKGUgKyAxID4gbGVuKSB7XHJcbiAgICAgICAgICBpZiAoLS1pID4gMCkgZm9yIChzdHIgKz0gJy4nOyBpLS07IHN0ciArPSAnMCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpICs9IGUgLSBsZW47XHJcbiAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgaWYgKGUgKyAxID09IGxlbikgc3RyICs9ICcuJztcclxuICAgICAgICAgICAgZm9yICg7IGktLTsgc3RyICs9ICcwJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG4ucyA8IDAgJiYgYzAgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gSGFuZGxlIEJpZ051bWJlci5tYXggYW5kIEJpZ051bWJlci5taW4uXHJcbiAgLy8gSWYgYW55IG51bWJlciBpcyBOYU4sIHJldHVybiBOYU4uXHJcbiAgZnVuY3Rpb24gbWF4T3JNaW4oYXJncywgbikge1xyXG4gICAgdmFyIGssIHksXHJcbiAgICAgIGkgPSAxLFxyXG4gICAgICB4ID0gbmV3IEJpZ051bWJlcihhcmdzWzBdKTtcclxuXHJcbiAgICBmb3IgKDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoYXJnc1tpXSk7XHJcbiAgICAgIGlmICgheS5zIHx8IChrID0gY29tcGFyZSh4LCB5KSkgPT09IG4gfHwgayA9PT0gMCAmJiB4LnMgPT09IG4pIHtcclxuICAgICAgICB4ID0geTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogU3RyaXAgdHJhaWxpbmcgemVyb3MsIGNhbGN1bGF0ZSBiYXNlIDEwIGV4cG9uZW50IGFuZCBjaGVjayBhZ2FpbnN0IE1JTl9FWFAgYW5kIE1BWF9FWFAuXHJcbiAgICogQ2FsbGVkIGJ5IG1pbnVzLCBwbHVzIGFuZCB0aW1lcy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBub3JtYWxpc2UobiwgYywgZSkge1xyXG4gICAgdmFyIGkgPSAxLFxyXG4gICAgICBqID0gYy5sZW5ndGg7XHJcblxyXG4gICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoOyAhY1stLWpdOyBjLnBvcCgpKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGJhc2UgMTAgZXhwb25lbnQuIEZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBjWzBdLlxyXG4gICAgZm9yIChqID0gY1swXTsgaiA+PSAxMDsgaiAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAvLyBPdmVyZmxvdz9cclxuICAgIGlmICgoZSA9IGkgKyBlICogTE9HX0JBU0UgLSAxKSA+IE1BWF9FWFApIHtcclxuXHJcbiAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICBuLmMgPSBuLmUgPSBudWxsO1xyXG5cclxuICAgIC8vIFVuZGVyZmxvdz9cclxuICAgIH0gZWxzZSBpZiAoZSA8IE1JTl9FWFApIHtcclxuXHJcbiAgICAgIC8vIFplcm8uXHJcbiAgICAgIG4uYyA9IFtuLmUgPSAwXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4uZSA9IGU7XHJcbiAgICAgIG4uYyA9IGM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG47XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gSGFuZGxlIHZhbHVlcyB0aGF0IGZhaWwgdGhlIHZhbGlkaXR5IHRlc3QgaW4gQmlnTnVtYmVyLlxyXG4gIHBhcnNlTnVtZXJpYyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYmFzZVByZWZpeCA9IC9eKC0/KTAoW3hib10pKD89XFx3W1xcdy5dKiQpL2ksXHJcbiAgICAgIGRvdEFmdGVyID0gL14oW14uXSspXFwuJC8sXHJcbiAgICAgIGRvdEJlZm9yZSA9IC9eXFwuKFteLl0rKSQvLFxyXG4gICAgICBpc0luZmluaXR5T3JOYU4gPSAvXi0/KEluZmluaXR5fE5hTikkLyxcclxuICAgICAgd2hpdGVzcGFjZU9yUGx1cyA9IC9eXFxzKlxcKyg/PVtcXHcuXSl8Xlxccyt8XFxzKyQvZztcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHN0ciwgaXNOdW0sIGIpIHtcclxuICAgICAgdmFyIGJhc2UsXHJcbiAgICAgICAgcyA9IGlzTnVtID8gc3RyIDogc3RyLnJlcGxhY2Uod2hpdGVzcGFjZU9yUGx1cywgJycpO1xyXG5cclxuICAgICAgLy8gTm8gZXhjZXB0aW9uIG9uIFx1MDBCMUluZmluaXR5IG9yIE5hTi5cclxuICAgICAgaWYgKGlzSW5maW5pdHlPck5hTi50ZXN0KHMpKSB7XHJcbiAgICAgICAgeC5zID0gaXNOYU4ocykgPyBudWxsIDogcyA8IDAgPyAtMSA6IDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCFpc051bSkge1xyXG5cclxuICAgICAgICAgIC8vIGJhc2VQcmVmaXggPSAvXigtPykwKFt4Ym9dKSg/PVxcd1tcXHcuXSokKS9pXHJcbiAgICAgICAgICBzID0gcy5yZXBsYWNlKGJhc2VQcmVmaXgsIGZ1bmN0aW9uIChtLCBwMSwgcDIpIHtcclxuICAgICAgICAgICAgYmFzZSA9IChwMiA9IHAyLnRvTG93ZXJDYXNlKCkpID09ICd4JyA/IDE2IDogcDIgPT0gJ2InID8gMiA6IDg7XHJcbiAgICAgICAgICAgIHJldHVybiAhYiB8fCBiID09IGJhc2UgPyBwMSA6IG07XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoYikge1xyXG4gICAgICAgICAgICBiYXNlID0gYjtcclxuXHJcbiAgICAgICAgICAgIC8vIEUuZy4gJzEuJyB0byAnMScsICcuMScgdG8gJzAuMSdcclxuICAgICAgICAgICAgcyA9IHMucmVwbGFjZShkb3RBZnRlciwgJyQxJykucmVwbGFjZShkb3RCZWZvcmUsICcwLiQxJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHN0ciAhPSBzKSByZXR1cm4gbmV3IEJpZ051bWJlcihzLCBiYXNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBOb3QgYSBudW1iZXI6IHtufSdcclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTm90IGEgYmFzZSB7Yn0gbnVtYmVyOiB7bn0nXHJcbiAgICAgICAgaWYgKEJpZ051bWJlci5ERUJVRykge1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ05vdCBhJyArIChiID8gJyBiYXNlICcgKyBiIDogJycpICsgJyBudW1iZXI6ICcgKyBzdHIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTmFOXHJcbiAgICAgICAgeC5zID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuICAgIH1cclxuICB9KSgpO1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSb3VuZCB4IHRvIHNkIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIHJtLiBDaGVjayBmb3Igb3Zlci91bmRlci1mbG93LlxyXG4gICAqIElmIHIgaXMgdHJ1dGh5LCBpdCBpcyBrbm93biB0aGF0IHRoZXJlIGFyZSBtb3JlIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcm91bmQoeCwgc2QsIHJtLCByKSB7XHJcbiAgICB2YXIgZCwgaSwgaiwgaywgbiwgbmksIHJkLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgcG93czEwID0gUE9XU19URU47XHJcblxyXG4gICAgLy8gaWYgeCBpcyBub3QgSW5maW5pdHkgb3IgTmFOLi4uXHJcbiAgICBpZiAoeGMpIHtcclxuXHJcbiAgICAgIC8vIHJkIGlzIHRoZSByb3VuZGluZyBkaWdpdCwgaS5lLiB0aGUgZGlnaXQgYWZ0ZXIgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgIC8vIG4gaXMgYSBiYXNlIDFlMTQgbnVtYmVyLCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgb2YgYXJyYXkgeC5jIGNvbnRhaW5pbmcgcmQuXHJcbiAgICAgIC8vIG5pIGlzIHRoZSBpbmRleCBvZiBuIHdpdGhpbiB4LmMuXHJcbiAgICAgIC8vIGQgaXMgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygbi5cclxuICAgICAgLy8gaSBpcyB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4gaW5jbHVkaW5nIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgIC8vIGogaXMgdGhlIGFjdHVhbCBpbmRleCBvZiByZCB3aXRoaW4gbiAoaWYgPCAwLCByZCBpcyBhIGxlYWRpbmcgemVybykuXHJcbiAgICAgIG91dDoge1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuXHJcbiAgICAgICAgZm9yIChkID0gMSwgayA9IHhjWzBdOyBrID49IDEwOyBrIC89IDEwLCBkKyspO1xyXG4gICAgICAgIGkgPSBzZCAtIGQ7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdCBpcyBpbiB0aGUgZmlyc3QgZWxlbWVudCBvZiB4Yy4uLlxyXG4gICAgICAgIGlmIChpIDwgMCkge1xyXG4gICAgICAgICAgaSArPSBMT0dfQkFTRTtcclxuICAgICAgICAgIGogPSBzZDtcclxuICAgICAgICAgIG4gPSB4Y1tuaSA9IDBdO1xyXG5cclxuICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxyXG4gICAgICAgICAgcmQgPSBtYXRoZmxvb3IobiAvIHBvd3MxMFtkIC0gaiAtIDFdICUgMTApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuaSA9IG1hdGhjZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgICAgICAgaWYgKG5pID49IHhjLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gTmVlZGVkIGJ5IHNxcnQuXHJcbiAgICAgICAgICAgICAgZm9yICg7IHhjLmxlbmd0aCA8PSBuaTsgeGMucHVzaCgwKSk7XHJcbiAgICAgICAgICAgICAgbiA9IHJkID0gMDtcclxuICAgICAgICAgICAgICBkID0gMTtcclxuICAgICAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG4gICAgICAgICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbiA9IGsgPSB4Y1tuaV07XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygbi5cclxuICAgICAgICAgICAgZm9yIChkID0gMTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4uXHJcbiAgICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuLCBhZGp1c3RlZCBmb3IgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICAgICAgLy8gVGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIG4gaXMgZ2l2ZW4gYnkgTE9HX0JBU0UgLSBkLlxyXG4gICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgZDtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxyXG4gICAgICAgICAgICByZCA9IGogPCAwID8gMCA6IG1hdGhmbG9vcihuIC8gcG93czEwW2QgLSBqIC0gMV0gJSAxMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByID0gciB8fCBzZCA8IDAgfHxcclxuXHJcbiAgICAgICAgLy8gQXJlIHRoZXJlIGFueSBub24temVybyBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0P1xyXG4gICAgICAgIC8vIFRoZSBleHByZXNzaW9uICBuICUgcG93czEwW2QgLSBqIC0gMV0gIHJldHVybnMgYWxsIGRpZ2l0cyBvZiBuIHRvIHRoZSByaWdodFxyXG4gICAgICAgIC8vIG9mIHRoZSBkaWdpdCBhdCBqLCBlLmcuIGlmIG4gaXMgOTA4NzE0IGFuZCBqIGlzIDIsIHRoZSBleHByZXNzaW9uIGdpdmVzIDcxNC5cclxuICAgICAgICAgeGNbbmkgKyAxXSAhPSBudWxsIHx8IChqIDwgMCA/IG4gOiBuICUgcG93czEwW2QgLSBqIC0gMV0pO1xyXG5cclxuICAgICAgICByID0gcm0gPCA0XHJcbiAgICAgICAgID8gKHJkIHx8IHIpICYmIChybSA9PSAwIHx8IHJtID09ICh4LnMgPCAwID8gMyA6IDIpKVxyXG4gICAgICAgICA6IHJkID4gNSB8fCByZCA9PSA1ICYmIChybSA9PSA0IHx8IHIgfHwgcm0gPT0gNiAmJlxyXG5cclxuICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGRpZ2l0IHRvIHRoZSBsZWZ0IG9mIHRoZSByb3VuZGluZyBkaWdpdCBpcyBvZGQuXHJcbiAgICAgICAgICAoKGkgPiAwID8gaiA+IDAgPyBuIC8gcG93czEwW2QgLSBqXSA6IDAgOiB4Y1tuaSAtIDFdKSAlIDEwKSAmIDEgfHxcclxuICAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICAgIGlmIChzZCA8IDEgfHwgIXhjWzBdKSB7XHJcbiAgICAgICAgICB4Yy5sZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHNkIHRvIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICAgICAgICBzZCAtPSB4LmUgKyAxO1xyXG5cclxuICAgICAgICAgICAgLy8gMSwgMC4xLCAwLjAxLCAwLjAwMSwgMC4wMDAxIGV0Yy5cclxuICAgICAgICAgICAgeGNbMF0gPSBwb3dzMTBbKExPR19CQVNFIC0gc2QgJSBMT0dfQkFTRSkgJSBMT0dfQkFTRV07XHJcbiAgICAgICAgICAgIHguZSA9IC1zZCB8fCAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgICAgIHhjWzBdID0geC5lID0gMDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSBleGNlc3MgZGlnaXRzLlxyXG4gICAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICAgIHhjLmxlbmd0aCA9IG5pO1xyXG4gICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICBuaS0tO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4Yy5sZW5ndGggPSBuaSArIDE7XHJcbiAgICAgICAgICBrID0gcG93czEwW0xPR19CQVNFIC0gaV07XHJcblxyXG4gICAgICAgICAgLy8gRS5nLiA1NjcwMCBiZWNvbWVzIDU2MDAwIGlmIDcgaXMgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgICAgLy8gaiA+IDAgbWVhbnMgaSA+IG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIG4uXHJcbiAgICAgICAgICB4Y1tuaV0gPSBqID4gMCA/IG1hdGhmbG9vcihuIC8gcG93czEwW2QgLSBqXSAlIHBvd3MxMFtqXSkgKiBrIDogMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgZm9yICg7IDspIHtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaWdpdCB0byBiZSByb3VuZGVkIHVwIGlzIGluIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLi4uXHJcbiAgICAgICAgICAgIGlmIChuaSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGkgd2lsbCBiZSB0aGUgbGVuZ3RoIG9mIHhjWzBdIGJlZm9yZSBrIGlzIGFkZGVkLlxyXG4gICAgICAgICAgICAgIGZvciAoaSA9IDEsIGogPSB4Y1swXTsgaiA+PSAxMDsgaiAvPSAxMCwgaSsrKTtcclxuICAgICAgICAgICAgICBqID0geGNbMF0gKz0gaztcclxuICAgICAgICAgICAgICBmb3IgKGsgPSAxOyBqID49IDEwOyBqIC89IDEwLCBrKyspO1xyXG5cclxuICAgICAgICAgICAgICAvLyBpZiBpICE9IGsgdGhlIGxlbmd0aCBoYXMgaW5jcmVhc2VkLlxyXG4gICAgICAgICAgICAgIGlmIChpICE9IGspIHtcclxuICAgICAgICAgICAgICAgIHguZSsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHhjWzBdID09IEJBU0UpIHhjWzBdID0gMTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHhjW25pXSArPSBrO1xyXG4gICAgICAgICAgICAgIGlmICh4Y1tuaV0gIT0gQkFTRSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgeGNbbmktLV0gPSAwO1xyXG4gICAgICAgICAgICAgIGsgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgICAgZm9yIChpID0geGMubGVuZ3RoOyB4Y1stLWldID09PSAwOyB4Yy5wb3AoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE92ZXJmbG93PyBJbmZpbml0eS5cclxuICAgICAgaWYgKHguZSA+IE1BWF9FWFApIHtcclxuICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG5cclxuICAgICAgLy8gVW5kZXJmbG93PyBaZXJvLlxyXG4gICAgICB9IGVsc2UgaWYgKHguZSA8IE1JTl9FWFApIHtcclxuICAgICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiB2YWx1ZU9mKG4pIHtcclxuICAgIHZhciBzdHIsXHJcbiAgICAgIGUgPSBuLmU7XHJcblxyXG4gICAgaWYgKGUgPT09IG51bGwpIHJldHVybiBuLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xyXG5cclxuICAgIHN0ciA9IGUgPD0gVE9fRVhQX05FRyB8fCBlID49IFRPX0VYUF9QT1NcclxuICAgICAgPyB0b0V4cG9uZW50aWFsKHN0ciwgZSlcclxuICAgICAgOiB0b0ZpeGVkUG9pbnQoc3RyLCBlLCAnMCcpO1xyXG5cclxuICAgIHJldHVybiBuLnMgPCAwID8gJy0nICsgc3RyIDogc3RyO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIFBST1RPVFlQRS9JTlNUQU5DRSBNRVRIT0RTXHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLlxyXG4gICAqL1xyXG4gIFAuYWJzb2x1dGVWYWx1ZSA9IFAuYWJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xyXG4gICAgaWYgKHgucyA8IDApIHgucyA9IDE7XHJcbiAgICByZXR1cm4geDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm5cclxuICAgKiAgIDEgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqICAgLTEgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqICAgMCBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgdmFsdWUsXHJcbiAgICogICBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAqL1xyXG4gIFAuY29tcGFyZWRUbyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBJZiBkcCBpcyB1bmRlZmluZWQgb3IgbnVsbCBvciB0cnVlIG9yIGZhbHNlLCByZXR1cm4gdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBvZiB0aGVcclxuICAgKiB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciwgb3IgbnVsbCBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgXHUwMEIxSW5maW5pdHkgb3IgTmFOLlxyXG4gICAqXHJcbiAgICogT3RoZXJ3aXNlLCBpZiBkcCBpcyBhIG51bWJlciwgcmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAqIEJpZ051bWJlciByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBkcCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvclxyXG4gICAqIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXM6IGludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfHJtfSdcclxuICAgKi9cclxuICBQLmRlY2ltYWxQbGFjZXMgPSBQLmRwID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gICAgdmFyIGMsIG4sIHYsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIGlmIChkcCAhPSBudWxsKSB7XHJcbiAgICAgIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG4gICAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgICBlbHNlIGludENoZWNrKHJtLCAwLCA4KTtcclxuXHJcbiAgICAgIHJldHVybiByb3VuZChuZXcgQmlnTnVtYmVyKHgpLCBkcCArIHguZSArIDEsIHJtKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIShjID0geC5jKSkgcmV0dXJuIG51bGw7XHJcbiAgICBuID0gKCh2ID0gYy5sZW5ndGggLSAxKSAtIGJpdEZsb29yKHRoaXMuZSAvIExPR19CQVNFKSkgKiBMT0dfQkFTRTtcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IG51bWJlci5cclxuICAgIGlmICh2ID0gY1t2XSkgZm9yICg7IHYgJSAxMCA9PSAwOyB2IC89IDEwLCBuLS0pO1xyXG4gICAgaWYgKG4gPCAwKSBuID0gMDtcclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAvIDAgPSBJXHJcbiAgICogIG4gLyBOID0gTlxyXG4gICAqICBuIC8gSSA9IDBcclxuICAgKiAgMCAvIG4gPSAwXHJcbiAgICogIDAgLyAwID0gTlxyXG4gICAqICAwIC8gTiA9IE5cclxuICAgKiAgMCAvIEkgPSAwXHJcbiAgICogIE4gLyBuID0gTlxyXG4gICAqICBOIC8gMCA9IE5cclxuICAgKiAgTiAvIE4gPSBOXHJcbiAgICogIE4gLyBJID0gTlxyXG4gICAqICBJIC8gbiA9IElcclxuICAgKiAgSSAvIDAgPSBJXHJcbiAgICogIEkgLyBOID0gTlxyXG4gICAqICBJIC8gSSA9IE5cclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGRpdmlkZWQgYnkgdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLCByb3VuZGVkIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cclxuICAgKi9cclxuICBQLmRpdmlkZWRCeSA9IFAuZGl2ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBkaXYodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSwgREVDSU1BTF9QTEFDRVMsIFJPVU5ESU5HX01PREUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIGludGVnZXIgcGFydCBvZiBkaXZpZGluZyB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAqIEJpZ051bWJlciBieSB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAuZGl2aWRlZFRvSW50ZWdlckJ5ID0gUC5pZGl2ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBkaXYodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSwgMCwgMSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBleHBvbmVudGlhdGVkIGJ5IG4uXHJcbiAgICpcclxuICAgKiBJZiBtIGlzIHByZXNlbnQsIHJldHVybiB0aGUgcmVzdWx0IG1vZHVsbyBtLlxyXG4gICAqIElmIG4gaXMgbmVnYXRpdmUgcm91bmQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZCBST1VORElOR19NT0RFLlxyXG4gICAqIElmIFBPV19QUkVDSVNJT04gaXMgbm9uLXplcm8gYW5kIG0gaXMgbm90IHByZXNlbnQsIHJvdW5kIHRvIFBPV19QUkVDSVNJT04gdXNpbmcgUk9VTkRJTkdfTU9ERS5cclxuICAgKlxyXG4gICAqIFRoZSBtb2R1bGFyIHBvd2VyIG9wZXJhdGlvbiB3b3JrcyBlZmZpY2llbnRseSB3aGVuIHgsIG4sIGFuZCBtIGFyZSBpbnRlZ2Vycywgb3RoZXJ3aXNlIGl0XHJcbiAgICogaXMgZXF1aXZhbGVudCB0byBjYWxjdWxhdGluZyB4LmV4cG9uZW50aWF0ZWRCeShuKS5tb2R1bG8obSkgd2l0aCBhIFBPV19QUkVDSVNJT04gb2YgMC5cclxuICAgKlxyXG4gICAqIG4ge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBUaGUgZXhwb25lbnQuIEFuIGludGVnZXIuXHJcbiAgICogW21dIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gVGhlIG1vZHVsdXMuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gRXhwb25lbnQgbm90IGFuIGludGVnZXI6IHtufSdcclxuICAgKi9cclxuICBQLmV4cG9uZW50aWF0ZWRCeSA9IFAucG93ID0gZnVuY3Rpb24gKG4sIG0pIHtcclxuICAgIHZhciBoYWxmLCBpc01vZEV4cCwgaSwgaywgbW9yZSwgbklzQmlnLCBuSXNOZWcsIG5Jc09kZCwgeSxcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgbiA9IG5ldyBCaWdOdW1iZXIobik7XHJcblxyXG4gICAgLy8gQWxsb3cgTmFOIGFuZCBcdTAwQjFJbmZpbml0eSwgYnV0IG5vdCBvdGhlciBub24taW50ZWdlcnMuXHJcbiAgICBpZiAobi5jICYmICFuLmlzSW50ZWdlcigpKSB7XHJcbiAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0V4cG9uZW50IG5vdCBhbiBpbnRlZ2VyOiAnICsgdmFsdWVPZihuKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG0gIT0gbnVsbCkgbSA9IG5ldyBCaWdOdW1iZXIobSk7XHJcblxyXG4gICAgLy8gRXhwb25lbnQgb2YgTUFYX1NBRkVfSU5URUdFUiBpcyAxNS5cclxuICAgIG5Jc0JpZyA9IG4uZSA+IDE0O1xyXG5cclxuICAgIC8vIElmIHggaXMgTmFOLCBcdTAwQjFJbmZpbml0eSwgXHUwMEIxMCBvciBcdTAwQjExLCBvciBuIGlzIFx1MDBCMUluZmluaXR5LCBOYU4gb3IgXHUwMEIxMC5cclxuICAgIGlmICgheC5jIHx8ICF4LmNbMF0gfHwgeC5jWzBdID09IDEgJiYgIXguZSAmJiB4LmMubGVuZ3RoID09IDEgfHwgIW4uYyB8fCAhbi5jWzBdKSB7XHJcblxyXG4gICAgICAvLyBUaGUgc2lnbiBvZiB0aGUgcmVzdWx0IG9mIHBvdyB3aGVuIHggaXMgbmVnYXRpdmUgZGVwZW5kcyBvbiB0aGUgZXZlbm5lc3Mgb2Ygbi5cclxuICAgICAgLy8gSWYgK24gb3ZlcmZsb3dzIHRvIFx1MDBCMUluZmluaXR5LCB0aGUgZXZlbm5lc3Mgb2YgbiB3b3VsZCBiZSBub3QgYmUga25vd24uXHJcbiAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKE1hdGgucG93KCt2YWx1ZU9mKHgpLCBuSXNCaWcgPyBuLnMgKiAoMiAtIGlzT2RkKG4pKSA6ICt2YWx1ZU9mKG4pKSk7XHJcbiAgICAgIHJldHVybiBtID8geS5tb2QobSkgOiB5O1xyXG4gICAgfVxyXG5cclxuICAgIG5Jc05lZyA9IG4ucyA8IDA7XHJcblxyXG4gICAgaWYgKG0pIHtcclxuXHJcbiAgICAgIC8vIHggJSBtIHJldHVybnMgTmFOIGlmIGFicyhtKSBpcyB6ZXJvLCBvciBtIGlzIE5hTi5cclxuICAgICAgaWYgKG0uYyA/ICFtLmNbMF0gOiAhbS5zKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgICAgaXNNb2RFeHAgPSAhbklzTmVnICYmIHguaXNJbnRlZ2VyKCkgJiYgbS5pc0ludGVnZXIoKTtcclxuXHJcbiAgICAgIGlmIChpc01vZEV4cCkgeCA9IHgubW9kKG0pO1xyXG5cclxuICAgIC8vIE92ZXJmbG93IHRvIFx1MDBCMUluZmluaXR5OiA+PTIqKjFlMTAgb3IgPj0xLjAwMDAwMjQqKjFlMTUuXHJcbiAgICAvLyBVbmRlcmZsb3cgdG8gXHUwMEIxMDogPD0wLjc5KioxZTEwIG9yIDw9MC45OTk5OTc1KioxZTE1LlxyXG4gICAgfSBlbHNlIGlmIChuLmUgPiA5ICYmICh4LmUgPiAwIHx8IHguZSA8IC0xIHx8ICh4LmUgPT0gMFxyXG4gICAgICAvLyBbMSwgMjQwMDAwMDAwXVxyXG4gICAgICA/IHguY1swXSA+IDEgfHwgbklzQmlnICYmIHguY1sxXSA+PSAyNGU3XHJcbiAgICAgIC8vIFs4MDAwMDAwMDAwMDAwMF0gIFs5OTk5OTc1MDAwMDAwMF1cclxuICAgICAgOiB4LmNbMF0gPCA4ZTEzIHx8IG5Jc0JpZyAmJiB4LmNbMF0gPD0gOTk5OTk3NWU3KSkpIHtcclxuXHJcbiAgICAgIC8vIElmIHggaXMgbmVnYXRpdmUgYW5kIG4gaXMgb2RkLCBrID0gLTAsIGVsc2UgayA9IDAuXHJcbiAgICAgIGsgPSB4LnMgPCAwICYmIGlzT2RkKG4pID8gLTAgOiAwO1xyXG5cclxuICAgICAgLy8gSWYgeCA+PSAxLCBrID0gXHUwMEIxSW5maW5pdHkuXHJcbiAgICAgIGlmICh4LmUgPiAtMSkgayA9IDEgLyBrO1xyXG5cclxuICAgICAgLy8gSWYgbiBpcyBuZWdhdGl2ZSByZXR1cm4gXHUwMEIxMCwgZWxzZSByZXR1cm4gXHUwMEIxSW5maW5pdHkuXHJcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKG5Jc05lZyA/IDEgLyBrIDogayk7XHJcblxyXG4gICAgfSBlbHNlIGlmIChQT1dfUFJFQ0lTSU9OKSB7XHJcblxyXG4gICAgICAvLyBUcnVuY2F0aW5nIGVhY2ggY29lZmZpY2llbnQgYXJyYXkgdG8gYSBsZW5ndGggb2YgayBhZnRlciBlYWNoIG11bHRpcGxpY2F0aW9uXHJcbiAgICAgIC8vIGVxdWF0ZXMgdG8gdHJ1bmNhdGluZyBzaWduaWZpY2FudCBkaWdpdHMgdG8gUE9XX1BSRUNJU0lPTiArIFsyOCwgNDFdLFxyXG4gICAgICAvLyBpLmUuIHRoZXJlIHdpbGwgYmUgYSBtaW5pbXVtIG9mIDI4IGd1YXJkIGRpZ2l0cyByZXRhaW5lZC5cclxuICAgICAgayA9IG1hdGhjZWlsKFBPV19QUkVDSVNJT04gLyBMT0dfQkFTRSArIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuSXNCaWcpIHtcclxuICAgICAgaGFsZiA9IG5ldyBCaWdOdW1iZXIoMC41KTtcclxuICAgICAgaWYgKG5Jc05lZykgbi5zID0gMTtcclxuICAgICAgbklzT2RkID0gaXNPZGQobik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpID0gTWF0aC5hYnMoK3ZhbHVlT2YobikpO1xyXG4gICAgICBuSXNPZGQgPSBpICUgMjtcclxuICAgIH1cclxuXHJcbiAgICB5ID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG5cclxuICAgIC8vIFBlcmZvcm1zIDU0IGxvb3AgaXRlcmF0aW9ucyBmb3IgbiBvZiA5MDA3MTk5MjU0NzQwOTkxLlxyXG4gICAgZm9yICg7IDspIHtcclxuXHJcbiAgICAgIGlmIChuSXNPZGQpIHtcclxuICAgICAgICB5ID0geS50aW1lcyh4KTtcclxuICAgICAgICBpZiAoIXkuYykgYnJlYWs7XHJcblxyXG4gICAgICAgIGlmIChrKSB7XHJcbiAgICAgICAgICBpZiAoeS5jLmxlbmd0aCA+IGspIHkuYy5sZW5ndGggPSBrO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb2RFeHApIHtcclxuICAgICAgICAgIHkgPSB5Lm1vZChtKTsgICAgLy95ID0geS5taW51cyhkaXYoeSwgbSwgMCwgTU9EVUxPX01PREUpLnRpbWVzKG0pKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpKSB7XHJcbiAgICAgICAgaSA9IG1hdGhmbG9vcihpIC8gMik7XHJcbiAgICAgICAgaWYgKGkgPT09IDApIGJyZWFrO1xyXG4gICAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4gPSBuLnRpbWVzKGhhbGYpO1xyXG4gICAgICAgIHJvdW5kKG4sIG4uZSArIDEsIDEpO1xyXG5cclxuICAgICAgICBpZiAobi5lID4gMTQpIHtcclxuICAgICAgICAgIG5Jc09kZCA9IGlzT2RkKG4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpID0gK3ZhbHVlT2Yobik7XHJcbiAgICAgICAgICBpZiAoaSA9PT0gMCkgYnJlYWs7XHJcbiAgICAgICAgICBuSXNPZGQgPSBpICUgMjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHggPSB4LnRpbWVzKHgpO1xyXG5cclxuICAgICAgaWYgKGspIHtcclxuICAgICAgICBpZiAoeC5jICYmIHguYy5sZW5ndGggPiBrKSB4LmMubGVuZ3RoID0gaztcclxuICAgICAgfSBlbHNlIGlmIChpc01vZEV4cCkge1xyXG4gICAgICAgIHggPSB4Lm1vZChtKTsgICAgLy94ID0geC5taW51cyhkaXYoeCwgbSwgMCwgTU9EVUxPX01PREUpLnRpbWVzKG0pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc01vZEV4cCkgcmV0dXJuIHk7XHJcbiAgICBpZiAobklzTmVnKSB5ID0gT05FLmRpdih5KTtcclxuXHJcbiAgICByZXR1cm4gbSA/IHkubW9kKG0pIDogayA/IHJvdW5kKHksIFBPV19QUkVDSVNJT04sIFJPVU5ESU5HX01PREUsIG1vcmUpIDogeTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciByb3VuZGVkIHRvIGFuIGludGVnZXJcclxuICAgKiB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvciBST1VORElOR19NT0RFIGlmIHJtIGlzIG9taXR0ZWQuXHJcbiAgICpcclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3JtfSdcclxuICAgKi9cclxuICBQLmludGVnZXJWYWx1ZSA9IGZ1bmN0aW9uIChybSkge1xyXG4gICAgdmFyIG4gPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xyXG4gICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG4gICAgcmV0dXJuIHJvdW5kKG4sIG4uZSArIDEsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcclxuICAgKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNFcXVhbFRvID0gUC5lcSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA9PT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgYSBmaW5pdGUgbnVtYmVyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNGaW5pdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gISF0aGlzLmM7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0dyZWF0ZXJUaGFuID0gUC5ndCA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA+IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2ZcclxuICAgKiBCaWdOdW1iZXIoeSwgYiksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0dyZWF0ZXJUaGFuT3JFcXVhbFRvID0gUC5ndGUgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgcmV0dXJuIChiID0gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSkgPT09IDEgfHwgYiA9PT0gMDtcclxuXHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGFuIGludGVnZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0ludGVnZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gISF0aGlzLmMgJiYgYml0Rmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpID4gdGhpcy5jLmxlbmd0aCAtIDI7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0xlc3NUaGFuID0gUC5sdCA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA8IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2ZcclxuICAgKiBCaWdOdW1iZXIoeSwgYiksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0xlc3NUaGFuT3JFcXVhbFRvID0gUC5sdGUgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgcmV0dXJuIChiID0gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSkgPT09IC0xIHx8IGIgPT09IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIE5hTiwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzTmFOID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICF0aGlzLnM7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIG5lZ2F0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNOZWdhdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnMgPCAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBwb3NpdGl2ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzUG9zaXRpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zID4gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgMCBvciAtMCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzWmVybyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuYyAmJiB0aGlzLmNbMF0gPT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAtIDAgPSBuXHJcbiAgICogIG4gLSBOID0gTlxyXG4gICAqICBuIC0gSSA9IC1JXHJcbiAgICogIDAgLSBuID0gLW5cclxuICAgKiAgMCAtIDAgPSAwXHJcbiAgICogIDAgLSBOID0gTlxyXG4gICAqICAwIC0gSSA9IC1JXHJcbiAgICogIE4gLSBuID0gTlxyXG4gICAqICBOIC0gMCA9IE5cclxuICAgKiAgTiAtIE4gPSBOXHJcbiAgICogIE4gLSBJID0gTlxyXG4gICAqICBJIC0gbiA9IElcclxuICAgKiAgSSAtIDAgPSBJXHJcbiAgICogIEkgLSBOID0gTlxyXG4gICAqICBJIC0gSSA9IE5cclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG1pbnVzIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKS5cclxuICAgKi9cclxuICBQLm1pbnVzID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHZhciBpLCBqLCB0LCB4TFR5LFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgYSA9IHgucztcclxuXHJcbiAgICB5ID0gbmV3IEJpZ051bWJlcih5LCBiKTtcclxuICAgIGIgPSB5LnM7XHJcblxyXG4gICAgLy8gRWl0aGVyIE5hTj9cclxuICAgIGlmICghYSB8fCAhYikgcmV0dXJuIG5ldyBCaWdOdW1iZXIoTmFOKTtcclxuXHJcbiAgICAvLyBTaWducyBkaWZmZXI/XHJcbiAgICBpZiAoYSAhPSBiKSB7XHJcbiAgICAgIHkucyA9IC1iO1xyXG4gICAgICByZXR1cm4geC5wbHVzKHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxyXG4gICAgICB5ZSA9IHkuZSAvIExPR19CQVNFLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgeWMgPSB5LmM7XHJcblxyXG4gICAgaWYgKCF4ZSB8fCAheWUpIHtcclxuXHJcbiAgICAgIC8vIEVpdGhlciBJbmZpbml0eT9cclxuICAgICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiB4YyA/ICh5LnMgPSAtYiwgeSkgOiBuZXcgQmlnTnVtYmVyKHljID8geCA6IE5hTik7XHJcblxyXG4gICAgICAvLyBFaXRoZXIgemVybz9cclxuICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVybywgeCBpZiB4IGlzIG5vbi16ZXJvLCBvciB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXHJcbiAgICAgICAgcmV0dXJuIHljWzBdID8gKHkucyA9IC1iLCB5KSA6IG5ldyBCaWdOdW1iZXIoeGNbMF0gPyB4IDpcclxuXHJcbiAgICAgICAgIC8vIElFRUUgNzU0ICgyMDA4KSA2LjM6IG4gLSBuID0gLTAgd2hlbiByb3VuZGluZyB0byAtSW5maW5pdHlcclxuICAgICAgICAgUk9VTkRJTkdfTU9ERSA9PSAzID8gLTAgOiAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHhlID0gYml0Rmxvb3IoeGUpO1xyXG4gICAgeWUgPSBiaXRGbG9vcih5ZSk7XHJcbiAgICB4YyA9IHhjLnNsaWNlKCk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGlzIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG4gICAgaWYgKGEgPSB4ZSAtIHllKSB7XHJcblxyXG4gICAgICBpZiAoeExUeSA9IGEgPCAwKSB7XHJcbiAgICAgICAgYSA9IC1hO1xyXG4gICAgICAgIHQgPSB4YztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB5ZSA9IHhlO1xyXG4gICAgICAgIHQgPSB5YztcclxuICAgICAgfVxyXG5cclxuICAgICAgdC5yZXZlcnNlKCk7XHJcblxyXG4gICAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy5cclxuICAgICAgZm9yIChiID0gYTsgYi0tOyB0LnB1c2goMCkpO1xyXG4gICAgICB0LnJldmVyc2UoKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBFeHBvbmVudHMgZXF1YWwuIENoZWNrIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gICAgICBqID0gKHhMVHkgPSAoYSA9IHhjLmxlbmd0aCkgPCAoYiA9IHljLmxlbmd0aCkpID8gYSA6IGI7XHJcblxyXG4gICAgICBmb3IgKGEgPSBiID0gMDsgYiA8IGo7IGIrKykge1xyXG5cclxuICAgICAgICBpZiAoeGNbYl0gIT0geWNbYl0pIHtcclxuICAgICAgICAgIHhMVHkgPSB4Y1tiXSA8IHljW2JdO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8geCA8IHk/IFBvaW50IHhjIHRvIHRoZSBhcnJheSBvZiB0aGUgYmlnZ2VyIG51bWJlci5cclxuICAgIGlmICh4TFR5KSB7XHJcbiAgICAgIHQgPSB4YztcclxuICAgICAgeGMgPSB5YztcclxuICAgICAgeWMgPSB0O1xyXG4gICAgICB5LnMgPSAteS5zO1xyXG4gICAgfVxyXG5cclxuICAgIGIgPSAoaiA9IHljLmxlbmd0aCkgLSAoaSA9IHhjLmxlbmd0aCk7XHJcblxyXG4gICAgLy8gQXBwZW5kIHplcm9zIHRvIHhjIGlmIHNob3J0ZXIuXHJcbiAgICAvLyBObyBuZWVkIHRvIGFkZCB6ZXJvcyB0byB5YyBpZiBzaG9ydGVyIGFzIHN1YnRyYWN0IG9ubHkgbmVlZHMgdG8gc3RhcnQgYXQgeWMubGVuZ3RoLlxyXG4gICAgaWYgKGIgPiAwKSBmb3IgKDsgYi0tOyB4Y1tpKytdID0gMCk7XHJcbiAgICBiID0gQkFTRSAtIDE7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgeWMgZnJvbSB4Yy5cclxuICAgIGZvciAoOyBqID4gYTspIHtcclxuXHJcbiAgICAgIGlmICh4Y1stLWpdIDwgeWNbal0pIHtcclxuICAgICAgICBmb3IgKGkgPSBqOyBpICYmICF4Y1stLWldOyB4Y1tpXSA9IGIpO1xyXG4gICAgICAgIC0teGNbaV07XHJcbiAgICAgICAgeGNbal0gKz0gQkFTRTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGNbal0gLT0geWNbal07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MgYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgIGZvciAoOyB4Y1swXSA9PSAwOyB4Yy5zcGxpY2UoMCwgMSksIC0teWUpO1xyXG5cclxuICAgIC8vIFplcm8/XHJcbiAgICBpZiAoIXhjWzBdKSB7XHJcblxyXG4gICAgICAvLyBGb2xsb3dpbmcgSUVFRSA3NTQgKDIwMDgpIDYuMyxcclxuICAgICAgLy8gbiAtIG4gPSArMCAgYnV0ICBuIC0gbiA9IC0wICB3aGVuIHJvdW5kaW5nIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgICB5LnMgPSBST1VORElOR19NT0RFID09IDMgPyAtMSA6IDE7XHJcbiAgICAgIHkuYyA9IFt5LmUgPSAwXTtcclxuICAgICAgcmV0dXJuIHk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgSW5maW5pdHkgYXMgK3ggLSAreSAhPSBJbmZpbml0eSAmJiAteCAtIC15ICE9IEluZmluaXR5XHJcbiAgICAvLyBmb3IgZmluaXRlIHggYW5kIHkuXHJcbiAgICByZXR1cm4gbm9ybWFsaXNlKHksIHhjLCB5ZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogICBuICUgMCA9ICBOXHJcbiAgICogICBuICUgTiA9ICBOXHJcbiAgICogICBuICUgSSA9ICBuXHJcbiAgICogICAwICUgbiA9ICAwXHJcbiAgICogIC0wICUgbiA9IC0wXHJcbiAgICogICAwICUgMCA9ICBOXHJcbiAgICogICAwICUgTiA9ICBOXHJcbiAgICogICAwICUgSSA9ICAwXHJcbiAgICogICBOICUgbiA9ICBOXHJcbiAgICogICBOICUgMCA9ICBOXHJcbiAgICogICBOICUgTiA9ICBOXHJcbiAgICogICBOICUgSSA9ICBOXHJcbiAgICogICBJICUgbiA9ICBOXHJcbiAgICogICBJICUgMCA9ICBOXHJcbiAgICogICBJICUgTiA9ICBOXHJcbiAgICogICBJICUgSSA9ICBOXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBtb2R1bG8gdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLiBUaGUgcmVzdWx0IGRlcGVuZHMgb24gdGhlIHZhbHVlIG9mIE1PRFVMT19NT0RFLlxyXG4gICAqL1xyXG4gIFAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgdmFyIHEsIHMsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgeCBpcyBJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIHplcm8uXHJcbiAgICBpZiAoIXguYyB8fCAheS5zIHx8IHkuYyAmJiAheS5jWzBdKSB7XHJcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyBJbmZpbml0eSBvciB4IGlzIHplcm8uXHJcbiAgICB9IGVsc2UgaWYgKCF5LmMgfHwgeC5jICYmICF4LmNbMF0pIHtcclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKE1PRFVMT19NT0RFID09IDkpIHtcclxuXHJcbiAgICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxyXG4gICAgICAvLyByID0geCAtIHF5ICAgIHdoZXJlICAwIDw9IHIgPCBhYnMoeSlcclxuICAgICAgcyA9IHkucztcclxuICAgICAgeS5zID0gMTtcclxuICAgICAgcSA9IGRpdih4LCB5LCAwLCAzKTtcclxuICAgICAgeS5zID0gcztcclxuICAgICAgcS5zICo9IHM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBxID0gZGl2KHgsIHksIDAsIE1PRFVMT19NT0RFKTtcclxuICAgIH1cclxuXHJcbiAgICB5ID0geC5taW51cyhxLnRpbWVzKHkpKTtcclxuXHJcbiAgICAvLyBUbyBtYXRjaCBKYXZhU2NyaXB0ICUsIGVuc3VyZSBzaWduIG9mIHplcm8gaXMgc2lnbiBvZiBkaXZpZGVuZC5cclxuICAgIGlmICgheS5jWzBdICYmIE1PRFVMT19NT0RFID09IDEpIHkucyA9IHgucztcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAqIDAgPSAwXHJcbiAgICogIG4gKiBOID0gTlxyXG4gICAqICBuICogSSA9IElcclxuICAgKiAgMCAqIG4gPSAwXHJcbiAgICogIDAgKiAwID0gMFxyXG4gICAqICAwICogTiA9IE5cclxuICAgKiAgMCAqIEkgPSBOXHJcbiAgICogIE4gKiBuID0gTlxyXG4gICAqICBOICogMCA9IE5cclxuICAgKiAgTiAqIE4gPSBOXHJcbiAgICogIE4gKiBJID0gTlxyXG4gICAqICBJICogbiA9IElcclxuICAgKiAgSSAqIDAgPSBOXHJcbiAgICogIEkgKiBOID0gTlxyXG4gICAqICBJICogSSA9IElcclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG11bHRpcGxpZWQgYnkgdGhlIHZhbHVlXHJcbiAgICogb2YgQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAubXVsdGlwbGllZEJ5ID0gUC50aW1lcyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICB2YXIgYywgZSwgaSwgaiwgaywgbSwgeGNMLCB4bG8sIHhoaSwgeWNMLCB5bG8sIHloaSwgemMsXHJcbiAgICAgIGJhc2UsIHNxcnRCYXNlLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHljID0gKHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpKS5jO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4sIFx1MDBCMUluZmluaXR5IG9yIFx1MDBCMTA/XHJcbiAgICBpZiAoIXhjIHx8ICF5YyB8fCAheGNbMF0gfHwgIXljWzBdKSB7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4sIG9yIG9uZSBpcyAwIGFuZCB0aGUgb3RoZXIgaXMgSW5maW5pdHkuXHJcbiAgICAgIGlmICgheC5zIHx8ICF5LnMgfHwgeGMgJiYgIXhjWzBdICYmICF5YyB8fCB5YyAmJiAheWNbMF0gJiYgIXhjKSB7XHJcbiAgICAgICAgeS5jID0geS5lID0geS5zID0gbnVsbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB5LnMgKj0geC5zO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gXHUwMEIxSW5maW5pdHkgaWYgZWl0aGVyIGlzIFx1MDBCMUluZmluaXR5LlxyXG4gICAgICAgIGlmICgheGMgfHwgIXljKSB7XHJcbiAgICAgICAgICB5LmMgPSB5LmUgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gXHUwMEIxMCBpZiBlaXRoZXIgaXMgXHUwMEIxMC5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeS5jID0gWzBdO1xyXG4gICAgICAgICAgeS5lID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG5cclxuICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgKyBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICB5LnMgKj0geC5zO1xyXG4gICAgeGNMID0geGMubGVuZ3RoO1xyXG4gICAgeWNMID0geWMubGVuZ3RoO1xyXG5cclxuICAgIC8vIEVuc3VyZSB4YyBwb2ludHMgdG8gbG9uZ2VyIGFycmF5IGFuZCB4Y0wgdG8gaXRzIGxlbmd0aC5cclxuICAgIGlmICh4Y0wgPCB5Y0wpIHtcclxuICAgICAgemMgPSB4YztcclxuICAgICAgeGMgPSB5YztcclxuICAgICAgeWMgPSB6YztcclxuICAgICAgaSA9IHhjTDtcclxuICAgICAgeGNMID0geWNMO1xyXG4gICAgICB5Y0wgPSBpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpc2UgdGhlIHJlc3VsdCBhcnJheSB3aXRoIHplcm9zLlxyXG4gICAgZm9yIChpID0geGNMICsgeWNMLCB6YyA9IFtdOyBpLS07IHpjLnB1c2goMCkpO1xyXG5cclxuICAgIGJhc2UgPSBCQVNFO1xyXG4gICAgc3FydEJhc2UgPSBTUVJUX0JBU0U7XHJcblxyXG4gICAgZm9yIChpID0geWNMOyAtLWkgPj0gMDspIHtcclxuICAgICAgYyA9IDA7XHJcbiAgICAgIHlsbyA9IHljW2ldICUgc3FydEJhc2U7XHJcbiAgICAgIHloaSA9IHljW2ldIC8gc3FydEJhc2UgfCAwO1xyXG5cclxuICAgICAgZm9yIChrID0geGNMLCBqID0gaSArIGs7IGogPiBpOykge1xyXG4gICAgICAgIHhsbyA9IHhjWy0ta10gJSBzcXJ0QmFzZTtcclxuICAgICAgICB4aGkgPSB4Y1trXSAvIHNxcnRCYXNlIHwgMDtcclxuICAgICAgICBtID0geWhpICogeGxvICsgeGhpICogeWxvO1xyXG4gICAgICAgIHhsbyA9IHlsbyAqIHhsbyArICgobSAlIHNxcnRCYXNlKSAqIHNxcnRCYXNlKSArIHpjW2pdICsgYztcclxuICAgICAgICBjID0gKHhsbyAvIGJhc2UgfCAwKSArIChtIC8gc3FydEJhc2UgfCAwKSArIHloaSAqIHhoaTtcclxuICAgICAgICB6Y1tqLS1dID0geGxvICUgYmFzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgemNbal0gPSBjO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjKSB7XHJcbiAgICAgICsrZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHpjLnNwbGljZSgwLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbm9ybWFsaXNlKHksIHpjLCBlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBuZWdhdGVkLFxyXG4gICAqIGkuZS4gbXVsdGlwbGllZCBieSAtMS5cclxuICAgKi9cclxuICBQLm5lZ2F0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICB4LnMgPSAteC5zIHx8IG51bGw7XHJcbiAgICByZXR1cm4geDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiArIDAgPSBuXHJcbiAgICogIG4gKyBOID0gTlxyXG4gICAqICBuICsgSSA9IElcclxuICAgKiAgMCArIG4gPSBuXHJcbiAgICogIDAgKyAwID0gMFxyXG4gICAqICAwICsgTiA9IE5cclxuICAgKiAgMCArIEkgPSBJXHJcbiAgICogIE4gKyBuID0gTlxyXG4gICAqICBOICsgMCA9IE5cclxuICAgKiAgTiArIE4gPSBOXHJcbiAgICogIE4gKyBJID0gTlxyXG4gICAqICBJICsgbiA9IElcclxuICAgKiAgSSArIDAgPSBJXHJcbiAgICogIEkgKyBOID0gTlxyXG4gICAqICBJICsgSSA9IElcclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHBsdXMgdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAucGx1cyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICB2YXIgdCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIGEgPSB4LnM7XHJcblxyXG4gICAgeSA9IG5ldyBCaWdOdW1iZXIoeSwgYik7XHJcbiAgICBiID0geS5zO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4/XHJcbiAgICBpZiAoIWEgfHwgIWIpIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gICAgIGlmIChhICE9IGIpIHtcclxuICAgICAgeS5zID0gLWI7XHJcbiAgICAgIHJldHVybiB4Lm1pbnVzKHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxyXG4gICAgICB5ZSA9IHkuZSAvIExPR19CQVNFLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgeWMgPSB5LmM7XHJcblxyXG4gICAgaWYgKCF4ZSB8fCAheWUpIHtcclxuXHJcbiAgICAgIC8vIFJldHVybiBcdTAwQjFJbmZpbml0eSBpZiBlaXRoZXIgXHUwMEIxSW5maW5pdHkuXHJcbiAgICAgIGlmICgheGMgfHwgIXljKSByZXR1cm4gbmV3IEJpZ051bWJlcihhIC8gMCk7XHJcblxyXG4gICAgICAvLyBFaXRoZXIgemVybz9cclxuICAgICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVybywgeCBpZiB4IGlzIG5vbi16ZXJvLCBvciB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXHJcbiAgICAgIGlmICgheGNbMF0gfHwgIXljWzBdKSByZXR1cm4geWNbMF0gPyB5IDogbmV3IEJpZ051bWJlcih4Y1swXSA/IHggOiBhICogMCk7XHJcbiAgICB9XHJcblxyXG4gICAgeGUgPSBiaXRGbG9vcih4ZSk7XHJcbiAgICB5ZSA9IGJpdEZsb29yKHllKTtcclxuICAgIHhjID0geGMuc2xpY2UoKTtcclxuXHJcbiAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy4gRmFzdGVyIHRvIHVzZSByZXZlcnNlIHRoZW4gZG8gdW5zaGlmdHMuXHJcbiAgICBpZiAoYSA9IHhlIC0geWUpIHtcclxuICAgICAgaWYgKGEgPiAwKSB7XHJcbiAgICAgICAgeWUgPSB4ZTtcclxuICAgICAgICB0ID0geWM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYSA9IC1hO1xyXG4gICAgICAgIHQgPSB4YztcclxuICAgICAgfVxyXG5cclxuICAgICAgdC5yZXZlcnNlKCk7XHJcbiAgICAgIGZvciAoOyBhLS07IHQucHVzaCgwKSk7XHJcbiAgICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGEgPSB4Yy5sZW5ndGg7XHJcbiAgICBiID0geWMubGVuZ3RoO1xyXG5cclxuICAgIC8vIFBvaW50IHhjIHRvIHRoZSBsb25nZXIgYXJyYXksIGFuZCBiIHRvIHRoZSBzaG9ydGVyIGxlbmd0aC5cclxuICAgIGlmIChhIC0gYiA8IDApIHtcclxuICAgICAgdCA9IHljO1xyXG4gICAgICB5YyA9IHhjO1xyXG4gICAgICB4YyA9IHQ7XHJcbiAgICAgIGIgPSBhO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9ubHkgc3RhcnQgYWRkaW5nIGF0IHljLmxlbmd0aCAtIDEgYXMgdGhlIGZ1cnRoZXIgZGlnaXRzIG9mIHhjIGNhbiBiZSBpZ25vcmVkLlxyXG4gICAgZm9yIChhID0gMDsgYjspIHtcclxuICAgICAgYSA9ICh4Y1stLWJdID0geGNbYl0gKyB5Y1tiXSArIGEpIC8gQkFTRSB8IDA7XHJcbiAgICAgIHhjW2JdID0gQkFTRSA9PT0geGNbYl0gPyAwIDogeGNbYl0gJSBCQVNFO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhKSB7XHJcbiAgICAgIHhjID0gW2FdLmNvbmNhdCh4Yyk7XHJcbiAgICAgICsreWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxyXG4gICAgLy8geWUgPSBNQVhfRVhQICsgMSBwb3NzaWJsZVxyXG4gICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB4YywgeWUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIElmIHNkIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZlxyXG4gICAqIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciwgb3IgbnVsbCBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgXHUwMEIxSW5maW5pdHkgb3IgTmFOLlxyXG4gICAqIElmIHNkIGlzIHRydWUgaW5jbHVkZSBpbnRlZ2VyLXBhcnQgdHJhaWxpbmcgemVyb3MgaW4gdGhlIGNvdW50LlxyXG4gICAqXHJcbiAgICogT3RoZXJ3aXNlLCBpZiBzZCBpcyBhIG51bWJlciwgcmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAqIEJpZ051bWJlciByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3JcclxuICAgKiBST1VORElOR19NT0RFIGlmIHJtIGlzIG9taXR0ZWQuXHJcbiAgICpcclxuICAgKiBzZCB7bnVtYmVyfGJvb2xlYW59IG51bWJlcjogc2lnbmlmaWNhbnQgZGlnaXRzOiBpbnRlZ2VyLCAxIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICogICAgICAgICAgICAgICAgICAgICBib29sZWFuOiB3aGV0aGVyIHRvIGNvdW50IGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvczogdHJ1ZSBvciBmYWxzZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3NkfHJtfSdcclxuICAgKi9cclxuICBQLnByZWNpc2lvbiA9IFAuc2QgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICB2YXIgYywgbiwgdixcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHNkICE9IG51bGwgJiYgc2QgIT09ICEhc2QpIHtcclxuICAgICAgaW50Q2hlY2soc2QsIDEsIE1BWCk7XHJcbiAgICAgIGlmIChybSA9PSBudWxsKSBybSA9IFJPVU5ESU5HX01PREU7XHJcbiAgICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgICAgcmV0dXJuIHJvdW5kKG5ldyBCaWdOdW1iZXIoeCksIHNkLCBybSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEoYyA9IHguYykpIHJldHVybiBudWxsO1xyXG4gICAgdiA9IGMubGVuZ3RoIC0gMTtcclxuICAgIG4gPSB2ICogTE9HX0JBU0UgKyAxO1xyXG5cclxuICAgIGlmICh2ID0gY1t2XSkge1xyXG5cclxuICAgICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCBlbGVtZW50LlxyXG4gICAgICBmb3IgKDsgdiAlIDEwID09IDA7IHYgLz0gMTAsIG4tLSk7XHJcblxyXG4gICAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgIGZvciAodiA9IGNbMF07IHYgPj0gMTA7IHYgLz0gMTAsIG4rKyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNkICYmIHguZSArIDEgPiBuKSBuID0geC5lICsgMTtcclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBzaGlmdGVkIGJ5IGsgcGxhY2VzXHJcbiAgICogKHBvd2VycyBvZiAxMCkuIFNoaWZ0IHRvIHRoZSByaWdodCBpZiBuID4gMCwgYW5kIHRvIHRoZSBsZWZ0IGlmIG4gPCAwLlxyXG4gICAqXHJcbiAgICogayB7bnVtYmVyfSBJbnRlZ2VyLCAtTUFYX1NBRkVfSU5URUdFUiB0byBNQVhfU0FGRV9JTlRFR0VSIGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7a30nXHJcbiAgICovXHJcbiAgUC5zaGlmdGVkQnkgPSBmdW5jdGlvbiAoaykge1xyXG4gICAgaW50Q2hlY2soaywgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpO1xyXG4gICAgcmV0dXJuIHRoaXMudGltZXMoJzFlJyArIGspO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBzcXJ0KC1uKSA9ICBOXHJcbiAgICogIHNxcnQoTikgPSAgTlxyXG4gICAqICBzcXJ0KC1JKSA9ICBOXHJcbiAgICogIHNxcnQoSSkgPSAgSVxyXG4gICAqICBzcXJ0KDApID0gIDBcclxuICAgKiAgc3FydCgtMCkgPSAtMFxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLFxyXG4gICAqIHJvdW5kZWQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZCBST1VORElOR19NT0RFLlxyXG4gICAqL1xyXG4gIFAuc3F1YXJlUm9vdCA9IFAuc3FydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtLCBuLCByLCByZXAsIHQsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBjID0geC5jLFxyXG4gICAgICBzID0geC5zLFxyXG4gICAgICBlID0geC5lLFxyXG4gICAgICBkcCA9IERFQ0lNQUxfUExBQ0VTICsgNCxcclxuICAgICAgaGFsZiA9IG5ldyBCaWdOdW1iZXIoJzAuNScpO1xyXG5cclxuICAgIC8vIE5lZ2F0aXZlL05hTi9JbmZpbml0eS96ZXJvP1xyXG4gICAgaWYgKHMgIT09IDEgfHwgIWMgfHwgIWNbMF0pIHtcclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoIXMgfHwgcyA8IDAgJiYgKCFjIHx8IGNbMF0pID8gTmFOIDogYyA/IHggOiAxIC8gMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5pdGlhbCBlc3RpbWF0ZS5cclxuICAgIHMgPSBNYXRoLnNxcnQoK3ZhbHVlT2YoeCkpO1xyXG5cclxuICAgIC8vIE1hdGguc3FydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgICAvLyBQYXNzIHggdG8gTWF0aC5zcXJ0IGFzIGludGVnZXIsIHRoZW4gYWRqdXN0IHRoZSBleHBvbmVudCBvZiB0aGUgcmVzdWx0LlxyXG4gICAgaWYgKHMgPT0gMCB8fCBzID09IDEgLyAwKSB7XHJcbiAgICAgIG4gPSBjb2VmZlRvU3RyaW5nKGMpO1xyXG4gICAgICBpZiAoKG4ubGVuZ3RoICsgZSkgJSAyID09IDApIG4gKz0gJzAnO1xyXG4gICAgICBzID0gTWF0aC5zcXJ0KCtuKTtcclxuICAgICAgZSA9IGJpdEZsb29yKChlICsgMSkgLyAyKSAtIChlIDwgMCB8fCBlICUgMik7XHJcblxyXG4gICAgICBpZiAocyA9PSAxIC8gMCkge1xyXG4gICAgICAgIG4gPSAnNWUnICsgZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XHJcbiAgICAgICAgbiA9IG4uc2xpY2UoMCwgbi5pbmRleE9mKCdlJykgKyAxKSArIGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHIgPSBuZXcgQmlnTnVtYmVyKG4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgciA9IG5ldyBCaWdOdW1iZXIocyArICcnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBmb3IgemVyby5cclxuICAgIC8vIHIgY291bGQgYmUgemVybyBpZiBNSU5fRVhQIGlzIGNoYW5nZWQgYWZ0ZXIgdGhlIHRoaXMgdmFsdWUgd2FzIGNyZWF0ZWQuXHJcbiAgICAvLyBUaGlzIHdvdWxkIGNhdXNlIGEgZGl2aXNpb24gYnkgemVybyAoeC90KSBhbmQgaGVuY2UgSW5maW5pdHkgYmVsb3csIHdoaWNoIHdvdWxkIGNhdXNlXHJcbiAgICAvLyBjb2VmZlRvU3RyaW5nIHRvIHRocm93LlxyXG4gICAgaWYgKHIuY1swXSkge1xyXG4gICAgICBlID0gci5lO1xyXG4gICAgICBzID0gZSArIGRwO1xyXG4gICAgICBpZiAocyA8IDMpIHMgPSAwO1xyXG5cclxuICAgICAgLy8gTmV3dG9uLVJhcGhzb24gaXRlcmF0aW9uLlxyXG4gICAgICBmb3IgKDsgOykge1xyXG4gICAgICAgIHQgPSByO1xyXG4gICAgICAgIHIgPSBoYWxmLnRpbWVzKHQucGx1cyhkaXYoeCwgdCwgZHAsIDEpKSk7XHJcblxyXG4gICAgICAgIGlmIChjb2VmZlRvU3RyaW5nKHQuYykuc2xpY2UoMCwgcykgPT09IChuID0gY29lZmZUb1N0cmluZyhyLmMpKS5zbGljZSgwLCBzKSkge1xyXG5cclxuICAgICAgICAgIC8vIFRoZSBleHBvbmVudCBvZiByIG1heSBoZXJlIGJlIG9uZSBsZXNzIHRoYW4gdGhlIGZpbmFsIHJlc3VsdCBleHBvbmVudCxcclxuICAgICAgICAgIC8vIGUuZyAwLjAwMDk5OTkgKGUtNCkgLS0+IDAuMDAxIChlLTMpLCBzbyBhZGp1c3QgcyBzbyB0aGUgcm91bmRpbmcgZGlnaXRzXHJcbiAgICAgICAgICAvLyBhcmUgaW5kZXhlZCBjb3JyZWN0bHkuXHJcbiAgICAgICAgICBpZiAoci5lIDwgZSkgLS1zO1xyXG4gICAgICAgICAgbiA9IG4uc2xpY2UocyAtIDMsIHMgKyAxKTtcclxuXHJcbiAgICAgICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHNcclxuICAgICAgICAgIC8vIGFyZSA5OTk5IG9yIDQ5OTkgKGkuZS4gYXBwcm9hY2hpbmcgYSByb3VuZGluZyBib3VuZGFyeSkgY29udGludWUgdGhlXHJcbiAgICAgICAgICAvLyBpdGVyYXRpb24uXHJcbiAgICAgICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGl0ZXJhdGlvbiBvbmx5LCBjaGVjayB0byBzZWUgaWYgcm91bmRpbmcgdXAgZ2l2ZXMgdGhlXHJcbiAgICAgICAgICAgIC8vIGV4YWN0IHJlc3VsdCBhcyB0aGUgbmluZXMgbWF5IGluZmluaXRlbHkgcmVwZWF0LlxyXG4gICAgICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgICAgIHJvdW5kKHQsIHQuZSArIERFQ0lNQUxfUExBQ0VTICsgMiwgMCk7XHJcblxyXG4gICAgICAgICAgICAgIGlmICh0LnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgICAgICByID0gdDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZHAgKz0gNDtcclxuICAgICAgICAgICAgcyArPSA0O1xyXG4gICAgICAgICAgICByZXAgPSAxO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBleGFjdFxyXG4gICAgICAgICAgICAvLyByZXN1bHQuIElmIG5vdCwgdGhlbiB0aGVyZSBhcmUgZnVydGhlciBkaWdpdHMgYW5kIG0gd2lsbCBiZSB0cnV0aHkuXHJcbiAgICAgICAgICAgIGlmICghK24gfHwgIStuLnNsaWNlKDEpICYmIG4uY2hhckF0KDApID09ICc1Jykge1xyXG5cclxuICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICAgICAgcm91bmQociwgci5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAxKTtcclxuICAgICAgICAgICAgICBtID0gIXIudGltZXMocikuZXEoeCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByb3VuZChyLCByLmUgKyBERUNJTUFMX1BMQUNFUyArIDEsIFJPVU5ESU5HX01PREUsIG0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uIGFuZFxyXG4gICAqIHJvdW5kZWQgdXNpbmcgUk9VTkRJTkdfTU9ERSB0byBkcCBmaXhlZCBkZWNpbWFsIHBsYWNlcy5cclxuICAgKlxyXG4gICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfHJtfSdcclxuICAgKi9cclxuICBQLnRvRXhwb25lbnRpYWwgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgICBpZiAoZHAgIT0gbnVsbCkge1xyXG4gICAgICBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuICAgICAgZHArKztcclxuICAgIH1cclxuICAgIHJldHVybiBmb3JtYXQodGhpcywgZHAsIHJtLCAxKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBmaXhlZC1wb2ludCBub3RhdGlvbiByb3VuZGluZ1xyXG4gICAqIHRvIGRwIGZpeGVkIGRlY2ltYWwgcGxhY2VzIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIE5vdGU6IGFzIHdpdGggSmF2YVNjcmlwdCdzIG51bWJlciB0eXBlLCAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLFxyXG4gICAqIGJ1dCBlLmcuICgtMC4wMDAwMSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gICAqXHJcbiAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAqL1xyXG4gIFAudG9GaXhlZCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIGlmIChkcCAhPSBudWxsKSB7XHJcbiAgICAgIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG4gICAgICBkcCA9IGRwICsgdGhpcy5lICsgMTtcclxuICAgIH1cclxuICAgIHJldHVybiBmb3JtYXQodGhpcywgZHAsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBmaXhlZC1wb2ludCBub3RhdGlvbiByb3VuZGVkXHJcbiAgICogdXNpbmcgcm0gb3IgUk9VTkRJTkdfTU9ERSB0byBkcCBkZWNpbWFsIHBsYWNlcywgYW5kIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhlIHByb3BlcnRpZXNcclxuICAgKiBvZiB0aGUgZm9ybWF0IG9yIEZPUk1BVCBvYmplY3QgKHNlZSBCaWdOdW1iZXIuc2V0KS5cclxuICAgKlxyXG4gICAqIFRoZSBmb3JtYXR0aW5nIG9iamVjdCBtYXkgY29udGFpbiBzb21lIG9yIGFsbCBvZiB0aGUgcHJvcGVydGllcyBzaG93biBiZWxvdy5cclxuICAgKlxyXG4gICAqIEZPUk1BVCA9IHtcclxuICAgKiAgIHByZWZpeDogJycsXHJcbiAgICogICBncm91cFNpemU6IDMsXHJcbiAgICogICBzZWNvbmRhcnlHcm91cFNpemU6IDAsXHJcbiAgICogICBncm91cFNlcGFyYXRvcjogJywnLFxyXG4gICAqICAgZGVjaW1hbFNlcGFyYXRvcjogJy4nLFxyXG4gICAqICAgZnJhY3Rpb25Hcm91cFNpemU6IDAsXHJcbiAgICogICBmcmFjdGlvbkdyb3VwU2VwYXJhdG9yOiAnXFx4QTAnLCAgICAgIC8vIG5vbi1icmVha2luZyBzcGFjZVxyXG4gICAqICAgc3VmZml4OiAnJ1xyXG4gICAqIH07XHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqIFtmb3JtYXRdIHtvYmplY3R9IEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlIEZPUk1BVCBwYmplY3QgYWJvdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfHJtfSdcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQgbm90IGFuIG9iamVjdDoge2Zvcm1hdH0nXHJcbiAgICovXHJcbiAgUC50b0Zvcm1hdCA9IGZ1bmN0aW9uIChkcCwgcm0sIGZvcm1hdCkge1xyXG4gICAgdmFyIHN0cixcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgaWYgKGZvcm1hdCA9PSBudWxsKSB7XHJcbiAgICAgIGlmIChkcCAhPSBudWxsICYmIHJtICYmIHR5cGVvZiBybSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGZvcm1hdCA9IHJtO1xyXG4gICAgICAgIHJtID0gbnVsbDtcclxuICAgICAgfSBlbHNlIGlmIChkcCAmJiB0eXBlb2YgZHAgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICBmb3JtYXQgPSBkcDtcclxuICAgICAgICBkcCA9IHJtID0gbnVsbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3JtYXQgPSBGT1JNQVQ7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCAhPSAnb2JqZWN0Jykge1xyXG4gICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgIChiaWdudW1iZXJFcnJvciArICdBcmd1bWVudCBub3QgYW4gb2JqZWN0OiAnICsgZm9ybWF0KTtcclxuICAgIH1cclxuXHJcbiAgICBzdHIgPSB4LnRvRml4ZWQoZHAsIHJtKTtcclxuXHJcbiAgICBpZiAoeC5jKSB7XHJcbiAgICAgIHZhciBpLFxyXG4gICAgICAgIGFyciA9IHN0ci5zcGxpdCgnLicpLFxyXG4gICAgICAgIGcxID0gK2Zvcm1hdC5ncm91cFNpemUsXHJcbiAgICAgICAgZzIgPSArZm9ybWF0LnNlY29uZGFyeUdyb3VwU2l6ZSxcclxuICAgICAgICBncm91cFNlcGFyYXRvciA9IGZvcm1hdC5ncm91cFNlcGFyYXRvciB8fCAnJyxcclxuICAgICAgICBpbnRQYXJ0ID0gYXJyWzBdLFxyXG4gICAgICAgIGZyYWN0aW9uUGFydCA9IGFyclsxXSxcclxuICAgICAgICBpc05lZyA9IHgucyA8IDAsXHJcbiAgICAgICAgaW50RGlnaXRzID0gaXNOZWcgPyBpbnRQYXJ0LnNsaWNlKDEpIDogaW50UGFydCxcclxuICAgICAgICBsZW4gPSBpbnREaWdpdHMubGVuZ3RoO1xyXG5cclxuICAgICAgaWYgKGcyKSB7XHJcbiAgICAgICAgaSA9IGcxO1xyXG4gICAgICAgIGcxID0gZzI7XHJcbiAgICAgICAgZzIgPSBpO1xyXG4gICAgICAgIGxlbiAtPSBpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZzEgPiAwICYmIGxlbiA+IDApIHtcclxuICAgICAgICBpID0gbGVuICUgZzEgfHwgZzE7XHJcbiAgICAgICAgaW50UGFydCA9IGludERpZ2l0cy5zdWJzdHIoMCwgaSk7XHJcbiAgICAgICAgZm9yICg7IGkgPCBsZW47IGkgKz0gZzEpIGludFBhcnQgKz0gZ3JvdXBTZXBhcmF0b3IgKyBpbnREaWdpdHMuc3Vic3RyKGksIGcxKTtcclxuICAgICAgICBpZiAoZzIgPiAwKSBpbnRQYXJ0ICs9IGdyb3VwU2VwYXJhdG9yICsgaW50RGlnaXRzLnNsaWNlKGkpO1xyXG4gICAgICAgIGlmIChpc05lZykgaW50UGFydCA9ICctJyArIGludFBhcnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0ciA9IGZyYWN0aW9uUGFydFxyXG4gICAgICAgPyBpbnRQYXJ0ICsgKGZvcm1hdC5kZWNpbWFsU2VwYXJhdG9yIHx8ICcnKSArICgoZzIgPSArZm9ybWF0LmZyYWN0aW9uR3JvdXBTaXplKVxyXG4gICAgICAgID8gZnJhY3Rpb25QYXJ0LnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXGR7JyArIGcyICsgJ31cXFxcQicsICdnJyksXHJcbiAgICAgICAgICckJicgKyAoZm9ybWF0LmZyYWN0aW9uR3JvdXBTZXBhcmF0b3IgfHwgJycpKVxyXG4gICAgICAgIDogZnJhY3Rpb25QYXJ0KVxyXG4gICAgICAgOiBpbnRQYXJ0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoZm9ybWF0LnByZWZpeCB8fCAnJykgKyBzdHIgKyAoZm9ybWF0LnN1ZmZpeCB8fCAnJyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGFuIGFycmF5IG9mIHR3byBCaWdOdW1iZXJzIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgYXMgYSBzaW1wbGVcclxuICAgKiBmcmFjdGlvbiB3aXRoIGFuIGludGVnZXIgbnVtZXJhdG9yIGFuZCBhbiBpbnRlZ2VyIGRlbm9taW5hdG9yLlxyXG4gICAqIFRoZSBkZW5vbWluYXRvciB3aWxsIGJlIGEgcG9zaXRpdmUgbm9uLXplcm8gdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzcGVjaWZpZWRcclxuICAgKiBtYXhpbXVtIGRlbm9taW5hdG9yLiBJZiBhIG1heGltdW0gZGVub21pbmF0b3IgaXMgbm90IHNwZWNpZmllZCwgdGhlIGRlbm9taW5hdG9yIHdpbGwgYmVcclxuICAgKiB0aGUgbG93ZXN0IHZhbHVlIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIG51bWJlciBleGFjdGx5LlxyXG4gICAqXHJcbiAgICogW21kXSB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IEludGVnZXIgPj0gMSwgb3IgSW5maW5pdHkuIFRoZSBtYXhpbXVtIGRlbm9taW5hdG9yLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9IDoge21kfSdcclxuICAgKi9cclxuICBQLnRvRnJhY3Rpb24gPSBmdW5jdGlvbiAobWQpIHtcclxuICAgIHZhciBkLCBkMCwgZDEsIGQyLCBlLCBleHAsIG4sIG4wLCBuMSwgcSwgciwgcyxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIHhjID0geC5jO1xyXG5cclxuICAgIGlmIChtZCAhPSBudWxsKSB7XHJcbiAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKG1kKTtcclxuXHJcbiAgICAgIC8vIFRocm93IGlmIG1kIGlzIGxlc3MgdGhhbiBvbmUgb3IgaXMgbm90IGFuIGludGVnZXIsIHVubGVzcyBpdCBpcyBJbmZpbml0eS5cclxuICAgICAgaWYgKCFuLmlzSW50ZWdlcigpICYmIChuLmMgfHwgbi5zICE9PSAxKSB8fCBuLmx0KE9ORSkpIHtcclxuICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0FyZ3VtZW50ICcgK1xyXG4gICAgICAgICAgICAobi5pc0ludGVnZXIoKSA/ICdvdXQgb2YgcmFuZ2U6ICcgOiAnbm90IGFuIGludGVnZXI6ICcpICsgdmFsdWVPZihuKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXhjKSByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcclxuXHJcbiAgICBkID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG4gICAgbjEgPSBkMCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuICAgIGQxID0gbjAgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcbiAgICBzID0gY29lZmZUb1N0cmluZyh4Yyk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGluaXRpYWwgZGVub21pbmF0b3IuXHJcbiAgICAvLyBkIGlzIGEgcG93ZXIgb2YgMTAgYW5kIHRoZSBtaW5pbXVtIG1heCBkZW5vbWluYXRvciB0aGF0IHNwZWNpZmllcyB0aGUgdmFsdWUgZXhhY3RseS5cclxuICAgIGUgPSBkLmUgPSBzLmxlbmd0aCAtIHguZSAtIDE7XHJcbiAgICBkLmNbMF0gPSBQT1dTX1RFTlsoZXhwID0gZSAlIExPR19CQVNFKSA8IDAgPyBMT0dfQkFTRSArIGV4cCA6IGV4cF07XHJcbiAgICBtZCA9ICFtZCB8fCBuLmNvbXBhcmVkVG8oZCkgPiAwID8gKGUgPiAwID8gZCA6IG4xKSA6IG47XHJcblxyXG4gICAgZXhwID0gTUFYX0VYUDtcclxuICAgIE1BWF9FWFAgPSAxIC8gMDtcclxuICAgIG4gPSBuZXcgQmlnTnVtYmVyKHMpO1xyXG5cclxuICAgIC8vIG4wID0gZDEgPSAwXHJcbiAgICBuMC5jWzBdID0gMDtcclxuXHJcbiAgICBmb3IgKDsgOykgIHtcclxuICAgICAgcSA9IGRpdihuLCBkLCAwLCAxKTtcclxuICAgICAgZDIgPSBkMC5wbHVzKHEudGltZXMoZDEpKTtcclxuICAgICAgaWYgKGQyLmNvbXBhcmVkVG8obWQpID09IDEpIGJyZWFrO1xyXG4gICAgICBkMCA9IGQxO1xyXG4gICAgICBkMSA9IGQyO1xyXG4gICAgICBuMSA9IG4wLnBsdXMocS50aW1lcyhkMiA9IG4xKSk7XHJcbiAgICAgIG4wID0gZDI7XHJcbiAgICAgIGQgPSBuLm1pbnVzKHEudGltZXMoZDIgPSBkKSk7XHJcbiAgICAgIG4gPSBkMjtcclxuICAgIH1cclxuXHJcbiAgICBkMiA9IGRpdihtZC5taW51cyhkMCksIGQxLCAwLCAxKTtcclxuICAgIG4wID0gbjAucGx1cyhkMi50aW1lcyhuMSkpO1xyXG4gICAgZDAgPSBkMC5wbHVzKGQyLnRpbWVzKGQxKSk7XHJcbiAgICBuMC5zID0gbjEucyA9IHgucztcclxuICAgIGUgPSBlICogMjtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggZnJhY3Rpb24gaXMgY2xvc2VyIHRvIHgsIG4wL2QwIG9yIG4xL2QxXHJcbiAgICByID0gZGl2KG4xLCBkMSwgZSwgUk9VTkRJTkdfTU9ERSkubWludXMoeCkuYWJzKCkuY29tcGFyZWRUbyhcclxuICAgICAgICBkaXYobjAsIGQwLCBlLCBST1VORElOR19NT0RFKS5taW51cyh4KS5hYnMoKSkgPCAxID8gW24xLCBkMV0gOiBbbjAsIGQwXTtcclxuXHJcbiAgICBNQVhfRVhQID0gZXhwO1xyXG5cclxuICAgIHJldHVybiByO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgY29udmVydGVkIHRvIGEgbnVtYmVyIHByaW1pdGl2ZS5cclxuICAgKi9cclxuICBQLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICt2YWx1ZU9mKHRoaXMpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJvdW5kZWQgdG8gc2Qgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAgICogdXNpbmcgcm91bmRpbmcgbW9kZSBybSBvciBST1VORElOR19NT0RFLiBJZiBzZCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHNcclxuICAgKiBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBpbnRlZ2VyIHBhcnQgb2YgdGhlIHZhbHVlIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uLCB0aGVuIHVzZVxyXG4gICAqIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAqXHJcbiAgICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3NkfHJtfSdcclxuICAgKi9cclxuICBQLnRvUHJlY2lzaW9uID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gICAgaWYgKHNkICE9IG51bGwpIGludENoZWNrKHNkLCAxLCBNQVgpO1xyXG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBzZCwgcm0sIDIpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGJhc2UgYiwgb3IgYmFzZSAxMCBpZiBiIGlzXHJcbiAgICogb21pdHRlZC4gSWYgYSBiYXNlIGlzIHNwZWNpZmllZCwgaW5jbHVkaW5nIGJhc2UgMTAsIHJvdW5kIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmRcclxuICAgKiBST1VORElOR19NT0RFLiBJZiBhIGJhc2UgaXMgbm90IHNwZWNpZmllZCwgYW5kIHRoaXMgQmlnTnVtYmVyIGhhcyBhIHBvc2l0aXZlIGV4cG9uZW50XHJcbiAgICogdGhhdCBpcyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gVE9fRVhQX1BPUywgb3IgYSBuZWdhdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBsZXNzIHRoYW5cclxuICAgKiBUT19FWFBfTkVHLCByZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICpcclxuICAgKiBbYl0ge251bWJlcn0gSW50ZWdlciwgMiB0byBBTFBIQUJFVC5sZW5ndGggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEJhc2Uge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2J9J1xyXG4gICAqL1xyXG4gIFAudG9TdHJpbmcgPSBmdW5jdGlvbiAoYikge1xyXG4gICAgdmFyIHN0cixcclxuICAgICAgbiA9IHRoaXMsXHJcbiAgICAgIHMgPSBuLnMsXHJcbiAgICAgIGUgPSBuLmU7XHJcblxyXG4gICAgLy8gSW5maW5pdHkgb3IgTmFOP1xyXG4gICAgaWYgKGUgPT09IG51bGwpIHtcclxuICAgICAgaWYgKHMpIHtcclxuICAgICAgICBzdHIgPSAnSW5maW5pdHknO1xyXG4gICAgICAgIGlmIChzIDwgMCkgc3RyID0gJy0nICsgc3RyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0ciA9ICdOYU4nO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoYiA9PSBudWxsKSB7XHJcbiAgICAgICAgc3RyID0gZSA8PSBUT19FWFBfTkVHIHx8IGUgPj0gVE9fRVhQX1BPU1xyXG4gICAgICAgICA/IHRvRXhwb25lbnRpYWwoY29lZmZUb1N0cmluZyhuLmMpLCBlKVxyXG4gICAgICAgICA6IHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKG4uYyksIGUsICcwJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMTAgJiYgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzKSB7XHJcbiAgICAgICAgbiA9IHJvdW5kKG5ldyBCaWdOdW1iZXIobiksIERFQ0lNQUxfUExBQ0VTICsgZSArIDEsIFJPVU5ESU5HX01PREUpO1xyXG4gICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKG4uYyksIG4uZSwgJzAnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbnRDaGVjayhiLCAyLCBBTFBIQUJFVC5sZW5ndGgsICdCYXNlJyk7XHJcbiAgICAgICAgc3RyID0gY29udmVydEJhc2UodG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcobi5jKSwgZSwgJzAnKSwgMTAsIGIsIHMsIHRydWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocyA8IDAgJiYgbi5jWzBdKSBzdHIgPSAnLScgKyBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0cjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYXMgdG9TdHJpbmcsIGJ1dCBkbyBub3QgYWNjZXB0IGEgYmFzZSBhcmd1bWVudCwgYW5kIGluY2x1ZGUgdGhlIG1pbnVzIHNpZ24gZm9yXHJcbiAgICogbmVnYXRpdmUgemVyby5cclxuICAgKi9cclxuICBQLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB2YWx1ZU9mKHRoaXMpO1xyXG4gIH07XHJcblxyXG5cclxuICBQLl9pc0JpZ051bWJlciA9IHRydWU7XHJcblxyXG4gIFBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdCaWdOdW1iZXInO1xyXG5cclxuICAvLyBOb2RlLmpzIHYxMC4xMi4wK1xyXG4gIFBbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSBQLnZhbHVlT2Y7XHJcblxyXG4gIGlmIChjb25maWdPYmplY3QgIT0gbnVsbCkgQmlnTnVtYmVyLnNldChjb25maWdPYmplY3QpO1xyXG5cclxuICByZXR1cm4gQmlnTnVtYmVyO1xyXG59XHJcblxyXG5cclxuLy8gUFJJVkFURSBIRUxQRVIgRlVOQ1RJT05TXHJcblxyXG4vLyBUaGVzZSBmdW5jdGlvbnMgZG9uJ3QgbmVlZCBhY2Nlc3MgdG8gdmFyaWFibGVzLFxyXG4vLyBlLmcuIERFQ0lNQUxfUExBQ0VTLCBpbiB0aGUgc2NvcGUgb2YgdGhlIGBjbG9uZWAgZnVuY3Rpb24gYWJvdmUuXHJcblxyXG5cclxuZnVuY3Rpb24gYml0Rmxvb3Iobikge1xyXG4gIHZhciBpID0gbiB8IDA7XHJcbiAgcmV0dXJuIG4gPiAwIHx8IG4gPT09IGkgPyBpIDogaSAtIDE7XHJcbn1cclxuXHJcblxyXG4vLyBSZXR1cm4gYSBjb2VmZmljaWVudCBhcnJheSBhcyBhIHN0cmluZyBvZiBiYXNlIDEwIGRpZ2l0cy5cclxuZnVuY3Rpb24gY29lZmZUb1N0cmluZyhhKSB7XHJcbiAgdmFyIHMsIHosXHJcbiAgICBpID0gMSxcclxuICAgIGogPSBhLmxlbmd0aCxcclxuICAgIHIgPSBhWzBdICsgJyc7XHJcblxyXG4gIGZvciAoOyBpIDwgajspIHtcclxuICAgIHMgPSBhW2krK10gKyAnJztcclxuICAgIHogPSBMT0dfQkFTRSAtIHMubGVuZ3RoO1xyXG4gICAgZm9yICg7IHotLTsgcyA9ICcwJyArIHMpO1xyXG4gICAgciArPSBzO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoaiA9IHIubGVuZ3RoOyByLmNoYXJDb2RlQXQoLS1qKSA9PT0gNDg7KTtcclxuXHJcbiAgcmV0dXJuIHIuc2xpY2UoMCwgaiArIDEgfHwgMSk7XHJcbn1cclxuXHJcblxyXG4vLyBDb21wYXJlIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXJzIHggYW5kIHkuXHJcbmZ1bmN0aW9uIGNvbXBhcmUoeCwgeSkge1xyXG4gIHZhciBhLCBiLFxyXG4gICAgeGMgPSB4LmMsXHJcbiAgICB5YyA9IHkuYyxcclxuICAgIGkgPSB4LnMsXHJcbiAgICBqID0geS5zLFxyXG4gICAgayA9IHguZSxcclxuICAgIGwgPSB5LmU7XHJcblxyXG4gIC8vIEVpdGhlciBOYU4/XHJcbiAgaWYgKCFpIHx8ICFqKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgYSA9IHhjICYmICF4Y1swXTtcclxuICBiID0geWMgJiYgIXljWzBdO1xyXG5cclxuICAvLyBFaXRoZXIgemVybz9cclxuICBpZiAoYSB8fCBiKSByZXR1cm4gYSA/IGIgPyAwIDogLWogOiBpO1xyXG5cclxuICAvLyBTaWducyBkaWZmZXI/XHJcbiAgaWYgKGkgIT0gaikgcmV0dXJuIGk7XHJcblxyXG4gIGEgPSBpIDwgMDtcclxuICBiID0gayA9PSBsO1xyXG5cclxuICAvLyBFaXRoZXIgSW5maW5pdHk/XHJcbiAgaWYgKCF4YyB8fCAheWMpIHJldHVybiBiID8gMCA6ICF4YyBeIGEgPyAxIDogLTE7XHJcblxyXG4gIC8vIENvbXBhcmUgZXhwb25lbnRzLlxyXG4gIGlmICghYikgcmV0dXJuIGsgPiBsIF4gYSA/IDEgOiAtMTtcclxuXHJcbiAgaiA9IChrID0geGMubGVuZ3RoKSA8IChsID0geWMubGVuZ3RoKSA/IGsgOiBsO1xyXG5cclxuICAvLyBDb21wYXJlIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gIGZvciAoaSA9IDA7IGkgPCBqOyBpKyspIGlmICh4Y1tpXSAhPSB5Y1tpXSkgcmV0dXJuIHhjW2ldID4geWNbaV0gXiBhID8gMSA6IC0xO1xyXG5cclxuICAvLyBDb21wYXJlIGxlbmd0aHMuXHJcbiAgcmV0dXJuIGsgPT0gbCA/IDAgOiBrID4gbCBeIGEgPyAxIDogLTE7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBDaGVjayB0aGF0IG4gaXMgYSBwcmltaXRpdmUgbnVtYmVyLCBhbiBpbnRlZ2VyLCBhbmQgaW4gcmFuZ2UsIG90aGVyd2lzZSB0aHJvdy5cclxuICovXHJcbmZ1bmN0aW9uIGludENoZWNrKG4sIG1pbiwgbWF4LCBuYW1lKSB7XHJcbiAgaWYgKG4gPCBtaW4gfHwgbiA+IG1heCB8fCBuICE9PSBtYXRoZmxvb3IobikpIHtcclxuICAgIHRocm93IEVycm9yXHJcbiAgICAgKGJpZ251bWJlckVycm9yICsgKG5hbWUgfHwgJ0FyZ3VtZW50JykgKyAodHlwZW9mIG4gPT0gJ251bWJlcidcclxuICAgICAgID8gbiA8IG1pbiB8fCBuID4gbWF4ID8gJyBvdXQgb2YgcmFuZ2U6ICcgOiAnIG5vdCBhbiBpbnRlZ2VyOiAnXHJcbiAgICAgICA6ICcgbm90IGEgcHJpbWl0aXZlIG51bWJlcjogJykgKyBTdHJpbmcobikpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIEFzc3VtZXMgZmluaXRlIG4uXHJcbmZ1bmN0aW9uIGlzT2RkKG4pIHtcclxuICB2YXIgayA9IG4uYy5sZW5ndGggLSAxO1xyXG4gIHJldHVybiBiaXRGbG9vcihuLmUgLyBMT0dfQkFTRSkgPT0gayAmJiBuLmNba10gJSAyICE9IDA7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB0b0V4cG9uZW50aWFsKHN0ciwgZSkge1xyXG4gIHJldHVybiAoc3RyLmxlbmd0aCA+IDEgPyBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpIDogc3RyKSArXHJcbiAgIChlIDwgMCA/ICdlJyA6ICdlKycpICsgZTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvRml4ZWRQb2ludChzdHIsIGUsIHopIHtcclxuICB2YXIgbGVuLCB6cztcclxuXHJcbiAgLy8gTmVnYXRpdmUgZXhwb25lbnQ/XHJcbiAgaWYgKGUgPCAwKSB7XHJcblxyXG4gICAgLy8gUHJlcGVuZCB6ZXJvcy5cclxuICAgIGZvciAoenMgPSB6ICsgJy4nOyArK2U7IHpzICs9IHopO1xyXG4gICAgc3RyID0genMgKyBzdHI7XHJcblxyXG4gIC8vIFBvc2l0aXZlIGV4cG9uZW50XHJcbiAgfSBlbHNlIHtcclxuICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcblxyXG4gICAgLy8gQXBwZW5kIHplcm9zLlxyXG4gICAgaWYgKCsrZSA+IGxlbikge1xyXG4gICAgICBmb3IgKHpzID0geiwgZSAtPSBsZW47IC0tZTsgenMgKz0geik7XHJcbiAgICAgIHN0ciArPSB6cztcclxuICAgIH0gZWxzZSBpZiAoZSA8IGxlbikge1xyXG4gICAgICBzdHIgPSBzdHIuc2xpY2UoMCwgZSkgKyAnLicgKyBzdHIuc2xpY2UoZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyO1xyXG59XHJcblxyXG5cclxuLy8gRVhQT1JUXHJcblxyXG5cclxuZXhwb3J0IHZhciBCaWdOdW1iZXIgPSBjbG9uZSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmlnTnVtYmVyO1xyXG4iLCAiY2xhc3MgU3BsYXlUcmVlTm9kZSB7XHJcbiAgICBrZXk7XHJcbiAgICBsZWZ0ID0gbnVsbDtcclxuICAgIHJpZ2h0ID0gbnVsbDtcclxuICAgIGNvbnN0cnVjdG9yKGtleSkge1xyXG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFNwbGF5VHJlZVNldE5vZGUgZXh0ZW5kcyBTcGxheVRyZWVOb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKGtleSkge1xyXG4gICAgICAgIHN1cGVyKGtleSk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU3BsYXlUcmVlTWFwTm9kZSBleHRlbmRzIFNwbGF5VHJlZU5vZGUge1xyXG4gICAgdmFsdWU7XHJcbiAgICBjb25zdHJ1Y3RvcihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgc3VwZXIoa2V5KTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXBsYWNlVmFsdWUodmFsdWUpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gbmV3IFNwbGF5VHJlZU1hcE5vZGUodGhpcy5rZXksIHZhbHVlKTtcclxuICAgICAgICBub2RlLmxlZnQgPSB0aGlzLmxlZnQ7XHJcbiAgICAgICAgbm9kZS5yaWdodCA9IHRoaXMucmlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU3BsYXlUcmVlIHtcclxuICAgIHNpemUgPSAwO1xyXG4gICAgbW9kaWZpY2F0aW9uQ291bnQgPSAwO1xyXG4gICAgc3BsYXlDb3VudCA9IDA7XHJcbiAgICBzcGxheShrZXkpIHtcclxuICAgICAgICBjb25zdCByb290ID0gdGhpcy5yb290O1xyXG4gICAgICAgIGlmIChyb290ID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wYXJlKGtleSwga2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmlnaHQgPSBudWxsO1xyXG4gICAgICAgIGxldCBuZXdUcmVlUmlnaHQgPSBudWxsO1xyXG4gICAgICAgIGxldCBsZWZ0ID0gbnVsbDtcclxuICAgICAgICBsZXQgbmV3VHJlZUxlZnQgPSBudWxsO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gcm9vdDtcclxuICAgICAgICBjb25zdCBjb21wYXJlID0gdGhpcy5jb21wYXJlO1xyXG4gICAgICAgIGxldCBjb21wO1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbXAgPSBjb21wYXJlKGN1cnJlbnQua2V5LCBrZXkpO1xyXG4gICAgICAgICAgICBpZiAoY29tcCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50TGVmdCA9IGN1cnJlbnQubGVmdDtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TGVmdCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY29tcCA9IGNvbXBhcmUoY3VycmVudExlZnQua2V5LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXAgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5sZWZ0ID0gY3VycmVudExlZnQucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExlZnQucmlnaHQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50TGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGVmdCA9IGN1cnJlbnQubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudExlZnQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmlnaHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1RyZWVSaWdodCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByaWdodC5sZWZ0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50TGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb21wIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRSaWdodCA9IGN1cnJlbnQucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJpZ2h0ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjb21wID0gY29tcGFyZShjdXJyZW50UmlnaHQua2V5LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXAgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5yaWdodCA9IGN1cnJlbnRSaWdodC5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSaWdodC5sZWZ0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSaWdodCA9IGN1cnJlbnQucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRSaWdodCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChsZWZ0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdUcmVlTGVmdCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0LnJpZ2h0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxlZnQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRSaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsZWZ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGVmdC5yaWdodCA9IGN1cnJlbnQubGVmdDtcclxuICAgICAgICAgICAgY3VycmVudC5sZWZ0ID0gbmV3VHJlZUxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyaWdodCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJpZ2h0LmxlZnQgPSBjdXJyZW50LnJpZ2h0O1xyXG4gICAgICAgICAgICBjdXJyZW50LnJpZ2h0ID0gbmV3VHJlZVJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yb290ICE9PSBjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuc3BsYXlDb3VudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcDtcclxuICAgIH1cclxuICAgIHNwbGF5TWluKG5vZGUpIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IG5vZGU7XHJcbiAgICAgICAgbGV0IG5leHRMZWZ0ID0gY3VycmVudC5sZWZ0O1xyXG4gICAgICAgIHdoaWxlIChuZXh0TGVmdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBuZXh0TGVmdDtcclxuICAgICAgICAgICAgY3VycmVudC5sZWZ0ID0gbGVmdC5yaWdodDtcclxuICAgICAgICAgICAgbGVmdC5yaWdodCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBsZWZ0O1xyXG4gICAgICAgICAgICBuZXh0TGVmdCA9IGN1cnJlbnQubGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICB9XHJcbiAgICBzcGxheU1heChub2RlKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBub2RlO1xyXG4gICAgICAgIGxldCBuZXh0UmlnaHQgPSBjdXJyZW50LnJpZ2h0O1xyXG4gICAgICAgIHdoaWxlIChuZXh0UmlnaHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCByaWdodCA9IG5leHRSaWdodDtcclxuICAgICAgICAgICAgY3VycmVudC5yaWdodCA9IHJpZ2h0LmxlZnQ7XHJcbiAgICAgICAgICAgIHJpZ2h0LmxlZnQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gcmlnaHQ7XHJcbiAgICAgICAgICAgIG5leHRSaWdodCA9IGN1cnJlbnQucmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgfVxyXG4gICAgX2RlbGV0ZShrZXkpIHtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgaWYgKGNvbXAgIT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IHJvb3QgPSB0aGlzLnJvb3Q7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcm9vdDtcclxuICAgICAgICBjb25zdCBsZWZ0ID0gcm9vdC5sZWZ0O1xyXG4gICAgICAgIHRoaXMuc2l6ZS0tO1xyXG4gICAgICAgIGlmIChsZWZ0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gcm9vdC5yaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gcm9vdC5yaWdodDtcclxuICAgICAgICAgICAgcm9vdCA9IHRoaXMuc3BsYXlNYXgobGVmdCk7XHJcbiAgICAgICAgICAgIHJvb3QucmlnaHQgPSByaWdodDtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gcm9vdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb2RpZmljYXRpb25Db3VudCsrO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBhZGROZXdSb290KG5vZGUsIGNvbXApIHtcclxuICAgICAgICB0aGlzLnNpemUrKztcclxuICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbkNvdW50Kys7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdDtcclxuICAgICAgICBpZiAocm9vdCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IG5vZGU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAgPCAwKSB7XHJcbiAgICAgICAgICAgIG5vZGUubGVmdCA9IHJvb3Q7XHJcbiAgICAgICAgICAgIG5vZGUucmlnaHQgPSByb290LnJpZ2h0O1xyXG4gICAgICAgICAgICByb290LnJpZ2h0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5vZGUucmlnaHQgPSByb290O1xyXG4gICAgICAgICAgICBub2RlLmxlZnQgPSByb290LmxlZnQ7XHJcbiAgICAgICAgICAgIHJvb3QubGVmdCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucm9vdCA9IG5vZGU7XHJcbiAgICB9XHJcbiAgICBfZmlyc3QoKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdDtcclxuICAgICAgICBpZiAocm9vdCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB0aGlzLnJvb3QgPSB0aGlzLnNwbGF5TWluKHJvb3QpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Q7XHJcbiAgICB9XHJcbiAgICBfbGFzdCgpIHtcclxuICAgICAgICBjb25zdCByb290ID0gdGhpcy5yb290O1xyXG4gICAgICAgIGlmIChyb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHRoaXMucm9vdCA9IHRoaXMuc3BsYXlNYXgocm9vdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdDtcclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMucm9vdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zaXplID0gMDtcclxuICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbkNvdW50Kys7XHJcbiAgICB9XHJcbiAgICBoYXMoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRLZXkoa2V5KSAmJiB0aGlzLnNwbGF5KGtleSkgPT0gMDtcclxuICAgIH1cclxuICAgIGRlZmF1bHRDb21wYXJlKCkge1xyXG4gICAgICAgIHJldHVybiAoYSwgYikgPT4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDA7XHJcbiAgICB9XHJcbiAgICB3cmFwKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldFJvb3Q6ICgpID0+IHsgcmV0dXJuIHRoaXMucm9vdDsgfSxcclxuICAgICAgICAgICAgc2V0Um9vdDogKHJvb3QpID0+IHsgdGhpcy5yb290ID0gcm9vdDsgfSxcclxuICAgICAgICAgICAgZ2V0U2l6ZTogKCkgPT4geyByZXR1cm4gdGhpcy5zaXplOyB9LFxyXG4gICAgICAgICAgICBnZXRNb2RpZmljYXRpb25Db3VudDogKCkgPT4geyByZXR1cm4gdGhpcy5tb2RpZmljYXRpb25Db3VudDsgfSxcclxuICAgICAgICAgICAgZ2V0U3BsYXlDb3VudDogKCkgPT4geyByZXR1cm4gdGhpcy5zcGxheUNvdW50OyB9LFxyXG4gICAgICAgICAgICBzZXRTcGxheUNvdW50OiAoY291bnQpID0+IHsgdGhpcy5zcGxheUNvdW50ID0gY291bnQ7IH0sXHJcbiAgICAgICAgICAgIHNwbGF5OiAoa2V5KSA9PiB7IHJldHVybiB0aGlzLnNwbGF5KGtleSk7IH0sXHJcbiAgICAgICAgICAgIGhhczogKGtleSkgPT4geyByZXR1cm4gdGhpcy5oYXMoa2V5KTsgfSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBTcGxheVRyZWVNYXAgZXh0ZW5kcyBTcGxheVRyZWUge1xyXG4gICAgcm9vdCA9IG51bGw7XHJcbiAgICBjb21wYXJlO1xyXG4gICAgdmFsaWRLZXk7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb21wYXJlLCBpc1ZhbGlkS2V5KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlID8/IHRoaXMuZGVmYXVsdENvbXBhcmUoKTtcclxuICAgICAgICB0aGlzLnZhbGlkS2V5ID0gaXNWYWxpZEtleSA/PyAoKGEpID0+IGEgIT0gbnVsbCAmJiBhICE9IHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgICBkZWxldGUoa2V5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkS2V5KGtleSkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZXRlKGtleSkgIT0gbnVsbDtcclxuICAgIH1cclxuICAgIGZvckVhY2goZikge1xyXG4gICAgICAgIGNvbnN0IG5vZGVzID0gbmV3IFNwbGF5VHJlZU1hcEVudHJ5SXRlcmFibGVJdGVyYXRvcih0aGlzLndyYXAoKSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICB3aGlsZSAocmVzdWx0ID0gbm9kZXMubmV4dCgpLCAhcmVzdWx0LmRvbmUpIHtcclxuICAgICAgICAgICAgZihyZXN1bHQudmFsdWVbMV0sIHJlc3VsdC52YWx1ZVswXSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZEtleShrZXkpKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgICAgICBpZiAoY29tcCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBoYXNWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxTcGxheUNvdW50ID0gdGhpcy5zcGxheUNvdW50O1xyXG4gICAgICAgIGNvbnN0IHZpc2l0ID0gKG5vZGUpID0+IHtcclxuICAgICAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudmFsdWUgPT0gdmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFNwbGF5Q291bnQgIT0gdGhpcy5zcGxheUNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUucmlnaHQgIT0gbnVsbCAmJiB2aXNpdChub2RlLnJpZ2h0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdmlzaXQodGhpcy5yb290KTtcclxuICAgIH1cclxuICAgIHNldChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuc3BsYXkoa2V5KTtcclxuICAgICAgICBpZiAoY29tcCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHRoaXMucm9vdC5yZXBsYWNlVmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNwbGF5Q291bnQgKz0gMTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkTmV3Um9vdChuZXcgU3BsYXlUcmVlTWFwTm9kZShrZXksIHZhbHVlKSwgY29tcCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBzZXRBbGwob3RoZXIpIHtcclxuICAgICAgICBvdGhlci5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2V0SWZBYnNlbnQoa2V5LCBpZkFic2VudCkge1xyXG4gICAgICAgIGxldCBjb21wID0gdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgIGlmIChjb21wID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbW9kaWZpY2F0aW9uQ291bnQgPSB0aGlzLm1vZGlmaWNhdGlvbkNvdW50O1xyXG4gICAgICAgIGNvbnN0IHNwbGF5Q291bnQgPSB0aGlzLnNwbGF5Q291bnQ7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpZkFic2VudCgpO1xyXG4gICAgICAgIGlmIChtb2RpZmljYXRpb25Db3VudCAhPSB0aGlzLm1vZGlmaWNhdGlvbkNvdW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiQ29uY3VycmVudCBtb2RpZmljYXRpb24gZHVyaW5nIGl0ZXJhdGlvbi5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNwbGF5Q291bnQgIT0gdGhpcy5zcGxheUNvdW50KSB7XHJcbiAgICAgICAgICAgIGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkTmV3Um9vdChuZXcgU3BsYXlUcmVlTWFwTm9kZShrZXksIHZhbHVlKSwgY29tcCk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgaXNFbXB0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb290ID09IG51bGw7XHJcbiAgICB9XHJcbiAgICBpc05vdEVtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5pc0VtcHR5KCk7XHJcbiAgICB9XHJcbiAgICBmaXJzdEtleSgpIHtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maXJzdCgpLmtleTtcclxuICAgIH1cclxuICAgIGxhc3RLZXkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdCgpLmtleTtcclxuICAgIH1cclxuICAgIGxhc3RLZXlCZWZvcmUoa2V5KSB7XHJcbiAgICAgICAgaWYgKGtleSA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBcIkludmFsaWQgYXJndW1lbnRzKHMpXCI7XHJcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgIGlmIChjb21wIDwgMClcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJvb3QubGVmdDtcclxuICAgICAgICBpZiAobm9kZSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgbm9kZVJpZ2h0ID0gbm9kZS5yaWdodDtcclxuICAgICAgICB3aGlsZSAobm9kZVJpZ2h0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGVSaWdodDtcclxuICAgICAgICAgICAgbm9kZVJpZ2h0ID0gbm9kZS5yaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xyXG4gICAgfVxyXG4gICAgZmlyc3RLZXlBZnRlcihrZXkpIHtcclxuICAgICAgICBpZiAoa2V5ID09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IFwiSW52YWxpZCBhcmd1bWVudHMocylcIjtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgaWYgKGNvbXAgPiAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LmtleTtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucm9vdC5yaWdodDtcclxuICAgICAgICBpZiAobm9kZSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgbm9kZUxlZnQgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgd2hpbGUgKG5vZGVMZWZ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGVMZWZ0O1xyXG4gICAgICAgICAgICBub2RlTGVmdCA9IG5vZGUubGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGtleSwgdXBkYXRlLCBpZkFic2VudCkge1xyXG4gICAgICAgIGxldCBjb21wID0gdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgIGlmIChjb21wID09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbW9kaWZpY2F0aW9uQ291bnQgPSB0aGlzLm1vZGlmaWNhdGlvbkNvdW50O1xyXG4gICAgICAgICAgICBjb25zdCBzcGxheUNvdW50ID0gdGhpcy5zcGxheUNvdW50O1xyXG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHVwZGF0ZSh0aGlzLnJvb3QudmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAobW9kaWZpY2F0aW9uQ291bnQgIT0gdGhpcy5tb2RpZmljYXRpb25Db3VudCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzcGxheUNvdW50ICE9IHRoaXMuc3BsYXlDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHRoaXMucm9vdC5yZXBsYWNlVmFsdWUobmV3VmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNwbGF5Q291bnQgKz0gMTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaWZBYnNlbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RpZmljYXRpb25Db3VudCA9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwbGF5Q291bnQgPSB0aGlzLnNwbGF5Q291bnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gaWZBYnNlbnQoKTtcclxuICAgICAgICAgICAgaWYgKG1vZGlmaWNhdGlvbkNvdW50ICE9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiQ29uY3VycmVudCBtb2RpZmljYXRpb24gZHVyaW5nIGl0ZXJhdGlvbi5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3BsYXlDb3VudCAhPSB0aGlzLnNwbGF5Q291bnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hZGROZXdSb290KG5ldyBTcGxheVRyZWVNYXBOb2RlKGtleSwgbmV3VmFsdWUpLCBjb21wKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBcIkludmFsaWQgYXJndW1lbnQgKGtleSk6IEtleSBub3QgaW4gbWFwLlwiO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQWxsKHVwZGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3Q7XHJcbiAgICAgICAgaWYgKHJvb3QgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IFNwbGF5VHJlZU1hcEVudHJ5SXRlcmFibGVJdGVyYXRvcih0aGlzLndyYXAoKSk7XHJcbiAgICAgICAgbGV0IG5vZGU7XHJcbiAgICAgICAgd2hpbGUgKG5vZGUgPSBpdGVyYXRvci5uZXh0KCksICFub2RlLmRvbmUpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB1cGRhdGUoLi4ubm9kZS52YWx1ZSk7XHJcbiAgICAgICAgICAgIGl0ZXJhdG9yLnJlcGxhY2VWYWx1ZShuZXdWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAga2V5cygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNwbGF5VHJlZUtleUl0ZXJhYmxlSXRlcmF0b3IodGhpcy53cmFwKCkpO1xyXG4gICAgfVxyXG4gICAgdmFsdWVzKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3BsYXlUcmVlVmFsdWVJdGVyYWJsZUl0ZXJhdG9yKHRoaXMud3JhcCgpKTtcclxuICAgIH1cclxuICAgIGVudHJpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgfVxyXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTcGxheVRyZWVNYXBFbnRyeUl0ZXJhYmxlSXRlcmF0b3IodGhpcy53cmFwKCkpO1xyXG4gICAgfVxyXG4gICAgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnW29iamVjdCBNYXBdJztcclxufVxyXG5leHBvcnQgY2xhc3MgU3BsYXlUcmVlU2V0IGV4dGVuZHMgU3BsYXlUcmVlIHtcclxuICAgIHJvb3QgPSBudWxsO1xyXG4gICAgY29tcGFyZTtcclxuICAgIHZhbGlkS2V5O1xyXG4gICAgY29uc3RydWN0b3IoY29tcGFyZSwgaXNWYWxpZEtleSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5jb21wYXJlID0gY29tcGFyZSA/PyB0aGlzLmRlZmF1bHRDb21wYXJlKCk7XHJcbiAgICAgICAgdGhpcy52YWxpZEtleSA9IGlzVmFsaWRLZXkgPz8gKCh2KSA9PiB2ICE9IG51bGwgJiYgdiAhPSB1bmRlZmluZWQpO1xyXG4gICAgfVxyXG4gICAgZGVsZXRlKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMudmFsaWRLZXkoZWxlbWVudCkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZXRlKGVsZW1lbnQpICE9IG51bGw7XHJcbiAgICB9XHJcbiAgICBkZWxldGVBbGwoZWxlbWVudHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGUoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yRWFjaChmKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIHdoaWxlIChyZXN1bHQgPSBub2Rlcy5uZXh0KCksICFyZXN1bHQuZG9uZSkge1xyXG4gICAgICAgICAgICBmKHJlc3VsdC52YWx1ZSwgcmVzdWx0LnZhbHVlLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGQoZWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmUgPSB0aGlzLnNwbGF5KGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjb21wYXJlICE9IDApXHJcbiAgICAgICAgICAgIHRoaXMuYWRkTmV3Um9vdChuZXcgU3BsYXlUcmVlU2V0Tm9kZShlbGVtZW50KSwgY29tcGFyZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBhZGRBbmRSZXR1cm4oZWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmUgPSB0aGlzLnNwbGF5KGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjb21wYXJlICE9IDApXHJcbiAgICAgICAgICAgIHRoaXMuYWRkTmV3Um9vdChuZXcgU3BsYXlUcmVlU2V0Tm9kZShlbGVtZW50KSwgY29tcGFyZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICB9XHJcbiAgICBhZGRBbGwoZWxlbWVudHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGQoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNFbXB0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb290ID09IG51bGw7XHJcbiAgICB9XHJcbiAgICBpc05vdEVtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QgIT0gbnVsbDtcclxuICAgIH1cclxuICAgIHNpbmdsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zaXplID09IDApXHJcbiAgICAgICAgICAgIHRocm93IFwiQmFkIHN0YXRlOiBObyBlbGVtZW50XCI7XHJcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSA+IDEpXHJcbiAgICAgICAgICAgIHRocm93IFwiQmFkIHN0YXRlOiBUb28gbWFueSBlbGVtZW50XCI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICB9XHJcbiAgICBmaXJzdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zaXplID09IDApXHJcbiAgICAgICAgICAgIHRocm93IFwiQmFkIHN0YXRlOiBObyBlbGVtZW50XCI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcnN0KCkua2V5O1xyXG4gICAgfVxyXG4gICAgbGFzdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zaXplID09IDApXHJcbiAgICAgICAgICAgIHRocm93IFwiQmFkIHN0YXRlOiBObyBlbGVtZW50XCI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3QoKS5rZXk7XHJcbiAgICB9XHJcbiAgICBsYXN0QmVmb3JlKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBcIkludmFsaWQgYXJndW1lbnRzKHMpXCI7XHJcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zcGxheShlbGVtZW50KTtcclxuICAgICAgICBpZiAoY29tcCA8IDApXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3Qua2V5O1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5yb290LmxlZnQ7XHJcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IG5vZGVSaWdodCA9IG5vZGUucmlnaHQ7XHJcbiAgICAgICAgd2hpbGUgKG5vZGVSaWdodCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlUmlnaHQ7XHJcbiAgICAgICAgICAgIG5vZGVSaWdodCA9IG5vZGUucmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub2RlLmtleTtcclxuICAgIH1cclxuICAgIGZpcnN0QWZ0ZXIoZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50ID09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IFwiSW52YWxpZCBhcmd1bWVudHMocylcIjtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjb21wID4gMClcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJvb3QucmlnaHQ7XHJcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IG5vZGVMZWZ0ID0gbm9kZS5sZWZ0O1xyXG4gICAgICAgIHdoaWxlIChub2RlTGVmdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlTGVmdDtcclxuICAgICAgICAgICAgbm9kZUxlZnQgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub2RlLmtleTtcclxuICAgIH1cclxuICAgIHJldGFpbkFsbChlbGVtZW50cykge1xyXG4gICAgICAgIGNvbnN0IHJldGFpblNldCA9IG5ldyBTcGxheVRyZWVTZXQodGhpcy5jb21wYXJlLCB0aGlzLnZhbGlkS2V5KTtcclxuICAgICAgICBjb25zdCBtb2RpZmljYXRpb25Db3VudCA9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQ7XHJcbiAgICAgICAgZm9yIChjb25zdCBvYmplY3Qgb2YgZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgaWYgKG1vZGlmaWNhdGlvbkNvdW50ICE9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiQ29uY3VycmVudCBtb2RpZmljYXRpb24gZHVyaW5nIGl0ZXJhdGlvbi5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZEtleShvYmplY3QpICYmIHRoaXMuc3BsYXkob2JqZWN0KSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXRhaW5TZXQuYWRkKHRoaXMucm9vdC5rZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXRhaW5TZXQuc2l6ZSAhPSB0aGlzLnNpemUpIHtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gcmV0YWluU2V0LnJvb3Q7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IHJldGFpblNldC5zaXplO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbkNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbG9va3VwKG9iamVjdCkge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZEtleShvYmplY3QpKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zcGxheShvYmplY3QpO1xyXG4gICAgICAgIGlmIChjb21wICE9IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Qua2V5O1xyXG4gICAgfVxyXG4gICAgaW50ZXJzZWN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNwbGF5VHJlZVNldCh0aGlzLmNvbXBhcmUsIHRoaXMudmFsaWRLZXkpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzKSB7XHJcbiAgICAgICAgICAgIGlmIChvdGhlci5oYXMoZWxlbWVudCkpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgZGlmZmVyZW5jZShvdGhlcikge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTcGxheVRyZWVTZXQodGhpcy5jb21wYXJlLCB0aGlzLnZhbGlkS2V5KTtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcykge1xyXG4gICAgICAgICAgICBpZiAoIW90aGVyLmhhcyhlbGVtZW50KSlcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICB1bmlvbihvdGhlcikge1xyXG4gICAgICAgIGNvbnN0IHUgPSB0aGlzLmNsb25lKCk7XHJcbiAgICAgICAgdS5hZGRBbGwob3RoZXIpO1xyXG4gICAgICAgIHJldHVybiB1O1xyXG4gICAgfVxyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNwbGF5VHJlZVNldCh0aGlzLmNvbXBhcmUsIHRoaXMudmFsaWRLZXkpO1xyXG4gICAgICAgIHNldC5zaXplID0gdGhpcy5zaXplO1xyXG4gICAgICAgIHNldC5yb290ID0gdGhpcy5jb3B5Tm9kZSh0aGlzLnJvb3QpO1xyXG4gICAgICAgIHJldHVybiBzZXQ7XHJcbiAgICB9XHJcbiAgICBjb3B5Tm9kZShub2RlKSB7XHJcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgZnVuY3Rpb24gY29weUNoaWxkcmVuKG5vZGUsIGRlc3QpIHtcclxuICAgICAgICAgICAgbGV0IGxlZnQ7XHJcbiAgICAgICAgICAgIGxldCByaWdodDtcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgbGVmdCA9IG5vZGUubGVmdDtcclxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gbm9kZS5yaWdodDtcclxuICAgICAgICAgICAgICAgIGlmIChsZWZ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdMZWZ0ID0gbmV3IFNwbGF5VHJlZVNldE5vZGUobGVmdC5rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3QubGVmdCA9IG5ld0xlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29weUNoaWxkcmVuKGxlZnQsIG5ld0xlZnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSaWdodCA9IG5ldyBTcGxheVRyZWVTZXROb2RlKHJpZ2h0LmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdC5yaWdodCA9IG5ld1JpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSByaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0ID0gbmV3UmlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gd2hpbGUgKHJpZ2h0ICE9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU3BsYXlUcmVlU2V0Tm9kZShub2RlLmtleSk7XHJcbiAgICAgICAgY29weUNoaWxkcmVuKG5vZGUsIHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHRvU2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCk7XHJcbiAgICB9XHJcbiAgICBlbnRyaWVzKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3BsYXlUcmVlU2V0RW50cnlJdGVyYWJsZUl0ZXJhdG9yKHRoaXMud3JhcCgpKTtcclxuICAgIH1cclxuICAgIGtleXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgfVxyXG4gICAgdmFsdWVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxuICAgIH1cclxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3BsYXlUcmVlS2V5SXRlcmFibGVJdGVyYXRvcih0aGlzLndyYXAoKSk7XHJcbiAgICB9XHJcbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdbb2JqZWN0IFNldF0nO1xyXG59XHJcbmNsYXNzIFNwbGF5VHJlZUl0ZXJhYmxlSXRlcmF0b3Ige1xyXG4gICAgdHJlZTtcclxuICAgIHBhdGggPSBuZXcgQXJyYXkoKTtcclxuICAgIG1vZGlmaWNhdGlvbkNvdW50ID0gbnVsbDtcclxuICAgIHNwbGF5Q291bnQ7XHJcbiAgICBjb25zdHJ1Y3Rvcih0cmVlKSB7XHJcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcclxuICAgICAgICB0aGlzLnNwbGF5Q291bnQgPSB0cmVlLmdldFNwbGF5Q291bnQoKTtcclxuICAgIH1cclxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgbmV4dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5tb3ZlTmV4dCgpKVxyXG4gICAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IHRoaXMuY3VycmVudCgpIH07XHJcbiAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG51bGwgfTtcclxuICAgIH1cclxuICAgIGN1cnJlbnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhdGgubGVuZ3RoKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZShub2RlKTtcclxuICAgIH1cclxuICAgIHJlYnVpbGRQYXRoKGtleSkge1xyXG4gICAgICAgIHRoaXMucGF0aC5zcGxpY2UoMCwgdGhpcy5wYXRoLmxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy50cmVlLnNwbGF5KGtleSk7XHJcbiAgICAgICAgdGhpcy5wYXRoLnB1c2godGhpcy50cmVlLmdldFJvb3QoKSk7XHJcbiAgICAgICAgdGhpcy5zcGxheUNvdW50ID0gdGhpcy50cmVlLmdldFNwbGF5Q291bnQoKTtcclxuICAgIH1cclxuICAgIGZpbmRMZWZ0TW9zdERlc2NlbmRlbnQobm9kZSkge1xyXG4gICAgICAgIHdoaWxlIChub2RlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXRoLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbW92ZU5leHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kaWZpY2F0aW9uQ291bnQgIT0gdGhpcy50cmVlLmdldE1vZGlmaWNhdGlvbkNvdW50KCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kaWZpY2F0aW9uQ291bnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RpZmljYXRpb25Db3VudCA9IHRoaXMudHJlZS5nZXRNb2RpZmljYXRpb25Db3VudCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnRyZWUuZ2V0Um9vdCgpO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aC5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMucGF0aC5sZW5ndGgpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5zcGxheUNvdW50ICE9IHRoaXMudHJlZS5nZXRTcGxheUNvdW50KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkUGF0aCh0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdLmtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcclxuICAgICAgICBsZXQgbmV4dCA9IG5vZGUucmlnaHQ7XHJcbiAgICAgICAgaWYgKG5leHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB3aGlsZSAobmV4dCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGgucHVzaChuZXh0KTtcclxuICAgICAgICAgICAgICAgIG5leHQgPSBuZXh0LmxlZnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGF0aC5wb3AoKTtcclxuICAgICAgICB3aGlsZSAodGhpcy5wYXRoLmxlbmd0aCAmJiB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdLnJpZ2h0ID09PSBub2RlKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLnBhdGgucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnBhdGgubGVuZ3RoID4gMDtcclxuICAgIH1cclxufVxyXG5jbGFzcyBTcGxheVRyZWVLZXlJdGVyYWJsZUl0ZXJhdG9yIGV4dGVuZHMgU3BsYXlUcmVlSXRlcmFibGVJdGVyYXRvciB7XHJcbiAgICBnZXRWYWx1ZShub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFNwbGF5VHJlZVNldEVudHJ5SXRlcmFibGVJdGVyYXRvciBleHRlbmRzIFNwbGF5VHJlZUl0ZXJhYmxlSXRlcmF0b3Ige1xyXG4gICAgZ2V0VmFsdWUobm9kZSkge1xyXG4gICAgICAgIHJldHVybiBbbm9kZS5rZXksIG5vZGUua2V5XTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBTcGxheVRyZWVWYWx1ZUl0ZXJhYmxlSXRlcmF0b3IgZXh0ZW5kcyBTcGxheVRyZWVJdGVyYWJsZUl0ZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1hcCkge1xyXG4gICAgICAgIHN1cGVyKG1hcCk7XHJcbiAgICB9XHJcbiAgICBnZXRWYWx1ZShub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUudmFsdWU7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU3BsYXlUcmVlTWFwRW50cnlJdGVyYWJsZUl0ZXJhdG9yIGV4dGVuZHMgU3BsYXlUcmVlSXRlcmFibGVJdGVyYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtYXApIHtcclxuICAgICAgICBzdXBlcihtYXApO1xyXG4gICAgfVxyXG4gICAgZ2V0VmFsdWUobm9kZSkge1xyXG4gICAgICAgIHJldHVybiBbbm9kZS5rZXksIG5vZGUudmFsdWVdO1xyXG4gICAgfVxyXG4gICAgcmVwbGFjZVZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kaWZpY2F0aW9uQ291bnQgIT0gdGhpcy50cmVlLmdldE1vZGlmaWNhdGlvbkNvdW50KCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zcGxheUNvdW50ICE9IHRoaXMudHJlZS5nZXRTcGxheUNvdW50KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkUGF0aCh0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdLmtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBhdGgucG9wKCk7XHJcbiAgICAgICAgY29uc3QgbmV3TGFzdCA9IGxhc3QucmVwbGFjZVZhbHVlKHZhbHVlKTtcclxuICAgICAgICBpZiAoIXRoaXMucGF0aC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy50cmVlLnNldFJvb3QobmV3TGFzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAobGFzdCA9PT0gcGFyZW50LmxlZnQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5sZWZ0ID0gbmV3TGFzdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5yaWdodCA9IG5ld0xhc3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXRoLnB1c2gobmV3TGFzdCk7XHJcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLnRyZWUuZ2V0U3BsYXlDb3VudCgpICsgMTtcclxuICAgICAgICB0aGlzLnRyZWUuc2V0U3BsYXlDb3VudChjb3VudCk7XHJcbiAgICAgICAgdGhpcy5zcGxheUNvdW50ID0gY291bnQ7XHJcbiAgICB9XHJcbn1cclxuIiwgImV4cG9ydCBkZWZhdWx0ICh4KSA9PiB7XG4gICAgcmV0dXJuIHg7XG59O1xuIiwgImltcG9ydCBCaWdOdW1iZXIgZnJvbSBcImJpZ251bWJlci5qc1wiO1xuaW1wb3J0IHsgU3BsYXlUcmVlU2V0IH0gZnJvbSBcInNwbGF5dHJlZS10c1wiO1xuaW1wb3J0IGNvbXBhcmUgZnJvbSBcIi4vY29tcGFyZS5qc1wiO1xuaW1wb3J0IGlkZW50aXR5IGZyb20gXCIuL2lkZW50aXR5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCAoZXBzKSA9PiB7XG4gICAgaWYgKGVwcykge1xuICAgICAgICBjb25zdCB4VHJlZSA9IG5ldyBTcGxheVRyZWVTZXQoY29tcGFyZShlcHMpKTtcbiAgICAgICAgY29uc3QgeVRyZWUgPSBuZXcgU3BsYXlUcmVlU2V0KGNvbXBhcmUoZXBzKSk7XG4gICAgICAgIGNvbnN0IHNuYXBDb29yZCA9IChjb29yZCwgdHJlZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRyZWUuYWRkQW5kUmV0dXJuKGNvb3JkKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc25hcCA9ICh2KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHNuYXBDb29yZCh2LngsIHhUcmVlKSxcbiAgICAgICAgICAgICAgICB5OiBzbmFwQ29vcmQodi55LCB5VHJlZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBzbmFwKHsgeDogbmV3IEJpZ051bWJlcigwKSwgeTogbmV3IEJpZ051bWJlcigwKSB9KTtcbiAgICAgICAgcmV0dXJuIHNuYXA7XG4gICAgfVxuICAgIHJldHVybiBpZGVudGl0eTtcbn07XG4iLCAiaW1wb3J0IGNvbXBhcmUgZnJvbSBcIi4vY29tcGFyZS5qc1wiO1xuaW1wb3J0IG9yaWVudCBmcm9tIFwiLi9vcmllbnQuanNcIjtcbmltcG9ydCBzbmFwIGZyb20gXCIuL3NuYXAuanNcIjtcbmNvbnN0IHNldCA9IChlcHMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXQ6IChlcHMpID0+IHsgcHJlY2lzaW9uID0gc2V0KGVwcyk7IH0sXG4gICAgICAgIHJlc2V0OiAoKSA9PiBzZXQoZXBzKSxcbiAgICAgICAgY29tcGFyZTogY29tcGFyZShlcHMpLFxuICAgICAgICBzbmFwOiBzbmFwKGVwcyksXG4gICAgICAgIG9yaWVudDogb3JpZW50KGVwcylcbiAgICB9O1xufTtcbmV4cG9ydCBsZXQgcHJlY2lzaW9uID0gc2V0KCk7XG4iLCAiLyoqXG4gKiBBIGJvdW5kaW5nIGJveCBoYXMgdGhlIGZvcm1hdDpcbiAqXG4gKiAgeyBsbDogeyB4OiB4bWluLCB5OiB5bWluIH0sIHVyOiB7IHg6IHhtYXgsIHk6IHltYXggfSB9XG4gKlxuICovXG5leHBvcnQgY29uc3QgaXNJbkJib3ggPSAoYmJveCwgcG9pbnQpID0+IHtcbiAgICByZXR1cm4gKGJib3gubGwueC5pc0xlc3NUaGFuT3JFcXVhbFRvKHBvaW50LngpICYmXG4gICAgICAgIHBvaW50LnguaXNMZXNzVGhhbk9yRXF1YWxUbyhiYm94LnVyLngpICYmXG4gICAgICAgIGJib3gubGwueS5pc0xlc3NUaGFuT3JFcXVhbFRvKHBvaW50LnkpICYmXG4gICAgICAgIHBvaW50LnkuaXNMZXNzVGhhbk9yRXF1YWxUbyhiYm94LnVyLnkpKTtcbn07XG4vKiBSZXR1cm5zIGVpdGhlciBudWxsLCBvciBhIGJib3ggKGFrYSBhbiBvcmRlcmVkIHBhaXIgb2YgcG9pbnRzKVxuICogSWYgdGhlcmUgaXMgb25seSBvbmUgcG9pbnQgb2Ygb3ZlcmxhcCwgYSBiYm94IHdpdGggaWRlbnRpY2FsIHBvaW50c1xuICogd2lsbCBiZSByZXR1cm5lZCAqL1xuZXhwb3J0IGNvbnN0IGdldEJib3hPdmVybGFwID0gKGIxLCBiMikgPT4ge1xuICAgIC8vIGNoZWNrIGlmIHRoZSBiYm94ZXMgb3ZlcmxhcCBhdCBhbGxcbiAgICBpZiAoYjIudXIueC5pc0xlc3NUaGFuKGIxLmxsLngpIHx8XG4gICAgICAgIGIxLnVyLnguaXNMZXNzVGhhbihiMi5sbC54KSB8fFxuICAgICAgICBiMi51ci55LmlzTGVzc1RoYW4oYjEubGwueSkgfHxcbiAgICAgICAgYjEudXIueS5pc0xlc3NUaGFuKGIyLmxsLnkpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAvLyBmaW5kIHRoZSBtaWRkbGUgdHdvIFggdmFsdWVzXG4gICAgY29uc3QgbG93ZXJYID0gYjEubGwueC5pc0xlc3NUaGFuKGIyLmxsLngpID8gYjIubGwueCA6IGIxLmxsLng7XG4gICAgY29uc3QgdXBwZXJYID0gYjEudXIueC5pc0xlc3NUaGFuKGIyLnVyLngpID8gYjEudXIueCA6IGIyLnVyLng7XG4gICAgLy8gZmluZCB0aGUgbWlkZGxlIHR3byBZIHZhbHVlc1xuICAgIGNvbnN0IGxvd2VyWSA9IGIxLmxsLnkuaXNMZXNzVGhhbihiMi5sbC55KSA/IGIyLmxsLnkgOiBiMS5sbC55O1xuICAgIGNvbnN0IHVwcGVyWSA9IGIxLnVyLnkuaXNMZXNzVGhhbihiMi51ci55KSA/IGIxLnVyLnkgOiBiMi51ci55O1xuICAgIC8vIHB1dCB0aG9zZSBtaWRkbGUgdmFsdWVzIHRvZ2V0aGVyIHRvIGdldCB0aGUgb3ZlcmxhcFxuICAgIHJldHVybiB7IGxsOiB7IHg6IGxvd2VyWCwgeTogbG93ZXJZIH0sIHVyOiB7IHg6IHVwcGVyWCwgeTogdXBwZXJZIH0gfTtcbn07XG4iLCAiLyogQ3Jvc3MgUHJvZHVjdCBvZiB0d28gdmVjdG9ycyB3aXRoIGZpcnN0IHBvaW50IGF0IG9yaWdpbiAqL1xuZXhwb3J0IGNvbnN0IGNyb3NzUHJvZHVjdCA9IChhLCBiKSA9PiBhLngudGltZXMoYi55KS5taW51cyhhLnkudGltZXMoYi54KSk7XG4vKiBEb3QgUHJvZHVjdCBvZiB0d28gdmVjdG9ycyB3aXRoIGZpcnN0IHBvaW50IGF0IG9yaWdpbiAqL1xuZXhwb3J0IGNvbnN0IGRvdFByb2R1Y3QgPSAoYSwgYikgPT4gYS54LnRpbWVzKGIueCkucGx1cyhhLnkudGltZXMoYi55KSk7XG5leHBvcnQgY29uc3QgbGVuZ3RoID0gKHYpID0+IGRvdFByb2R1Y3Qodiwgdikuc3FydCgpO1xuLyogR2V0IHRoZSBzaW5lIG9mIHRoZSBhbmdsZSBmcm9tIHBTaGFyZWQgLT4gcEFuZ2xlIHRvIHBTaGFlZCAtPiBwQmFzZSAqL1xuZXhwb3J0IGNvbnN0IHNpbmVPZkFuZ2xlID0gKHBTaGFyZWQsIHBCYXNlLCBwQW5nbGUpID0+IHtcbiAgICBjb25zdCB2QmFzZSA9IHsgeDogcEJhc2UueC5taW51cyhwU2hhcmVkLngpLCB5OiBwQmFzZS55Lm1pbnVzKHBTaGFyZWQueSkgfTtcbiAgICBjb25zdCB2QW5nbGUgPSB7IHg6IHBBbmdsZS54Lm1pbnVzKHBTaGFyZWQueCksIHk6IHBBbmdsZS55Lm1pbnVzKHBTaGFyZWQueSkgfTtcbiAgICByZXR1cm4gY3Jvc3NQcm9kdWN0KHZBbmdsZSwgdkJhc2UpLmRpdihsZW5ndGgodkFuZ2xlKSkuZGl2KGxlbmd0aCh2QmFzZSkpO1xufTtcbi8qIEdldCB0aGUgY29zaW5lIG9mIHRoZSBhbmdsZSBmcm9tIHBTaGFyZWQgLT4gcEFuZ2xlIHRvIHBTaGFlZCAtPiBwQmFzZSAqL1xuZXhwb3J0IGNvbnN0IGNvc2luZU9mQW5nbGUgPSAocFNoYXJlZCwgcEJhc2UsIHBBbmdsZSkgPT4ge1xuICAgIGNvbnN0IHZCYXNlID0geyB4OiBwQmFzZS54Lm1pbnVzKHBTaGFyZWQueCksIHk6IHBCYXNlLnkubWludXMocFNoYXJlZC55KSB9O1xuICAgIGNvbnN0IHZBbmdsZSA9IHsgeDogcEFuZ2xlLngubWludXMocFNoYXJlZC54KSwgeTogcEFuZ2xlLnkubWludXMocFNoYXJlZC55KSB9O1xuICAgIHJldHVybiBkb3RQcm9kdWN0KHZBbmdsZSwgdkJhc2UpLmRpdihsZW5ndGgodkFuZ2xlKSkuZGl2KGxlbmd0aCh2QmFzZSkpO1xufTtcbi8qIEdldCB0aGUgeCBjb29yZGluYXRlIHdoZXJlIHRoZSBnaXZlbiBsaW5lIChkZWZpbmVkIGJ5IGEgcG9pbnQgYW5kIHZlY3RvcilcbiAqIGNyb3NzZXMgdGhlIGhvcml6b250YWwgbGluZSB3aXRoIHRoZSBnaXZlbiB5IGNvb3JkaWFudGUuXG4gKiBJbiB0aGUgY2FzZSBvZiBwYXJyYWxsZWwgbGluZXMgKGluY2x1ZGluZyBvdmVybGFwcGluZyBvbmVzKSByZXR1cm5zIG51bGwuICovXG5leHBvcnQgY29uc3QgaG9yaXpvbnRhbEludGVyc2VjdGlvbiA9IChwdCwgdiwgeSkgPT4ge1xuICAgIGlmICh2LnkuaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7IHg6IHB0LngucGx1cygodi54LmRpdih2LnkpKS50aW1lcyh5Lm1pbnVzKHB0LnkpKSksIHk6IHkgfTtcbn07XG4vKiBHZXQgdGhlIHkgY29vcmRpbmF0ZSB3aGVyZSB0aGUgZ2l2ZW4gbGluZSAoZGVmaW5lZCBieSBhIHBvaW50IGFuZCB2ZWN0b3IpXG4gKiBjcm9zc2VzIHRoZSB2ZXJ0aWNhbCBsaW5lIHdpdGggdGhlIGdpdmVuIHggY29vcmRpYW50ZS5cbiAqIEluIHRoZSBjYXNlIG9mIHBhcnJhbGxlbCBsaW5lcyAoaW5jbHVkaW5nIG92ZXJsYXBwaW5nIG9uZXMpIHJldHVybnMgbnVsbC4gKi9cbmV4cG9ydCBjb25zdCB2ZXJ0aWNhbEludGVyc2VjdGlvbiA9IChwdCwgdiwgeCkgPT4ge1xuICAgIGlmICh2LnguaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHB0LnkucGx1cygodi55LmRpdih2LngpKS50aW1lcyh4Lm1pbnVzKHB0LngpKSkgfTtcbn07XG4vKiBHZXQgdGhlIGludGVyc2VjdGlvbiBvZiB0d28gbGluZXMsIGVhY2ggZGVmaW5lZCBieSBhIGJhc2UgcG9pbnQgYW5kIGEgdmVjdG9yLlxuICogSW4gdGhlIGNhc2Ugb2YgcGFycmFsbGVsIGxpbmVzIChpbmNsdWRpbmcgb3ZlcmxhcHBpbmcgb25lcykgcmV0dXJucyBudWxsLiAqL1xuZXhwb3J0IGNvbnN0IGludGVyc2VjdGlvbiA9IChwdDEsIHYxLCBwdDIsIHYyKSA9PiB7XG4gICAgLy8gdGFrZSBzb21lIHNob3J0Y3V0cyBmb3IgdmVydGljYWwgYW5kIGhvcml6b250YWwgbGluZXNcbiAgICAvLyB0aGlzIGFsc28gZW5zdXJlcyB3ZSBkb24ndCBjYWxjdWxhdGUgYW4gaW50ZXJzZWN0aW9uIGFuZCB0aGVuIGRpc2NvdmVyXG4gICAgLy8gaXQncyBhY3R1YWxseSBvdXRzaWRlIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIGxpbmVcbiAgICBpZiAodjEueC5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsSW50ZXJzZWN0aW9uKHB0MiwgdjIsIHB0MS54KTtcbiAgICBpZiAodjIueC5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsSW50ZXJzZWN0aW9uKHB0MSwgdjEsIHB0Mi54KTtcbiAgICBpZiAodjEueS5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIGhvcml6b250YWxJbnRlcnNlY3Rpb24ocHQyLCB2MiwgcHQxLnkpO1xuICAgIGlmICh2Mi55LmlzWmVybygpKVxuICAgICAgICByZXR1cm4gaG9yaXpvbnRhbEludGVyc2VjdGlvbihwdDEsIHYxLCBwdDIueSk7XG4gICAgLy8gR2VuZXJhbCBjYXNlIGZvciBub24tb3ZlcmxhcHBpbmcgc2VnbWVudHMuXG4gICAgLy8gVGhpcyBhbGdvcml0aG0gaXMgYmFzZWQgb24gU2NobmVpZGVyIGFuZCBFYmVybHkuXG4gICAgLy8gaHR0cDovL3d3dy5jaW1lYy5vcmcuYXIvfm5jYWx2by9TY2huZWlkZXJfRWJlcmx5LnBkZiAtIHBnIDI0NFxuICAgIGNvbnN0IGtyb3NzID0gY3Jvc3NQcm9kdWN0KHYxLCB2Mik7XG4gICAgaWYgKGtyb3NzLmlzWmVybygpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB2ZSA9IHsgeDogcHQyLngubWludXMocHQxLngpLCB5OiBwdDIueS5taW51cyhwdDEueSkgfTtcbiAgICBjb25zdCBkMSA9IGNyb3NzUHJvZHVjdCh2ZSwgdjEpLmRpdihrcm9zcyk7XG4gICAgY29uc3QgZDIgPSBjcm9zc1Byb2R1Y3QodmUsIHYyKS5kaXYoa3Jvc3MpO1xuICAgIC8vIHRha2UgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHR3byBjYWxjdWxhdGlvbnMgdG8gbWluaW1pemUgcm91bmRpbmcgZXJyb3JcbiAgICBjb25zdCB4MSA9IHB0MS54LnBsdXMoZDIudGltZXModjEueCkpLCB4MiA9IHB0Mi54LnBsdXMoZDEudGltZXModjIueCkpO1xuICAgIGNvbnN0IHkxID0gcHQxLnkucGx1cyhkMi50aW1lcyh2MS55KSksIHkyID0gcHQyLnkucGx1cyhkMS50aW1lcyh2Mi55KSk7XG4gICAgY29uc3QgeCA9IHgxLnBsdXMoeDIpLmRpdigyKTtcbiAgICBjb25zdCB5ID0geTEucGx1cyh5MikuZGl2KDIpO1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbn07XG4vKiBHaXZlbiBhIHZlY3RvciwgcmV0dXJuIG9uZSB0aGF0IGlzIHBlcnBlbmRpY3VsYXIgKi9cbmV4cG9ydCBjb25zdCBwZXJwZW5kaWN1bGFyID0gKHYpID0+IHtcbiAgICByZXR1cm4geyB4OiB2LnkubmVnYXRlZCgpLCB5OiB2LnggfTtcbn07XG4iLCAiaW1wb3J0IFNlZ21lbnQgZnJvbSBcIi4vc2VnbWVudC5qc1wiO1xuaW1wb3J0IHsgY29zaW5lT2ZBbmdsZSwgc2luZU9mQW5nbGUgfSBmcm9tIFwiLi92ZWN0b3IuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN3ZWVwRXZlbnQge1xuICAgIHBvaW50O1xuICAgIGlzTGVmdDtcbiAgICBzZWdtZW50O1xuICAgIG90aGVyU0U7XG4gICAgY29uc3VtZWRCeTtcbiAgICAvLyBmb3Igb3JkZXJpbmcgc3dlZXAgZXZlbnRzIGluIHRoZSBzd2VlcCBldmVudCBxdWV1ZVxuICAgIHN0YXRpYyBjb21wYXJlKGEsIGIpIHtcbiAgICAgICAgLy8gZmF2b3IgZXZlbnQgd2l0aCBhIHBvaW50IHRoYXQgdGhlIHN3ZWVwIGxpbmUgaGl0cyBmaXJzdFxuICAgICAgICBjb25zdCBwdENtcCA9IFN3ZWVwRXZlbnQuY29tcGFyZVBvaW50cyhhLnBvaW50LCBiLnBvaW50KTtcbiAgICAgICAgaWYgKHB0Q21wICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHB0Q21wO1xuICAgICAgICAvLyB0aGUgcG9pbnRzIGFyZSB0aGUgc2FtZSwgc28gbGluayB0aGVtIGlmIG5lZWRlZFxuICAgICAgICBpZiAoYS5wb2ludCAhPT0gYi5wb2ludClcbiAgICAgICAgICAgIGEubGluayhiKTtcbiAgICAgICAgLy8gZmF2b3IgcmlnaHQgZXZlbnRzIG92ZXIgbGVmdFxuICAgICAgICBpZiAoYS5pc0xlZnQgIT09IGIuaXNMZWZ0KVxuICAgICAgICAgICAgcmV0dXJuIGEuaXNMZWZ0ID8gMSA6IC0xO1xuICAgICAgICAvLyB3ZSBoYXZlIHR3byBtYXRjaGluZyBsZWZ0IG9yIHJpZ2h0IGVuZHBvaW50c1xuICAgICAgICAvLyBvcmRlcmluZyBvZiB0aGlzIGNhc2UgaXMgdGhlIHNhbWUgYXMgZm9yIHRoZWlyIHNlZ21lbnRzXG4gICAgICAgIHJldHVybiBTZWdtZW50LmNvbXBhcmUoYS5zZWdtZW50LCBiLnNlZ21lbnQpO1xuICAgIH1cbiAgICAvLyBmb3Igb3JkZXJpbmcgcG9pbnRzIGluIHN3ZWVwIGxpbmUgb3JkZXJcbiAgICBzdGF0aWMgY29tcGFyZVBvaW50cyhhUHQsIGJQdCkge1xuICAgICAgICBpZiAoYVB0LnguaXNMZXNzVGhhbihiUHQueCkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhUHQueC5pc0dyZWF0ZXJUaGFuKGJQdC54KSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBpZiAoYVB0LnkuaXNMZXNzVGhhbihiUHQueSkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhUHQueS5pc0dyZWF0ZXJUaGFuKGJQdC55KSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLy8gV2FybmluZzogJ3BvaW50JyBpbnB1dCB3aWxsIGJlIG1vZGlmaWVkIGFuZCByZS11c2VkIChmb3IgcGVyZm9ybWFuY2UpXG4gICAgY29uc3RydWN0b3IocG9pbnQsIGlzTGVmdCkge1xuICAgICAgICBpZiAocG9pbnQuZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBwb2ludC5ldmVudHMgPSBbdGhpc107XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHBvaW50LmV2ZW50cy5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLnBvaW50ID0gcG9pbnQ7XG4gICAgICAgIHRoaXMuaXNMZWZ0ID0gaXNMZWZ0O1xuICAgICAgICAvLyB0aGlzLnNlZ21lbnQsIHRoaXMub3RoZXJTRSBzZXQgYnkgZmFjdG9yeVxuICAgIH1cbiAgICBsaW5rKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlci5wb2ludCA9PT0gdGhpcy5wb2ludCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJpZWQgdG8gbGluayBhbHJlYWR5IGxpbmtlZCBldmVudHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3RoZXJFdmVudHMgPSBvdGhlci5wb2ludC5ldmVudHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gb3RoZXJFdmVudHMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBldnQgPSBvdGhlckV2ZW50c1tpXTtcbiAgICAgICAgICAgIHRoaXMucG9pbnQuZXZlbnRzLnB1c2goZXZ0KTtcbiAgICAgICAgICAgIGV2dC5wb2ludCA9IHRoaXMucG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja0ZvckNvbnN1bWluZygpO1xuICAgIH1cbiAgICAvKiBEbyBhIHBhc3Mgb3ZlciBvdXIgbGlua2VkIGV2ZW50cyBhbmQgY2hlY2sgdG8gc2VlIGlmIGFueSBwYWlyXG4gICAgICogb2Ygc2VnbWVudHMgbWF0Y2gsIGFuZCBzaG91bGQgYmUgY29uc3VtZWQuICovXG4gICAgY2hlY2tGb3JDb25zdW1pbmcoKSB7XG4gICAgICAgIC8vIEZJWE1FOiBUaGUgbG9vcHMgaW4gdGhpcyBtZXRob2QgcnVuIE8obl4yKSA9PiBubyBnb29kLlxuICAgICAgICAvLyAgICAgICAgTWFpbnRhaW4gbGl0dGxlIG9yZGVyZWQgc3dlZXAgZXZlbnQgdHJlZXM/XG4gICAgICAgIC8vICAgICAgICBDYW4gd2UgbWFpbnRhaW5pbmcgYW4gb3JkZXJpbmcgdGhhdCBhdm9pZHMgdGhlIG5lZWRcbiAgICAgICAgLy8gICAgICAgIGZvciB0aGUgcmUtc29ydGluZyB3aXRoIGdldExlZnRtb3N0Q29tcGFyYXRvciBpbiBnZW9tLW91dD9cbiAgICAgICAgLy8gQ29tcGFyZSBlYWNoIHBhaXIgb2YgZXZlbnRzIHRvIHNlZSBpZiBvdGhlciBldmVudHMgYWxzbyBtYXRjaFxuICAgICAgICBjb25zdCBudW1FdmVudHMgPSB0aGlzLnBvaW50LmV2ZW50cy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRXZlbnRzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV2dDEgPSB0aGlzLnBvaW50LmV2ZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChldnQxLnNlZ21lbnQuY29uc3VtZWRCeSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbnVtRXZlbnRzOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBldnQyID0gdGhpcy5wb2ludC5ldmVudHNbal07XG4gICAgICAgICAgICAgICAgaWYgKGV2dDIuY29uc3VtZWRCeSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoZXZ0MS5vdGhlclNFLnBvaW50LmV2ZW50cyAhPT0gZXZ0Mi5vdGhlclNFLnBvaW50LmV2ZW50cylcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZXZ0MS5zZWdtZW50LmNvbnN1bWUoZXZ0Mi5zZWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRBdmFpbGFibGVMaW5rZWRFdmVudHMoKSB7XG4gICAgICAgIC8vIHBvaW50LmV2ZW50cyBpcyBhbHdheXMgb2YgbGVuZ3RoIDIgb3IgZ3JlYXRlclxuICAgICAgICBjb25zdCBldmVudHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSB0aGlzLnBvaW50LmV2ZW50cy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV2dCA9IHRoaXMucG9pbnQuZXZlbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGV2dCAhPT0gdGhpcyAmJiAhZXZ0LnNlZ21lbnQucmluZ091dCAmJiBldnQuc2VnbWVudC5pc0luUmVzdWx0KCkpIHtcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIGZvciBzb3J0aW5nIGxpbmtlZCBldmVudHMgdGhhdCB3aWxsXG4gICAgICogZmF2b3IgdGhlIGV2ZW50IHRoYXQgd2lsbCBnaXZlIHVzIHRoZSBzbWFsbGVzdCBsZWZ0LXNpZGUgYW5nbGUuXG4gICAgICogQWxsIHJpbmcgY29uc3RydWN0aW9uIHN0YXJ0cyBhcyBsb3cgYXMgcG9zc2libGUgaGVhZGluZyB0byB0aGUgcmlnaHQsXG4gICAgICogc28gYnkgYWx3YXlzIHR1cm5pbmcgbGVmdCBhcyBzaGFycCBhcyBwb3NzaWJsZSB3ZSdsbCBnZXQgcG9seWdvbnNcbiAgICAgKiB3aXRob3V0IHVuY2Vzc2FyeSBsb29wcyAmIGhvbGVzLlxuICAgICAqXG4gICAgICogVGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24gaGFzIGEgY29tcHV0ZSBjYWNoZSBzdWNoIHRoYXQgaXQgYXZvaWRzXG4gICAgICogcmUtY29tcHV0aW5nIGFscmVhZHktY29tcHV0ZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGdldExlZnRtb3N0Q29tcGFyYXRvcihiYXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGZpbGxDYWNoZSA9IChsaW5rZWRFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dEV2ZW50ID0gbGlua2VkRXZlbnQub3RoZXJTRTtcbiAgICAgICAgICAgIGNhY2hlLnNldChsaW5rZWRFdmVudCwge1xuICAgICAgICAgICAgICAgIHNpbmU6IHNpbmVPZkFuZ2xlKHRoaXMucG9pbnQsIGJhc2VFdmVudC5wb2ludCwgbmV4dEV2ZW50LnBvaW50KSxcbiAgICAgICAgICAgICAgICBjb3NpbmU6IGNvc2luZU9mQW5nbGUodGhpcy5wb2ludCwgYmFzZUV2ZW50LnBvaW50LCBuZXh0RXZlbnQucG9pbnQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKCFjYWNoZS5oYXMoYSkpXG4gICAgICAgICAgICAgICAgZmlsbENhY2hlKGEpO1xuICAgICAgICAgICAgaWYgKCFjYWNoZS5oYXMoYikpXG4gICAgICAgICAgICAgICAgZmlsbENhY2hlKGIpO1xuICAgICAgICAgICAgY29uc3QgeyBzaW5lOiBhc2luZSwgY29zaW5lOiBhY29zaW5lIH0gPSBjYWNoZS5nZXQoYSk7XG4gICAgICAgICAgICBjb25zdCB7IHNpbmU6IGJzaW5lLCBjb3NpbmU6IGJjb3NpbmUgfSA9IGNhY2hlLmdldChiKTtcbiAgICAgICAgICAgIC8vIGJvdGggb24gb3IgYWJvdmUgeC1heGlzXG4gICAgICAgICAgICBpZiAoYXNpbmUuaXNHcmVhdGVyVGhhbk9yRXF1YWxUbygwKSAmJiBic2luZS5pc0dyZWF0ZXJUaGFuT3JFcXVhbFRvKDApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjb3NpbmUuaXNMZXNzVGhhbihiY29zaW5lKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKGFjb3NpbmUuaXNHcmVhdGVyVGhhbihiY29zaW5lKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYm90aCBiZWxvdyB4LWF4aXNcbiAgICAgICAgICAgIGlmIChhc2luZS5pc0xlc3NUaGFuKDApICYmIGJzaW5lLmlzTGVzc1RoYW4oMCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWNvc2luZS5pc0xlc3NUaGFuKGJjb3NpbmUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgaWYgKGFjb3NpbmUuaXNHcmVhdGVyVGhhbihiY29zaW5lKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmUgYWJvdmUgeC1heGlzLCBvbmUgYmVsb3dcbiAgICAgICAgICAgIGlmIChic2luZS5pc0xlc3NUaGFuKGFzaW5lKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYnNpbmUuaXNHcmVhdGVyVGhhbihhc2luZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgZ2V0QmJveE92ZXJsYXAsIGlzSW5CYm94IH0gZnJvbSBcIi4vYmJveC5qc1wiO1xuaW1wb3J0IG9wZXJhdGlvbiBmcm9tIFwiLi9vcGVyYXRpb24uanNcIjtcbmltcG9ydCB7IHByZWNpc2lvbiB9IGZyb20gXCIuL3ByZWNpc2lvbi5qc1wiO1xuaW1wb3J0IFN3ZWVwRXZlbnQgZnJvbSBcIi4vc3dlZXAtZXZlbnQuanNcIjtcbmltcG9ydCB7IGludGVyc2VjdGlvbiB9IGZyb20gXCIuL3ZlY3Rvci5qc1wiO1xuLy8gR2l2ZSBzZWdtZW50cyB1bmlxdWUgSUQncyB0byBnZXQgY29uc2lzdGVudCBzb3J0aW5nIG9mXG4vLyBzZWdtZW50cyBhbmQgc3dlZXAgZXZlbnRzIHdoZW4gYWxsIGVsc2UgaXMgaWRlbnRpY2FsXG5sZXQgc2VnbWVudElkID0gMDtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlZ21lbnQge1xuICAgIGlkO1xuICAgIGxlZnRTRTtcbiAgICByaWdodFNFO1xuICAgIHJpbmdzO1xuICAgIHdpbmRpbmdzO1xuICAgIHJpbmdPdXQ7XG4gICAgY29uc3VtZWRCeTtcbiAgICBwcmV2O1xuICAgIF9wcmV2SW5SZXN1bHQ7XG4gICAgX2JlZm9yZVN0YXRlO1xuICAgIF9hZnRlclN0YXRlO1xuICAgIF9pc0luUmVzdWx0O1xuICAgIC8qIFRoaXMgY29tcGFyZSgpIGZ1bmN0aW9uIGlzIGZvciBvcmRlcmluZyBzZWdtZW50cyBpbiB0aGUgc3dlZXBcbiAgICAgKiBsaW5lIHRyZWUsIGFuZCBkb2VzIHNvIGFjY29yZGluZyB0byB0aGUgZm9sbG93aW5nIGNyaXRlcmlhOlxuICAgICAqXG4gICAgICogQ29uc2lkZXIgdGhlIHZlcnRpY2FsIGxpbmUgdGhhdCBsaWVzIGFuIGluZmluZXN0aW1hbCBzdGVwIHRvIHRoZVxuICAgICAqIHJpZ2h0IG9mIHRoZSByaWdodC1tb3JlIG9mIHRoZSB0d28gbGVmdCBlbmRwb2ludHMgb2YgdGhlIGlucHV0XG4gICAgICogc2VnbWVudHMuIEltYWdpbmUgc2xvd2x5IG1vdmluZyBhIHBvaW50IHVwIGZyb20gbmVnYXRpdmUgaW5maW5pdHlcbiAgICAgKiBpbiB0aGUgaW5jcmVhc2luZyB5IGRpcmVjdGlvbi4gV2hpY2ggb2YgdGhlIHR3byBzZWdtZW50cyB3aWxsIHRoYXRcbiAgICAgKiBwb2ludCBpbnRlcnNlY3QgZmlyc3Q/IFRoYXQgc2VnbWVudCBjb21lcyAnYmVmb3JlJyB0aGUgb3RoZXIgb25lLlxuICAgICAqXG4gICAgICogSWYgbmVpdGhlciBzZWdtZW50IHdvdWxkIGJlIGludGVyc2VjdGVkIGJ5IHN1Y2ggYSBsaW5lLCAoaWYgb25lXG4gICAgICogb3IgbW9yZSBvZiB0aGUgc2VnbWVudHMgYXJlIHZlcnRpY2FsKSB0aGVuIHRoZSBsaW5lIHRvIGJlIGNvbnNpZGVyZWRcbiAgICAgKiBpcyBkaXJlY3RseSBvbiB0aGUgcmlnaHQtbW9yZSBvZiB0aGUgdHdvIGxlZnQgaW5wdXRzLlxuICAgICAqL1xuICAgIHN0YXRpYyBjb21wYXJlKGEsIGIpIHtcbiAgICAgICAgY29uc3QgYWx4ID0gYS5sZWZ0U0UucG9pbnQueDtcbiAgICAgICAgY29uc3QgYmx4ID0gYi5sZWZ0U0UucG9pbnQueDtcbiAgICAgICAgY29uc3QgYXJ4ID0gYS5yaWdodFNFLnBvaW50Lng7XG4gICAgICAgIGNvbnN0IGJyeCA9IGIucmlnaHRTRS5wb2ludC54O1xuICAgICAgICAvLyBjaGVjayBpZiB0aGV5J3JlIGV2ZW4gaW4gdGhlIHNhbWUgdmVydGljYWwgcGxhbmVcbiAgICAgICAgaWYgKGJyeC5pc0xlc3NUaGFuKGFseCkpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgaWYgKGFyeC5pc0xlc3NUaGFuKGJseCkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGNvbnN0IGFseSA9IGEubGVmdFNFLnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IGJseSA9IGIubGVmdFNFLnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IGFyeSA9IGEucmlnaHRTRS5wb2ludC55O1xuICAgICAgICBjb25zdCBicnkgPSBiLnJpZ2h0U0UucG9pbnQueTtcbiAgICAgICAgLy8gaXMgbGVmdCBlbmRwb2ludCBvZiBzZWdtZW50IEIgdGhlIHJpZ2h0LW1vcmU/XG4gICAgICAgIGlmIChhbHguaXNMZXNzVGhhbihibHgpKSB7XG4gICAgICAgICAgICAvLyBhcmUgdGhlIHR3byBzZWdtZW50cyBpbiB0aGUgc2FtZSBob3Jpem9udGFsIHBsYW5lP1xuICAgICAgICAgICAgaWYgKGJseS5pc0xlc3NUaGFuKGFseSkgJiYgYmx5LmlzTGVzc1RoYW4oYXJ5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChibHkuaXNHcmVhdGVyVGhhbihhbHkpICYmIGJseS5pc0dyZWF0ZXJUaGFuKGFyeSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgLy8gaXMgdGhlIEIgbGVmdCBlbmRwb2ludCBjb2xpbmVhciB0byBzZWdtZW50IEE/XG4gICAgICAgICAgICBjb25zdCBhQ21wQkxlZnQgPSBhLmNvbXBhcmVQb2ludChiLmxlZnRTRS5wb2ludCk7XG4gICAgICAgICAgICBpZiAoYUNtcEJMZWZ0IDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChhQ21wQkxlZnQgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIC8vIGlzIHRoZSBBIHJpZ2h0IGVuZHBvaW50IGNvbGluZWFyIHRvIHNlZ21lbnQgQiA/XG4gICAgICAgICAgICBjb25zdCBiQ21wQVJpZ2h0ID0gYi5jb21wYXJlUG9pbnQoYS5yaWdodFNFLnBvaW50KTtcbiAgICAgICAgICAgIGlmIChiQ21wQVJpZ2h0ICE9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBiQ21wQVJpZ2h0O1xuICAgICAgICAgICAgLy8gY29saW5lYXIgc2VnbWVudHMsIGNvbnNpZGVyIHRoZSBvbmUgd2l0aCBsZWZ0LW1vcmVcbiAgICAgICAgICAgIC8vIGxlZnQgZW5kcG9pbnQgdG8gYmUgZmlyc3QgKGFyYml0cmFyeT8pXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXMgbGVmdCBlbmRwb2ludCBvZiBzZWdtZW50IEEgdGhlIHJpZ2h0LW1vcmU/XG4gICAgICAgIGlmIChhbHguaXNHcmVhdGVyVGhhbihibHgpKSB7XG4gICAgICAgICAgICBpZiAoYWx5LmlzTGVzc1RoYW4oYmx5KSAmJiBhbHkuaXNMZXNzVGhhbihicnkpKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhbHkuaXNHcmVhdGVyVGhhbihibHkpICYmIGFseS5pc0dyZWF0ZXJUaGFuKGJyeSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAvLyBpcyB0aGUgQSBsZWZ0IGVuZHBvaW50IGNvbGluZWFyIHRvIHNlZ21lbnQgQj9cbiAgICAgICAgICAgIGNvbnN0IGJDbXBBTGVmdCA9IGIuY29tcGFyZVBvaW50KGEubGVmdFNFLnBvaW50KTtcbiAgICAgICAgICAgIGlmIChiQ21wQUxlZnQgIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJDbXBBTGVmdDtcbiAgICAgICAgICAgIC8vIGlzIHRoZSBCIHJpZ2h0IGVuZHBvaW50IGNvbGluZWFyIHRvIHNlZ21lbnQgQT9cbiAgICAgICAgICAgIGNvbnN0IGFDbXBCUmlnaHQgPSBhLmNvbXBhcmVQb2ludChiLnJpZ2h0U0UucG9pbnQpO1xuICAgICAgICAgICAgaWYgKGFDbXBCUmlnaHQgPCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGFDbXBCUmlnaHQgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIC8vIGNvbGluZWFyIHNlZ21lbnRzLCBjb25zaWRlciB0aGUgb25lIHdpdGggbGVmdC1tb3JlXG4gICAgICAgICAgICAvLyBsZWZ0IGVuZHBvaW50IHRvIGJlIGZpcnN0IChhcmJpdHJhcnk/KVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgZ2V0IGhlcmUsIHRoZSB0d28gbGVmdCBlbmRwb2ludHMgYXJlIGluIHRoZSBzYW1lXG4gICAgICAgIC8vIHZlcnRpY2FsIHBsYW5lLCBpZSBhbHggPT09IGJseFxuICAgICAgICAvLyBjb25zaWRlciB0aGUgbG93ZXIgbGVmdC1lbmRwb2ludCB0byBjb21lIGZpcnN0XG4gICAgICAgIGlmIChhbHkuaXNMZXNzVGhhbihibHkpKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBpZiAoYWx5LmlzR3JlYXRlclRoYW4oYmx5KSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAvLyBsZWZ0IGVuZHBvaW50cyBhcmUgaWRlbnRpY2FsXG4gICAgICAgIC8vIGNoZWNrIGZvciBjb2xpbmVhcml0eSBieSB1c2luZyB0aGUgbGVmdC1tb3JlIHJpZ2h0IGVuZHBvaW50XG4gICAgICAgIC8vIGlzIHRoZSBBIHJpZ2h0IGVuZHBvaW50IG1vcmUgbGVmdC1tb3JlP1xuICAgICAgICBpZiAoYXJ4LmlzTGVzc1RoYW4oYnJ4KSkge1xuICAgICAgICAgICAgY29uc3QgYkNtcEFSaWdodCA9IGIuY29tcGFyZVBvaW50KGEucmlnaHRTRS5wb2ludCk7XG4gICAgICAgICAgICBpZiAoYkNtcEFSaWdodCAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gYkNtcEFSaWdodDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpcyB0aGUgQiByaWdodCBlbmRwb2ludCBtb3JlIGxlZnQtbW9yZT9cbiAgICAgICAgaWYgKGFyeC5pc0dyZWF0ZXJUaGFuKGJyeCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFDbXBCUmlnaHQgPSBhLmNvbXBhcmVQb2ludChiLnJpZ2h0U0UucG9pbnQpO1xuICAgICAgICAgICAgaWYgKGFDbXBCUmlnaHQgPCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGFDbXBCUmlnaHQgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFyeC5lcShicngpKSB7XG4gICAgICAgICAgICAvLyBhcmUgdGhlc2UgdHdvIFthbG1vc3RdIHZlcnRpY2FsIHNlZ21lbnRzIHdpdGggb3Bwb3NpdGUgb3JpZW50YXRpb24/XG4gICAgICAgICAgICAvLyBpZiBzbywgdGhlIG9uZSB3aXRoIHRoZSBsb3dlciByaWdodCBlbmRwb2ludCBjb21lcyBmaXJzdFxuICAgICAgICAgICAgY29uc3QgYXkgPSBhcnkubWludXMoYWx5KTtcbiAgICAgICAgICAgIGNvbnN0IGF4ID0gYXJ4Lm1pbnVzKGFseCk7XG4gICAgICAgICAgICBjb25zdCBieSA9IGJyeS5taW51cyhibHkpO1xuICAgICAgICAgICAgY29uc3QgYnggPSBicngubWludXMoYmx4KTtcbiAgICAgICAgICAgIGlmIChheS5pc0dyZWF0ZXJUaGFuKGF4KSAmJiBieS5pc0xlc3NUaGFuKGJ4KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChheS5pc0xlc3NUaGFuKGF4KSAmJiBieS5pc0dyZWF0ZXJUaGFuKGJ4KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgaGF2ZSBjb2xpbmVhciBzZWdtZW50cyB3aXRoIG1hdGNoaW5nIG9yaWVudGF0aW9uXG4gICAgICAgIC8vIGNvbnNpZGVyIHRoZSBvbmUgd2l0aCBtb3JlIGxlZnQtbW9yZSByaWdodCBlbmRwb2ludCB0byBiZSBmaXJzdFxuICAgICAgICBpZiAoYXJ4LmlzR3JlYXRlclRoYW4oYnJ4KSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBpZiAoYXJ4LmlzTGVzc1RoYW4oYnJ4KSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgLy8gaWYgd2UgZ2V0IGhlcmUsIHR3byB0d28gcmlnaHQgZW5kcG9pbnRzIGFyZSBpbiB0aGUgc2FtZVxuICAgICAgICAvLyB2ZXJ0aWNhbCBwbGFuZSwgaWUgYXJ4ID09PSBicnhcbiAgICAgICAgLy8gY29uc2lkZXIgdGhlIGxvd2VyIHJpZ2h0LWVuZHBvaW50IHRvIGNvbWUgZmlyc3RcbiAgICAgICAgaWYgKGFyeS5pc0xlc3NUaGFuKGJyeSkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhcnkuaXNHcmVhdGVyVGhhbihicnkpKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIC8vIHJpZ2h0IGVuZHBvaW50cyBpZGVudGljYWwgYXMgd2VsbCwgc28gdGhlIHNlZ21lbnRzIGFyZSBpZGVudGlhbFxuICAgICAgICAvLyBmYWxsIGJhY2sgb24gY3JlYXRpb24gb3JkZXIgYXMgY29uc2lzdGVudCB0aWUtYnJlYWtlclxuICAgICAgICBpZiAoYS5pZCA8IGIuaWQpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhLmlkID4gYi5pZClcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAvLyBpZGVudGljYWwgc2VnbWVudCwgaWUgYSA9PT0gYlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLyogV2FybmluZzogYSByZWZlcmVuY2UgdG8gcmluZ1dpbmRpbmdzIGlucHV0IHdpbGwgYmUgc3RvcmVkLFxuICAgICAqICBhbmQgcG9zc2libHkgd2lsbCBiZSBsYXRlciBtb2RpZmllZCAqL1xuICAgIGNvbnN0cnVjdG9yKGxlZnRTRSwgcmlnaHRTRSwgcmluZ3MsIHdpbmRpbmdzKSB7XG4gICAgICAgIHRoaXMuaWQgPSArK3NlZ21lbnRJZDtcbiAgICAgICAgdGhpcy5sZWZ0U0UgPSBsZWZ0U0U7XG4gICAgICAgIGxlZnRTRS5zZWdtZW50ID0gdGhpcztcbiAgICAgICAgbGVmdFNFLm90aGVyU0UgPSByaWdodFNFO1xuICAgICAgICB0aGlzLnJpZ2h0U0UgPSByaWdodFNFO1xuICAgICAgICByaWdodFNFLnNlZ21lbnQgPSB0aGlzO1xuICAgICAgICByaWdodFNFLm90aGVyU0UgPSBsZWZ0U0U7XG4gICAgICAgIHRoaXMucmluZ3MgPSByaW5ncztcbiAgICAgICAgdGhpcy53aW5kaW5ncyA9IHdpbmRpbmdzO1xuICAgICAgICAvLyBsZWZ0IHVuc2V0IGZvciBwZXJmb3JtYW5jZSwgc2V0IGxhdGVyIGluIGFsZ29yaXRobVxuICAgICAgICAvLyB0aGlzLnJpbmdPdXQsIHRoaXMuY29uc3VtZWRCeSwgdGhpcy5wcmV2XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUmluZyhwdDEsIHB0MiwgcmluZykge1xuICAgICAgICBsZXQgbGVmdFB0LCByaWdodFB0LCB3aW5kaW5nO1xuICAgICAgICAvLyBvcmRlcmluZyB0aGUgdHdvIHBvaW50cyBhY2NvcmRpbmcgdG8gc3dlZXAgbGluZSBvcmRlcmluZ1xuICAgICAgICBjb25zdCBjbXBQdHMgPSBTd2VlcEV2ZW50LmNvbXBhcmVQb2ludHMocHQxLCBwdDIpO1xuICAgICAgICBpZiAoY21wUHRzIDwgMCkge1xuICAgICAgICAgICAgbGVmdFB0ID0gcHQxO1xuICAgICAgICAgICAgcmlnaHRQdCA9IHB0MjtcbiAgICAgICAgICAgIHdpbmRpbmcgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNtcFB0cyA+IDApIHtcbiAgICAgICAgICAgIGxlZnRQdCA9IHB0MjtcbiAgICAgICAgICAgIHJpZ2h0UHQgPSBwdDE7XG4gICAgICAgICAgICB3aW5kaW5nID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUcmllZCB0byBjcmVhdGUgZGVnZW5lcmF0ZSBzZWdtZW50IGF0IFske3B0MS54fSwgJHtwdDEueX1dYCk7XG4gICAgICAgIGNvbnN0IGxlZnRTRSA9IG5ldyBTd2VlcEV2ZW50KGxlZnRQdCwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0U0UgPSBuZXcgU3dlZXBFdmVudChyaWdodFB0LCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBuZXcgU2VnbWVudChsZWZ0U0UsIHJpZ2h0U0UsIFtyaW5nXSwgW3dpbmRpbmddKTtcbiAgICB9XG4gICAgLyogV2hlbiBhIHNlZ21lbnQgaXMgc3BsaXQsIHRoZSByaWdodFNFIGlzIHJlcGxhY2VkIHdpdGggYSBuZXcgc3dlZXAgZXZlbnQgKi9cbiAgICByZXBsYWNlUmlnaHRTRShuZXdSaWdodFNFKSB7XG4gICAgICAgIHRoaXMucmlnaHRTRSA9IG5ld1JpZ2h0U0U7XG4gICAgICAgIHRoaXMucmlnaHRTRS5zZWdtZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5yaWdodFNFLm90aGVyU0UgPSB0aGlzLmxlZnRTRTtcbiAgICAgICAgdGhpcy5sZWZ0U0Uub3RoZXJTRSA9IHRoaXMucmlnaHRTRTtcbiAgICB9XG4gICAgYmJveCgpIHtcbiAgICAgICAgY29uc3QgeTEgPSB0aGlzLmxlZnRTRS5wb2ludC55O1xuICAgICAgICBjb25zdCB5MiA9IHRoaXMucmlnaHRTRS5wb2ludC55O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGw6IHsgeDogdGhpcy5sZWZ0U0UucG9pbnQueCwgeTogeTEuaXNMZXNzVGhhbih5MikgPyB5MSA6IHkyIH0sXG4gICAgICAgICAgICB1cjogeyB4OiB0aGlzLnJpZ2h0U0UucG9pbnQueCwgeTogeTEuaXNHcmVhdGVyVGhhbih5MikgPyB5MSA6IHkyIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qIEEgdmVjdG9yIGZyb20gdGhlIGxlZnQgcG9pbnQgdG8gdGhlIHJpZ2h0ICovXG4gICAgdmVjdG9yKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy5yaWdodFNFLnBvaW50LngubWludXModGhpcy5sZWZ0U0UucG9pbnQueCksXG4gICAgICAgICAgICB5OiB0aGlzLnJpZ2h0U0UucG9pbnQueS5taW51cyh0aGlzLmxlZnRTRS5wb2ludC55KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaXNBbkVuZHBvaW50KHB0KSB7XG4gICAgICAgIHJldHVybiAoKHB0LnguZXEodGhpcy5sZWZ0U0UucG9pbnQueCkgJiYgcHQueS5lcSh0aGlzLmxlZnRTRS5wb2ludC55KSkgfHxcbiAgICAgICAgICAgIChwdC54LmVxKHRoaXMucmlnaHRTRS5wb2ludC54KSAmJiBwdC55LmVxKHRoaXMucmlnaHRTRS5wb2ludC55KSkpO1xuICAgIH1cbiAgICAvKiBDb21wYXJlIHRoaXMgc2VnbWVudCB3aXRoIGEgcG9pbnQuXG4gICAgICpcbiAgICAgKiBBIHBvaW50IFAgaXMgY29uc2lkZXJlZCB0byBiZSBjb2xpbmVhciB0byBhIHNlZ21lbnQgaWYgdGhlcmVcbiAgICAgKiBleGlzdHMgYSBkaXN0YW5jZSBEIHN1Y2ggdGhhdCBpZiB3ZSB0cmF2ZWwgYWxvbmcgdGhlIHNlZ21lbnRcbiAgICAgKiBmcm9tIG9uZSAqIGVuZHBvaW50IHRvd2FyZHMgdGhlIG90aGVyIGEgZGlzdGFuY2UgRCwgd2UgZmluZFxuICAgICAqIG91cnNlbHZlcyBhdCBwb2ludCBQLlxuICAgICAqXG4gICAgICogUmV0dXJuIHZhbHVlIGluZGljYXRlczpcbiAgICAgKlxuICAgICAqICAgMTogcG9pbnQgbGllcyBhYm92ZSB0aGUgc2VnbWVudCAodG8gdGhlIGxlZnQgb2YgdmVydGljYWwpXG4gICAgICogICAwOiBwb2ludCBpcyBjb2xpbmVhciB0byBzZWdtZW50XG4gICAgICogIC0xOiBwb2ludCBsaWVzIGJlbG93IHRoZSBzZWdtZW50ICh0byB0aGUgcmlnaHQgb2YgdmVydGljYWwpXG4gICAgICovXG4gICAgY29tcGFyZVBvaW50KHBvaW50KSB7XG4gICAgICAgIHJldHVybiBwcmVjaXNpb24ub3JpZW50KHRoaXMubGVmdFNFLnBvaW50LCBwb2ludCwgdGhpcy5yaWdodFNFLnBvaW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYW5vdGhlciBzZWdtZW50LCByZXR1cm5zIHRoZSBmaXJzdCBub24tdHJpdmlhbCBpbnRlcnNlY3Rpb25cbiAgICAgKiBiZXR3ZWVuIHRoZSB0d28gc2VnbWVudHMgKGluIHRlcm1zIG9mIHN3ZWVwIGxpbmUgb3JkZXJpbmcpLCBpZiBpdCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBBICdub24tdHJpdmlhbCcgaW50ZXJzZWN0aW9uIGlzIG9uZSB0aGF0IHdpbGwgY2F1c2Ugb25lIG9yIGJvdGggb2YgdGhlXG4gICAgICogc2VnbWVudHMgdG8gYmUgc3BsaXQoKS4gQXMgc3VjaCwgJ3RyaXZpYWwnIHZzLiAnbm9uLXRyaXZpYWwnIGludGVyc2VjdGlvbjpcbiAgICAgKlxuICAgICAqICAgKiBlbmRwb2ludCBvZiBzZWdBIHdpdGggZW5kcG9pbnQgb2Ygc2VnQiAtLT4gdHJpdmlhbFxuICAgICAqICAgKiBlbmRwb2ludCBvZiBzZWdBIHdpdGggcG9pbnQgYWxvbmcgc2VnQiAtLT4gbm9uLXRyaXZpYWxcbiAgICAgKiAgICogZW5kcG9pbnQgb2Ygc2VnQiB3aXRoIHBvaW50IGFsb25nIHNlZ0EgLS0+IG5vbi10cml2aWFsXG4gICAgICogICAqIHBvaW50IGFsb25nIHNlZ0Egd2l0aCBwb2ludCBhbG9uZyBzZWdCIC0tPiBub24tdHJpdmlhbFxuICAgICAqXG4gICAgICogSWYgbm8gbm9uLXRyaXZpYWwgaW50ZXJzZWN0aW9uIGV4aXN0cywgcmV0dXJuIG51bGxcbiAgICAgKiBFbHNlLCByZXR1cm4gbnVsbC5cbiAgICAgKi9cbiAgICBnZXRJbnRlcnNlY3Rpb24ob3RoZXIpIHtcbiAgICAgICAgLy8gSWYgYmJveGVzIGRvbid0IG92ZXJsYXAsIHRoZXJlIGNhbid0IGJlIGFueSBpbnRlcnNlY3Rpb25zXG4gICAgICAgIGNvbnN0IHRCYm94ID0gdGhpcy5iYm94KCk7XG4gICAgICAgIGNvbnN0IG9CYm94ID0gb3RoZXIuYmJveCgpO1xuICAgICAgICBjb25zdCBiYm94T3ZlcmxhcCA9IGdldEJib3hPdmVybGFwKHRCYm94LCBvQmJveCk7XG4gICAgICAgIGlmIChiYm94T3ZlcmxhcCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAvLyBXZSBmaXJzdCBjaGVjayB0byBzZWUgaWYgdGhlIGVuZHBvaW50cyBjYW4gYmUgY29uc2lkZXJlZCBpbnRlcnNlY3Rpb25zLlxuICAgICAgICAvLyBUaGlzIHdpbGwgJ3NuYXAnIGludGVyc2VjdGlvbnMgdG8gZW5kcG9pbnRzIGlmIHBvc3NpYmxlLCBhbmQgd2lsbFxuICAgICAgICAvLyBoYW5kbGUgY2FzZXMgb2YgY29saW5lYXJpdHkuXG4gICAgICAgIGNvbnN0IHRscCA9IHRoaXMubGVmdFNFLnBvaW50O1xuICAgICAgICBjb25zdCB0cnAgPSB0aGlzLnJpZ2h0U0UucG9pbnQ7XG4gICAgICAgIGNvbnN0IG9scCA9IG90aGVyLmxlZnRTRS5wb2ludDtcbiAgICAgICAgY29uc3Qgb3JwID0gb3RoZXIucmlnaHRTRS5wb2ludDtcbiAgICAgICAgLy8gZG9lcyBlYWNoIGVuZHBvaW50IHRvdWNoIHRoZSBvdGhlciBzZWdtZW50P1xuICAgICAgICAvLyBub3RlIHRoYXQgd2UgcmVzdHJpY3QgdGhlICd0b3VjaGluZycgZGVmaW5pdGlvbiB0byBvbmx5IGFsbG93IHNlZ21lbnRzXG4gICAgICAgIC8vIHRvIHRvdWNoIGVuZHBvaW50cyB0aGF0IGxpZSBmb3J3YXJkIGZyb20gd2hlcmUgd2UgYXJlIGluIHRoZSBzd2VlcCBsaW5lIHBhc3NcbiAgICAgICAgY29uc3QgdG91Y2hlc090aGVyTFNFID0gaXNJbkJib3godEJib3gsIG9scCkgJiYgdGhpcy5jb21wYXJlUG9pbnQob2xwKSA9PT0gMDtcbiAgICAgICAgY29uc3QgdG91Y2hlc1RoaXNMU0UgPSBpc0luQmJveChvQmJveCwgdGxwKSAmJiBvdGhlci5jb21wYXJlUG9pbnQodGxwKSA9PT0gMDtcbiAgICAgICAgY29uc3QgdG91Y2hlc090aGVyUlNFID0gaXNJbkJib3godEJib3gsIG9ycCkgJiYgdGhpcy5jb21wYXJlUG9pbnQob3JwKSA9PT0gMDtcbiAgICAgICAgY29uc3QgdG91Y2hlc1RoaXNSU0UgPSBpc0luQmJveChvQmJveCwgdHJwKSAmJiBvdGhlci5jb21wYXJlUG9pbnQodHJwKSA9PT0gMDtcbiAgICAgICAgLy8gZG8gbGVmdCBlbmRwb2ludHMgbWF0Y2g/XG4gICAgICAgIGlmICh0b3VjaGVzVGhpc0xTRSAmJiB0b3VjaGVzT3RoZXJMU0UpIHtcbiAgICAgICAgICAgIC8vIHRoZXNlIHR3byBjYXNlcyBhcmUgZm9yIGNvbGluZWFyIHNlZ21lbnRzIHdpdGggbWF0Y2hpbmcgbGVmdFxuICAgICAgICAgICAgLy8gZW5kcG9pbnRzLCBhbmQgb25lIHNlZ21lbnQgYmVpbmcgbG9uZ2VyIHRoYW4gdGhlIG90aGVyXG4gICAgICAgICAgICBpZiAodG91Y2hlc1RoaXNSU0UgJiYgIXRvdWNoZXNPdGhlclJTRSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJwO1xuICAgICAgICAgICAgaWYgKCF0b3VjaGVzVGhpc1JTRSAmJiB0b3VjaGVzT3RoZXJSU0UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ycDtcbiAgICAgICAgICAgIC8vIGVpdGhlciB0aGUgdHdvIHNlZ21lbnRzIG1hdGNoIGV4YWN0bHkgKHR3byB0cml2YWwgaW50ZXJzZWN0aW9ucylcbiAgICAgICAgICAgIC8vIG9yIGp1c3Qgb24gdGhlaXIgbGVmdCBlbmRwb2ludCAob25lIHRyaXZpYWwgaW50ZXJzZWN0aW9uXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb2VzIHRoaXMgbGVmdCBlbmRwb2ludCBtYXRjaGVzIChvdGhlciBkb2Vzbid0KVxuICAgICAgICBpZiAodG91Y2hlc1RoaXNMU0UpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBzZWdtZW50cyB0aGF0IGp1c3QgaW50ZXJzZWN0IG9uIG9wcG9zaW5nIGVuZHBvaW50c1xuICAgICAgICAgICAgaWYgKHRvdWNoZXNPdGhlclJTRSkge1xuICAgICAgICAgICAgICAgIGlmICh0bHAueC5lcShvcnAueCkgJiYgdGxwLnkuZXEob3JwLnkpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHQtaW50ZXJzZWN0aW9uIG9uIGxlZnQgZW5kcG9pbnRcbiAgICAgICAgICAgIHJldHVybiB0bHA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9lcyBvdGhlciBsZWZ0IGVuZHBvaW50IG1hdGNoZXMgKHRoaXMgZG9lc24ndClcbiAgICAgICAgaWYgKHRvdWNoZXNPdGhlckxTRSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNlZ21lbnRzIHRoYXQganVzdCBpbnRlcnNlY3Qgb24gb3Bwb3NpbmcgZW5kcG9pbnRzXG4gICAgICAgICAgICBpZiAodG91Y2hlc1RoaXNSU0UpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJwLnguZXEob2xwLngpICYmIHRycC55LmVxKG9scC55KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0LWludGVyc2VjdGlvbiBvbiBsZWZ0IGVuZHBvaW50XG4gICAgICAgICAgICByZXR1cm4gb2xwO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRyaXZpYWwgaW50ZXJzZWN0aW9uIG9uIHJpZ2h0IGVuZHBvaW50c1xuICAgICAgICBpZiAodG91Y2hlc1RoaXNSU0UgJiYgdG91Y2hlc090aGVyUlNFKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIHQtaW50ZXJzZWN0aW9ucyBvbiBqdXN0IG9uZSByaWdodCBlbmRwb2ludFxuICAgICAgICBpZiAodG91Y2hlc1RoaXNSU0UpXG4gICAgICAgICAgICByZXR1cm4gdHJwO1xuICAgICAgICBpZiAodG91Y2hlc090aGVyUlNFKVxuICAgICAgICAgICAgcmV0dXJuIG9ycDtcbiAgICAgICAgLy8gTm9uZSBvZiBvdXIgZW5kcG9pbnRzIGludGVyc2VjdC4gTG9vayBmb3IgYSBnZW5lcmFsIGludGVyc2VjdGlvbiBiZXR3ZWVuXG4gICAgICAgIC8vIGluZmluaXRlIGxpbmVzIGxhaWQgb3ZlciB0aGUgc2VnbWVudHNcbiAgICAgICAgY29uc3QgcHQgPSBpbnRlcnNlY3Rpb24odGxwLCB0aGlzLnZlY3RvcigpLCBvbHAsIG90aGVyLnZlY3RvcigpKTtcbiAgICAgICAgLy8gYXJlIHRoZSBzZWdtZW50cyBwYXJyYWxsZWw/IE5vdGUgdGhhdCBpZiB0aGV5IHdlcmUgY29saW5lYXIgd2l0aCBvdmVybGFwLFxuICAgICAgICAvLyB0aGV5IHdvdWxkIGhhdmUgYW4gZW5kcG9pbnQgaW50ZXJzZWN0aW9uIGFuZCB0aGF0IGNhc2Ugd2FzIGFscmVhZHkgaGFuZGxlZCBhYm92ZVxuICAgICAgICBpZiAocHQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gaXMgdGhlIGludGVyc2VjdGlvbiBmb3VuZCBiZXR3ZWVuIHRoZSBsaW5lcyBub3Qgb24gdGhlIHNlZ21lbnRzP1xuICAgICAgICBpZiAoIWlzSW5CYm94KGJib3hPdmVybGFwLCBwdCkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gcm91bmQgdGhlIHRoZSBjb21wdXRlZCBwb2ludCBpZiBuZWVkZWRcbiAgICAgICAgcmV0dXJuIHByZWNpc2lvbi5zbmFwKHB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3BsaXQgdGhlIGdpdmVuIHNlZ21lbnQgaW50byBtdWx0aXBsZSBzZWdtZW50cyBvbiB0aGUgZ2l2ZW4gcG9pbnRzLlxuICAgICAqICAqIEVhY2ggZXhpc3Rpbmcgc2VnbWVudCB3aWxsIHJldGFpbiBpdHMgbGVmdFNFIGFuZCBhIG5ldyByaWdodFNFIHdpbGwgYmVcbiAgICAgKiAgICBnZW5lcmF0ZWQgZm9yIGl0LlxuICAgICAqICAqIEEgbmV3IHNlZ21lbnQgd2lsbCBiZSBnZW5lcmF0ZWQgd2hpY2ggd2lsbCBhZG9wdCB0aGUgb3JpZ2luYWwgc2VnbWVudCdzXG4gICAgICogICAgcmlnaHRTRSwgYW5kIGEgbmV3IGxlZnRTRSB3aWxsIGJlIGdlbmVyYXRlZCBmb3IgaXQuXG4gICAgICogICogSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiB0d28gcG9pbnRzIGdpdmVuIHRvIHNwbGl0IG9uLCBuZXcgc2VnbWVudHNcbiAgICAgKiAgICBpbiB0aGUgbWlkZGxlIHdpbGwgYmUgZ2VuZXJhdGVkIHdpdGggbmV3IGxlZnRTRSBhbmQgcmlnaHRTRSdzLlxuICAgICAqICAqIEFuIGFycmF5IG9mIHRoZSBuZXdseSBnZW5lcmF0ZWQgU3dlZXBFdmVudHMgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIFdhcm5pbmc6IGlucHV0IGFycmF5IG9mIHBvaW50cyBpcyBtb2RpZmllZFxuICAgICAqL1xuICAgIHNwbGl0KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IG5ld0V2ZW50cyA9IFtdO1xuICAgICAgICBjb25zdCBhbHJlYWR5TGlua2VkID0gcG9pbnQuZXZlbnRzICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG5ld0xlZnRTRSA9IG5ldyBTd2VlcEV2ZW50KHBvaW50LCB0cnVlKTtcbiAgICAgICAgY29uc3QgbmV3UmlnaHRTRSA9IG5ldyBTd2VlcEV2ZW50KHBvaW50LCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG9sZFJpZ2h0U0UgPSB0aGlzLnJpZ2h0U0U7XG4gICAgICAgIHRoaXMucmVwbGFjZVJpZ2h0U0UobmV3UmlnaHRTRSk7XG4gICAgICAgIG5ld0V2ZW50cy5wdXNoKG5ld1JpZ2h0U0UpO1xuICAgICAgICBuZXdFdmVudHMucHVzaChuZXdMZWZ0U0UpO1xuICAgICAgICBjb25zdCBuZXdTZWcgPSBuZXcgU2VnbWVudChuZXdMZWZ0U0UsIG9sZFJpZ2h0U0UsIHRoaXMucmluZ3Muc2xpY2UoKSwgdGhpcy53aW5kaW5ncy5zbGljZSgpKTtcbiAgICAgICAgLy8gd2hlbiBzcGxpdHRpbmcgYSBuZWFybHkgdmVydGljYWwgZG93bndhcmQtZmFjaW5nIHNlZ21lbnQsXG4gICAgICAgIC8vIHNvbWV0aW1lcyBvbmUgb2YgdGhlIHJlc3VsdGluZyBuZXcgc2VnbWVudHMgaXMgdmVydGljYWwsIGluIHdoaWNoXG4gICAgICAgIC8vIGNhc2UgaXRzIGxlZnQgYW5kIHJpZ2h0IGV2ZW50cyBtYXkgbmVlZCB0byBiZSBzd2FwcGVkXG4gICAgICAgIGlmIChTd2VlcEV2ZW50LmNvbXBhcmVQb2ludHMobmV3U2VnLmxlZnRTRS5wb2ludCwgbmV3U2VnLnJpZ2h0U0UucG9pbnQpID4gMCkge1xuICAgICAgICAgICAgbmV3U2VnLnN3YXBFdmVudHMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3dlZXBFdmVudC5jb21wYXJlUG9pbnRzKHRoaXMubGVmdFNFLnBvaW50LCB0aGlzLnJpZ2h0U0UucG9pbnQpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zd2FwRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW4gdGhlIHBvaW50IHdlIGp1c3QgdXNlZCB0byBjcmVhdGUgbmV3IHN3ZWVwIGV2ZW50cyB3aXRoIHdhcyBhbHJlYWR5XG4gICAgICAgIC8vIGxpbmtlZCB0byBvdGhlciBldmVudHMsIHdlIG5lZWQgdG8gY2hlY2sgaWYgZWl0aGVyIG9mIHRoZSBhZmZlY3RlZFxuICAgICAgICAvLyBzZWdtZW50cyBzaG91bGQgYmUgY29uc3VtZWRcbiAgICAgICAgaWYgKGFscmVhZHlMaW5rZWQpIHtcbiAgICAgICAgICAgIG5ld0xlZnRTRS5jaGVja0ZvckNvbnN1bWluZygpO1xuICAgICAgICAgICAgbmV3UmlnaHRTRS5jaGVja0ZvckNvbnN1bWluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdFdmVudHM7XG4gICAgfVxuICAgIC8qIFN3YXAgd2hpY2ggZXZlbnQgaXMgbGVmdCBhbmQgcmlnaHQgKi9cbiAgICBzd2FwRXZlbnRzKCkge1xuICAgICAgICBjb25zdCB0bXBFdnQgPSB0aGlzLnJpZ2h0U0U7XG4gICAgICAgIHRoaXMucmlnaHRTRSA9IHRoaXMubGVmdFNFO1xuICAgICAgICB0aGlzLmxlZnRTRSA9IHRtcEV2dDtcbiAgICAgICAgdGhpcy5sZWZ0U0UuaXNMZWZ0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yaWdodFNFLmlzTGVmdCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHRoaXMud2luZGluZ3MubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLndpbmRpbmdzW2ldICo9IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIENvbnN1bWUgYW5vdGhlciBzZWdtZW50LiBXZSB0YWtlIHRoZWlyIHJpbmdzIHVuZGVyIG91ciB3aW5nXG4gICAgICogYW5kIG1hcmsgdGhlbSBhcyBjb25zdW1lZC4gVXNlIGZvciBwZXJmZWN0bHkgb3ZlcmxhcHBpbmcgc2VnbWVudHMgKi9cbiAgICBjb25zdW1lKG90aGVyKSB7XG4gICAgICAgIGxldCBjb25zdW1lciA9IHRoaXM7XG4gICAgICAgIGxldCBjb25zdW1lZSA9IG90aGVyO1xuICAgICAgICB3aGlsZSAoY29uc3VtZXIuY29uc3VtZWRCeSlcbiAgICAgICAgICAgIGNvbnN1bWVyID0gY29uc3VtZXIuY29uc3VtZWRCeTtcbiAgICAgICAgd2hpbGUgKGNvbnN1bWVlLmNvbnN1bWVkQnkpXG4gICAgICAgICAgICBjb25zdW1lZSA9IGNvbnN1bWVlLmNvbnN1bWVkQnk7XG4gICAgICAgIGNvbnN0IGNtcCA9IFNlZ21lbnQuY29tcGFyZShjb25zdW1lciwgY29uc3VtZWUpO1xuICAgICAgICBpZiAoY21wID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuOyAvLyBhbHJlYWR5IGNvbnN1bWVkXG4gICAgICAgIC8vIHRoZSB3aW5uZXIgb2YgdGhlIGNvbnN1bXB0aW9uIGlzIHRoZSBlYXJsaWVyIHNlZ21lbnRcbiAgICAgICAgLy8gYWNjb3JkaW5nIHRvIHN3ZWVwIGxpbmUgb3JkZXJpbmdcbiAgICAgICAgaWYgKGNtcCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGNvbnN1bWVyO1xuICAgICAgICAgICAgY29uc3VtZXIgPSBjb25zdW1lZTtcbiAgICAgICAgICAgIGNvbnN1bWVlID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSBhIHNlZ21lbnQgZG9lc24ndCBjb25zdW1lIGl0J3MgcHJldlxuICAgICAgICBpZiAoY29uc3VtZXIucHJldiA9PT0gY29uc3VtZWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGNvbnN1bWVyO1xuICAgICAgICAgICAgY29uc3VtZXIgPSBjb25zdW1lZTtcbiAgICAgICAgICAgIGNvbnN1bWVlID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gY29uc3VtZWUucmluZ3MubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByaW5nID0gY29uc3VtZWUucmluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCB3aW5kaW5nID0gY29uc3VtZWUud2luZGluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGNvbnN1bWVyLnJpbmdzLmluZGV4T2YocmluZyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3VtZXIucmluZ3MucHVzaChyaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdW1lci53aW5kaW5ncy5wdXNoKHdpbmRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGNvbnN1bWVyLndpbmRpbmdzW2luZGV4XSArPSB3aW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN1bWVlLnJpbmdzID0gbnVsbDtcbiAgICAgICAgY29uc3VtZWUud2luZGluZ3MgPSBudWxsO1xuICAgICAgICBjb25zdW1lZS5jb25zdW1lZEJ5ID0gY29uc3VtZXI7XG4gICAgICAgIC8vIG1hcmsgc3dlZXAgZXZlbnRzIGNvbnN1bWVkIGFzIHRvIG1haW50YWluIG9yZGVyaW5nIGluIHN3ZWVwIGV2ZW50IHF1ZXVlXG4gICAgICAgIGNvbnN1bWVlLmxlZnRTRS5jb25zdW1lZEJ5ID0gY29uc3VtZXIubGVmdFNFO1xuICAgICAgICBjb25zdW1lZS5yaWdodFNFLmNvbnN1bWVkQnkgPSBjb25zdW1lci5yaWdodFNFO1xuICAgIH1cbiAgICAvKiBUaGUgZmlyc3Qgc2VnbWVudCBwcmV2aW91cyBzZWdtZW50IGNoYWluIHRoYXQgaXMgaW4gdGhlIHJlc3VsdCAqL1xuICAgIHByZXZJblJlc3VsdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ByZXZJblJlc3VsdCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZJblJlc3VsdDtcbiAgICAgICAgaWYgKCF0aGlzLnByZXYpXG4gICAgICAgICAgICB0aGlzLl9wcmV2SW5SZXN1bHQgPSBudWxsO1xuICAgICAgICBlbHNlIGlmICh0aGlzLnByZXYuaXNJblJlc3VsdCgpKVxuICAgICAgICAgICAgdGhpcy5fcHJldkluUmVzdWx0ID0gdGhpcy5wcmV2O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLl9wcmV2SW5SZXN1bHQgPSB0aGlzLnByZXYucHJldkluUmVzdWx0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmV2SW5SZXN1bHQ7XG4gICAgfVxuICAgIGJlZm9yZVN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fYmVmb3JlU3RhdGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iZWZvcmVTdGF0ZTtcbiAgICAgICAgaWYgKCF0aGlzLnByZXYpXG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICByaW5nczogW10sXG4gICAgICAgICAgICAgICAgd2luZGluZ3M6IFtdLFxuICAgICAgICAgICAgICAgIG11bHRpUG9seXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzZWcgPSB0aGlzLnByZXYuY29uc3VtZWRCeSB8fCB0aGlzLnByZXY7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVTdGF0ZSA9IHNlZy5hZnRlclN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JlZm9yZVN0YXRlO1xuICAgIH1cbiAgICBhZnRlclN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fYWZ0ZXJTdGF0ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FmdGVyU3RhdGU7XG4gICAgICAgIGNvbnN0IGJlZm9yZVN0YXRlID0gdGhpcy5iZWZvcmVTdGF0ZSgpO1xuICAgICAgICB0aGlzLl9hZnRlclN0YXRlID0ge1xuICAgICAgICAgICAgcmluZ3M6IGJlZm9yZVN0YXRlLnJpbmdzLnNsaWNlKDApLFxuICAgICAgICAgICAgd2luZGluZ3M6IGJlZm9yZVN0YXRlLndpbmRpbmdzLnNsaWNlKDApLFxuICAgICAgICAgICAgbXVsdGlQb2x5czogW10sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJpbmdzQWZ0ZXIgPSB0aGlzLl9hZnRlclN0YXRlLnJpbmdzO1xuICAgICAgICBjb25zdCB3aW5kaW5nc0FmdGVyID0gdGhpcy5fYWZ0ZXJTdGF0ZS53aW5kaW5ncztcbiAgICAgICAgY29uc3QgbXBzQWZ0ZXIgPSB0aGlzLl9hZnRlclN0YXRlLm11bHRpUG9seXM7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSByaW5nc0FmdGVyLCB3aW5kaW5nc0FmdGVyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gdGhpcy5yaW5ncy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSB0aGlzLnJpbmdzW2ldO1xuICAgICAgICAgICAgY29uc3Qgd2luZGluZyA9IHRoaXMud2luZGluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHJpbmdzQWZ0ZXIuaW5kZXhPZihyaW5nKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByaW5nc0FmdGVyLnB1c2gocmluZyk7XG4gICAgICAgICAgICAgICAgd2luZGluZ3NBZnRlci5wdXNoKHdpbmRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHdpbmRpbmdzQWZ0ZXJbaW5kZXhdICs9IHdpbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsY3VhbHRlIHBvbHlzQWZ0ZXJcbiAgICAgICAgY29uc3QgcG9seXNBZnRlciA9IFtdO1xuICAgICAgICBjb25zdCBwb2x5c0V4Y2x1ZGUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSByaW5nc0FmdGVyLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHdpbmRpbmdzQWZ0ZXJbaV0gPT09IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIG5vbi16ZXJvIHJ1bGVcbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSByaW5nc0FmdGVyW2ldO1xuICAgICAgICAgICAgY29uc3QgcG9seSA9IHJpbmcucG9seTtcbiAgICAgICAgICAgIGlmIChwb2x5c0V4Y2x1ZGUuaW5kZXhPZihwb2x5KSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocmluZy5pc0V4dGVyaW9yKVxuICAgICAgICAgICAgICAgIHBvbHlzQWZ0ZXIucHVzaChwb2x5KTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwb2x5c0V4Y2x1ZGUuaW5kZXhPZihwb2x5KSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHBvbHlzRXhjbHVkZS5wdXNoKHBvbHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcG9seXNBZnRlci5pbmRleE9mKHJpbmcucG9seSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgcG9seXNBZnRlci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBtdWx0aVBvbHlzQWZ0ZXJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBwb2x5c0FmdGVyLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbXAgPSBwb2x5c0FmdGVyW2ldLm11bHRpUG9seTtcbiAgICAgICAgICAgIGlmIChtcHNBZnRlci5pbmRleE9mKG1wKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgbXBzQWZ0ZXIucHVzaChtcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FmdGVyU3RhdGU7XG4gICAgfVxuICAgIC8qIElzIHRoaXMgc2VnbWVudCBwYXJ0IG9mIHRoZSBmaW5hbCByZXN1bHQ/ICovXG4gICAgaXNJblJlc3VsdCgpIHtcbiAgICAgICAgLy8gaWYgd2UndmUgYmVlbiBjb25zdW1lZCwgd2UncmUgbm90IGluIHRoZSByZXN1bHRcbiAgICAgICAgaWYgKHRoaXMuY29uc3VtZWRCeSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5SZXN1bHQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0luUmVzdWx0O1xuICAgICAgICBjb25zdCBtcHNCZWZvcmUgPSB0aGlzLmJlZm9yZVN0YXRlKCkubXVsdGlQb2x5cztcbiAgICAgICAgY29uc3QgbXBzQWZ0ZXIgPSB0aGlzLmFmdGVyU3RhdGUoKS5tdWx0aVBvbHlzO1xuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidW5pb25cIjoge1xuICAgICAgICAgICAgICAgIC8vIFVOSU9OIC0gaW5jbHVkZWQgaWZmOlxuICAgICAgICAgICAgICAgIC8vICAqIE9uIG9uZSBzaWRlIG9mIHVzIHRoZXJlIGlzIDAgcG9seSBpbnRlcmlvcnMgQU5EXG4gICAgICAgICAgICAgICAgLy8gICogT24gdGhlIG90aGVyIHNpZGUgdGhlcmUgaXMgMSBvciBtb3JlLlxuICAgICAgICAgICAgICAgIGNvbnN0IG5vQmVmb3JlcyA9IG1wc0JlZm9yZS5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9BZnRlcnMgPSBtcHNBZnRlci5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNJblJlc3VsdCA9IG5vQmVmb3JlcyAhPT0gbm9BZnRlcnM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW50ZXJzZWN0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICAvLyBJTlRFUlNFQ1RJT04gLSBpbmNsdWRlZCBpZmY6XG4gICAgICAgICAgICAgICAgLy8gICogb24gb25lIHNpZGUgb2YgdXMgYWxsIG11bHRpcG9seXMgYXJlIHJlcC4gd2l0aCBwb2x5IGludGVyaW9ycyBBTkRcbiAgICAgICAgICAgICAgICAvLyAgKiBvbiB0aGUgb3RoZXIgc2lkZSBvZiB1cywgbm90IGFsbCBtdWx0aXBvbHlzIGFyZSByZXBzZW50ZWRcbiAgICAgICAgICAgICAgICAvLyAgICB3aXRoIHBvbHkgaW50ZXJpb3JzXG4gICAgICAgICAgICAgICAgbGV0IGxlYXN0O1xuICAgICAgICAgICAgICAgIGxldCBtb3N0O1xuICAgICAgICAgICAgICAgIGlmIChtcHNCZWZvcmUubGVuZ3RoIDwgbXBzQWZ0ZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXN0ID0gbXBzQmVmb3JlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbW9zdCA9IG1wc0FmdGVyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXN0ID0gbXBzQWZ0ZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBtb3N0ID0gbXBzQmVmb3JlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faXNJblJlc3VsdCA9IG1vc3QgPT09IG9wZXJhdGlvbi5udW1NdWx0aVBvbHlzICYmIGxlYXN0IDwgbW9zdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ4b3JcIjoge1xuICAgICAgICAgICAgICAgIC8vIFhPUiAtIGluY2x1ZGVkIGlmZjpcbiAgICAgICAgICAgICAgICAvLyAgKiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBudW1iZXIgb2YgbXVsdGlwb2x5cyByZXByZXNlbnRlZFxuICAgICAgICAgICAgICAgIC8vICAgIHdpdGggcG9seSBpbnRlcmlvcnMgb24gb3VyIHR3byBzaWRlcyBpcyBhbiBvZGQgbnVtYmVyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKG1wc0JlZm9yZS5sZW5ndGggLSBtcHNBZnRlci5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzSW5SZXN1bHQgPSBkaWZmICUgMiA9PT0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJkaWZmZXJlbmNlXCI6IHtcbiAgICAgICAgICAgICAgICAvLyBESUZGRVJFTkNFIGluY2x1ZGVkIGlmZjpcbiAgICAgICAgICAgICAgICAvLyAgKiBvbiBleGFjdGx5IG9uZSBzaWRlLCB3ZSBoYXZlIGp1c3QgdGhlIHN1YmplY3RcbiAgICAgICAgICAgICAgICBjb25zdCBpc0p1c3RTdWJqZWN0ID0gKG1wcykgPT4gbXBzLmxlbmd0aCA9PT0gMSAmJiBtcHNbMF0uaXNTdWJqZWN0O1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzSW5SZXN1bHQgPSBpc0p1c3RTdWJqZWN0KG1wc0JlZm9yZSkgIT09IGlzSnVzdFN1YmplY3QobXBzQWZ0ZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0luUmVzdWx0O1xuICAgIH1cbn1cbiIsICJpbXBvcnQgQmlnTnVtYmVyIGZyb20gXCJiaWdudW1iZXIuanNcIjtcbmltcG9ydCB7IHByZWNpc2lvbiB9IGZyb20gXCIuL3ByZWNpc2lvbi5qc1wiO1xuaW1wb3J0IFNlZ21lbnQgZnJvbSBcIi4vc2VnbWVudC5qc1wiO1xuZXhwb3J0IGNsYXNzIFJpbmdJbiB7XG4gICAgcG9seTtcbiAgICBpc0V4dGVyaW9yO1xuICAgIHNlZ21lbnRzO1xuICAgIGJib3g7XG4gICAgY29uc3RydWN0b3IoZ2VvbVJpbmcsIHBvbHksIGlzRXh0ZXJpb3IpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdlb21SaW5nKSB8fCBnZW9tUmluZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IGdlb21ldHJ5IGlzIG5vdCBhIHZhbGlkIFBvbHlnb24gb3IgTXVsdGlQb2x5Z29uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9seSA9IHBvbHk7XG4gICAgICAgIHRoaXMuaXNFeHRlcmlvciA9IGlzRXh0ZXJpb3I7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBbXTtcbiAgICAgICAgaWYgKHR5cGVvZiBnZW9tUmluZ1swXVswXSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgICAgdHlwZW9mIGdlb21SaW5nWzBdWzFdICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaXJzdFBvaW50ID0gcHJlY2lzaW9uLnNuYXAoeyB4OiBuZXcgQmlnTnVtYmVyKGdlb21SaW5nWzBdWzBdKSwgeTogbmV3IEJpZ051bWJlcihnZW9tUmluZ1swXVsxXSkgfSk7XG4gICAgICAgIHRoaXMuYmJveCA9IHtcbiAgICAgICAgICAgIGxsOiB7IHg6IGZpcnN0UG9pbnQueCwgeTogZmlyc3RQb2ludC55IH0sXG4gICAgICAgICAgICB1cjogeyB4OiBmaXJzdFBvaW50LngsIHk6IGZpcnN0UG9pbnQueSB9LFxuICAgICAgICB9O1xuICAgICAgICBsZXQgcHJldlBvaW50ID0gZmlyc3RQb2ludDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDEsIGlNYXggPSBnZW9tUmluZy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ2VvbVJpbmdbaV1bMF0gIT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZ2VvbVJpbmdbaV1bMV0gIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcHJlY2lzaW9uLnNuYXAoeyB4OiBuZXcgQmlnTnVtYmVyKGdlb21SaW5nW2ldWzBdKSwgeTogbmV3IEJpZ051bWJlcihnZW9tUmluZ1tpXVsxXSkgfSk7XG4gICAgICAgICAgICAvLyBza2lwIHJlcGVhdGVkIHBvaW50c1xuICAgICAgICAgICAgaWYgKHBvaW50LnguZXEocHJldlBvaW50LngpICYmIHBvaW50LnkuZXEocHJldlBvaW50LnkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKFNlZ21lbnQuZnJvbVJpbmcocHJldlBvaW50LCBwb2ludCwgdGhpcykpO1xuICAgICAgICAgICAgaWYgKHBvaW50LnguaXNMZXNzVGhhbih0aGlzLmJib3gubGwueCkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnggPSBwb2ludC54O1xuICAgICAgICAgICAgaWYgKHBvaW50LnkuaXNMZXNzVGhhbih0aGlzLmJib3gubGwueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnkgPSBwb2ludC55O1xuICAgICAgICAgICAgaWYgKHBvaW50LnguaXNHcmVhdGVyVGhhbih0aGlzLmJib3gudXIueCkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LnVyLnggPSBwb2ludC54O1xuICAgICAgICAgICAgaWYgKHBvaW50LnkuaXNHcmVhdGVyVGhhbih0aGlzLmJib3gudXIueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LnVyLnkgPSBwb2ludC55O1xuICAgICAgICAgICAgcHJldlBvaW50ID0gcG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHNlZ21lbnQgZnJvbSBsYXN0IHRvIGZpcnN0IGlmIGxhc3QgaXMgbm90IHRoZSBzYW1lIGFzIGZpcnN0XG4gICAgICAgIGlmICghZmlyc3RQb2ludC54LmVxKHByZXZQb2ludC54KSB8fCAhZmlyc3RQb2ludC55LmVxKHByZXZQb2ludC55KSkge1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKFNlZ21lbnQuZnJvbVJpbmcocHJldlBvaW50LCBmaXJzdFBvaW50LCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U3dlZXBFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHN3ZWVwRXZlbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gdGhpcy5zZWdtZW50cy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSB0aGlzLnNlZ21lbnRzW2ldO1xuICAgICAgICAgICAgc3dlZXBFdmVudHMucHVzaChzZWdtZW50LmxlZnRTRSk7XG4gICAgICAgICAgICBzd2VlcEV2ZW50cy5wdXNoKHNlZ21lbnQucmlnaHRTRSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN3ZWVwRXZlbnRzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQb2x5SW4ge1xuICAgIG11bHRpUG9seTtcbiAgICBleHRlcmlvclJpbmc7XG4gICAgaW50ZXJpb3JSaW5ncztcbiAgICBiYm94O1xuICAgIGNvbnN0cnVjdG9yKGdlb21Qb2x5LCBtdWx0aVBvbHkpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdlb21Qb2x5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgZ2VvbWV0cnkgaXMgbm90IGEgdmFsaWQgUG9seWdvbiBvciBNdWx0aVBvbHlnb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5leHRlcmlvclJpbmcgPSBuZXcgUmluZ0luKGdlb21Qb2x5WzBdLCB0aGlzLCB0cnVlKTtcbiAgICAgICAgLy8gY29weSBieSB2YWx1ZVxuICAgICAgICB0aGlzLmJib3ggPSB7XG4gICAgICAgICAgICBsbDogeyB4OiB0aGlzLmV4dGVyaW9yUmluZy5iYm94LmxsLngsIHk6IHRoaXMuZXh0ZXJpb3JSaW5nLmJib3gubGwueSB9LFxuICAgICAgICAgICAgdXI6IHsgeDogdGhpcy5leHRlcmlvclJpbmcuYmJveC51ci54LCB5OiB0aGlzLmV4dGVyaW9yUmluZy5iYm94LnVyLnkgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnRlcmlvclJpbmdzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAxLCBpTWF4ID0gZ2VvbVBvbHkubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByaW5nID0gbmV3IFJpbmdJbihnZW9tUG9seVtpXSwgdGhpcywgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHJpbmcuYmJveC5sbC54LmlzTGVzc1RoYW4odGhpcy5iYm94LmxsLngpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC5sbC54ID0gcmluZy5iYm94LmxsLng7XG4gICAgICAgICAgICBpZiAocmluZy5iYm94LmxsLnkuaXNMZXNzVGhhbih0aGlzLmJib3gubGwueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnkgPSByaW5nLmJib3gubGwueTtcbiAgICAgICAgICAgIGlmIChyaW5nLmJib3gudXIueC5pc0dyZWF0ZXJUaGFuKHRoaXMuYmJveC51ci54KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gudXIueCA9IHJpbmcuYmJveC51ci54O1xuICAgICAgICAgICAgaWYgKHJpbmcuYmJveC51ci55LmlzR3JlYXRlclRoYW4odGhpcy5iYm94LnVyLnkpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC51ci55ID0gcmluZy5iYm94LnVyLnk7XG4gICAgICAgICAgICB0aGlzLmludGVyaW9yUmluZ3MucHVzaChyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpUG9seSA9IG11bHRpUG9seTtcbiAgICB9XG4gICAgZ2V0U3dlZXBFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHN3ZWVwRXZlbnRzID0gdGhpcy5leHRlcmlvclJpbmcuZ2V0U3dlZXBFdmVudHMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSB0aGlzLmludGVyaW9yUmluZ3MubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByaW5nU3dlZXBFdmVudHMgPSB0aGlzLmludGVyaW9yUmluZ3NbaV0uZ2V0U3dlZXBFdmVudHMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBqTWF4ID0gcmluZ1N3ZWVwRXZlbnRzLmxlbmd0aDsgaiA8IGpNYXg7IGorKykge1xuICAgICAgICAgICAgICAgIHN3ZWVwRXZlbnRzLnB1c2gocmluZ1N3ZWVwRXZlbnRzW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3dlZXBFdmVudHM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE11bHRpUG9seUluIHtcbiAgICBpc1N1YmplY3Q7XG4gICAgcG9seXM7XG4gICAgYmJveDtcbiAgICBjb25zdHJ1Y3RvcihnZW9tLCBpc1N1YmplY3QpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdlb20pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvblwiKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGlucHV0IGxvb2tzIGxpa2UgYSBwb2x5Z29uLCBjb252ZXJ0IGl0IHRvIGEgbXVsdGlwb2x5Z29uXG4gICAgICAgICAgICBpZiAodHlwZW9mIGdlb21bMF1bMF1bMF0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgZ2VvbSA9IFtnZW9tXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIC8vIFRoZSBpbnB1dCBpcyBlaXRoZXIgbWFsZm9ybWVkIG9yIGhhcyBlbXB0eSBhcnJheXMuXG4gICAgICAgICAgICAvLyBJbiBlaXRoZXIgY2FzZSwgaXQgd2lsbCBiZSBoYW5kbGVkIGxhdGVyIG9uLlxuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9seXMgPSBbXTtcbiAgICAgICAgdGhpcy5iYm94ID0ge1xuICAgICAgICAgICAgbGw6IHsgeDogbmV3IEJpZ051bWJlcihOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLCB5OiBuZXcgQmlnTnVtYmVyKE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkgfSxcbiAgICAgICAgICAgIHVyOiB7IHg6IG5ldyBCaWdOdW1iZXIoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSwgeTogbmV3IEJpZ051bWJlcihOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpIH0sXG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gZ2VvbS5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbHkgPSBuZXcgUG9seUluKGdlb21baV0sIHRoaXMpO1xuICAgICAgICAgICAgaWYgKHBvbHkuYmJveC5sbC54LmlzTGVzc1RoYW4odGhpcy5iYm94LmxsLngpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC5sbC54ID0gcG9seS5iYm94LmxsLng7XG4gICAgICAgICAgICBpZiAocG9seS5iYm94LmxsLnkuaXNMZXNzVGhhbih0aGlzLmJib3gubGwueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnkgPSBwb2x5LmJib3gubGwueTtcbiAgICAgICAgICAgIGlmIChwb2x5LmJib3gudXIueC5pc0dyZWF0ZXJUaGFuKHRoaXMuYmJveC51ci54KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gudXIueCA9IHBvbHkuYmJveC51ci54O1xuICAgICAgICAgICAgaWYgKHBvbHkuYmJveC51ci55LmlzR3JlYXRlclRoYW4odGhpcy5iYm94LnVyLnkpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC51ci55ID0gcG9seS5iYm94LnVyLnk7XG4gICAgICAgICAgICB0aGlzLnBvbHlzLnB1c2gocG9seSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N1YmplY3QgPSBpc1N1YmplY3Q7XG4gICAgfVxuICAgIGdldFN3ZWVwRXZlbnRzKCkge1xuICAgICAgICBjb25zdCBzd2VlcEV2ZW50cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHRoaXMucG9seXMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2x5U3dlZXBFdmVudHMgPSB0aGlzLnBvbHlzW2ldLmdldFN3ZWVwRXZlbnRzKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgak1heCA9IHBvbHlTd2VlcEV2ZW50cy5sZW5ndGg7IGogPCBqTWF4OyBqKyspIHtcbiAgICAgICAgICAgICAgICBzd2VlcEV2ZW50cy5wdXNoKHBvbHlTd2VlcEV2ZW50c1tqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN3ZWVwRXZlbnRzO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBwcmVjaXNpb24gfSBmcm9tIFwiLi9wcmVjaXNpb24uanNcIjtcbmltcG9ydCBTd2VlcEV2ZW50IGZyb20gXCIuL3N3ZWVwLWV2ZW50LmpzXCI7XG5leHBvcnQgY2xhc3MgUmluZ091dCB7XG4gICAgZXZlbnRzO1xuICAgIHBvbHk7XG4gICAgX2lzRXh0ZXJpb3JSaW5nO1xuICAgIF9lbmNsb3NpbmdSaW5nO1xuICAgIC8qIEdpdmVuIHRoZSBzZWdtZW50cyBmcm9tIHRoZSBzd2VlcCBsaW5lIHBhc3MsIGNvbXB1dGUgJiByZXR1cm4gYSBzZXJpZXNcbiAgICAgKiBvZiBjbG9zZWQgcmluZ3MgZnJvbSBhbGwgdGhlIHNlZ21lbnRzIG1hcmtlZCB0byBiZSBwYXJ0IG9mIHRoZSByZXN1bHQgKi9cbiAgICBzdGF0aWMgZmFjdG9yeShhbGxTZWdtZW50cykge1xuICAgICAgICBjb25zdCByaW5nc091dCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IGFsbFNlZ21lbnRzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IGFsbFNlZ21lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKCFzZWdtZW50LmlzSW5SZXN1bHQoKSB8fCBzZWdtZW50LnJpbmdPdXQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcHJldkV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBldmVudCA9IHNlZ21lbnQubGVmdFNFO1xuICAgICAgICAgICAgbGV0IG5leHRFdmVudCA9IHNlZ21lbnQucmlnaHRTRTtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IFtldmVudF07XG4gICAgICAgICAgICBjb25zdCBzdGFydGluZ1BvaW50ID0gZXZlbnQucG9pbnQ7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25MRXMgPSBbXTtcbiAgICAgICAgICAgIC8qIFdhbGsgdGhlIGNoYWluIG9mIGxpbmtlZCBldmVudHMgdG8gZm9ybSBhIGNsb3NlZCByaW5nICovXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIHByZXZFdmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gbmV4dEV2ZW50O1xuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAvKiBJcyB0aGUgcmluZyBjb21wbGV0ZT8gKi9cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQucG9pbnQgPT09IHN0YXJ0aW5nUG9pbnQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUxFcyA9IGV2ZW50LmdldEF2YWlsYWJsZUxpbmtlZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAvKiBEaWQgd2UgaGl0IGEgZGVhZCBlbmQ/IFRoaXMgc2hvdWxkbid0IGhhcHBlbi4gSW5kaWNhdGVzIHNvbWUgZWFybGllclxuICAgICAgICAgICAgICAgICAgICAgKiBwYXJ0IG9mIHRoZSBhbGdvcml0aG0gbWFsZnVuY3Rpb25lZC4uLiBwbGVhc2UgZmlsZSBhIGJ1ZyByZXBvcnQuICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVMRXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFB0ID0gZXZlbnRzWzBdLnBvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFB0ID0gZXZlbnRzW2V2ZW50cy5sZW5ndGggLSAxXS5wb2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbXBsZXRlIG91dHB1dCByaW5nIHN0YXJ0aW5nIGF0IFske2ZpcnN0UHQueH0sYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCAke2ZpcnN0UHQueX1dLiBMYXN0IG1hdGNoaW5nIHNlZ21lbnQgZm91bmQgZW5kcyBhdGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAgWyR7bGFzdFB0Lnh9LCAke2xhc3RQdC55fV0uYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogT25seSBvbmUgd2F5IHRvIGdvLCBzbyBjb3RpbnVlIG9uIHRoZSBwYXRoICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVMRXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RXZlbnQgPSBhdmFpbGFibGVMRXNbMF0ub3RoZXJTRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIFdlIG11c3QgaGF2ZSBhbiBpbnRlcnNlY3Rpb24uIENoZWNrIGZvciBhIGNvbXBsZXRlZCBsb29wICovXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleExFID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpNYXggPSBpbnRlcnNlY3Rpb25MRXMubGVuZ3RoOyBqIDwgak1heDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0aW9uTEVzW2pdLnBvaW50ID09PSBldmVudC5wb2ludCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4TEUgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIEZvdW5kIGEgY29tcGxldGVkIGxvb3AuIEN1dCB0aGF0IG9mZiBhbmQgbWFrZSBhIHJpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4TEUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvbkxFID0gaW50ZXJzZWN0aW9uTEVzLnNwbGljZShpbmRleExFKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpbmdFdmVudHMgPSBldmVudHMuc3BsaWNlKGludGVyc2VjdGlvbkxFLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpbmdFdmVudHMudW5zaGlmdChyaW5nRXZlbnRzWzBdLm90aGVyU0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmluZ3NPdXQucHVzaChuZXcgUmluZ091dChyaW5nRXZlbnRzLnJldmVyc2UoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogcmVnaXN0ZXIgdGhlIGludGVyc2VjdGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25MRXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogZXZlbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50OiBldmVudC5wb2ludCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIENob29zZSB0aGUgbGVmdC1tb3N0IG9wdGlvbiB0byBjb250aW51ZSB0aGUgd2FsayAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJhdG9yID0gZXZlbnQuZ2V0TGVmdG1vc3RDb21wYXJhdG9yKHByZXZFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRFdmVudCA9IGF2YWlsYWJsZUxFcy5zb3J0KGNvbXBhcmF0b3IpWzBdLm90aGVyU0U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJpbmdzT3V0LnB1c2gobmV3IFJpbmdPdXQoZXZlbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJpbmdzT3V0O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihldmVudHMpIHtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gZXZlbnRzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgZXZlbnRzW2ldLnNlZ21lbnQucmluZ091dCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb2x5ID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0R2VvbSgpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHN1cGVyZmx1b3VzIHBvaW50cyAoaWUgZXh0cmEgcG9pbnRzIGFsb25nIGEgc3RyYWlnaHQgbGluZSksXG4gICAgICAgIGxldCBwcmV2UHQgPSB0aGlzLmV2ZW50c1swXS5wb2ludDtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW3ByZXZQdF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxLCBpTWF4ID0gdGhpcy5ldmVudHMubGVuZ3RoIC0gMTsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHQgPSB0aGlzLmV2ZW50c1tpXS5wb2ludDtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQdCA9IHRoaXMuZXZlbnRzW2kgKyAxXS5wb2ludDtcbiAgICAgICAgICAgIGlmIChwcmVjaXNpb24ub3JpZW50KHB0LCBwcmV2UHQsIG5leHRQdCkgPT09IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBwb2ludHMucHVzaChwdCk7XG4gICAgICAgICAgICBwcmV2UHQgPSBwdDtcbiAgICAgICAgfVxuICAgICAgICAvLyByaW5nIHdhcyBhbGwgKHdpdGhpbiByb3VuZGluZyBlcnJvciBvZiBhbmdsZSBjYWxjKSBjb2xpbmVhciBwb2ludHNcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHN0YXJ0aW5nIHBvaW50IGlzIG5lY2Vzc2FyeVxuICAgICAgICBjb25zdCBwdCA9IHBvaW50c1swXTtcbiAgICAgICAgY29uc3QgbmV4dFB0ID0gcG9pbnRzWzFdO1xuICAgICAgICBpZiAocHJlY2lzaW9uLm9yaWVudChwdCwgcHJldlB0LCBuZXh0UHQpID09PSAwKVxuICAgICAgICAgICAgcG9pbnRzLnNoaWZ0KCk7XG4gICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLmlzRXh0ZXJpb3JSaW5nKCkgPyAxIDogLTE7XG4gICAgICAgIGNvbnN0IGlTdGFydCA9IHRoaXMuaXNFeHRlcmlvclJpbmcoKSA/IDAgOiBwb2ludHMubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgaUVuZCA9IHRoaXMuaXNFeHRlcmlvclJpbmcoKSA/IHBvaW50cy5sZW5ndGggOiAtMTtcbiAgICAgICAgY29uc3Qgb3JkZXJlZFBvaW50cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gaVN0YXJ0OyBpICE9IGlFbmQ7IGkgKz0gc3RlcClcbiAgICAgICAgICAgIG9yZGVyZWRQb2ludHMucHVzaChbcG9pbnRzW2ldLngudG9OdW1iZXIoKSwgcG9pbnRzW2ldLnkudG9OdW1iZXIoKV0pO1xuICAgICAgICByZXR1cm4gb3JkZXJlZFBvaW50cztcbiAgICB9XG4gICAgaXNFeHRlcmlvclJpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0V4dGVyaW9yUmluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBlbmNsb3NpbmcgPSB0aGlzLmVuY2xvc2luZ1JpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuX2lzRXh0ZXJpb3JSaW5nID0gZW5jbG9zaW5nID8gIWVuY2xvc2luZy5pc0V4dGVyaW9yUmluZygpIDogdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faXNFeHRlcmlvclJpbmc7XG4gICAgfVxuICAgIGVuY2xvc2luZ1JpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLl9lbmNsb3NpbmdSaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuY2xvc2luZ1JpbmcgPSB0aGlzLl9jYWxjRW5jbG9zaW5nUmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmNsb3NpbmdSaW5nO1xuICAgIH1cbiAgICAvKiBSZXR1cm5zIHRoZSByaW5nIHRoYXQgZW5jbG9zZXMgdGhpcyBvbmUsIGlmIGFueSAqL1xuICAgIF9jYWxjRW5jbG9zaW5nUmluZygpIHtcbiAgICAgICAgLy8gc3RhcnQgd2l0aCB0aGUgZWFsaWVyIHN3ZWVwIGxpbmUgZXZlbnQgc28gdGhhdCB0aGUgcHJldlNlZ1xuICAgICAgICAvLyBjaGFpbiBkb2Vzbid0IGxlYWQgdXMgaW5zaWRlIG9mIGEgbG9vcCBvZiBvdXJzXG4gICAgICAgIGxldCBsZWZ0TW9zdEV2dCA9IHRoaXMuZXZlbnRzWzBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMSwgaU1heCA9IHRoaXMuZXZlbnRzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZXZ0ID0gdGhpcy5ldmVudHNbaV07XG4gICAgICAgICAgICBpZiAoU3dlZXBFdmVudC5jb21wYXJlKGxlZnRNb3N0RXZ0LCBldnQpID4gMClcbiAgICAgICAgICAgICAgICBsZWZ0TW9zdEV2dCA9IGV2dDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJldlNlZyA9IGxlZnRNb3N0RXZ0LnNlZ21lbnQucHJldkluUmVzdWx0KCk7XG4gICAgICAgIGxldCBwcmV2UHJldlNlZyA9IHByZXZTZWcgPyBwcmV2U2VnLnByZXZJblJlc3VsdCgpIDogbnVsbDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIC8vIG5vIHNlZ21lbnQgZm91bmQsIHRodXMgbm8gcmluZyBjYW4gZW5jbG9zZSB1c1xuICAgICAgICAgICAgaWYgKCFwcmV2U2VnKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgLy8gbm8gc2VnbWVudHMgYmVsb3cgcHJldiBzZWdtZW50IGZvdW5kLCB0aHVzIHRoZSByaW5nIG9mIHRoZSBwcmV2XG4gICAgICAgICAgICAvLyBzZWdtZW50IG11c3QgbG9vcCBiYWNrIGFyb3VuZCBhbmQgZW5jbG9zZSB1c1xuICAgICAgICAgICAgaWYgKCFwcmV2UHJldlNlZylcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldlNlZy5yaW5nT3V0O1xuICAgICAgICAgICAgLy8gaWYgdGhlIHR3byBzZWdtZW50cyBhcmUgb2YgZGlmZmVyZW50IHJpbmdzLCB0aGUgcmluZyBvZiB0aGUgcHJldlxuICAgICAgICAgICAgLy8gc2VnbWVudCBtdXN0IGVpdGhlciBsb29wIGFyb3VuZCB1cyBvciB0aGUgcmluZyBvZiB0aGUgcHJldiBwcmV2XG4gICAgICAgICAgICAvLyBzZWcsIHdoaWNoIHdvdWxkIG1ha2UgdXMgYW5kIHRoZSByaW5nIG9mIHRoZSBwcmV2IHBlZXJzXG4gICAgICAgICAgICBpZiAocHJldlByZXZTZWcucmluZ091dCAhPT0gcHJldlNlZy5yaW5nT3V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZQcmV2U2VnLnJpbmdPdXQ/LmVuY2xvc2luZ1JpbmcoKSAhPT0gcHJldlNlZy5yaW5nT3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2U2VnLnJpbmdPdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZTZWcucmluZ091dD8uZW5jbG9zaW5nUmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHdvIHNlZ21lbnRzIGFyZSBmcm9tIHRoZSBzYW1lIHJpbmcsIHNvIHRoaXMgd2FzIGEgcGVuaXN1bGFcbiAgICAgICAgICAgIC8vIG9mIHRoYXQgcmluZy4gaXRlcmF0ZSBkb3dud2FyZCwga2VlcCBzZWFyY2hpbmdcbiAgICAgICAgICAgIHByZXZTZWcgPSBwcmV2UHJldlNlZy5wcmV2SW5SZXN1bHQoKTtcbiAgICAgICAgICAgIHByZXZQcmV2U2VnID0gcHJldlNlZyA/IHByZXZTZWcucHJldkluUmVzdWx0KCkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBvbHlPdXQge1xuICAgIGV4dGVyaW9yUmluZztcbiAgICBpbnRlcmlvclJpbmdzO1xuICAgIGNvbnN0cnVjdG9yKGV4dGVyaW9yUmluZykge1xuICAgICAgICB0aGlzLmV4dGVyaW9yUmluZyA9IGV4dGVyaW9yUmluZztcbiAgICAgICAgZXh0ZXJpb3JSaW5nLnBvbHkgPSB0aGlzO1xuICAgICAgICB0aGlzLmludGVyaW9yUmluZ3MgPSBbXTtcbiAgICB9XG4gICAgYWRkSW50ZXJpb3IocmluZykge1xuICAgICAgICB0aGlzLmludGVyaW9yUmluZ3MucHVzaChyaW5nKTtcbiAgICAgICAgcmluZy5wb2x5ID0gdGhpcztcbiAgICB9XG4gICAgZ2V0R2VvbSgpIHtcbiAgICAgICAgY29uc3QgZ2VvbTAgPSB0aGlzLmV4dGVyaW9yUmluZy5nZXRHZW9tKCk7XG4gICAgICAgIC8vIGV4dGVyaW9yIHJpbmcgd2FzIGFsbCAod2l0aGluIHJvdW5kaW5nIGVycm9yIG9mIGFuZ2xlIGNhbGMpIGNvbGluZWFyIHBvaW50c1xuICAgICAgICBpZiAoZ2VvbTAgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgZ2VvbSA9IFtnZW9tMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gdGhpcy5pbnRlcmlvclJpbmdzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmluZ0dlb20gPSB0aGlzLmludGVyaW9yUmluZ3NbaV0uZ2V0R2VvbSgpO1xuICAgICAgICAgICAgLy8gaW50ZXJpb3IgcmluZyB3YXMgYWxsICh3aXRoaW4gcm91bmRpbmcgZXJyb3Igb2YgYW5nbGUgY2FsYykgY29saW5lYXIgcG9pbnRzXG4gICAgICAgICAgICBpZiAocmluZ0dlb20gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBnZW9tLnB1c2gocmluZ0dlb20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNdWx0aVBvbHlPdXQge1xuICAgIHJpbmdzO1xuICAgIHBvbHlzO1xuICAgIGNvbnN0cnVjdG9yKHJpbmdzKSB7XG4gICAgICAgIHRoaXMucmluZ3MgPSByaW5ncztcbiAgICAgICAgdGhpcy5wb2x5cyA9IHRoaXMuX2NvbXBvc2VQb2x5cyhyaW5ncyk7XG4gICAgfVxuICAgIGdldEdlb20oKSB7XG4gICAgICAgIGNvbnN0IGdlb20gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSB0aGlzLnBvbHlzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9seUdlb20gPSB0aGlzLnBvbHlzW2ldLmdldEdlb20oKTtcbiAgICAgICAgICAgIC8vIGV4dGVyaW9yIHJpbmcgd2FzIGFsbCAod2l0aGluIHJvdW5kaW5nIGVycm9yIG9mIGFuZ2xlIGNhbGMpIGNvbGluZWFyIHBvaW50c1xuICAgICAgICAgICAgaWYgKHBvbHlHZW9tID09PSBudWxsKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZ2VvbS5wdXNoKHBvbHlHZW9tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VvbTtcbiAgICB9XG4gICAgX2NvbXBvc2VQb2x5cyhyaW5ncykge1xuICAgICAgICBjb25zdCBwb2x5cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHJpbmdzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmluZyA9IHJpbmdzW2ldO1xuICAgICAgICAgICAgaWYgKHJpbmcucG9seSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyaW5nLmlzRXh0ZXJpb3JSaW5nKCkpXG4gICAgICAgICAgICAgICAgcG9seXMucHVzaChuZXcgUG9seU91dChyaW5nKSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmNsb3NpbmdSaW5nID0gcmluZy5lbmNsb3NpbmdSaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFlbmNsb3NpbmdSaW5nPy5wb2x5KVxuICAgICAgICAgICAgICAgICAgICBwb2x5cy5wdXNoKG5ldyBQb2x5T3V0KGVuY2xvc2luZ1JpbmcpKTtcbiAgICAgICAgICAgICAgICBlbmNsb3NpbmdSaW5nPy5wb2x5Py5hZGRJbnRlcmlvcihyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9seXM7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFNwbGF5VHJlZVNldCB9IGZyb20gXCJzcGxheXRyZWUtdHNcIjtcbmltcG9ydCBTZWdtZW50IGZyb20gXCIuL3NlZ21lbnQuanNcIjtcbmltcG9ydCBTd2VlcEV2ZW50IGZyb20gXCIuL3N3ZWVwLWV2ZW50LmpzXCI7XG4vKipcbiAqIE5PVEU6ICBXZSBtdXN0IGJlIGNhcmVmdWwgbm90IHRvIGNoYW5nZSBhbnkgc2VnbWVudHMgd2hpbGVcbiAqICAgICAgICB0aGV5IGFyZSBpbiB0aGUgU3BsYXlUcmVlLiBBRkFJSywgdGhlcmUncyBubyB3YXkgdG8gdGVsbFxuICogICAgICAgIHRoZSB0cmVlIHRvIHJlYmFsYW5jZSBpdHNlbGYgLSB0aHVzIGJlZm9yZSBzcGxpdHRpbmdcbiAqICAgICAgICBhIHNlZ21lbnQgdGhhdCdzIGluIHRoZSB0cmVlLCB3ZSByZW1vdmUgaXQgZnJvbSB0aGUgdHJlZSxcbiAqICAgICAgICBkbyB0aGUgc3BsaXQsIHRoZW4gcmUtaW5zZXJ0IGl0LiAoRXZlbiB0aG91Z2ggc3BsaXR0aW5nIGFcbiAqICAgICAgICBzZWdtZW50ICpzaG91bGRuJ3QqIGNoYW5nZSBpdHMgY29ycmVjdCBwb3NpdGlvbiBpbiB0aGVcbiAqICAgICAgICBzd2VlcCBsaW5lIHRyZWUsIHRoZSByZWFsaXR5IGlzIGJlY2F1c2Ugb2Ygcm91bmRpbmcgZXJyb3JzLFxuICogICAgICAgIGl0IHNvbWV0aW1lcyBkb2VzLilcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3dlZXBMaW5lIHtcbiAgICBxdWV1ZTtcbiAgICB0cmVlO1xuICAgIHNlZ21lbnRzO1xuICAgIGNvbnN0cnVjdG9yKHF1ZXVlLCBjb21wYXJhdG9yID0gU2VnbWVudC5jb21wYXJlKSB7XG4gICAgICAgIHRoaXMucXVldWUgPSBxdWV1ZTtcbiAgICAgICAgdGhpcy50cmVlID0gbmV3IFNwbGF5VHJlZVNldChjb21wYXJhdG9yKTtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgIH1cbiAgICBwcm9jZXNzKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBldmVudC5zZWdtZW50O1xuICAgICAgICBjb25zdCBuZXdFdmVudHMgPSBbXTtcbiAgICAgICAgLy8gaWYgd2UndmUgYWxyZWFkeSBiZWVuIGNvbnN1bWVkIGJ5IGFub3RoZXIgc2VnbWVudCxcbiAgICAgICAgLy8gY2xlYW4gdXAgb3VyIGJvZHkgcGFydHMgYW5kIGdldCBvdXRcbiAgICAgICAgaWYgKGV2ZW50LmNvbnN1bWVkQnkpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5pc0xlZnQpXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5kZWxldGUoZXZlbnQub3RoZXJTRSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy50cmVlLmRlbGV0ZShzZWdtZW50KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdFdmVudHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LmlzTGVmdClcbiAgICAgICAgICAgIHRoaXMudHJlZS5hZGQoc2VnbWVudCk7XG4gICAgICAgIGxldCBwcmV2U2VnID0gc2VnbWVudDtcbiAgICAgICAgbGV0IG5leHRTZWcgPSBzZWdtZW50O1xuICAgICAgICAvLyBza2lwIGNvbnN1bWVkIHNlZ21lbnRzIHN0aWxsIGluIHRyZWVcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcHJldlNlZyA9IHRoaXMudHJlZS5sYXN0QmVmb3JlKHByZXZTZWcpO1xuICAgICAgICB9IHdoaWxlIChwcmV2U2VnICE9IG51bGwgJiYgcHJldlNlZy5jb25zdW1lZEJ5ICE9IHVuZGVmaW5lZCk7XG4gICAgICAgIC8vIHNraXAgY29uc3VtZWQgc2VnbWVudHMgc3RpbGwgaW4gdHJlZVxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBuZXh0U2VnID0gdGhpcy50cmVlLmZpcnN0QWZ0ZXIobmV4dFNlZyk7XG4gICAgICAgIH0gd2hpbGUgKG5leHRTZWcgIT0gbnVsbCAmJiBuZXh0U2VnLmNvbnN1bWVkQnkgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKGV2ZW50LmlzTGVmdCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGludGVyc2VjdGlvbnMgYWdhaW5zdCB0aGUgcHJldmlvdXMgc2VnbWVudCBpbiB0aGUgc3dlZXAgbGluZVxuICAgICAgICAgICAgbGV0IHByZXZNeVNwbGl0dGVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChwcmV2U2VnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkludGVyID0gcHJldlNlZy5nZXRJbnRlcnNlY3Rpb24oc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZJbnRlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZ21lbnQuaXNBbkVuZHBvaW50KHByZXZJbnRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2TXlTcGxpdHRlciA9IHByZXZJbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2U2VnLmlzQW5FbmRwb2ludChwcmV2SW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFdmVudHNGcm9tU3BsaXQgPSB0aGlzLl9zcGxpdFNhZmVseShwcmV2U2VnLCBwcmV2SW50ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBuZXdFdmVudHNGcm9tU3BsaXQubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RXZlbnRzLnB1c2gobmV3RXZlbnRzRnJvbVNwbGl0W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBpbnRlcnNlY3Rpb25zIGFnYWluc3QgdGhlIG5leHQgc2VnbWVudCBpbiB0aGUgc3dlZXAgbGluZVxuICAgICAgICAgICAgbGV0IG5leHRNeVNwbGl0dGVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChuZXh0U2VnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEludGVyID0gbmV4dFNlZy5nZXRJbnRlcnNlY3Rpb24oc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbnRlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZ21lbnQuaXNBbkVuZHBvaW50KG5leHRJbnRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0TXlTcGxpdHRlciA9IG5leHRJbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0U2VnLmlzQW5FbmRwb2ludChuZXh0SW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFdmVudHNGcm9tU3BsaXQgPSB0aGlzLl9zcGxpdFNhZmVseShuZXh0U2VnLCBuZXh0SW50ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBuZXdFdmVudHNGcm9tU3BsaXQubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RXZlbnRzLnB1c2gobmV3RXZlbnRzRnJvbVNwbGl0W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvciBzaW1wbGljaXR5LCBldmVuIGlmIHdlIGZpbmQgbW9yZSB0aGFuIG9uZSBpbnRlcnNlY3Rpb24gd2Ugb25seVxuICAgICAgICAgICAgLy8gc3BpbHQgb24gdGhlICdlYXJsaWVzdCcgKHN3ZWVwLWxpbmUgc3R5bGUpIG9mIHRoZSBpbnRlcnNlY3Rpb25zLlxuICAgICAgICAgICAgLy8gVGhlIG90aGVyIGludGVyc2VjdGlvbiB3aWxsIGJlIGhhbmRsZWQgaW4gYSBmdXR1cmUgcHJvY2VzcygpLlxuICAgICAgICAgICAgaWYgKHByZXZNeVNwbGl0dGVyICE9PSBudWxsIHx8IG5leHRNeVNwbGl0dGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG15U3BsaXR0ZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2TXlTcGxpdHRlciA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgbXlTcGxpdHRlciA9IG5leHRNeVNwbGl0dGVyO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHRNeVNwbGl0dGVyID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBteVNwbGl0dGVyID0gcHJldk15U3BsaXR0ZXI7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNtcFNwbGl0dGVycyA9IFN3ZWVwRXZlbnQuY29tcGFyZVBvaW50cyhwcmV2TXlTcGxpdHRlciwgbmV4dE15U3BsaXR0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBteVNwbGl0dGVyID0gY21wU3BsaXR0ZXJzIDw9IDAgPyBwcmV2TXlTcGxpdHRlciA6IG5leHRNeVNwbGl0dGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSb3VuZGluZyBlcnJvcnMgY2FuIGNhdXNlIGNoYW5nZXMgaW4gb3JkZXJpbmcsXG4gICAgICAgICAgICAgICAgLy8gc28gcmVtb3ZlIGFmZWN0ZWQgc2VnbWVudHMgYW5kIHJpZ2h0IHN3ZWVwIGV2ZW50cyBiZWZvcmUgc3BsaXR0aW5nXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5kZWxldGUoc2VnbWVudC5yaWdodFNFKTtcbiAgICAgICAgICAgICAgICBuZXdFdmVudHMucHVzaChzZWdtZW50LnJpZ2h0U0UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50c0Zyb21TcGxpdCA9IHNlZ21lbnQuc3BsaXQobXlTcGxpdHRlcik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBuZXdFdmVudHNGcm9tU3BsaXQubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0V2ZW50cy5wdXNoKG5ld0V2ZW50c0Zyb21TcGxpdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld0V2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgc29tZSBpbnRlcnNlY3Rpb25zLCBzbyByZS1kbyB0aGUgY3VycmVudCBldmVudCB0b1xuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBzd2VlcCBsaW5lIG9yZGVyaW5nIGlzIHRvdGFsbHkgY29uc2lzdGVudCBmb3IgbGF0ZXJcbiAgICAgICAgICAgICAgICAvLyB1c2Ugd2l0aCB0aGUgc2VnbWVudCAncHJldicgcG9pbnRlcnNcbiAgICAgICAgICAgICAgICB0aGlzLnRyZWUuZGVsZXRlKHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIG5ld0V2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRvbmUgd2l0aCBsZWZ0IGV2ZW50XG4gICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIHNlZ21lbnQucHJldiA9IHByZXZTZWc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBldmVudC5pc1JpZ2h0XG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSdyZSBhYm91dCB0byBiZSByZW1vdmVkIGZyb20gdGhlIHN3ZWVwIGxpbmUsIGNoZWNrIGZvclxuICAgICAgICAgICAgLy8gaW50ZXJzZWN0aW9ucyBiZXR3ZWVuIG91ciBwcmV2aW91cyBhbmQgbmV4dCBzZWdtZW50c1xuICAgICAgICAgICAgaWYgKHByZXZTZWcgJiYgbmV4dFNlZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyID0gcHJldlNlZy5nZXRJbnRlcnNlY3Rpb24obmV4dFNlZyk7XG4gICAgICAgICAgICAgICAgaWYgKGludGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJldlNlZy5pc0FuRW5kcG9pbnQoaW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFdmVudHNGcm9tU3BsaXQgPSB0aGlzLl9zcGxpdFNhZmVseShwcmV2U2VnLCBpbnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG5ld0V2ZW50c0Zyb21TcGxpdC5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudHMucHVzaChuZXdFdmVudHNGcm9tU3BsaXRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dFNlZy5pc0FuRW5kcG9pbnQoaW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFdmVudHNGcm9tU3BsaXQgPSB0aGlzLl9zcGxpdFNhZmVseShuZXh0U2VnLCBpbnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG5ld0V2ZW50c0Zyb21TcGxpdC5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudHMucHVzaChuZXdFdmVudHNGcm9tU3BsaXRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmVlLmRlbGV0ZShzZWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3RXZlbnRzO1xuICAgIH1cbiAgICAvKiBTYWZlbHkgc3BsaXQgYSBzZWdtZW50IHRoYXQgaXMgY3VycmVudGx5IGluIHRoZSBkYXRhc3RydWN0dXJlc1xuICAgICAqIElFIC0gYSBzZWdtZW50IG90aGVyIHRoYW4gdGhlIG9uZSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWQuICovXG4gICAgX3NwbGl0U2FmZWx5KHNlZywgcHQpIHtcbiAgICAgICAgLy8gUm91bmRpbmcgZXJyb3JzIGNhbiBjYXVzZSBjaGFuZ2VzIGluIG9yZGVyaW5nLFxuICAgICAgICAvLyBzbyByZW1vdmUgYWZlY3RlZCBzZWdtZW50cyBhbmQgcmlnaHQgc3dlZXAgZXZlbnRzIGJlZm9yZSBzcGxpdHRpbmdcbiAgICAgICAgLy8gcmVtb3ZlTm9kZSgpIGRvZXNuJ3Qgd29yaywgc28gaGF2ZSByZS1maW5kIHRoZSBzZWdcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3c4ci9zcGxheS10cmVlL3B1bGwvNVxuICAgICAgICB0aGlzLnRyZWUuZGVsZXRlKHNlZyk7XG4gICAgICAgIGNvbnN0IHJpZ2h0U0UgPSBzZWcucmlnaHRTRTtcbiAgICAgICAgdGhpcy5xdWV1ZS5kZWxldGUocmlnaHRTRSk7XG4gICAgICAgIGNvbnN0IG5ld0V2ZW50cyA9IHNlZy5zcGxpdChwdCk7XG4gICAgICAgIG5ld0V2ZW50cy5wdXNoKHJpZ2h0U0UpO1xuICAgICAgICAvLyBzcGxpdHRpbmcgY2FuIHRyaWdnZXIgY29uc3VtcHRpb25cbiAgICAgICAgaWYgKHNlZy5jb25zdW1lZEJ5ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLnRyZWUuYWRkKHNlZyk7XG4gICAgICAgIHJldHVybiBuZXdFdmVudHM7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFNwbGF5VHJlZVNldCB9IGZyb20gXCJzcGxheXRyZWUtdHNcIjtcbmltcG9ydCB7IGdldEJib3hPdmVybGFwIH0gZnJvbSBcIi4vYmJveC5qc1wiO1xuaW1wb3J0ICogYXMgZ2VvbUluIGZyb20gXCIuL2dlb20taW4uanNcIjtcbmltcG9ydCAqIGFzIGdlb21PdXQgZnJvbSBcIi4vZ2VvbS1vdXQuanNcIjtcbmltcG9ydCB7IHByZWNpc2lvbiB9IGZyb20gXCIuL3ByZWNpc2lvbi5qc1wiO1xuaW1wb3J0IFN3ZWVwRXZlbnQgZnJvbSBcIi4vc3dlZXAtZXZlbnQuanNcIjtcbmltcG9ydCBTd2VlcExpbmUgZnJvbSBcIi4vc3dlZXAtbGluZS5qc1wiO1xuZXhwb3J0IGNsYXNzIE9wZXJhdGlvbiB7XG4gICAgdHlwZTtcbiAgICBudW1NdWx0aVBvbHlzO1xuICAgIHJ1bih0eXBlLCBnZW9tLCBtb3JlR2VvbXMpIHtcbiAgICAgICAgb3BlcmF0aW9uLnR5cGUgPSB0eXBlO1xuICAgICAgICAvKiBDb252ZXJ0IGlucHV0cyB0byBNdWx0aVBvbHkgb2JqZWN0cyAqL1xuICAgICAgICBjb25zdCBtdWx0aXBvbHlzID0gW25ldyBnZW9tSW4uTXVsdGlQb2x5SW4oZ2VvbSwgdHJ1ZSldO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG1vcmVHZW9tcy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIG11bHRpcG9seXMucHVzaChuZXcgZ2VvbUluLk11bHRpUG9seUluKG1vcmVHZW9tc1tpXSwgZmFsc2UpKTtcbiAgICAgICAgfVxuICAgICAgICBvcGVyYXRpb24ubnVtTXVsdGlQb2x5cyA9IG11bHRpcG9seXMubGVuZ3RoO1xuICAgICAgICAvKiBCQm94IG9wdGltaXphdGlvbiBmb3IgZGlmZmVyZW5jZSBvcGVyYXRpb25cbiAgICAgICAgICogSWYgdGhlIGJib3ggb2YgYSBtdWx0aXBvbHlnb24gdGhhdCdzIHBhcnQgb2YgdGhlIGNsaXBwaW5nIGRvZXNuJ3RcbiAgICAgICAgICogaW50ZXJzZWN0IHRoZSBiYm94IG9mIHRoZSBzdWJqZWN0IGF0IGFsbCwgd2UgY2FuIGp1c3QgZHJvcCB0aGF0XG4gICAgICAgICAqIG11bHRpcGxveWdvbi4gKi9cbiAgICAgICAgaWYgKG9wZXJhdGlvbi50eXBlID09PSBcImRpZmZlcmVuY2VcIikge1xuICAgICAgICAgICAgLy8gaW4gcGxhY2UgcmVtb3ZhbFxuICAgICAgICAgICAgY29uc3Qgc3ViamVjdCA9IG11bHRpcG9seXNbMF07XG4gICAgICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IG11bHRpcG9seXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdldEJib3hPdmVybGFwKG11bHRpcG9seXNbaV0uYmJveCwgc3ViamVjdC5iYm94KSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwb2x5cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogQkJveCBvcHRpbWl6YXRpb24gZm9yIGludGVyc2VjdGlvbiBvcGVyYXRpb25cbiAgICAgICAgICogSWYgd2UgY2FuIGZpbmQgYW55IHBhaXIgb2YgbXVsdGlwb2x5Z29ucyB3aG9zZSBiYm94IGRvZXMgbm90IG92ZXJsYXAsXG4gICAgICAgICAqIHRoZW4gdGhlIHJlc3VsdCB3aWxsIGJlIGVtcHR5LiAqL1xuICAgICAgICBpZiAob3BlcmF0aW9uLnR5cGUgPT09IFwiaW50ZXJzZWN0aW9uXCIpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHRoaXMgaXMgTyhuXjIpIGluIG51bWJlciBvZiBwb2x5Z29ucy4gQnkgc29ydGluZyB0aGUgYmJveGVzLFxuICAgICAgICAgICAgLy8gICAgICAgaXQgY291bGQgYmUgb3B0aW1pemVkIHRvIE8obiAqIGxuKG4pKVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBtdWx0aXBvbHlzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1wQSA9IG11bHRpcG9seXNbaV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxLCBqTWF4ID0gbXVsdGlwb2x5cy5sZW5ndGg7IGogPCBqTWF4OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldEJib3hPdmVybGFwKG1wQS5iYm94LCBtdWx0aXBvbHlzW2pdLmJib3gpID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBQdXQgc2VnbWVudCBlbmRwb2ludHMgaW4gYSBwcmlvcml0eSBxdWV1ZSAqL1xuICAgICAgICBjb25zdCBxdWV1ZSA9IG5ldyBTcGxheVRyZWVTZXQoU3dlZXBFdmVudC5jb21wYXJlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBtdWx0aXBvbHlzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc3dlZXBFdmVudHMgPSBtdWx0aXBvbHlzW2ldLmdldFN3ZWVwRXZlbnRzKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgak1heCA9IHN3ZWVwRXZlbnRzLmxlbmd0aDsgaiA8IGpNYXg7IGorKykge1xuICAgICAgICAgICAgICAgIHF1ZXVlLmFkZChzd2VlcEV2ZW50c1tqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogUGFzcyB0aGUgc3dlZXAgbGluZSBvdmVyIHRob3NlIGVuZHBvaW50cyAqL1xuICAgICAgICBjb25zdCBzd2VlcExpbmUgPSBuZXcgU3dlZXBMaW5lKHF1ZXVlKTtcbiAgICAgICAgbGV0IGV2dCA9IG51bGw7XG4gICAgICAgIGlmIChxdWV1ZS5zaXplICE9IDApIHtcbiAgICAgICAgICAgIGV2dCA9IHF1ZXVlLmZpcnN0KCk7XG4gICAgICAgICAgICBxdWV1ZS5kZWxldGUoZXZ0KTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoZXZ0KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdFdmVudHMgPSBzd2VlcExpbmUucHJvY2VzcyhldnQpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBuZXdFdmVudHMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZ0ID0gbmV3RXZlbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChldnQuY29uc3VtZWRCeSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5hZGQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWV1ZS5zaXplICE9IDApIHtcbiAgICAgICAgICAgICAgICBldnQgPSBxdWV1ZS5maXJzdCgpO1xuICAgICAgICAgICAgICAgIHF1ZXVlLmRlbGV0ZShldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXZ0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBmcmVlIHNvbWUgbWVtb3J5IHdlIGRvbid0IG5lZWQgYW55bW9yZVxuICAgICAgICBwcmVjaXNpb24ucmVzZXQoKTtcbiAgICAgICAgLyogQ29sbGVjdCBhbmQgY29tcGlsZSBzZWdtZW50cyB3ZSdyZSBrZWVwaW5nIGludG8gYSBtdWx0aXBvbHlnb24gKi9cbiAgICAgICAgY29uc3QgcmluZ3NPdXQgPSBnZW9tT3V0LlJpbmdPdXQuZmFjdG9yeShzd2VlcExpbmUuc2VnbWVudHMpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgZ2VvbU91dC5NdWx0aVBvbHlPdXQocmluZ3NPdXQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmdldEdlb20oKTtcbiAgICB9XG59XG4vLyBzaW5nbGV0b24gYXZhaWxhYmxlIGJ5IGltcG9ydFxuY29uc3Qgb3BlcmF0aW9uID0gbmV3IE9wZXJhdGlvbigpO1xuZXhwb3J0IGRlZmF1bHQgb3BlcmF0aW9uO1xuIiwgImltcG9ydCB7IHByZWNpc2lvbiB9IGZyb20gXCIuL3ByZWNpc2lvbi5qc1wiO1xuaW1wb3J0IG9wZXJhdGlvbiBmcm9tIFwiLi9vcGVyYXRpb24uanNcIjtcbmV4cG9ydCBjb25zdCB1bmlvbiA9IChnZW9tLCAuLi5tb3JlR2VvbXMpID0+IG9wZXJhdGlvbi5ydW4oXCJ1bmlvblwiLCBnZW9tLCBtb3JlR2VvbXMpO1xuZXhwb3J0IGNvbnN0IGludGVyc2VjdGlvbiA9IChnZW9tLCAuLi5tb3JlR2VvbXMpID0+IG9wZXJhdGlvbi5ydW4oXCJpbnRlcnNlY3Rpb25cIiwgZ2VvbSwgbW9yZUdlb21zKTtcbmV4cG9ydCBjb25zdCB4b3IgPSAoZ2VvbSwgLi4ubW9yZUdlb21zKSA9PiBvcGVyYXRpb24ucnVuKFwieG9yXCIsIGdlb20sIG1vcmVHZW9tcyk7XG5leHBvcnQgY29uc3QgZGlmZmVyZW5jZSA9IChnZW9tLCAuLi5tb3JlR2VvbXMpID0+IG9wZXJhdGlvbi5ydW4oXCJkaWZmZXJlbmNlXCIsIGdlb20sIG1vcmVHZW9tcyk7XG5leHBvcnQgY29uc3Qgc2V0UHJlY2lzaW9uID0gcHJlY2lzaW9uLnNldDtcbiIsICJpbXBvcnQgKiBhcyBwb2x5Z29uQ2xpcHBpbmcgZnJvbSAncG9seWNsaXAtdHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZShnZW9tKSB7XG4gIGNvbnN0IGZlYXQgPSB7IHR5cGU6ICdGZWF0dXJlJyB9O1xuICBmZWF0Lmdlb21ldHJ5ID0gZ2VvbTtcbiAgcmV0dXJuIGZlYXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRHZW9tZXRyeShnZW9qc29uKSB7XG4gIGlmIChnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlJykgcmV0dXJuIGdlb2pzb24uZ2VvbWV0cnk7XG4gIHJldHVybiBnZW9qc29uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29vcmRzKGdlb2pzb24pIHtcbiAgaWYgKGdlb2pzb24gJiYgZ2VvanNvbi5nZW9tZXRyeSAmJiBnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzKVxuICAgIHJldHVybiBnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICByZXR1cm4gZ2VvanNvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cmZQb2ludChjb29yZHMsIHByZWNpc2lvbiA9IC0xKSB7XG4gIGlmIChwcmVjaXNpb24gPiAtMSkge1xuICAgIGNvb3Jkc1swXSA9IEwuVXRpbC5mb3JtYXROdW0oY29vcmRzWzBdLCBwcmVjaXNpb24pO1xuICAgIGNvb3Jkc1sxXSA9IEwuVXRpbC5mb3JtYXROdW0oY29vcmRzWzFdLCBwcmVjaXNpb24pO1xuICB9XG5cbiAgcmV0dXJuIGZlYXR1cmUoeyB0eXBlOiAnUG9pbnQnLCBjb29yZGluYXRlczogY29vcmRzIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVyZkxpbmVTdHJpbmcoY29vcmRzKSB7XG4gIHJldHVybiBmZWF0dXJlKHsgdHlwZTogJ0xpbmVTdHJpbmcnLCBjb29yZGluYXRlczogY29vcmRzIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVyZk11bHRpTGluZVN0cmluZyhjb29yZHMpIHtcbiAgcmV0dXJuIGZlYXR1cmUoeyB0eXBlOiAnTXVsdGlMaW5lU3RyaW5nJywgY29vcmRpbmF0ZXM6IGNvb3JkcyB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cmZQb2x5Z29uKGNvb3Jkcykge1xuICByZXR1cm4gZmVhdHVyZSh7IHR5cGU6ICdQb2x5Z29uJywgY29vcmRpbmF0ZXM6IGNvb3JkcyB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cmZNdWx0aVBvbHlnb24oY29vcmRzKSB7XG4gIHJldHVybiBmZWF0dXJlKHsgdHlwZTogJ011bHRpUG9seWdvbicsIGNvb3JkaW5hdGVzOiBjb29yZHMgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJmRmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMpIHtcbiAgcmV0dXJuIHsgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJywgZmVhdHVyZXMgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdChwb2x5MSwgcG9seTIpIHtcbiAgY29uc3QgZ2VvbTEgPSBnZXRHZW9tZXRyeShwb2x5MSk7XG4gIGNvbnN0IGdlb20yID0gZ2V0R2VvbWV0cnkocG9seTIpO1xuXG4gIGNvbnN0IGludGVyc2VjdGlvbiA9IHBvbHlnb25DbGlwcGluZy5pbnRlcnNlY3Rpb24oXG4gICAgZ2VvbTEuY29vcmRpbmF0ZXMsXG4gICAgZ2VvbTIuY29vcmRpbmF0ZXNcbiAgKTtcbiAgaWYgKGludGVyc2VjdGlvbi5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICBpZiAoaW50ZXJzZWN0aW9uLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHR1cmZQb2x5Z29uKGludGVyc2VjdGlvblswXSk7XG4gIHJldHVybiB0dXJmTXVsdGlQb2x5Z29uKGludGVyc2VjdGlvbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlKHBvbHlnb24xLCBwb2x5Z29uMikge1xuICBjb25zdCBnZW9tMSA9IGdldEdlb21ldHJ5KHBvbHlnb24xKTtcbiAgY29uc3QgZ2VvbTIgPSBnZXRHZW9tZXRyeShwb2x5Z29uMik7XG5cbiAgY29uc3QgZGlmZmVyZW5jZWQgPSBwb2x5Z29uQ2xpcHBpbmcuZGlmZmVyZW5jZShcbiAgICBnZW9tMS5jb29yZGluYXRlcyxcbiAgICBnZW9tMi5jb29yZGluYXRlc1xuICApO1xuICBpZiAoZGlmZmVyZW5jZWQubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgaWYgKGRpZmZlcmVuY2VkLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHR1cmZQb2x5Z29uKGRpZmZlcmVuY2VkWzBdKTtcbiAgcmV0dXJuIHR1cmZNdWx0aVBvbHlnb24oZGlmZmVyZW5jZWQpO1xufVxuXG4vLyBMaW5lU3RyaW5nIGNvb3JkcyByZXR1cm5zIDFcbi8vIE11bHRpTGluZVN0cmluZyBjb29yZHMgcmV0dXJucyAyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVwdGhPZkNvb3Jkcyhjb29yZHMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29vcmRzKSkge1xuICAgIHJldHVybiAxICsgZ2V0RGVwdGhPZkNvb3Jkcyhjb29yZHNbMF0pO1xuICB9XG4gIHJldHVybiAtMTsgLy8gcmV0dXJuIC0xIGJlY2F1c2UgdGhpcyBpcyBhbHJlYWR5IHRoZSBsbmcgb2YgdGhlIGxuZ2xhdCAoZ2VvanNvbikgYXJyYXlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5Qb2x5bGluZShwb2x5bGluZSkge1xuICBpZiAocG9seWxpbmUgaW5zdGFuY2VvZiBMLlBvbHlsaW5lKSB7XG4gICAgcG9seWxpbmUgPSBwb2x5bGluZS50b0dlb0pTT04oMTUpO1xuICB9XG5cbiAgY29uc3QgY29vcmRzID0gZ2V0Q29vcmRzKHBvbHlsaW5lKTtcbiAgY29uc3QgZGVwdGggPSBnZXREZXB0aE9mQ29vcmRzKGNvb3Jkcyk7XG4gIGNvbnN0IGZlYXR1cmVzID0gW107XG4gIGlmIChkZXB0aCA+IDEpIHtcbiAgICBjb29yZHMuZm9yRWFjaCgoY29vcmQpID0+IHtcbiAgICAgIGZlYXR1cmVzLnB1c2godHVyZkxpbmVTdHJpbmcoY29vcmQpKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBmZWF0dXJlcy5wdXNoKHBvbHlsaW5lKTtcbiAgfVxuXG4gIHJldHVybiBmZWF0dXJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwVG9NdWx0aUxpbmVTdHJpbmcoZ3JvdXApIHtcbiAgY29uc3QgY29vcmRzID0gW107XG4gIGdyb3VwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICBjb29yZHMucHVzaChnZXRDb29yZHMobGF5ZXIudG9HZW9KU09OKDE1KSkpO1xuICB9KTtcbiAgcmV0dXJuIHR1cmZNdWx0aUxpbmVTdHJpbmcoY29vcmRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0xhdExuZyhjb29yZHMpIHtcbiAgY29uc3QgbG5nbGF0ID0gZ2V0Q29vcmRzKGNvb3Jkcyk7XG4gIHJldHVybiBMLmxhdExuZyhsbmdsYXRbMV0sIGxuZ2xhdFswXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0QXJyYXlUb0xhdExuZ3MoYXJyKSB7XG4gIGNvbnN0IGxhdGxuZ3MgPSBbXTtcbiAgaWYgKGFyci5mZWF0dXJlcykge1xuICAgIGFyci5mZWF0dXJlcy5mb3JFYWNoKChnZW9qc29uKSA9PiB7XG4gICAgICBsYXRsbmdzLnB1c2goY29udmVydFRvTGF0TG5nKGdlb2pzb24pKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbGF0bG5ncztcbn1cbiIsICJpbXBvcnQgRHJhdyBmcm9tICcuL0wuUE0uRHJhdyc7XG5pbXBvcnQgeyBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5EcmF3LlRleHQgPSBEcmF3LmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIHRoaXMuX3NoYXBlID0gJ1RleHQnO1xuICAgIHRoaXMudG9vbGJhckJ1dHRvbk5hbWUgPSAnZHJhd1RleHQnO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIC8vIFRPRE86IFRoaW5rIGFib3V0IGlmIHRoZXNlIG9wdGlvbnMgY291bGQgYmUgcGFzc2VkIGdsb2JhbGx5IGZvciBhbGxcbiAgICAvLyBpbnN0YW5jZXMgb2YgTC5QTS5EcmF3LiBTbyBhIGRldiBjb3VsZCBzZXQgZHJhd2luZyBzdHlsZSBvbmUgdGltZSBhcyBzb21lIGtpbmQgb2YgY29uZmlnXG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBjaGFuZ2UgZW5hYmxlZCBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gY3JlYXRlIGEgbWFya2VyIG9uIGNsaWNrIG9uIHRoZSBtYXBcbiAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fY3JlYXRlTWFya2VyLCB0aGlzKTtcblxuICAgIC8vIHRvZ2dsZSB0aGUgZHJhdyBidXR0b24gb2YgdGhlIFRvb2xiYXIgaW4gY2FzZSBkcmF3aW5nIG1vZGUgZ290IGVuYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIHRydWUpO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgaGludG1hcmtlciBvbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgdGhpcy5faGludE1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgekluZGV4T2Zmc2V0OiAxMDAsXG4gICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiBjdXJzb3ItbWFya2VyJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2hpbnRNYXJrZXIuYWRkVG8odGhpcy5fbWFwKTtcblxuICAgIC8vIHNob3cgdGhlIGhpbnRtYXJrZXIgaWYgdGhlIG9wdGlvbiBpcyBzZXRcbiAgICBpZiAodGhpcy5vcHRpb25zLmN1cnNvck1hcmtlcikge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2hpbnRNYXJrZXIuX2ljb24sICd2aXNpYmxlJyk7XG4gICAgfVxuXG4gICAgLy8gYWRkIHRvb2x0aXAgdG8gaGludG1hcmtlclxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXJcbiAgICAgICAgLmJpbmRUb29sdGlwKGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5wbGFjZVRleHQnKSwge1xuICAgICAgICAgIHBlcm1hbmVudDogdHJ1ZSxcbiAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQoMCwgMTApLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JvdHRvbScsXG5cbiAgICAgICAgICBvcGFjaXR5OiAwLjgsXG4gICAgICAgIH0pXG4gICAgICAgIC5vcGVuVG9vbHRpcCgpO1xuICAgIH1cblxuICAgIC8vIHRoaXMgaXMganVzdCB0byBrZWVwIHRoZSBzbmFwcGFibGUgbWl4aW4gaGFwcHlcbiAgICB0aGlzLl9sYXllciA9IHRoaXMuX2hpbnRNYXJrZXI7XG5cbiAgICAvLyBzeW5jIGhpbnQgbWFya2VyIHdpdGggbW91c2UgY3Vyc29yXG4gICAgdGhpcy5fbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuY2xhc3NMaXN0LmFkZCgnZ2VvbWFuLWRyYXctY3Vyc29yJyk7XG5cbiAgICAvLyBmaXJlIGRyYXdzdGFydCBldmVudFxuICAgIHRoaXMuX2ZpcmVEcmF3U3RhcnQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIGNhbmNlbCwgaWYgZHJhd2luZyBtb2RlIGlzbid0IGV2ZW4gZW5hYmxlZFxuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBlbmFibGVkIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gdW5kYmluZCBjbGljayBldmVudCwgZG9uJ3QgY3JlYXRlIGEgbWFya2VyIG9uIGNsaWNrIGFueW1vcmVcbiAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyByZW1vdmUgaGludCBtYXJrZXJcbiAgICB0aGlzLl9oaW50TWFya2VyPy5yZW1vdmUoKTtcblxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QucmVtb3ZlKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIHJlbW92ZSBldmVudCBsaXN0ZW5lciB0byBzeW5jIGhpbnQgbWFya2VyXG4gICAgdGhpcy5fbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBkcmF3ZW5kIGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdFbmQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TWFya2VyKGUpIHtcbiAgICAvLyBtb3ZlIHRoZSBjdXJzb3IgbWFya2VyXG4gICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuXG4gICAgLy8gaWYgc25hcHBpbmcgaXMgZW5hYmxlZCwgZG8gaXRcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgY29uc3QgZmFrZURyYWdFdmVudCA9IGU7XG4gICAgICBmYWtlRHJhZ0V2ZW50LnRhcmdldCA9IHRoaXMuX2hpbnRNYXJrZXI7XG4gICAgICB0aGlzLl9oYW5kbGVTbmFwcGluZyhmYWtlRHJhZ0V2ZW50KTtcbiAgICB9XG4gIH0sXG4gIF9jcmVhdGVNYXJrZXIoZSkge1xuICAgIGlmICghZS5sYXRsbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBzbmFwIGZpbmlzaCBpcyByZXF1aXJlZCBidXQgdGhlIGxhc3QgbWFya2VyIHdhc24ndCBzbmFwcGVkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZVNuYXBUb0ZpbmlzaCAmJlxuICAgICAgIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQgJiZcbiAgICAgICF0aGlzLl9pc0ZpcnN0TGF5ZXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGFzc2lnbiB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2sgdG8gdGhlIGhpbnRNYXJrZXIsIHRoYXQncyBuZWNlc3NhcnkgZm9yXG4gICAgLy8gbW9iaWxlIHdoZXJlIHRoZSBtYXJrZXIgY2FuJ3QgZm9sbG93IGEgY3Vyc29yXG4gICAgaWYgKCF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvb3JkaW5hdGUgZm9yIG5ldyB2ZXJ0ZXggYnkgaGludE1hcmtlciAoY3Vyc29yIG1hcmtlcilcbiAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgdGhpcy50ZXh0QXJlYSA9IHRoaXMuX2NyZWF0ZVRleHRBcmVhKCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRleHRPcHRpb25zPy5jbGFzc05hbWUpIHtcbiAgICAgIGNvbnN0IGNzc0NsYXNzZXMgPSB0aGlzLm9wdGlvbnMudGV4dE9wdGlvbnMuY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG4gICAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5hZGQoLi4uY3NzQ2xhc3Nlcyk7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dEFyZWFJY29uID0gdGhpcy5fY3JlYXRlVGV4dEljb24odGhpcy50ZXh0QXJlYSk7XG5cbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTC5NYXJrZXIobGF0bG5nLCB7XG4gICAgICB0ZXh0TWFya2VyOiB0cnVlLFxuICAgICAgX3RleHRNYXJrZXJPdmVyUE06IHRydWUsIC8vIHdlIG5lZWQgdG8gcHV0IHRoaXMgaW50byB0aGUgb3B0aW9ucywgZWxzZSB3ZSBjYW4ndCBjYXRjaCB0aGlzIGluIHRoZSBpbml0IG1ldGhvZFxuICAgICAgaWNvbjogdGV4dEFyZWFJY29uLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAnbWFya2VyUGFuZScpO1xuICAgIHRoaXMuX2ZpbmlzaExheWVyKG1hcmtlcik7XG5cbiAgICBpZiAoIW1hcmtlci5wbSkge1xuICAgICAgLy8gaWYgcG0gaXMgbm90IGNyZWF0ZSB3ZSBkb24ndCBhcHBseSBkcmFnZ2luZyB0byB0aGUgbWFya2VyIChkcmFnZ2FibGUgaXMgYXBwbGllZCB0byB0aGUgbWFya2VyLCB3aGVuIGl0IGlzIGFkZGVkIHRvIHRoZSBtYXAgKVxuICAgICAgbWFya2VyLm9wdGlvbnMuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIGFkZCBtYXJrZXIgdG8gdGhlIG1hcFxuICAgIG1hcmtlci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcbiAgICBpZiAobWFya2VyLnBtKSB7XG4gICAgICBtYXJrZXIucG0udGV4dEFyZWEgPSB0aGlzLnRleHRBcmVhO1xuICAgICAgTC5zZXRPcHRpb25zKG1hcmtlci5wbSwge1xuICAgICAgICByZW1vdmVJZkVtcHR5OiB0aGlzLm9wdGlvbnMudGV4dE9wdGlvbnM/LnJlbW92ZUlmRW1wdHkgPz8gdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBmb2N1c0FmdGVyRHJhdyA9IHRoaXMub3B0aW9ucy50ZXh0T3B0aW9ucz8uZm9jdXNBZnRlckRyYXcgPz8gdHJ1ZTtcbiAgICAgIG1hcmtlci5wbS5fY3JlYXRlVGV4dE1hcmtlcihmb2N1c0FmdGVyRHJhdyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRleHRPcHRpb25zPy50ZXh0KSB7XG4gICAgICAgIG1hcmtlci5wbS5zZXRUZXh0KHRoaXMub3B0aW9ucy50ZXh0T3B0aW9ucy50ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaXJlIHRoZSBwbTpjcmVhdGUgZXZlbnQgYW5kIHBhc3Mgc2hhcGUgYW5kIG1hcmtlclxuICAgIHRoaXMuX2ZpcmVDcmVhdGUobWFya2VyKTtcblxuICAgIHRoaXMuX2NsZWFudXBTbmFwcGluZygpO1xuXG4gICAgLy8gZGlzYWJsZSBkcmF3aW5nXG4gICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb250aW51ZURyYXdpbmcpIHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9LFxuXG4gIF9jcmVhdGVUZXh0QXJlYSgpIHtcbiAgICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGV4dEFyZWEucmVhZE9ubHkgPSB0cnVlO1xuICAgIHRleHRBcmVhLmNsYXNzTGlzdC5hZGQoJ3BtLXRleHRhcmVhJywgJ3BtLWRpc2FibGVkJyk7XG4gICAgcmV0dXJuIHRleHRBcmVhO1xuICB9LFxuXG4gIF9jcmVhdGVUZXh0SWNvbih0ZXh0QXJlYSkge1xuICAgIHJldHVybiBMLmRpdkljb24oe1xuICAgICAgY2xhc3NOYW1lOiAncG0tdGV4dC1tYXJrZXInLFxuICAgICAgaHRtbDogdGV4dEFyZWEsXG4gICAgfSk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgeyBnZXRSZW5kZXJlciB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5jb25zdCBEcmFnTWl4aW4gPSB7XG4gIGVuYWJsZUxheWVyRHJhZygpIHtcbiAgICAvLyBsYXllciBpcyBub3QgYWxsb3dlZCB0byBkcmFnZ2VkIG9yIGlzIG5vdCBvbiB0aGUgbWFwXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8ICF0aGlzLl9sYXllci5fbWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYmVmb3JlIGVuYWJsaW5nIGxheWVyIGRyYWcsIGRpc2FibGUgbGF5ZXIgZWRpdGluZ1xuICAgIHRoaXMuZGlzYWJsZSgpO1xuXG4gICAgdGhpcy5fbGF5ZXJEcmFnRW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBpZiBsYXllciBuZXZlciBlbmFibGVkIGFuZCBfbWFwIGlzIG5vdCBzZXQgKGZvciBzbmFwcGluZylcbiAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuTWFya2VyIHx8XG4gICAgICB0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuSW1hZ2VPdmVybGF5XG4gICAgKSB7XG4gICAgICAvLyBwcmV2ZW50cyBkcmFnZ2luZyB0aGUgRE9NIGltYWdlIGluc3RlYWQgb2YgdGhlIG1hcmtlclxuICAgICAgTC5Eb21FdmVudC5vbih0aGlzLl9nZXRET01FbGVtKCksICdkcmFnc3RhcnQnLCB0aGlzLl9zdG9wRE9NSW1hZ2VEcmFnKTtcbiAgICB9XG5cbiAgICAvLyBEaXNhYmxlIExlYWZsZXQgRHJhZ2dpbmcgb2YgTWFya2Vyc1xuICAgIGlmICh0aGlzLl9sYXllci5kcmFnZ2luZykge1xuICAgICAgdGhpcy5fbGF5ZXIuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIHRlbXBvcmFyeSBjb29yZCB2YXJpYWJsZSBmb3IgZGVsdGEgY2FsY3VsYXRpb25cbiAgICB0aGlzLl90ZW1wRHJhZ0Nvb3JkID0gbnVsbDtcblxuICAgIC8vIGFkZCBDU1MgY2xhc3NcbiAgICBpZiAoZ2V0UmVuZGVyZXIodGhpcy5fbGF5ZXIpIGluc3RhbmNlb2YgTC5DYW52YXMpIHtcbiAgICAgIHRoaXMuX2xheWVyLm9uKCdtb3VzZW91dCcsIHRoaXMucmVtb3ZlRHJhZ2dpbmdDbGFzcywgdGhpcyk7XG4gICAgICB0aGlzLl9sYXllci5vbignbW91c2VvdmVyJywgdGhpcy5hZGREcmFnZ2luZ0NsYXNzLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGREcmFnZ2luZ0NsYXNzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUgPSB0aGlzLl9sYXllci5fbWFwLmRyYWdnaW5nLl9lbmFibGVkO1xuXG4gICAgLy8gY2FuIHdlIHJlbGlhYmx5IHNhdmUgdGhlIG1hcCdzIGRyYWdnYWJsZSBzdGF0ZT9cbiAgICAvLyAoaWYgdGhlIG1vdXNlIHVwIGV2ZW50IGhhcHBlbnMgb3V0c2lkZSB0aGUgY29udGFpbmVyLCB0aGVuIHRoZSBtYXAgY2FuIGJlY29tZSB1bmRyYWdnYWJsZSlcbiAgICB0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSA9IHRydWU7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9nZXRET01FbGVtKCk7XG5cbiAgICAvLyBjaGVjayBpZiBET00gZWxlbWVudCBleGlzdHNcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAvLyBhZGQgbW91c2Vkb3duIGV2ZW50IHRvIHRyaWdnZXIgZHJhZ1xuICAgICAgaWYgKGdldFJlbmRlcmVyKHRoaXMuX2xheWVyKSBpbnN0YW5jZW9mIEwuQ2FudmFzKSB7XG4gICAgICAgIHRoaXMuX2xheWVyLm9uKFxuICAgICAgICAgICd0b3VjaHN0YXJ0IG1vdXNlZG93bicsXG4gICAgICAgICAgdGhpcy5fZHJhZ01peGluT25Nb3VzZURvd24sXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgICB0aGlzLl9tYXAucG0uX2FkZFRvdWNoRXZlbnRzKGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBjYW4ndCBqdXN0IHVzZSBsYXllci5vbignbW91c2Vkb3duJykgYmVjYXVzZSBvbiB0b3VjaCBkZXZpY2VzIHRoZSBldmVudCBpcyBub3QgZmlyZWQgaWYgdXNlciBwcmVzc2VzIG9uIHRoZSBsYXllciBhbmQgdGhlbiBkcmFnIGl0LlxuICAgICAgICAvLyBXaXRoIGNoZWNraW5nIG9uIHRvdWNoc3RhcnQgYW5kIG1vdXNlZG93biBvbiB0aGUgRE9NIGVsZW1lbnQgd2UgY2FuIGxpc3RlbiBvbiB0aGUgbmVlZGVkIGV2ZW50c1xuICAgICAgICBMLkRvbUV2ZW50Lm9uKFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAndG91Y2hzdGFydCBtb3VzZWRvd24nLFxuICAgICAgICAgIHRoaXMuX3NpbXVsYXRlTW91c2VEb3duRXZlbnQsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2ZpcmVEcmFnRW5hYmxlKCk7XG4gIH0sXG4gIGRpc2FibGVMYXllckRyYWcoKSB7XG4gICAgdGhpcy5fbGF5ZXJEcmFnRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gcmVtb3ZlIENTUyBjbGFzc1xuICAgIGlmIChnZXRSZW5kZXJlcih0aGlzLl9sYXllcikgaW5zdGFuY2VvZiBMLkNhbnZhcykge1xuICAgICAgdGhpcy5fbGF5ZXIub2ZmKCdtb3VzZW91dCcsIHRoaXMucmVtb3ZlRHJhZ2dpbmdDbGFzcywgdGhpcyk7XG4gICAgICB0aGlzLl9sYXllci5vZmYoJ21vdXNlb3ZlcicsIHRoaXMuYWRkRHJhZ2dpbmdDbGFzcywgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlRHJhZ2dpbmdDbGFzcygpO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZSBsYXllciBpcyBkcmFnZ2VkIGJ1dCBub3cgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUgJiYgdGhpcy5fZHJhZ2dpbmcpIHtcbiAgICAgIHRoaXMuX21hcC5kcmFnZ2luZy5lbmFibGUoKTtcbiAgICB9XG5cbiAgICAvLyBubyBsb25nZXIgc2F2ZSB0aGUgZHJhZyBzdGF0ZVxuICAgIHRoaXMuX3NhZmVUb0NhY2hlRHJhZ1N0YXRlID0gZmFsc2U7XG5cbiAgICAvLyBEaXNhYmxlIExlYWZsZXQgRHJhZ2dpbmcgb2YgTWFya2Vyc1xuICAgIGlmICh0aGlzLl9sYXllci5kcmFnZ2luZykge1xuICAgICAgdGhpcy5fbGF5ZXIuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2dldERPTUVsZW0oKTtcbiAgICAvLyBjaGVjayBpZiBET00gZWxlbWVudCBleGlzdHNcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBpZiAoZ2V0UmVuZGVyZXIodGhpcy5fbGF5ZXIpIGluc3RhbmNlb2YgTC5DYW52YXMpIHtcbiAgICAgICAgdGhpcy5fbGF5ZXIub2ZmKFxuICAgICAgICAgICd0b3VjaHN0YXJ0IG1vdXNlZG93bicsXG4gICAgICAgICAgdGhpcy5fZHJhZ01peGluT25Nb3VzZURvd24sXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgICB0aGlzLl9tYXAucG0uX3JlbW92ZVRvdWNoRXZlbnRzKGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkaXNhYmxlIG1vdXNlZG93biBldmVudFxuICAgICAgICBMLkRvbUV2ZW50Lm9mZihcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgJ3RvdWNoc3RhcnQgbW91c2Vkb3duJyxcbiAgICAgICAgICB0aGlzLl9zaW11bGF0ZU1vdXNlRG93bkV2ZW50LFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGF5ZXJEcmFnZ2VkKSB7XG4gICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2xheWVyRHJhZ2dlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fZmlyZURyYWdEaXNhYmxlKCk7XG4gIH0sXG4gIC8vIFRPRE86IG1ha2UgdGhpcyBwcml2YXRlIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgZHJhZ2dpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RyYWdnaW5nO1xuICB9LFxuICBsYXllckRyYWdFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2xheWVyRHJhZ0VuYWJsZWQ7XG4gIH0sXG4gIC8vIFdlIG5lZWQgdG8gc2ltdWxhdGUgYSBtb3VzZWRvd24gZXZlbnQgb24gdGhlIGxheWVyIG9iamVjdC4gV2UgY2FuJ3QganVzdCB1c2UgbGF5ZXIub24oJ21vdXNlZG93bicpIGJlY2F1c2Ugb24gdG91Y2ggZGV2aWNlcyB0aGUgZXZlbnQgaXMgbm90IGZpcmVkIGlmIHVzZXIgcHJlc3NlcyBvbiB0aGUgbGF5ZXIgYW5kIHRoZW4gZHJhZyBpdC5cbiAgLy8gV2l0aCBjaGVja2luZyBvbiB0b3VjaHN0YXJ0IGFuZCBtb3VzZWRvd24gb24gdGhlIERPTSBlbGVtZW50IHdlIGNhbiBsaXN0ZW4gb24gdGhlIG5lZWRlZCBldmVudHNcbiAgX3NpbXVsYXRlTW91c2VEb3duRXZlbnQoZSkge1xuICAgIGNvbnN0IGZpcnN0ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcbiAgICBjb25zdCBldnQgPSB7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBmaXJzdCxcbiAgICAgIHRhcmdldDogdGhpcy5fbGF5ZXIsXG4gICAgfTtcbiAgICAvLyB3ZSBleHBlY3QgaW4gdGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgY2xpY2tlZCBsYXRsbmcgLyBwb2ludFxuICAgIGV2dC5jb250YWluZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChmaXJzdCk7XG4gICAgZXZ0LmxhdGxuZyA9IHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKGV2dC5jb250YWluZXJQb2ludCk7XG5cbiAgICB0aGlzLl9kcmFnTWl4aW5Pbk1vdXNlRG93bihldnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgX3NpbXVsYXRlTW91c2VNb3ZlRXZlbnQoZSkge1xuICAgIGNvbnN0IGZpcnN0ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcbiAgICBjb25zdCBldnQgPSB7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBmaXJzdCxcbiAgICAgIHRhcmdldDogdGhpcy5fbGF5ZXIsXG4gICAgfTtcbiAgICAvLyB3ZSBleHBlY3QgaW4gdGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgY2xpY2tlZCBsYXRsbmcgLyBwb2ludFxuICAgIGV2dC5jb250YWluZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChmaXJzdCk7XG4gICAgZXZ0LmxhdGxuZyA9IHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKGV2dC5jb250YWluZXJQb2ludCk7XG5cbiAgICB0aGlzLl9kcmFnTWl4aW5Pbk1vdXNlTW92ZShldnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgX3NpbXVsYXRlTW91c2VVcEV2ZW50KGUpIHtcbiAgICBjb25zdCBmaXJzdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG4gICAgY29uc3QgZXZ0ID0ge1xuICAgICAgb3JpZ2luYWxFdmVudDogZmlyc3QsXG4gICAgICB0YXJnZXQ6IHRoaXMuX2xheWVyLFxuICAgIH07XG4gICAgaWYgKGUudHlwZS5pbmRleE9mKCd0b3VjaCcpID09PSAtMSkge1xuICAgICAgLy8gd2UgZXhwZWN0IGluIHRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGNsaWNrZWQgbGF0bG5nIC8gcG9pbnRcbiAgICAgIGV2dC5jb250YWluZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcbiAgICAgIGV2dC5sYXRsbmcgPSB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyhldnQuY29udGFpbmVyUG9pbnQpO1xuICAgIH1cbiAgICB0aGlzLl9kcmFnTWl4aW5Pbk1vdXNlVXAoZXZ0KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIF9kcmFnTWl4aW5Pbk1vdXNlRG93bihlKSB7XG4gICAgLy8gY2FuY2VsIGlmIG1vdXNlIGJ1dHRvbiBpcyBOT1QgdGhlIGxlZnQgYnV0dG9uXG4gICAgaWYgKGUub3JpZ2luYWxFdmVudC5idXR0b24gPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX292ZXJ3cml0ZUV2ZW50SWZJdENvbWVzRnJvbU1hcmtlcihlKTtcblxuICAgIGNvbnN0IGZyb21MYXllclN5bmMgPSBlLl9mcm9tTGF5ZXJTeW5jO1xuXG4gICAgLy8gaWYgb3RoZXIgbGF5ZXJzIGZvdW5kLCBzbmFwcGluZyB3aWxsIGJlIGRpc2FibGVkXG4gICAgY29uc3QgbGF5ZXJzVG9TeW5jRm91bmQgPSB0aGlzLl9zeW5jTGF5ZXJzKCdfZHJhZ01peGluT25Nb3VzZURvd24nLCBlKTtcblxuICAgIGlmICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuTWFya2VyKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSAmJiAhZnJvbUxheWVyU3luYyAmJiAhbGF5ZXJzVG9TeW5jRm91bmQpIHtcbiAgICAgICAgdGhpcy5faW5pdFNuYXBwYWJsZU1hcmtlcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVTbmFwcGluZygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHdlIG5lZWQgdG8gZGlzYWJsZSBzbmFwcGluZyBmb3IgQ2lyY2xlTWFya2VyIGJlY2F1c2UgdGhleSBhcmUgc25hcHBpbmcgYmVjYXVzZSBvZiB0aGUgY2hlY2sgaW4gb25MYXllckRyYWcgLT4gaWYoX3NuYXBwZWQpXG4gICAgaWYgKHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIpIHtcbiAgICAgIGxldCBfZWRpdGFibGVPcHRpb24gPSAncmVzaXplYWJsZUNpcmNsZU1hcmtlcic7XG4gICAgICBpZiAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZSkge1xuICAgICAgICBfZWRpdGFibGVPcHRpb24gPSAncmVzaXphYmxlQ2lyY2xlJztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUgJiYgIWZyb21MYXllclN5bmMgJiYgIWxheWVyc1RvU3luY0ZvdW5kKSB7XG4gICAgICAgIGlmICghdGhpcy5fbGF5ZXIucG0ub3B0aW9uc1tfZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICAgICAgdGhpcy5faW5pdFNuYXBwYWJsZU1hcmtlcnNEcmFnKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fbGF5ZXIucG0ub3B0aW9uc1tfZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICAgIHRoaXMuX2xheWVyLnBtLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xheWVyLnBtLl9kaXNhYmxlU25hcHBpbmdEcmFnKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2F2ZSBjdXJyZW50IG1hcCBkcmFnZ2luZyBzdGF0ZVxuICAgIGlmICh0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSkge1xuICAgICAgdGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUgPSB0aGlzLl9sYXllci5fbWFwLmRyYWdnaW5nLl9lbmFibGVkO1xuXG4gICAgICAvLyBkb24ndCBjYWNoZSB0aGUgc3RhdGUgYWdhaW4gdW50aWwgYW5vdGhlciBtb3VzZSB1cCBpcyByZWdpc3RlcmVkXG4gICAgICB0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHNhdmUgZm9yIGRlbHRhIGNhbGN1bGF0aW9uXG4gICAgdGhpcy5fdGVtcERyYWdDb29yZCA9IGUubGF0bG5nO1xuXG4gICAgTC5Eb21FdmVudC5vbihcbiAgICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKSxcbiAgICAgICd0b3VjaGVuZCBtb3VzZXVwJyxcbiAgICAgIHRoaXMuX3NpbXVsYXRlTW91c2VVcEV2ZW50LFxuICAgICAgdGhpc1xuICAgICk7XG5cbiAgICAvLyBsaXN0ZW4gdG8gbW91c2Vtb3ZlIG9uIG1hcCAoaW5zdGVhZCBvZiBwb2x5Z29uKSxcbiAgICAvLyBvdGhlcndpc2UgZmFzdCBtb3VzZSBtb3ZlbWVudHMgc3RvcCB0aGUgZHJhZ1xuICAgIEwuRG9tRXZlbnQub24oXG4gICAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCksXG4gICAgICAndG91Y2htb3ZlIG1vdXNlbW92ZScsXG4gICAgICB0aGlzLl9zaW11bGF0ZU1vdXNlTW92ZUV2ZW50LFxuICAgICAgdGhpc1xuICAgICk7XG4gIH0sXG4gIF9kcmFnTWl4aW5Pbk1vdXNlTW92ZShlKSB7XG4gICAgdGhpcy5fb3ZlcndyaXRlRXZlbnRJZkl0Q29tZXNGcm9tTWFya2VyKGUpO1xuICAgIGNvbnN0IGVsID0gdGhpcy5fZ2V0RE9NRWxlbSgpO1xuXG4gICAgdGhpcy5fc3luY0xheWVycygnX2RyYWdNaXhpbk9uTW91c2VNb3ZlJywgZSk7XG5cbiAgICBpZiAoIXRoaXMuX2RyYWdnaW5nKSB7XG4gICAgICAvLyBzZXQgc3RhdGVcbiAgICAgIHRoaXMuX2RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dpbmcnKTtcblxuICAgICAgaWYgKCEodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlcikpIHtcbiAgICAgICAgLy8gYnJpbmcgaXQgdG8gZnJvbnQgdG8gcHJldmVudCBkcmFnIGludGVyY2VwdGlvblxuICAgICAgICB0aGlzLl9sYXllci5icmluZ1RvRnJvbnQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gZGlzYmFsZSBtYXAgZHJhZ1xuICAgICAgaWYgKHRoaXMuX29yaWdpbmFsTWFwRHJhZ1N0YXRlKSB7XG4gICAgICAgIHRoaXMuX21hcC5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGZpcmUgcG06ZHJhZ3N0YXJ0IGV2ZW50XG4gICAgICB0aGlzLl9maXJlRHJhZ1N0YXJ0KCk7XG4gICAgfVxuXG4gICAgLy8gaWYgX3RlbXBEcmFnQ29vcmQgaXMgbnVsbCBhZGQgdGhlIGN1cnJlbnQgbGF0bG5nIHRvIHByZXZlbnQgdGhyb3dpbmcgYSBlcnJvci4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gZm9yIGV4YW1wbGUgdGhlIGxheWVyIGlzIHJlbW92ZWQgYW5kIGFkZGVkIHRvIHRoZSBtYXAgd2hpbGUgZHJhZ2dpbmcgKE1hcmtlckNsdXN0ZXIpXG4gICAgaWYgKCF0aGlzLl90ZW1wRHJhZ0Nvb3JkKSB7XG4gICAgICB0aGlzLl90ZW1wRHJhZ0Nvb3JkID0gZS5sYXRsbmc7XG4gICAgfVxuXG4gICAgdGhpcy5fb25MYXllckRyYWcoZSk7XG5cbiAgICAvLyB1cGRhdGUgdGhlIGhpZGRlbiBjaXJjbGUgYm9yZGVyIGFmdGVyIGRyYWdnaW5nXG4gICAgaWYgKHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIpIHtcbiAgICAgIHRoaXMuX2xheWVyLnBtLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG4gICAgfVxuICB9LFxuICBfZHJhZ01peGluT25Nb3VzZVVwKGUpIHtcbiAgICBjb25zdCBlbCA9IHRoaXMuX2dldERPTUVsZW0oKTtcblxuICAgIHRoaXMuX3N5bmNMYXllcnMoJ19kcmFnTWl4aW5Pbk1vdXNlVXAnLCBlKTtcblxuICAgIC8vIHJlLWVuYWJsZSBtYXAgZHJhZ1xuICAgIGlmICh0aGlzLl9vcmlnaW5hbE1hcERyYWdTdGF0ZSkge1xuICAgICAgdGhpcy5fbWFwLmRyYWdnaW5nLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIGlmIG1vdXNldXAgZXZlbnQgZmlyZWQsIGl0J3Mgc2FmZSB0byBjYWNoZSB0aGUgbWFwIGRyYWdnYWJsZSBzdGF0ZSBvbiB0aGUgbmV4dCBtb3VzZSBkb3duXG4gICAgdGhpcy5fc2FmZVRvQ2FjaGVEcmFnU3RhdGUgPSB0cnVlO1xuICAgIC8vIGNsZWFyIHVwIG1vdXNlbW92ZSBldmVudFxuICAgIEwuRG9tRXZlbnQub2ZmKFxuICAgICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLFxuICAgICAgJ3RvdWNobW92ZSBtb3VzZW1vdmUnLFxuICAgICAgdGhpcy5fc2ltdWxhdGVNb3VzZU1vdmVFdmVudCxcbiAgICAgIHRoaXNcbiAgICApO1xuXG4gICAgLy8gY2xlYXIgdXAgbW91c2V1cCBldmVudFxuICAgIEwuRG9tRXZlbnQub2ZmKFxuICAgICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLFxuICAgICAgJ3RvdWNoZW5kIG1vdXNldXAnLFxuICAgICAgdGhpcy5fc2ltdWxhdGVNb3VzZVVwRXZlbnQsXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIC8vIGlmIG5vIGRyYWcgaGFwcGVuZWQsIGRvbid0IGRvIGFueXRoaW5nXG4gICAgaWYgKCF0aGlzLl9kcmFnZ2luZykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0aGUgaGlkZGVuIGNpcmNsZSBib3JkZXIgYWZ0ZXIgZHJhZ2dpbmdcbiAgICBpZiAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlcikge1xuICAgICAgdGhpcy5fbGF5ZXIucG0uX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXllckRyYWdnZWQgPSB0cnVlO1xuXG4gICAgLy8gdGltZW91dCB0byBwcmV2ZW50IGNsaWNrIGV2ZW50IGFmdGVyIGRyYWcgOi0vXG4gICAgLy8gVE9ETzogZG8gaXQgYmV0dGVyIGFzIHNvb24gYXMgbGVhZmxldCBoYXMgYSB3YXkgdG8gZG8gaXQgYmV0dGVyIDotKVxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHNldCBzdGF0ZVxuICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgIC8vIGlmIHRoZSBsYXllciBpcyBub3Qgb24gdGhlIG1hcCwgd2UgaGF2ZSBubyBET00gZWxlbWVudFxuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dpbmcnKTtcbiAgICAgIH1cblxuICAgICAgLy8gZmlyZSBwbTpkcmFnZW5kIGV2ZW50XG4gICAgICB0aGlzLl9maXJlRHJhZ0VuZCgpO1xuXG4gICAgICAvLyBmaXJlIGVkaXRcbiAgICAgIHRoaXMuX2ZpcmVFZGl0KCk7XG4gICAgICB0aGlzLl9sYXllckVkaXRlZCA9IHRydWU7XG4gICAgfSwgMTApO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIF9vbkxheWVyRHJhZyhlKSB7XG4gICAgLy8gbGF0TG5nIG9mIG1vdXNlIGV2ZW50XG4gICAgY29uc3QgeyBsYXRsbmcgfSA9IGU7XG5cbiAgICAvLyBkZWx0YSBjb29yZHMgKGhvdyBmYXIgd2FzIGRyYWdnZWQpXG4gICAgY29uc3QgZGVsdGFMYXRMbmcgPSB7XG4gICAgICBsYXQ6IGxhdGxuZy5sYXQgLSB0aGlzLl90ZW1wRHJhZ0Nvb3JkLmxhdCxcbiAgICAgIGxuZzogbGF0bG5nLmxuZyAtIHRoaXMuX3RlbXBEcmFnQ29vcmQubG5nLFxuICAgIH07XG5cbiAgICAvLyBtb3ZlIHRoZSBjb29yZGluYXRlcyBieSB0aGUgZGVsdGFcbiAgICBjb25zdCBtb3ZlQ29vcmRzID0gKGNvb3JkcykgPT5cbiAgICAgIC8vIGFsdGVyIHRoZSBjb29yZGluYXRlc1xuICAgICAgY29vcmRzLm1hcCgoY3VycmVudExhdExuZykgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50TGF0TG5nKSkge1xuICAgICAgICAgIC8vIGRvIHRoaXMgcmVjdXJzaXZlbHkgYXMgY29vcmRzIG1pZ2h0IGJlIG5lc3RlZFxuICAgICAgICAgIHJldHVybiBtb3ZlQ29vcmRzKGN1cnJlbnRMYXRMbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW92ZSB0aGUgY29vcmQgYW5kIHJldHVybiBpdFxuICAgICAgICBjb25zdCBuZXdMYXRsbmcgPSB7XG4gICAgICAgICAgbGF0OiBjdXJyZW50TGF0TG5nLmxhdCArIGRlbHRhTGF0TG5nLmxhdCxcbiAgICAgICAgICBsbmc6IGN1cnJlbnRMYXRMbmcubG5nICsgZGVsdGFMYXRMbmcubG5nLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjdXJyZW50TGF0TG5nLmFsdCB8fCBjdXJyZW50TGF0TG5nLmFsdCA9PT0gMCkge1xuICAgICAgICAgIG5ld0xhdGxuZy5hbHQgPSBjdXJyZW50TGF0TG5nLmFsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3TGF0bG5nO1xuICAgICAgfSk7XG5cbiAgICBpZiAoXG4gICAgICAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZSAmJlxuICAgICAgICB0aGlzLl9sYXllci5vcHRpb25zLnJlc2l6YWJsZUNpcmNsZSkgfHxcbiAgICAgICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyICYmXG4gICAgICAgIHRoaXMuX2xheWVyLm9wdGlvbnMucmVzaXplYWJsZUNpcmNsZU1hcmtlcilcbiAgICApIHtcbiAgICAgIC8vIGNyZWF0ZSB0aGUgbmV3IGNvb3JkaW5hdGVzIGFycmF5XG4gICAgICBjb25zdCBuZXdDb29yZHMgPSBtb3ZlQ29vcmRzKFt0aGlzLl9sYXllci5nZXRMYXRMbmcoKV0pO1xuICAgICAgLy8gc2V0IG5ldyBjb29yZGluYXRlcyBhbmQgcmVkcmF3XG4gICAgICB0aGlzLl9sYXllci5zZXRMYXRMbmcobmV3Q29vcmRzWzBdKTtcbiAgICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksICdFZGl0Jyk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIgfHxcbiAgICAgIHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5NYXJrZXJcbiAgICApIHtcbiAgICAgIGxldCBjb29yZHNSZWZlcm5jZSA9IHRoaXMuX2xheWVyLmdldExhdExuZygpO1xuICAgICAgaWYgKHRoaXMuX2xheWVyLl9zbmFwcGVkKSB7XG4gICAgICAgIC8vIGlmIGxheWVyIGlzIHNuYXBwZWQgd2UgdXNlIHRoZSBvcmlnaW5hbCBsYXRsbmcgZm9yIHJlLWNhbGN1bGF0aW9uLCBlbHNlIHRoZSBsYXllciB3aWxsIG5vdCBiZSBcInVuc25hcHBhYmxlXCIgYW55bW9yZVxuICAgICAgICBjb29yZHNSZWZlcm5jZSA9IHRoaXMuX2xheWVyLl9vcmdMYXRMbmc7XG4gICAgICB9XG4gICAgICAvLyBjcmVhdGUgdGhlIG5ldyBjb29yZGluYXRlcyBhcnJheVxuICAgICAgY29uc3QgbmV3Q29vcmRzID0gbW92ZUNvb3JkcyhbY29vcmRzUmVmZXJuY2VdKTtcbiAgICAgIC8vIHNldCBuZXcgY29vcmRpbmF0ZXMgYW5kIHJlZHJhd1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5nKG5ld0Nvb3Jkc1swXSk7XG4gICAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZygpLCAnRWRpdCcpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkltYWdlT3ZlcmxheSkge1xuICAgICAgLy8gY3JlYXRlIHRoZSBuZXcgY29vcmRpbmF0ZXMgYXJyYXlcbiAgICAgIGNvbnN0IG5ld0Nvb3JkcyA9IG1vdmVDb29yZHMoW1xuICAgICAgICB0aGlzLl9sYXllci5nZXRCb3VuZHMoKS5nZXROb3J0aFdlc3QoKSxcbiAgICAgICAgdGhpcy5fbGF5ZXIuZ2V0Qm91bmRzKCkuZ2V0U291dGhFYXN0KCksXG4gICAgICBdKTtcbiAgICAgIC8vIHNldCBuZXcgY29vcmRpbmF0ZXMgYW5kIHJlZHJhd1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0Qm91bmRzKG5ld0Nvb3Jkcyk7XG4gICAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldEJvdW5kcygpLCAnRWRpdCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjcmVhdGUgdGhlIG5ldyBjb29yZGluYXRlcyBhcnJheVxuICAgICAgY29uc3QgbmV3Q29vcmRzID0gbW92ZUNvb3Jkcyh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkpO1xuXG4gICAgICAvLyBzZXQgbmV3IGNvb3JkaW5hdGVzIGFuZCByZWRyYXdcbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MobmV3Q29vcmRzKTtcbiAgICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpLCAnRWRpdCcpO1xuICAgIH1cblxuICAgIC8vIHNhdmUgY3VycmVudCBsYXRsbmcgZm9yIG5leHQgZGVsdGEgY2FsY3VsYXRpb25cbiAgICB0aGlzLl90ZW1wRHJhZ0Nvb3JkID0gbGF0bG5nO1xuXG4gICAgZS5sYXllciA9IHRoaXMuX2xheWVyO1xuICAgIC8vIGZpcmUgcG06ZHJhZ3N0YXJ0IGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYWcoZSk7XG4gIH0sXG4gIGFkZERyYWdnaW5nQ2xhc3MoKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzLl9nZXRET01FbGVtKCk7XG4gICAgaWYgKGVsKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MoZWwsICdsZWFmbGV0LXBtLWRyYWdnYWJsZScpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlRHJhZ2dpbmdDbGFzcygpIHtcbiAgICBjb25zdCBlbCA9IHRoaXMuX2dldERPTUVsZW0oKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dhYmxlJyk7XG4gICAgfVxuICB9LFxuICBfZ2V0RE9NRWxlbSgpIHtcbiAgICBsZXQgZWwgPSBudWxsO1xuICAgIGlmICh0aGlzLl9sYXllci5fcGF0aCkge1xuICAgICAgZWwgPSB0aGlzLl9sYXllci5fcGF0aDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2xheWVyLl9yZW5kZXJlciAmJiB0aGlzLl9sYXllci5fcmVuZGVyZXIuX2NvbnRhaW5lcikge1xuICAgICAgZWwgPSB0aGlzLl9sYXllci5fcmVuZGVyZXIuX2NvbnRhaW5lcjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2xheWVyLl9pbWFnZSkge1xuICAgICAgZWwgPSB0aGlzLl9sYXllci5faW1hZ2U7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9sYXllci5faWNvbikge1xuICAgICAgZWwgPSB0aGlzLl9sYXllci5faWNvbjtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9LFxuICBfb3ZlcndyaXRlRXZlbnRJZkl0Q29tZXNGcm9tTWFya2VyKGUpIHtcbiAgICAvLyBlLmxhdGxuZyBpcyBub3QgdGhlIGNsaWNrZWQgbGF0bG5nIGlmIHRoZSBsYXllciBpcyBhIE1hcmtlciAob3IgdGhlIHJhZGl1cyBiZWxvdyAxMCkgLT4gTGVhZmxldCBkZWZpbml0aW9uXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9ibG9iLzBmOTA0YTUxNTg3OWZjZDA4ZjY5YjdmNTE3OTllZTdmMThmMjNmZDgvc3JjL21hcC9NYXAuanMjTDE0MTZcbiAgICBjb25zdCBpc01hcmtlciA9XG4gICAgICBlLnRhcmdldC5nZXRMYXRMbmcgJiYgKCFlLnRhcmdldC5fcmFkaXVzIHx8IGUudGFyZ2V0Ll9yYWRpdXMgPD0gMTApO1xuICAgIGlmIChpc01hcmtlcikge1xuICAgICAgLy8gd2Ugd2FudCB0aGUgY2xpY2tlZCBsYXRsbmcgLyBwb2ludCwgc28gd2Ugb3ZlcndyaXRlIHRoZSBwcm9wZXJ0eSBlLmxhdGxuZ1xuICAgICAgZS5jb250YWluZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgZS5sYXRsbmcgPSB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyhlLmNvbnRhaW5lclBvaW50KTtcbiAgICB9XG4gIH0sXG4gIF9zeW5jTGF5ZXJzKGZuYywgZSkge1xuICAgIC8vIGlmIGxheWVyIGlzIGluIEVkaXQtTW9kZSBpdCBzaG91bGQgbm90IGJlIHBvc3NpYmxlIHRvIGRyYWcgb3RoZXIgbGF5ZXJzIHRvby4gKE1hcmtlciAmIENpcmNsZU1hcmtlciAmIEltYWdlT3ZlcmxheSlcbiAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhZS5fZnJvbUxheWVyU3luYyAmJlxuICAgICAgdGhpcy5fbGF5ZXIgPT09IGUudGFyZ2V0ICYmXG4gICAgICB0aGlzLm9wdGlvbnMuc3luY0xheWVyc09uRHJhZ1xuICAgICkge1xuICAgICAgZS5fZnJvbUxheWVyU3luYyA9IHRydWU7XG4gICAgICBsZXQgbGF5ZXJzVG9TeW5jID0gW107XG4gICAgICBpZiAoTC5VdGlsLmlzQXJyYXkodGhpcy5vcHRpb25zLnN5bmNMYXllcnNPbkRyYWcpKSB7XG4gICAgICAgIC8vIGxheWVyc1xuICAgICAgICBsYXllcnNUb1N5bmMgPSB0aGlzLm9wdGlvbnMuc3luY0xheWVyc09uRHJhZztcblxuICAgICAgICB0aGlzLm9wdGlvbnMuc3luY0xheWVyc09uRHJhZy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICAgICAgbGF5ZXJzVG9TeW5jID0gbGF5ZXJzVG9TeW5jLmNvbmNhdChsYXllci5wbS5nZXRMYXllcnModHJ1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zeW5jTGF5ZXJzT25EcmFnID09PSB0cnVlKSB7XG4gICAgICAgIC8vIExheWVyR3JvdXBcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudExheWVyR3JvdXApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLl9wYXJlbnRMYXllckdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBsZyA9IHRoaXMuX3BhcmVudExheWVyR3JvdXBba2V5XTtcbiAgICAgICAgICAgIGlmIChsZy5wbSkge1xuICAgICAgICAgICAgICBsYXllcnNUb1N5bmMgPSBsZy5wbS5nZXRMYXllcnModHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChMLlV0aWwuaXNBcnJheShsYXllcnNUb1N5bmMpICYmIGxheWVyc1RvU3luYy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIGZpbHRlciBvdXQgbGF5ZXJzIHRoYXQgZG9uJ3QgaGF2ZSBsZWFmbGV0LWdlb21hbiBhbmQgbm90IGFsbG93ZWQgdG8gZHJhZ1xuICAgICAgICBsYXllcnNUb1N5bmMgPSBsYXllcnNUb1N5bmNcbiAgICAgICAgICAuZmlsdGVyKChsYXllcikgPT4gISFsYXllci5wbSlcbiAgICAgICAgICAuZmlsdGVyKChsYXllcikgPT4gISFsYXllci5wbS5vcHRpb25zLmRyYWdnYWJsZSk7XG4gICAgICAgIGxheWVyc1RvU3luYy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICAgIGlmIChsYXllciAhPT0gdGhpcy5fbGF5ZXIgJiYgbGF5ZXIucG1bZm5jXSkge1xuICAgICAgICAgICAgbGF5ZXIuX3NuYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxheWVyLnBtW2ZuY10oZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsYXllcnNUb1N5bmMubGVuZ3RoID4gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBfc3RvcERPTUltYWdlRHJhZyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdNaXhpbjtcbiIsICJpbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnO1xuaW1wb3J0IHsgX2NvbnZlcnRMYXRMbmdzLCBfdG9Qb2ludCB9IGZyb20gJy4uL2hlbHBlcnMvTW9kZUhlbHBlcic7XG5pbXBvcnQgeyBjYWxjQW5nbGUsIGNvcHlMYXRMbmdzIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbi8qKlxuICogV2UgY3JlYXRlIGEgdGVtcG9yYXJ5IHBvbHlnb24gd2l0aCB0aGUgc2FtZSBsYXRsbmdzIGFzIHRoZSBsYXllciB0aGF0IHdlIHdhbnQgdG8gcm90YXRlLlxuICogV2h5IHBvbHlnb24/IEJlY2F1c2UgdGhlbiB3ZSBoYXZlIHRoZSBjb3JyZWN0IGNlbnRlciBhbHNvIGZvciBwb2x5bGluZXMgd2l0aCBgbGF5ZXIuZ2V0Q2VudGVyKClgLlxuICogV2UgcmVmZXJlbmNlIHRoZSBvcmlnaW4gbGF5ZXIgYXMgYF9yb3RhdGlvbkxheWVyYC4gVGhlIHJvdGF0ZSBsaXN0ZW5lcnMgKGBfb25Sb3RhdGUuLi4oKWApIGFyZSBvbmx5IGFwcGxpZWQgdG8gdGhlIHRlbXAgcG9seWdvbiBhbmQgZnJvbSB0aGVyZSB3ZSBuZWVkIHRvIHJvdGF0ZSB0aGUgYF9yb3RhdGlvbkxheWVyYCB0b28uXG4gKlxuICovXG5cbmNvbnN0IFJvdGF0ZU1peGluID0ge1xuICBfb25Sb3RhdGVTdGFydChlKSB7XG4gICAgLy8gcHJldmVudCB0aGF0IHRoZSBsaW1pdCBNYXJrZXJzIGFyZSBjYWxjdWxhdGVkIG5ld1xuICAgIHRoaXMuX3ByZXZlbnRSZW5kZXJpbmdNYXJrZXJzKHRydWUpO1xuICAgIHRoaXMuX3JvdGF0aW9uT3JpZ2luTGF0TG5nID0gdGhpcy5fZ2V0Um90YXRpb25DZW50ZXIoKS5jbG9uZSgpO1xuICAgIHRoaXMuX3JvdGF0aW9uT3JpZ2luUG9pbnQgPSBfdG9Qb2ludCh0aGlzLl9tYXAsIHRoaXMuX3JvdGF0aW9uT3JpZ2luTGF0TG5nKTtcbiAgICB0aGlzLl9yb3RhdGlvblN0YXJ0UG9pbnQgPSBfdG9Qb2ludCh0aGlzLl9tYXAsIGUudGFyZ2V0LmdldExhdExuZygpKTtcbiAgICAvLyB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBpbml0aWFsIGxhdGxuZ3Mgc28gd2UgY2FuIGFsd2F5cyByZS1jYWxjIGZyb20gdGhlIG9yaWdpbiBsYXRsbmdzXG4gICAgdGhpcy5faW5pdGlhbFJvdGF0ZUxhdExuZyA9IGNvcHlMYXRMbmdzKHRoaXMuX2xheWVyKTtcbiAgICB0aGlzLl9zdGFydEFuZ2xlID0gdGhpcy5nZXRBbmdsZSgpO1xuXG4gICAgY29uc3Qgb3JpZ2luTGF0TG5ncyA9IGNvcHlMYXRMbmdzKFxuICAgICAgdGhpcy5fcm90YXRpb25MYXllcixcbiAgICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIucG0uX3JvdGF0ZU9yZ0xhdExuZ1xuICAgICk7XG5cbiAgICB0aGlzLl9maXJlUm90YXRpb25TdGFydCh0aGlzLl9yb3RhdGlvbkxheWVyLCBvcmlnaW5MYXRMbmdzKTtcbiAgICB0aGlzLl9maXJlUm90YXRpb25TdGFydCh0aGlzLl9tYXAsIG9yaWdpbkxhdExuZ3MpO1xuICB9LFxuICBfb25Sb3RhdGUoZSkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gX3RvUG9pbnQodGhpcy5fbWFwLCBlLnRhcmdldC5nZXRMYXRMbmcoKSk7XG4gICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9yb3RhdGlvblN0YXJ0UG9pbnQ7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5fcm90YXRpb25PcmlnaW5Qb2ludDtcblxuICAgIC8vIHJvdGF0aW9uIGRpZmYgYW5nbGUgKHJhZGlhbnQpXG4gICAgY29uc3QgYW5nbGVEaWZmUmFkaWFudCA9XG4gICAgICBNYXRoLmF0YW4yKHBvc2l0aW9uLnkgLSBvcmlnaW4ueSwgcG9zaXRpb24ueCAtIG9yaWdpbi54KSAtXG4gICAgICBNYXRoLmF0YW4yKHByZXZpb3VzLnkgLSBvcmlnaW4ueSwgcHJldmlvdXMueCAtIG9yaWdpbi54KTtcblxuICAgIC8vIHJvdGF0ZSB0aGUgdGVtcCBwb2x5Z29uXG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhcbiAgICAgIHRoaXMuX3JvdGF0ZUxheWVyKFxuICAgICAgICBhbmdsZURpZmZSYWRpYW50LFxuICAgICAgICB0aGlzLl9pbml0aWFsUm90YXRlTGF0TG5nLFxuICAgICAgICB0aGlzLl9yb3RhdGlvbk9yaWdpbkxhdExuZyxcbiAgICAgICAgTC5QTS5NYXRyaXguaW5pdCgpLFxuICAgICAgICB0aGlzLl9tYXBcbiAgICAgIClcbiAgICApO1xuICAgIC8vIG1vdmUgdGhlIGhlbHBlciBtYXJrZXJzXG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgZnVuY3Rpb24gZm9yRWFjaExhdExuZyhsYXRsbmcsIHBhdGggPSBbXSwgX2kgPSAtMSkge1xuICAgICAgaWYgKF9pID4gLTEpIHtcbiAgICAgICAgcGF0aC5wdXNoKF9pKTtcbiAgICAgIH1cbiAgICAgIGlmIChMLlV0aWwuaXNBcnJheShsYXRsbmdbMF0pKSB7XG4gICAgICAgIGxhdGxuZy5mb3JFYWNoKCh4LCBpKSA9PiBmb3JFYWNoTGF0TG5nKHgsIHBhdGguc2xpY2UoKSwgaSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWFya2VycyA9IGdldCh0aGF0Ll9tYXJrZXJzLCBwYXRoKTtcbiAgICAgICAgbGF0bG5nLmZvckVhY2goKF9sYXRsbmcsIGopID0+IHtcbiAgICAgICAgICBjb25zdCBtYXJrZXIgPSBtYXJrZXJzW2pdO1xuICAgICAgICAgIG1hcmtlci5zZXRMYXRMbmcoX2xhdGxuZyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoTGF0TG5nKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSk7XG5cbiAgICBjb25zdCBvbGRMYXRMbmdzID0gY29weUxhdExuZ3ModGhpcy5fcm90YXRpb25MYXllcik7XG4gICAgLy8gcm90YXRlIHRoZSBvcmlnaW4gbGF5ZXJcbiAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnNldExhdExuZ3MoXG4gICAgICB0aGlzLl9yb3RhdGVMYXllcihcbiAgICAgICAgYW5nbGVEaWZmUmFkaWFudCxcbiAgICAgICAgdGhpcy5fcm90YXRpb25MYXllci5wbS5fcm90YXRlT3JnTGF0TG5nLFxuICAgICAgICB0aGlzLl9yb3RhdGlvbk9yaWdpbkxhdExuZyxcbiAgICAgICAgTC5QTS5NYXRyaXguaW5pdCgpLFxuICAgICAgICB0aGlzLl9tYXBcbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gY29udmVydCB0aGUgZGlmZmVyZW5jZSByYWRpYW50IHRvIGRlZ3JlZXMgYW5kIGFkZCBpdCB0byB0aGUgYW5nbGUgYmVmb3JlIHJvdGF0aW9uIHN0YXJ0c1xuICAgIGxldCBhbmdsZURpZmYgPSAoYW5nbGVEaWZmUmFkaWFudCAqIDE4MCkgLyBNYXRoLlBJO1xuICAgIGFuZ2xlRGlmZiA9IGFuZ2xlRGlmZiA8IDAgPyBhbmdsZURpZmYgKyAzNjAgOiBhbmdsZURpZmY7XG4gICAgY29uc3QgYW5nbGUgPSBhbmdsZURpZmYgKyB0aGlzLl9zdGFydEFuZ2xlO1xuICAgIHRoaXMuX3NldEFuZ2xlKGFuZ2xlKTtcbiAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLl9zZXRBbmdsZShhbmdsZSk7XG5cbiAgICB0aGlzLl9maXJlUm90YXRpb24odGhpcy5fcm90YXRpb25MYXllciwgYW5nbGVEaWZmLCBvbGRMYXRMbmdzKTtcbiAgICB0aGlzLl9maXJlUm90YXRpb24odGhpcy5fbWFwLCBhbmdsZURpZmYsIG9sZExhdExuZ3MpO1xuICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIucG0uX2ZpcmVDaGFuZ2UoXG4gICAgICB0aGlzLl9yb3RhdGlvbkxheWVyLmdldExhdExuZ3MoKSxcbiAgICAgICdSb3RhdGlvbidcbiAgICApO1xuICB9LFxuICBfb25Sb3RhdGVFbmQoKSB7XG4gICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMuX3N0YXJ0QW5nbGU7XG4gICAgZGVsZXRlIHRoaXMuX3JvdGF0aW9uT3JpZ2luTGF0TG5nO1xuICAgIGRlbGV0ZSB0aGlzLl9yb3RhdGlvbk9yaWdpblBvaW50O1xuICAgIGRlbGV0ZSB0aGlzLl9yb3RhdGlvblN0YXJ0UG9pbnQ7XG4gICAgZGVsZXRlIHRoaXMuX2luaXRpYWxSb3RhdGVMYXRMbmc7XG4gICAgZGVsZXRlIHRoaXMuX3N0YXJ0QW5nbGU7XG5cbiAgICBjb25zdCBvcmlnaW5MYXRMbmdzID0gY29weUxhdExuZ3MoXG4gICAgICB0aGlzLl9yb3RhdGlvbkxheWVyLFxuICAgICAgdGhpcy5fcm90YXRpb25MYXllci5wbS5fcm90YXRlT3JnTGF0TG5nXG4gICAgKTtcbiAgICAvLyBzdG9yZSB0aGUgbmV3IGxhdGxuZ3NcbiAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLl9yb3RhdGVPcmdMYXRMbmcgPSBjb3B5TGF0TG5ncyh0aGlzLl9yb3RhdGlvbkxheWVyKTtcblxuICAgIHRoaXMuX2ZpcmVSb3RhdGlvbkVuZCh0aGlzLl9yb3RhdGlvbkxheWVyLCBzdGFydEFuZ2xlLCBvcmlnaW5MYXRMbmdzKTtcbiAgICB0aGlzLl9maXJlUm90YXRpb25FbmQodGhpcy5fbWFwLCBzdGFydEFuZ2xlLCBvcmlnaW5MYXRMbmdzKTtcbiAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLl9maXJlRWRpdCh0aGlzLl9yb3RhdGlvbkxheWVyLCAnUm90YXRpb24nKTtcblxuICAgIHRoaXMuX3ByZXZlbnRSZW5kZXJpbmdNYXJrZXJzKGZhbHNlKTtcblxuICAgIHRoaXMuX2xheWVyUm90YXRlZCA9IHRydWU7XG4gIH0sXG4gIF9yb3RhdGVMYXllcihyYWRpYW50LCBsYXRsbmdzLCBvcmlnaW4sIF9tYXRyaXgsIG1hcCkge1xuICAgIGNvbnN0IG9yaWdpblBvaW50ID0gX3RvUG9pbnQobWFwLCBvcmlnaW4pO1xuICAgIHRoaXMuX21hdHJpeCA9IF9tYXRyaXguY2xvbmUoKS5yb3RhdGUocmFkaWFudCwgb3JpZ2luUG9pbnQpLmZsaXAoKTtcbiAgICByZXR1cm4gX2NvbnZlcnRMYXRMbmdzKGxhdGxuZ3MsIHRoaXMuX21hdHJpeCwgbWFwKTtcbiAgfSxcbiAgX3NldEFuZ2xlKGFuZ2xlKSB7XG4gICAgYW5nbGUgPSBhbmdsZSA8IDAgPyBhbmdsZSArIDM2MCA6IGFuZ2xlO1xuICAgIHRoaXMuX2FuZ2xlID0gYW5nbGUgJSAzNjA7XG4gIH0sXG4gIF9nZXRSb3RhdGlvbkNlbnRlcigpIHtcbiAgICBpZiAodGhpcy5fcm90YXRpb25DZW50ZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbkNlbnRlcjtcbiAgICB9XG5cbiAgICBjb25zdCBwb2x5Z29uID0gTC5wb2x5Z29uKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwge1xuICAgICAgc3Ryb2tlOiBmYWxzZSxcbiAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgcG1JZ25vcmU6IHRydWUsXG4gICAgfSkuYWRkVG8odGhpcy5fbGF5ZXIuX21hcCk7XG4gICAgY29uc3QgY2VudGVyID0gcG9seWdvbi5nZXRDZW50ZXIoKTtcbiAgICBwb2x5Z29uLnJlbW92ZUZyb20odGhpcy5fbGF5ZXIuX21hcCk7XG4gICAgcmV0dXJuIGNlbnRlcjtcbiAgfSxcblxuICAvKlxuICAgKlxuICAgKiBQdWJsaWMgZnVuY3Rpb25zIGYuZXguIHRvIGRpc2FibGUgYW5kIGVuYWJsZSByb3RhdGlvbiBvbiB0aGUgbGF5ZXIgZGlyZWN0bHlcbiAgICpcbiAgICovXG4gIGVuYWJsZVJvdGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1JvdGF0aW9uKSB7XG4gICAgICB0aGlzLmRpc2FibGVSb3RhdGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yb3RhdGVFbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZVJvdGF0ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuUmVjdGFuZ2xlICYmIHRoaXMuX2FuZ2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0SW5pdEFuZ2xlKFxuICAgICAgICBjYWxjQW5nbGUoXG4gICAgICAgICAgdGhpcy5fbGF5ZXIuX21hcCxcbiAgICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF1bMF0sXG4gICAgICAgICAgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdWzFdXG4gICAgICAgICkgfHwgMFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBXZSBjcmVhdGUgYW4gaGlkZGVuIHBvbHlnb24uIFdlIHNldCBwbUlnbm9yZSB0byBmYWxzZSwgc28gdGhhdCB0aGUgYHBtYCBwcm9wZXJ0eSB3aWxsIGJlIGFsd2F5cyBjcmVhdGUsIGFsc28gaWYgT3B0SW4gPT0gdHJ1ZVxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBmaWxsOiBmYWxzZSxcbiAgICAgIHN0cm9rZTogZmFsc2UsXG4gICAgICBwbUlnbm9yZTogZmFsc2UsXG4gICAgICBzbmFwSWdub3JlOiB0cnVlLFxuICAgIH07XG5cbiAgICAvLyB3ZSBjcmVhdGUgYSB0ZW1wIHBvbHlnb24gZm9yIHJvdGF0aW9uXG4gICAgdGhpcy5fcm90YXRlUG9seSA9IEwucG9seWdvbih0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksIG9wdGlvbnMpO1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICB0aGlzLl9yb3RhdGVQb2x5LmFkZFRvKHRoaXMuX2xheWVyLl9tYXApO1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uX3NldEFuZ2xlKHRoaXMuZ2V0QW5nbGUoKSk7XG4gICAgdGhpcy5fcm90YXRlUG9seS5wbS5zZXRSb3RhdGlvbkNlbnRlcih0aGlzLmdldFJvdGF0aW9uQ2VudGVyKCkpO1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uc2V0T3B0aW9ucyh0aGlzLl9sYXllci5fbWFwLnBtLmdldEdsb2JhbE9wdGlvbnMoKSk7XG4gICAgdGhpcy5fcm90YXRlUG9seS5wbS5zZXRPcHRpb25zKHtcbiAgICAgIHJvdGF0ZTogdHJ1ZSxcbiAgICAgIHNuYXBwYWJsZTogZmFsc2UsXG4gICAgICBoaWRlTWlkZGxlTWFya2VyczogdHJ1ZSxcbiAgICB9KTtcbiAgICAvLyB3ZSBjb25uZWN0IHRoZSB0ZW1wIHBvbHlnb24gKHRoYXQgd2lsbCBiZSBlbmFibGVkIGZvciByb3RhdGlvbikgd2l0aCB0aGUgY3VycmVudCBsYXllciwgc28gdGhhdCB3ZSBjYW4gcm90YXRlIHRoZSBjdXJyZW50IGxheWVyIHRvb1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uX3JvdGF0aW9uTGF5ZXIgPSB0aGlzLl9sYXllcjtcbiAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLmVuYWJsZSgpO1xuXG4gICAgLy8gc3RvcmUgdGhlIG9yaWdpbmFsIGxhdGxuZ3NcbiAgICB0aGlzLl9yb3RhdGVPcmdMYXRMbmcgPSBjb3B5TGF0TG5ncyh0aGlzLl9sYXllcik7XG5cbiAgICB0aGlzLl9yb3RhdGVFbmFibGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuX2xheWVyLm9uKCdyZW1vdmUnLCB0aGlzLmRpc2FibGVSb3RhdGUsIHRoaXMpO1xuXG4gICAgdGhpcy5fZmlyZVJvdGF0aW9uRW5hYmxlKHRoaXMuX2xheWVyKTtcbiAgICAvLyB3ZSBuZWVkIHRvIHVzZSB0aGlzLl9sYXllci5fbWFwIGJlY2F1c2UgdGhpcy5fbWFwIGNhbiBiZSB1bmRlZmluZWQgaWYgbGF5ZXIgd2FzIG5ldmVyIGVuYWJsZWQgZm9yIGVkaXRpbmcgYmVmb3JlXG4gICAgdGhpcy5fZmlyZVJvdGF0aW9uRW5hYmxlKHRoaXMuX2xheWVyLl9tYXApO1xuICB9LFxuICBkaXNhYmxlUm90YXRlKCkge1xuICAgIGlmICh0aGlzLnJvdGF0ZUVuYWJsZWQoKSkge1xuICAgICAgaWYgKHRoaXMuX3JvdGF0ZVBvbHkucG0uX2xheWVyUm90YXRlZCkge1xuICAgICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLl9sYXllclJvdGF0ZWQgPSBmYWxzZTtcbiAgICAgIC8vIGRlbGV0ZSB0aGUgdGVtcCBwb2x5Z29uXG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLmRpc2FibGUoKTtcbiAgICAgIHRoaXMuX3JvdGF0ZVBvbHkucmVtb3ZlKCk7XG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLnNldE9wdGlvbnMoeyByb3RhdGU6IGZhbHNlIH0pO1xuICAgICAgdGhpcy5fcm90YXRlUG9seSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX3JvdGF0ZU9yZ0xhdExuZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5fbGF5ZXIub2ZmKCdyZW1vdmUnLCB0aGlzLmRpc2FibGVSb3RhdGUsIHRoaXMpO1xuXG4gICAgICB0aGlzLl9yb3RhdGVFbmFibGVkID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuX2ZpcmVSb3RhdGlvbkRpc2FibGUodGhpcy5fbGF5ZXIpO1xuICAgICAgLy8gd2UgbmVlZCB0byB1c2UgdGhpcy5fbGF5ZXIuX21hcCBiZWNhdXNlIHRoaXMuX21hcCBjYW4gYmUgdW5kZWZpbmVkIGlmIGxheWVyIHdhcyBuZXZlciBlbmFibGVkIGZvciBlZGl0aW5nIGJlZm9yZVxuICAgICAgdGhpcy5fZmlyZVJvdGF0aW9uRGlzYWJsZSh0aGlzLl9sYXllci5fbWFwKTtcbiAgICB9XG4gIH0sXG4gIHJvdGF0ZUVuYWJsZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fcm90YXRlRW5hYmxlZDtcbiAgfSxcbiAgLy8gYW5nbGUgaXMgY2xvY2t3aXNlICgwLTM2MClcbiAgcm90YXRlTGF5ZXIoZGVncmVlcykge1xuICAgIGNvbnN0IG9sZEFuZ2xlID0gdGhpcy5nZXRBbmdsZSgpO1xuICAgIGNvbnN0IG9sZExhdExuZ3MgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG4gICAgY29uc3QgcmFkcyA9IGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhcbiAgICAgIHRoaXMuX3JvdGF0ZUxheWVyKFxuICAgICAgICByYWRzLFxuICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksXG4gICAgICAgIHRoaXMuX2dldFJvdGF0aW9uQ2VudGVyKCksXG4gICAgICAgIEwuUE0uTWF0cml4LmluaXQoKSxcbiAgICAgICAgdGhpcy5fbGF5ZXIuX21hcFxuICAgICAgKVxuICAgICk7XG4gICAgLy8gc3RvcmUgdGhlIG5ldyBsYXRsbmdzXG4gICAgdGhpcy5fcm90YXRlT3JnTGF0TG5nID0gTC5wb2x5Z29uKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSkuZ2V0TGF0TG5ncygpO1xuICAgIHRoaXMuX3NldEFuZ2xlKHRoaXMuZ2V0QW5nbGUoKSArIGRlZ3JlZXMpO1xuICAgIGlmIChcbiAgICAgIHRoaXMucm90YXRlRW5hYmxlZCgpICYmXG4gICAgICB0aGlzLl9yb3RhdGVQb2x5ICYmXG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLmVuYWJsZWQoKVxuICAgICkge1xuICAgICAgdGhpcy5fcm90YXRlUG9seS5zZXRMYXRMbmdzKFxuICAgICAgICB0aGlzLl9yb3RhdGVMYXllcihcbiAgICAgICAgICByYWRzLFxuICAgICAgICAgIHRoaXMuX3JvdGF0ZVBvbHkuZ2V0TGF0TG5ncygpLFxuICAgICAgICAgIHRoaXMuX2dldFJvdGF0aW9uQ2VudGVyKCksXG4gICAgICAgICAgTC5QTS5NYXRyaXguaW5pdCgpLFxuICAgICAgICAgIHRoaXMuX3JvdGF0ZVBvbHkuX21hcFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdGhpcy5fcm90YXRlUG9seS5wbS5faW5pdE1hcmtlcnMoKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBmb3IgbmVnYXRpdmUgYW5nbGUgY2hhbmdlIHRoZSBkaWZmZXJlbmNlIGlzIGFsd2F5cyAoMzYwIC0gYW5nbGUpLCBkbyB3ZSB3YW50IHRoaXM/XG4gICAgbGV0IGFuZ2xlRGlmZiA9IHRoaXMuZ2V0QW5nbGUoKSAtIG9sZEFuZ2xlO1xuICAgIGFuZ2xlRGlmZiA9IGFuZ2xlRGlmZiA8IDAgPyBhbmdsZURpZmYgKyAzNjAgOiBhbmdsZURpZmY7XG5cbiAgICB0aGlzLl9zdGFydEFuZ2xlID0gb2xkQW5nbGU7XG4gICAgdGhpcy5fZmlyZVJvdGF0aW9uKHRoaXMuX2xheWVyLCBhbmdsZURpZmYsIG9sZExhdExuZ3MsIHRoaXMuX2xheWVyKTtcbiAgICB0aGlzLl9maXJlUm90YXRpb24oXG4gICAgICB0aGlzLl9tYXAgfHwgdGhpcy5fbGF5ZXIuX21hcCxcbiAgICAgIGFuZ2xlRGlmZixcbiAgICAgIG9sZExhdExuZ3MsXG4gICAgICB0aGlzLl9sYXllclxuICAgICk7XG4gICAgZGVsZXRlIHRoaXMuX3N0YXJ0QW5nbGU7XG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksICdSb3RhdGlvbicpO1xuICB9LFxuICByb3RhdGVMYXllclRvQW5nbGUoZGVncmVlcykge1xuICAgIGNvbnN0IG5ld0FubGdlID0gZGVncmVlcyAtIHRoaXMuZ2V0QW5nbGUoKTtcbiAgICB0aGlzLnJvdGF0ZUxheWVyKG5ld0FubGdlKTtcbiAgfSxcbiAgLy8gYW5nbGUgaXMgY2xvY2t3aXNlICgwLTM2MClcbiAgZ2V0QW5nbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FuZ2xlIHx8IDA7XG4gIH0sXG4gIC8vIGFuZ2xlIGlzIGNsb2Nrd2lzZSAoMC0zNjApXG4gIHNldEluaXRBbmdsZShkZWdyZWVzKSB7XG4gICAgdGhpcy5fc2V0QW5nbGUoZGVncmVlcyk7XG4gIH0sXG4gIGdldFJvdGF0aW9uQ2VudGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRSb3RhdGlvbkNlbnRlcigpO1xuICB9LFxuICBzZXRSb3RhdGlvbkNlbnRlcihjZW50ZXIpIHtcbiAgICB0aGlzLl9yb3RhdGlvbkNlbnRlciA9IGNlbnRlcjtcblxuICAgIGlmICh0aGlzLl9yb3RhdGVQb2x5KSB7XG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLnNldFJvdGF0aW9uQ2VudGVyKGNlbnRlcik7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgUm90YXRlTWl4aW47XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIF9jb252ZXJ0TGF0TG5nKGxhdGxuZywgbWF0cml4LCBtYXAsIHpvb20pIHtcbiAgcmV0dXJuIG1hcC51bnByb2plY3QobWF0cml4LnRyYW5zZm9ybShtYXAucHJvamVjdChsYXRsbmcsIHpvb20pKSwgem9vbSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfY29udmVydExhdExuZ3MobGF0bG5nLCBtYXRyaXgsIG1hcCkge1xuICBsZXQgem9vbSA9IG1hcC5nZXRNYXhab29tKCk7XG4gIGlmICh6b29tID09PSBJbmZpbml0eSkge1xuICAgIHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuICB9XG4gIGlmIChMLlV0aWwuaXNBcnJheShsYXRsbmcpKSB7XG4gICAgY29uc3QgbGF0bG5ncyA9IFtdO1xuICAgIGxhdGxuZy5mb3JFYWNoKCh4KSA9PiB7XG4gICAgICBsYXRsbmdzLnB1c2goX2NvbnZlcnRMYXRMbmdzKHgsIG1hdHJpeCwgbWFwKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxhdGxuZ3M7XG4gIH1cbiAgaWYgKGxhdGxuZyBpbnN0YW5jZW9mIEwuTGF0TG5nKSB7XG4gICAgcmV0dXJuIF9jb252ZXJ0TGF0TG5nKGxhdGxuZywgbWF0cml4LCBtYXAsIHpvb20pO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3RvUG9pbnQobWFwLCBsYXRsbmcpIHtcbiAgaWYgKGxhdGxuZyBpbnN0YW5jZW9mIEwuTGF5ZXIpIHtcbiAgICBsYXRsbmcgPSBsYXRsbmcuZ2V0TGF0TG5nKCk7XG4gIH1cbiAgbGV0IHpvb20gPSBtYXAuZ2V0TWF4Wm9vbSgpO1xuICBpZiAoem9vbSA9PT0gSW5maW5pdHkpIHtcbiAgICB6b29tID0gbWFwLmdldFpvb20oKTtcbiAgfVxuICByZXR1cm4gbWFwLnByb2plY3QobGF0bG5nLCB6b29tKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF90b0xhdExuZyhtYXAsIHBvaW50KSB7XG4gIGxldCB6b29tID0gbWFwLmdldE1heFpvb20oKTtcbiAgaWYgKHpvb20gPT09IEluZmluaXR5KSB7XG4gICAgem9vbSA9IG1hcC5nZXRab29tKCk7XG4gIH1cbiAgcmV0dXJuIG1hcC51bnByb2plY3QocG9pbnQsIHpvb20pO1xufVxuIiwgImltcG9ydCBTbmFwTWl4aW4gZnJvbSAnLi4vTWl4aW5zL1NuYXBwaW5nJztcbmltcG9ydCBEcmFnTWl4aW4gZnJvbSAnLi4vTWl4aW5zL0RyYWdnaW5nJztcbmltcG9ydCBSb3RhdGVNaXhpbiBmcm9tICcuLi9NaXhpbnMvUm90YXRpbmcnO1xuaW1wb3J0IEV2ZW50TWl4aW4gZnJvbSAnLi4vTWl4aW5zL0V2ZW50cyc7XG5cbmNvbnN0IEVkaXQgPSBMLkNsYXNzLmV4dGVuZCh7XG4gIGluY2x1ZGVzOiBbRHJhZ01peGluLCBTbmFwTWl4aW4sIFJvdGF0ZU1peGluLCBFdmVudE1peGluXSxcbiAgb3B0aW9uczoge1xuICAgIHNuYXBwYWJsZTogdHJ1ZSwgLy8gVE9ETzogbmV4dCBtYWpvciBSZWxlYXNlLCByZW5hbWUgaXQgdG8gYWxsb3dTbmFwcGluZ1xuICAgIHNuYXBEaXN0YW5jZTogMjAsXG4gICAgYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiB0cnVlLFxuICAgIGFsbG93U2VsZkludGVyc2VjdGlvbkVkaXQ6IGZhbHNlLFxuICAgIHByZXZlbnRNYXJrZXJSZW1vdmFsOiBmYWxzZSxcbiAgICByZW1vdmVMYXllckJlbG93TWluVmVydGV4Q291bnQ6IHRydWUsXG4gICAgbGltaXRNYXJrZXJzVG9Db3VudDogLTEsXG4gICAgaGlkZU1pZGRsZU1hcmtlcnM6IGZhbHNlLFxuICAgIHNuYXBTZWdtZW50OiB0cnVlLFxuICAgIHN5bmNMYXllcnNPbkRyYWc6IGZhbHNlLFxuICAgIGRyYWdnYWJsZTogdHJ1ZSwgLy8gVE9ETzogbmV4dCBtYWpvciBSZWxlYXNlLCByZW5hbWUgaXQgdG8gYWxsb3dEcmFnZ2luZ1xuICAgIGFsbG93RWRpdGluZzogdHJ1ZSwgLy8gZGlzYWJsZSBhbGwgaW50ZXJhY3Rpb25zIG9uIGEgbGF5ZXIgd2hpY2ggYXJlIGFjdGl2YXRlZCB3aXRoIGBlbmFibGUoKWAuIEZvciBleGFtcGxlIGEgQ2lyY2xlIGNhbid0IGJlIGRyYWdnZWQgaW4gRWRpdC1Nb2RlXG4gICAgYWxsb3dSZW1vdmFsOiB0cnVlLFxuICAgIGFsbG93Q3V0dGluZzogdHJ1ZSxcbiAgICBhbGxvd1JvdGF0aW9uOiB0cnVlLFxuICAgIGFkZFZlcnRleE9uOiAnY2xpY2snLFxuICAgIHJlbW92ZVZlcnRleE9uOiAnY29udGV4dG1lbnUnLFxuICAgIHJlbW92ZVZlcnRleFZhbGlkYXRpb246IHVuZGVmaW5lZCxcbiAgICBhZGRWZXJ0ZXhWYWxpZGF0aW9uOiB1bmRlZmluZWQsXG4gICAgbW92ZVZlcnRleFZhbGlkYXRpb246IHVuZGVmaW5lZCxcbiAgICByZXNpemVhYmxlQ2lyY2xlTWFya2VyOiBmYWxzZSxcbiAgICByZXNpemFibGVDaXJjbGU6IHRydWUsXG4gIH0sXG4gIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICB9LFxuICBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gIH0sXG4gIGFwcGx5T3B0aW9ucygpIHt9LFxuICBpc1BvbHlnb24oKSB7XG4gICAgLy8gaWYgaXQncyBhIHBvbHlnb24sIGl0IG1lYW5zIHRoZSBjb29yZGluYXRlcyBhcnJheSBpcyBtdWx0aSBkaW1lbnNpb25hbFxuICAgIHJldHVybiB0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuUG9seWdvbjtcbiAgfSxcbiAgZ2V0U2hhcGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NoYXBlO1xuICB9LFxuICBfc2V0UGFuZShsYXllciwgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSAnbGF5ZXJQYW5lJykge1xuICAgICAgbGF5ZXIub3B0aW9ucy5wYW5lID1cbiAgICAgICAgKHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzICYmXG4gICAgICAgICAgdGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMubGF5ZXJQYW5lKSB8fFxuICAgICAgICAnb3ZlcmxheVBhbmUnO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3ZlcnRleFBhbmUnKSB7XG4gICAgICBsYXllci5vcHRpb25zLnBhbmUgPVxuICAgICAgICAodGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMgJiZcbiAgICAgICAgICB0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcy52ZXJ0ZXhQYW5lKSB8fFxuICAgICAgICAnbWFya2VyUGFuZSc7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnbWFya2VyUGFuZScpIHtcbiAgICAgIGxheWVyLm9wdGlvbnMucGFuZSA9XG4gICAgICAgICh0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcyAmJlxuICAgICAgICAgIHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzLm1hcmtlclBhbmUpIHx8XG4gICAgICAgICdtYXJrZXJQYW5lJztcbiAgICB9XG4gIH0sXG4gIHJlbW92ZSgpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXAgfHwgdGhpcy5fbGF5ZXIuX21hcDtcbiAgICBtYXAucG0ucmVtb3ZlTGF5ZXIoeyB0YXJnZXQ6IHRoaXMuX2xheWVyIH0pO1xuICB9LFxuICBfdmVydGV4VmFsaWRhdGlvbih0eXBlLCBlKSB7XG4gICAgY29uc3QgbWFya2VyID0gZS50YXJnZXQ7XG4gICAgY29uc3QgYXJncyA9IHsgbGF5ZXI6IHRoaXMuX2xheWVyLCBtYXJrZXIsIGV2ZW50OiBlIH07XG5cbiAgICBsZXQgdmFsaWRhdGlvbkZuYyA9ICcnO1xuICAgIGlmICh0eXBlID09PSAnbW92ZScpIHtcbiAgICAgIHZhbGlkYXRpb25GbmMgPSAnbW92ZVZlcnRleFZhbGlkYXRpb24nO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FkZCcpIHtcbiAgICAgIHZhbGlkYXRpb25GbmMgPSAnYWRkVmVydGV4VmFsaWRhdGlvbic7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAncmVtb3ZlJykge1xuICAgICAgdmFsaWRhdGlvbkZuYyA9ICdyZW1vdmVWZXJ0ZXhWYWxpZGF0aW9uJztcbiAgICB9XG5cbiAgICAvLyBpZiB2YWxpZGF0aW9uIGdvZXMgd3JvbmcsIHdlIHJldHVybiBmYWxzZVxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9uc1t2YWxpZGF0aW9uRm5jXSAmJlxuICAgICAgdHlwZW9mIHRoaXMub3B0aW9uc1t2YWxpZGF0aW9uRm5jXSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgIXRoaXMub3B0aW9uc1t2YWxpZGF0aW9uRm5jXShhcmdzKVxuICAgICkge1xuICAgICAgaWYgKHR5cGUgPT09ICdtb3ZlJykge1xuICAgICAgICBtYXJrZXIuX2NhbmNlbERyYWdFdmVudENoYWluID0gbWFya2VyLmdldExhdExuZygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW4gPSBudWxsO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBfdmVydGV4VmFsaWRhdGlvbkRyYWcobWFya2VyKSB7XG4gICAgLy8gd2UgcmVzZXQgdGhlIG1hcmtlciB0byB0aGUgcGxhY2UgYmVmb3JlIGl0IHdhcyBkcmFnZ2VkLiBXZSBuZWVkIHRoaXMsIGJlY2F1c2Ugd2UgY2FuJ3Qgc3RvcCB0aGUgZHJhZyBwcm9jZXNzIGluIGEgYGRyYWdzdGFydGAgfCBgbW92ZXN0YXJ0YCBsaXN0ZW5lclxuICAgIGlmIChtYXJrZXIuX2NhbmNlbERyYWdFdmVudENoYWluKSB7XG4gICAgICBtYXJrZXIuX2xhdGxuZyA9IG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW47XG4gICAgICBtYXJrZXIudXBkYXRlKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBfdmVydGV4VmFsaWRhdGlvbkRyYWdFbmQobWFya2VyKSB7XG4gICAgaWYgKG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW4pIHtcbiAgICAgIG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW4gPSBudWxsO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBFZGl0O1xuIiwgImltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuLy8gTGF5ZXJHcm91cCBkb2Vzbid0IGluaGVyaXQgZnJvbSBMLlBNLkVkaXQgYmVjYXVzZSBpdCdzIGp1c3QgY2FsbGluZyBMLlBNLkVkaXQuUG9seWdvblxuLy8gKHdoaWNoIGluaGVyaXRzIGZyb20gTC5QTS5FZGl0KSBmb3IgZWFjaCBsYXllcixcbi8vIHNvIGl0J3Mgbm90IHJlYWxseSBhIHBhcmVudCBjbGFzc1xuRWRpdC5MYXllckdyb3VwID0gTC5DbGFzcy5leHRlbmQoe1xuICBpbml0aWFsaXplKGxheWVyR3JvdXApIHtcbiAgICB0aGlzLl9sYXllckdyb3VwID0gbGF5ZXJHcm91cDtcbiAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIHRoaXMuX2dldE1hcCgpO1xuXG4gICAgLy8gaW5pdCBhbGwgbGF5ZXJzIG9mIHRoZSBncm91cFxuICAgIHRoaXMuX2xheWVycy5mb3JFYWNoKChsYXllcikgPT4gdGhpcy5faW5pdExheWVyKGxheWVyKSk7XG5cbiAgICAvLyBpZiBhIG5ldyBsYXllciBpcyBhZGRlZCB0byB0aGUgZ3JvdXAsIHJlaW5pdGlhbGl6ZVxuICAgIC8vIFRoaXMgb25seSB3b3JrcyBmb3IgRmVhdHVyZUdyb3Vwcywgbm90IExheWVyR3JvdXBzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvNDg2MVxuXG4gICAgY29uc3QgYWRkVGhyb3R0bGUgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUubGF5ZXIuX3BtVGVtcExheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgICBjb25zdCBfaW5pdExheWVycyA9IHRoaXMuX2xheWVycy5maWx0ZXIoXG4gICAgICAgIChsYXllcikgPT5cbiAgICAgICAgICAhbGF5ZXIucG0uX3BhcmVudExheWVyR3JvdXAgfHxcbiAgICAgICAgICAhKHRoaXMuX2xheWVyR3JvdXAuX2xlYWZsZXRfaWQgaW4gbGF5ZXIucG0uX3BhcmVudExheWVyR3JvdXApXG4gICAgICApO1xuICAgICAgLy8gaW5pdCB0aGUgbmV3bHkgYWRkZWQgbGF5ZXJzIChjYW4gYmUgbXVsdGlwbGUgYmVjYXVzZSBvZiB0aGUgdGhyb3R0bGUpXG4gICAgICBfaW5pdExheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICB0aGlzLl9pbml0TGF5ZXIobGF5ZXIpO1xuICAgICAgfSk7XG4gICAgICAvLyBpZiBlZGl0aW5nIHdhcyBhbHJlYWR5IGVuYWJsZWQgZm9yIHRoaXMgZ3JvdXAsIGVuYWJsZSBpdCBhZ2FpblxuICAgICAgLy8gc28gdGhlIG5ldyBsYXllcnMgYXJlIGVuYWJsZWRcbiAgICAgIGlmIChcbiAgICAgICAgX2luaXRMYXllcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICB0aGlzLl9nZXRNYXAoKSAmJlxuICAgICAgICB0aGlzLl9nZXRNYXAoKS5wbS5nbG9iYWxFZGl0TW9kZUVuYWJsZWQoKVxuICAgICAgKSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgICAgIHRoaXMuZW5hYmxlKHRoaXMuZ2V0T3B0aW9ucygpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5vbihcbiAgICAgICdsYXllcmFkZCcsXG4gICAgICBMLlV0aWwudGhyb3R0bGUoYWRkVGhyb3R0bGUsIDEwMCwgdGhpcyksXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIC8vIFJlbW92ZSB0aGUgbGF5ZXJncm91cCBmcm9tIHRoZSBsYXllclxuICAgIHRoaXMuX2xheWVyR3JvdXAub24oXG4gICAgICAnbGF5ZXJyZW1vdmUnLFxuICAgICAgKGUpID0+IHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlTGF5ZXJGcm9tR3JvdXAoZS50YXJnZXQpO1xuICAgICAgfSxcbiAgICAgIHRoaXNcbiAgICApO1xuXG4gICAgY29uc3QgcmVtb3ZlVGhyb3R0bGUgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0Ll9wbVRlbXBMYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIH07XG4gICAgLy8gaWYgYSBsYXllciBpcyByZW1vdmVkIGZyb20gdGhlIGdyb3VwLCBjYWxjIHRoZSBsYXllcnMgbGlzdCBhZ2Fpbi5cbiAgICAvLyB3ZSBydW4gdGhpcyBhcyB0aHJvdHRsZSBiZWNhdXNlIHRoZSBmaW5kTGF5ZXJzKCkgaXMgYSBsYXJnZXIgZnVuY3Rpb25cbiAgICB0aGlzLl9sYXllckdyb3VwLm9uKFxuICAgICAgJ2xheWVycmVtb3ZlJyxcbiAgICAgIEwuVXRpbC50aHJvdHRsZShyZW1vdmVUaHJvdHRsZSwgMTAwLCB0aGlzKSxcbiAgICAgIHRoaXNcbiAgICApO1xuICB9LFxuICBlbmFibGUob3B0aW9ucywgX2xheWVySWRzID0gW10pIHtcbiAgICBpZiAoX2xheWVySWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICB9XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5fbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgICAgaWYgKF9sYXllcklkcy5pbmRleE9mKGxheWVyLl9sZWFmbGV0X2lkKSA9PT0gLTEpIHtcbiAgICAgICAgICBfbGF5ZXJJZHMucHVzaChsYXllci5fbGVhZmxldF9pZCk7XG4gICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKG9wdGlvbnMsIF9sYXllcklkcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyLnBtLmVuYWJsZShvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgZGlzYWJsZShfbGF5ZXJJZHMgPSBbXSkge1xuICAgIGlmIChfbGF5ZXJJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIH1cbiAgICB0aGlzLl9sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICBpZiAoX2xheWVySWRzLmluZGV4T2YobGF5ZXIuX2xlYWZsZXRfaWQpID09PSAtMSkge1xuICAgICAgICAgIF9sYXllcklkcy5wdXNoKGxheWVyLl9sZWFmbGV0X2lkKTtcbiAgICAgICAgICBsYXllci5wbS5kaXNhYmxlKF9sYXllcklkcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyLnBtLmRpc2FibGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgZW5hYmxlZChfbGF5ZXJJZHMgPSBbXSkge1xuICAgIGlmIChfbGF5ZXJJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIH1cbiAgICBjb25zdCBlbmFibGVkID0gdGhpcy5fbGF5ZXJzLmZpbmQoKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgICAgaWYgKF9sYXllcklkcy5pbmRleE9mKGxheWVyLl9sZWFmbGV0X2lkKSA9PT0gLTEpIHtcbiAgICAgICAgICBfbGF5ZXJJZHMucHVzaChsYXllci5fbGVhZmxldF9pZCk7XG4gICAgICAgICAgcmV0dXJuIGxheWVyLnBtLmVuYWJsZWQoX2xheWVySWRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVuYWJsZWQgaXMgYWxyZWFkeSByZXR1cm5lZCBiZWNhdXNlIHRoaXMgaXMgbm90IHRoZSBmaXJzdCB0aW1lLCBzbyB3ZSBjYW4gcmV0dXJuIGFsd2F5cyBmYWxzZVxuICAgICAgfVxuICAgICAgcmV0dXJuIGxheWVyLnBtLmVuYWJsZWQoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gISFlbmFibGVkO1xuICB9LFxuICB0b2dnbGVFZGl0KG9wdGlvbnMsIF9sYXllcklkcyA9IFtdKSB7XG4gICAgaWYgKF9sYXllcklkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2xheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgfVxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuX2xheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICAgIGlmIChfbGF5ZXJJZHMuaW5kZXhPZihsYXllci5fbGVhZmxldF9pZCkgPT09IC0xKSB7XG4gICAgICAgICAgX2xheWVySWRzLnB1c2gobGF5ZXIuX2xlYWZsZXRfaWQpO1xuICAgICAgICAgIGxheWVyLnBtLnRvZ2dsZUVkaXQob3B0aW9ucywgX2xheWVySWRzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5ZXIucG0udG9nZ2xlRWRpdChvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgX2luaXRMYXllcihsYXllcikge1xuICAgIC8vIGFkZCByZWZlcmVuY2UgZm9yIHRoZSBncm91cCB0byBlYWNoIGxheWVyIGluc2lkZSBzYWlkIGdyb3VwIGJ5IGlkLCBhIGxheWVyIGNhbiBoYXZlIG11bHRpcGxlIGdyb3Vwc1xuICAgIGNvbnN0IGlkID0gTC5VdGlsLnN0YW1wKHRoaXMuX2xheWVyR3JvdXApO1xuICAgIGlmICghbGF5ZXIucG0uX3BhcmVudExheWVyR3JvdXApIHtcbiAgICAgIGxheWVyLnBtLl9wYXJlbnRMYXllckdyb3VwID0ge307XG4gICAgfVxuICAgIGxheWVyLnBtLl9wYXJlbnRMYXllckdyb3VwW2lkXSA9IHRoaXMuX2xheWVyR3JvdXA7XG4gIH0sXG4gIF9yZW1vdmVMYXllckZyb21Hcm91cChsYXllcikge1xuICAgIGlmIChsYXllci5wbSAmJiBsYXllci5wbS5fbGF5ZXJHcm91cCkge1xuICAgICAgY29uc3QgaWQgPSBMLlV0aWwuc3RhbXAodGhpcy5fbGF5ZXJHcm91cCk7XG4gICAgICBkZWxldGUgbGF5ZXIucG0uX2xheWVyR3JvdXBbaWRdO1xuICAgIH1cbiAgfSxcbiAgZHJhZ2dpbmcoKSB7XG4gICAgdGhpcy5fbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICBpZiAodGhpcy5fbGF5ZXJzKSB7XG4gICAgICBjb25zdCBkcmFnZ2luZyA9IHRoaXMuX2xheWVycy5maW5kKChsYXllcikgPT4gbGF5ZXIucG0uZHJhZ2dpbmcoKSk7XG4gICAgICByZXR1cm4gISFkcmFnZ2luZztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gIH0sXG4gIF9nZXRNYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcCB8fCB0aGlzLl9sYXllcnMuZmluZCgobCkgPT4gISFsLl9tYXApPy5fbWFwIHx8IG51bGw7XG4gIH0sXG4gIGdldExheWVycyhcbiAgICBkZWVwID0gZmFsc2UsXG4gICAgZmlsdGVyR2VvbWFuID0gdHJ1ZSxcbiAgICBmaWx0ZXJHcm91cHNPdXQgPSB0cnVlLFxuICAgIF9sYXllcklkcyA9IFtdXG4gICkge1xuICAgIGxldCBsYXllcnMgPSBbXTtcbiAgICBpZiAoZGVlcCkge1xuICAgICAgLy8gZ2V0IHRoZSBsYXllcnMgb2YgTGF5ZXJHcm91cCBjaGlsZHJlblxuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5nZXRMYXllcnMoKS5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICBsYXllcnMucHVzaChsYXllcik7XG4gICAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICAgIGlmIChfbGF5ZXJJZHMuaW5kZXhPZihsYXllci5fbGVhZmxldF9pZCkgPT09IC0xKSB7XG4gICAgICAgICAgICBfbGF5ZXJJZHMucHVzaChsYXllci5fbGVhZmxldF9pZCk7XG4gICAgICAgICAgICBsYXllcnMgPSBsYXllcnMuY29uY2F0KFxuICAgICAgICAgICAgICBsYXllci5wbS5nZXRMYXllcnModHJ1ZSwgdHJ1ZSwgdHJ1ZSwgX2xheWVySWRzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBnZXQgYWxsIGxheWVycyBvZiB0aGUgbGF5ZXIgZ3JvdXBcbiAgICAgIGxheWVycyA9IHRoaXMuX2xheWVyR3JvdXAuZ2V0TGF5ZXJzKCk7XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlckdyb3Vwc091dCkge1xuICAgICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+ICEobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlckdlb21hbikge1xuICAgICAgLy8gZmlsdGVyIG91dCBsYXllcnMgdGhhdCBkb24ndCBoYXZlIGxlYWZsZXQtZ2VvbWFuXG4gICAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gISFsYXllci5wbSk7XG4gICAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCdzIGxlYWZsZXQtZ2VvbWFuIHNwZWNpZmljIHRlbXBvcmFyeSBzdHVmZlxuICAgICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+ICFsYXllci5fcG1UZW1wTGF5ZXIpO1xuICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgaWdub3JlIGxlYWZsZXQtZ2VvbWFuXG4gICAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKFxuICAgICAgICAobGF5ZXIpID0+XG4gICAgICAgICAgKCFMLlBNLm9wdEluICYmICFsYXllci5vcHRpb25zLnBtSWdub3JlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IC8gdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IHNldCAvIHRydWUgKGRlZmF1bHQpXG4gICAgICAgICAgKEwuUE0ub3B0SW4gJiYgbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlKTtcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBsYXllcnM7XG4gIH0sXG4gIHNldE9wdGlvbnMob3B0aW9ucywgX2xheWVySWRzID0gW10pIHtcbiAgICBpZiAoX2xheWVySWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICB9XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGlmIChsYXllci5wbSkge1xuICAgICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgICAgICBpZiAoX2xheWVySWRzLmluZGV4T2YobGF5ZXIuX2xlYWZsZXRfaWQpID09PSAtMSkge1xuICAgICAgICAgICAgX2xheWVySWRzLnB1c2gobGF5ZXIuX2xlYWZsZXRfaWQpO1xuICAgICAgICAgICAgbGF5ZXIucG0uc2V0T3B0aW9ucyhvcHRpb25zLCBfbGF5ZXJJZHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXllci5wbS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRWRpdCBmcm9tICcuL0wuUE0uRWRpdCc7XG5cbkVkaXQuTWFya2VyID0gRWRpdC5leHRlbmQoe1xuICBfc2hhcGU6ICdNYXJrZXInLFxuICBpbml0aWFsaXplKGxheWVyKSB7XG4gICAgLy8gbGF5ZXIgaXMgYSBtYXJrZXIgaW4gdGhpcyBjYXNlIDotKVxuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gcmVnaXN0ZXIgZHJhZ2VuZCBldmVudCBlLmcuIHRvIGZpcmUgcG06ZWRpdFxuICAgIHRoaXMuX2xheWVyLm9uKCdkcmFnZW5kJywgdGhpcy5fb25EcmFnRW5kLCB0aGlzKTtcbiAgfSxcbiAgLy8gVE9ETzogcmVtb3ZlIGRlZmF1bHQgb3B0aW9uIGluIG5leHQgbWFqb3IgUmVsZWFzZVxuICBlbmFibGUob3B0aW9ucyA9IHsgZHJhZ2dhYmxlOiB0cnVlIH0pIHtcbiAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIC8vIGxheWVyIGlzIG5vdCBhbGxvd2VkIHRvIGVkaXRcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0VkaXRpbmcgfHwgIXRoaXMuX2xheWVyLl9tYXApIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG5cbiAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5T3B0aW9ucygpO1xuXG4gICAgLy8gaWYgc2hhcGUgZ2V0cyByZW1vdmVkIGZyb20gbWFwLCBkaXNhYmxlIGVkaXQgbW9kZVxuICAgIHRoaXMuX2xheWVyLm9uKCdyZW1vdmUnLCB0aGlzLmRpc2FibGUsIHRoaXMpO1xuXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICB0aGlzLl9maXJlRW5hYmxlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gaWYgaXQncyBub3QgZW5hYmxlZCwgaXQgZG9lc24ndCBuZWVkIHRvIGJlIGRpc2FibGVkXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGRpc2FibGUgZHJhZ2dpbmcsIGFzIHRoaXMgY291bGQgaGF2ZSBiZWVuIGFjdGl2ZSBldmVuIHdpdGhvdXQgYmVpbmcgZW5hYmxlZFxuICAgIHRoaXMuZGlzYWJsZUxheWVyRHJhZygpO1xuXG4gICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdyZW1vdmUnLCB0aGlzLmRpc2FibGUsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9mZignY29udGV4dG1lbnUnLCB0aGlzLl9yZW1vdmVNYXJrZXIsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuX2xheWVyRWRpdGVkKSB7XG4gICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2xheWVyRWRpdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fZmlyZURpc2FibGUoKTtcblxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgfSxcbiAgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgfSxcbiAgdG9nZ2xlRWRpdChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgYXBwbHlPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSkge1xuICAgICAgdGhpcy5lbmFibGVMYXllckRyYWcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlTGF5ZXJEcmFnKCk7XG4gICAgfVxuICAgIC8vIGVuYWJsZSByZW1vdmFsIGZvciB0aGUgbWFya2VyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucHJldmVudE1hcmtlclJlbW92YWwpIHtcbiAgICAgIHRoaXMuX2xheWVyLm9uKCdjb250ZXh0bWVudScsIHRoaXMuX3JlbW92ZU1hcmtlciwgdGhpcyk7XG4gICAgfVxuICB9LFxuICBfcmVtb3ZlTWFya2VyKGUpIHtcbiAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldDtcbiAgICBtYXJrZXIucmVtb3ZlKCk7XG4gICAgLy8gVE9ETzogZmluZCBvdXQgd2h5IHRoaXMgaXMgZmlyZWQgbWFudWFsbHksIHNob3VsZG4ndCBpdCBiZSBjYXRjaGVkIGJ5IEwuUE0uTWFwICdsYXllcnJlbW92ZSc/XG4gICAgdGhpcy5fZmlyZVJlbW92ZShtYXJrZXIpO1xuICAgIHRoaXMuX2ZpcmVSZW1vdmUodGhpcy5fbWFwLCBtYXJrZXIpO1xuICB9LFxuICBfb25EcmFnRW5kKCkge1xuICAgIHRoaXMuX2ZpcmVFZGl0KCk7XG4gICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSB0cnVlO1xuICB9LFxuICAvLyBvdmVyd3JpdGUgaW5pdFNuYXBwYWJsZU1hcmtlcnMgZnJvbSBTbmFwcGluZy5qcyBNaXhpblxuICBfaW5pdFNuYXBwYWJsZU1hcmtlcnMoKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fbGF5ZXI7XG5cbiAgICB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlID0gdGhpcy5vcHRpb25zLnNuYXBEaXN0YW5jZSB8fCAzMDtcbiAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPVxuICAgICAgdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50O1xuXG4gICAgbWFya2VyLm9mZigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWcnLCB0aGlzLl9oYW5kbGVTbmFwcGluZywgdGhpcyk7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnZW5kJywgdGhpcy5fY2xlYW51cFNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuXG4gICAgbWFya2VyLm9mZigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG4gIF9kaXNhYmxlU25hcHBpbmcoKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fbGF5ZXI7XG4gICAgbWFya2VyLm9mZigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnZW5kJywgdGhpcy5fY2xlYW51cFNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICB9LFxufSk7XG4iLCAiaW1wb3J0IGtpbmtzIGZyb20gJ0B0dXJmL2tpbmtzJztcbmltcG9ydCBsaW5lSW50ZXJzZWN0IGZyb20gJ0B0dXJmL2xpbmUtaW50ZXJzZWN0JztcbmltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgRWRpdCBmcm9tICcuL0wuUE0uRWRpdCc7XG5pbXBvcnQgeyBjb3B5TGF0TG5ncywgaGFzVmFsdWVzLCByZW1vdmVFbXB0eUNvb3JkUmluZ3MgfSBmcm9tICcuLi9oZWxwZXJzJztcblxuaW1wb3J0IE1hcmtlckxpbWl0cyBmcm9tICcuLi9NaXhpbnMvTWFya2VyTGltaXRzJztcblxuLy8gU2hpdCdzIGdldHRpbmcgY29tcGxpY2F0ZWQgaW4gaGVyZSB3aXRoIE11bHRpcG9seWdvbiBTdXBwb3J0LiBTbyBoZXJlJ3MgYSBxdWljayBub3RlIGFib3V0IGl0OlxuLy8gTXVsdGlwb2x5Z29ucyB3aXRoIGhvbGVzIG1lYW5zIGxvdHMgb2YgbmVzdGVkLCBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy5cbi8vIEluIG9yZGVyIHRvIGZpbmQgYSB2YWx1ZSBpbnNpZGUgc3VjaCBhbiBhcnJheSB5b3UgbmVlZCBhIHBhdGggdG8gYWRyZXNzIGl0IGRpcmVjdGx5LlxuLy8gRXhhbXBsZTogdmFyIGFyciA9IFtbWydhJywgJ2InXSwgWydjJ11dXTtcbi8vIFRoZSBpbmRleFBhdGggdG8gJ2InIGlzIFswLCAwLCAxXS4gVGhlIGluZGV4UGF0aCB0byAnYycgaXMgWzAsIDEsIDBdLlxuLy8gU28gSSBjYW4gZ2V0ICdiJyB3aXRoOiBhcnJbMF1bMF1bMV0uXG4vLyBHb3QgaXQ/IE5vdyB5b3Uga25vdyB3aGF0IGlzIG1lYW50IHdoZW4geW91IHJlYWQgXCJpbmRleFBhdGhcIiBhcm91bmQgaGVyZS4gSGF2ZSBmdW4gXHVEODNEXHVEQzREXG5cbkVkaXQuTGluZSA9IEVkaXQuZXh0ZW5kKHtcbiAgaW5jbHVkZXM6IFtNYXJrZXJMaW1pdHNdLFxuICBfc2hhcGU6ICdMaW5lJyxcbiAgaW5pdGlhbGl6ZShsYXllcikge1xuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcblxuICAgIC8vIGNhbmNlbCB3aGVuIG1hcCBpc24ndCBhdmFpbGFibGUsIHRoaXMgaGFwcGVucyB3aGVuIHRoZSBwb2x5Z29uIGlzIHJlbW92ZWQgYmVmb3JlIHRoaXMgZmlyZXNcbiAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGxheWVyIGlzIG5vdCBhbGxvd2VkIHRvIGVkaXRcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0VkaXRpbmcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgLy8gaWYgaXQgd2FzIGFscmVhZHkgZW5hYmxlZCwgZGlzYWJsZSBmaXJzdFxuICAgICAgLy8gd2UgZG9uJ3QgYmxvY2sgZW5hYmxpbmcgYWdhaW4gYmVjYXVzZSBuZXcgb3B0aW9ucyBtaWdodCBiZSBwYXNzZWRcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gaW5pdCBtYXJrZXJzXG4gICAgdGhpcy5faW5pdE1hcmtlcnMoKTtcblxuICAgIHRoaXMuYXBwbHlPcHRpb25zKCk7XG5cbiAgICAvLyBpZiBzaGFwZSBnZXRzIHJlbW92ZWQgZnJvbSBtYXAsIGRpc2FibGUgZWRpdCBtb2RlXG4gICAgdGhpcy5fbGF5ZXIub24oJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2xheWVyLm9uKFxuICAgICAgICAncG06dmVydGV4cmVtb3ZlZCcsXG4gICAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb25PblZlcnRleFJlbW92YWwsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uKSB7XG4gICAgICBpZiAodGhpcy5fbGF5ZXIub3B0aW9ucy5jb2xvciAhPT0gJyNmMDAwMDBmZicpIHtcbiAgICAgICAgdGhpcy5jYWNoZWRDb2xvciA9IHRoaXMuX2xheWVyLm9wdGlvbnMuY29sb3I7XG4gICAgICAgIHRoaXMuaXNSZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaXNSZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5faGFuZGxlTGF5ZXJTdHlsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhY2hlZENvbG9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLl9maXJlRW5hYmxlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gaWYgaXQncyBub3QgZW5hYmxlZCwgaXQgZG9lc24ndCBuZWVkIHRvIGJlIGRpc2FibGVkXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHByZXZlbnQgZGlzYWJsaW5nIGlmIHBvbHlnb24gaXMgYmVpbmcgZHJhZ2dlZFxuICAgIGlmICh0aGlzLl9kcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5fbWFya2VyR3JvdXAuY2xlYXJMYXllcnMoKTtcbiAgICB0aGlzLl9tYXJrZXJHcm91cC5yZW1vdmVGcm9tKHRoaXMuX21hcCk7XG5cbiAgICAvLyByZW1vdmUgbGlzdGVuZXJcbiAgICB0aGlzLl9sYXllci5vZmYoJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2xheWVyLm9mZihcbiAgICAgICAgJ3BtOnZlcnRleHJlbW92ZWQnLFxuICAgICAgICB0aGlzLl9oYW5kbGVTZWxmSW50ZXJzZWN0aW9uT25WZXJ0ZXhSZW1vdmFsLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBkcmFnZ2FibGUgY2xhc3NcbiAgICBjb25zdCBlbCA9IHRoaXMuX2xheWVyLl9wYXRoXG4gICAgICA/IHRoaXMuX2xheWVyLl9wYXRoXG4gICAgICA6IHRoaXMuX2xheWVyLl9yZW5kZXJlci5fY29udGFpbmVyO1xuICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dhYmxlJyk7XG5cbiAgICBpZiAodGhpcy5fbGF5ZXJFZGl0ZWQpIHtcbiAgICAgIHRoaXMuX2ZpcmVVcGRhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9maXJlRGlzYWJsZSgpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGVFZGl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmVuYWJsZShvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVuYWJsZWQoKTtcbiAgfSxcbiAgYXBwbHlPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICB9XG4gIH0sXG4gIF9pbml0TWFya2VycygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgLy8gY2xlYW51cCBvbGQgb25lcyBmaXJzdFxuICAgIGlmICh0aGlzLl9tYXJrZXJHcm91cCkge1xuICAgICAgdGhpcy5fbWFya2VyR3JvdXAuY2xlYXJMYXllcnMoKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgbWFya2VyR3JvdXAgdG8gbWFwLCBtYXJrZXJHcm91cCBpbmNsdWRlcyByZWd1bGFyIGFuZCBtaWRkbGUgbWFya2Vyc1xuICAgIHRoaXMuX21hcmtlckdyb3VwID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XG4gICAgdGhpcy5fbWFya2VyR3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcblxuICAgIC8vIGhhbmRsZSBjb29yZC1yaW5ncyAob3V0ZXIsIGlubmVyLCBldGMpXG4gICAgY29uc3QgaGFuZGxlUmluZyA9IChjb29yZHNBcnIpID0+IHtcbiAgICAgIC8vIGlmIHRoZXJlIGlzIGFub3RoZXIgY29vcmRzIHJpbmcsIGdvIGEgbGV2ZWwgZGVlcCBhbmQgZG8gdGhpcyBhZ2FpblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29vcmRzQXJyWzBdKSkge1xuICAgICAgICByZXR1cm4gY29vcmRzQXJyLm1hcChoYW5kbGVSaW5nLCB0aGlzKTtcbiAgICAgIH1cblxuICAgICAgLy8gdGhlIG1hcmtlciBhcnJheSwgaXQgaW5jbHVkZXMgb25seSB0aGUgbWFya2VycyBvZiB2ZXJ0ZXhlcyAobm8gbWlkZGxlIG1hcmtlcnMpXG4gICAgICBjb25zdCByaW5nQXJyID0gY29vcmRzQXJyLm1hcCh0aGlzLl9jcmVhdGVNYXJrZXIsIHRoaXMpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhpZGVNaWRkbGVNYXJrZXJzICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBzbWFsbCBtYXJrZXJzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHJlZ3VsYXIgbWFya2Vyc1xuICAgICAgICBjb29yZHNBcnIubWFwKCh2LCBrKSA9PiB7XG4gICAgICAgICAgLy8gZmluZCB0aGUgbmV4dCBpbmRleCBmaXN0XG4gICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gdGhpcy5pc1BvbHlnb24oKVxuICAgICAgICAgICAgPyAoayArIDEpICUgY29vcmRzQXJyLmxlbmd0aFxuICAgICAgICAgICAgOiBrICsgMTtcbiAgICAgICAgICAvLyBjcmVhdGUgdGhlIG1hcmtlclxuICAgICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIocmluZ0FycltrXSwgcmluZ0FycltuZXh0SW5kZXhdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByaW5nQXJyO1xuICAgIH07XG5cbiAgICAvLyBjcmVhdGUgbWFya2Vyc1xuICAgIHRoaXMuX21hcmtlcnMgPSBoYW5kbGVSaW5nKGNvb3Jkcyk7XG5cbiAgICAvLyBoYW5kbGUgcG9zc2libGUgbGltaXRhdGlvbjogbWF4aW11bSBudW1iZXIgb2YgbWFya2Vyc1xuICAgIHRoaXMuZmlsdGVyTWFya2VyR3JvdXAoKTtcblxuICAgIC8vIGFkZCBtYXJrZXJHcm91cCB0byBtYXBcbiAgICBtYXAuYWRkTGF5ZXIodGhpcy5fbWFya2VyR3JvdXApO1xuICB9LFxuXG4gIC8vIGNyZWF0ZXMgaW5pdGlhbCBtYXJrZXJzIGZvciBjb29yZGluYXRlc1xuICBfY3JlYXRlTWFya2VyKGxhdGxuZykge1xuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBMLk1hcmtlcihsYXRsbmcsIHtcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKG1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcblxuICAgIG1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yb3RhdGUpIHtcbiAgICAgIG1hcmtlci5vbignZHJhZ3N0YXJ0JywgdGhpcy5fb25Sb3RhdGVTdGFydCwgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ2RyYWcnLCB0aGlzLl9vblJvdGF0ZSwgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ2RyYWdlbmQnLCB0aGlzLl9vblJvdGF0ZUVuZCwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcmtlci5vbignY2xpY2snLCB0aGlzLl9vblZlcnRleENsaWNrLCB0aGlzKTtcbiAgICAgIG1hcmtlci5vbignZHJhZ3N0YXJ0JywgdGhpcy5fb25NYXJrZXJEcmFnU3RhcnQsIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdtb3ZlJywgdGhpcy5fb25NYXJrZXJEcmFnLCB0aGlzKTtcbiAgICAgIG1hcmtlci5vbignZHJhZ2VuZCcsIHRoaXMuX29uTWFya2VyRHJhZ0VuZCwgdGhpcyk7XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnByZXZlbnRNYXJrZXJSZW1vdmFsKSB7XG4gICAgICAgIG1hcmtlci5vbih0aGlzLm9wdGlvbnMucmVtb3ZlVmVydGV4T24sIHRoaXMuX3JlbW92ZU1hcmtlciwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fbWFya2VyR3JvdXAuYWRkTGF5ZXIobWFya2VyKTtcblxuICAgIHJldHVybiBtYXJrZXI7XG4gIH0sXG5cbiAgLy8gY3JlYXRlcyB0aGUgbWlkZGxlIG1hcmtlcyBiZXR3ZWVuIGNvb3JkaW5hdGVzXG4gIF9jcmVhdGVNaWRkbGVNYXJrZXIobGVmdE0sIHJpZ2h0TSkge1xuICAgIC8vIGNhbmNlbCBpZiB0aGVyZSBhcmUgbm8gdHdvIG1hcmtlcnNcbiAgICBpZiAoIWxlZnRNIHx8ICFyaWdodE0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXRsbmcgPSBMLlBNLlV0aWxzLmNhbGNNaWRkbGVMYXRMbmcoXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICBsZWZ0TS5nZXRMYXRMbmcoKSxcbiAgICAgIHJpZ2h0TS5nZXRMYXRMbmcoKVxuICAgICk7XG5cbiAgICBjb25zdCBtaWRkbGVNYXJrZXIgPSB0aGlzLl9jcmVhdGVNYXJrZXIobGF0bG5nKTtcbiAgICBjb25zdCBtaWRkbGVJY29uID0gTC5kaXZJY29uKHtcbiAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1pY29uIG1hcmtlci1pY29uLW1pZGRsZScsXG4gICAgfSk7XG4gICAgbWlkZGxlTWFya2VyLnNldEljb24obWlkZGxlSWNvbik7XG4gICAgbWlkZGxlTWFya2VyLmxlZnRNID0gbGVmdE07XG4gICAgbWlkZGxlTWFya2VyLnJpZ2h0TSA9IHJpZ2h0TTtcblxuICAgIC8vIHNhdmUgcmVmZXJlbmNlIHRvIHRoaXMgbWlkZGxlIG1hcmtlcnMgb24gdGhlIG5laWdoYm9vciByZWd1bGFyIG1hcmtlcnNcbiAgICBsZWZ0TS5fbWlkZGxlTWFya2VyTmV4dCA9IG1pZGRsZU1hcmtlcjtcbiAgICByaWdodE0uX21pZGRsZU1hcmtlclByZXYgPSBtaWRkbGVNYXJrZXI7XG5cbiAgICBtaWRkbGVNYXJrZXIub24odGhpcy5vcHRpb25zLmFkZFZlcnRleE9uLCB0aGlzLl9vbk1pZGRsZU1hcmtlckNsaWNrLCB0aGlzKTtcbiAgICBtaWRkbGVNYXJrZXIub24oJ21vdmVzdGFydCcsIHRoaXMuX29uTWlkZGxlTWFya2VyTW92ZVN0YXJ0LCB0aGlzKTtcblxuICAgIHJldHVybiBtaWRkbGVNYXJrZXI7XG4gIH0sXG4gIF9vbk1pZGRsZU1hcmtlckNsaWNrKGUpIHtcbiAgICBjb25zdCBtaWRkbGVNYXJrZXIgPSBlLnRhcmdldDtcblxuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbignYWRkJywgZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gVE9ETzogbW92ZSB0aGUgbmV4dCB0d28gbGluZXMgaW5zaWRlIF9hZGRNYXJrZXIoKSBhcyBzb29uIGFzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvNDQ4NFxuICAgIC8vIGlzIGZpeGVkXG4gICAgY29uc3QgaWNvbiA9IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KTtcbiAgICBtaWRkbGVNYXJrZXIuc2V0SWNvbihpY29uKTtcbiAgICB0aGlzLl9hZGRNYXJrZXIobWlkZGxlTWFya2VyLCBtaWRkbGVNYXJrZXIubGVmdE0sIG1pZGRsZU1hcmtlci5yaWdodE0pO1xuICB9LFxuICBfb25NaWRkbGVNYXJrZXJNb3ZlU3RhcnQoZSkge1xuICAgIGNvbnN0IG1pZGRsZU1hcmtlciA9IGUudGFyZ2V0O1xuICAgIG1pZGRsZU1hcmtlci5vbignbW92ZWVuZCcsIHRoaXMuX29uTWlkZGxlTWFya2VyTW92ZUVuZCwgdGhpcyk7XG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uKCdhZGQnLCBlKSkge1xuICAgICAgbWlkZGxlTWFya2VyLm9uKCdtb3ZlJywgdGhpcy5fb25NaWRkbGVNYXJrZXJNb3ZlUHJldmVudCwgdGhpcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWlkZGxlTWFya2VyLl9kcmFnZ2luZyA9IHRydWU7XG4gICAgLy8gVE9ETzogVGhpcyBpcyBhIHdvcmthcm91bmQuIFJlbW92ZSB0aGUgbW92ZWVuZCBsaXN0ZW5lciBhbmRcbiAgICAvLyBjYWxsYmFjayBhcyBzb29uIGFzIHRoaXMgaXMgZml4ZWQ6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvNDQ4NFxuICAgIHRoaXMuX2FkZE1hcmtlcihtaWRkbGVNYXJrZXIsIG1pZGRsZU1hcmtlci5sZWZ0TSwgbWlkZGxlTWFya2VyLnJpZ2h0TSk7XG4gIH0sXG4gIF9vbk1pZGRsZU1hcmtlck1vdmVQcmV2ZW50KGUpIHtcbiAgICBjb25zdCBtaWRkbGVNYXJrZXIgPSBlLnRhcmdldDtcbiAgICB0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZyhtaWRkbGVNYXJrZXIpO1xuICB9LFxuICBfb25NaWRkbGVNYXJrZXJNb3ZlRW5kKGUpIHtcbiAgICBjb25zdCBtaWRkbGVNYXJrZXIgPSBlLnRhcmdldDtcbiAgICBtaWRkbGVNYXJrZXIub2ZmKCdtb3ZlJywgdGhpcy5fb25NaWRkbGVNYXJrZXJNb3ZlUHJldmVudCwgdGhpcyk7XG4gICAgbWlkZGxlTWFya2VyLm9mZignbW92ZWVuZCcsIHRoaXMuX29uTWlkZGxlTWFya2VyTW92ZUVuZCwgdGhpcyk7XG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZ0VuZChtaWRkbGVNYXJrZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGljb24gPSBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbicgfSk7XG4gICAgbWlkZGxlTWFya2VyLnNldEljb24oaWNvbik7XG4gICAgLy8gdGltZW91dCBpcyBuZWVkZWQgZWxzZSB0aGlzLl9vblZlcnRleENsaWNrIGZpcmVzIHRoZSBldmVudCBiZWNhdXNlIGl0IGlzIGNhbGxlZCBhZnRlciBkZWxldGluZyB0aGUgZmxhZ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZGVsZXRlIG1pZGRsZU1hcmtlci5fZHJhZ2dpbmc7XG4gICAgfSwgMTAwKTtcbiAgfSxcbiAgLy8gYWRkcyBhIG5ldyBtYXJrZXIgZnJvbSBhIG1pZGRsZW1hcmtlclxuICBfYWRkTWFya2VyKG5ld00sIGxlZnRNLCByaWdodE0pIHtcbiAgICAvLyBmaXJzdCwgbWFrZSB0aGlzIG1pZGRsZW1hcmtlciBhIHJlZ3VsYXIgbWFya2VyXG4gICAgbmV3TS5vZmYoJ21vdmVzdGFydCcsIHRoaXMuX29uTWlkZGxlTWFya2VyTW92ZVN0YXJ0LCB0aGlzKTtcbiAgICBuZXdNLm9mZih0aGlzLm9wdGlvbnMuYWRkVmVydGV4T24sIHRoaXMuX29uTWlkZGxlTWFya2VyQ2xpY2ssIHRoaXMpO1xuICAgIC8vIG5vdywgY3JlYXRlIHRoZSBwb2x5Z29uIGNvb3JkaW5hdGUgcG9pbnQgZm9yIHRoYXQgbWFya2VyXG4gICAgLy8gYW5kIHB1c2ggaW50byBtYXJrZXIgYXJyYXlcbiAgICAvLyBhbmQgYXNzb2NpYXRlIHBvbHlnb24gY29vcmRpbmF0ZSB3aXRoIG1hcmtlciBjb29yZGluYXRlXG4gICAgY29uc3QgbGF0bG5nID0gbmV3TS5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9sYXllci5fbGF0bG5ncztcblxuICAgIC8vIHJlbW92ZSBsaW5rZWQgbWFya2Vyc1xuICAgIGRlbGV0ZSBuZXdNLmxlZnRNO1xuICAgIGRlbGV0ZSBuZXdNLnJpZ2h0TTtcblxuICAgIC8vIHRoZSBpbmRleCBwYXRoIHRvIHRoZSBtYXJrZXIgaW5zaWRlIHRoZSBtdWx0aWRpbWVuc2lvbmFsIG1hcmtlciBhcnJheVxuICAgIGNvbnN0IHsgaW5kZXhQYXRoLCBpbmRleCwgcGFyZW50UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KFxuICAgICAgdGhpcy5fbWFya2VycyxcbiAgICAgIGxlZnRNXG4gICAgKTtcblxuICAgIC8vIGRlZmluZSB0aGUgY29vcmRzUmluZyB0aGF0IGlzIGVkaXRlZFxuICAgIGNvbnN0IGNvb3Jkc1JpbmcgPSBpbmRleFBhdGgubGVuZ3RoID4gMSA/IGdldChjb29yZHMsIHBhcmVudFBhdGgpIDogY29vcmRzO1xuXG4gICAgLy8gZGVmaW5lIHRoZSBtYXJrZXJzIGFycmF5IHRoYXQgaXMgZWRpdGVkXG4gICAgY29uc3QgbWFya2VyQXJyID1cbiAgICAgIGluZGV4UGF0aC5sZW5ndGggPiAxID8gZ2V0KHRoaXMuX21hcmtlcnMsIHBhcmVudFBhdGgpIDogdGhpcy5fbWFya2VycztcblxuICAgIC8vIGFkZCBjb29yZGluYXRlIHRvIGNvb3JkaW5hdGUgYXJyYXlcbiAgICBjb29yZHNSaW5nLnNwbGljZShpbmRleCArIDEsIDAsIGxhdGxuZyk7XG5cbiAgICAvLyBhZGQgbWFya2VyIHRvIG1hcmtlciBhcnJheVxuICAgIG1hcmtlckFyci5zcGxpY2UoaW5kZXggKyAxLCAwLCBuZXdNKTtcblxuICAgIC8vIHNldCBuZXcgbGF0bG5ncyB0byB1cGRhdGUgcG9seWdvblxuICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MoY29vcmRzKTtcblxuICAgIC8vIGNyZWF0ZSB0aGUgbmV3IG1pZGRsZW1hcmtlcnNcbiAgICBpZiAodGhpcy5vcHRpb25zLmhpZGVNaWRkbGVNYXJrZXJzICE9PSB0cnVlKSB7XG4gICAgICB0aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIobGVmdE0sIG5ld00pO1xuICAgICAgdGhpcy5fY3JlYXRlTWlkZGxlTWFya2VyKG5ld00sIHJpZ2h0TSk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBlZGl0IGV2ZW50XG4gICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICB0aGlzLl9sYXllckVkaXRlZCA9IHRydWU7XG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksICdFZGl0Jyk7XG5cbiAgICB0aGlzLl9maXJlVmVydGV4QWRkZWQoXG4gICAgICBuZXdNLFxuICAgICAgTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KHRoaXMuX21hcmtlcnMsIG5ld00pLmluZGV4UGF0aCxcbiAgICAgIGxhdGxuZ1xuICAgICk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5faW5pdFNuYXBwYWJsZU1hcmtlcnMoKTtcbiAgICB9XG4gIH0sXG5cbiAgaGFzU2VsZkludGVyc2VjdGlvbigpIHtcbiAgICAvLyBjaGVjayBmb3Igc2VsZiBpbnRlcnNlY3Rpb24gb2YgdGhlIGxheWVyIGFuZCByZXR1cm4gdHJ1ZS9mYWxzZVxuICAgIGNvbnN0IHNlbGZJbnRlcnNlY3Rpb24gPSBraW5rcyh0aGlzLl9sYXllci50b0dlb0pTT04oMTUpKTtcbiAgICByZXR1cm4gc2VsZkludGVyc2VjdGlvbi5mZWF0dXJlcy5sZW5ndGggPiAwO1xuICB9LFxuXG4gIF9oYW5kbGVTZWxmSW50ZXJzZWN0aW9uT25WZXJ0ZXhSZW1vdmFsKCkge1xuICAgIC8vIGNoZWNrIGZvciBzZWxmaW50ZXJzZWN0aW9uIGFnYWluIChtYWlubHkgdG8gcmVzZXQgdGhlIHN0eWxlKVxuICAgIGNvbnN0IHNlbGZJbnRlcnNlY3Rpb24gPSB0aGlzLl9oYW5kbGVMYXllclN0eWxlKHRydWUpO1xuXG4gICAgaWYgKHNlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIC8vIHJlc2V0IGNvb3JkaW5hdGVzXG4gICAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKHRoaXMuX2Nvb3Jkc0JlZm9yZUVkaXQpO1xuICAgICAgdGhpcy5fY29vcmRzQmVmb3JlRWRpdCA9IG51bGw7XG5cbiAgICAgIC8vIHJlLWVuYWJsZSBtYXJrZXJzIGZvciB0aGUgbmV3IGNvb3Jkc1xuICAgICAgdGhpcy5faW5pdE1hcmtlcnMoKTtcbiAgICB9XG4gIH0sXG5cbiAgX2hhbmRsZUxheWVyU3R5bGUoZmxhc2gpIHtcbiAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyO1xuXG4gICAgbGV0IHNlbGZJbnRlcnNlY3Rpb247XG4gICAgbGV0IGludGVyc2VjdGlvbjtcbiAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgc2VsZkludGVyc2VjdGlvbiA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcnNlY3Rpb24gPSBraW5rcyh0aGlzLl9sYXllci50b0dlb0pTT04oMTUpKTtcbiAgICAgIHNlbGZJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb24uZmVhdHVyZXMubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBpZiAoc2VsZkludGVyc2VjdGlvbikge1xuICAgICAgaWYgKFxuICAgICAgICAhdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbiAmJlxuICAgICAgICB0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uRWRpdFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZURpc2FibGVkTWFya2VyU3R5bGUodGhpcy5fbWFya2VycywgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzUmVkKSB7XG4gICAgICAgIHJldHVybiBzZWxmSW50ZXJzZWN0aW9uO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiBpdCBkb2VzIHNlbGYtaW50ZXJzZWN0LCBtYXJrIG9yIGZsYXNoIGl0IHJlZFxuICAgICAgaWYgKGZsYXNoKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoTGF5ZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyLnNldFN0eWxlKHsgY29sb3I6ICcjZjAwMDAwZmYnIH0pO1xuICAgICAgICB0aGlzLmlzUmVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gZmlyZSBpbnRlcnNlY3QgZXZlbnRcbiAgICAgIHRoaXMuX2ZpcmVJbnRlcnNlY3QoaW50ZXJzZWN0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgbm90LCByZXNldCB0aGUgc3R5bGUgdG8gdGhlIGRlZmF1bHQgY29sb3JcbiAgICAgIGxheWVyLnNldFN0eWxlKHsgY29sb3I6IHRoaXMuY2FjaGVkQ29sb3IgfSk7XG4gICAgICB0aGlzLmlzUmVkID0gZmFsc2U7XG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uICYmXG4gICAgICAgIHRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb25FZGl0XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlRGlzYWJsZWRNYXJrZXJTdHlsZSh0aGlzLl9tYXJrZXJzLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWxmSW50ZXJzZWN0aW9uO1xuICB9LFxuICBfZmxhc2hMYXllcigpIHtcbiAgICBpZiAoIXRoaXMuY2FjaGVkQ29sb3IpIHtcbiAgICAgIHRoaXMuY2FjaGVkQ29sb3IgPSB0aGlzLl9sYXllci5vcHRpb25zLmNvbG9yO1xuICAgIH1cblxuICAgIHRoaXMuX2xheWVyLnNldFN0eWxlKHsgY29sb3I6ICcjZjAwMDAwZmYnIH0pO1xuICAgIHRoaXMuaXNSZWQgPSB0cnVlO1xuXG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0U3R5bGUoeyBjb2xvcjogdGhpcy5jYWNoZWRDb2xvciB9KTtcbiAgICAgIHRoaXMuaXNSZWQgPSBmYWxzZTtcbiAgICB9LCAyMDApO1xuICB9LFxuICBfdXBkYXRlRGlzYWJsZWRNYXJrZXJTdHlsZShtYXJrZXJzLCBkaXNhYmxlZCkge1xuICAgIG1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtYXJrZXIpKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZURpc2FibGVkTWFya2VyU3R5bGUobWFya2VyLCBkaXNhYmxlZCk7XG4gICAgICB9IGVsc2UgaWYgKG1hcmtlci5faWNvbikge1xuICAgICAgICBpZiAoZGlzYWJsZWQgJiYgIXRoaXMuX2NoZWNrTWFya2VyQWxsb3dlZFRvRHJhZyhtYXJrZXIpKSB7XG4gICAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKG1hcmtlci5faWNvbiwgJ3ZlcnRleG1hcmtlci1kaXNhYmxlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhtYXJrZXIuX2ljb24sICd2ZXJ0ZXhtYXJrZXItZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBfcmVtb3ZlTWFya2VyKGUpIHtcbiAgICAvLyB0aGUgbWFya2VyIHRoYXQgc2hvdWxkIGJlIHJlbW92ZWRcbiAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldDtcblxuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbigncmVtb3ZlJywgZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiBzZWxmIGludGVyc2VjdGlvbiBpc24ndCBhbGxvd2VkLCBzYXZlIHRoZSBjb29yZHMgdXBvbiBkcmFnc3RhcnRcbiAgICAvLyBpbiBjYXNlIHdlIG5lZWQgdG8gcmVzZXQgdGhlIGxheWVyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uKSB7XG4gICAgICB0aGlzLl9jb29yZHNCZWZvcmVFZGl0ID0gY29weUxhdExuZ3MoXG4gICAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gY29vcmRzIG9mIHRoZSBsYXllclxuICAgIGxldCBjb29yZHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICAvLyB0aGUgaW5kZXggcGF0aCB0byB0aGUgbWFya2VyIGluc2lkZSB0aGUgbXVsdGlkaW1lbnNpb25hbCBtYXJrZXIgYXJyYXlcbiAgICBjb25zdCB7IGluZGV4UGF0aCwgaW5kZXgsIHBhcmVudFBhdGggfSA9IEwuUE0uVXRpbHMuZmluZERlZXBNYXJrZXJJbmRleChcbiAgICAgIHRoaXMuX21hcmtlcnMsXG4gICAgICBtYXJrZXJcbiAgICApO1xuXG4gICAgLy8gb25seSBjb250aW51ZSBpZiB0aGlzIGlzIE5PVCBhIG1pZGRsZSBtYXJrZXIgKHRob3NlIGNhbid0IGJlIGRlbGV0ZWQpXG4gICAgaWYgKCFpbmRleFBhdGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBkZWZpbmUgdGhlIGNvb3Jkc1JpbmcgdGhhdCBpcyBlZGl0ZWRcbiAgICBjb25zdCBjb29yZHNSaW5nID0gaW5kZXhQYXRoLmxlbmd0aCA+IDEgPyBnZXQoY29vcmRzLCBwYXJlbnRQYXRoKSA6IGNvb3JkcztcblxuICAgIC8vIGRlZmluZSB0aGUgbWFya2VycyBhcnJheSB0aGF0IGlzIGVkaXRlZFxuICAgIGxldCBtYXJrZXJBcnIgPVxuICAgICAgaW5kZXhQYXRoLmxlbmd0aCA+IDEgPyBnZXQodGhpcy5fbWFya2VycywgcGFyZW50UGF0aCkgOiB0aGlzLl9tYXJrZXJzO1xuXG4gICAgLy8gcHJldmVudCByZW1vdmFsIG9mIHRoZSBsYXllciBpZiB0aGUgdmVydGV4IGNvdW50IGlzIGJlbG93IG1pbmltdW1cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5yZW1vdmVMYXllckJlbG93TWluVmVydGV4Q291bnQpIHtcbiAgICAgIC8vIGlmIG9uIGEgbGluZSBvbmx5IDIgdmVydGljZXMgbGVmdCBvciBvbiBhIHBvbHlnb24gMyB2ZXJ0aWNlcyBsZWZ0LCBkb24ndCBhbGxvdyB0byBkZWxldGVcbiAgICAgIGlmIChcbiAgICAgICAgY29vcmRzUmluZy5sZW5ndGggPD0gMiB8fFxuICAgICAgICAodGhpcy5pc1BvbHlnb24oKSAmJiBjb29yZHNSaW5nLmxlbmd0aCA8PSAzKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoTGF5ZXIoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlbW92ZSBjb29yZGluYXRlXG4gICAgY29vcmRzUmluZy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgLy8gc2V0IG5ldyBsYXRsbmdzIHRvIHRoZSBwb2x5Z29uXG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuXG4gICAgLy8gaWYgYSBwb2x5Z29uIGhhcyBsZXNzIHRoYW4gMyB2ZXJ0aWNlcywgcmVtb3ZlIGFsbCBvZiB0aGVtLiBXZSB3aWxsIHJlbW92ZSBvbmx5IG9uZSBoZXJlLCB0aGUgaWYtY2xhdXNlIGFmdGVyIHRoYXQgd2lsbCBoYW5kbGUgdGhlIHJlc3RcbiAgICBpZiAodGhpcy5pc1BvbHlnb24oKSAmJiBjb29yZHNSaW5nLmxlbmd0aCA8PSAyKSB7XG4gICAgICBjb29yZHNSaW5nLnNwbGljZSgwLCBjb29yZHNSaW5nLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgbGV0IGxheWVyUmVtb3ZlZCA9IGZhbHNlO1xuICAgIC8vIGlmIHRoZSByaW5nIG9mIHRoZSBsaW5lIGhhcyBubyBjb29yZGluYXRlcyBsZWZ0LCByZW1vdmUgdGhlIGxhc3QgY29vcmQgdG9vXG4gICAgaWYgKGNvb3Jkc1JpbmcubGVuZ3RoIDw9IDEpIHtcbiAgICAgIGNvb3Jkc1Jpbmcuc3BsaWNlKDAsIGNvb3Jkc1JpbmcubGVuZ3RoKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgTXVsdGlQb2x5Z29uXG4gICAgICBpZiAocGFyZW50UGF0aC5sZW5ndGggPiAxICYmIGluZGV4UGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvb3JkcyA9IHJlbW92ZUVtcHR5Q29vcmRSaW5ncyhjb29yZHMpO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgbmV3IGNvb3Jkc1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuXG4gICAgICAvLyByZS1lbmFibGUgZWRpdGluZyBzbyB1bm5lY2Vzc2FyeSBtYXJrZXJzIGFyZSByZW1vdmVkXG4gICAgICB0aGlzLl9pbml0TWFya2VycygpO1xuICAgICAgbGF5ZXJSZW1vdmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBpZiBubyBjb29yZHMgYXJlIGxlZnQsIHJlbW92ZSB0aGUgbGF5ZXJcbiAgICBpZiAoIWhhc1ZhbHVlcyhjb29yZHMpKSB7XG4gICAgICB0aGlzLl9sYXllci5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgYWxsIGVtcHR5IGNvb3JkLXJpbmdzXG4gICAgY29vcmRzID0gcmVtb3ZlRW1wdHlDb29yZFJpbmdzKGNvb3Jkcyk7XG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuICAgIC8vIHJlbW92ZSBlbXB0eSBtYXJrZXIgYXJyYXlzXG4gICAgdGhpcy5fbWFya2VycyA9IHJlbW92ZUVtcHR5Q29vcmRSaW5ncyh0aGlzLl9tYXJrZXJzKTtcblxuICAgIC8vIE5vIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSBtaWRkbGUgbWFya2VyIHdoZW4gdGhlIGxheWVyIHdhcyByZW1vdmVkXG4gICAgaWYgKCFsYXllclJlbW92ZWQpIHtcbiAgICAgIC8vIGdldCBuZXcgbWFya2VyQXJyIGJlY2F1c2Ugd2UgY2xlYW5lZCB1cCBjb29yZHMgYW5kIG1hcmtlcnMgYXJyYXlcbiAgICAgIG1hcmtlckFyciA9XG4gICAgICAgIGluZGV4UGF0aC5sZW5ndGggPiAxID8gZ2V0KHRoaXMuX21hcmtlcnMsIHBhcmVudFBhdGgpIDogdGhpcy5fbWFya2VycztcblxuICAgICAgLy8gbm93IGhhbmRsZSB0aGUgbWlkZGxlIG1hcmtlcnNcbiAgICAgIC8vIHJlbW92ZSB0aGUgbWFya2VyIGFuZCB0aGUgbWlkZGxlbWFya2VycyBuZXh0IHRvIGl0IGZyb20gdGhlIG1hcFxuICAgICAgaWYgKG1hcmtlci5fbWlkZGxlTWFya2VyUHJldikge1xuICAgICAgICB0aGlzLl9tYXJrZXJHcm91cC5yZW1vdmVMYXllcihtYXJrZXIuX21pZGRsZU1hcmtlclByZXYpO1xuICAgICAgICB0aGlzLl9yZW1vdmVGcm9tQ2FjaGUobWFya2VyLl9taWRkbGVNYXJrZXJQcmV2KTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXJrZXIuX21pZGRsZU1hcmtlck5leHQpIHtcbiAgICAgICAgdGhpcy5fbWFya2VyR3JvdXAucmVtb3ZlTGF5ZXIobWFya2VyLl9taWRkbGVNYXJrZXJOZXh0KTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRnJvbUNhY2hlKG1hcmtlci5fbWlkZGxlTWFya2VyTmV4dCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSB0aGUgbWFya2VyIGZyb20gdGhlIG1hcFxuICAgICAgdGhpcy5fbWFya2VyR3JvdXAucmVtb3ZlTGF5ZXIobWFya2VyKTtcbiAgICAgIHRoaXMuX3JlbW92ZUZyb21DYWNoZShtYXJrZXIpO1xuXG4gICAgICBpZiAobWFya2VyQXJyKSB7XG4gICAgICAgIGxldCByaWdodE1hcmtlckluZGV4O1xuICAgICAgICBsZXQgbGVmdE1hcmtlckluZGV4O1xuXG4gICAgICAgIGlmICh0aGlzLmlzUG9seWdvbigpKSB7XG4gICAgICAgICAgLy8gZmluZCBuZWlnaGJvciBtYXJrZXItaW5kZXhlc1xuICAgICAgICAgIHJpZ2h0TWFya2VySW5kZXggPSAoaW5kZXggKyAxKSAlIG1hcmtlckFyci5sZW5ndGg7XG4gICAgICAgICAgbGVmdE1hcmtlckluZGV4ID0gKGluZGV4ICsgKG1hcmtlckFyci5sZW5ndGggLSAxKSkgJSBtYXJrZXJBcnIubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGZpbmQgbmVpZ2hib3IgbWFya2VyLWluZGV4ZXNcbiAgICAgICAgICBsZWZ0TWFya2VySW5kZXggPSBpbmRleCAtIDEgPCAwID8gdW5kZWZpbmVkIDogaW5kZXggLSAxO1xuICAgICAgICAgIHJpZ2h0TWFya2VySW5kZXggPVxuICAgICAgICAgICAgaW5kZXggKyAxID49IG1hcmtlckFyci5sZW5ndGggPyB1bmRlZmluZWQgOiBpbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb24ndCBjcmVhdGUgbWlkZGxlbWFya2VycyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBtYXJrZXIgbGVmdFxuICAgICAgICBpZiAocmlnaHRNYXJrZXJJbmRleCAhPT0gbGVmdE1hcmtlckluZGV4KSB7XG4gICAgICAgICAgY29uc3QgbGVmdE0gPSBtYXJrZXJBcnJbbGVmdE1hcmtlckluZGV4XTtcbiAgICAgICAgICBjb25zdCByaWdodE0gPSBtYXJrZXJBcnJbcmlnaHRNYXJrZXJJbmRleF07XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWRlTWlkZGxlTWFya2VycyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlTWlkZGxlTWFya2VyKGxlZnRNLCByaWdodE0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgbWFya2VyIGZyb20gdGhlIG1hcmtlcnMgYXJyYXlcbiAgICAgICAgbWFya2VyQXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlyZSBlZGl0IGV2ZW50XG4gICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICB0aGlzLl9sYXllckVkaXRlZCA9IHRydWU7XG5cbiAgICAvLyBmaXJlIHZlcnRleCByZW1vdmFsIGV2ZW50XG4gICAgLy8gVE9ETzogbWF5YmUgZmlyZSBsYXRsbmcgYXMgd2VsbD9cbiAgICB0aGlzLl9maXJlVmVydGV4UmVtb3ZlZChtYXJrZXIsIGluZGV4UGF0aCk7XG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksICdFZGl0Jyk7XG4gIH0sXG4gIHVwZGF0ZVBvbHlnb25Db29yZHNGcm9tTWFya2VyRHJhZyhtYXJrZXIpIHtcbiAgICAvLyB1cGRhdGUgcG9seWdvbiBjb29yZHNcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICAvLyBnZXQgbWFya2VyIGxhdGxuZ1xuICAgIGNvbnN0IGxhdGxuZyA9IG1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIC8vIGdldCBpbmRleFBhdGggb2YgTWFya2VyXG4gICAgY29uc3QgeyBpbmRleFBhdGgsIGluZGV4LCBwYXJlbnRQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgbWFya2VyXG4gICAgKTtcblxuICAgIC8vIHVwZGF0ZSBjb29yZFxuICAgIGNvbnN0IHBhcmVudCA9IGluZGV4UGF0aC5sZW5ndGggPiAxID8gZ2V0KGNvb3JkcywgcGFyZW50UGF0aCkgOiBjb29yZHM7XG4gICAgcGFyZW50LnNwbGljZShpbmRleCwgMSwgbGF0bG5nKTtcblxuICAgIC8vIHNldCBuZXcgY29vcmRzIG9uIGxheWVyXG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuICB9LFxuXG4gIF9nZXROZWlnaGJvck1hcmtlcnMobWFya2VyKSB7XG4gICAgY29uc3QgeyBpbmRleFBhdGgsIGluZGV4LCBwYXJlbnRQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgbWFya2VyXG4gICAgKTtcblxuICAgIC8vIHRoZSBtYXJrZXJzIG5laWdoYm9yc1xuICAgIGNvbnN0IG1hcmtlckFyciA9XG4gICAgICBpbmRleFBhdGgubGVuZ3RoID4gMSA/IGdldCh0aGlzLl9tYXJrZXJzLCBwYXJlbnRQYXRoKSA6IHRoaXMuX21hcmtlcnM7XG5cbiAgICAvLyBmaW5kIHRoZSBpbmRpemVzIG9mIG5leHQgYW5kIHByZXZpb3VzIG1hcmtlcnNcbiAgICBjb25zdCBuZXh0TWFya2VySW5kZXggPSAoaW5kZXggKyAxKSAlIG1hcmtlckFyci5sZW5ndGg7XG4gICAgY29uc3QgcHJldk1hcmtlckluZGV4ID0gKGluZGV4ICsgKG1hcmtlckFyci5sZW5ndGggLSAxKSkgJSBtYXJrZXJBcnIubGVuZ3RoO1xuXG4gICAgLy8gZ2V0IHByZXYgYW5kIG5leHQgbWFya2VyXG4gICAgY29uc3QgcHJldk1hcmtlciA9IG1hcmtlckFycltwcmV2TWFya2VySW5kZXhdO1xuICAgIGNvbnN0IG5leHRNYXJrZXIgPSBtYXJrZXJBcnJbbmV4dE1hcmtlckluZGV4XTtcblxuICAgIHJldHVybiB7IHByZXZNYXJrZXIsIG5leHRNYXJrZXIgfTtcbiAgfSxcbiAgX2NoZWNrTWFya2VyQWxsb3dlZFRvRHJhZyhtYXJrZXIpIHtcbiAgICBjb25zdCB7IHByZXZNYXJrZXIsIG5leHRNYXJrZXIgfSA9IHRoaXMuX2dldE5laWdoYm9yTWFya2VycyhtYXJrZXIpO1xuXG4gICAgY29uc3QgcHJldkxpbmUgPSBMLnBvbHlsaW5lKFtwcmV2TWFya2VyLmdldExhdExuZygpLCBtYXJrZXIuZ2V0TGF0TG5nKCldKTtcbiAgICBjb25zdCBuZXh0TGluZSA9IEwucG9seWxpbmUoW21hcmtlci5nZXRMYXRMbmcoKSwgbmV4dE1hcmtlci5nZXRMYXRMbmcoKV0pO1xuXG4gICAgbGV0IHByZXZMaW5lSW50ZXJzZWN0aW9uTGVuID0gbGluZUludGVyc2VjdChcbiAgICAgIHRoaXMuX2xheWVyLnRvR2VvSlNPTigxNSksXG4gICAgICBwcmV2TGluZS50b0dlb0pTT04oMTUpXG4gICAgKS5mZWF0dXJlcy5sZW5ndGg7XG4gICAgbGV0IG5leHRMaW5lSW50ZXJzZWN0aW9uTGVuID0gbGluZUludGVyc2VjdChcbiAgICAgIHRoaXMuX2xheWVyLnRvR2VvSlNPTigxNSksXG4gICAgICBuZXh0TGluZS50b0dlb0pTT04oMTUpXG4gICAgKS5mZWF0dXJlcy5sZW5ndGg7XG5cbiAgICAvLyBUaGUgZmlyc3QgYW5kIGxhc3QgbGluZSBoYXMgb25lIGludGVyc2VjdGlvbiBmZXdlciBiZWNhdXNlIHRoZXkgYXJlIG5vdCBjb25uZWN0ZWRcbiAgICBpZiAobWFya2VyLmdldExhdExuZygpID09PSB0aGlzLl9tYXJrZXJzWzBdWzBdLmdldExhdExuZygpKSB7XG4gICAgICBuZXh0TGluZUludGVyc2VjdGlvbkxlbiArPSAxO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBtYXJrZXIuZ2V0TGF0TG5nKCkgPT09XG4gICAgICB0aGlzLl9tYXJrZXJzWzBdW3RoaXMuX21hcmtlcnNbMF0ubGVuZ3RoIC0gMV0uZ2V0TGF0TG5nKClcbiAgICApIHtcbiAgICAgIHByZXZMaW5lSW50ZXJzZWN0aW9uTGVuICs9IDE7XG4gICAgfVxuXG4gICAgLy8gPD0gMiB0aGUgc3RhcnQgYW5kIGVuZCBwb2ludCBvZiB0aGUgbGluZSBhbHdheXMgaW50ZXJzZWN0aW5nIGJlY2F1c2UgdGhleSBoYXZlIHRoZSBzYW1lIGNvb3Jkcy5cbiAgICBpZiAocHJldkxpbmVJbnRlcnNlY3Rpb25MZW4gPD0gMiAmJiBuZXh0TGluZUludGVyc2VjdGlvbkxlbiA8PSAyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBfb25NYXJrZXJEcmFnU3RhcnQoZSkge1xuICAgIGNvbnN0IG1hcmtlciA9IGUudGFyZ2V0O1xuXG4gICAgLy8gV2hlbiBpbnRlcnNlY3Rpb24gaXMgdHJ1ZSB3aGlsZSBjYWxsaW5nIGVuYWJsZSgpLCB0aGUgY2FjaGVkQ29sb3IgaXMgYWxyZWFkeSBzZXRcbiAgICBpZiAoIXRoaXMuY2FjaGVkQ29sb3IpIHtcbiAgICAgIHRoaXMuY2FjaGVkQ29sb3IgPSB0aGlzLl9sYXllci5vcHRpb25zLmNvbG9yO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbignbW92ZScsIGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbmRleFBhdGggfSA9IEwuUE0uVXRpbHMuZmluZERlZXBNYXJrZXJJbmRleCh0aGlzLl9tYXJrZXJzLCBtYXJrZXIpO1xuXG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWdTdGFydChlLCBpbmRleFBhdGgpO1xuXG4gICAgLy8gaWYgc2VsZiBpbnRlcnNlY3Rpb24gaXNuJ3QgYWxsb3dlZCwgc2F2ZSB0aGUgY29vcmRzIHVwb24gZHJhZ3N0YXJ0XG4gICAgLy8gaW4gY2FzZSB3ZSBuZWVkIHRvIHJlc2V0IHRoZSBsYXllclxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgdGhpcy5fY29vcmRzQmVmb3JlRWRpdCA9IGNvcHlMYXRMbmdzKFxuICAgICAgICB0aGlzLl9sYXllcixcbiAgICAgICAgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uICYmXG4gICAgICB0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uRWRpdCAmJlxuICAgICAgdGhpcy5oYXNTZWxmSW50ZXJzZWN0aW9uKClcbiAgICApIHtcbiAgICAgIHRoaXMuX21hcmtlckFsbG93ZWRUb0RyYWcgPSB0aGlzLl9jaGVja01hcmtlckFsbG93ZWRUb0RyYWcobWFya2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbWFya2VyQWxsb3dlZFRvRHJhZyA9IG51bGw7XG4gICAgfVxuICB9LFxuICBfb25NYXJrZXJEcmFnKGUpIHtcbiAgICAvLyBkcmFnZ2VkIG1hcmtlclxuICAgIGNvbnN0IG1hcmtlciA9IGUudGFyZ2V0O1xuXG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZyhtYXJrZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbmRleFBhdGgsIGluZGV4LCBwYXJlbnRQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgbWFya2VyXG4gICAgKTtcblxuICAgIC8vIG9ubHkgY29udGludWUgaWYgdGhpcyBpcyBOT1QgYSBtaWRkbGUgbWFya2VyXG4gICAgaWYgKCFpbmRleFBhdGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbiAmJlxuICAgICAgdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbkVkaXQgJiZcbiAgICAgIHRoaXMuaGFzU2VsZkludGVyc2VjdGlvbigpICYmXG4gICAgICB0aGlzLl9tYXJrZXJBbGxvd2VkVG9EcmFnID09PSBmYWxzZVxuICAgICkge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyh0aGlzLl9jb29yZHNCZWZvcmVFZGl0KTtcbiAgICAgIC8vIHJlLWVuYWJsZSBtYXJrZXJzIGZvciB0aGUgbmV3IGNvb3Jkc1xuICAgICAgdGhpcy5faW5pdE1hcmtlcnMoKTtcbiAgICAgIC8vIGNoZWNrIGZvciBzZWxmaW50ZXJzZWN0aW9uIGFnYWluIChtYWlubHkgdG8gcmVzZXQgdGhlIHN0eWxlKVxuICAgICAgdGhpcy5faGFuZGxlTGF5ZXJTdHlsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlUG9seWdvbkNvb3Jkc0Zyb21NYXJrZXJEcmFnKG1hcmtlcik7XG5cbiAgICAvLyB0aGUgZHJhZ2dlZCBtYXJrZXJzIG5laWdoYm9yc1xuICAgIGNvbnN0IG1hcmtlckFyciA9XG4gICAgICBpbmRleFBhdGgubGVuZ3RoID4gMSA/IGdldCh0aGlzLl9tYXJrZXJzLCBwYXJlbnRQYXRoKSA6IHRoaXMuX21hcmtlcnM7XG5cbiAgICAvLyBmaW5kIHRoZSBpbmRpemVzIG9mIG5leHQgYW5kIHByZXZpb3VzIG1hcmtlcnNcbiAgICBjb25zdCBuZXh0TWFya2VySW5kZXggPSAoaW5kZXggKyAxKSAlIG1hcmtlckFyci5sZW5ndGg7XG4gICAgY29uc3QgcHJldk1hcmtlckluZGV4ID0gKGluZGV4ICsgKG1hcmtlckFyci5sZW5ndGggLSAxKSkgJSBtYXJrZXJBcnIubGVuZ3RoO1xuXG4gICAgLy8gdXBkYXRlIG1pZGRsZSBtYXJrZXJzIG9uIHRoZSBsZWZ0IGFuZCByaWdodFxuICAgIC8vIGJlIGF3YXJlIHRoYXQgXCJuZXh0XCIgYW5kIFwicHJldlwiIG1pZ2h0IGJlIGludGVyY2hhbmdlZCwgZGVwZW5kaW5nIG9uIHRoZSBnZW9qc29uIGFycmF5XG4gICAgY29uc3QgbWFya2VyTGF0TG5nID0gbWFya2VyLmdldExhdExuZygpO1xuXG4gICAgLy8gZ2V0IGxhdGxuZyBvZiBwcmV2IGFuZCBuZXh0IG1hcmtlclxuICAgIGNvbnN0IHByZXZNYXJrZXJMYXRMbmcgPSBtYXJrZXJBcnJbcHJldk1hcmtlckluZGV4XS5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBuZXh0TWFya2VyTGF0TG5nID0gbWFya2VyQXJyW25leHRNYXJrZXJJbmRleF0uZ2V0TGF0TG5nKCk7XG5cbiAgICBpZiAobWFya2VyLl9taWRkbGVNYXJrZXJOZXh0KSB7XG4gICAgICBjb25zdCBtaWRkbGVNYXJrZXJOZXh0TGF0TG5nID0gTC5QTS5VdGlscy5jYWxjTWlkZGxlTGF0TG5nKFxuICAgICAgICB0aGlzLl9tYXAsXG4gICAgICAgIG1hcmtlckxhdExuZyxcbiAgICAgICAgbmV4dE1hcmtlckxhdExuZ1xuICAgICAgKTtcbiAgICAgIG1hcmtlci5fbWlkZGxlTWFya2VyTmV4dC5zZXRMYXRMbmcobWlkZGxlTWFya2VyTmV4dExhdExuZyk7XG4gICAgfVxuXG4gICAgaWYgKG1hcmtlci5fbWlkZGxlTWFya2VyUHJldikge1xuICAgICAgY29uc3QgbWlkZGxlTWFya2VyUHJldkxhdExuZyA9IEwuUE0uVXRpbHMuY2FsY01pZGRsZUxhdExuZyhcbiAgICAgICAgdGhpcy5fbWFwLFxuICAgICAgICBtYXJrZXJMYXRMbmcsXG4gICAgICAgIHByZXZNYXJrZXJMYXRMbmdcbiAgICAgICk7XG4gICAgICBtYXJrZXIuX21pZGRsZU1hcmtlclByZXYuc2V0TGF0TG5nKG1pZGRsZU1hcmtlclByZXZMYXRMbmcpO1xuICAgIH1cblxuICAgIC8vIGlmIHNlbGYgaW50ZXJzZWN0aW9uIGlzIG5vdCBhbGxvd2VkLCBoYW5kbGUgaXRcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2hhbmRsZUxheWVyU3R5bGUoKTtcbiAgICB9XG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWcoZSwgaW5kZXhQYXRoKTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgJ0VkaXQnKTtcbiAgfSxcbiAgX29uTWFya2VyRHJhZ0VuZChlKSB7XG4gICAgY29uc3QgbWFya2VyID0gZS50YXJnZXQ7XG5cbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnRW5kKG1hcmtlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KHRoaXMuX21hcmtlcnMsIG1hcmtlcik7XG5cbiAgICAvLyBpZiBzZWxmIGludGVyc2VjdGlvbiBpcyBub3QgYWxsb3dlZCBidXQgdGhpcyBlZGl0IGNhdXNlZCBhIHNlbGYgaW50ZXJzZWN0aW9uLFxuICAgIC8vIHJlc2V0IGFuZCBjYW5jZWw7IGRvIG5vdCBmaXJlIGV2ZW50c1xuICAgIGxldCBpbnRlcnNlY3Rpb24gPSB0aGlzLmhhc1NlbGZJbnRlcnNlY3Rpb24oKTtcbiAgICBpZiAoXG4gICAgICBpbnRlcnNlY3Rpb24gJiZcbiAgICAgIHRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb25FZGl0ICYmXG4gICAgICB0aGlzLl9tYXJrZXJBbGxvd2VkVG9EcmFnXG4gICAgKSB7XG4gICAgICBpbnRlcnNlY3Rpb24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBpbnRlcnNlY3Rpb25SZXNldCA9XG4gICAgICAhdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbiAmJiBpbnRlcnNlY3Rpb247XG5cbiAgICB0aGlzLl9maXJlTWFya2VyRHJhZ0VuZChlLCBpbmRleFBhdGgsIGludGVyc2VjdGlvblJlc2V0KTtcblxuICAgIGlmIChpbnRlcnNlY3Rpb25SZXNldCkge1xuICAgICAgLy8gcmVzZXQgY29vcmRpbmF0ZXNcbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3ModGhpcy5fY29vcmRzQmVmb3JlRWRpdCk7XG4gICAgICB0aGlzLl9jb29yZHNCZWZvcmVFZGl0ID0gbnVsbDtcblxuICAgICAgLy8gcmUtZW5hYmxlIG1hcmtlcnMgZm9yIHRoZSBuZXcgY29vcmRzXG4gICAgICB0aGlzLl9pbml0TWFya2VycygpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgICAgfVxuXG4gICAgICAvLyBjaGVjayBmb3Igc2VsZmludGVyc2VjdGlvbiBhZ2FpbiAobWFpbmx5IHRvIHJlc2V0IHRoZSBzdHlsZSlcbiAgICAgIHRoaXMuX2hhbmRsZUxheWVyU3R5bGUoKTtcblxuICAgICAgdGhpcy5fZmlyZUxheWVyUmVzZXQoZSwgaW5kZXhQYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24gJiZcbiAgICAgIHRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb25FZGl0XG4gICAgKSB7XG4gICAgICB0aGlzLl9oYW5kbGVMYXllclN0eWxlKCk7XG4gICAgfVxuICAgIC8vIGZpcmUgZWRpdCBldmVudFxuICAgIHRoaXMuX2ZpcmVFZGl0KCk7XG4gICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSB0cnVlO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpLCAnRWRpdCcpO1xuICB9LFxuICBfb25WZXJ0ZXhDbGljayhlKSB7XG4gICAgY29uc3QgdmVydGV4ID0gZS50YXJnZXQ7XG4gICAgaWYgKHZlcnRleC5fZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KHRoaXMuX21hcmtlcnMsIHZlcnRleCk7XG5cbiAgICB0aGlzLl9maXJlVmVydGV4Q2xpY2soZSwgaW5kZXhQYXRoKTtcbiAgfSxcbn0pO1xuIiwgImNvbnN0IE1hcmtlckxpbWl0cyA9IHtcbiAgZmlsdGVyTWFya2VyR3JvdXAoKSB7XG4gICAgLy8gZGVmaW5lIGNhY2hlIG9mIG1hcmtlcnNcbiAgICB0aGlzLm1hcmtlckNhY2hlID0gW107XG4gICAgdGhpcy5jcmVhdGVDYWNoZSgpO1xuXG4gICAgLy8gcmVmcmVzaCBjYWNoZSB3aGVuIGxheWVyIHdhcyBlZGl0ZWQgKGUuZy4gd2hlbiBhIHZlcnRleCB3YXMgYWRkZWQgb3IgcmVtb3ZlZClcbiAgICB0aGlzLl9sYXllci5vbigncG06ZWRpdCcsIHRoaXMuY3JlYXRlQ2FjaGUsIHRoaXMpO1xuXG4gICAgLy8gYXBwbHkgZmlsdGVyIGZvciB0aGUgZmlyc3QgdGltZVxuICAgIHRoaXMuYXBwbHlMaW1pdEZpbHRlcnMoe30pO1xuXG4gICAgaWYgKCF0aGlzLnRocm90dGxlZEFwcGx5TGltaXRGaWx0ZXJzKSB7XG4gICAgICB0aGlzLnRocm90dGxlZEFwcGx5TGltaXRGaWx0ZXJzID0gTC5VdGlsLnRocm90dGxlKFxuICAgICAgICB0aGlzLmFwcGx5TGltaXRGaWx0ZXJzLFxuICAgICAgICAxMDAsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGV2ZW50cyB3aGVuIGVkaXQgbW9kZSBpcyBkaXNhYmxlZFxuICAgIHRoaXMuX2xheWVyLm9uKCdwbTpkaXNhYmxlJywgdGhpcy5fcmVtb3ZlTWFya2VyTGltaXRFdmVudHMsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9uKCdyZW1vdmUnLCB0aGlzLl9yZW1vdmVNYXJrZXJMaW1pdEV2ZW50cywgdGhpcyk7XG5cbiAgICAvLyBhZGQgbWFya2VycyBjbG9zZXN0IHRvIHRoZSBtb3VzZVxuICAgIGlmICh0aGlzLm9wdGlvbnMubGltaXRNYXJrZXJzVG9Db3VudCA+IC0xKSB7XG4gICAgICAvLyByZS1pbml0IG1hcmtlcnMgd2hlbiBhIHZlcnRleCBpcyByZW1vdmVkLlxuICAgICAgLy8gVGhlIHJlYXNvbiBpcyB0aGF0IHN5bmNpbmcgdGhpcyBjYWNoZSB3aXRoIGEgcmVtb3ZlZCBtYXJrZXIgd2FzIGltcG9zc2libGUgdG8gZG9cbiAgICAgIHRoaXMuX2xheWVyLm9uKCdwbTp2ZXJ0ZXhyZW1vdmVkJywgdGhpcy5faW5pdE1hcmtlcnMsIHRoaXMpO1xuXG4gICAgICB0aGlzLl9tYXAub24oJ21vdXNlbW92ZScsIHRoaXMudGhyb3R0bGVkQXBwbHlMaW1pdEZpbHRlcnMsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgX3JlbW92ZU1hcmtlckxpbWl0RXZlbnRzKCkge1xuICAgIHRoaXMuX21hcC5vZmYoJ21vdXNlbW92ZScsIHRoaXMudGhyb3R0bGVkQXBwbHlMaW1pdEZpbHRlcnMsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9mZigncG06ZWRpdCcsIHRoaXMuY3JlYXRlQ2FjaGUsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9mZigncG06ZGlzYWJsZScsIHRoaXMuX3JlbW92ZU1hcmtlckxpbWl0RXZlbnRzLCB0aGlzKTtcbiAgICB0aGlzLl9sYXllci5vZmYoJ3BtOnZlcnRleHJlbW92ZWQnLCB0aGlzLl9pbml0TWFya2VycywgdGhpcyk7XG4gIH0sXG4gIGNyZWF0ZUNhY2hlKCkge1xuICAgIGNvbnN0IGFsbE1hcmtlcnMgPSBbLi4udGhpcy5fbWFya2VyR3JvdXAuZ2V0TGF5ZXJzKCksIC4uLnRoaXMubWFya2VyQ2FjaGVdO1xuICAgIHRoaXMubWFya2VyQ2FjaGUgPSBhbGxNYXJrZXJzLmZpbHRlcigodiwgaSwgcykgPT4gcy5pbmRleE9mKHYpID09PSBpKTtcbiAgfSxcbiAgX3JlbW92ZUZyb21DYWNoZShtYXJrZXIpIHtcbiAgICBjb25zdCBtYXJrZXJDYWNoZUluZGV4ID0gdGhpcy5tYXJrZXJDYWNoZS5pbmRleE9mKG1hcmtlcik7XG4gICAgaWYgKG1hcmtlckNhY2hlSW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5tYXJrZXJDYWNoZS5zcGxpY2UobWFya2VyQ2FjaGVJbmRleCwgMSk7XG4gICAgfVxuICB9LFxuICByZW5kZXJMaW1pdHMobWFya2Vycykge1xuICAgIHRoaXMubWFya2VyQ2FjaGUuZm9yRWFjaCgobCkgPT4ge1xuICAgICAgaWYgKG1hcmtlcnMuaW5jbHVkZXMobCkpIHtcbiAgICAgICAgdGhpcy5fbWFya2VyR3JvdXAuYWRkTGF5ZXIobCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9tYXJrZXJHcm91cC5yZW1vdmVMYXllcihsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgYXBwbHlMaW1pdEZpbHRlcnMoeyBsYXRsbmcgPSB7IGxhdDogMCwgbG5nOiAwIH0gfSkge1xuICAgIGlmICh0aGlzLl9wcmV2ZW50UmVuZGVyTWFya2Vycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaW5kIG1hcmtlcnMgbmVhciB0aGUgY3Vyc29yXG4gICAgY29uc3QgbWFrZXJzTmVhckN1cnNvciA9IHRoaXMuX2ZpbHRlckNsb3Nlc3RNYXJrZXJzKGxhdGxuZyk7XG5cbiAgICAvLyBhbGwgbWFya2VycyB0aGF0IHdlIHdhbnQgdG8gc2hvd1xuICAgIGNvbnN0IG1hcmtlcnNUb0FkZCA9IFsuLi5tYWtlcnNOZWFyQ3Vyc29yXTtcblxuICAgIHRoaXMucmVuZGVyTGltaXRzKG1hcmtlcnNUb0FkZCk7XG4gIH0sXG4gIF9maWx0ZXJDbG9zZXN0TWFya2VycyhsYXRsbmcpIHtcbiAgICBjb25zdCBtYXJrZXJzID0gWy4uLnRoaXMubWFya2VyQ2FjaGVdO1xuICAgIGNvbnN0IGxpbWl0ID0gdGhpcy5vcHRpb25zLmxpbWl0TWFya2Vyc1RvQ291bnQ7XG5cbiAgICBpZiAobGltaXQgPT09IC0xKSB7XG4gICAgICByZXR1cm4gbWFya2VycztcbiAgICB9XG5cbiAgICAvLyBzb3J0IG1hcmtlcnMgYnkgZGlzdGFuY2UgdG8gY3Vyc29yXG4gICAgbWFya2Vycy5zb3J0KChsLCB0KSA9PiB7XG4gICAgICBjb25zdCBkaXN0YW5jZUEgPSBsLl9sYXRsbmcuZGlzdGFuY2VUbyhsYXRsbmcpO1xuICAgICAgY29uc3QgZGlzdGFuY2VCID0gdC5fbGF0bG5nLmRpc3RhbmNlVG8obGF0bG5nKTtcblxuICAgICAgcmV0dXJuIGRpc3RhbmNlQSAtIGRpc3RhbmNlQjtcbiAgICB9KTtcblxuICAgIC8vIHJlZHVjZSBtYXJrZXJzIHRvIG51bWJlciBvZiBsaW1pdFxuICAgIGNvbnN0IGNsb3Nlc3QgPSBtYXJrZXJzLmZpbHRlcigobCwgaSkgPT4gKGxpbWl0ID4gLTEgPyBpIDwgbGltaXQgOiB0cnVlKSk7XG5cbiAgICByZXR1cm4gY2xvc2VzdDtcbiAgfSxcbiAgX3ByZXZlbnRSZW5kZXJNYXJrZXJzOiBmYWxzZSxcbiAgX3ByZXZlbnRSZW5kZXJpbmdNYXJrZXJzKHZhbHVlKSB7XG4gICAgdGhpcy5fcHJldmVudFJlbmRlck1hcmtlcnMgPSAhIXZhbHVlO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTWFya2VyTGltaXRzO1xuIiwgImltcG9ydCBsaW5lSW50ZXJzZWN0IGZyb20gJ0B0dXJmL2xpbmUtaW50ZXJzZWN0JztcbmltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuRWRpdC5Qb2x5Z29uID0gRWRpdC5MaW5lLmV4dGVuZCh7XG4gIF9zaGFwZTogJ1BvbHlnb24nLFxuICBfY2hlY2tNYXJrZXJBbGxvd2VkVG9EcmFnKG1hcmtlcikge1xuICAgIGNvbnN0IHsgcHJldk1hcmtlciwgbmV4dE1hcmtlciB9ID0gdGhpcy5fZ2V0TmVpZ2hib3JNYXJrZXJzKG1hcmtlcik7XG5cbiAgICBjb25zdCBwcmV2TGluZSA9IEwucG9seWxpbmUoW3ByZXZNYXJrZXIuZ2V0TGF0TG5nKCksIG1hcmtlci5nZXRMYXRMbmcoKV0pO1xuICAgIGNvbnN0IG5leHRMaW5lID0gTC5wb2x5bGluZShbbWFya2VyLmdldExhdExuZygpLCBuZXh0TWFya2VyLmdldExhdExuZygpXSk7XG5cbiAgICBjb25zdCBwcmV2TGluZUludGVyc2VjdGlvbkxlbiA9IGxpbmVJbnRlcnNlY3QoXG4gICAgICB0aGlzLl9sYXllci50b0dlb0pTT04oMTUpLFxuICAgICAgcHJldkxpbmUudG9HZW9KU09OKDE1KVxuICAgICkuZmVhdHVyZXMubGVuZ3RoO1xuICAgIGNvbnN0IG5leHRMaW5lSW50ZXJzZWN0aW9uTGVuID0gbGluZUludGVyc2VjdChcbiAgICAgIHRoaXMuX2xheWVyLnRvR2VvSlNPTigxNSksXG4gICAgICBuZXh0TGluZS50b0dlb0pTT04oMTUpXG4gICAgKS5mZWF0dXJlcy5sZW5ndGg7XG5cbiAgICAvLyA8PSAyIHRoZSBzdGFydCBhbmQgZW5kIHBvaW50IG9mIHRoZSBsaW5lIGFsd2F5cyBpbnRlcnNlY3RpbmcgYmVjYXVzZSB0aGV5IGhhdmUgdGhlIHNhbWUgY29vcmRzLlxuICAgIGlmIChwcmV2TGluZUludGVyc2VjdGlvbkxlbiA8PSAyICYmIG5leHRMaW5lSW50ZXJzZWN0aW9uTGVuIDw9IDIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG59KTtcbiIsICIvLyBDb3JuZXIgZGV0ZWN0aW9uIGJhc2VkIG9uIExlYWZsZXQgRHJhdydzIEVkaXQuUmVjdGFuZ2xlLmpzIENsYXNzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC5kcmF3L2Jsb2IvbWFzdGVyL3NyYy9lZGl0L2hhbmRsZXIvRWRpdC5SZWN0YW5nbGUuanNcbmltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcbmltcG9ydCB7IGNhbGNBbmdsZSB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5FZGl0LlJlY3RhbmdsZSA9IEVkaXQuUG9seWdvbi5leHRlbmQoe1xuICBfc2hhcGU6ICdSZWN0YW5nbGUnLFxuICAvLyBpbml0aWFsaXplcyBSZWN0YW5nbGUgTWFya2Vyc1xuICBfaW5pdE1hcmtlcnMoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGNvbnN0IGNvcm5lcnMgPSB0aGlzLl9maW5kQ29ybmVycygpO1xuXG4gICAgLy8gY2xlYW51cCBvbGQgb25lcyBmaXJzdFxuICAgIGlmICh0aGlzLl9tYXJrZXJHcm91cCkge1xuICAgICAgdGhpcy5fbWFya2VyR3JvdXAuY2xlYXJMYXllcnMoKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgbWFya2VyR3JvdXAgdG8gbWFwLCBtYXJrZXJHcm91cCBpbmNsdWRlcyByZWd1bGFyIGFuZCBtaWRkbGUgbWFya2Vyc1xuICAgIHRoaXMuX21hcmtlckdyb3VwID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XG4gICAgdGhpcy5fbWFya2VyR3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICBtYXAuYWRkTGF5ZXIodGhpcy5fbWFya2VyR3JvdXApO1xuXG4gICAgLy8gY3JlYXRlIG1hcmtlcnMgZm9yIGZvdXIgY29ybmVycyBvZiByZWN0YW5nbGVcbiAgICB0aGlzLl9tYXJrZXJzID0gW107XG5cbiAgICAvLyBuZXN0IHNldCBvZiBjb3JuZXIgbWFya2VycyBpbiBhIDJEIGFycmF5IHNvIHRoYXQgd2UgY2FuIEN1dCB0aGlzIFJlY3RhbmdsZSwgaWYgbmVlZGVkXG4gICAgdGhpcy5fbWFya2Vyc1swXSA9IGNvcm5lcnMubWFwKHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyBjb252ZW5pZW5jZSBhbGlhcywgZm9yIGJldHRlciByZWFkYWJpbGl0eVxuICAgIFt0aGlzLl9jb3JuZXJNYXJrZXJzXSA9IHRoaXMuX21hcmtlcnM7XG5cbiAgICAvLyBVcGRhdGUgdGhlIG1hcmtlciBsYXRsbmdzIGlmIHRoZSByZWN0YW5nbGUgaXMgcm90YXRlZFxuICAgIHRoaXMuX2xheWVyLmdldExhdExuZ3MoKVswXS5mb3JFYWNoKChsYXRsbmcsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9jb3JuZXJNYXJrZXJzLmZpbmQoKG0pID0+IG0uX2luZGV4ID09PSBpbmRleCk7XG4gICAgICBpZiAobWFya2VyKSB7XG4gICAgICAgIG1hcmtlci5zZXRMYXRMbmcobGF0bG5nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgYXBwbHlPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICB9XG4gICAgdGhpcy5fYWRkTWFya2VyRXZlbnRzKCk7XG4gIH0sXG5cbiAgLy8gY3JlYXRlcyBpbml0aWFsIG1hcmtlcnMgZm9yIGNvb3JkaW5hdGVzXG4gIF9jcmVhdGVNYXJrZXIobGF0bG5nLCBpbmRleCkge1xuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBMLk1hcmtlcihsYXRsbmcsIHtcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKG1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcblxuICAgIG1hcmtlci5fb3JpZ0xhdExuZyA9IGxhdGxuZztcbiAgICBtYXJrZXIuX2luZGV4ID0gaW5kZXg7XG4gICAgbWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICBtYXJrZXIub24oJ2NsaWNrJywgdGhpcy5fb25WZXJ0ZXhDbGljaywgdGhpcyk7XG5cbiAgICB0aGlzLl9tYXJrZXJHcm91cC5hZGRMYXllcihtYXJrZXIpO1xuXG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfSxcbiAgLy8gQWRkIG1hcmtlciBldmVudHMgYWZ0ZXIgYWRkaW5nIHRoZSBzbmFwcGluZyBldmVudHMgdG8gdGhlIG1hcmtlcnMsIGJlYWNhdXNlIG9mIHRoZSBleGVjdXRpb24gb3JkZXJcbiAgX2FkZE1hcmtlckV2ZW50cygpIHtcbiAgICB0aGlzLl9tYXJrZXJzWzBdLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgbWFya2VyLm9uKCdkcmFnc3RhcnQnLCB0aGlzLl9vbk1hcmtlckRyYWdTdGFydCwgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ2RyYWcnLCB0aGlzLl9vbk1hcmtlckRyYWcsIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdkcmFnZW5kJywgdGhpcy5fb25NYXJrZXJEcmFnRW5kLCB0aGlzKTtcblxuICAgICAgLy8gVE9ETzogQ2FuIHdlIHJlbW92ZSB0aGlzPyBUaGUgX3JlbW92ZU1hcmtlciBFdmVudCBpcyBhIGVtcHR5IGZ1bmN0aW9uXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5wcmV2ZW50TWFya2VyUmVtb3ZhbCkge1xuICAgICAgICBtYXJrZXIub24oJ2NvbnRleHRtZW51JywgdGhpcy5fcmVtb3ZlTWFya2VyLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLy8gRW1wdHkgY2FsbGJhY2sgZm9yICdjb250ZXh0bWVudScgYmluZGluZyBzZXQgaW4gTC5QTS5FZGl0LkxpbmUuanMncyBfY3JlYXRlTWFya2VyIG1ldGhvZCAoQUtBLCByaWdodC1jbGljayBvbiBtYXJrZXIgZXZlbnQpXG4gIC8vIChBIFJlY3RhbmdsZSBpcyBkZXNpZ25lZCB0byBhbHdheXMgcmVtYWluIGEgXCJ0cnVlXCIgcmVjdGFuZ2xlIC0tIGlmIHlvdSB3YW50IGl0IGVkaXRhYmxlLCB1c2UgUG9seWdvbiBUb29sIGluc3RlYWQhISEpXG4gIF9yZW1vdmVNYXJrZXIoKSB7XG4gICAgLy8gVGhlIG1ldGhvZCwgaXQgZG9lcyBub3RoaW5nISEhXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgX29uTWFya2VyRHJhZ1N0YXJ0KGUpIHtcbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb24oJ21vdmUnLCBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGRyYWdnZWQgbWFya2VyXG4gICAgY29uc3QgZHJhZ2dlZE1hcmtlciA9IGUudGFyZ2V0O1xuICAgIC8vIFN0b3JlL3VwZGF0ZSBhIHJlZmVyZW5jZSB0byBtYXJrZXIgaW4gb3Bwb3NpdGUgY29ybmVyXG4gICAgY29uc3QgY29ybmVycyA9IHRoaXMuX2Nvcm5lck1hcmtlcnM7XG4gICAgZHJhZ2dlZE1hcmtlci5fb3Bwb3NpdGVDb3JuZXJMYXRMbmcgPSBjb3JuZXJzXG4gICAgICAuZmluZCgobSkgPT4gbS5faW5kZXggPT09IChkcmFnZ2VkTWFya2VyLl9pbmRleCArIDIpICUgNClcbiAgICAgIC5nZXRMYXRMbmcoKTtcblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgdW5zbmFwIGFsbCBtYXJrZXJzIG9uIGRyYWcgc3RhcnQgKHRoZXknbGwgc25hcCBiYWNrIGlmIGNsb3NlIGVub3VnaCB0byBhbm90aGVyIHNuYXBwYWJsZSBvYmplY3QpXG4gICAgLy8gKFdpdGhvdXQgdGhpcywgaXQncyBvY2Nhc2lvbmFsbHkgcG9zc2libGUgZm9yIGEgbWFya2VyIHRvIGdldCBzdHVjayBhcyAnc25hcHBlZCwnIHdoaWNoIHByZXZlbnRzIFJlY3RhbmdsZSByZXNpemluZylcbiAgICBkcmFnZ2VkTWFya2VyLl9zbmFwcGVkID0gZmFsc2U7XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KFxuICAgICAgdGhpcy5fbWFya2VycyxcbiAgICAgIGRyYWdnZWRNYXJrZXJcbiAgICApO1xuXG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWdTdGFydChlLCBpbmRleFBhdGgpO1xuICB9LFxuXG4gIF9vbk1hcmtlckRyYWcoZSkge1xuICAgIC8vIGRyYWdnZWQgbWFya2VyXG4gICAgY29uc3QgZHJhZ2dlZE1hcmtlciA9IGUudGFyZ2V0O1xuXG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZyhkcmFnZ2VkTWFya2VyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG9ubHkgY29udGludWUgaWYgdGhpcyBpcyBOT1QgYSBtaWRkbGUgbWFya2VyIChzaG91bGQgTkVWRVIgYmUgb25lLCBidXQgdGhpcyBpcyBqdXN0IGEgc2FmZXR5IGNoZWNrKVxuICAgIGlmIChkcmFnZ2VkTWFya2VyLl9pbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fYWRqdXN0UmVjdGFuZ2xlRm9yTWFya2VyTW92ZShkcmFnZ2VkTWFya2VyKTtcblxuICAgIGNvbnN0IHsgaW5kZXhQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgZHJhZ2dlZE1hcmtlclxuICAgICk7XG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWcoZSwgaW5kZXhQYXRoKTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgJ0VkaXQnKTtcbiAgfSxcblxuICBfb25NYXJrZXJEcmFnRW5kKGUpIHtcbiAgICAvLyBkcmFnZ2VkIG1hcmtlclxuICAgIGNvbnN0IGRyYWdnZWRNYXJrZXIgPSBlLnRhcmdldDtcbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnRW5kKGRyYWdnZWRNYXJrZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4tdXAgZGF0YSBhdHRyaWJ1dGVzXG4gICAgdGhpcy5fY29ybmVyTWFya2Vycy5mb3JFYWNoKChtKSA9PiB7XG4gICAgICBkZWxldGUgbS5fb3Bwb3NpdGVDb3JuZXJMYXRMbmc7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KFxuICAgICAgdGhpcy5fbWFya2VycyxcbiAgICAgIGRyYWdnZWRNYXJrZXJcbiAgICApO1xuICAgIHRoaXMuX2ZpcmVNYXJrZXJEcmFnRW5kKGUsIGluZGV4UGF0aCk7XG5cbiAgICAvLyBmaXJlIGVkaXQgZXZlbnRcbiAgICB0aGlzLl9maXJlRWRpdCgpO1xuICAgIHRoaXMuX2xheWVyRWRpdGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgJ0VkaXQnKTtcbiAgfSxcblxuICAvLyBhZGp1c3RzIHRoZSByZWN0YW5nbGUncyBzaXplIGFuZCBib3VuZHMgd2hlbmV2ZXIgYSBtYXJrZXIgaXMgbW92ZWRcbiAgLy8gcGFyYW1zOiBtb3ZlZE1hcmtlciAtLSB0aGUgTWFya2VyIG9iamVjdFxuICBfYWRqdXN0UmVjdGFuZ2xlRm9yTWFya2VyTW92ZShtb3ZlZE1hcmtlcikge1xuICAgIC8vIHVwZGF0ZSBtb3ZlZCBtYXJrZXIgY29vcmRpbmF0ZXNcbiAgICBMLmV4dGVuZChtb3ZlZE1hcmtlci5fb3JpZ0xhdExuZywgbW92ZWRNYXJrZXIuX2xhdGxuZyk7XG5cbiAgICAvLyB1cGRhdGUgcmVjdGFuZ2xlIGJvdW5kYXJpZXMsIGJhc2VkIG9uIG1vdmVkIG1hcmtlcidzIG5ldyBMYXRMbmcgYW5kIGNhY2hlZCBvcHBvc2l0ZSBjb3JuZXIncyBMYXRMbmdcbiAgICBjb25zdCBjb3JuZXJzID0gTC5QTS5VdGlscy5fZ2V0Um90YXRlZFJlY3RhbmdsZShcbiAgICAgIG1vdmVkTWFya2VyLmdldExhdExuZygpLFxuICAgICAgbW92ZWRNYXJrZXIuX29wcG9zaXRlQ29ybmVyTGF0TG5nLFxuICAgICAgdGhpcy5nZXRBbmdsZSgpLFxuICAgICAgdGhpcy5fbWFwXG4gICAgKTtcbiAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKGNvcm5lcnMpO1xuXG4gICAgLy8gUmVwb3NpdGlvbiB0aGUgbWFya2VycyBhdCBlYWNoIGNvcm5lclxuICAgIHRoaXMuX2FkanVzdEFsbE1hcmtlcnMoKTtcblxuICAgIC8vIFJlZHJhdyB0aGUgc2hhcGUgKHRvIHVwZGF0ZSBhbHRlcmVkIHJlY3RhbmdsZSlcbiAgICB0aGlzLl9sYXllci5yZWRyYXcoKTtcbiAgfSxcblxuICAvLyBhZGp1c3RzIHRoZSBwb3NpdGlvbiBvZiBhbGwgTWFya2Vyc1xuICAvLyBwYXJhbXM6IG1hcmtlckxhdExuZ3MgLS0gYW4gYXJyYXkgb2YgZXhhY3RseSBMYXRMbmcgb2JqZWN0c1xuICBfYWRqdXN0QWxsTWFya2VycygpIHtcbiAgICBjb25zdCBtYXJrZXJMYXRMbmdzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdO1xuXG4gICAgaWYgKFxuICAgICAgbWFya2VyTGF0TG5ncyAmJlxuICAgICAgbWFya2VyTGF0TG5ncy5sZW5ndGggIT09IDQgJiZcbiAgICAgIG1hcmtlckxhdExuZ3MubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgLy8gVGhlIGxheWVycyBpcyBjdXJyZW50bHkgdG8gc21hbGwgYW5kIGhhcyBub3QgZW5vdWdoIGxhdGxuZ3MuXG4gICAgICAvLyBMZWFmbGV0IGRlc3Ryb3lzIHRoZSB2YWxpZCBSZWN0YW5nbGUgYnkgcmVtb3ZpbmcgdGhlIGxhc3QgbGF0bG5nIGlmIHRoZSBsYXN0IGFuZCBmaXJzdCBsYXRsbmcgYXJlIGVxdWFsLiBTZWU6IExlYWZsZXQjNzQ2NCBWMS43LjFcblxuICAgICAgLy8gdXBkYXRlIGFsbCBwb3NzaWJsZSBtYXJrZXJzXG4gICAgICBtYXJrZXJMYXRMbmdzLmZvckVhY2goKGxhdGxuZywgaW5kZXgpID0+IHtcbiAgICAgICAgdGhpcy5fY29ybmVyTWFya2Vyc1tpbmRleF0uc2V0TGF0TG5nKGxhdGxuZyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gYXBwbHkgdG8gYWxsIG1hcmtlcnMgd2l0aCBubyBsYXRsbmcgb24gdGhlIGxheWVyLCB0aGUgZmlyc3QgbGF0bG5nXG4gICAgICBjb25zdCByZXN0TWFya2VycyA9IHRoaXMuX2Nvcm5lck1hcmtlcnMuc2xpY2UobWFya2VyTGF0TG5ncy5sZW5ndGgpO1xuICAgICAgcmVzdE1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICAgIG1hcmtlci5zZXRMYXRMbmcobWFya2VyTGF0TG5nc1swXSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFtYXJrZXJMYXRMbmdzIHx8ICFtYXJrZXJMYXRMbmdzLmxlbmd0aCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBjb25zb2xlLmVycm9yKCdUaGUgbGF5ZXIgaGFzIG5vIExhdExuZ3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29ybmVyTWFya2Vycy5mb3JFYWNoKChtYXJrZXIpID0+IHtcbiAgICAgICAgbWFya2VyLnNldExhdExuZyhtYXJrZXJMYXRMbmdzW21hcmtlci5faW5kZXhdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgLy8gZmluZHMgdGhlIDQgY29ybmVycyBvZiB0aGUgY3VycmVudCBib3VuZGluZyBib3hcbiAgLy8gcmV0dXJucyBhcnJheSBvZiA0IExhdExuZyBvYmplY3RzIGluIHRoaXMgb3JkZXI6IE5vcnRod2VzdCBjb3JuZXIsIE5vcnRoZWFzdCBjb3JuZXIsIFNvdXRoZWFzdCBjb3JuZXIsIFNvdXRod2VzdCBjb3JuZXJcbiAgX2ZpbmRDb3JuZXJzKCkge1xuICAgIGlmICh0aGlzLl9hbmdsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldEluaXRBbmdsZShcbiAgICAgICAgY2FsY0FuZ2xlKFxuICAgICAgICAgIHRoaXMuX21hcCxcbiAgICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF1bMF0sXG4gICAgICAgICAgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdWzFdXG4gICAgICAgICkgfHwgMFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXRsbmdzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdO1xuICAgIHJldHVybiBMLlBNLlV0aWxzLl9nZXRSb3RhdGVkUmVjdGFuZ2xlKFxuICAgICAgbGF0bG5nc1swXSxcbiAgICAgIGxhdGxuZ3NbMl0sXG4gICAgICB0aGlzLmdldEFuZ2xlKCksXG4gICAgICB0aGlzLl9tYXAgfHwgdGhpc1xuICAgICk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRWRpdCBmcm9tICcuL0wuUE0uRWRpdCc7XG5pbXBvcnQgeyBkZXN0aW5hdGlvbk9uTGluZSB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5FZGl0LkNpcmNsZU1hcmtlciA9IEVkaXQuZXh0ZW5kKHtcbiAgX3NoYXBlOiAnQ2lyY2xlTWFya2VyJyxcbiAgaW5pdGlhbGl6ZShsYXllcikge1xuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fbWluUmFkaXVzT3B0aW9uID0gJ21pblJhZGl1c0NpcmNsZU1hcmtlcic7XG4gICAgdGhpcy5fbWF4UmFkaXVzT3B0aW9uID0gJ21heFJhZGl1c0NpcmNsZU1hcmtlcic7XG4gICAgdGhpcy5fZWRpdGFibGVPcHRpb24gPSAncmVzaXplYWJsZUNpcmNsZU1hcmtlcic7XG5cbiAgICAvLyBjcmVhdGUgcG9seWdvbiBhcm91bmQgdGhlIGNpcmNsZSBib3JkZXJcbiAgICB0aGlzLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG4gIH0sXG4gIC8vIFRPRE86IHJlbW92ZSBkZWZhdWx0IG9wdGlvbiBpbiBuZXh0IG1ham9yIFJlbGVhc2VcbiAgZW5hYmxlKG9wdGlvbnMgPSB7IGRyYWdnYWJsZTogdHJ1ZSwgc25hcHBhYmxlOiB0cnVlIH0pIHtcbiAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICAvLyBUT0RPOiByZW1vdmUgd2l0aCBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICBpZiAodGhpcy5vcHRpb25zLmVkaXRhYmxlKSB7XG4gICAgICB0aGlzLm9wdGlvbnMucmVzaXplYWJsZUNpcmNsZU1hcmtlciA9IHRoaXMub3B0aW9ucy5lZGl0YWJsZTtcbiAgICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMuZWRpdGFibGU7XG4gICAgfVxuXG4gICAgLy8gbGF5ZXIgaXMgbm90IGFsbG93ZWQgdG8gZWRpdFxuICAgIC8vIGNhbmNlbCB3aGVuIG1hcCBpc24ndCBhdmFpbGFibGUsIHRoaXMgaGFwcGVucyB3aGVuIGl0IGlzIHJlbW92ZWQgYmVmb3JlIHRoaXMgZmlyZXNcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0VkaXRpbmcgfHwgIXRoaXMuX2xheWVyLl9tYXApIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG5cbiAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIC8vIGlmIGl0IHdhcyBhbHJlYWR5IGVuYWJsZWQsIGRpc2FibGUgZmlyc3RcbiAgICAgIC8vIHdlIGRvbid0IGJsb2NrIGVuYWJsaW5nIGFnYWluIGJlY2F1c2UgbmV3IG9wdGlvbnMgbWlnaHQgYmUgcGFzc2VkXG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9XG4gICAgdGhpcy5hcHBseU9wdGlvbnMoKTtcblxuICAgIC8vIGlmIHNoYXBlIGdldHMgcmVtb3ZlZCBmcm9tIG1hcCwgZGlzYWJsZSBlZGl0IG1vZGVcbiAgICB0aGlzLl9sYXllci5vbigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcblxuICAgIC8vIGNoYW5nZSBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5fZXh0ZW5kaW5nRW5hYmxlKCk7XG5cbiAgICAvLyBjcmVhdGUgcG9seWdvbiBhcm91bmQgdGhlIGNpcmNsZSBib3JkZXJcbiAgICB0aGlzLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG5cbiAgICB0aGlzLl9maXJlRW5hYmxlKCk7XG4gIH0sXG4gIF9leHRlbmRpbmdFbmFibGUoKSB7XG4gICAgLy8gaWYgQ2lyY2xlTWFya2VyIGlzIGRyYWdnZWQgd2hpbGUgZHJhdyBtb2RlXG4gICAgdGhpcy5fbGF5ZXIub24oJ3BtOmRyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0LCB0aGlzKTtcbiAgICB0aGlzLl9sYXllci5vbigncG06ZHJhZycsIHRoaXMuX29uTWFya2VyRHJhZywgdGhpcyk7XG4gICAgdGhpcy5fbGF5ZXIub24oJ3BtOmRyYWdlbmQnLCB0aGlzLl9vbk1hcmtlckRyYWdFbmQsIHRoaXMpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIHByZXZlbnQgZGlzYWJsaW5nIGlmIGxheWVyIGlzIGJlaW5nIGRyYWdnZWRcbiAgICBpZiAodGhpcy5kcmFnZ2luZygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWRkIG1hcCBpZiBpdCBpcyBub3QgYWxyZWFkeSBzZXQuIFRoaXMgaGFwcGVucyB3aGVuIGRpc2FibGUoKSBpcyBjYWxsZWQgYmVmb3JlIGVuYWJsZSgpXG4gICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiBpdCdzIG5vdCBlbmFibGVkLCBpdCBkb2Vzbid0IG5lZWQgdG8gYmUgZGlzYWJsZWRcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZGlzYWJsZSBkcmFnZ2luZyBvZiBub24tZWRpdGFibGUgY2lyY2xlXG4gICAgaWYgKHRoaXMubGF5ZXJEcmFnRW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVMYXllckRyYWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgaWYgKHRoaXMuX2hlbHBlckxheWVycykge1xuICAgICAgICB0aGlzLl9oZWxwZXJMYXllcnMuY2xlYXJMYXllcnMoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmUnLCB0aGlzLl9zeW5jTWFya2VycywgdGhpcyk7XG4gICAgICB0aGlzLl9vdXRlck1hcmtlci5vZmYoJ2RyYWcnLCB0aGlzLl9oYW5kbGVPdXRlck1hcmtlclNuYXBwaW5nLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbWFwLm9mZignbW92ZScsIHRoaXMuX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUsIHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuX2V4dGVuZGluZ0Rpc2FibGUoKTtcblxuICAgIHRoaXMuX2xheWVyLm9mZigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLl9sYXllckVkaXRlZCkge1xuICAgICAgdGhpcy5fZmlyZVVwZGF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9sYXllckVkaXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2ZpcmVEaXNhYmxlKCk7XG5cbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gIH0sXG4gIF9leHRlbmRpbmdEaXNhYmxlKCkge1xuICAgIHRoaXMuX2xheWVyLm9mZignY29udGV4dG1lbnUnLCB0aGlzLl9yZW1vdmVNYXJrZXIsIHRoaXMpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGVFZGl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmVuYWJsZShvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuICBhcHBseU9wdGlvbnMoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9uc1t0aGlzLl9lZGl0YWJsZU9wdGlvbl0pIHtcbiAgICAgIHRoaXMuX2luaXRNYXJrZXJzKCk7XG4gICAgICB0aGlzLl9tYXAub24oJ21vdmUnLCB0aGlzLl9zeW5jTWFya2VycywgdGhpcyk7XG5cbiAgICAgIC8vIGluaXQgc25hcHBpbmcgaW4gZGlmZmVyZW50IHdheXNcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICAgIHRoaXMuX2luaXRTbmFwcGFibGVNYXJrZXJzKCk7XG4gICAgICAgIC8vIHVwZGF0ZSBtYXJrZXIgbGF0bG5nIHdoZW4gc25hcHBlZCBsYXRsbmcgcmFkaXVzIGlzIG91dCBvZiBtaW4vbWF4XG4gICAgICAgIHRoaXMuX291dGVyTWFya2VyLm9uKCdkcmFnJywgdGhpcy5faGFuZGxlT3V0ZXJNYXJrZXJTbmFwcGluZywgdGhpcyk7XG4gICAgICAgIC8vIHN5bmMgdGhlIGhpbnRsaW5lIHdpdGggaGludCBtYXJrZXJcbiAgICAgICAgdGhpcy5fb3V0ZXJNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9zeW5jSGludExpbmUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9vdXRlck1hcmtlci5vbignbW92ZScsIHRoaXMuX3N5bmNDaXJjbGVSYWRpdXMsIHRoaXMpO1xuICAgICAgICB0aGlzLl9jZW50ZXJNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9tb3ZlQ2lyY2xlLCB0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVTbmFwcGluZygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSkge1xuICAgICAgICB0aGlzLmVuYWJsZUxheWVyRHJhZygpO1xuICAgICAgfVxuICAgICAgLy8gb25seSB1cGRhdGUgdGhlIGNpcmNsZSBib3JkZXIgcG9seVxuICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlJywgdGhpcy5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSwgdGhpcyk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICAgIHRoaXMuX2luaXRTbmFwcGFibGVNYXJrZXJzRHJhZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGlzYWJsZVNuYXBwaW5nRHJhZygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2V4dGVuZGluZ0FwcGx5T3B0aW9ucygpO1xuICB9LFxuICBfZXh0ZW5kaW5nQXBwbHlPcHRpb25zKCkge1xuICAgIC8vIGVuYWJsZSByZW1vdmFsIGZvciB0aGUgbWFya2VyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucHJldmVudE1hcmtlclJlbW92YWwpIHtcbiAgICAgIHRoaXMuX2xheWVyLm9uKCdjb250ZXh0bWVudScsIHRoaXMuX3JlbW92ZU1hcmtlciwgdGhpcyk7XG4gICAgfVxuICB9LFxuICBfaW5pdE1hcmtlcnMoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgLy8gY2xlYW51cCBvbGQgb25lcyBmaXJzdFxuICAgIGlmICh0aGlzLl9oZWxwZXJMYXllcnMpIHtcbiAgICAgIHRoaXMuX2hlbHBlckxheWVycy5jbGVhckxheWVycygpO1xuICAgIH1cblxuICAgIC8vIGFkZCBtYXJrZXJHcm91cCB0byBtYXAsIG1hcmtlckdyb3VwIGluY2x1ZGVzIHJlZ3VsYXIgYW5kIG1pZGRsZSBtYXJrZXJzXG4gICAgdGhpcy5faGVscGVyTGF5ZXJzID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XG4gICAgdGhpcy5faGVscGVyTGF5ZXJzLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5faGVscGVyTGF5ZXJzLmFkZFRvKG1hcCk7XG5cbiAgICAvLyBjcmVhdGUgbWFya2VyIGZvciBlYWNoIGNvb3JkaW5hdGVcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9sYXllci5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCByYWRpdXMgPSB0aGlzLl9sYXllci5fcmFkaXVzO1xuXG4gICAgY29uc3Qgb3V0ZXIgPSB0aGlzLl9nZXRMYXRMbmdPbkNpcmNsZShjZW50ZXIsIHJhZGl1cyk7XG5cbiAgICB0aGlzLl9jZW50ZXJNYXJrZXIgPSB0aGlzLl9jcmVhdGVDZW50ZXJNYXJrZXIoY2VudGVyKTtcbiAgICB0aGlzLl9vdXRlck1hcmtlciA9IHRoaXMuX2NyZWF0ZU91dGVyTWFya2VyKG91dGVyKTtcbiAgICB0aGlzLl9tYXJrZXJzID0gW3RoaXMuX2NlbnRlck1hcmtlciwgdGhpcy5fb3V0ZXJNYXJrZXJdO1xuICAgIHRoaXMuX2NyZWF0ZUhpbnRMaW5lKHRoaXMuX2NlbnRlck1hcmtlciwgdGhpcy5fb3V0ZXJNYXJrZXIpO1xuICB9LFxuICBfZ2V0TGF0TG5nT25DaXJjbGUoY2VudGVyLCByYWRpdXMpIHtcbiAgICBjb25zdCBwb2ludEEgPSB0aGlzLl9tYXAucHJvamVjdChjZW50ZXIpO1xuICAgIGNvbnN0IHBvaW50QiA9IEwucG9pbnQocG9pbnRBLnggKyByYWRpdXMsIHBvaW50QS55KTtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnVucHJvamVjdChwb2ludEIpO1xuICB9LFxuICBfY3JlYXRlSGludExpbmUobWFya2VyQSwgbWFya2VyQikge1xuICAgIGNvbnN0IEEgPSBtYXJrZXJBLmdldExhdExuZygpO1xuICAgIGNvbnN0IEIgPSBtYXJrZXJCLmdldExhdExuZygpO1xuICAgIHRoaXMuX2hpbnRsaW5lID0gTC5wb2x5bGluZShbQSwgQl0sIHRoaXMub3B0aW9ucy5oaW50bGluZVN0eWxlKTtcbiAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRsaW5lLCAnbGF5ZXJQYW5lJyk7XG4gICAgdGhpcy5faGludGxpbmUuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICB0aGlzLl9oZWxwZXJMYXllcnMuYWRkTGF5ZXIodGhpcy5faGludGxpbmUpO1xuICB9LFxuICBfY3JlYXRlQ2VudGVyTWFya2VyKGxhdGxuZykge1xuICAgIGNvbnN0IG1hcmtlciA9IHRoaXMuX2NyZWF0ZU1hcmtlcihsYXRsbmcpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MobWFya2VyLl9pY29uLCAnbGVhZmxldC1wbS1kcmFnZ2FibGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFya2VyLmRyYWdnaW5nLmRpc2FibGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfSxcbiAgX2NyZWF0ZU91dGVyTWFya2VyKGxhdGxuZykge1xuICAgIGNvbnN0IG1hcmtlciA9IHRoaXMuX2NyZWF0ZU1hcmtlcihsYXRsbmcpO1xuICAgIG1hcmtlci5vbignZHJhZycsIHRoaXMuX3Jlc2l6ZUNpcmNsZSwgdGhpcyk7XG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfSxcbiAgX2NyZWF0ZU1hcmtlcihsYXRsbmcpIHtcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTC5NYXJrZXIobGF0bG5nLCB7XG4gICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbicgfSksXG4gICAgfSk7XG4gICAgdGhpcy5fc2V0UGFuZShtYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG5cbiAgICBtYXJrZXIuX29yaWdMYXRMbmcgPSBsYXRsbmc7XG4gICAgbWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICBtYXJrZXIub24oJ2RyYWdzdGFydCcsIHRoaXMuX29uTWFya2VyRHJhZ1N0YXJ0LCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ2RyYWcnLCB0aGlzLl9vbk1hcmtlckRyYWcsIHRoaXMpO1xuICAgIG1hcmtlci5vbignZHJhZ2VuZCcsIHRoaXMuX29uTWFya2VyRHJhZ0VuZCwgdGhpcyk7XG4gICAgbWFya2VyLm9uKCdjbGljaycsIHRoaXMuX29uVmVydGV4Q2xpY2ssIHRoaXMpO1xuXG4gICAgdGhpcy5faGVscGVyTGF5ZXJzLmFkZExheWVyKG1hcmtlcik7XG5cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuXG4gIF9tb3ZlQ2lyY2xlKGUpIHtcbiAgICBjb25zdCBkcmFnZ2VkTWFya2VyID0gZS50YXJnZXQ7XG4gICAgaWYgKGRyYWdnZWRNYXJrZXIuX2NhbmNlbERyYWdFdmVudENoYWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2VudGVyID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgIHRoaXMuX2xheWVyLnNldExhdExuZyhjZW50ZXIpO1xuXG4gICAgY29uc3QgcmFkaXVzID0gdGhpcy5fbGF5ZXIuX3JhZGl1cztcblxuICAgIGNvbnN0IG91dGVyID0gdGhpcy5fZ2V0TGF0TG5nT25DaXJjbGUoY2VudGVyLCByYWRpdXMpO1xuICAgIC8vIGRvbid0IGNhbGwgLnNldExhdExuZygpIGJlY2F1c2UgaXQgZmlyZXMgdGhlIGBtb3ZlYCBldmVudCBhbmQgdGhlbiB0aGUgcmFkaXVzIGlzIGNoYW5nZWQgYmVjYXVzZSBvZiBfc3luY0NpcmNsZVJhZGl1cyAjODkyXG4gICAgdGhpcy5fb3V0ZXJNYXJrZXIuX2xhdGxuZyA9IG91dGVyO1xuICAgIHRoaXMuX291dGVyTWFya2VyLnVwZGF0ZSgpO1xuICAgIHRoaXMuX3N5bmNIaW50TGluZSgpO1xuXG4gICAgdGhpcy5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSgpO1xuXG4gICAgdGhpcy5fZmlyZUNlbnRlclBsYWNlZCgnRWRpdCcpO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksICdFZGl0Jyk7XG4gIH0sXG4gIF9zeW5jTWFya2VycygpIHtcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9sYXllci5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCByYWRpdXMgPSB0aGlzLl9sYXllci5fcmFkaXVzO1xuICAgIGNvbnN0IG91dGVyID0gdGhpcy5fZ2V0TGF0TG5nT25DaXJjbGUoY2VudGVyLCByYWRpdXMpO1xuICAgIHRoaXMuX291dGVyTWFya2VyLnNldExhdExuZyhvdXRlcik7XG4gICAgdGhpcy5fY2VudGVyTWFya2VyLnNldExhdExuZyhjZW50ZXIpO1xuICAgIHRoaXMuX3N5bmNIaW50TGluZSgpO1xuICAgIHRoaXMuX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcbiAgfSxcbiAgX3Jlc2l6ZUNpcmNsZSgpIHtcbiAgICB0aGlzLl9vdXRlck1hcmtlci5zZXRMYXRMbmcodGhpcy5fZ2V0TmV3RGVzdGluYXRpb25PZk91dGVyTWFya2VyKCkpO1xuICAgIHRoaXMuX3N5bmNIaW50TGluZSgpO1xuICAgIHRoaXMuX3N5bmNDaXJjbGVSYWRpdXMoKTtcbiAgfSxcbiAgX3N5bmNDaXJjbGVSYWRpdXMoKSB7XG4gICAgY29uc3QgQSA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBCID0gdGhpcy5fb3V0ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlQ2FsY3VsYXRpb24oQSwgQik7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXSAmJlxuICAgICAgZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXVxuICAgICkge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0UmFkaXVzKHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0gJiZcbiAgICAgIGRpc3RhbmNlID4gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl1cbiAgICApIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldFJhZGl1cyh0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldFJhZGl1cyhkaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSgpO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksICdFZGl0Jyk7XG4gIH0sXG4gIF9zeW5jSGludExpbmUoKSB7XG4gICAgY29uc3QgQSA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBCID0gdGhpcy5fb3V0ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgLy8gc2V0IGNvb3JkcyBmb3IgaGludGxpbmUgZnJvbSBtYXJrZXIgdG8gbGFzdCB2ZXJ0ZXggb2YgZHJhd2luIHBvbHlsaW5lXG4gICAgdGhpcy5faGludGxpbmUuc2V0TGF0TG5ncyhbQSwgQl0pO1xuICB9LFxuICBfcmVtb3ZlTWFya2VyKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5fZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9XG4gICAgdGhpcy5fbGF5ZXIucmVtb3ZlKCk7XG4gICAgdGhpcy5fZmlyZVJlbW92ZSh0aGlzLl9sYXllcik7XG4gICAgdGhpcy5fZmlyZVJlbW92ZSh0aGlzLl9tYXAsIHRoaXMuX2xheWVyKTtcbiAgfSxcbiAgX29uRHJhZ1N0YXJ0KCkge1xuICAgIHRoaXMuX21hcC5wbS5EcmF3LkNpcmNsZU1hcmtlci5fbGF5ZXJJc0RyYWdnaW5nID0gdHJ1ZTtcbiAgfSxcbiAgX29uTWFya2VyRHJhZ1N0YXJ0KGUpIHtcbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb24oJ21vdmUnLCBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2ZpcmVNYXJrZXJEcmFnU3RhcnQoZSk7XG4gIH0sXG4gIF9vbk1hcmtlckRyYWcoZSkge1xuICAgIC8vIGRyYWdnZWQgbWFya2VyXG4gICAgY29uc3QgZHJhZ2dlZE1hcmtlciA9IGUudGFyZ2V0O1xuICAgIGlmIChcbiAgICAgIGRyYWdnZWRNYXJrZXIgaW5zdGFuY2VvZiBMLk1hcmtlciAmJlxuICAgICAgIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnKGRyYWdnZWRNYXJrZXIpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWcoZSk7XG4gIH0sXG4gIF9vbk1hcmtlckRyYWdFbmQoZSkge1xuICAgIHRoaXMuX2V4dGVkaW5nTWFya2VyRHJhZ0VuZCgpO1xuXG4gICAgLy8gZHJhZ2dlZCBtYXJrZXJcbiAgICBjb25zdCBkcmFnZ2VkTWFya2VyID0gZS50YXJnZXQ7XG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZ0VuZChkcmFnZ2VkTWFya2VyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICAgIHRoaXMuX2xheWVyRWRpdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWdFbmQoZSk7XG4gIH0sXG4gIF9leHRlZGluZ01hcmtlckRyYWdFbmQoKSB7XG4gICAgdGhpcy5fbWFwLnBtLkRyYXcuQ2lyY2xlTWFya2VyLl9sYXllcklzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgfSxcbiAgLy8gX2luaXRTbmFwcGFibGVNYXJrZXJzIHdoZW4gb3B0aW9uIGVkaXRhYmxlIGlzIG5vdCB0cnVlXG4gIF9pbml0U25hcHBhYmxlTWFya2Vyc0RyYWcoKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fbGF5ZXI7XG5cbiAgICB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlID0gdGhpcy5vcHRpb25zLnNuYXBEaXN0YW5jZSB8fCAzMDtcbiAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPVxuICAgICAgdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50O1xuXG4gICAgbWFya2VyLm9mZigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWcnLCB0aGlzLl9oYW5kbGVTbmFwcGluZywgdGhpcyk7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnZW5kJywgdGhpcy5fY2xlYW51cFNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuXG4gICAgbWFya2VyLm9mZigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG4gIC8vIF9kaXNhYmxlU25hcHBpbmcgd2hlbiBvcHRpb24gZWRpdGFibGUgaXMgbm90IHRydWVcbiAgX2Rpc2FibGVTbmFwcGluZ0RyYWcoKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fbGF5ZXI7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG4gIF91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX2xheWVyLl9tYXAgfHwgdGhpcy5fbWFwO1xuICAgIGlmIChtYXApIHtcbiAgICAgIGNvbnN0IHJhZGl1cyA9IEwuUE0uVXRpbHMucHhSYWRpdXNUb01ldGVyUmFkaXVzKFxuICAgICAgICB0aGlzLl9sYXllci5nZXRSYWRpdXMoKSxcbiAgICAgICAgbWFwLFxuICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmcoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IF9sYXllciA9IEwuY2lyY2xlKHRoaXMuX2xheWVyLmdldExhdExuZygpLCB0aGlzLl9sYXllci5vcHRpb25zKTtcbiAgICAgIF9sYXllci5zZXRSYWRpdXMocmFkaXVzKTtcblxuICAgICAgY29uc3QgY3JzU2ltcGxlID0gbWFwICYmIG1hcC5wbS5faXNDUlNTaW1wbGUoKTtcbiAgICAgIGlmICh0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlKSB7XG4gICAgICAgIHRoaXMuX2hpZGRlblBvbHlDaXJjbGUuc2V0TGF0TG5ncyhcbiAgICAgICAgICBMLlBNLlV0aWxzLmNpcmNsZVRvUG9seWdvbihfbGF5ZXIsIDIwMCwgIWNyc1NpbXBsZSkuZ2V0TGF0TG5ncygpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlID0gTC5QTS5VdGlscy5jaXJjbGVUb1BvbHlnb24oXG4gICAgICAgICAgX2xheWVyLFxuICAgICAgICAgIDIwMCxcbiAgICAgICAgICAhY3JzU2ltcGxlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faGlkZGVuUG9seUNpcmNsZS5fcGFyZW50Q29weSkge1xuICAgICAgICB0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlLl9wYXJlbnRDb3B5ID0gdGhpcy5fbGF5ZXI7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfZ2V0TmV3RGVzdGluYXRpb25PZk91dGVyTWFya2VyKCkge1xuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBsZXQgc2Vjb25kTGF0TG5nID0gdGhpcy5fb3V0ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlQ2FsY3VsYXRpb24obGF0bG5nLCBzZWNvbmRMYXRMbmcpO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0gJiZcbiAgICAgIGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl1cbiAgICApIHtcbiAgICAgIHNlY29uZExhdExuZyA9IGRlc3RpbmF0aW9uT25MaW5lKFxuICAgICAgICB0aGlzLl9tYXAsXG4gICAgICAgIGxhdGxuZyxcbiAgICAgICAgc2Vjb25kTGF0TG5nLFxuICAgICAgICB0aGlzLl9nZXRNaW5EaXN0YW5jZUluTWV0ZXIobGF0bG5nKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0gJiZcbiAgICAgIGRpc3RhbmNlID4gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl1cbiAgICApIHtcbiAgICAgIHNlY29uZExhdExuZyA9IGRlc3RpbmF0aW9uT25MaW5lKFxuICAgICAgICB0aGlzLl9tYXAsXG4gICAgICAgIGxhdGxuZyxcbiAgICAgICAgc2Vjb25kTGF0TG5nLFxuICAgICAgICB0aGlzLl9nZXRNYXhEaXN0YW5jZUluTWV0ZXIobGF0bG5nKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlY29uZExhdExuZztcbiAgfSxcbiAgX2hhbmRsZU91dGVyTWFya2VyU25hcHBpbmcoKSB7XG4gICAgaWYgKHRoaXMuX291dGVyTWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICBjb25zdCBzZWNvbmRMYXRMbmcgPSB0aGlzLl9vdXRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5fZGlzdGFuY2VDYWxjdWxhdGlvbihsYXRsbmcsIHNlY29uZExhdExuZyk7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dICYmXG4gICAgICAgIGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl1cbiAgICAgICkge1xuICAgICAgICB0aGlzLl9vdXRlck1hcmtlci5zZXRMYXRMbmcodGhpcy5fb3V0ZXJNYXJrZXIuX29yZ0xhdExuZyk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSAmJlxuICAgICAgICBkaXN0YW5jZSA+IHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fb3V0ZXJNYXJrZXIuc2V0TGF0TG5nKHRoaXMuX291dGVyTWFya2VyLl9vcmdMYXRMbmcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBsYXRsbmcgb2YgbWFya2VyIGlmIHJhZGl1cyBpcyBvdXQgb2YgbWluL21heFxuICAgIHRoaXMuX291dGVyTWFya2VyLnNldExhdExuZyh0aGlzLl9nZXROZXdEZXN0aW5hdGlvbk9mT3V0ZXJNYXJrZXIoKSk7XG4gIH0sXG4gIF9kaXN0YW5jZUNhbGN1bGF0aW9uKEEsIEIpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnByb2plY3QoQSkuZGlzdGFuY2VUbyh0aGlzLl9tYXAucHJvamVjdChCKSk7XG4gIH0sXG4gIF9nZXRNaW5EaXN0YW5jZUluTWV0ZXIobGF0bG5nKSB7XG4gICAgcmV0dXJuIEwuUE0uVXRpbHMucHhSYWRpdXNUb01ldGVyUmFkaXVzKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0sXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICBsYXRsbmdcbiAgICApO1xuICB9LFxuICBfZ2V0TWF4RGlzdGFuY2VJbk1ldGVyKGxhdGxuZykge1xuICAgIHJldHVybiBMLlBNLlV0aWxzLnB4UmFkaXVzVG9NZXRlclJhZGl1cyhcbiAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dLFxuICAgICAgdGhpcy5fbWFwLFxuICAgICAgbGF0bG5nXG4gICAgKTtcbiAgfSxcbiAgX29uVmVydGV4Q2xpY2soZSkge1xuICAgIGNvbnN0IHZlcnRleCA9IGUudGFyZ2V0O1xuICAgIGlmICh2ZXJ0ZXguX2RyYWdnaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZVZlcnRleENsaWNrKGUsIHVuZGVmaW5lZCk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRWRpdCBmcm9tICcuL0wuUE0uRWRpdCc7XG5cbkVkaXQuQ2lyY2xlID0gRWRpdC5DaXJjbGVNYXJrZXIuZXh0ZW5kKHtcbiAgX3NoYXBlOiAnQ2lyY2xlJyxcbiAgaW5pdGlhbGl6ZShsYXllcikge1xuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fbWluUmFkaXVzT3B0aW9uID0gJ21pblJhZGl1c0NpcmNsZSc7XG4gICAgdGhpcy5fbWF4UmFkaXVzT3B0aW9uID0gJ21heFJhZGl1c0NpcmNsZSc7XG4gICAgdGhpcy5fZWRpdGFibGVPcHRpb24gPSAncmVzaXphYmxlQ2lyY2xlJztcbiAgICAvLyBjcmVhdGUgcG9seWdvbiBhcm91bmQgdGhlIGNpcmNsZSBib3JkZXJcbiAgICB0aGlzLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zKSB7XG4gICAgLy8gVE9ETzogdGhpcyBjYW4gYmUgcmVtb3ZlZCBhZnRlciB0aGUgZGVmYXVsdCBvcHRpb25zIG9mIENpcmNsZU1hcmtlci5lbmFibGUgYXJlIHJlbW92ZWRcbiAgICBMLlBNLkVkaXQuQ2lyY2xlTWFya2VyLnByb3RvdHlwZS5lbmFibGUuY2FsbCh0aGlzLCBvcHRpb25zIHx8IHt9KTtcbiAgfSxcbiAgX2V4dGVuZGluZ0VuYWJsZSgpIHt9LFxuICBfZXh0ZW5kaW5nRGlzYWJsZSgpIHtcbiAgICB0aGlzLl9sYXllci5vZmYoJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICAvLyByZW1vdmUgZHJhZ2dhYmxlIGNsYXNzXG4gICAgY29uc3QgZWwgPSB0aGlzLl9sYXllci5fcGF0aFxuICAgICAgPyB0aGlzLl9sYXllci5fcGF0aFxuICAgICAgOiB0aGlzLl9sYXllci5fcmVuZGVyZXIuX2NvbnRhaW5lcjtcbiAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3MoZWwsICdsZWFmbGV0LXBtLWRyYWdnYWJsZScpO1xuICB9LFxuICBfZXh0ZW5kaW5nQXBwbHlPcHRpb25zKCkge30sXG4gIF9zeW5jTWFya2VycygpIHt9LFxuICBfcmVtb3ZlTWFya2VyKCkge30sXG4gIF9vbkRyYWdTdGFydCgpIHt9LFxuICBfZXh0ZWRpbmdNYXJrZXJEcmFnRW5kKCkge30sXG4gIF91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCkge1xuICAgIGNvbnN0IGNyc1NpbXBsZSA9IHRoaXMuX21hcCAmJiB0aGlzLl9tYXAucG0uX2lzQ1JTU2ltcGxlKCk7XG4gICAgaWYgKHRoaXMuX2hpZGRlblBvbHlDaXJjbGUpIHtcbiAgICAgIHRoaXMuX2hpZGRlblBvbHlDaXJjbGUuc2V0TGF0TG5ncyhcbiAgICAgICAgTC5QTS5VdGlscy5jaXJjbGVUb1BvbHlnb24odGhpcy5fbGF5ZXIsIDIwMCwgIWNyc1NpbXBsZSkuZ2V0TGF0TG5ncygpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlID0gTC5QTS5VdGlscy5jaXJjbGVUb1BvbHlnb24oXG4gICAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgICAyMDAsXG4gICAgICAgICFjcnNTaW1wbGVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlLl9wYXJlbnRDb3B5KSB7XG4gICAgICB0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlLl9wYXJlbnRDb3B5ID0gdGhpcy5fbGF5ZXI7XG4gICAgfVxuICB9LFxuICBfZGlzdGFuY2VDYWxjdWxhdGlvbihBLCBCKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5kaXN0YW5jZShBLCBCKTtcbiAgfSxcbiAgX2dldE1pbkRpc3RhbmNlSW5NZXRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl07XG4gIH0sXG4gIF9nZXRNYXhEaXN0YW5jZUluTWV0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dO1xuICB9LFxuICBfb25WZXJ0ZXhDbGljayhlKSB7XG4gICAgY29uc3QgdmVydGV4ID0gZS50YXJnZXQ7XG4gICAgaWYgKHZlcnRleC5fZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlVmVydGV4Q2xpY2soZSwgdW5kZWZpbmVkKTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuRWRpdC5JbWFnZU92ZXJsYXkgPSBFZGl0LmV4dGVuZCh7XG4gIF9zaGFwZTogJ0ltYWdlT3ZlcmxheScsXG4gIGluaXRpYWxpemUobGF5ZXIpIHtcbiAgICB0aGlzLl9sYXllciA9IGxheWVyO1xuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgfSxcbiAgdG9nZ2xlRWRpdChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgfSxcbiAgLy8gVE9ETzogcmVtb3ZlIGRlZmF1bHQgb3B0aW9uIGluIG5leHQgbWFqb3IgUmVsZWFzZVxuICBlbmFibGUob3B0aW9ucyA9IHsgZHJhZ2dhYmxlOiB0cnVlLCBzbmFwcGFibGU6IHRydWUgfSkge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG4gICAgLy8gY2FuY2VsIHdoZW4gbWFwIGlzbid0IGF2YWlsYWJsZSwgdGhpcyBoYXBwZW5zIHdoZW4gdGhlIHBvbHlnb24gaXMgcmVtb3ZlZCBiZWZvcmUgdGhpcyBmaXJlc1xuICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbGF5ZXIgaXMgbm90IGFsbG93ZWQgdG8gZWRpdFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93RWRpdGluZykge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgLy8gaWYgaXQgd2FzIGFscmVhZHkgZW5hYmxlZCwgZGlzYWJsZSBmaXJzdFxuICAgICAgLy8gd2UgZG9uJ3QgYmxvY2sgZW5hYmxpbmcgYWdhaW4gYmVjYXVzZSBuZXcgb3B0aW9ucyBtaWdodCBiZSBwYXNzZWRcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIHRoaXMuZW5hYmxlTGF5ZXJEcmFnKCk7XG5cbiAgICAvLyBpZiBzaGFwZSBnZXRzIHJlbW92ZWQgZnJvbSBtYXAsIGRpc2FibGUgZWRpdCBtb2RlXG4gICAgdGhpcy5fbGF5ZXIub24oJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICAvLyBjaGFuZ2Ugc3RhdGVcbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblxuICAgIC8vIGNyZWF0ZSBtYXJrZXJzIGZvciBmb3VyIGNvcm5lcnMgb2YgSW1hZ2VPdmVybGF5XG4gICAgdGhpcy5fb3RoZXJTbmFwTGF5ZXJzID0gdGhpcy5fZmluZENvcm5lcnMoKTtcblxuICAgIHRoaXMuX2ZpcmVFbmFibGUoKTtcbiAgfSxcbiAgZGlzYWJsZSgpIHtcbiAgICAvLyBwcmV2ZW50IGRpc2FibGluZyBpZiBsYXllciBpcyBiZWluZyBkcmFnZ2VkXG4gICAgaWYgKHRoaXMuX2RyYWdnaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWRkIG1hcCBpZiBpdCBpcyBub3QgYWxyZWFkeSBzZXQuIFRoaXMgaGFwcGVucyB3aGVuIGRpc2FibGUoKSBpcyBjYWxsZWQgYmVmb3JlIGVuYWJsZSgpXG4gICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG4gICAgfVxuICAgIC8vIGRpc2FibGUgZHJhZ2dpbmcsIGFzIHRoaXMgY291bGQgaGF2ZSBiZWVuIGFjdGl2ZSBldmVuIHdpdGhvdXQgYmVpbmcgZW5hYmxlZFxuICAgIHRoaXMuZGlzYWJsZUxheWVyRHJhZygpO1xuXG4gICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdyZW1vdmUnLCB0aGlzLmRpc2FibGUsIHRoaXMpO1xuXG4gICAgLy8gb25seSBmaXJlIGV2ZW50cyBpZiBpdCB3YXMgZW5hYmxlZCBiZWZvcmVcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICBpZiAodGhpcy5fbGF5ZXJFZGl0ZWQpIHtcbiAgICAgICAgdGhpcy5fZmlyZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2ZpcmVEaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICB9LFxuICBfZmluZENvcm5lcnMoKSB7XG4gICAgY29uc3QgY29ybmVycyA9IHRoaXMuX2xheWVyLmdldEJvdW5kcygpO1xuXG4gICAgY29uc3Qgbm9ydGh3ZXN0ID0gY29ybmVycy5nZXROb3J0aFdlc3QoKTtcbiAgICBjb25zdCBub3J0aGVhc3QgPSBjb3JuZXJzLmdldE5vcnRoRWFzdCgpO1xuICAgIGNvbnN0IHNvdXRoZWFzdCA9IGNvcm5lcnMuZ2V0U291dGhFYXN0KCk7XG4gICAgY29uc3Qgc291dGh3ZXN0ID0gY29ybmVycy5nZXRTb3V0aFdlc3QoKTtcblxuICAgIHJldHVybiBbbm9ydGh3ZXN0LCBub3J0aGVhc3QsIHNvdXRoZWFzdCwgc291dGh3ZXN0XTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuRWRpdC5UZXh0ID0gRWRpdC5leHRlbmQoe1xuICBfc2hhcGU6ICdUZXh0JyxcbiAgaW5pdGlhbGl6ZShsYXllcikge1xuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKCF0aGlzLnRleHRBcmVhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbGF5ZXIgaXMgbm90IGFsbG93ZWQgdG8gZWRpdFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93RWRpdGluZyB8fCAhdGhpcy5fbGF5ZXIuX21hcCkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcblxuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICAgIHRoaXMuYXBwbHlPcHRpb25zKCk7XG5cbiAgICB0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSA9IHRydWU7XG5cbiAgICB0aGlzLl9mb2N1c0NoYW5nZSgpO1xuICAgIHRoaXMudGV4dEFyZWEucmVhZE9ubHkgPSBmYWxzZTtcbiAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ3BtLWRpc2FibGVkJyk7XG5cbiAgICAvLyBpZiBzaGFwZSBnZXRzIHJlbW92ZWQgZnJvbSBtYXAsIGRpc2FibGUgZWRpdCBtb2RlXG4gICAgdGhpcy5fbGF5ZXIub24oJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vbih0aGlzLnRleHRBcmVhLCAnaW5wdXQnLCB0aGlzLl9hdXRvUmVzaXplLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKHRoaXMudGV4dEFyZWEsICdmb2N1cycsIHRoaXMuX2ZvY3VzQ2hhbmdlLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKHRoaXMudGV4dEFyZWEsICdibHVyJywgdGhpcy5fZm9jdXNDaGFuZ2UsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9uKCdkYmxjbGljaycsIEwuRG9tRXZlbnQuc3RvcCk7XG5cbiAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLnRleHRBcmVhLCAnbW91c2Vkb3duJywgdGhpcy5fcHJldmVudFRleHRTZWxlY3Rpb24pO1xuXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICB0aGlzLl9maXJlRW5hYmxlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gaWYgaXQncyBub3QgZW5hYmxlZCwgaXQgZG9lc24ndCBuZWVkIHRvIGJlIGRpc2FibGVkXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBsaXN0ZW5lclxuICAgIHRoaXMuX2xheWVyLm9mZigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLnRleHRBcmVhLCAnaW5wdXQnLCB0aGlzLl9hdXRvUmVzaXplLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLnRleHRBcmVhLCAnZm9jdXMnLCB0aGlzLl9mb2N1c0NoYW5nZSwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vZmYodGhpcy50ZXh0QXJlYSwgJ2JsdXInLCB0aGlzLl9mb2N1c0NoYW5nZSwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vZmYoZG9jdW1lbnQsICdjbGljaycsIHRoaXMuX2RvY3VtZW50Q2xpY2ssIHRoaXMpO1xuXG4gICAgdGhpcy5fZm9jdXNDaGFuZ2UoKTtcbiAgICB0aGlzLnRleHRBcmVhLnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5hZGQoJ3BtLWRpc2FibGVkJyk7XG5cbiAgICAvLyByZW1vdmUgc2VsZWN0aW9uXG4gICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIC8vIENocm9tZSBuZWVkcyB0aGUgZm9jdXMgb24gdGhlIGVsZW1lbnQgdG8gY2hhbmdlIHRoZSBzZWxlY3Rpb25cbiAgICB0aGlzLnRleHRBcmVhLmZvY3VzKCk7XG4gICAgdGhpcy50ZXh0QXJlYS5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgdGhpcy50ZXh0QXJlYS5zZWxlY3Rpb25FbmQgPSAwO1xuICAgIEwuRG9tRXZlbnQub24odGhpcy50ZXh0QXJlYSwgJ21vdXNlZG93bicsIHRoaXMuX3ByZXZlbnRUZXh0U2VsZWN0aW9uKTtcbiAgICBmb2N1c2VkRWxlbWVudC5mb2N1cygpO1xuXG4gICAgdGhpcy5fZGlzYWJsZU9uQmx1ckFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuX2xheWVyRWRpdGVkKSB7XG4gICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2xheWVyRWRpdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fZmlyZURpc2FibGUoKTtcblxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgfSxcbiAgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgfSxcbiAgdG9nZ2xlRWRpdChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgYXBwbHlPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICB9XG4gIH0sXG4gIC8vIG92ZXJ3cml0ZSBpbml0U25hcHBhYmxlTWFya2VycyBmcm9tIFNuYXBwaW5nLmpzIE1peGluXG4gIF9pbml0U25hcHBhYmxlTWFya2VycygpIHtcbiAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9sYXllcjtcblxuICAgIHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlIHx8IDMwO1xuICAgIHRoaXMub3B0aW9ucy5zbmFwU2VnbWVudCA9XG4gICAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQ7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcblxuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZ2VuZCcsIHRoaXMuX2NsZWFudXBTbmFwcGluZywgdGhpcyk7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgfSxcbiAgX2Rpc2FibGVTbmFwcGluZygpIHtcbiAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9sYXllcjtcbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG4gIF9hdXRvUmVzaXplKCkge1xuICAgIHRoaXMudGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gJzFweCc7XG4gICAgdGhpcy50ZXh0QXJlYS5zdHlsZS53aWR0aCA9ICcxcHgnO1xuICAgIGNvbnN0IGhlaWdodCA9XG4gICAgICB0aGlzLnRleHRBcmVhLnNjcm9sbEhlaWdodCA+IDIxID8gdGhpcy50ZXh0QXJlYS5zY3JvbGxIZWlnaHQgOiAyMTtcbiAgICBjb25zdCB3aWR0aCA9XG4gICAgICB0aGlzLnRleHRBcmVhLnNjcm9sbFdpZHRoID4gMTYgPyB0aGlzLnRleHRBcmVhLnNjcm9sbFdpZHRoIDogMTY7XG4gICAgdGhpcy50ZXh0QXJlYS5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgIHRoaXMudGV4dEFyZWEuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgdGhpcy5fbGF5ZXIub3B0aW9ucy50ZXh0ID0gdGhpcy5nZXRUZXh0KCk7XG4gICAgdGhpcy5fZmlyZVRleHRDaGFuZ2UodGhpcy5nZXRUZXh0KCkpO1xuICB9LFxuXG4gIF9kaXNhYmxlT25CbHVyKCkge1xuICAgIHRoaXMuX2Rpc2FibGVPbkJsdXJBY3RpdmUgPSB0cnVlO1xuICAgIC8vIHdlIG5lZWQgdGhpcyB0aW1lb3V0IGJlY2F1c2UgZWxzZSB0aGUgcGxhY2UgY2xpY2sgZXZlbnQgaXMgdHJpZ2dlcmVkIGhlcmUgdG9vLlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICAgIEwuRG9tRXZlbnQub24oZG9jdW1lbnQsICdjbGljaycsIHRoaXMuX2RvY3VtZW50Q2xpY2ssIHRoaXMpO1xuICAgICAgfVxuICAgIH0sIDEwMCk7XG4gIH0sXG4gIF9kb2N1bWVudENsaWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMudGV4dEFyZWEpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgaWYgKCF0aGlzLmdldFRleHQoKSAmJiB0aGlzLm9wdGlvbnMucmVtb3ZlSWZFbXB0eSkge1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBfZm9jdXNDaGFuZ2UoZSA9IHt9KSB7XG4gICAgY29uc3QgZm9jdXNBbHJlYWR5U2V0ID0gdGhpcy5faGFzRm9jdXM7XG4gICAgdGhpcy5faGFzRm9jdXMgPSBlLnR5cGUgPT09ICdmb2N1cyc7XG4gICAgaWYgKCFmb2N1c0FscmVhZHlTZXQgIT09ICF0aGlzLl9oYXNGb2N1cykge1xuICAgICAgaWYgKHRoaXMuX2hhc0ZvY3VzKSB7XG4gICAgICAgIHRoaXMuX2FwcGx5Rm9jdXMoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNUZXh0ID0gdGhpcy5nZXRUZXh0KCk7XG4gICAgICAgIHRoaXMuX2ZpcmVUZXh0Rm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUZvY3VzKCk7XG4gICAgICAgIHRoaXMuX2ZpcmVUZXh0Qmx1cigpO1xuICAgICAgICBpZiAodGhpcy5fZm9jdXNUZXh0ICE9PSB0aGlzLmdldFRleHQoKSkge1xuICAgICAgICAgIHRoaXMuX2ZpcmVFZGl0KCk7XG4gICAgICAgICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfYXBwbHlGb2N1cygpIHtcbiAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5hZGQoJ3BtLWhhc2ZvY3VzJyk7XG5cbiAgICBpZiAodGhpcy5fbWFwLmRyYWdnaW5nKSB7XG4gICAgICAvLyBzYXZlIGN1cnJlbnQgbWFwIGRyYWdnaW5nIHN0YXRlXG4gICAgICBpZiAodGhpcy5fc2FmZVRvQ2FjaGVEcmFnU3RhdGUpIHtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUgPSB0aGlzLl9tYXAuZHJhZ2dpbmcuX2VuYWJsZWQ7XG4gICAgICAgIC8vIGRvbid0IGNhY2hlIHRoZSBzdGF0ZSBhZ2FpbiB1bnRpbCBhbm90aGVyIG1vdXNlIHVwIGlzIHJlZ2lzdGVyZWRcbiAgICAgICAgdGhpcy5fc2FmZVRvQ2FjaGVEcmFnU3RhdGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX21hcC5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuICBfcmVtb3ZlRm9jdXMoKSB7XG4gICAgaWYgKHRoaXMuX21hcC5kcmFnZ2luZykge1xuICAgICAgaWYgKHRoaXMuX29yaWdpbmFsTWFwRHJhZ1N0YXRlKSB7XG4gICAgICAgIHRoaXMuX21hcC5kcmFnZ2luZy5lbmFibGUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NhZmVUb0NhY2hlRHJhZ1N0YXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ3BtLWhhc2ZvY3VzJyk7XG4gIH0sXG5cbiAgZm9jdXMoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTGF5ZXIgaXMgbm90IGVuYWJsZWQnKTtcbiAgICB9XG4gICAgdGhpcy50ZXh0QXJlYS5mb2N1cygpO1xuICB9LFxuXG4gIGJsdXIoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTGF5ZXIgaXMgbm90IGVuYWJsZWQnKTtcbiAgICB9XG4gICAgdGhpcy50ZXh0QXJlYS5ibHVyKCk7XG4gICAgaWYgKHRoaXMuX2Rpc2FibGVPbkJsdXJBY3RpdmUpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcblxuICBoYXNGb2N1cygpIHtcbiAgICByZXR1cm4gdGhpcy5faGFzRm9jdXM7XG4gIH0sXG5cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0QXJlYTtcbiAgfSxcblxuICBzZXRUZXh0KHRleHQpIHtcbiAgICB0aGlzLnRleHRBcmVhLnZhbHVlID0gdGV4dDtcbiAgICB0aGlzLl9hdXRvUmVzaXplKCk7XG4gIH0sXG5cbiAgZ2V0VGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0QXJlYS52YWx1ZTtcbiAgfSxcblxuICBfaW5pdFRleHRNYXJrZXIoKSB7XG4gICAgdGhpcy50ZXh0QXJlYSA9IEwuUE0uRHJhdy5UZXh0LnByb3RvdHlwZS5fY3JlYXRlVGV4dEFyZWEuY2FsbCh0aGlzKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSkge1xuICAgICAgY29uc3QgY3NzQ2xhc3NlcyA9IHRoaXMub3B0aW9ucy5jbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICAgIHRoaXMudGV4dEFyZWEuY2xhc3NMaXN0LmFkZCguLi5jc3NDbGFzc2VzKTtcbiAgICB9XG4gICAgY29uc3QgdGV4dEFyZWFJY29uID0gTC5QTS5EcmF3LlRleHQucHJvdG90eXBlLl9jcmVhdGVUZXh0SWNvbi5jYWxsKFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMudGV4dEFyZWFcbiAgICApO1xuICAgIHRoaXMuX2xheWVyLnNldEljb24odGV4dEFyZWFJY29uKTtcblxuICAgIHRoaXMuX2xheWVyLm9uY2UoJ2FkZCcsIHRoaXMuX2NyZWF0ZVRleHRNYXJrZXIsIHRoaXMpO1xuICB9LFxuXG4gIF9jcmVhdGVUZXh0TWFya2VyKGVuYWJsZSA9IGZhbHNlKSB7XG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdhZGQnLCB0aGlzLl9jcmVhdGVUZXh0TWFya2VyLCB0aGlzKTtcblxuICAgIHRoaXMuX2xheWVyLmdldEVsZW1lbnQoKS50YWJJbmRleCA9IC0xO1xuXG4gICAgdGhpcy50ZXh0QXJlYS53cmFwID0gJ29mZic7XG4gICAgdGhpcy50ZXh0QXJlYS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIHRoaXMudGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gTC5Eb21VdGlsLmdldFN0eWxlKHRoaXMudGV4dEFyZWEsICdmb250LXNpemUnKTtcbiAgICB0aGlzLnRleHRBcmVhLnN0eWxlLndpZHRoID0gJzFweCc7XG5cbiAgICBpZiAodGhpcy5fbGF5ZXIub3B0aW9ucy50ZXh0KSB7XG4gICAgICB0aGlzLnNldFRleHQodGhpcy5fbGF5ZXIub3B0aW9ucy50ZXh0KTtcbiAgICB9XG5cbiAgICB0aGlzLl9hdXRvUmVzaXplKCk7XG5cbiAgICBpZiAoZW5hYmxlID09PSB0cnVlKSB7XG4gICAgICAvLyBlbmFibGUgZWRpdGluZyBmb3IgdGhlIG1hcmtlclxuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgIHRoaXMuX2Rpc2FibGVPbkJsdXIoKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQ2hyb21lIGlnbm9yZXMgYHVzZXItc2VsZWN0OiBub25lYCwgc28gd2UgbmVlZCB0byBkaXNhYmxlIHRleHQgc2VsZWN0aW9uIG1hbnVhbGx5XG4gIF9wcmV2ZW50VGV4dFNlbGVjdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9LFxufSk7XG4iLCAiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIGh0dHBzOi8vZ2l0aHViLmNvbS93OHIvTGVhZmxldC5QYXRoLlRyYW5zZm9ybVxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICovXG5cbi8qKlxuICogQGNsYXNzICBMLlBNLk1hdHJpeFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhXG4gKiBAcGFyYW0ge051bWJlcn0gYlxuICogQHBhcmFtIHtOdW1iZXJ9IGNcbiAqIEBwYXJhbSB7TnVtYmVyfSBkXG4gKiBAcGFyYW0ge051bWJlcn0gZVxuICogQHBhcmFtIHtOdW1iZXJ9IGZcbiAqL1xuY29uc3QgTWF0cml4ID0gZnVuY3Rpb24gTWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheS48TnVtYmVyPn1cbiAgICovXG4gIHRoaXMuX21hdHJpeCA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbn07XG5cbk1hdHJpeC5pbml0ID0gKCkgPT4gbmV3IEwuUE0uTWF0cml4KDEsIDAsIDAsIDEsIDAsIDApO1xuXG5NYXRyaXgucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogQHBhcmFtICB7TC5Qb2ludH0gcG9pbnRcbiAgICogQHJldHVybiB7TC5Qb2ludH1cbiAgICovXG4gIHRyYW5zZm9ybShwb2ludCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm0ocG9pbnQuY2xvbmUoKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlc3RydWN0aXZlXG4gICAqXG4gICAqIFsgeCBdID0gWyBhICBiICB0eCBdIFsgeCBdID0gWyBhICogeCArIGIgKiB5ICsgdHggXVxuICAgKiBbIHkgXSA9IFsgYyAgZCAgdHkgXSBbIHkgXSA9IFsgYyAqIHggKyBkICogeSArIHR5IF1cbiAgICpcbiAgICogQHBhcmFtICB7TC5Qb2ludH0gcG9pbnRcbiAgICogQHJldHVybiB7TC5Qb2ludH1cbiAgICovXG4gIF90cmFuc2Zvcm0ocG9pbnQpIHtcbiAgICBjb25zdCBtYXRyaXggPSB0aGlzLl9tYXRyaXg7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBwb2ludDtcbiAgICBwb2ludC54ID0gbWF0cml4WzBdICogeCArIG1hdHJpeFsxXSAqIHkgKyBtYXRyaXhbNF07XG4gICAgcG9pbnQueSA9IG1hdHJpeFsyXSAqIHggKyBtYXRyaXhbM10gKiB5ICsgbWF0cml4WzVdO1xuICAgIHJldHVybiBwb2ludDtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtICB7TC5Qb2ludH0gcG9pbnRcbiAgICogQHJldHVybiB7TC5Qb2ludH1cbiAgICovXG4gIHVudHJhbnNmb3JtKHBvaW50KSB7XG4gICAgY29uc3QgbWF0cml4ID0gdGhpcy5fbWF0cml4O1xuICAgIHJldHVybiBuZXcgTC5Qb2ludChcbiAgICAgIChwb2ludC54IC8gbWF0cml4WzBdIC0gbWF0cml4WzRdKSAvIG1hdHJpeFswXSxcbiAgICAgIChwb2ludC55IC8gbWF0cml4WzJdIC0gbWF0cml4WzVdKSAvIG1hdHJpeFsyXVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0wuUE0uTWF0cml4fVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgbWF0cml4ID0gdGhpcy5fbWF0cml4O1xuICAgIHJldHVybiBuZXcgTC5QTS5NYXRyaXgoXG4gICAgICBtYXRyaXhbMF0sXG4gICAgICBtYXRyaXhbMV0sXG4gICAgICBtYXRyaXhbMl0sXG4gICAgICBtYXRyaXhbM10sXG4gICAgICBtYXRyaXhbNF0sXG4gICAgICBtYXRyaXhbNV1cbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0wuUG9pbnR8TnVtYmVyfSB0cmFuc2xhdGVcbiAgICogQHJldHVybiB7TC5QTS5NYXRyaXh8TC5Qb2ludH1cbiAgICovXG4gIHRyYW5zbGF0ZSh0cmFuc2xhdGUpIHtcbiAgICBpZiAodHJhbnNsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXcgTC5Qb2ludCh0aGlzLl9tYXRyaXhbNF0sIHRoaXMuX21hdHJpeFs1XSk7XG4gICAgfVxuXG4gICAgbGV0IHRyYW5zbGF0ZVg7XG4gICAgbGV0IHRyYW5zbGF0ZVk7XG4gICAgaWYgKHR5cGVvZiB0cmFuc2xhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICB0cmFuc2xhdGVYID0gdHJhbnNsYXRlO1xuICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZS54O1xuICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZS55O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9hZGQoMSwgMCwgMCwgMSwgdHJhbnNsYXRlWCwgdHJhbnNsYXRlWSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TC5Qb2ludHxOdW1iZXJ9IHNjYWxlXG4gICAqIEBwYXJhbSB7TC5Qb2ludHxOdW1iZXJ9IG9yaWdpblxuICAgKiBAcmV0dXJuIHtMLlBNLk1hdHJpeHxMLlBvaW50fVxuICAgKi9cbiAgc2NhbGUoc2NhbGUsIG9yaWdpbikge1xuICAgIGlmIChzY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbmV3IEwuUG9pbnQodGhpcy5fbWF0cml4WzBdLCB0aGlzLl9tYXRyaXhbM10pO1xuICAgIH1cblxuICAgIGxldCBzY2FsZVg7XG4gICAgbGV0IHNjYWxlWTtcbiAgICBvcmlnaW4gPSBvcmlnaW4gfHwgTC5wb2ludCgwLCAwKTtcbiAgICBpZiAodHlwZW9mIHNjYWxlID09PSAnbnVtYmVyJykge1xuICAgICAgc2NhbGVYID0gc2NhbGU7XG4gICAgICBzY2FsZVkgPSBzY2FsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NhbGVYID0gc2NhbGUueDtcbiAgICAgIHNjYWxlWSA9IHNjYWxlLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2FkZChzY2FsZVgsIDAsIDAsIHNjYWxlWSwgb3JpZ2luLngsIG9yaWdpbi55KS5fYWRkKFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIC1vcmlnaW4ueCxcbiAgICAgIC1vcmlnaW4ueVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIG0wMCAgbTAxICB4IC0gbTAwICogeCAtIG0wMSAqIHlcbiAgICogbTEwICBtMTEgIHkgLSBtMTAgKiB4IC0gbTExICogeVxuICAgKiBAcGFyYW0ge051bWJlcn0gICBhbmdsZVxuICAgKiBAcGFyYW0ge0wuUG9pbnQ9fSBvcmlnaW5cbiAgICogQHJldHVybiB7TC5QTS5NYXRyaXh9XG4gICAqL1xuICByb3RhdGUoYW5nbGUsIG9yaWdpbikge1xuICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG5cbiAgICBvcmlnaW4gPSBvcmlnaW4gfHwgbmV3IEwuUG9pbnQoMCwgMCk7XG5cbiAgICByZXR1cm4gdGhpcy5fYWRkKGNvcywgc2luLCAtc2luLCBjb3MsIG9yaWdpbi54LCBvcmlnaW4ueSkuX2FkZChcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAtb3JpZ2luLngsXG4gICAgICAtb3JpZ2luLnlcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZlcnQgcm90YXRpb25cbiAgICogQHJldHVybiB7TC5QTS5NYXRyaXh9XG4gICAqL1xuICBmbGlwKCkge1xuICAgIHRoaXMuX21hdHJpeFsxXSAqPSAtMTtcbiAgICB0aGlzLl9tYXRyaXhbMl0gKj0gLTE7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TnVtYmVyfEwuUE0uTWF0cml4fSBhXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBiXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBmXG4gICAqL1xuICBfYWRkKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbW10sIFtdLCBbXV07XG4gICAgbGV0IHNyYyA9IHRoaXMuX21hdHJpeDtcbiAgICBjb25zdCBtID0gW1xuICAgICAgW3NyY1swXSwgc3JjWzJdLCBzcmNbNF1dLFxuICAgICAgW3NyY1sxXSwgc3JjWzNdLCBzcmNbNV1dLFxuICAgICAgWzAsIDAsIDFdLFxuICAgIF07XG4gICAgbGV0IG90aGVyID0gW1xuICAgICAgW2EsIGMsIGVdLFxuICAgICAgW2IsIGQsIGZdLFxuICAgICAgWzAsIDAsIDFdLFxuICAgIF07XG4gICAgbGV0IHZhbDtcblxuICAgIGlmIChhICYmIGEgaW5zdGFuY2VvZiBMLlBNLk1hdHJpeCkge1xuICAgICAgc3JjID0gYS5fbWF0cml4O1xuICAgICAgb3RoZXIgPSBbXG4gICAgICAgIFtzcmNbMF0sIHNyY1syXSwgc3JjWzRdXSxcbiAgICAgICAgW3NyY1sxXSwgc3JjWzNdLCBzcmNbNV1dLFxuICAgICAgICBbMCwgMCwgMV0sXG4gICAgICBdO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGogKz0gMSkge1xuICAgICAgICB2YWwgPSAwO1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7IGsgKz0gMSkge1xuICAgICAgICAgIHZhbCArPSBtW2ldW2tdICogb3RoZXJba11bal07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2ldW2pdID0gdmFsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX21hdHJpeCA9IFtcbiAgICAgIHJlc3VsdFswXVswXSxcbiAgICAgIHJlc3VsdFsxXVswXSxcbiAgICAgIHJlc3VsdFswXVsxXSxcbiAgICAgIHJlc3VsdFsxXVsxXSxcbiAgICAgIHJlc3VsdFswXVsyXSxcbiAgICAgIHJlc3VsdFsxXVsyXSxcbiAgICBdO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTWF0cml4O1xuIiwgImltcG9ydCB7IGNyZWF0ZUdlb2Rlc2ljUG9seWdvbiwgZ2V0VHJhbnNsYXRpb24gfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgX3RvTGF0TG5nLCBfdG9Qb2ludCB9IGZyb20gJy4vaGVscGVycy9Nb2RlSGVscGVyJztcblxuY29uc3QgVXRpbHMgPSB7XG4gIGNhbGNNaWRkbGVMYXRMbmcobWFwLCBsYXRsbmcxLCBsYXRsbmcyKSB7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSBtaWRkbGUgY29vcmRpbmF0ZXMgYmV0d2VlbiB0d28gbWFya2Vyc1xuXG4gICAgY29uc3QgcDEgPSBtYXAucHJvamVjdChsYXRsbmcxKTtcbiAgICBjb25zdCBwMiA9IG1hcC5wcm9qZWN0KGxhdGxuZzIpO1xuXG4gICAgcmV0dXJuIG1hcC51bnByb2plY3QocDEuX2FkZChwMikuX2RpdmlkZUJ5KDIpKTtcbiAgfSxcbiAgZmluZExheWVycyhtYXApIHtcbiAgICBsZXQgbGF5ZXJzID0gW107XG4gICAgbWFwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLlBvbHlsaW5lIHx8XG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIgfHxcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZSB8fFxuICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyIHx8XG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5JbWFnZU92ZXJsYXlcbiAgICAgICkge1xuICAgICAgICBsYXllcnMucHVzaChsYXllcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IGxheWVycyB0aGF0IGRvbid0IGhhdmUgdGhlIGxlYWZsZXQtZ2VvbWFuIGluc3RhbmNlXG4gICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+ICEhbGF5ZXIucG0pO1xuXG4gICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQncyBsZWFmbGV0LWdlb21hbiBzcGVjaWZpYyB0ZW1wb3Jhcnkgc3R1ZmZcbiAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gIWxheWVyLl9wbVRlbXBMYXllcik7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCBpZ25vcmUgbGVhZmxldC1nZW9tYW5cbiAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKFxuICAgICAgKGxheWVyKSA9PlxuICAgICAgICAoIUwuUE0ub3B0SW4gJiYgIWxheWVyLm9wdGlvbnMucG1JZ25vcmUpIHx8IC8vIGlmIG9wdEluIGlzIG5vdCBzZXQgLyB0cnVlIGFuZCBwbUlnbm9yZSBpcyBub3Qgc2V0IC8gdHJ1ZSAoZGVmYXVsdClcbiAgICAgICAgKEwuUE0ub3B0SW4gJiYgbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlKTtcbiAgICApO1xuXG4gICAgcmV0dXJuIGxheWVycztcbiAgfSxcbiAgY2lyY2xlVG9Qb2x5Z29uKGNpcmNsZSwgc2lkZXMgPSA2MCwgd2l0aEJlYXJpbmcgPSB0cnVlKSB7XG4gICAgY29uc3Qgb3JpZ2luID0gY2lyY2xlLmdldExhdExuZygpO1xuICAgIGNvbnN0IHJhZGl1cyA9IGNpcmNsZS5nZXRSYWRpdXMoKTtcbiAgICBjb25zdCBwb2x5cyA9IGNyZWF0ZUdlb2Rlc2ljUG9seWdvbihvcmlnaW4sIHJhZGl1cywgc2lkZXMsIDAsIHdpdGhCZWFyaW5nKTsgLy8gdGhlc2UgYXJlIHRoZSBwb2ludHMgdGhhdCBtYWtlIHVwIHRoZSBjaXJjbGVcbiAgICBjb25zdCBwb2x5Z29uID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2x5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBbcG9seXNbaV0ubGF0LCBwb2x5c1tpXS5sbmddO1xuICAgICAgcG9seWdvbi5wdXNoKGdlb21ldHJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIEwucG9seWdvbihwb2x5Z29uLCBjaXJjbGUub3B0aW9ucyk7XG4gIH0sXG4gIGRpc2FibGVQb3B1cChsYXllcikge1xuICAgIGlmIChsYXllci5nZXRQb3B1cCgpKSB7XG4gICAgICBsYXllci5fdGVtcFBvcHVwQ29weSA9IGxheWVyLmdldFBvcHVwKCk7XG4gICAgICBsYXllci51bmJpbmRQb3B1cCgpO1xuICAgIH1cbiAgfSxcbiAgZW5hYmxlUG9wdXAobGF5ZXIpIHtcbiAgICBpZiAobGF5ZXIuX3RlbXBQb3B1cENvcHkpIHtcbiAgICAgIGxheWVyLmJpbmRQb3B1cChsYXllci5fdGVtcFBvcHVwQ29weSk7XG4gICAgICBkZWxldGUgbGF5ZXIuX3RlbXBQb3B1cENvcHk7XG4gICAgfVxuICB9LFxuICBfZmlyZUV2ZW50KGxheWVyLCB0eXBlLCBkYXRhLCBwcm9wYWdhdGUgPSBmYWxzZSkge1xuICAgIGxheWVyLmZpcmUodHlwZSwgZGF0YSwgcHJvcGFnYXRlKTtcblxuICAgIC8vIGZpcmUgZXZlbnQgdG8gYWxsIHBhcmVudCBsYXllcnNcbiAgICBjb25zdCB7IGdyb3VwcyB9ID0gdGhpcy5nZXRBbGxQYXJlbnRHcm91cHMobGF5ZXIpO1xuICAgIGdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT4ge1xuICAgICAgZ3JvdXAuZmlyZSh0eXBlLCBkYXRhLCBwcm9wYWdhdGUpO1xuICAgIH0pO1xuICB9LFxuICBnZXRBbGxQYXJlbnRHcm91cHMobGF5ZXIpIHtcbiAgICBjb25zdCBncm91cElkcyA9IFtdO1xuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuXG4gICAgLy8gZ2V0IGV2ZXJ5IGdyb3VwIGxheWVyIG9uY2VcbiAgICBjb25zdCBsb29wVGhyb3VnaFBhcmVudHMgPSAoX2xheWVyKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IF9pZCBpbiBfbGF5ZXIuX2V2ZW50UGFyZW50cykge1xuICAgICAgICBpZiAoZ3JvdXBJZHMuaW5kZXhPZihfaWQpID09PSAtMSkge1xuICAgICAgICAgIGdyb3VwSWRzLnB1c2goX2lkKTtcbiAgICAgICAgICBjb25zdCBncm91cCA9IF9sYXllci5fZXZlbnRQYXJlbnRzW19pZF07XG4gICAgICAgICAgZ3JvdXBzLnB1c2goZ3JvdXApO1xuICAgICAgICAgIGxvb3BUaHJvdWdoUGFyZW50cyhncm91cCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gY2hlY2sgaWYgdGhlIGxhc3QgZ3JvdXAgZmV0Y2ggaXMgdW5kZXIgMSBzZWMsIHRoZW4gd2UgdXNlIHRoZSBncm91cHMgZnJvbSBiZWZvcmVcbiAgICBpZiAoXG4gICAgICAhbGF5ZXIuX3BtTGFzdEdyb3VwRmV0Y2ggfHxcbiAgICAgICFsYXllci5fcG1MYXN0R3JvdXBGZXRjaC50aW1lIHx8XG4gICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxheWVyLl9wbUxhc3RHcm91cEZldGNoLnRpbWUgPiAxMDAwXG4gICAgKSB7XG4gICAgICBsb29wVGhyb3VnaFBhcmVudHMobGF5ZXIpO1xuICAgICAgbGF5ZXIuX3BtTGFzdEdyb3VwRmV0Y2ggPSB7XG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICBncm91cHMsXG4gICAgICAgIGdyb3VwSWRzLFxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdyb3VwSWRzLFxuICAgICAgICBncm91cHMsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZ3JvdXBzOiBsYXllci5fcG1MYXN0R3JvdXBGZXRjaC5ncm91cHMsXG4gICAgICBncm91cElkczogbGF5ZXIuX3BtTGFzdEdyb3VwRmV0Y2guZ3JvdXBJZHMsXG4gICAgfTtcbiAgfSxcbiAgY3JlYXRlR2VvZGVzaWNQb2x5Z29uLFxuICBnZXRUcmFuc2xhdGlvbixcbiAgZmluZERlZXBDb29yZEluZGV4KGFyciwgbGF0bG5nLCBleGFjdCA9IHRydWUpIHtcbiAgICAvLyBmaW5kIGxhdGxuZyBpbiBhcnIgYW5kIHJldHVybiBpdHMgbG9jYXRpb24gYXMgcGF0aFxuICAgIC8vIHRoYW5rcyBmb3IgdGhlIGZ1bmN0aW9uLCBGZWxpeCBIZWNrXG4gICAgbGV0IHJlc3VsdDtcblxuICAgIGNvbnN0IHJ1biA9IChwYXRoKSA9PiAodiwgaSkgPT4ge1xuICAgICAgY29uc3QgaVJlcyA9IHBhdGguY29uY2F0KGkpO1xuXG4gICAgICBpZiAoZXhhY3QpIHtcbiAgICAgICAgaWYgKHYubGF0ICYmIHYubGF0ID09PSBsYXRsbmcubGF0ICYmIHYubG5nID09PSBsYXRsbmcubG5nKSB7XG4gICAgICAgICAgcmVzdWx0ID0gaVJlcztcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2LmxhdCAmJiBMLmxhdExuZyh2KS5lcXVhbHMobGF0bG5nKSkge1xuICAgICAgICByZXN1bHQgPSBpUmVzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodikgJiYgdi5zb21lKHJ1bihpUmVzKSk7XG4gICAgfTtcbiAgICBhcnIuc29tZShydW4oW10pKTtcblxuICAgIGxldCByZXR1cm5WYWwgPSB7fTtcblxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHJldHVyblZhbCA9IHtcbiAgICAgICAgaW5kZXhQYXRoOiByZXN1bHQsXG4gICAgICAgIGluZGV4OiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLFxuICAgICAgICBwYXJlbnRQYXRoOiByZXN1bHQuc2xpY2UoMCwgcmVzdWx0Lmxlbmd0aCAtIDEpLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsO1xuICB9LFxuICBmaW5kRGVlcE1hcmtlckluZGV4KGFyciwgbWFya2VyKSB7XG4gICAgLy8gdGhhbmtzIGZvciB0aGUgZnVuY3Rpb24sIEZlbGl4IEhlY2tcbiAgICBsZXQgcmVzdWx0O1xuXG4gICAgY29uc3QgcnVuID0gKHBhdGgpID0+ICh2LCBpKSA9PiB7XG4gICAgICBjb25zdCBpUmVzID0gcGF0aC5jb25jYXQoaSk7XG5cbiAgICAgIGlmICh2Ll9sZWFmbGV0X2lkID09PSBtYXJrZXIuX2xlYWZsZXRfaWQpIHtcbiAgICAgICAgcmVzdWx0ID0gaVJlcztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHYpICYmIHYuc29tZShydW4oaVJlcykpO1xuICAgIH07XG4gICAgYXJyLnNvbWUocnVuKFtdKSk7XG5cbiAgICBsZXQgcmV0dXJuVmFsID0ge307XG5cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICByZXR1cm5WYWwgPSB7XG4gICAgICAgIGluZGV4UGF0aDogcmVzdWx0LFxuICAgICAgICBpbmRleDogcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSxcbiAgICAgICAgcGFyZW50UGF0aDogcmVzdWx0LnNsaWNlKDAsIHJlc3VsdC5sZW5ndGggLSAxKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldHVyblZhbDtcbiAgfSxcbiAgX2dldEluZGV4RnJvbVNlZ21lbnQoY29vcmRzLCBzZWdtZW50KSB7XG4gICAgaWYgKHNlZ21lbnQgJiYgc2VnbWVudC5sZW5ndGggPT09IDIpIHtcbiAgICAgIGNvbnN0IGluZGV4QSA9IHRoaXMuZmluZERlZXBDb29yZEluZGV4KGNvb3Jkcywgc2VnbWVudFswXSk7XG4gICAgICBjb25zdCBpbmRleEIgPSB0aGlzLmZpbmREZWVwQ29vcmRJbmRleChjb29yZHMsIHNlZ21lbnRbMV0pO1xuICAgICAgbGV0IG5ld0luZGV4ID0gTWF0aC5tYXgoaW5kZXhBLmluZGV4LCBpbmRleEIuaW5kZXgpO1xuICAgICAgaWYgKChpbmRleEEuaW5kZXggPT09IDAgfHwgaW5kZXhCLmluZGV4ID09PSAwKSAmJiBuZXdJbmRleCAhPT0gMSkge1xuICAgICAgICBuZXdJbmRleCArPSAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXhBLFxuICAgICAgICBpbmRleEIsXG4gICAgICAgIG5ld0luZGV4LFxuICAgICAgICBpbmRleFBhdGg6IGluZGV4QS5pbmRleFBhdGgsXG4gICAgICAgIHBhcmVudFBhdGg6IGluZGV4QS5wYXJlbnRQYXRoLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIC8vIFJldHVybnMgdGhlIGNvcm5lcnMgb2YgdGhlIHJlY3RhbmdsZSB3aXRoIGEgZ2l2ZW4gcm90YXRpb25cbiAgLy8gZGVncmVlczogQmV0d2VlbiBtYXJrZXIgQSBhbmQgdGhlIG1hcmtlciBjb3VudGVyY2xvY2t3aXNlIGJlZm9yZS4gU2FtZSBmb3IgbWFya2VyIEJcbiAgX2dldFJvdGF0ZWRSZWN0YW5nbGUoQSwgQiwgcm90YXRpb24sIG1hcCkge1xuICAgIGNvbnN0IHN0YXJ0UG9pbnQgPSBfdG9Qb2ludChtYXAsIEEpO1xuICAgIGNvbnN0IGVuZFBvaW50ID0gX3RvUG9pbnQobWFwLCBCKTtcbiAgICBjb25zdCB0aGV0YSA9IChyb3RhdGlvbiAqIE1hdGguUEkpIC8gMTgwO1xuICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKHRoZXRhKTtcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbih0aGV0YSk7XG5cbiAgICBjb25zdCB3aWR0aCA9XG4gICAgICAoZW5kUG9pbnQueCAtIHN0YXJ0UG9pbnQueCkgKiBjb3MgKyAoZW5kUG9pbnQueSAtIHN0YXJ0UG9pbnQueSkgKiBzaW47XG4gICAgY29uc3QgaGVpZ2h0ID1cbiAgICAgIChlbmRQb2ludC55IC0gc3RhcnRQb2ludC55KSAqIGNvcyAtIChlbmRQb2ludC54IC0gc3RhcnRQb2ludC54KSAqIHNpbjtcbiAgICBjb25zdCB4MCA9IHdpZHRoICogY29zICsgc3RhcnRQb2ludC54O1xuICAgIGNvbnN0IHkwID0gd2lkdGggKiBzaW4gKyBzdGFydFBvaW50Lnk7XG4gICAgY29uc3QgeDEgPSAtaGVpZ2h0ICogc2luICsgc3RhcnRQb2ludC54O1xuICAgIGNvbnN0IHkxID0gaGVpZ2h0ICogY29zICsgc3RhcnRQb2ludC55O1xuXG4gICAgY29uc3QgcDAgPSBfdG9MYXRMbmcobWFwLCBzdGFydFBvaW50KTtcbiAgICBjb25zdCBwMSA9IF90b0xhdExuZyhtYXAsIHsgeDogeDAsIHk6IHkwIH0pO1xuICAgIGNvbnN0IHAyID0gX3RvTGF0TG5nKG1hcCwgZW5kUG9pbnQpO1xuICAgIGNvbnN0IHAzID0gX3RvTGF0TG5nKG1hcCwgeyB4OiB4MSwgeTogeTEgfSk7XG4gICAgcmV0dXJuIFtwMCwgcDEsIHAyLCBwM107XG4gIH0sXG4gIHB4UmFkaXVzVG9NZXRlclJhZGl1cyhyYWRpdXNJblB4LCBtYXAsIGNlbnRlcikge1xuICAgIGNvbnN0IHBvaW50QSA9IG1hcC5wcm9qZWN0KGNlbnRlcik7XG4gICAgY29uc3QgcG9pbnRCID0gTC5wb2ludChwb2ludEEueCArIHJhZGl1c0luUHgsIHBvaW50QS55KTtcbiAgICByZXR1cm4gbWFwLmRpc3RhbmNlKG1hcC51bnByb2plY3QocG9pbnRCKSwgY2VudGVyKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFV0aWxzO1xuIiwgIi8qIEEgTGVhZmxldCBQbHVnaW4gRm9yIEVkaXRpbmcgR2VvbWV0cnkgTGF5ZXJzIGluIExlYWZsZXQgMS4wXG4gKiBDb3B5cmlnaHQgKEMpIEdlb21hbi5pbyBhbmQgU3VtaXQgS3VtYXIgLSBBbGwgUmlnaHRzIFJlc2VydmVkXG4gKiBVbmF1dGhvcml6ZWQgY29weWluZyBvZiB0aGlzIGZpbGUsIHZpYSBhbnkgbWVkaXVtIGlzIHN0cmljdGx5IHByb2hpYml0ZWRcbiAqIFByb3ByaWV0YXJ5IGFuZCBjb25maWRlbnRpYWxcbiAqIFdyaXR0ZW4gYnkgU3VtaXQgS3VtYXIgPHN1bWl0QGdlb21hbi5pbz4sIEphbnVhcnkgMjAyMFxuICogVHdpdHRlcjogQFR3ZWV0c09mU3VtaXRcbiAqIE9TUyBSZXBvOiBodHRwczovL2dpdGh1Yi5jb20vZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuXG4gKiBHZXQgUHJvOiBodHRwczovL2dlb21hbi5pb1xuICovXG5cbmltcG9ydCAnLi9wb2x5ZmlsbHMnO1xuaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gJy4uLy4uL3BhY2thZ2UuanNvbic7XG5cbmltcG9ydCBNYXAgZnJvbSAnLi9MLlBNLk1hcCc7XG5pbXBvcnQgVG9vbGJhciBmcm9tICcuL1Rvb2xiYXIvTC5QTS5Ub29sYmFyJztcblxuaW1wb3J0IERyYXcgZnJvbSAnLi9EcmF3L0wuUE0uRHJhdyc7XG5pbXBvcnQgJy4vRHJhdy9MLlBNLkRyYXcuTWFya2VyJztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5MaW5lJztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5Qb2x5Z29uJztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5SZWN0YW5nbGUnO1xuaW1wb3J0ICcuL0RyYXcvTC5QTS5EcmF3LkNpcmNsZU1hcmtlcic7XG5pbXBvcnQgJy4vRHJhdy9MLlBNLkRyYXcuQ2lyY2xlJztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5DdXQnO1xuaW1wb3J0ICcuL0RyYXcvTC5QTS5EcmF3LlRleHQnO1xuXG5pbXBvcnQgRWRpdCBmcm9tICcuL0VkaXQvTC5QTS5FZGl0JztcbmltcG9ydCAnLi9FZGl0L0wuUE0uRWRpdC5MYXllckdyb3VwJztcbmltcG9ydCAnLi9FZGl0L0wuUE0uRWRpdC5NYXJrZXInO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LkxpbmUnO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LlBvbHlnb24nO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LlJlY3RhbmdsZSc7XG5pbXBvcnQgJy4vRWRpdC9MLlBNLkVkaXQuQ2lyY2xlTWFya2VyJztcbmltcG9ydCAnLi9FZGl0L0wuUE0uRWRpdC5DaXJjbGUnO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LkltYWdlT3ZlcmxheSc7XG5pbXBvcnQgJy4vRWRpdC9MLlBNLkVkaXQuVGV4dCc7XG5cbmltcG9ydCAnLi4vY3NzL2xheWVycy5jc3MnO1xuaW1wb3J0ICcuLi9jc3MvY29udHJvbHMuY3NzJztcblxuaW1wb3J0IE1hdHJpeCBmcm9tICcuL2hlbHBlcnMvTWF0cml4JztcblxuaW1wb3J0IFV0aWxzIGZyb20gJy4vTC5QTS5VdGlscyc7XG5cbkwuUE0gPSBMLlBNIHx8IHtcbiAgdmVyc2lvbjogcGFja2FnZUluZm8udmVyc2lvbixcbiAgTWFwLFxuICBUb29sYmFyLFxuICBEcmF3LFxuICBFZGl0LFxuICBVdGlscyxcbiAgTWF0cml4LFxuICBhY3RpdmVMYW5nOiAnZW4nLFxuICBvcHRJbjogZmFsc2UsXG4gIGluaXRpYWxpemUob3B0aW9ucykge1xuICAgIHRoaXMuYWRkSW5pdEhvb2tzKG9wdGlvbnMpO1xuICB9LFxuICBzZXRPcHRJbih2YWx1ZSkge1xuICAgIHRoaXMub3B0SW4gPSAhIXZhbHVlO1xuICB9LFxuICBhZGRJbml0SG9va3MoKSB7XG4gICAgZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgICAgIHRoaXMucG0gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChMLlBNLm9wdEluKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLk1hcCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5NYXAodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBtKSB7XG4gICAgICAgIHRoaXMucG0uc2V0R2xvYmFsT3B0aW9ucyh7fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5NYXAuYWRkSW5pdEhvb2soaW5pdE1hcCk7XG5cbiAgICBmdW5jdGlvbiBpbml0TGF5ZXJHcm91cCgpIHtcbiAgICAgIHRoaXMucG0gPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoTC5QTS5vcHRJbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LkxheWVyR3JvdXAodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5MYXllckdyb3VwKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIEwuTGF5ZXJHcm91cC5hZGRJbml0SG9vayhpbml0TGF5ZXJHcm91cCk7XG5cbiAgICBmdW5jdGlvbiBpbml0TWFya2VyKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRleHRNYXJrZXIpIHtcbiAgICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LlRleHQodGhpcyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5fdGV4dE1hcmtlck92ZXJQTSkge1xuICAgICAgICAgICAgICB0aGlzLnBtLl9pbml0VGV4dE1hcmtlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy5fdGV4dE1hcmtlck92ZXJQTTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuTWFya2VyKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dE1hcmtlcikge1xuICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LlRleHQodGhpcyk7XG4gICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuX3RleHRNYXJrZXJPdmVyUE0pIHtcbiAgICAgICAgICAgIHRoaXMucG0uX2luaXRUZXh0TWFya2VyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMuX3RleHRNYXJrZXJPdmVyUE07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuTWFya2VyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIEwuTWFya2VyLmFkZEluaXRIb29rKGluaXRNYXJrZXIpO1xuXG4gICAgZnVuY3Rpb24gaW5pdENpcmNsZU1hcmtlcigpIHtcbiAgICAgIHRoaXMucG0gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChMLlBNLm9wdEluKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuQ2lyY2xlTWFya2VyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMucG1JZ25vcmUpIHtcbiAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuQ2lyY2xlTWFya2VyKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICBMLkNpcmNsZU1hcmtlci5hZGRJbml0SG9vayhpbml0Q2lyY2xlTWFya2VyKTtcblxuICAgIGZ1bmN0aW9uIGluaXRQb2x5bGluZSgpIHtcbiAgICAgIHRoaXMucG0gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChMLlBNLm9wdEluKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuTGluZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LkxpbmUodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5Qb2x5bGluZS5hZGRJbml0SG9vayhpbml0UG9seWxpbmUpO1xuXG4gICAgZnVuY3Rpb24gaW5pdFBvbHlnb24oKSB7XG4gICAgICB0aGlzLnBtID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoTC5QTS5vcHRJbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LlBvbHlnb24odGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5Qb2x5Z29uKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIEwuUG9seWdvbi5hZGRJbml0SG9vayhpbml0UG9seWdvbik7XG5cbiAgICBmdW5jdGlvbiBpbml0UmVjdGFuZ2xlKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5SZWN0YW5nbGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5SZWN0YW5nbGUodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5SZWN0YW5nbGUuYWRkSW5pdEhvb2soaW5pdFJlY3RhbmdsZSk7XG5cbiAgICBmdW5jdGlvbiBpbml0Q2lyY2xlKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5DaXJjbGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5DaXJjbGUodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5DaXJjbGUuYWRkSW5pdEhvb2soaW5pdENpcmNsZSk7XG5cbiAgICBmdW5jdGlvbiBpbml0SW1hZ2VPdmVybGF5KCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5JbWFnZU92ZXJsYXkodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5JbWFnZU92ZXJsYXkodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5JbWFnZU92ZXJsYXkuYWRkSW5pdEhvb2soaW5pdEltYWdlT3ZlcmxheSk7XG4gIH0sXG4gIHJlSW5pdExheWVyKGxheWVyKSB7XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICBsYXllci5lYWNoTGF5ZXIoKF9sYXllcikgPT4ge1xuICAgICAgICB0aGlzLnJlSW5pdExheWVyKF9sYXllcik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGxheWVyLnBtKSB7XG4gICAgICAvLyBQTSBpcyBhbHJlYWR5IGFkZGVkIHRvIHRoZSBsYXllclxuICAgIH0gZWxzZSBpZiAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlICE9PSBmYWxzZSkge1xuICAgICAgLy8gT3B0LUluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBmYWxzZVxuICAgIH0gZWxzZSBpZiAobGF5ZXIub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgLy8gcG1JZ25vcmUgaXMgdHJ1ZVxuICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLk1hcCkge1xuICAgICAgbGF5ZXIucG0gPSBuZXcgTC5QTS5NYXAobGF5ZXIpO1xuICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlcikge1xuICAgICAgaWYgKGxheWVyLm9wdGlvbnMudGV4dE1hcmtlcikge1xuICAgICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuVGV4dChsYXllcik7XG4gICAgICAgIGxheWVyLnBtLl9pbml0VGV4dE1hcmtlcigpO1xuICAgICAgICBsYXllci5wbS5fY3JlYXRlVGV4dE1hcmtlcihmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuTWFya2VyKGxheWVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGUpIHtcbiAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5DaXJjbGUobGF5ZXIpO1xuICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlcikge1xuICAgICAgbGF5ZXIucG0gPSBuZXcgTC5QTS5FZGl0LkNpcmNsZU1hcmtlcihsYXllcik7XG4gICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuUmVjdGFuZ2xlKSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuUmVjdGFuZ2xlKGxheWVyKTtcbiAgICB9IGVsc2UgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5Z29uKSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuUG9seWdvbihsYXllcik7XG4gICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuUG9seWxpbmUpIHtcbiAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5MaW5lKGxheWVyKTtcbiAgICB9IGVsc2UgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuTGF5ZXJHcm91cChsYXllcik7XG4gICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuSW1hZ2VPdmVybGF5KSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuSW1hZ2VPdmVybGF5KGxheWVyKTtcbiAgICB9XG4gIH0sXG59O1xuXG5pZiAoTC52ZXJzaW9uID09PSAnMS43LjEnKSB7XG4gIC8vIENhbnZhcyBNb2RlOiBBZnRlciBkcmFnZ2luZyB0aGUgbWFwIHRoZSB0YXJnZXQgbGF5ZXIgY2FuJ3QgYmUgZHJhZ2dlZCBhbnltb3JlIHVudGlsIGl0IGlzIGNsaWNrZWRcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvNzc3NSBhIGZpeCBpcyBhbHJlYWR5IG1lcmdlZCBmb3IgdGhlIExlYWZsZXQgMS44LjAgdmVyc2lvblxuICBMLkNhbnZhcy5pbmNsdWRlKHtcbiAgICBfb25DbGljayhlKSB7XG4gICAgICBjb25zdCBwb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9MYXllclBvaW50KGUpO1xuICAgICAgbGV0IGxheWVyO1xuICAgICAgbGV0IGNsaWNrZWRMYXllcjtcblxuICAgICAgZm9yIChsZXQgb3JkZXIgPSB0aGlzLl9kcmF3Rmlyc3Q7IG9yZGVyOyBvcmRlciA9IG9yZGVyLm5leHQpIHtcbiAgICAgICAgbGF5ZXIgPSBvcmRlci5sYXllcjtcbiAgICAgICAgaWYgKGxheWVyLm9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgbGF5ZXIuX2NvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgLy8gY2hhbmdpbmcgZS50eXBlICE9PSAncHJlY2xpY2snIHRvIGUudHlwZSA9PT0gJ3ByZWNsaWNrJyBmaXggdGhlIGlzc3VlXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIShlLnR5cGUgPT09ICdjbGljaycgfHwgZS50eXBlID09PSAncHJlY2xpY2snKSB8fFxuICAgICAgICAgICAgIXRoaXMuX21hcC5fZHJhZ2dhYmxlTW92ZWQobGF5ZXIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjbGlja2VkTGF5ZXIgPSBsYXllcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjbGlja2VkTGF5ZXIpIHtcbiAgICAgICAgTC5Eb21FdmVudC5mYWtlU3RvcChlKTtcbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50KFtjbGlja2VkTGF5ZXJdLCBlKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cblxuLy8gaW5pdGlhbGl6ZSBsZWFmbGV0LWdlb21hblxuTC5QTS5pbml0aWFsaXplKCk7XG4iLCAiTC5QaG90b25CYXNlID0gTC5DbGFzcy5leHRlbmQoe1xuXG4gICAgZm9yRWFjaDogZnVuY3Rpb24gKGVscywgY2FsbGJhY2spIHtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbHMsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgYWpheDogZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy54aHIub3BlbignR0VUJywgdGhpcy5vcHRpb25zLnVybCArIHRoaXMuYnVpbGRRdWVyeVN0cmluZyh0aGlzLmdldFBhcmFtcygpKSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy54aHIub25sb2FkID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgc2VsZi5maXJlKCdhamF4OnJldHVybicpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhdyA9IHRoaXMucmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHJhdyA9IEpTT04ucGFyc2UocmF3KTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzb2JqIHx8IHRoaXMsIHJhdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMueGhyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZmlyZSgnYWpheDpzZW5kJyk7XG4gICAgICAgIHRoaXMueGhyLnNlbmQoKTtcbiAgICB9LFxuXG4gICAgYnVpbGRRdWVyeVN0cmluZzogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBbXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHBhcmFtc1trZXldKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba2V5XSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdWVyeVN0cmluZy5qb2luKCcmJyk7XG4gICAgfSxcblxuICAgIGZlYXR1cmVUb1BvcHVwQ29udGVudDogZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LXBob3Rvbi1wb3B1cCcpLFxuICAgICAgICAgICAgdGl0bGUgPSBMLkRvbVV0aWwuY3JlYXRlKCdoMycsICcnLCBjb250YWluZXIpO1xuICAgICAgICB0aXRsZS5pbm5lckhUTUwgPSBmZWF0dXJlLnByb3BlcnRpZXMubGFiZWw7XG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG59KTtcblxuXG5MLlBob3RvbkJhc2VTZWFyY2ggPSBMLlBob3RvbkJhc2UuZXh0ZW5kKHtcblxuICAgIGluY2x1ZGVzOiAoKHR5cGVvZiBMLkV2ZW50ZWQgIT09ICd1bmRlZmluZWQnICYmIEwuRXZlbnRlZC5wcm90b3R5cGUpIHx8IEwuTWl4aW4uRXZlbnRzKSxcblxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9waG90b24ua29tb290LmlvL2FwaS8/JyxcbiAgICAgICAgcGxhY2Vob2xkZXI6ICdTdGFydCB0eXBpbmcuLi4nLFxuICAgICAgICBtaW5DaGFyOiAzLFxuICAgICAgICBsaW1pdDogNSxcbiAgICAgICAgc3VibWl0RGVsYXk6IDMwMCxcbiAgICAgICAgaW5jbHVkZVBvc2l0aW9uOiB0cnVlLFxuICAgICAgICBiYm94OiBudWxsLFxuICAgICAgICBub1Jlc3VsdExhYmVsOiAnTm8gcmVzdWx0JyxcbiAgICAgICAgZmVlZGJhY2tFbWFpbDogJ3Bob3RvbkBrb21vb3QuZGUnLCAgLy8gU2V0IHRvIG51bGwgdG8gcmVtb3ZlIGZlZWRiYWNrIGJveFxuICAgICAgICBmZWVkYmFja0xhYmVsOiAnRmVlZGJhY2snXG4gICAgfSxcblxuICAgIENBQ0hFOiAnJyxcbiAgICBSRVNVTFRTOiBbXSxcbiAgICBLRVlTOiB7XG4gICAgICAgIExFRlQ6IDM3LFxuICAgICAgICBVUDogMzgsXG4gICAgICAgIFJJR0hUOiAzOSxcbiAgICAgICAgRE9XTjogNDAsXG4gICAgICAgIFRBQjogOSxcbiAgICAgICAgUkVUVVJOOiAxMyxcbiAgICAgICAgRVNDOiAyNyxcbiAgICAgICAgQVBQTEU6IDkxLFxuICAgICAgICBTSElGVDogMTYsXG4gICAgICAgIEFMVDogMTcsXG4gICAgICAgIENUUkw6IDE4XG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIENVUlJFTlQgPSBudWxsO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ0NVUlJFTlQnLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDVVJSRU5UO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5yZXN1bHRUb0luZGV4KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBDVVJSRU5UID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIEhlbGxvIElFOFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5wdXQudHlwZSA9IEwuQnJvd3Nlci5pZSA/ICd0ZXh0JyA6ICdzZWFyY2gnO1xuICAgICAgICB0aGlzLmlucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyO1xuICAgICAgICB0aGlzLmlucHV0LmF1dG9jb21wbGV0ZSA9ICdvZmYnO1xuICAgICAgICB0aGlzLmlucHV0LmF1dG9jb3JyZWN0ID0gJ29mZic7XG4gICAgICAgIEwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odGhpcy5pbnB1dCk7XG5cbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLmlucHV0LCAna2V5ZG93bicsIHRoaXMub25LZXlEb3duLCB0aGlzKTtcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLmlucHV0LCAnaW5wdXQnLCB0aGlzLm9uSW5wdXQsIHRoaXMpO1xuICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuaW5wdXQsICdibHVyJywgdGhpcy5vbkJsdXIsIHRoaXMpO1xuICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuaW5wdXQsICdmb2N1cycsIHRoaXMub25Gb2N1cywgdGhpcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVzdWx0c0NvbnRhaW5lcigpO1xuICAgIH0sXG5cbiAgICBjcmVhdGVSZXN1bHRzQ29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lciA9IHRoaXMub3B0aW9ucy5yZXN1bHRzQ29udGFpbmVyIHx8IEwuRG9tVXRpbC5jcmVhdGUoJ3VsJywgJ3Bob3Rvbi1hdXRvY29tcGxldGUnLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykpO1xuICAgIH0sXG5cbiAgICByZXNpemVDb250YWluZXI6IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBsID0gdGhpcy5nZXRMZWZ0KHRoaXMuaW5wdXQpO1xuICAgICAgICB2YXIgdCA9IHRoaXMuZ2V0VG9wKHRoaXMuaW5wdXQpICsgdGhpcy5pbnB1dC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gbCArICdweCc7XG4gICAgICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lci5zdHlsZS50b3AgPSB0ICsgJ3B4JztcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoID8gdGhpcy5vcHRpb25zLndpZHRoIDogdGhpcy5pbnB1dC5vZmZzZXRXaWR0aCAtIDI7XG4gICAgICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lci5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICB9LFxuXG4gICAgb25LZXlEb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgY2FzZSB0aGlzLktFWVMuVEFCOlxuICAgICAgICAgICAgICAgIGlmKHRoaXMuQ1VSUkVOVCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hvaWNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQuc3RvcChlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdGhpcy5LRVlTLlJFVFVSTjpcbiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50LnN0b3AoZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaG9pY2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdGhpcy5LRVlTLkVTQzpcbiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50LnN0b3AoZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRoaXMuS0VZUy5ET1dOOlxuICAgICAgICAgICAgICAgIGlmKHRoaXMuUkVTVUxUUy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuQ1VSUkVOVCAhPT0gbnVsbCAmJiB0aGlzLkNVUlJFTlQgPCB0aGlzLlJFU1VMVFMubGVuZ3RoIC0gMSkgeyAvLyB3aGF0IGlmIG9uZSByZXN1dGw/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNVUlJFTlQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLkNVUlJFTlQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ1VSUkVOVCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0aGlzLktFWVMuVVA6XG4gICAgICAgICAgICAgICAgaWYodGhpcy5DVVJSRU5UICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQuc3RvcChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy5SRVNVTFRTLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5DVVJSRU5UID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DVVJSRU5ULS07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5DVVJSRU5UID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNVUlJFTlQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvbklucHV0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc3VibWl0RGVsYXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc3VibWl0RGVsYXkpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3VibWl0RGVsYXk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJtaXREZWxheSA9IHdpbmRvdy5zZXRUaW1lb3V0KEwuVXRpbC5iaW5kKHRoaXMuc2VhcmNoLCB0aGlzKSwgdGhpcy5vcHRpb25zLnN1Ym1pdERlbGF5KTtcbiAgICB9LFxuXG4gICAgb25CbHVyOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLmZpcmUoJ2JsdXInKTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuaGlkZSgpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH0sXG5cbiAgICBvbkZvY3VzOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLmZpcmUoJ2ZvY3VzJyk7XG4gICAgICAgIHRoaXMuaW5wdXQuc2VsZWN0KCk7XG4gICAgICAgIHRoaXMuc2VhcmNoKCk7ICAvLyBJbiBjYXNlIHdlIGhhdmUgYSB2YWx1ZSBmcm9tIGEgcHJldmlvdXMgc2VhcmNoLlxuICAgIH0sXG5cbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLlJFU1VMVFMgPSBbXTtcbiAgICAgICAgdGhpcy5DVVJSRU5UID0gbnVsbDtcbiAgICAgICAgdGhpcy5DQUNIRSA9ICcnO1xuICAgICAgICB0aGlzLnJlc3VsdHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgfSxcblxuICAgIGhpZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmZpcmUoJ2hpZGUnKTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLnJlc3VsdHNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9LFxuXG4gICAgc2V0Q2hvaWNlOiBmdW5jdGlvbiAoY2hvaWNlKSB7XG4gICAgICAgIGNob2ljZSA9IGNob2ljZSB8fCB0aGlzLlJFU1VMVFNbdGhpcy5DVVJSRU5UXTtcbiAgICAgICAgaWYgKGNob2ljZSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ3NlbGVjdGVkJywge2Nob2ljZTogY2hvaWNlLmZlYXR1cmV9KTtcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3RlZChjaG9pY2UuZmVhdHVyZSk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2VhcmNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuaW5wdXQudmFsdWU7XG4gICAgICAgIHZhciBtaW5DaGFyID0gdHlwZW9mIHRoaXMub3B0aW9ucy5taW5DaGFyID09PSAnZnVuY3Rpb24nID8gdGhpcy5vcHRpb25zLm1pbkNoYXIodmFsKSA6IHZhbC5sZW5ndGggPj0gdGhpcy5vcHRpb25zLm1pbkNoYXI7XG4gICAgICAgIGlmICghdmFsIHx8ICFtaW5DaGFyKSByZXR1cm4gdGhpcy5jbGVhcigpO1xuICAgICAgICBpZih2YWwgKyAnJyA9PT0gdGhpcy5DQUNIRSArICcnKSByZXR1cm47XG4gICAgICAgIGVsc2UgdGhpcy5DQUNIRSA9IHZhbDtcbiAgICAgICAgdGhpcy5fZG9TZWFyY2goKTtcbiAgICB9LFxuXG4gICAgX2RvU2VhcmNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWpheCh0aGlzLmhhbmRsZVJlc3VsdHMsIHRoaXMpO1xuICAgIH0sXG5cbiAgICBfb25TZWxlY3RlZDogZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICB9LFxuXG4gICAgb25TZWxlY3RlZDogZnVuY3Rpb24gKGNob2ljZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMub3B0aW9ucy5vblNlbGVjdGVkIHx8IHRoaXMuX29uU2VsZWN0ZWQpLmNhbGwodGhpcywgY2hvaWNlKTtcbiAgICB9LFxuXG4gICAgX2Zvcm1hdFJlc3VsdDogZnVuY3Rpb24gKGZlYXR1cmUsIGVsKSB7XG4gICAgICAgIHZhciB0aXRsZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ3N0cm9uZycsICcnLCBlbCksXG4gICAgICAgICAgICBkZXRhaWxzQ29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnc21hbGwnLCAnJywgZWwpLFxuICAgICAgICAgICAgZGV0YWlscyA9IFtdLFxuICAgICAgICAgICAgdHlwZSA9IHRoaXMuZm9ybWF0VHlwZShmZWF0dXJlKTtcbiAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcy5uYW1lKSB7XG4gICAgICAgICAgICB0aXRsZS5pbm5lckhUTUwgPSBmZWF0dXJlLnByb3BlcnRpZXMubmFtZTtcbiAgICAgICAgfSBlbHNlIGlmIChmZWF0dXJlLnByb3BlcnRpZXMuaG91c2VudW1iZXIpIHtcbiAgICAgICAgICAgIHRpdGxlLmlubmVySFRNTCA9IGZlYXR1cmUucHJvcGVydGllcy5ob3VzZW51bWJlcjtcbiAgICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMuc3RyZWV0KSB7XG4gICAgICAgICAgICAgICAgdGl0bGUuaW5uZXJIVE1MICs9ICcgJyArIGZlYXR1cmUucHJvcGVydGllcy5zdHJlZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUpIGRldGFpbHMucHVzaCh0eXBlKTtcbiAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcy5jaXR5ICYmIGZlYXR1cmUucHJvcGVydGllcy5jaXR5ICE9PSBmZWF0dXJlLnByb3BlcnRpZXMubmFtZSkge1xuICAgICAgICAgICAgZGV0YWlscy5wdXNoKGZlYXR1cmUucHJvcGVydGllcy5jaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLmNvdW50cnkpIGRldGFpbHMucHVzaChmZWF0dXJlLnByb3BlcnRpZXMuY291bnRyeSk7XG4gICAgICAgIGRldGFpbHNDb250YWluZXIuaW5uZXJIVE1MID0gZGV0YWlscy5qb2luKCcsICcpO1xuICAgIH0sXG5cbiAgICBmb3JtYXRSZXN1bHQ6IGZ1bmN0aW9uIChmZWF0dXJlLCBlbCkge1xuICAgICAgICByZXR1cm4gKHRoaXMub3B0aW9ucy5mb3JtYXRSZXN1bHQgfHwgdGhpcy5fZm9ybWF0UmVzdWx0KS5jYWxsKHRoaXMsIGZlYXR1cmUsIGVsKTtcbiAgICB9LFxuXG4gICAgZm9ybWF0VHlwZTogZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm9wdGlvbnMuZm9ybWF0VHlwZSB8fCB0aGlzLl9mb3JtYXRUeXBlKS5jYWxsKHRoaXMsIGZlYXR1cmUpO1xuICAgIH0sXG5cbiAgICBfZm9ybWF0VHlwZTogZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmUucHJvcGVydGllcy5vc21fdmFsdWUgPT09ICd5ZXMnXG4gICAgICAgICAgICAgICA/IGZlYXR1cmUucHJvcGVydGllcy5vc21fa2V5XG4gICAgICAgICAgICAgICA6IGZlYXR1cmUucHJvcGVydGllcy5vc21fdmFsdWU7XG4gICAgfSxcblxuICAgIGNyZWF0ZVJlc3VsdDogZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGknLCAnJywgdGhpcy5yZXN1bHRzQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5mb3JtYXRSZXN1bHQoZmVhdHVyZSwgZWwpO1xuICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgZmVhdHVyZTogZmVhdHVyZSxcbiAgICAgICAgICAgIGVsOiBlbFxuICAgICAgICB9O1xuICAgICAgICAvLyBUb3VjaCBoYW5kbGluZyBuZWVkZWRcbiAgICAgICAgTC5Eb21FdmVudC5vbihlbCwgJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB0aGlzLkNVUlJFTlQgPSByZXN1bHQ7XG4gICAgICAgICAgICB0aGlzLmhpZ2hsaWdodCgpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgTC5Eb21FdmVudC5vbihlbCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB0aGlzLnNldENob2ljZSgpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgcmVzdWx0VG9JbmRleDogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mb3JFYWNoKHRoaXMuUkVTVUxUUywgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoaXRlbSA9PT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgb3V0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9LFxuXG4gICAgaGFuZGxlUmVzdWx0czogZnVuY3Rpb24oZ2VvanNvbikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5yZXN1bHRzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB0aGlzLnJlc2l6ZUNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLmZvckVhY2goZ2VvanNvbi5mZWF0dXJlcywgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIHNlbGYuUkVTVUxUUy5wdXNoKHNlbGYuY3JlYXRlUmVzdWx0KGZlYXR1cmUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIG5vcmVzdWx0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGknLCAncGhvdG9uLW5vLXJlc3VsdCcsIHRoaXMucmVzdWx0c0NvbnRhaW5lcik7XG4gICAgICAgICAgICBub3Jlc3VsdC5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbnMubm9SZXN1bHRMYWJlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZlZWRiYWNrRW1haWwpIHtcbiAgICAgICAgICAgIHZhciBmZWVkYmFjayA9IEwuRG9tVXRpbC5jcmVhdGUoJ2EnLCAncGhvdG9uLWZlZWRiYWNrJywgdGhpcy5yZXN1bHRzQ29udGFpbmVyKTtcbiAgICAgICAgICAgIGZlZWRiYWNrLmhyZWYgPSAnbWFpbHRvOicgKyB0aGlzLm9wdGlvbnMuZmVlZGJhY2tFbWFpbDtcbiAgICAgICAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5mZWVkYmFja0xhYmVsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuQ1VSUkVOVCA9IDA7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0KCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVzdWx0c0hhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yZXN1bHRzSGFuZGxlcihnZW9qc29uKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBoaWdobGlnaHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmZvckVhY2godGhpcy5SRVNVTFRTLCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gc2VsZi5DVVJSRU5UKSB7XG4gICAgICAgICAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKGl0ZW0uZWwsICdvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKGl0ZW0uZWwsICdvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgZ2V0TGVmdDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHZhciB0bXAgPSBlbC5vZmZzZXRMZWZ0O1xuICAgICAgICBlbCA9IGVsLm9mZnNldFBhcmVudDtcbiAgICAgICAgd2hpbGUoZWwpIHtcbiAgICAgICAgICAgIHRtcCArPSBlbC5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgZWwgPSBlbC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRtcDtcbiAgICB9LFxuXG4gICAgZ2V0VG9wOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIHRtcCA9IGVsLm9mZnNldFRvcDtcbiAgICAgICAgZWwgPSBlbC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIHdoaWxlKGVsKSB7XG4gICAgICAgICAgICB0bXAgKz0gZWwub2Zmc2V0VG9wO1xuICAgICAgICAgICAgZWwgPSBlbC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRtcDtcbiAgICB9LFxuXG4gICAgZ2V0UGFyYW1zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBxOiB0aGlzLkNBQ0hFLFxuICAgICAgICAgICAgbGFuZzogdGhpcy5vcHRpb25zLmxhbmcsXG4gICAgICAgICAgICBsaW1pdDogdGhpcy5vcHRpb25zLmxpbWl0LFxuICAgICAgICAgICAgb3NtX3RhZzogdGhpcy5vcHRpb25zLm9zbV90YWdcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pO1xuXG5MLlBob3RvblNlYXJjaCA9IEwuUGhvdG9uQmFzZVNlYXJjaC5leHRlbmQoe1xuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcCwgaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIEwuUGhvdG9uQmFzZVNlYXJjaC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGlucHV0LCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgX29uU2VsZWN0ZWQ6IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHRoaXMubWFwLnNldFZpZXcoW2ZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0sIGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1dLCAxNik7XG4gICAgfSxcblxuICAgIGdldFBhcmFtczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFyYW1zID0gTC5QaG90b25CYXNlU2VhcmNoLnByb3RvdHlwZS5nZXRQYXJhbXMuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmNsdWRlUG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBhcmFtcy5sYXQgPSB0aGlzLm1hcC5nZXRDZW50ZXIoKS5sYXQ7XG4gICAgICAgICAgICBwYXJhbXMubG9uID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCkubG5nO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2NhdGlvbl9iaWFzX3NjYWxlKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmxvY2F0aW9uX2JpYXNfc2NhbGUgPSB0aGlzLm9wdGlvbnMubG9jYXRpb25fYmlhc19zY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJib3ggJiYgdGhpcy5vcHRpb25zLmJib3gubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICBwYXJhbXMuYmJveCA9IHRoaXMub3B0aW9ucy5iYm94LmpvaW4oJywnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxufSk7XG5cbkwuQ29udHJvbC5QaG90b24gPSBMLkNvbnRyb2wuZXh0ZW5kKHtcblxuICAgIGluY2x1ZGVzOiAoKHR5cGVvZiBMLkV2ZW50ZWQgIT09ICd1bmRlZmluZWQnICYmIEwuRXZlbnRlZC5wcm90b3R5cGUpIHx8IEwuTWl4aW4uRXZlbnRzKSxcblxuICAgIG9uQWRkOiBmdW5jdGlvbiAobWFwLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LXBob3RvbicpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IEwuVXRpbC5leHRlbmQodGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmlucHV0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnaW5wdXQnLCAncGhvdG9uLWlucHV0JywgdGhpcy5jb250YWluZXIpO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IG5ldyBMLlBob3RvblNlYXJjaChtYXAsIHRoaXMuaW5wdXQsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc2VhcmNoLm9uKCdibHVyJywgdGhpcy5mb3J3YXJkRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLnNlYXJjaC5vbignZm9jdXMnLCB0aGlzLmZvcndhcmRFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuc2VhcmNoLm9uKCdoaWRlJywgdGhpcy5mb3J3YXJkRXZlbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLnNlYXJjaC5vbignc2VsZWN0ZWQnLCB0aGlzLmZvcndhcmRFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuc2VhcmNoLm9uKCdhamF4OnNlbmQnLCB0aGlzLmZvcndhcmRFdmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuc2VhcmNoLm9uKCdhamF4OnJldHVybicsIHRoaXMuZm9yd2FyZEV2ZW50LCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICAgIH0sXG5cbiAgICAvLyBUT0RPIG9uUmVtb3ZlXG5cbiAgICBmb3J3YXJkRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuZmlyZShlLnR5cGUsIGUpO1xuICAgIH1cblxufSk7XG5cbkwuY29udHJvbC5waG90b24gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBMLkNvbnRyb2wuUGhvdG9uKG9wdGlvbnMpO1xufVxuXG5MLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5waG90b25Db250cm9sKSB7XG4gICAgICAgIHRoaXMucGhvdG9uQ29udHJvbCA9IG5ldyBMLkNvbnRyb2wuUGhvdG9uKHRoaXMub3B0aW9ucy5waG90b25Db250cm9sT3B0aW9ucyB8fCB7fSk7XG4gICAgICAgIHRoaXMuYWRkQ29udHJvbCh0aGlzLnBob3RvbkNvbnRyb2wpO1xuICAgIH1cbn0pO1xuXG5MLlBob3RvblJldmVyc2UgPSBMLlBob3RvbkJhc2UuZXh0ZW5kKHtcblxuICAgIGluY2x1ZGVzOiAoKHR5cGVvZiBMLkV2ZW50ZWQgIT09ICd1bmRlZmluZWQnICYmIEwuRXZlbnRlZC5wcm90b3R5cGUpIHx8IEwuTWl4aW4uRXZlbnRzKSxcblxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9waG90b24ua29tb290LmlvL3JldmVyc2UvPycsXG4gICAgICAgIGxpbWl0OiAxLFxuICAgICAgICBoYW5kbGVSZXN1bHRzOiBudWxsXG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgZG9SZXZlcnNlOiBmdW5jdGlvbiAobGF0bG5nKSB7XG4gICAgICAgIGxhdGxuZyA9IEwubGF0TG5nKGxhdGxuZyk7XG4gICAgICAgIHRoaXMuZmlyZSgncmV2ZXJzZScsIHtsYXRsbmc6IGxhdGxuZ30pO1xuICAgICAgICB0aGlzLmxhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgdGhpcy5hamF4KHRoaXMuaGFuZGxlUmVzdWx0cywgdGhpcyk7XG4gICAgfSxcblxuICAgIF9oYW5kbGVSZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvKmVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIC8qZXNsaW50LWVuYWJsZSBuby1hbGVydCAqL1xuICAgIH0sXG5cbiAgICBoYW5kbGVSZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gKHRoaXMub3B0aW9ucy5oYW5kbGVSZXN1bHRzIHx8IHRoaXMuX2hhbmRsZVJlc3VsdHMpLmNhbGwodGhpcywgZGF0YSk7XG4gICAgfSxcblxuICAgIGdldFBhcmFtczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFuZzogdGhpcy5vcHRpb25zLmxhbmcsXG4gICAgICAgICAgICBsaW1pdDogdGhpcy5vcHRpb25zLmxpbWl0LFxuICAgICAgICAgICAgbGF0OiB0aGlzLmxhdGxuZy5sYXQsXG4gICAgICAgICAgICBsb246IHRoaXMubGF0bG5nLmxuZyxcbiAgICAgICAgICAgIG9zbV90YWc6IHRoaXMub3B0aW9ucy5vc21fdGFnXG4gICAgICAgIH07XG4gICAgfVxuXG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFPLGVBQVMsT0FBTyxNQUFNO0FBQzVCLFlBQUksR0FBRyxHQUFHLEtBQUs7QUFFZixhQUFLLElBQUksR0FBRyxNQUFNLFVBQVUsUUFBUSxJQUFJLEtBQUssS0FBSztBQUNqRCxnQkFBTSxVQUFV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QSxRQUMvQztBQUFBLE1BQ0o7QUFBQSxNQUVBLFlBQVksV0FBVztBQUNuQixhQUFLLElBQUksTUFBTSxLQUFLLGVBQWUsQ0FBQztBQUNwQyxhQUFLLGFBQWE7QUFBQSxNQUN0QjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBRUEsU0FBTyxZQUFZO0FBRW5CLFNBQU8sY0FBYyxJQUFJLFlBQVksbUJBQW1CLENBQUM7QUFDN0QsQ0FBQzsiLAogICJuYW1lcyI6IFsiY3JlYXRlIiwgInN0ciIsICJVdGlsLnNldE9wdGlvbnMiLCAiVXRpbC5jcmVhdGUiLCAiVXRpbC5leHRlbmQiLCAiaSIsICJVdGlsLmlzQXJyYXkiLCAiVXRpbC5zcGxpdFdvcmRzIiwgIlV0aWwuZmFsc2VGbiIsICJpbmRleCIsICJVdGlsLnN0YW1wIiwgIkxhdExuZyIsICJVdGlsLmZvcm1hdE51bSIsICJ6b29tIiwgInNjYWxlIiwgIlV0aWwud3JhcE51bSIsICJjYW52YXMiLCAic3ZnIiwgIkRvbUV2ZW50LnByZXZlbnREZWZhdWx0IiwgIkRvbUV2ZW50LmdldFByb3BhZ2F0aW9uUGF0aCIsICJzdHlsZSIsICJVdGlsLnRyaW0iLCAiRG9tRXZlbnQub24iLCAiRG9tRXZlbnQub2ZmIiwgInR5cGUiLCAiVXRpbC5pbmRleE9mIiwgIkRvbVV0aWwuZ2V0UG9zaXRpb24iLCAiVXRpbC5yZXF1ZXN0QW5pbUZyYW1lIiwgIkRvbVV0aWwuc2V0UG9zaXRpb24iLCAiVXRpbC5jYW5jZWxBbmltRnJhbWUiLCAiTWFwIiwgIlV0aWwuYmluZCIsICJEb21VdGlsLlRSQU5TSVRJT04iLCAiRG9tVXRpbC5UUkFOU0lUSU9OX0VORCIsICJEb21VdGlsLmFkZENsYXNzIiwgIkRvbVV0aWwucmVtb3ZlIiwgIkRvbVV0aWwuY3JlYXRlIiwgIkRvbUV2ZW50LmdldE1vdXNlUG9zaXRpb24iLCAiRG9tVXRpbC5nZXQiLCAiRG9tVXRpbC5nZXRTdHlsZSIsICJyZW1vdmUiLCAiRG9tRXZlbnQuaXNFeHRlcm5hbFRhcmdldCIsICJEb21VdGlsLnByZXZlbnRPdXRsaW5lIiwgImxhdExuZ0JvdW5kcyIsICJEb21VdGlsLnJlbW92ZUNsYXNzIiwgIkRvbVV0aWwuVFJBTlNGT1JNIiwgIkRvbVV0aWwuc2V0VHJhbnNmb3JtIiwgIm1hcCIsICJjb250cm9sIiwgIkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uIiwgIkRvbUV2ZW50LmRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbiIsICJEb21VdGlsLmVtcHR5IiwgIkRvbUV2ZW50LnN0b3AiLCAicHJldmVudE91dGxpbmUiLCAiRG9tVXRpbC5oYXNDbGFzcyIsICJEb21VdGlsLmRpc2FibGVJbWFnZURyYWciLCAiRG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbiIsICJEb21VdGlsLmdldFNpemVkUGFyZW50Tm9kZSIsICJEb21VdGlsLmdldFNjYWxlIiwgIkRvbVV0aWwuZW5hYmxlSW1hZ2VEcmFnIiwgIkRvbVV0aWwuZW5hYmxlVGV4dFNlbGVjdGlvbiIsICJlZGdlIiwgIkxpbmVVdGlsLl9nZXRCaXRDb2RlIiwgIkxpbmVVdGlsLl9nZXRFZGdlSW50ZXJzZWN0aW9uIiwgIkxpbmVVdGlsLmlzRmxhdCIsICJsYXllcnMiLCAiRmVhdHVyZUdyb3VwIiwgInBvaW50IiwgIm1hcmtlciIsICJpY29uIiwgImxhdExuZyIsICJEb21VdGlsLnNldE9wYWNpdHkiLCAiY2lyY2xlTWFya2VyIiwgImNpcmNsZSIsICJMaW5lVXRpbC5fc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQiLCAiTGluZVV0aWwucG9seWxpbmVDZW50ZXIiLCAiTGluZVV0aWwuY2xpcFNlZ21lbnQiLCAiTGluZVV0aWwuc2ltcGxpZnkiLCAiTGluZVV0aWwucG9pbnRUb1NlZ21lbnREaXN0YW5jZSIsICJMaW5lVXRpbC5fZmxhdCIsICJQb2x5VXRpbC5wb2x5Z29uQ2VudGVyIiwgIlBvbHlVdGlsLmNsaXBQb2x5Z29uIiwgImdlb0pTT04iLCAiRG9tVXRpbC50b0Zyb250IiwgIkRvbVV0aWwudG9CYWNrIiwgIkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbiIsICJwb3B1cCIsICJ0b29sdGlwIiwgImRpdkljb24iLCAiVXRpbC50aHJvdHRsZSIsICJVdGlsLnRlbXBsYXRlIiwgIlV0aWwuZW1wdHlJbWFnZVVybCIsICJ0aWxlTGF5ZXIiLCAiRG9tRXZlbnQuZ2V0V2hlZWxEZWx0YSIsICJMIiwgIm1hcCIsICJyZXF1aXJlX2xpc3RDYWNoZUNsZWFyIiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAibGlzdENhY2hlQ2xlYXIiLCAicmVxdWlyZV9lcSIsICJlcSIsICJ2YWx1ZSIsICJvdGhlciIsICJyZXF1aXJlX2Fzc29jSW5kZXhPZiIsICJhc3NvY0luZGV4T2YiLCAiYXJyYXkiLCAia2V5IiwgImxlbmd0aCIsICJyZXF1aXJlX2xpc3RDYWNoZURlbGV0ZSIsICJhcnJheVByb3RvIiwgInNwbGljZSIsICJsaXN0Q2FjaGVEZWxldGUiLCAiZGF0YSIsICJpbmRleCIsICJsYXN0SW5kZXgiLCAicmVxdWlyZV9saXN0Q2FjaGVHZXQiLCAibGlzdENhY2hlR2V0IiwgInJlcXVpcmVfbGlzdENhY2hlSGFzIiwgImxpc3RDYWNoZUhhcyIsICJyZXF1aXJlX2xpc3RDYWNoZVNldCIsICJsaXN0Q2FjaGVTZXQiLCAicmVxdWlyZV9MaXN0Q2FjaGUiLCAiTGlzdENhY2hlIiwgImVudHJpZXMiLCAiZW50cnkiLCAicmVxdWlyZV9zdGFja0NsZWFyIiwgInN0YWNrQ2xlYXIiLCAicmVxdWlyZV9zdGFja0RlbGV0ZSIsICJzdGFja0RlbGV0ZSIsICJyZXN1bHQiLCAicmVxdWlyZV9zdGFja0dldCIsICJzdGFja0dldCIsICJyZXF1aXJlX3N0YWNrSGFzIiwgInN0YWNrSGFzIiwgInJlcXVpcmVfZnJlZUdsb2JhbCIsICJmcmVlR2xvYmFsIiwgInJlcXVpcmVfcm9vdCIsICJmcmVlU2VsZiIsICJyb290IiwgInJlcXVpcmVfU3ltYm9sIiwgIlN5bWJvbCIsICJyZXF1aXJlX2dldFJhd1RhZyIsICJvYmplY3RQcm90byIsICJoYXNPd25Qcm9wZXJ0eSIsICJuYXRpdmVPYmplY3RUb1N0cmluZyIsICJzeW1Ub1N0cmluZ1RhZyIsICJnZXRSYXdUYWciLCAiaXNPd24iLCAidGFnIiwgInVubWFza2VkIiwgInJlcXVpcmVfb2JqZWN0VG9TdHJpbmciLCAib2JqZWN0VG9TdHJpbmciLCAicmVxdWlyZV9iYXNlR2V0VGFnIiwgIm51bGxUYWciLCAidW5kZWZpbmVkVGFnIiwgImJhc2VHZXRUYWciLCAicmVxdWlyZV9pc09iamVjdCIsICJpc09iamVjdCIsICJ0eXBlIiwgInJlcXVpcmVfaXNGdW5jdGlvbiIsICJhc3luY1RhZyIsICJmdW5jVGFnIiwgImdlblRhZyIsICJwcm94eVRhZyIsICJpc0Z1bmN0aW9uIiwgInJlcXVpcmVfY29yZUpzRGF0YSIsICJjb3JlSnNEYXRhIiwgInJlcXVpcmVfaXNNYXNrZWQiLCAibWFza1NyY0tleSIsICJ1aWQiLCAiaXNNYXNrZWQiLCAiZnVuYyIsICJyZXF1aXJlX3RvU291cmNlIiwgImZ1bmNQcm90byIsICJmdW5jVG9TdHJpbmciLCAidG9Tb3VyY2UiLCAicmVxdWlyZV9iYXNlSXNOYXRpdmUiLCAicmVSZWdFeHBDaGFyIiwgInJlSXNIb3N0Q3RvciIsICJyZUlzTmF0aXZlIiwgImJhc2VJc05hdGl2ZSIsICJwYXR0ZXJuIiwgInJlcXVpcmVfZ2V0VmFsdWUiLCAiZ2V0VmFsdWUiLCAib2JqZWN0IiwgInJlcXVpcmVfZ2V0TmF0aXZlIiwgImdldE5hdGl2ZSIsICJyZXF1aXJlX01hcCIsICJNYXAiLCAicmVxdWlyZV9uYXRpdmVDcmVhdGUiLCAibmF0aXZlQ3JlYXRlIiwgInJlcXVpcmVfaGFzaENsZWFyIiwgImhhc2hDbGVhciIsICJyZXF1aXJlX2hhc2hEZWxldGUiLCAiaGFzaERlbGV0ZSIsICJyZXF1aXJlX2hhc2hHZXQiLCAiSEFTSF9VTkRFRklORUQiLCAiaGFzaEdldCIsICJyZXF1aXJlX2hhc2hIYXMiLCAiaGFzaEhhcyIsICJyZXF1aXJlX2hhc2hTZXQiLCAiaGFzaFNldCIsICJyZXF1aXJlX0hhc2giLCAiSGFzaCIsICJyZXF1aXJlX21hcENhY2hlQ2xlYXIiLCAibWFwQ2FjaGVDbGVhciIsICJyZXF1aXJlX2lzS2V5YWJsZSIsICJpc0tleWFibGUiLCAicmVxdWlyZV9nZXRNYXBEYXRhIiwgImdldE1hcERhdGEiLCAibWFwIiwgInJlcXVpcmVfbWFwQ2FjaGVEZWxldGUiLCAibWFwQ2FjaGVEZWxldGUiLCAicmVxdWlyZV9tYXBDYWNoZUdldCIsICJtYXBDYWNoZUdldCIsICJyZXF1aXJlX21hcENhY2hlSGFzIiwgIm1hcENhY2hlSGFzIiwgInJlcXVpcmVfbWFwQ2FjaGVTZXQiLCAibWFwQ2FjaGVTZXQiLCAic2l6ZSIsICJyZXF1aXJlX01hcENhY2hlIiwgIk1hcENhY2hlIiwgInJlcXVpcmVfc3RhY2tTZXQiLCAiTEFSR0VfQVJSQVlfU0laRSIsICJzdGFja1NldCIsICJwYWlycyIsICJyZXF1aXJlX1N0YWNrIiwgIlN0YWNrIiwgInJlcXVpcmVfZGVmaW5lUHJvcGVydHkiLCAiZGVmaW5lUHJvcGVydHkiLCAicmVxdWlyZV9iYXNlQXNzaWduVmFsdWUiLCAiYmFzZUFzc2lnblZhbHVlIiwgInJlcXVpcmVfYXNzaWduTWVyZ2VWYWx1ZSIsICJhc3NpZ25NZXJnZVZhbHVlIiwgInJlcXVpcmVfY3JlYXRlQmFzZUZvciIsICJjcmVhdGVCYXNlRm9yIiwgImZyb21SaWdodCIsICJpdGVyYXRlZSIsICJrZXlzRnVuYyIsICJpdGVyYWJsZSIsICJwcm9wcyIsICJyZXF1aXJlX2Jhc2VGb3IiLCAiYmFzZUZvciIsICJyZXF1aXJlX2Nsb25lQnVmZmVyIiwgImZyZWVFeHBvcnRzIiwgImZyZWVNb2R1bGUiLCAibW9kdWxlRXhwb3J0cyIsICJCdWZmZXIiLCAiYWxsb2NVbnNhZmUiLCAiY2xvbmVCdWZmZXIiLCAiYnVmZmVyIiwgImlzRGVlcCIsICJyZXF1aXJlX1VpbnQ4QXJyYXkiLCAiVWludDhBcnJheSIsICJyZXF1aXJlX2Nsb25lQXJyYXlCdWZmZXIiLCAiY2xvbmVBcnJheUJ1ZmZlciIsICJhcnJheUJ1ZmZlciIsICJyZXF1aXJlX2Nsb25lVHlwZWRBcnJheSIsICJjbG9uZVR5cGVkQXJyYXkiLCAidHlwZWRBcnJheSIsICJyZXF1aXJlX2NvcHlBcnJheSIsICJjb3B5QXJyYXkiLCAic291cmNlIiwgInJlcXVpcmVfYmFzZUNyZWF0ZSIsICJvYmplY3RDcmVhdGUiLCAiYmFzZUNyZWF0ZSIsICJwcm90byIsICJyZXF1aXJlX292ZXJBcmciLCAib3ZlckFyZyIsICJ0cmFuc2Zvcm0iLCAiYXJnIiwgInJlcXVpcmVfZ2V0UHJvdG90eXBlIiwgImdldFByb3RvdHlwZSIsICJyZXF1aXJlX2lzUHJvdG90eXBlIiwgImlzUHJvdG90eXBlIiwgIkN0b3IiLCAicmVxdWlyZV9pbml0Q2xvbmVPYmplY3QiLCAiaW5pdENsb25lT2JqZWN0IiwgInJlcXVpcmVfaXNPYmplY3RMaWtlIiwgImlzT2JqZWN0TGlrZSIsICJyZXF1aXJlX2Jhc2VJc0FyZ3VtZW50cyIsICJhcmdzVGFnIiwgImJhc2VJc0FyZ3VtZW50cyIsICJyZXF1aXJlX2lzQXJndW1lbnRzIiwgInByb3BlcnR5SXNFbnVtZXJhYmxlIiwgImlzQXJndW1lbnRzIiwgInJlcXVpcmVfaXNBcnJheSIsICJpc0FycmF5IiwgInJlcXVpcmVfaXNMZW5ndGgiLCAiTUFYX1NBRkVfSU5URUdFUiIsICJpc0xlbmd0aCIsICJyZXF1aXJlX2lzQXJyYXlMaWtlIiwgImlzQXJyYXlMaWtlIiwgInJlcXVpcmVfaXNBcnJheUxpa2VPYmplY3QiLCAiaXNBcnJheUxpa2VPYmplY3QiLCAicmVxdWlyZV9zdHViRmFsc2UiLCAic3R1YkZhbHNlIiwgInJlcXVpcmVfaXNCdWZmZXIiLCAibmF0aXZlSXNCdWZmZXIiLCAiaXNCdWZmZXIiLCAicmVxdWlyZV9pc1BsYWluT2JqZWN0IiwgIm9iamVjdFRhZyIsICJvYmplY3RDdG9yU3RyaW5nIiwgImlzUGxhaW5PYmplY3QiLCAicmVxdWlyZV9iYXNlSXNUeXBlZEFycmF5IiwgImFycmF5VGFnIiwgImJvb2xUYWciLCAiZGF0ZVRhZyIsICJlcnJvclRhZyIsICJtYXBUYWciLCAibnVtYmVyVGFnIiwgInJlZ2V4cFRhZyIsICJzZXRUYWciLCAic3RyaW5nVGFnIiwgIndlYWtNYXBUYWciLCAiYXJyYXlCdWZmZXJUYWciLCAiZGF0YVZpZXdUYWciLCAiZmxvYXQzMlRhZyIsICJmbG9hdDY0VGFnIiwgImludDhUYWciLCAiaW50MTZUYWciLCAiaW50MzJUYWciLCAidWludDhUYWciLCAidWludDhDbGFtcGVkVGFnIiwgInVpbnQxNlRhZyIsICJ1aW50MzJUYWciLCAidHlwZWRBcnJheVRhZ3MiLCAiYmFzZUlzVHlwZWRBcnJheSIsICJyZXF1aXJlX2Jhc2VVbmFyeSIsICJiYXNlVW5hcnkiLCAicmVxdWlyZV9ub2RlVXRpbCIsICJmcmVlUHJvY2VzcyIsICJub2RlVXRpbCIsICJ0eXBlcyIsICJyZXF1aXJlX2lzVHlwZWRBcnJheSIsICJub2RlSXNUeXBlZEFycmF5IiwgImlzVHlwZWRBcnJheSIsICJyZXF1aXJlX3NhZmVHZXQiLCAic2FmZUdldCIsICJyZXF1aXJlX2Fzc2lnblZhbHVlIiwgImFzc2lnblZhbHVlIiwgIm9ialZhbHVlIiwgInJlcXVpcmVfY29weU9iamVjdCIsICJjb3B5T2JqZWN0IiwgImN1c3RvbWl6ZXIiLCAiaXNOZXciLCAibmV3VmFsdWUiLCAicmVxdWlyZV9iYXNlVGltZXMiLCAiYmFzZVRpbWVzIiwgIm4iLCAicmVxdWlyZV9pc0luZGV4IiwgInJlSXNVaW50IiwgImlzSW5kZXgiLCAicmVxdWlyZV9hcnJheUxpa2VLZXlzIiwgImFycmF5TGlrZUtleXMiLCAiaW5oZXJpdGVkIiwgImlzQXJyIiwgImlzQXJnIiwgImlzQnVmZiIsICJpc1R5cGUiLCAic2tpcEluZGV4ZXMiLCAicmVxdWlyZV9uYXRpdmVLZXlzSW4iLCAibmF0aXZlS2V5c0luIiwgInJlcXVpcmVfYmFzZUtleXNJbiIsICJiYXNlS2V5c0luIiwgImlzUHJvdG8iLCAicmVxdWlyZV9rZXlzSW4iLCAia2V5c0luIiwgInJlcXVpcmVfdG9QbGFpbk9iamVjdCIsICJ0b1BsYWluT2JqZWN0IiwgInJlcXVpcmVfYmFzZU1lcmdlRGVlcCIsICJiYXNlTWVyZ2VEZWVwIiwgInNyY0luZGV4IiwgIm1lcmdlRnVuYyIsICJzdGFjayIsICJzcmNWYWx1ZSIsICJzdGFja2VkIiwgImlzQ29tbW9uIiwgImlzVHlwZWQiLCAicmVxdWlyZV9iYXNlTWVyZ2UiLCAiYmFzZU1lcmdlIiwgInJlcXVpcmVfaWRlbnRpdHkiLCAiaWRlbnRpdHkiLCAicmVxdWlyZV9hcHBseSIsICJhcHBseSIsICJ0aGlzQXJnIiwgImFyZ3MiLCAicmVxdWlyZV9vdmVyUmVzdCIsICJuYXRpdmVNYXgiLCAib3ZlclJlc3QiLCAic3RhcnQiLCAib3RoZXJBcmdzIiwgInJlcXVpcmVfY29uc3RhbnQiLCAiY29uc3RhbnQiLCAicmVxdWlyZV9iYXNlU2V0VG9TdHJpbmciLCAiYmFzZVNldFRvU3RyaW5nIiwgInN0cmluZyIsICJyZXF1aXJlX3Nob3J0T3V0IiwgIkhPVF9DT1VOVCIsICJIT1RfU1BBTiIsICJuYXRpdmVOb3ciLCAic2hvcnRPdXQiLCAiY291bnQiLCAibGFzdENhbGxlZCIsICJzdGFtcCIsICJyZW1haW5pbmciLCAicmVxdWlyZV9zZXRUb1N0cmluZyIsICJzZXRUb1N0cmluZyIsICJyZXF1aXJlX2Jhc2VSZXN0IiwgImJhc2VSZXN0IiwgInJlcXVpcmVfaXNJdGVyYXRlZUNhbGwiLCAiaXNJdGVyYXRlZUNhbGwiLCAicmVxdWlyZV9jcmVhdGVBc3NpZ25lciIsICJjcmVhdGVBc3NpZ25lciIsICJhc3NpZ25lciIsICJzb3VyY2VzIiwgImd1YXJkIiwgInJlcXVpcmVfbWVyZ2UiLCAibWVyZ2UiLCAicmVxdWlyZV9pc1N5bWJvbCIsICJzeW1ib2xUYWciLCAiaXNTeW1ib2wiLCAicmVxdWlyZV9pc0tleSIsICJyZUlzRGVlcFByb3AiLCAicmVJc1BsYWluUHJvcCIsICJpc0tleSIsICJyZXF1aXJlX21lbW9pemUiLCAiRlVOQ19FUlJPUl9URVhUIiwgIm1lbW9pemUiLCAicmVzb2x2ZXIiLCAibWVtb2l6ZWQiLCAiY2FjaGUiLCAicmVxdWlyZV9tZW1vaXplQ2FwcGVkIiwgIk1BWF9NRU1PSVpFX1NJWkUiLCAibWVtb2l6ZUNhcHBlZCIsICJyZXF1aXJlX3N0cmluZ1RvUGF0aCIsICJyZVByb3BOYW1lIiwgInJlRXNjYXBlQ2hhciIsICJzdHJpbmdUb1BhdGgiLCAibWF0Y2giLCAibnVtYmVyIiwgInF1b3RlIiwgInN1YlN0cmluZyIsICJyZXF1aXJlX2FycmF5TWFwIiwgImFycmF5TWFwIiwgInJlcXVpcmVfYmFzZVRvU3RyaW5nIiwgIklORklOSVRZIiwgInN5bWJvbFByb3RvIiwgInN5bWJvbFRvU3RyaW5nIiwgImJhc2VUb1N0cmluZyIsICJyZXF1aXJlX3RvU3RyaW5nIiwgInRvU3RyaW5nIiwgInJlcXVpcmVfY2FzdFBhdGgiLCAiY2FzdFBhdGgiLCAicmVxdWlyZV90b0tleSIsICJ0b0tleSIsICJyZXF1aXJlX2Jhc2VHZXQiLCAiYmFzZUdldCIsICJwYXRoIiwgInJlcXVpcmVfZ2V0IiwgImdldCIsICJkZWZhdWx0VmFsdWUiLCAicmVxdWlyZV9yYnVzaF9taW4iLCAiaSIsICJ0IiwgInIiLCAiZSIsICJhIiwgImgiLCAibyIsICJzIiwgImwiLCAiZiIsICJ1IiwgIm0iLCAiYyIsICJwIiwgImQiLCAieCIsICJ2IiwgIk0iLCAicmVxdWlyZV9qcyIsICJmZWF0dXJlIiwgImdlb20iLCAicHJvcGVydGllcyIsICJvcHRpb25zIiwgImZlYXQiLCAiZ2VvbWV0cnkiLCAiY29vcmRpbmF0ZXMiLCAiX29wdGlvbnMiLCAicG9pbnQiLCAibGluZVN0cmluZyIsICJwb2x5Z29uIiwgIm11bHRpUG9pbnQiLCAibXVsdGlMaW5lU3RyaW5nIiwgIm11bHRpUG9seWdvbiIsICJpc051bWJlciIsICJwb2ludHMiLCAiZmVhdHVyZUNvbGxlY3Rpb24iLCAiY29vcmRzIiwgIl9pIiwgImNvb3JkaW5hdGVzXzEiLCAicmluZyIsICJqIiwgInBvbHlnb25zIiwgImxpbmVTdHJpbmdzIiwgImZlYXR1cmVzIiwgImZjIiwgImdlb21ldHJ5Q29sbGVjdGlvbiIsICJnZW9tZXRyaWVzIiwgInJvdW5kIiwgIm51bSIsICJwcmVjaXNpb24iLCAibXVsdGlwbGllciIsICJyYWRpYW5zVG9MZW5ndGgiLCAicmFkaWFucyIsICJ1bml0cyIsICJmYWN0b3IiLCAibGVuZ3RoVG9SYWRpYW5zIiwgImRpc3RhbmNlIiwgImxlbmd0aFRvRGVncmVlcyIsICJyYWRpYW5zVG9EZWdyZWVzIiwgImJlYXJpbmdUb0F6aW11dGgiLCAiYmVhcmluZyIsICJhbmdsZSIsICJkZWdyZWVzIiwgImRlZ3JlZXNUb1JhZGlhbnMiLCAiY29udmVydExlbmd0aCIsICJvcmlnaW5hbFVuaXQiLCAiZmluYWxVbml0IiwgImNvbnZlcnRBcmVhIiwgImFyZWEiLCAic3RhcnRGYWN0b3IiLCAiZmluYWxGYWN0b3IiLCAiaW5wdXQiLCAidmFsaWRhdGVCQm94IiwgImJib3giLCAidmFsaWRhdGVJZCIsICJpZCIsICJoZWxwZXJzIiwgImNvb3JkRWFjaCIsICJnZW9qc29uIiwgImNhbGxiYWNrIiwgImV4Y2x1ZGVXcmFwQ29vcmQiLCAiayIsICJzdG9wRyIsICJnZW9tZXRyeU1heWJlQ29sbGVjdGlvbiIsICJ3cmFwU2hyaW5rIiwgImNvb3JkSW5kZXgiLCAiaXNHZW9tZXRyeUNvbGxlY3Rpb24iLCAiaXNGZWF0dXJlQ29sbGVjdGlvbiIsICJpc0ZlYXR1cmUiLCAic3RvcCIsICJmZWF0dXJlSW5kZXgiLCAiZ2VvbUluZGV4IiwgIm11bHRpRmVhdHVyZUluZGV4IiwgImdlb21ldHJ5SW5kZXgiLCAiZ2VvbVR5cGUiLCAiY29vcmRSZWR1Y2UiLCAiaW5pdGlhbFZhbHVlIiwgInByZXZpb3VzVmFsdWUiLCAiY3VycmVudENvb3JkIiwgInByb3BFYWNoIiwgInByb3BSZWR1Y2UiLCAiY3VycmVudFByb3BlcnRpZXMiLCAiZmVhdHVyZUVhY2giLCAiZmVhdHVyZVJlZHVjZSIsICJjdXJyZW50RmVhdHVyZSIsICJjb29yZEFsbCIsICJjb29yZCIsICJnZW9tRWFjaCIsICJnIiwgImZlYXR1cmVQcm9wZXJ0aWVzIiwgImZlYXR1cmVCQm94IiwgImZlYXR1cmVJZCIsICJnZW9tUmVkdWNlIiwgImN1cnJlbnRHZW9tZXRyeSIsICJmbGF0dGVuRWFjaCIsICJjb29yZGluYXRlIiwgImZsYXR0ZW5SZWR1Y2UiLCAic2VnbWVudEVhY2giLCAic2VnbWVudEluZGV4IiwgInByZXZpb3VzQ29vcmRzIiwgInByZXZpb3VzRmVhdHVyZUluZGV4IiwgInByZXZpb3VzTXVsdGlJbmRleCIsICJwcmV2R2VvbUluZGV4IiwgImZlYXR1cmVJbmRleENvb3JkIiwgIm11bHRpUGFydEluZGV4Q29vcmQiLCAiY3VycmVudFNlZ21lbnQiLCAic2VnbWVudFJlZHVjZSIsICJzdGFydGVkIiwgImxpbmVFYWNoIiwgImxpbmVSZWR1Y2UiLCAiY3VycmVudExpbmUiLCAiZmluZFNlZ21lbnQiLCAiZmluZFBvaW50IiwgIm1ldGFfMSIsICJyZXF1aXJlX2dlb2pzb25fcmJ1c2giLCAicmJ1c2giLCAibWV0YSIsICJ0dXJmQkJveCIsICJnZW9qc29uUmJ1c2giLCAibWF4RW50cmllcyIsICJ0cmVlIiwgImxvYWQiLCAiZXF1YWxzIiwgImpzb24iLCAibGlzdCIsICJlbGVtZW50IiwgInRhcmdldCIsICJhcnIiLCAiaXRlbSIsICJzZWFyY2hFbGVtZW50IiwgImZyb21JbmRleCIsICJsZW4iLCAic2FtZVZhbHVlWmVybyIsICJ5IiwgInBhY2thZ2VfZGVmYXVsdCIsICJpbXBvcnRfbWVyZ2UiLCAiZW5fZGVmYXVsdCIsICJkZV9kZWZhdWx0IiwgIml0X2RlZmF1bHQiLCAiaWRfZGVmYXVsdCIsICJyb19kZWZhdWx0IiwgInJ1X2RlZmF1bHQiLCAiZXNfZGVmYXVsdCIsICJubF9kZWZhdWx0IiwgImZyX2RlZmF1bHQiLCAiemhfZGVmYXVsdCIsICJ6aF90d19kZWZhdWx0IiwgInB0X2JyX2RlZmF1bHQiLCAicHRfcHRfZGVmYXVsdCIsICJwbF9kZWZhdWx0IiwgInN2X2RlZmF1bHQiLCAiZWxfZGVmYXVsdCIsICJodV9kZWZhdWx0IiwgImRhX2RlZmF1bHQiLCAibm9fZGVmYXVsdCIsICJmYV9kZWZhdWx0IiwgInVhX2RlZmF1bHQiLCAidHJfZGVmYXVsdCIsICJjel9kZWZhdWx0IiwgImphX2RlZmF1bHQiLCAiZmlfZGVmYXVsdCIsICJrb19kZWZhdWx0IiwgImt5X2RlZmF1bHQiLCAidHJhbnNsYXRpb25zX2RlZmF1bHQiLCAiR2xvYmFsRWRpdE1vZGUiLCAibGF5ZXIiLCAibGF5ZXJzIiwgIk1vZGVfRWRpdF9kZWZhdWx0IiwgIkdsb2JhbERyYWdNb2RlIiwgIk1vZGVfRHJhZ19kZWZhdWx0IiwgIkdsb2JhbFJlbW92YWxNb2RlIiwgIk1vZGVfUmVtb3ZhbF9kZWZhdWx0IiwgIkdsb2JhbFJvdGF0ZU1vZGUiLCAiTW9kZV9Sb3RhdGVfZGVmYXVsdCIsICJFdmVudE1peGluIiwgImN1c3RvbVBheWxvYWQiLCAid29ya2luZ0xheWVyIiwgImZpcmVMYXllciIsICJvcmlnaW5hbExheWVyIiwgImluZGV4UGF0aCIsICJpbnRlcnNlY3Rpb25SZXNldCIsICJyZWZMYXllciIsICJtYXJrZXIiLCAibGF0bG5nIiwgImludGVyc2VjdGlvbiIsICJsYXRsbmdzIiwgInRleHQiLCAiZXZlbnRJbmZvIiwgImhlbHBMYXllciIsICJvcmlnaW5MYXRMbmdzIiwgImFuZ2xlRGlmZiIsICJvbGRMYXRMbmdzIiwgInJvdGF0aW9uTGF5ZXIiLCAic3RhcnRBbmdsZSIsICJhY3Rpb24iLCAiYnRuTmFtZSIsICJidXR0b24iLCAib2xkTGFuZyIsICJhY3RpdmVMYW5nIiwgImZhbGxiYWNrIiwgInRyYW5zbGF0aW9ucyIsICJlbmFibGVkIiwgImV2ZW50IiwgImV2ZW50VHlwZSIsICJmb2N1c09uIiwgInBheWxvYWQiLCAiRXZlbnRzX2RlZmF1bHQiLCAiY3JlYXRlS2V5Ym9hcmRNaXhpbnMiLCAiS2V5Ym9hcmRfZGVmYXVsdCIsICJpbXBvcnRfZ2V0IiwgImdldFRyYW5zbGF0aW9uIiwgImxhbmciLCAiaGFzVmFsdWVzIiwgInJlbW92ZUVtcHR5Q29vcmRSaW5ncyIsICJuZXdJdGVtIiwgImRlc3RpbmF0aW9uVmluY2VudHkiLCAibG9ubGF0IiwgImJybmciLCAiZGlzdCIsICJWaW5jZW50eUNvbnN0YW50cyIsICJiIiwgImxvbjEiLCAibGF0MSIsICJwaSIsICJhbHBoYTEiLCAic2luQWxwaGExIiwgImNvc0FscGhhMSIsICJ0YW5VMSIsICJjb3NVMSIsICJzaW5VMSIsICJzaWdtYTEiLCAic2luQWxwaGEiLCAiY29zU3FBbHBoYSIsICJ1U3EiLCAiQSIsICJCIiwgInNpZ21hIiwgInNpZ21hUCIsICJjb3MyU2lnbWFNIiwgInNpblNpZ21hIiwgImNvc1NpZ21hIiwgImRlbHRhU2lnbWEiLCAidG1wIiwgImxhdDIiLCAibGFtYmRhIiwgIkMiLCAibGFtIiwgImxhbUZ1bmMiLCAibGF0MmEiLCAiY3JlYXRlR2VvZGVzaWNQb2x5Z29uIiwgIm9yaWdpbiIsICJyYWRpdXMiLCAic2lkZXMiLCAicm90YXRpb24iLCAid2l0aEJlYXJpbmciLCAidHJ1ZUFuZ2xlIiwgIm5ld0xvbmxhdCIsICJnZW9tUG9pbnQiLCAicExhdCIsICJwTG5nIiwgImRlc3RpbmF0aW9uIiwgImhlYWRpbmciLCAicmFkIiwgInJhZEludiIsICJSIiwgInJoZWFkaW5nIiwgInNpbkxhdDEiLCAiY29zTGF0MSIsICJjb3NEaXN0UiIsICJzaW5EaXN0UiIsICJsb24yIiwgIm9wdEEiLCAib3B0QiIsICJjYWxjQW5nbGUiLCAibGF0bG5nQSIsICJsYXRsbmdCIiwgInBvaW50QSIsICJwb2ludEIiLCAiYW5nbGVEZWciLCAiZGVzdGluYXRpb25PbkxpbmUiLCAicHJpb3JpdGlzZVNvcnQiLCAiX3NvcnRpbmdPcmRlciIsICJvcmRlciIsICJrZXlzIiwgIm9iaktleSIsICJzb3J0aW5nT3JkZXIiLCAiZ2V0U2hhcGUiLCAia2V5QSIsICJrZXlCIiwgImZpcnN0IiwgInNlY29uZCIsICJjb3B5TGF0TG5ncyIsICJmaXhMYXRPZmZzZXQiLCAibWF4IiwgImdldFJlbmRlcmVyIiwgInNoYXBlIiwgIm9wdGlvbnNNb2RpZmllciIsICJpZ25vcmUiLCAibWVyZ2VPcHRpb25zIiwgInJlZW5hYmxlQ2lyY2xlTWFya2VyIiwgInJlZW5hYmxlQ2lyY2xlIiwgImFzR3JvdXAiLCAiZ3JvdXAiLCAiZWxtIiwgIm1vdXNlRXZlbnQiLCAidG91Y2hFdnQiLCAiTF9QTV9NYXBfZGVmYXVsdCIsICJQTUJ1dHRvbiIsICJvbGREb21Ob2RlIiwgInBvcyIsICJidXR0b25Db250YWluZXIiLCAibmV3QnV0dG9uIiwgImFjdGlvbkNvbnRhaW5lciIsICJhY3RpdmVBY3Rpb25zIiwgImFjdGlvbnMiLCAiX2FjdGlvbiIsICJuYW1lIiwgImFjdGlvbk5vZGUiLCAiYWN0aW9uQ2xpY2siLCAiYnV0dG9ucyIsICJidG4iLCAiaW1hZ2UiLCAiY2xhc3NOYW1lIiwgIkxfQ29udHJvbHNfZGVmYXVsdCIsICJUb29sYmFyIiwgImFkZENvbnRyb2xzIiwgImNvbnRhaW5lciIsICJpY29uQ2xhc3NlcyIsICJleGNlcHRUaGlzQnV0dG9uIiwgInN0YXR1cyIsICJkaXNhYmxlT3RoZXJzIiwgImRyYXdNYXJrZXJCdXR0b24iLCAiY3R4IiwgImRyYXdQb2x5QnV0dG9uIiwgImRyYXdMaW5lQnV0dG9uIiwgImRyYXdDaXJjbGVCdXR0b24iLCAiZHJhd0NpcmNsZU1hcmtlckJ1dHRvbiIsICJkcmF3UmVjdEJ1dHRvbiIsICJlZGl0QnV0dG9uIiwgImRyYWdCdXR0b24iLCAiY3V0QnV0dG9uIiwgImRlbGV0ZUJ1dHRvbiIsICJyb3RhdGVCdXR0b24iLCAiZHJhd1RleHRCdXR0b24iLCAiaWdub3JlQnRucyIsICJibG9jayIsICJwb3NpdGlvbiIsICJjb3B5SW5zdGFuY2UiLCAiaW5zdGFuY2UiLCAiZHJhd0luc3RhbmNlIiwgImNvbnRyb2wiLCAiYnV0dG9uc0luQmxvY2siLCAiYnV0dG9uTmFtZSIsICJzaGFwZU1hcHBpbmciLCAiX29yZGVyIiwgIm5ld2J0bm9yZGVyIiwgInN0YXRlIiwgIkxfUE1fVG9vbGJhcl9kZWZhdWx0IiwgIlNuYXBNaXhpbiIsICJtYXJrZXJBcnIiLCAibGluZSIsICJjbG9zZXN0TGF5ZXIiLCAiaXNNYXJrZXIiLCAic25hcExhdExuZyIsICJtaW5EaXN0YW5jZSIsICJ0cmlnZ2VyU25hcCIsICJkZWJ1Z0luZGljYXRvckxpbmVzIiwgImRlYnVnTGluZSIsICJhbW91bnQiLCAiY2xvc2VzdExheWVycyIsICJyZXN1bHRzIiwgImlzUG9seWdvbiIsICJQIiwgImNsb3NlZFNoYXBlIiwgImNsb3Nlc3RDb29yZCIsICJzaG9ydGVzdERpc3RhbmNlIiwgImNsb3Nlc3RTZWdtZW50IiwgImxvb3BUaHJvdWdoQ29vcmRzIiwgIm5leHRJbmRleCIsICJkaXN0YW5jZVBvaW50IiwgInNoYXBlcyIsICJwcmlvT3JkZXIiLCAiZGlzdGFuY2VBQyIsICJkaXN0YW5jZUJDIiwgImNsb3Nlc3RWZXJ0ZXhMYXRMbmciLCAiZGlzdGFuY2VNQyIsICJwcmlvcml0eURpc3RhbmNlIiwgInNuYXBMYXRsbmciLCAibWF4em9vbSIsICJjbG9zZXN0IiwgIlNuYXBwaW5nX2RlZmF1bHQiLCAiRHJhdyIsICJkZWZhdWx0SWNvbiIsICJlbmFibGVkU2hhcGUiLCAianNDbGFzcyIsICJMX1BNX0RyYXdfZGVmYXVsdCIsICJmYWtlRHJhZ0V2ZW50IiwgImVhcnRoUmFkaXVzIiwgImZhY3RvcnMiLCAidW5pdHNGYWN0b3JzIiwgImtpbmtzIiwgImZlYXR1cmVJbiIsICJsaW5lMSIsICJsaW5lMiIsICJsaW5lSW50ZXJzZWN0cyIsICJsaW5lMVN0YXJ0WCIsICJsaW5lMVN0YXJ0WSIsICJsaW5lMUVuZFgiLCAibGluZTFFbmRZIiwgImxpbmUyU3RhcnRYIiwgImxpbmUyU3RhcnRZIiwgImxpbmUyRW5kWCIsICJsaW5lMkVuZFkiLCAiZGVub21pbmF0b3IiLCAibnVtZXJhdG9yMSIsICJudW1lcmF0b3IyIiwgInBvbHlQb2ludHMiLCAibGFzdFBvbHlnb25Qb2ludCIsICJhZGRWZXJ0ZXgiLCAiY2xvbmUiLCAic2VsZkludGVyc2VjdGlvbiIsICJsYXN0TGF0TG5nIiwgIm5ld01hcmtlciIsICJoaW50TWFya2VyTGF0TG5nIiwgIm1hcmtlcnMiLCAicmVtb3ZlZE1hcmtlciIsICJtYXJrZXJQcmV2aW91cyIsICJpbmRleE1hcmtlclByZXYiLCAicG9seWxpbmVMYXllciIsICJwb2x5Z29uTGF5ZXIiLCAic3R5bGVNYXJrZXIiLCAiY29ybmVycyIsICJ1bm1hcmtlZENvcm5lcnMiLCAiY29ybmVyIiwgInVubWFya2VkQ29ybmVyIiwgInJlY3RhbmdsZUxheWVyIiwgInRlbXBsaW5lU3R5bGUiLCAic2Vjb25kTGF0TG5nIiwgImNlbnRlciIsICJjaXJjbGVMYXllciIsICJnZXRDb29yZCIsICJnZXRDb29yZHMiLCAiZ2V0R2VvbSIsICJnZXRUeXBlIiwgIl9uYW1lIiwgImxpbmVTZWdtZW50IiwgImxpbmVTZWdtZW50RmVhdHVyZSIsICJzZWdtZW50cyIsICJjcmVhdGVTZWdtZW50cyIsICJzZWdtZW50IiwgImN1cnJlbnRDb29yZHMiLCAiY29vcmRzMSIsICJjb29yZHMyIiwgIngxIiwgInkxIiwgIngyIiwgInkyIiwgIndlc3QiLCAic291dGgiLCAiZWFzdCIsICJub3J0aCIsICJpbXBvcnRfZ2VvanNvbl9yYnVzaCIsICJsaW5lSW50ZXJzZWN0IiwgInVuaXF1ZSIsICJpbnRlcnNlY3QiLCAiaW50ZXJzZWN0cyIsICJ4MyIsICJ5MyIsICJ4NCIsICJ5NCIsICJkZW5vbSIsICJudW1lQSIsICJudW1lQiIsICJ1QSIsICJ1QiIsICJmcm9tIiwgInRvIiwgImNvb3JkaW5hdGVzMSIsICJjb29yZGluYXRlczIiLCAiZExhdCIsICJkTG9uIiwgInNxdWFyZSIsICJob3Jpem9udGFsRGlzdGFuY2UiLCAidmVydGljYWxEaXN0YW5jZSIsICJ2ZXJ0aWNhbE1pZHBvaW50IiwgImhvcml6b250YWxNaWRwb2ludCIsICJ0cnVuY2F0ZSIsICJtdXRhdGUiLCAidHJ1bmNhdGVDb29yZHMiLCAiZW5kIiwgImNhbGN1bGF0ZUZpbmFsQmVhcmluZyIsICJiZWFyIiwgImxvbmdpdHVkZTEiLCAibGF0aXR1ZGUxIiwgImJlYXJpbmdSYWQiLCAibGF0aXR1ZGUyIiwgImxvbmdpdHVkZTIiLCAibG5nIiwgImxhdCIsICJuZWFyZXN0UG9pbnRPbkxpbmUiLCAibGluZXMiLCAicHQiLCAiY2xvc2VzdFB0IiwgInN0b3BfMSIsICJzZWN0aW9uTGVuZ3RoIiwgImhlaWdodERpc3RhbmNlIiwgImRpcmVjdGlvbiIsICJwZXJwZW5kaWN1bGFyUHQxIiwgInBlcnBlbmRpY3VsYXJQdDIiLCAiaW50ZXJzZWN0UHQiLCAibGluZVNwbGl0IiwgInNwbGl0dGVyIiwgImxpbmVUeXBlIiwgInNwbGl0dGVyVHlwZSIsICJ0cnVuY2F0ZWRTcGxpdHRlciIsICJzcGxpdExpbmVXaXRoUG9pbnQiLCAic3BsaXRMaW5lV2l0aFBvaW50cyIsICJzZWFyY2giLCAiY2xvc2VzdExpbmUiLCAiZmluZENsb3Nlc3RGZWF0dXJlIiwgInN0YXJ0UG9pbnQiLCAiZW5kUG9pbnQiLCAicG9pbnRzRXF1YWxzIiwgImxhc3RDb29yZHMiLCAicHJldmlvdXMiLCAiY3VycmVudCIsICJzcGxpdHRlckNvb3JkcyIsICJjbG9zZXN0RmVhdHVyZSIsICJjbG9zZXN0RGlzdGFuY2UiLCAicHQxIiwgInB0MiIsICJib29sZWFuUG9pbnRJblBvbHlnb24iLCAicG9seXMiLCAiaW5CQm94IiwgImluc2lkZVBvbHkiLCAiaW5SaW5nIiwgImluSG9sZSIsICJpZ25vcmVCb3VuZGFyeSIsICJpc0luc2lkZSIsICJ4aSIsICJ5aSIsICJ4aiIsICJ5aiIsICJvbkJvdW5kYXJ5IiwgImJvb2xlYW5Qb2ludE9uTGluZSIsICJwdENvb3JkcyIsICJsaW5lQ29vcmRzIiwgImlzUG9pbnRPbkxpbmVTZWdtZW50IiwgImxpbmVTZWdtZW50U3RhcnQiLCAibGluZVNlZ21lbnRFbmQiLCAiZXhjbHVkZUJvdW5kYXJ5IiwgImVwc2lsb24iLCAiZHhjIiwgImR5YyIsICJkeGwiLCAiZHlsIiwgImNyb3NzIiwgImJvb2xlYW5Db250YWlucyIsICJmZWF0dXJlMSIsICJmZWF0dXJlMiIsICJnZW9tMSIsICJnZW9tMiIsICJ0eXBlMSIsICJ0eXBlMiIsICJjb21wYXJlQ29vcmRzIiwgImlzUG9pbnRJbk11bHRpUG9pbnQiLCAiaXNNdWx0aVBvaW50SW5NdWx0aVBvaW50IiwgImlzTGluZU9uTGluZSIsICJpc011bHRpUG9pbnRPbkxpbmUiLCAiaXNMaW5lSW5Qb2x5IiwgImlzUG9seUluUG9seSIsICJpc011bHRpUG9pbnRJblBvbHkiLCAib3V0cHV0IiwgIm11bHRpUG9pbnQxIiwgIm11bHRpUG9pbnQyIiwgIl9hIiwgImNvb3JkMiIsICJtYXRjaEZvdW5kIiwgIl9iIiwgIl9jIiwgImNvb3JkMSIsICJoYXZlRm91bmRJbnRlcmlvclBvaW50IiwgImxpbmVTdHJpbmcxIiwgImxpbmVTdHJpbmcyIiwgImxpbmVzdHJpbmciLCAicG9seUJib3giLCAibGluZUJib3giLCAiZG9CQm94T3ZlcmxhcCIsICJtaWRQb2ludCIsICJnZXRNaWRwb2ludCIsICJwb2x5MUJib3giLCAicG9seTJCYm94IiwgImNvb3Jkc18xIiwgInJpbmdfMSIsICJiYm94MSIsICJiYm94MiIsICJwYWlyMSIsICJwYWlyMiIsICJjb25zdGFudF9kZWZhdWx0IiwgImNvbXBhcmVfZGVmYXVsdCIsICJlcHMiLCAiYWxtb3N0RXF1YWwiLCAib3JpZW50X2RlZmF1bHQiLCAiYWxtb3N0Q29sbGluZWFyIiwgImFyZWEyIiwgImF4IiwgImF5IiwgImN4IiwgImN5IiwgImlzTnVtZXJpYyIsICJtYXRoY2VpbCIsICJtYXRoZmxvb3IiLCAiYmlnbnVtYmVyRXJyb3IiLCAidG9vTWFueURpZ2l0cyIsICJCQVNFIiwgIkxPR19CQVNFIiwgIlBPV1NfVEVOIiwgIlNRUlRfQkFTRSIsICJNQVgiLCAiY29uZmlnT2JqZWN0IiwgImRpdiIsICJjb252ZXJ0QmFzZSIsICJwYXJzZU51bWVyaWMiLCAiQmlnTnVtYmVyIiwgIk9ORSIsICJERUNJTUFMX1BMQUNFUyIsICJST1VORElOR19NT0RFIiwgIlRPX0VYUF9ORUciLCAiVE9fRVhQX1BPUyIsICJNSU5fRVhQIiwgIk1BWF9FWFAiLCAiQ1JZUFRPIiwgIk1PRFVMT19NT0RFIiwgIlBPV19QUkVDSVNJT04iLCAiRk9STUFUIiwgIkFMUEhBQkVUIiwgImFscGhhYmV0SGFzTm9ybWFsRGVjaW1hbERpZ2l0cyIsICJhbHBoYWJldCIsICJjYXNlQ2hhbmdlZCIsICJpc051bSIsICJzdHIiLCAiaW50Q2hlY2siLCAib2JqIiwgIm91dCIsICJtYXhPck1pbiIsICJwb3cyXzUzIiwgInJhbmRvbTUzYml0SW50IiwgImRwIiwgInJhbmQiLCAic3VtIiwgImRlY2ltYWwiLCAidG9CYXNlT3V0IiwgImJhc2VJbiIsICJiYXNlT3V0IiwgImFyckwiLCAic2lnbiIsICJjYWxsZXJJc1RvU3RyaW5nIiwgInhjIiwgInJtIiwgInRvRml4ZWRQb2ludCIsICJjb2VmZlRvU3RyaW5nIiwgIm11bHRpcGx5IiwgImJhc2UiLCAidGVtcCIsICJ4bG8iLCAieGhpIiwgImNhcnJ5IiwgImtsbyIsICJraGkiLCAiY29tcGFyZSIsICJhTCIsICJiTCIsICJjbXAiLCAic3VidHJhY3QiLCAibW9yZSIsICJwcm9kIiwgInByb2RMIiwgInEiLCAicWMiLCAicmVtIiwgInJlbUwiLCAicmVtMCIsICJ4TCIsICJ5YzAiLCAieUwiLCAieXoiLCAieWMiLCAiYml0Rmxvb3IiLCAiZm9ybWF0IiwgImMwIiwgIm5lIiwgInRvRXhwb25lbnRpYWwiLCAibm9ybWFsaXNlIiwgImJhc2VQcmVmaXgiLCAiZG90QWZ0ZXIiLCAiZG90QmVmb3JlIiwgImlzSW5maW5pdHlPck5hTiIsICJ3aGl0ZXNwYWNlT3JQbHVzIiwgInAxIiwgInAyIiwgInNkIiwgIm5pIiwgInJkIiwgInBvd3MxMCIsICJ2YWx1ZU9mIiwgImhhbGYiLCAiaXNNb2RFeHAiLCAibklzQmlnIiwgIm5Jc05lZyIsICJuSXNPZGQiLCAiaXNPZGQiLCAieExUeSIsICJ4ZSIsICJ5ZSIsICJ4Y0wiLCAieWNMIiwgInlsbyIsICJ5aGkiLCAiemMiLCAic3FydEJhc2UiLCAicmVwIiwgImcxIiwgImcyIiwgImdyb3VwU2VwYXJhdG9yIiwgImludFBhcnQiLCAiZnJhY3Rpb25QYXJ0IiwgImlzTmVnIiwgImludERpZ2l0cyIsICJtZCIsICJkMCIsICJkMSIsICJkMiIsICJleHAiLCAibjAiLCAibjEiLCAieiIsICJtaW4iLCAienMiLCAiYmlnbnVtYmVyX2RlZmF1bHQiLCAiU3BsYXlUcmVlTm9kZSIsICJTcGxheVRyZWVTZXROb2RlIiwgIlNwbGF5VHJlZSIsICJyaWdodCIsICJuZXdUcmVlUmlnaHQiLCAibGVmdCIsICJuZXdUcmVlTGVmdCIsICJjb21wIiwgImN1cnJlbnRMZWZ0IiwgImN1cnJlbnRSaWdodCIsICJub2RlIiwgIm5leHRMZWZ0IiwgIm5leHRSaWdodCIsICJTcGxheVRyZWVTZXQiLCAiaXNWYWxpZEtleSIsICJlbGVtZW50cyIsICJub2RlcyIsICJub2RlUmlnaHQiLCAibm9kZUxlZnQiLCAicmV0YWluU2V0IiwgIl9TcGxheVRyZWVTZXQiLCAibW9kaWZpY2F0aW9uQ291bnQiLCAic2V0IiwgImNvcHlDaGlsZHJlbiIsICJkZXN0IiwgIm5ld0xlZnQiLCAibmV3UmlnaHQiLCAiU3BsYXlUcmVlU2V0RW50cnlJdGVyYWJsZUl0ZXJhdG9yIiwgIlNwbGF5VHJlZUtleUl0ZXJhYmxlSXRlcmF0b3IiLCAiU3BsYXlUcmVlSXRlcmFibGVJdGVyYXRvciIsICJuZXh0IiwgImlkZW50aXR5X2RlZmF1bHQiLCAic25hcF9kZWZhdWx0IiwgInhUcmVlIiwgInlUcmVlIiwgInNuYXBDb29yZCIsICJzbmFwIiwgImlzSW5CYm94IiwgImdldEJib3hPdmVybGFwIiwgImIxIiwgImIyIiwgImxvd2VyWCIsICJ1cHBlclgiLCAibG93ZXJZIiwgInVwcGVyWSIsICJjcm9zc1Byb2R1Y3QiLCAiZG90UHJvZHVjdCIsICJzaW5lT2ZBbmdsZSIsICJwU2hhcmVkIiwgInBCYXNlIiwgInBBbmdsZSIsICJ2QmFzZSIsICJ2QW5nbGUiLCAiY29zaW5lT2ZBbmdsZSIsICJob3Jpem9udGFsSW50ZXJzZWN0aW9uIiwgInZlcnRpY2FsSW50ZXJzZWN0aW9uIiwgInYxIiwgInYyIiwgImtyb3NzIiwgInZlIiwgIlN3ZWVwRXZlbnQiLCAiX1N3ZWVwRXZlbnQiLCAiaXNMZWZ0IiwgInB0Q21wIiwgIlNlZ21lbnQiLCAiYVB0IiwgImJQdCIsICJvdGhlckV2ZW50cyIsICJpTWF4IiwgImV2dCIsICJudW1FdmVudHMiLCAiZXZ0MSIsICJldnQyIiwgImV2ZW50cyIsICJiYXNlRXZlbnQiLCAiZmlsbENhY2hlIiwgImxpbmtlZEV2ZW50IiwgIm5leHRFdmVudCIsICJhc2luZSIsICJhY29zaW5lIiwgImJzaW5lIiwgImJjb3NpbmUiLCAic2VnbWVudElkIiwgIl9TZWdtZW50IiwgImxlZnRTRSIsICJyaWdodFNFIiwgInJpbmdzIiwgIndpbmRpbmdzIiwgImFseCIsICJibHgiLCAiYXJ4IiwgImJyeCIsICJhbHkiLCAiYmx5IiwgImFyeSIsICJicnkiLCAiYUNtcEJMZWZ0IiwgImJDbXBBUmlnaHQiLCAiYkNtcEFMZWZ0IiwgImFDbXBCUmlnaHQiLCAiYnkiLCAiYngiLCAibGVmdFB0IiwgInJpZ2h0UHQiLCAid2luZGluZyIsICJjbXBQdHMiLCAibmV3UmlnaHRTRSIsICJ0QmJveCIsICJvQmJveCIsICJiYm94T3ZlcmxhcCIsICJ0bHAiLCAidHJwIiwgIm9scCIsICJvcnAiLCAidG91Y2hlc090aGVyTFNFIiwgInRvdWNoZXNUaGlzTFNFIiwgInRvdWNoZXNPdGhlclJTRSIsICJ0b3VjaGVzVGhpc1JTRSIsICJuZXdFdmVudHMiLCAiYWxyZWFkeUxpbmtlZCIsICJuZXdMZWZ0U0UiLCAib2xkUmlnaHRTRSIsICJuZXdTZWciLCAidG1wRXZ0IiwgImNvbnN1bWVyIiwgImNvbnN1bWVlIiwgInNlZyIsICJiZWZvcmVTdGF0ZSIsICJyaW5nc0FmdGVyIiwgIndpbmRpbmdzQWZ0ZXIiLCAibXBzQWZ0ZXIiLCAicG9seXNBZnRlciIsICJwb2x5c0V4Y2x1ZGUiLCAicG9seSIsICJtcCIsICJtcHNCZWZvcmUiLCAib3BlcmF0aW9uX2RlZmF1bHQiLCAibm9CZWZvcmVzIiwgIm5vQWZ0ZXJzIiwgImxlYXN0IiwgIm1vc3QiLCAiZGlmZiIsICJpc0p1c3RTdWJqZWN0IiwgIm1wcyIsICJSaW5nSW4iLCAiZ2VvbVJpbmciLCAiaXNFeHRlcmlvciIsICJmaXJzdFBvaW50IiwgInByZXZQb2ludCIsICJzd2VlcEV2ZW50cyIsICJQb2x5SW4iLCAiZ2VvbVBvbHkiLCAibXVsdGlQb2x5IiwgInJpbmdTd2VlcEV2ZW50cyIsICJqTWF4IiwgIk11bHRpUG9seUluIiwgImlzU3ViamVjdCIsICJwb2x5U3dlZXBFdmVudHMiLCAiUmluZ091dCIsICJfUmluZ091dCIsICJhbGxTZWdtZW50cyIsICJyaW5nc091dCIsICJwcmV2RXZlbnQiLCAic3RhcnRpbmdQb2ludCIsICJpbnRlcnNlY3Rpb25MRXMiLCAiYXZhaWxhYmxlTEVzIiwgImZpcnN0UHQiLCAibGFzdFB0IiwgImluZGV4TEUiLCAiaW50ZXJzZWN0aW9uTEUiLCAicmluZ0V2ZW50cyIsICJjb21wYXJhdG9yIiwgInByZXZQdCIsICJuZXh0UHQiLCAic3RlcCIsICJpU3RhcnQiLCAiaUVuZCIsICJvcmRlcmVkUG9pbnRzIiwgImVuY2xvc2luZyIsICJsZWZ0TW9zdEV2dCIsICJwcmV2U2VnIiwgInByZXZQcmV2U2VnIiwgIlBvbHlPdXQiLCAiZXh0ZXJpb3JSaW5nIiwgImdlb20wIiwgInJpbmdHZW9tIiwgIk11bHRpUG9seU91dCIsICJwb2x5R2VvbSIsICJlbmNsb3NpbmdSaW5nIiwgIlN3ZWVwTGluZSIsICJxdWV1ZSIsICJuZXh0U2VnIiwgInByZXZNeVNwbGl0dGVyIiwgInByZXZJbnRlciIsICJuZXdFdmVudHNGcm9tU3BsaXQiLCAibmV4dE15U3BsaXR0ZXIiLCAibmV4dEludGVyIiwgIm15U3BsaXR0ZXIiLCAiaW50ZXIiLCAiT3BlcmF0aW9uIiwgIm1vcmVHZW9tcyIsICJvcGVyYXRpb24iLCAibXVsdGlwb2x5cyIsICJzdWJqZWN0IiwgIm1wQSIsICJzd2VlcExpbmUiLCAiZGlmZmVyZW5jZSIsICJzZXRQcmVjaXNpb24iLCAiZ2V0R2VvbWV0cnkiLCAidHVyZkxpbmVTdHJpbmciLCAidHVyZk11bHRpTGluZVN0cmluZyIsICJ0dXJmUG9seWdvbiIsICJ0dXJmTXVsdGlQb2x5Z29uIiwgInBvbHkxIiwgInBvbHkyIiwgInBvbHlnb24xIiwgInBvbHlnb24yIiwgImRpZmZlcmVuY2VkIiwgImdldERlcHRoT2ZDb29yZHMiLCAiZmxhdHRlblBvbHlsaW5lIiwgInBvbHlsaW5lIiwgImRlcHRoIiwgImdyb3VwVG9NdWx0aUxpbmVTdHJpbmciLCAiYWxsIiwgIl9sYXRsbmdJbmZvcyIsICJsaW5lSW50ZXIiLCAibmV3TGF5ZXIiLCAiaW5mbyIsICJwYXJlbnRQYXRoIiwgIm5ld0luZGV4IiwgInJlc3VsdExheWVyIiwgInJlc3VsdGluZ0xheWVyIiwgIl9sYXllciIsICJpZHgiLCAiZmciLCAibGluZURpZmYiLCAibGF5IiwgImNzc0NsYXNzZXMiLCAidGV4dEFyZWFJY29uIiwgImZvY3VzQWZ0ZXJEcmF3IiwgInRleHRBcmVhIiwgIkRyYWdNaXhpbiIsICJmcm9tTGF5ZXJTeW5jIiwgImxheWVyc1RvU3luY0ZvdW5kIiwgIl9lZGl0YWJsZU9wdGlvbiIsICJlbCIsICJkZWx0YUxhdExuZyIsICJtb3ZlQ29vcmRzIiwgImN1cnJlbnRMYXRMbmciLCAibmV3TGF0bG5nIiwgIm5ld0Nvb3JkcyIsICJjb29yZHNSZWZlcm5jZSIsICJmbmMiLCAibGF5ZXJzVG9TeW5jIiwgImxnIiwgIkRyYWdnaW5nX2RlZmF1bHQiLCAiX2NvbnZlcnRMYXRMbmciLCAibWF0cml4IiwgInpvb20iLCAiX2NvbnZlcnRMYXRMbmdzIiwgIl90b1BvaW50IiwgIl90b0xhdExuZyIsICJSb3RhdGVNaXhpbiIsICJhbmdsZURpZmZSYWRpYW50IiwgInRoYXQiLCAiZm9yRWFjaExhdExuZyIsICJfbGF0bG5nIiwgInJhZGlhbnQiLCAiX21hdHJpeCIsICJvcmlnaW5Qb2ludCIsICJvbGRBbmdsZSIsICJyYWRzIiwgIm5ld0FubGdlIiwgIlJvdGF0aW5nX2RlZmF1bHQiLCAiRWRpdCIsICJ2YWxpZGF0aW9uRm5jIiwgIkxfUE1fRWRpdF9kZWZhdWx0IiwgImxheWVyR3JvdXAiLCAiYWRkVGhyb3R0bGUiLCAiX2luaXRMYXllcnMiLCAicmVtb3ZlVGhyb3R0bGUiLCAiX2xheWVySWRzIiwgImRlZXAiLCAiZmlsdGVyR2VvbWFuIiwgImZpbHRlckdyb3Vwc091dCIsICJNYXJrZXJMaW1pdHMiLCAiYWxsTWFya2VycyIsICJtYXJrZXJDYWNoZUluZGV4IiwgIm1hcmtlcnNUb0FkZCIsICJsaW1pdCIsICJkaXN0YW5jZUEiLCAiZGlzdGFuY2VCIiwgIk1hcmtlckxpbWl0c19kZWZhdWx0IiwgImhhbmRsZVJpbmciLCAiY29vcmRzQXJyIiwgInJpbmdBcnIiLCAibGVmdE0iLCAicmlnaHRNIiwgIm1pZGRsZU1hcmtlciIsICJtaWRkbGVJY29uIiwgImljb24iLCAibmV3TSIsICJjb29yZHNSaW5nIiwgImZsYXNoIiwgImRpc2FibGVkIiwgImxheWVyUmVtb3ZlZCIsICJyaWdodE1hcmtlckluZGV4IiwgImxlZnRNYXJrZXJJbmRleCIsICJuZXh0TWFya2VySW5kZXgiLCAicHJldk1hcmtlckluZGV4IiwgInByZXZNYXJrZXIiLCAibmV4dE1hcmtlciIsICJwcmV2TGluZSIsICJuZXh0TGluZSIsICJwcmV2TGluZUludGVyc2VjdGlvbkxlbiIsICJuZXh0TGluZUludGVyc2VjdGlvbkxlbiIsICJtYXJrZXJMYXRMbmciLCAicHJldk1hcmtlckxhdExuZyIsICJuZXh0TWFya2VyTGF0TG5nIiwgIm1pZGRsZU1hcmtlck5leHRMYXRMbmciLCAibWlkZGxlTWFya2VyUHJldkxhdExuZyIsICJ2ZXJ0ZXgiLCAiZHJhZ2dlZE1hcmtlciIsICJtb3ZlZE1hcmtlciIsICJtYXJrZXJMYXRMbmdzIiwgIm91dGVyIiwgIm1hcmtlckEiLCAibWFya2VyQiIsICJjcnNTaW1wbGUiLCAibm9ydGh3ZXN0IiwgIm5vcnRoZWFzdCIsICJzb3V0aGVhc3QiLCAic291dGh3ZXN0IiwgImZvY3VzZWRFbGVtZW50IiwgImhlaWdodCIsICJ3aWR0aCIsICJmb2N1c0FscmVhZHlTZXQiLCAiZW5hYmxlIiwgIk1hdHJpeCIsICJ0cmFuc2xhdGUiLCAidHJhbnNsYXRlWCIsICJ0cmFuc2xhdGVZIiwgInNjYWxlIiwgInNjYWxlWCIsICJzY2FsZVkiLCAiY29zIiwgInNpbiIsICJzcmMiLCAidmFsIiwgIk1hdHJpeF9kZWZhdWx0IiwgIlV0aWxzIiwgImxhdGxuZzEiLCAibGF0bG5nMiIsICJjaXJjbGUiLCAicHJvcGFnYXRlIiwgImdyb3VwcyIsICJncm91cElkcyIsICJsb29wVGhyb3VnaFBhcmVudHMiLCAiX2lkIiwgImV4YWN0IiwgInJ1biIsICJpUmVzIiwgInJldHVyblZhbCIsICJpbmRleEEiLCAiaW5kZXhCIiwgInRoZXRhIiwgIngwIiwgInkwIiwgInAwIiwgInAzIiwgInJhZGl1c0luUHgiLCAiTF9QTV9VdGlsc19kZWZhdWx0IiwgImluaXRNYXAiLCAiaW5pdExheWVyR3JvdXAiLCAiaW5pdE1hcmtlciIsICJpbml0Q2lyY2xlTWFya2VyIiwgImluaXRQb2x5bGluZSIsICJpbml0UG9seWdvbiIsICJpbml0UmVjdGFuZ2xlIiwgImluaXRDaXJjbGUiLCAiaW5pdEltYWdlT3ZlcmxheSIsICJjbGlja2VkTGF5ZXIiLCAic2VsZiIsICJtYXAiLCAic3RhdGUiXQp9Cg==
